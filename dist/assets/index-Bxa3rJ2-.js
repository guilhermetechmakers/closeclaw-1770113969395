var lC=e=>{throw TypeError(e)};var Mb=(e,t,r)=>t.has(e)||lC("Cannot "+r);var U=(e,t,r)=>(Mb(e,t,"read from private field"),r?r.call(e):t.get(e)),ze=(e,t,r)=>t.has(e)?lC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ke=(e,t,r,n)=>(Mb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),st=(e,t,r)=>(Mb(e,t,"access private method"),r);var yp=(e,t,r,n)=>({set _(s){ke(e,t,s,r)},get _(){return U(e,t,n)}});function iq(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iM={exports:{}},Ly={},oM={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm=Symbol.for("react.element"),oq=Symbol.for("react.portal"),lq=Symbol.for("react.fragment"),cq=Symbol.for("react.strict_mode"),uq=Symbol.for("react.profiler"),dq=Symbol.for("react.provider"),fq=Symbol.for("react.context"),hq=Symbol.for("react.forward_ref"),mq=Symbol.for("react.suspense"),pq=Symbol.for("react.memo"),gq=Symbol.for("react.lazy"),cC=Symbol.iterator;function vq(e){return e===null||typeof e!="object"?null:(e=cC&&e[cC]||e["@@iterator"],typeof e=="function"?e:null)}var lM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cM=Object.assign,uM={};function Rd(e,t,r){this.props=e,this.context=t,this.refs=uM,this.updater=r||lM}Rd.prototype.isReactComponent={};Rd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dM(){}dM.prototype=Rd.prototype;function F1(e,t,r){this.props=e,this.context=t,this.refs=uM,this.updater=r||lM}var U1=F1.prototype=new dM;U1.constructor=F1;cM(U1,Rd.prototype);U1.isPureReactComponent=!0;var uC=Array.isArray,fM=Object.prototype.hasOwnProperty,B1={current:null},hM={key:!0,ref:!0,__self:!0,__source:!0};function mM(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)fM.call(t,n)&&!hM.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Wm,type:e,key:i,ref:o,props:s,_owner:B1.current}}function yq(e,t){return{$$typeof:Wm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function q1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wm}function xq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dC=/\/+/g;function $b(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xq(""+e.key):t.toString(36)}function yg(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Wm:case oq:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+$b(o,0):n,uC(s)?(r="",e!=null&&(r=e.replace(dC,"$&/")+"/"),yg(s,t,r,"",function(u){return u})):s!=null&&(q1(s)&&(s=yq(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dC,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",uC(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+$b(i,l);o+=yg(i,t,r,c,s)}else if(c=vq(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+$b(i,l++),o+=yg(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bp(e,t,r){if(e==null)return e;var n=[],s=0;return yg(e,n,"","",function(i){return t.call(r,i,s++)}),n}function bq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kn={current:null},xg={transition:null},wq={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:xg,ReactCurrentOwner:B1};function pM(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:bp,forEach:function(e,t,r){bp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bp(e,function(){t++}),t},toArray:function(e){return bp(e,function(t){return t})||[]},only:function(e){if(!q1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=Rd;gt.Fragment=lq;gt.Profiler=uq;gt.PureComponent=F1;gt.StrictMode=cq;gt.Suspense=mq;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wq;gt.act=pM;gt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=cM({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=B1.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)fM.call(t,c)&&!hM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Wm,type:e.type,key:s,ref:i,props:n,_owner:o}};gt.createContext=function(e){return e={$$typeof:fq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dq,_context:e},e.Consumer=e};gt.createElement=mM;gt.createFactory=function(e){var t=mM.bind(null,e);return t.type=e,t};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:hq,render:e}};gt.isValidElement=q1;gt.lazy=function(e){return{$$typeof:gq,_payload:{_status:-1,_result:e},_init:bq}};gt.memo=function(e,t){return{$$typeof:pq,type:e,compare:t===void 0?null:t}};gt.startTransition=function(e){var t=xg.transition;xg.transition={};try{e()}finally{xg.transition=t}};gt.unstable_act=pM;gt.useCallback=function(e,t){return kn.current.useCallback(e,t)};gt.useContext=function(e){return kn.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return kn.current.useDeferredValue(e)};gt.useEffect=function(e,t){return kn.current.useEffect(e,t)};gt.useId=function(){return kn.current.useId()};gt.useImperativeHandle=function(e,t,r){return kn.current.useImperativeHandle(e,t,r)};gt.useInsertionEffect=function(e,t){return kn.current.useInsertionEffect(e,t)};gt.useLayoutEffect=function(e,t){return kn.current.useLayoutEffect(e,t)};gt.useMemo=function(e,t){return kn.current.useMemo(e,t)};gt.useReducer=function(e,t,r){return kn.current.useReducer(e,t,r)};gt.useRef=function(e){return kn.current.useRef(e)};gt.useState=function(e){return kn.current.useState(e)};gt.useSyncExternalStore=function(e,t,r){return kn.current.useSyncExternalStore(e,t,r)};gt.useTransition=function(){return kn.current.useTransition()};gt.version="18.3.1";oM.exports=gt;var x=oM.exports;const P=qt(x),Fy=iq({__proto__:null,default:P},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jq=x,_q=Symbol.for("react.element"),Sq=Symbol.for("react.fragment"),Nq=Object.prototype.hasOwnProperty,kq=jq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cq={key:!0,ref:!0,__self:!0,__source:!0};function gM(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Nq.call(t,n)&&!Cq.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:_q,type:e,key:i,ref:o,props:s,_owner:kq.current}}Ly.Fragment=Sq;Ly.jsx=gM;Ly.jsxs=gM;iM.exports=Ly;var a=iM.exports,b0={},vM={exports:{}},fs={},yM={exports:{}},xM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,$){var M=D.length;D.push($);e:for(;0<M;){var te=M-1>>>1,Q=D[te];if(0<s(Q,$))D[te]=$,D[M]=Q,M=te;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var $=D[0],M=D.pop();if(M!==$){D[0]=M;e:for(var te=0,Q=D.length,le=Q>>>1;te<le;){var me=2*(te+1)-1,We=D[me],Ve=me+1,ce=D[Ve];if(0>s(We,M))Ve<Q&&0>s(ce,We)?(D[te]=ce,D[Ve]=M,te=Ve):(D[te]=We,D[me]=M,te=me);else if(Ve<Q&&0>s(ce,M))D[te]=ce,D[Ve]=M,te=Ve;else break e}}return $}function s(D,$){var M=D.sortIndex-$.sortIndex;return M!==0?M:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=D)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function S(D){if(p=!1,w(D),!g)if(r(c)!==null)g=!0,R(j);else{var $=r(u);$!==null&&V(S,$.startTime-D)}}function j(D,$){g=!1,p&&(p=!1,b(k),k=-1),m=!0;var M=h;try{for(w($),f=r(c);f!==null&&(!(f.expirationTime>$)||D&&!I());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var Q=te(f.expirationTime<=$);$=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(c)&&n(c),w($)}else n(c);f=r(c)}if(f!==null)var le=!0;else{var me=r(u);me!==null&&V(S,me.startTime-$),le=!1}return le}finally{f=null,h=M,m=!1}}var _=!1,N=null,k=-1,C=5,A=-1;function I(){return!(e.unstable_now()-A<C)}function O(){if(N!==null){var D=e.unstable_now();A=D;var $=!0;try{$=N(!0,D)}finally{$?B():(_=!1,N=null)}}else _=!1}var B;if(typeof v=="function")B=function(){v(O)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,z=T.port2;T.port1.onmessage=O,B=function(){z.postMessage(null)}}else B=function(){y(O,0)};function R(D){N=D,_||(_=!0,B())}function V(D,$){k=y(function(){D(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,R(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var M=h;h=$;try{return D()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var M=h;h=D;try{return $()}finally{h=M}},e.unstable_scheduleCallback=function(D,$,M){var te=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?te+M:te):M=te,D){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=M+Q,D={id:d++,callback:$,priorityLevel:D,startTime:M,expirationTime:Q,sortIndex:-1},M>te?(D.sortIndex=M,t(u,D),r(c)===null&&D===r(u)&&(p?(b(k),k=-1):p=!0,V(S,M-te))):(D.sortIndex=Q,t(c,D),g||m||(g=!0,R(j))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var $=h;return function(){var M=h;h=$;try{return D.apply(this,arguments)}finally{h=M}}}})(xM);yM.exports=xM;var Eq=yM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oq=x,cs=Eq;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bM=new Set,bh={};function jc(e,t){Vu(e,t),Vu(e+"Capture",t)}function Vu(e,t){for(bh[e]=t,e=0;e<t.length;e++)bM.add(t[e])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w0=Object.prototype.hasOwnProperty,Pq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fC={},hC={};function Aq(e){return w0.call(hC,e)?!0:w0.call(fC,e)?!1:Pq.test(e)?hC[e]=!0:(fC[e]=!0,!1)}function Tq(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rq(e,t,r,n){if(t===null||typeof t>"u"||Tq(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cn(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sn[e]=new Cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sn[t]=new Cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sn[e]=new Cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sn[e]=new Cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sn[e]=new Cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sn[e]=new Cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sn[e]=new Cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sn[e]=new Cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sn[e]=new Cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var z1=/[\-:]([a-z])/g;function W1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z1,W1);sn[t]=new Cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z1,W1);sn[t]=new Cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z1,W1);sn[t]=new Cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sn[e]=new Cn(e,1,!1,e.toLowerCase(),null,!1,!1)});sn.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sn[e]=new Cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function V1(e,t,r,n){var s=sn.hasOwnProperty(t)?sn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rq(t,r,s,n)&&(r=null),n||s===null?Aq(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zi=Oq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wp=Symbol.for("react.element"),nu=Symbol.for("react.portal"),su=Symbol.for("react.fragment"),K1=Symbol.for("react.strict_mode"),j0=Symbol.for("react.profiler"),wM=Symbol.for("react.provider"),jM=Symbol.for("react.context"),H1=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),S0=Symbol.for("react.suspense_list"),G1=Symbol.for("react.memo"),uo=Symbol.for("react.lazy"),_M=Symbol.for("react.offscreen"),mC=Symbol.iterator;function hf(e){return e===null||typeof e!="object"?null:(e=mC&&e[mC]||e["@@iterator"],typeof e=="function"?e:null)}var hr=Object.assign,Ib;function qf(e){if(Ib===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ib=t&&t[1]||""}return`
`+Ib+e}var Db=!1;function Lb(e,t){if(!e||Db)return"";Db=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Db=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?qf(e):""}function Mq(e){switch(e.tag){case 5:return qf(e.type);case 16:return qf("Lazy");case 13:return qf("Suspense");case 19:return qf("SuspenseList");case 0:case 2:case 15:return e=Lb(e.type,!1),e;case 11:return e=Lb(e.type.render,!1),e;case 1:return e=Lb(e.type,!0),e;default:return""}}function N0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case su:return"Fragment";case nu:return"Portal";case j0:return"Profiler";case K1:return"StrictMode";case _0:return"Suspense";case S0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jM:return(e.displayName||"Context")+".Consumer";case wM:return(e._context.displayName||"Context")+".Provider";case H1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G1:return t=e.displayName||null,t!==null?t:N0(e.type)||"Memo";case uo:t=e._payload,e=e._init;try{return N0(e(t))}catch{}}return null}function $q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N0(t);case 8:return t===K1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function SM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Iq(e){var t=SM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jp(e){e._valueTracker||(e._valueTracker=Iq(e))}function NM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=SM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ig(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function k0(e,t){var r=t.checked;return hr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function pC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kM(e,t){t=t.checked,t!=null&&V1(e,"checked",t,!1)}function C0(e,t){kM(e,t);var r=Xo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?E0(e,t.type,r):t.hasOwnProperty("defaultValue")&&E0(e,t.type,Xo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function E0(e,t,r){(t!=="number"||Ig(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zf=Array.isArray;function xu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xo(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function O0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return hr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(zf(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xo(r)}}function CM(e,t){var r=Xo(t.value),n=Xo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function EM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?EM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _p,OM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_p=_p||document.createElement("div"),_p.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_p.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var eh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dq=["Webkit","ms","Moz","O"];Object.keys(eh).forEach(function(e){Dq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eh[t]=eh[e]})});function PM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||eh.hasOwnProperty(e)&&eh[e]?(""+t).trim():t+"px"}function AM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=PM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Lq=hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A0(e,t){if(t){if(Lq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function T0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R0=null;function Y1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var M0=null,bu=null,wu=null;function xC(e){if(e=Hm(e)){if(typeof M0!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Wy(t),M0(e.stateNode,e.type,t))}}function TM(e){bu?wu?wu.push(e):wu=[e]:bu=e}function RM(){if(bu){var e=bu,t=wu;if(wu=bu=null,xC(e),t)for(e=0;e<t.length;e++)xC(t[e])}}function MM(e,t){return e(t)}function $M(){}var Fb=!1;function IM(e,t,r){if(Fb)return e(t,r);Fb=!0;try{return MM(e,t,r)}finally{Fb=!1,(bu!==null||wu!==null)&&($M(),RM())}}function jh(e,t){var r=e.stateNode;if(r===null)return null;var n=Wy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var $0=!1;if(Pi)try{var mf={};Object.defineProperty(mf,"passive",{get:function(){$0=!0}}),window.addEventListener("test",mf,mf),window.removeEventListener("test",mf,mf)}catch{$0=!1}function Fq(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var th=!1,Dg=null,Lg=!1,I0=null,Uq={onError:function(e){th=!0,Dg=e}};function Bq(e,t,r,n,s,i,o,l,c){th=!1,Dg=null,Fq.apply(Uq,arguments)}function qq(e,t,r,n,s,i,o,l,c){if(Bq.apply(this,arguments),th){if(th){var u=Dg;th=!1,Dg=null}else throw Error(fe(198));Lg||(Lg=!0,I0=u)}}function _c(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function DM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bC(e){if(_c(e)!==e)throw Error(fe(188))}function zq(e){var t=e.alternate;if(!t){if(t=_c(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return bC(s),e;if(i===n)return bC(s),t;i=i.sibling}throw Error(fe(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function LM(e){return e=zq(e),e!==null?FM(e):null}function FM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=FM(e);if(t!==null)return t;e=e.sibling}return null}var UM=cs.unstable_scheduleCallback,wC=cs.unstable_cancelCallback,Wq=cs.unstable_shouldYield,Vq=cs.unstable_requestPaint,yr=cs.unstable_now,Kq=cs.unstable_getCurrentPriorityLevel,Q1=cs.unstable_ImmediatePriority,BM=cs.unstable_UserBlockingPriority,Fg=cs.unstable_NormalPriority,Hq=cs.unstable_LowPriority,qM=cs.unstable_IdlePriority,Uy=null,Ua=null;function Gq(e){if(Ua&&typeof Ua.onCommitFiberRoot=="function")try{Ua.onCommitFiberRoot(Uy,e,void 0,(e.current.flags&128)===128)}catch{}}var da=Math.clz32?Math.clz32:Xq,Yq=Math.log,Qq=Math.LN2;function Xq(e){return e>>>=0,e===0?32:31-(Yq(e)/Qq|0)|0}var Sp=64,Np=4194304;function Wf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ug(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Wf(l):(i&=o,i!==0&&(n=Wf(i)))}else o=r&~s,o!==0?n=Wf(o):i!==0&&(n=Wf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-da(t),s=1<<r,n|=e[r],t&=~s;return n}function Jq(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zq(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-da(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Jq(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function D0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zM(){var e=Sp;return Sp<<=1,!(Sp&4194240)&&(Sp=64),e}function Ub(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-da(t),e[t]=r}function e8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-da(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function X1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-da(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var It=0;function WM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var VM,J1,KM,HM,GM,L0=!1,kp=[],Do=null,Lo=null,Fo=null,_h=new Map,Sh=new Map,go=[],t8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jC(e,t){switch(e){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Fo=null;break;case"pointerover":case"pointerout":_h.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sh.delete(t.pointerId)}}function pf(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Hm(t),t!==null&&J1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function r8(e,t,r,n,s){switch(t){case"focusin":return Do=pf(Do,e,t,r,n,s),!0;case"dragenter":return Lo=pf(Lo,e,t,r,n,s),!0;case"mouseover":return Fo=pf(Fo,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return _h.set(i,pf(_h.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Sh.set(i,pf(Sh.get(i)||null,e,t,r,n,s)),!0}return!1}function YM(e){var t=Pl(e.target);if(t!==null){var r=_c(t);if(r!==null){if(t=r.tag,t===13){if(t=DM(r),t!==null){e.blockedOn=t,GM(e.priority,function(){KM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=F0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);R0=n,r.target.dispatchEvent(n),R0=null}else return t=Hm(r),t!==null&&J1(t),e.blockedOn=r,!1;t.shift()}return!0}function _C(e,t,r){bg(e)&&r.delete(t)}function n8(){L0=!1,Do!==null&&bg(Do)&&(Do=null),Lo!==null&&bg(Lo)&&(Lo=null),Fo!==null&&bg(Fo)&&(Fo=null),_h.forEach(_C),Sh.forEach(_C)}function gf(e,t){e.blockedOn===t&&(e.blockedOn=null,L0||(L0=!0,cs.unstable_scheduleCallback(cs.unstable_NormalPriority,n8)))}function Nh(e){function t(s){return gf(s,e)}if(0<kp.length){gf(kp[0],e);for(var r=1;r<kp.length;r++){var n=kp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Do!==null&&gf(Do,e),Lo!==null&&gf(Lo,e),Fo!==null&&gf(Fo,e),_h.forEach(t),Sh.forEach(t),r=0;r<go.length;r++)n=go[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<go.length&&(r=go[0],r.blockedOn===null);)YM(r),r.blockedOn===null&&go.shift()}var ju=zi.ReactCurrentBatchConfig,Bg=!0;function s8(e,t,r,n){var s=It,i=ju.transition;ju.transition=null;try{It=1,Z1(e,t,r,n)}finally{It=s,ju.transition=i}}function a8(e,t,r,n){var s=It,i=ju.transition;ju.transition=null;try{It=4,Z1(e,t,r,n)}finally{It=s,ju.transition=i}}function Z1(e,t,r,n){if(Bg){var s=F0(e,t,r,n);if(s===null)Qb(e,t,n,qg,r),jC(e,n);else if(r8(s,e,t,r,n))n.stopPropagation();else if(jC(e,n),t&4&&-1<t8.indexOf(e)){for(;s!==null;){var i=Hm(s);if(i!==null&&VM(i),i=F0(e,t,r,n),i===null&&Qb(e,t,n,qg,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Qb(e,t,n,null,r)}}var qg=null;function F0(e,t,r,n){if(qg=null,e=Y1(n),e=Pl(e),e!==null)if(t=_c(e),t===null)e=null;else if(r=t.tag,r===13){if(e=DM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qg=e,null}function QM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kq()){case Q1:return 1;case BM:return 4;case Fg:case Hq:return 16;case qM:return 536870912;default:return 16}default:return 16}}var Ao=null,eS=null,wg=null;function XM(){if(wg)return wg;var e,t=eS,r=t.length,n,s="value"in Ao?Ao.value:Ao.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return wg=s.slice(e,1<n?1-n:void 0)}function jg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cp(){return!0}function SC(){return!1}function hs(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cp:SC,this.isPropagationStopped=SC,this}return hr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cp)},persist:function(){},isPersistent:Cp}),t}var Md={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tS=hs(Md),Km=hr({},Md,{view:0,detail:0}),i8=hs(Km),Bb,qb,vf,By=hr({},Km,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vf&&(vf&&e.type==="mousemove"?(Bb=e.screenX-vf.screenX,qb=e.screenY-vf.screenY):qb=Bb=0,vf=e),Bb)},movementY:function(e){return"movementY"in e?e.movementY:qb}}),NC=hs(By),o8=hr({},By,{dataTransfer:0}),l8=hs(o8),c8=hr({},Km,{relatedTarget:0}),zb=hs(c8),u8=hr({},Md,{animationName:0,elapsedTime:0,pseudoElement:0}),d8=hs(u8),f8=hr({},Md,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h8=hs(f8),m8=hr({},Md,{data:0}),kC=hs(m8),p8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=v8[e])?!!t[e]:!1}function rS(){return y8}var x8=hr({},Km,{key:function(e){if(e.key){var t=p8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?g8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rS,charCode:function(e){return e.type==="keypress"?jg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),b8=hs(x8),w8=hr({},By,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CC=hs(w8),j8=hr({},Km,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rS}),_8=hs(j8),S8=hr({},Md,{propertyName:0,elapsedTime:0,pseudoElement:0}),N8=hs(S8),k8=hr({},By,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C8=hs(k8),E8=[9,13,27,32],nS=Pi&&"CompositionEvent"in window,rh=null;Pi&&"documentMode"in document&&(rh=document.documentMode);var O8=Pi&&"TextEvent"in window&&!rh,JM=Pi&&(!nS||rh&&8<rh&&11>=rh),EC=" ",OC=!1;function ZM(e,t){switch(e){case"keyup":return E8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var au=!1;function P8(e,t){switch(e){case"compositionend":return e$(t);case"keypress":return t.which!==32?null:(OC=!0,EC);case"textInput":return e=t.data,e===EC&&OC?null:e;default:return null}}function A8(e,t){if(au)return e==="compositionend"||!nS&&ZM(e,t)?(e=XM(),wg=eS=Ao=null,au=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return JM&&t.locale!=="ko"?null:t.data;default:return null}}var T8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!T8[e.type]:t==="textarea"}function t$(e,t,r,n){TM(n),t=zg(t,"onChange"),0<t.length&&(r=new tS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var nh=null,kh=null;function R8(e){f$(e,0)}function qy(e){var t=lu(e);if(NM(t))return e}function M8(e,t){if(e==="change")return t}var r$=!1;if(Pi){var Wb;if(Pi){var Vb="oninput"in document;if(!Vb){var AC=document.createElement("div");AC.setAttribute("oninput","return;"),Vb=typeof AC.oninput=="function"}Wb=Vb}else Wb=!1;r$=Wb&&(!document.documentMode||9<document.documentMode)}function TC(){nh&&(nh.detachEvent("onpropertychange",n$),kh=nh=null)}function n$(e){if(e.propertyName==="value"&&qy(kh)){var t=[];t$(t,kh,e,Y1(e)),IM(R8,t)}}function $8(e,t,r){e==="focusin"?(TC(),nh=t,kh=r,nh.attachEvent("onpropertychange",n$)):e==="focusout"&&TC()}function I8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qy(kh)}function D8(e,t){if(e==="click")return qy(t)}function L8(e,t){if(e==="input"||e==="change")return qy(t)}function F8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var va=typeof Object.is=="function"?Object.is:F8;function Ch(e,t){if(va(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!w0.call(t,s)||!va(e[s],t[s]))return!1}return!0}function RC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function MC(e,t){var r=RC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=RC(r)}}function s$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?s$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function a$(){for(var e=window,t=Ig();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ig(e.document)}return t}function sS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function U8(e){var t=a$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&s$(r.ownerDocument.documentElement,r)){if(n!==null&&sS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=MC(r,i);var o=MC(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B8=Pi&&"documentMode"in document&&11>=document.documentMode,iu=null,U0=null,sh=null,B0=!1;function $C(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;B0||iu==null||iu!==Ig(n)||(n=iu,"selectionStart"in n&&sS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sh&&Ch(sh,n)||(sh=n,n=zg(U0,"onSelect"),0<n.length&&(t=new tS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=iu)))}function Ep(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ou={animationend:Ep("Animation","AnimationEnd"),animationiteration:Ep("Animation","AnimationIteration"),animationstart:Ep("Animation","AnimationStart"),transitionend:Ep("Transition","TransitionEnd")},Kb={},i$={};Pi&&(i$=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function zy(e){if(Kb[e])return Kb[e];if(!ou[e])return e;var t=ou[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in i$)return Kb[e]=t[r];return e}var o$=zy("animationend"),l$=zy("animationiteration"),c$=zy("animationstart"),u$=zy("transitionend"),d$=new Map,IC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nl(e,t){d$.set(e,t),jc(t,[e])}for(var Hb=0;Hb<IC.length;Hb++){var Gb=IC[Hb],q8=Gb.toLowerCase(),z8=Gb[0].toUpperCase()+Gb.slice(1);nl(q8,"on"+z8)}nl(o$,"onAnimationEnd");nl(l$,"onAnimationIteration");nl(c$,"onAnimationStart");nl("dblclick","onDoubleClick");nl("focusin","onFocus");nl("focusout","onBlur");nl(u$,"onTransitionEnd");Vu("onMouseEnter",["mouseout","mouseover"]);Vu("onMouseLeave",["mouseout","mouseover"]);Vu("onPointerEnter",["pointerout","pointerover"]);Vu("onPointerLeave",["pointerout","pointerover"]);jc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jc("onBeforeInput",["compositionend","keypress","textInput","paste"]);jc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vf));function DC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qq(n,t,void 0,e),e.currentTarget=null}function f$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;DC(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;DC(s,l,u),i=c}}}if(Lg)throw e=I0,Lg=!1,I0=null,e}function Zt(e,t){var r=t[K0];r===void 0&&(r=t[K0]=new Set);var n=e+"__bubble";r.has(n)||(h$(t,e,2,!1),r.add(n))}function Yb(e,t,r){var n=0;t&&(n|=4),h$(r,e,n,t)}var Op="_reactListening"+Math.random().toString(36).slice(2);function Eh(e){if(!e[Op]){e[Op]=!0,bM.forEach(function(r){r!=="selectionchange"&&(W8.has(r)||Yb(r,!1,e),Yb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Op]||(t[Op]=!0,Yb("selectionchange",!1,t))}}function h$(e,t,r,n){switch(QM(t)){case 1:var s=s8;break;case 4:s=a8;break;default:s=Z1}r=s.bind(null,t,r,e),s=void 0,!$0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Qb(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Pl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}IM(function(){var u=i,d=Y1(r),f=[];e:{var h=d$.get(e);if(h!==void 0){var m=tS,g=e;switch(e){case"keypress":if(jg(r)===0)break e;case"keydown":case"keyup":m=b8;break;case"focusin":g="focus",m=zb;break;case"focusout":g="blur",m=zb;break;case"beforeblur":case"afterblur":m=zb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=NC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=l8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_8;break;case o$:case l$:case c$:m=d8;break;case u$:m=N8;break;case"scroll":m=i8;break;case"wheel":m=C8;break;case"copy":case"cut":case"paste":m=h8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=CC}var p=(t&4)!==0,y=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var v=u,w;v!==null;){w=v;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,b!==null&&(S=jh(v,b),S!=null&&p.push(Oh(v,S,w)))),y)break;v=v.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==R0&&(g=r.relatedTarget||r.fromElement)&&(Pl(g)||g[Ai]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Pl(g):null,g!==null&&(y=_c(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=NC,S="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=CC,S="onPointerLeave",b="onPointerEnter",v="pointer"),y=m==null?h:lu(m),w=g==null?h:lu(g),h=new p(S,v+"leave",m,r,d),h.target=y,h.relatedTarget=w,S=null,Pl(d)===u&&(p=new p(b,v+"enter",g,r,d),p.target=w,p.relatedTarget=y,S=p),y=S,m&&g)t:{for(p=m,b=g,v=0,w=p;w;w=Ic(w))v++;for(w=0,S=b;S;S=Ic(S))w++;for(;0<v-w;)p=Ic(p),v--;for(;0<w-v;)b=Ic(b),w--;for(;v--;){if(p===b||b!==null&&p===b.alternate)break t;p=Ic(p),b=Ic(b)}p=null}else p=null;m!==null&&LC(f,h,m,p,!1),g!==null&&y!==null&&LC(f,y,g,p,!0)}}e:{if(h=u?lu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=M8;else if(PC(h))if(r$)j=L8;else{j=I8;var _=$8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=D8);if(j&&(j=j(e,u))){t$(f,j,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&E0(h,"number",h.value)}switch(_=u?lu(u):window,e){case"focusin":(PC(_)||_.contentEditable==="true")&&(iu=_,U0=u,sh=null);break;case"focusout":sh=U0=iu=null;break;case"mousedown":B0=!0;break;case"contextmenu":case"mouseup":case"dragend":B0=!1,$C(f,r,d);break;case"selectionchange":if(B8)break;case"keydown":case"keyup":$C(f,r,d)}var N;if(nS)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else au?ZM(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(JM&&r.locale!=="ko"&&(au||k!=="onCompositionStart"?k==="onCompositionEnd"&&au&&(N=XM()):(Ao=d,eS="value"in Ao?Ao.value:Ao.textContent,au=!0)),_=zg(u,k),0<_.length&&(k=new kC(k,e,null,r,d),f.push({event:k,listeners:_}),N?k.data=N:(N=e$(r),N!==null&&(k.data=N)))),(N=O8?P8(e,r):A8(e,r))&&(u=zg(u,"onBeforeInput"),0<u.length&&(d=new kC("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}f$(f,t)})}function Oh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zg(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=jh(e,r),i!=null&&n.unshift(Oh(e,i,s)),i=jh(e,t),i!=null&&n.push(Oh(e,i,s))),e=e.return}return n}function Ic(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function LC(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=jh(r,i),c!=null&&o.unshift(Oh(r,c,l))):s||(c=jh(r,i),c!=null&&o.push(Oh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var V8=/\r\n?/g,K8=/\u0000|\uFFFD/g;function FC(e){return(typeof e=="string"?e:""+e).replace(V8,`
`).replace(K8,"")}function Pp(e,t,r){if(t=FC(t),FC(e)!==t&&r)throw Error(fe(425))}function Wg(){}var q0=null,z0=null;function W0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var V0=typeof setTimeout=="function"?setTimeout:void 0,H8=typeof clearTimeout=="function"?clearTimeout:void 0,UC=typeof Promise=="function"?Promise:void 0,G8=typeof queueMicrotask=="function"?queueMicrotask:typeof UC<"u"?function(e){return UC.resolve(null).then(e).catch(Y8)}:V0;function Y8(e){setTimeout(function(){throw e})}function Xb(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Nh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Nh(t)}function Uo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function BC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $d=Math.random().toString(36).slice(2),Ma="__reactFiber$"+$d,Ph="__reactProps$"+$d,Ai="__reactContainer$"+$d,K0="__reactEvents$"+$d,Q8="__reactListeners$"+$d,X8="__reactHandles$"+$d;function Pl(e){var t=e[Ma];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ai]||r[Ma]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=BC(e);e!==null;){if(r=e[Ma])return r;e=BC(e)}return t}e=r,r=e.parentNode}return null}function Hm(e){return e=e[Ma]||e[Ai],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Wy(e){return e[Ph]||null}var H0=[],cu=-1;function sl(e){return{current:e}}function rr(e){0>cu||(e.current=H0[cu],H0[cu]=null,cu--)}function Qt(e,t){cu++,H0[cu]=e.current,e.current=t}var Jo={},vn=sl(Jo),Bn=sl(!1),tc=Jo;function Ku(e,t){var r=e.type.contextTypes;if(!r)return Jo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qn(e){return e=e.childContextTypes,e!=null}function Vg(){rr(Bn),rr(vn)}function qC(e,t,r){if(vn.current!==Jo)throw Error(fe(168));Qt(vn,t),Qt(Bn,r)}function m$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(fe(108,$q(e)||"Unknown",s));return hr({},r,n)}function Kg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jo,tc=vn.current,Qt(vn,e),Qt(Bn,Bn.current),!0}function zC(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=m$(e,t,tc),n.__reactInternalMemoizedMergedChildContext=e,rr(Bn),rr(vn),Qt(vn,e)):rr(Bn),Qt(Bn,r)}var fi=null,Vy=!1,Jb=!1;function p$(e){fi===null?fi=[e]:fi.push(e)}function J8(e){Vy=!0,p$(e)}function al(){if(!Jb&&fi!==null){Jb=!0;var e=0,t=It;try{var r=fi;for(It=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fi=null,Vy=!1}catch(s){throw fi!==null&&(fi=fi.slice(e+1)),UM(Q1,al),s}finally{It=t,Jb=!1}}return null}var uu=[],du=0,Hg=null,Gg=0,ws=[],js=0,rc=null,vi=1,yi="";function bl(e,t){uu[du++]=Gg,uu[du++]=Hg,Hg=e,Gg=t}function g$(e,t,r){ws[js++]=vi,ws[js++]=yi,ws[js++]=rc,rc=e;var n=vi;e=yi;var s=32-da(n)-1;n&=~(1<<s),r+=1;var i=32-da(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,vi=1<<32-da(t)+s|r<<s|n,yi=i+e}else vi=1<<i|r<<s|n,yi=e}function aS(e){e.return!==null&&(bl(e,1),g$(e,1,0))}function iS(e){for(;e===Hg;)Hg=uu[--du],uu[du]=null,Gg=uu[--du],uu[du]=null;for(;e===rc;)rc=ws[--js],ws[js]=null,yi=ws[--js],ws[js]=null,vi=ws[--js],ws[js]=null}var os=null,as=null,ar=!1,aa=null;function v$(e,t){var r=Ns(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function WC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,os=e,as=Uo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,os=e,as=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=rc!==null?{id:vi,overflow:yi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ns(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,os=e,as=null,!0):!1;default:return!1}}function G0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Y0(e){if(ar){var t=as;if(t){var r=t;if(!WC(e,t)){if(G0(e))throw Error(fe(418));t=Uo(r.nextSibling);var n=os;t&&WC(e,t)?v$(n,r):(e.flags=e.flags&-4097|2,ar=!1,os=e)}}else{if(G0(e))throw Error(fe(418));e.flags=e.flags&-4097|2,ar=!1,os=e}}}function VC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;os=e}function Ap(e){if(e!==os)return!1;if(!ar)return VC(e),ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!W0(e.type,e.memoizedProps)),t&&(t=as)){if(G0(e))throw y$(),Error(fe(418));for(;t;)v$(e,t),t=Uo(t.nextSibling)}if(VC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){as=Uo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}as=null}}else as=os?Uo(e.stateNode.nextSibling):null;return!0}function y$(){for(var e=as;e;)e=Uo(e.nextSibling)}function Hu(){as=os=null,ar=!1}function oS(e){aa===null?aa=[e]:aa.push(e)}var Z8=zi.ReactCurrentBatchConfig;function yf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function Tp(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function KC(e){var t=e._init;return t(e._payload)}function x$(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function s(b,v){return b=Wo(b,v),b.index=0,b.sibling=null,b}function i(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=2,v):w):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,w,S){return v===null||v.tag!==6?(v=aw(w,b.mode,S),v.return=b,v):(v=s(v,w),v.return=b,v)}function c(b,v,w,S){var j=w.type;return j===su?d(b,v,w.props.children,S,w.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===uo&&KC(j)===v.type)?(S=s(v,w.props),S.ref=yf(b,v,w),S.return=b,S):(S=Og(w.type,w.key,w.props,null,b.mode,S),S.ref=yf(b,v,w),S.return=b,S)}function u(b,v,w,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=iw(w,b.mode,S),v.return=b,v):(v=s(v,w.children||[]),v.return=b,v)}function d(b,v,w,S,j){return v===null||v.tag!==7?(v=Xl(w,b.mode,S,j),v.return=b,v):(v=s(v,w),v.return=b,v)}function f(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=aw(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wp:return w=Og(v.type,v.key,v.props,null,b.mode,w),w.ref=yf(b,null,v),w.return=b,w;case nu:return v=iw(v,b.mode,w),v.return=b,v;case uo:var S=v._init;return f(b,S(v._payload),w)}if(zf(v)||hf(v))return v=Xl(v,b.mode,w,null),v.return=b,v;Tp(b,v)}return null}function h(b,v,w,S){var j=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wp:return w.key===j?c(b,v,w,S):null;case nu:return w.key===j?u(b,v,w,S):null;case uo:return j=w._init,h(b,v,j(w._payload),S)}if(zf(w)||hf(w))return j!==null?null:d(b,v,w,S,null);Tp(b,w)}return null}function m(b,v,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(w)||null,l(v,b,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wp:return b=b.get(S.key===null?w:S.key)||null,c(v,b,S,j);case nu:return b=b.get(S.key===null?w:S.key)||null,u(v,b,S,j);case uo:var _=S._init;return m(b,v,w,_(S._payload),j)}if(zf(S)||hf(S))return b=b.get(w)||null,d(v,b,S,j,null);Tp(v,S)}return null}function g(b,v,w,S){for(var j=null,_=null,N=v,k=v=0,C=null;N!==null&&k<w.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var A=h(b,N,w[k],S);if(A===null){N===null&&(N=C);break}e&&N&&A.alternate===null&&t(b,N),v=i(A,v,k),_===null?j=A:_.sibling=A,_=A,N=C}if(k===w.length)return r(b,N),ar&&bl(b,k),j;if(N===null){for(;k<w.length;k++)N=f(b,w[k],S),N!==null&&(v=i(N,v,k),_===null?j=N:_.sibling=N,_=N);return ar&&bl(b,k),j}for(N=n(b,N);k<w.length;k++)C=m(N,b,k,w[k],S),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),v=i(C,v,k),_===null?j=C:_.sibling=C,_=C);return e&&N.forEach(function(I){return t(b,I)}),ar&&bl(b,k),j}function p(b,v,w,S){var j=hf(w);if(typeof j!="function")throw Error(fe(150));if(w=j.call(w),w==null)throw Error(fe(151));for(var _=j=null,N=v,k=v=0,C=null,A=w.next();N!==null&&!A.done;k++,A=w.next()){N.index>k?(C=N,N=null):C=N.sibling;var I=h(b,N,A.value,S);if(I===null){N===null&&(N=C);break}e&&N&&I.alternate===null&&t(b,N),v=i(I,v,k),_===null?j=I:_.sibling=I,_=I,N=C}if(A.done)return r(b,N),ar&&bl(b,k),j;if(N===null){for(;!A.done;k++,A=w.next())A=f(b,A.value,S),A!==null&&(v=i(A,v,k),_===null?j=A:_.sibling=A,_=A);return ar&&bl(b,k),j}for(N=n(b,N);!A.done;k++,A=w.next())A=m(N,b,k,A.value,S),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?k:A.key),v=i(A,v,k),_===null?j=A:_.sibling=A,_=A);return e&&N.forEach(function(O){return t(b,O)}),ar&&bl(b,k),j}function y(b,v,w,S){if(typeof w=="object"&&w!==null&&w.type===su&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case wp:e:{for(var j=w.key,_=v;_!==null;){if(_.key===j){if(j=w.type,j===su){if(_.tag===7){r(b,_.sibling),v=s(_,w.props.children),v.return=b,b=v;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===uo&&KC(j)===_.type){r(b,_.sibling),v=s(_,w.props),v.ref=yf(b,_,w),v.return=b,b=v;break e}r(b,_);break}else t(b,_);_=_.sibling}w.type===su?(v=Xl(w.props.children,b.mode,S,w.key),v.return=b,b=v):(S=Og(w.type,w.key,w.props,null,b.mode,S),S.ref=yf(b,v,w),S.return=b,b=S)}return o(b);case nu:e:{for(_=w.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(b,v.sibling),v=s(v,w.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else t(b,v);v=v.sibling}v=iw(w,b.mode,S),v.return=b,b=v}return o(b);case uo:return _=w._init,y(b,v,_(w._payload),S)}if(zf(w))return g(b,v,w,S);if(hf(w))return p(b,v,w,S);Tp(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(b,v.sibling),v=s(v,w),v.return=b,b=v):(r(b,v),v=aw(w,b.mode,S),v.return=b,b=v),o(b)):r(b,v)}return y}var Gu=x$(!0),b$=x$(!1),Yg=sl(null),Qg=null,fu=null,lS=null;function cS(){lS=fu=Qg=null}function uS(e){var t=Yg.current;rr(Yg),e._currentValue=t}function Q0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function _u(e,t){Qg=e,lS=fu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dn=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(lS!==e)if(e={context:e,memoizedValue:t,next:null},fu===null){if(Qg===null)throw Error(fe(308));fu=e,Qg.dependencies={lanes:0,firstContext:e}}else fu=fu.next=e;return t}var Al=null;function dS(e){Al===null?Al=[e]:Al.push(e)}function w$(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,dS(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ti(e,n)}function Ti(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fo=!1;function fS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _i(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_t&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ti(e,r)}return s=n.interleaved,s===null?(t.next=t,dS(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ti(e,r)}function _g(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,X1(e,r)}}function HC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Xg(e,t,r,n){var s=e.updateQueue;fo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=hr({},f,h);break e;case 2:fo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);sc|=o,e.lanes=o,e.memoizedState=f}}function GC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(fe(191,s));s.call(n)}}}var Gm={},Ba=sl(Gm),Ah=sl(Gm),Th=sl(Gm);function Tl(e){if(e===Gm)throw Error(fe(174));return e}function hS(e,t){switch(Qt(Th,t),Qt(Ah,e),Qt(Ba,Gm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:P0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=P0(t,e)}rr(Ba),Qt(Ba,t)}function Yu(){rr(Ba),rr(Ah),rr(Th)}function _$(e){Tl(Th.current);var t=Tl(Ba.current),r=P0(t,e.type);t!==r&&(Qt(Ah,e),Qt(Ba,r))}function mS(e){Ah.current===e&&(rr(Ba),rr(Ah))}var cr=sl(0);function Jg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zb=[];function pS(){for(var e=0;e<Zb.length;e++)Zb[e]._workInProgressVersionPrimary=null;Zb.length=0}var Sg=zi.ReactCurrentDispatcher,ew=zi.ReactCurrentBatchConfig,nc=0,dr=null,Ir=null,Kr=null,Zg=!1,ah=!1,Rh=0,ez=0;function on(){throw Error(fe(321))}function gS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!va(e[r],t[r]))return!1;return!0}function vS(e,t,r,n,s,i){if(nc=i,dr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sg.current=e===null||e.memoizedState===null?sz:az,e=r(n,s),ah){i=0;do{if(ah=!1,Rh=0,25<=i)throw Error(fe(301));i+=1,Kr=Ir=null,t.updateQueue=null,Sg.current=iz,e=r(n,s)}while(ah)}if(Sg.current=ev,t=Ir!==null&&Ir.next!==null,nc=0,Kr=Ir=dr=null,Zg=!1,t)throw Error(fe(300));return e}function yS(){var e=Rh!==0;return Rh=0,e}function Oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?dr.memoizedState=Kr=e:Kr=Kr.next=e,Kr}function Ms(){if(Ir===null){var e=dr.alternate;e=e!==null?e.memoizedState:null}else e=Ir.next;var t=Kr===null?dr.memoizedState:Kr.next;if(t!==null)Kr=t,Ir=e;else{if(e===null)throw Error(fe(310));Ir=e,e={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},Kr===null?dr.memoizedState=Kr=e:Kr=Kr.next=e}return Kr}function Mh(e,t){return typeof t=="function"?t(e):t}function tw(e){var t=Ms(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=Ir,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((nc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,dr.lanes|=d,sc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,va(n,t.memoizedState)||(Dn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,dr.lanes|=i,sc|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function rw(e){var t=Ms(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);va(i,t.memoizedState)||(Dn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function S$(){}function N$(e,t){var r=dr,n=Ms(),s=t(),i=!va(n.memoizedState,s);if(i&&(n.memoizedState=s,Dn=!0),n=n.queue,xS(E$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Kr!==null&&Kr.memoizedState.tag&1){if(r.flags|=2048,$h(9,C$.bind(null,r,n,s,t),void 0,null),Gr===null)throw Error(fe(349));nc&30||k$(r,t,s)}return s}function k$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=dr.updateQueue,t===null?(t={lastEffect:null,stores:null},dr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function C$(e,t,r,n){t.value=r,t.getSnapshot=n,O$(t)&&P$(e)}function E$(e,t,r){return r(function(){O$(t)&&P$(e)})}function O$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!va(e,r)}catch{return!0}}function P$(e){var t=Ti(e,1);t!==null&&fa(t,e,1,-1)}function YC(e){var t=Oa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mh,lastRenderedState:e},t.queue=e,e=e.dispatch=nz.bind(null,dr,e),[t.memoizedState,e]}function $h(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=dr.updateQueue,t===null?(t={lastEffect:null,stores:null},dr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function A$(){return Ms().memoizedState}function Ng(e,t,r,n){var s=Oa();dr.flags|=e,s.memoizedState=$h(1|t,r,void 0,n===void 0?null:n)}function Ky(e,t,r,n){var s=Ms();n=n===void 0?null:n;var i=void 0;if(Ir!==null){var o=Ir.memoizedState;if(i=o.destroy,n!==null&&gS(n,o.deps)){s.memoizedState=$h(t,r,i,n);return}}dr.flags|=e,s.memoizedState=$h(1|t,r,i,n)}function QC(e,t){return Ng(8390656,8,e,t)}function xS(e,t){return Ky(2048,8,e,t)}function T$(e,t){return Ky(4,2,e,t)}function R$(e,t){return Ky(4,4,e,t)}function M$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $$(e,t,r){return r=r!=null?r.concat([e]):null,Ky(4,4,M$.bind(null,t,e),r)}function bS(){}function I$(e,t){var r=Ms();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function D$(e,t){var r=Ms();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function L$(e,t,r){return nc&21?(va(r,t)||(r=zM(),dr.lanes|=r,sc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dn=!0),e.memoizedState=r)}function tz(e,t){var r=It;It=r!==0&&4>r?r:4,e(!0);var n=ew.transition;ew.transition={};try{e(!1),t()}finally{It=r,ew.transition=n}}function F$(){return Ms().memoizedState}function rz(e,t,r){var n=zo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},U$(e))B$(t,r);else if(r=w$(e,t,r,n),r!==null){var s=Sn();fa(r,e,n,s),q$(r,t,n)}}function nz(e,t,r){var n=zo(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(U$(e))B$(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,va(l,o)){var c=t.interleaved;c===null?(s.next=s,dS(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=w$(e,t,s,n),r!==null&&(s=Sn(),fa(r,e,n,s),q$(r,t,n))}}function U$(e){var t=e.alternate;return e===dr||t!==null&&t===dr}function B$(e,t){ah=Zg=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function q$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,X1(e,r)}}var ev={readContext:Rs,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},sz={readContext:Rs,useCallback:function(e,t){return Oa().memoizedState=[e,t===void 0?null:t],e},useContext:Rs,useEffect:QC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ng(4194308,4,M$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ng(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ng(4,2,e,t)},useMemo:function(e,t){var r=Oa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Oa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rz.bind(null,dr,e),[n.memoizedState,e]},useRef:function(e){var t=Oa();return e={current:e},t.memoizedState=e},useState:YC,useDebugValue:bS,useDeferredValue:function(e){return Oa().memoizedState=e},useTransition:function(){var e=YC(!1),t=e[0];return e=tz.bind(null,e[1]),Oa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=dr,s=Oa();if(ar){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),Gr===null)throw Error(fe(349));nc&30||k$(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,QC(E$.bind(null,n,i,e),[e]),n.flags|=2048,$h(9,C$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Oa(),t=Gr.identifierPrefix;if(ar){var r=yi,n=vi;r=(n&~(1<<32-da(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Rh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ez++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},az={readContext:Rs,useCallback:I$,useContext:Rs,useEffect:xS,useImperativeHandle:$$,useInsertionEffect:T$,useLayoutEffect:R$,useMemo:D$,useReducer:tw,useRef:A$,useState:function(){return tw(Mh)},useDebugValue:bS,useDeferredValue:function(e){var t=Ms();return L$(t,Ir.memoizedState,e)},useTransition:function(){var e=tw(Mh)[0],t=Ms().memoizedState;return[e,t]},useMutableSource:S$,useSyncExternalStore:N$,useId:F$,unstable_isNewReconciler:!1},iz={readContext:Rs,useCallback:I$,useContext:Rs,useEffect:xS,useImperativeHandle:$$,useInsertionEffect:T$,useLayoutEffect:R$,useMemo:D$,useReducer:rw,useRef:A$,useState:function(){return rw(Mh)},useDebugValue:bS,useDeferredValue:function(e){var t=Ms();return Ir===null?t.memoizedState=e:L$(t,Ir.memoizedState,e)},useTransition:function(){var e=rw(Mh)[0],t=Ms().memoizedState;return[e,t]},useMutableSource:S$,useSyncExternalStore:N$,useId:F$,unstable_isNewReconciler:!1};function Js(e,t){if(e&&e.defaultProps){t=hr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function X0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:hr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hy={isMounted:function(e){return(e=e._reactInternals)?_c(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Sn(),s=zo(e),i=_i(n,s);i.payload=t,r!=null&&(i.callback=r),t=Bo(e,i,s),t!==null&&(fa(t,e,s,n),_g(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Sn(),s=zo(e),i=_i(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Bo(e,i,s),t!==null&&(fa(t,e,s,n),_g(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Sn(),n=zo(e),s=_i(r,n);s.tag=2,t!=null&&(s.callback=t),t=Bo(e,s,n),t!==null&&(fa(t,e,n,r),_g(t,e,n))}};function XC(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ch(r,n)||!Ch(s,i):!0}function z$(e,t,r){var n=!1,s=Jo,i=t.contextType;return typeof i=="object"&&i!==null?i=Rs(i):(s=qn(t)?tc:vn.current,n=t.contextTypes,i=(n=n!=null)?Ku(e,s):Jo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function JC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hy.enqueueReplaceState(t,t.state,null)}function J0(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},fS(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Rs(i):(i=qn(t)?tc:vn.current,s.context=Ku(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(X0(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hy.enqueueReplaceState(s,s.state,null),Xg(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qu(e,t){try{var r="",n=t;do r+=Mq(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function nw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Z0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var oz=typeof WeakMap=="function"?WeakMap:Map;function W$(e,t,r){r=_i(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){rv||(rv=!0,cj=n),Z0(e,t)},r}function V$(e,t,r){r=_i(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Z0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Z0(e,t),typeof n!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ZC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new oz;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=wz.bind(null,e,t,r),t.then(e,e))}function e2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function t2(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_i(-1,1),t.tag=2,Bo(r,t,1))),r.lanes|=1),e)}var lz=zi.ReactCurrentOwner,Dn=!1;function wn(e,t,r,n){t.child=e===null?b$(t,null,r,n):Gu(t,e.child,r,n)}function r2(e,t,r,n,s){r=r.render;var i=t.ref;return _u(t,s),n=vS(e,t,r,n,i,s),r=yS(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ri(e,t,s)):(ar&&r&&aS(t),t.flags|=1,wn(e,t,n,s),t.child)}function n2(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ES(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,K$(e,t,i,n,s)):(e=Og(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ch,r(o,n)&&e.ref===t.ref)return Ri(e,t,s)}return t.flags|=1,e=Wo(i,n),e.ref=t.ref,e.return=t,t.child=e}function K$(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ch(i,n)&&e.ref===t.ref)if(Dn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Dn=!0);else return t.lanes=e.lanes,Ri(e,t,s)}return ej(e,t,r,n,s)}function H$(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(mu,Jn),Jn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qt(mu,Jn),Jn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Qt(mu,Jn),Jn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Qt(mu,Jn),Jn|=n;return wn(e,t,s,r),t.child}function G$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ej(e,t,r,n,s){var i=qn(r)?tc:vn.current;return i=Ku(t,i),_u(t,s),r=vS(e,t,r,n,i,s),n=yS(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ri(e,t,s)):(ar&&n&&aS(t),t.flags|=1,wn(e,t,r,s),t.child)}function s2(e,t,r,n,s){if(qn(r)){var i=!0;Kg(t)}else i=!1;if(_u(t,s),t.stateNode===null)kg(e,t),z$(t,r,n),J0(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Rs(u):(u=qn(r)?tc:vn.current,u=Ku(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&JC(t,o,n,u),fo=!1;var h=t.memoizedState;o.state=h,Xg(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Bn.current||fo?(typeof d=="function"&&(X0(t,r,d,n),c=t.memoizedState),(l=fo||XC(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,j$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Js(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Rs(c):(c=qn(r)?tc:vn.current,c=Ku(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&JC(t,o,n,c),fo=!1,h=t.memoizedState,o.state=h,Xg(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||Bn.current||fo?(typeof m=="function"&&(X0(t,r,m,n),g=t.memoizedState),(u=fo||XC(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return tj(e,t,r,n,i,s)}function tj(e,t,r,n,s,i){G$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&zC(t,r,!1),Ri(e,t,i);n=t.stateNode,lz.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Gu(t,e.child,null,i),t.child=Gu(t,null,l,i)):wn(e,t,l,i),t.memoizedState=n.state,s&&zC(t,r,!0),t.child}function Y$(e){var t=e.stateNode;t.pendingContext?qC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qC(e,t.context,!1),hS(e,t.containerInfo)}function a2(e,t,r,n,s){return Hu(),oS(s),t.flags|=256,wn(e,t,r,n),t.child}var rj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q$(e,t,r){var n=t.pendingProps,s=cr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Qt(cr,s&1),e===null)return Y0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Qy(o,n,0,null),e=Xl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=nj(r),t.memoizedState=rj,e):wS(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return cz(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Wo(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Wo(l,i):(i=Xl(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?nj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=rj,n}return i=e.child,e=i.sibling,n=Wo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function wS(e,t){return t=Qy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rp(e,t,r,n){return n!==null&&oS(n),Gu(t,e.child,null,r),e=wS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cz(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=nw(Error(fe(422))),Rp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Qy({mode:"visible",children:n.children},s,0,null),i=Xl(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Gu(t,e.child,null,o),t.child.memoizedState=nj(o),t.memoizedState=rj,i);if(!(t.mode&1))return Rp(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(fe(419)),n=nw(i,n,void 0),Rp(e,t,o,n)}if(l=(o&e.childLanes)!==0,Dn||l){if(n=Gr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ti(e,s),fa(n,e,s,-1))}return CS(),n=nw(Error(fe(421))),Rp(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jz.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,as=Uo(s.nextSibling),os=t,ar=!0,aa=null,e!==null&&(ws[js++]=vi,ws[js++]=yi,ws[js++]=rc,vi=e.id,yi=e.overflow,rc=t),t=wS(t,n.children),t.flags|=4096,t)}function i2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Q0(e.return,t,r)}function sw(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function X$(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(wn(e,t,n.children,r),n=cr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&i2(e,r,t);else if(e.tag===19)i2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qt(cr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Jg(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),sw(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Jg(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}sw(t,!0,r,null,i);break;case"together":sw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ri(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),sc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=Wo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function uz(e,t,r){switch(t.tag){case 3:Y$(t),Hu();break;case 5:_$(t);break;case 1:qn(t.type)&&Kg(t);break;case 4:hS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Qt(Yg,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qt(cr,cr.current&1),t.flags|=128,null):r&t.child.childLanes?Q$(e,t,r):(Qt(cr,cr.current&1),e=Ri(e,t,r),e!==null?e.sibling:null);Qt(cr,cr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return X$(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qt(cr,cr.current),n)break;return null;case 22:case 23:return t.lanes=0,H$(e,t,r)}return Ri(e,t,r)}var J$,sj,Z$,eI;J$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sj=function(){};Z$=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Tl(Ba.current);var i=null;switch(r){case"input":s=k0(e,s),n=k0(e,n),i=[];break;case"select":s=hr({},s,{value:void 0}),n=hr({},n,{value:void 0}),i=[];break;case"textarea":s=O0(e,s),n=O0(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wg)}A0(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Zt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};eI=function(e,t,r,n){r!==n&&(t.flags|=4)};function xf(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ln(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dz(e,t,r){var n=t.pendingProps;switch(iS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(t),null;case 1:return qn(t.type)&&Vg(),ln(t),null;case 3:return n=t.stateNode,Yu(),rr(Bn),rr(vn),pS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ap(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,aa!==null&&(fj(aa),aa=null))),sj(e,t),ln(t),null;case 5:mS(t);var s=Tl(Th.current);if(r=t.type,e!==null&&t.stateNode!=null)Z$(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return ln(t),null}if(e=Tl(Ba.current),Ap(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ma]=t,n[Ph]=i,e=(t.mode&1)!==0,r){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(s=0;s<Vf.length;s++)Zt(Vf[s],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":pC(n,i),Zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Zt("invalid",n);break;case"textarea":vC(n,i),Zt("invalid",n)}A0(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Pp(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Pp(n.textContent,l,e),s=["children",""+l]):bh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Zt("scroll",n)}switch(r){case"input":jp(n),gC(n,i,!0);break;case"textarea":jp(n),yC(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Wg)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=EM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ma]=t,e[Ph]=n,J$(e,t,!1,!1),t.stateNode=e;e:{switch(o=T0(r,n),r){case"dialog":Zt("cancel",e),Zt("close",e),s=n;break;case"iframe":case"object":case"embed":Zt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Vf.length;s++)Zt(Vf[s],e);s=n;break;case"source":Zt("error",e),s=n;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),s=n;break;case"details":Zt("toggle",e),s=n;break;case"input":pC(e,n),s=k0(e,n),Zt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=hr({},n,{value:void 0}),Zt("invalid",e);break;case"textarea":vC(e,n),s=O0(e,n),Zt("invalid",e);break;default:s=n}A0(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?AM(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&OM(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wh(e,c):typeof c=="number"&&wh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Zt("scroll",e):c!=null&&V1(e,i,c,o))}switch(r){case"input":jp(e),gC(e,n,!1);break;case"textarea":jp(e),yC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?xu(e,!!n.multiple,i,!1):n.defaultValue!=null&&xu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ln(t),null;case 6:if(e&&t.stateNode!=null)eI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=Tl(Th.current),Tl(Ba.current),Ap(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ma]=t,(i=n.nodeValue!==r)&&(e=os,e!==null))switch(e.tag){case 3:Pp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pp(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ma]=t,t.stateNode=n}return ln(t),null;case 13:if(rr(cr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ar&&as!==null&&t.mode&1&&!(t.flags&128))y$(),Hu(),t.flags|=98560,i=!1;else if(i=Ap(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(fe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(fe(317));i[Ma]=t}else Hu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ln(t),i=!1}else aa!==null&&(fj(aa),aa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||cr.current&1?Ur===0&&(Ur=3):CS())),t.updateQueue!==null&&(t.flags|=4),ln(t),null);case 4:return Yu(),sj(e,t),e===null&&Eh(t.stateNode.containerInfo),ln(t),null;case 10:return uS(t.type._context),ln(t),null;case 17:return qn(t.type)&&Vg(),ln(t),null;case 19:if(rr(cr),i=t.memoizedState,i===null)return ln(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)xf(i,!1);else{if(Ur!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Jg(e),o!==null){for(t.flags|=128,xf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qt(cr,cr.current&1|2),t.child}e=e.sibling}i.tail!==null&&yr()>Xu&&(t.flags|=128,n=!0,xf(i,!1),t.lanes=4194304)}else{if(!n)if(e=Jg(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),xf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ar)return ln(t),null}else 2*yr()-i.renderingStartTime>Xu&&r!==1073741824&&(t.flags|=128,n=!0,xf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=yr(),t.sibling=null,r=cr.current,Qt(cr,n?r&1|2:r&1),t):(ln(t),null);case 22:case 23:return kS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Jn&1073741824&&(ln(t),t.subtreeFlags&6&&(t.flags|=8192)):ln(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function fz(e,t){switch(iS(t),t.tag){case 1:return qn(t.type)&&Vg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yu(),rr(Bn),rr(vn),pS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mS(t),null;case 13:if(rr(cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));Hu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rr(cr),null;case 4:return Yu(),null;case 10:return uS(t.type._context),null;case 22:case 23:return kS(),null;case 24:return null;default:return null}}var Mp=!1,dn=!1,hz=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function hu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gr(e,t,n)}else r.current=null}function aj(e,t,r){try{r()}catch(n){gr(e,t,n)}}var o2=!1;function mz(e,t){if(q0=Bg,e=a$(),sS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(z0={focusedElem:e,selectionRange:r},Bg=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,y=g.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:Js(t.type,p),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(S){gr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return g=o2,o2=!1,g}function ih(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&aj(t,r,i)}s=s.next}while(s!==n)}}function Gy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ij(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function tI(e){var t=e.alternate;t!==null&&(e.alternate=null,tI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ma],delete t[Ph],delete t[K0],delete t[Q8],delete t[X8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rI(e){return e.tag===5||e.tag===3||e.tag===4}function l2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wg));else if(n!==4&&(e=e.child,e!==null))for(oj(e,t,r),e=e.sibling;e!==null;)oj(e,t,r),e=e.sibling}function lj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(lj(e,t,r),e=e.sibling;e!==null;)lj(e,t,r),e=e.sibling}var en=null,ra=!1;function no(e,t,r){for(r=r.child;r!==null;)nI(e,t,r),r=r.sibling}function nI(e,t,r){if(Ua&&typeof Ua.onCommitFiberUnmount=="function")try{Ua.onCommitFiberUnmount(Uy,r)}catch{}switch(r.tag){case 5:dn||hu(r,t);case 6:var n=en,s=ra;en=null,no(e,t,r),en=n,ra=s,en!==null&&(ra?(e=en,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):en.removeChild(r.stateNode));break;case 18:en!==null&&(ra?(e=en,r=r.stateNode,e.nodeType===8?Xb(e.parentNode,r):e.nodeType===1&&Xb(e,r),Nh(e)):Xb(en,r.stateNode));break;case 4:n=en,s=ra,en=r.stateNode.containerInfo,ra=!0,no(e,t,r),en=n,ra=s;break;case 0:case 11:case 14:case 15:if(!dn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&aj(r,t,o),s=s.next}while(s!==n)}no(e,t,r);break;case 1:if(!dn&&(hu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){gr(r,t,l)}no(e,t,r);break;case 21:no(e,t,r);break;case 22:r.mode&1?(dn=(n=dn)||r.memoizedState!==null,no(e,t,r),dn=n):no(e,t,r);break;default:no(e,t,r)}}function c2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hz),t.forEach(function(n){var s=_z.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ks(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:en=l.stateNode,ra=!1;break e;case 3:en=l.stateNode.containerInfo,ra=!0;break e;case 4:en=l.stateNode.containerInfo,ra=!0;break e}l=l.return}if(en===null)throw Error(fe(160));nI(i,o,s),en=null,ra=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){gr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sI(t,e),t=t.sibling}function sI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ks(t,e),Ea(e),n&4){try{ih(3,e,e.return),Gy(3,e)}catch(p){gr(e,e.return,p)}try{ih(5,e,e.return)}catch(p){gr(e,e.return,p)}}break;case 1:Ks(t,e),Ea(e),n&512&&r!==null&&hu(r,r.return);break;case 5:if(Ks(t,e),Ea(e),n&512&&r!==null&&hu(r,r.return),e.flags&32){var s=e.stateNode;try{wh(s,"")}catch(p){gr(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&kM(s,i),T0(l,o);var u=T0(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?AM(s,f):d==="dangerouslySetInnerHTML"?OM(s,f):d==="children"?wh(s,f):V1(s,d,f,u)}switch(l){case"input":C0(s,i);break;case"textarea":CM(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?xu(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?xu(s,!!i.multiple,i.defaultValue,!0):xu(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ph]=i}catch(p){gr(e,e.return,p)}}break;case 6:if(Ks(t,e),Ea(e),n&4){if(e.stateNode===null)throw Error(fe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){gr(e,e.return,p)}}break;case 3:if(Ks(t,e),Ea(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nh(t.containerInfo)}catch(p){gr(e,e.return,p)}break;case 4:Ks(t,e),Ea(e);break;case 13:Ks(t,e),Ea(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(SS=yr())),n&4&&c2(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(dn=(u=dn)||d,Ks(t,e),dn=u):Ks(t,e),Ea(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Pe=e,d=e.child;d!==null;){for(f=Pe=d;Pe!==null;){switch(h=Pe,m=h.child,h.tag){case 0:case 11:case 14:case 15:ih(4,h,h.return);break;case 1:hu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){gr(n,r,p)}}break;case 5:hu(h,h.return);break;case 22:if(h.memoizedState!==null){d2(f);continue}}m!==null?(m.return=h,Pe=m):d2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=PM("display",o))}catch(p){gr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){gr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ks(t,e),Ea(e),n&4&&c2(e);break;case 21:break;default:Ks(t,e),Ea(e)}}function Ea(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(rI(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(wh(s,""),n.flags&=-33);var i=l2(e);lj(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=l2(e);oj(e,l,o);break;default:throw Error(fe(161))}}catch(c){gr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pz(e,t,r){Pe=e,aI(e)}function aI(e,t,r){for(var n=(e.mode&1)!==0;Pe!==null;){var s=Pe,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Mp;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||dn;l=Mp;var u=dn;if(Mp=o,(dn=c)&&!u)for(Pe=s;Pe!==null;)o=Pe,c=o.child,o.tag===22&&o.memoizedState!==null?f2(s):c!==null?(c.return=o,Pe=c):f2(s);for(;i!==null;)Pe=i,aI(i),i=i.sibling;Pe=s,Mp=l,dn=u}u2(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Pe=i):u2(e)}}function u2(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dn||Gy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!dn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Js(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&GC(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}GC(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Nh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}dn||t.flags&512&&ij(t)}catch(h){gr(t,t.return,h)}}if(t===e){Pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function d2(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function f2(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Gy(4,t)}catch(c){gr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){gr(t,s,c)}}var i=t.return;try{ij(t)}catch(c){gr(t,i,c)}break;case 5:var o=t.return;try{ij(t)}catch(c){gr(t,o,c)}}}catch(c){gr(t,t.return,c)}if(t===e){Pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Pe=l;break}Pe=t.return}}var gz=Math.ceil,tv=zi.ReactCurrentDispatcher,jS=zi.ReactCurrentOwner,Es=zi.ReactCurrentBatchConfig,_t=0,Gr=null,Er=null,nn=0,Jn=0,mu=sl(0),Ur=0,Ih=null,sc=0,Yy=0,_S=0,oh=null,In=null,SS=0,Xu=1/0,ui=null,rv=!1,cj=null,qo=null,$p=!1,To=null,nv=0,lh=0,uj=null,Cg=-1,Eg=0;function Sn(){return _t&6?yr():Cg!==-1?Cg:Cg=yr()}function zo(e){return e.mode&1?_t&2&&nn!==0?nn&-nn:Z8.transition!==null?(Eg===0&&(Eg=zM()),Eg):(e=It,e!==0||(e=window.event,e=e===void 0?16:QM(e.type)),e):1}function fa(e,t,r,n){if(50<lh)throw lh=0,uj=null,Error(fe(185));Vm(e,r,n),(!(_t&2)||e!==Gr)&&(e===Gr&&(!(_t&2)&&(Yy|=r),Ur===4&&vo(e,nn)),zn(e,n),r===1&&_t===0&&!(t.mode&1)&&(Xu=yr()+500,Vy&&al()))}function zn(e,t){var r=e.callbackNode;Zq(e,t);var n=Ug(e,e===Gr?nn:0);if(n===0)r!==null&&wC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&wC(r),t===1)e.tag===0?J8(h2.bind(null,e)):p$(h2.bind(null,e)),G8(function(){!(_t&6)&&al()}),r=null;else{switch(WM(n)){case 1:r=Q1;break;case 4:r=BM;break;case 16:r=Fg;break;case 536870912:r=qM;break;default:r=Fg}r=hI(r,iI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function iI(e,t){if(Cg=-1,Eg=0,_t&6)throw Error(fe(327));var r=e.callbackNode;if(Su()&&e.callbackNode!==r)return null;var n=Ug(e,e===Gr?nn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sv(e,n);else{t=n;var s=_t;_t|=2;var i=lI();(Gr!==e||nn!==t)&&(ui=null,Xu=yr()+500,Ql(e,t));do try{xz();break}catch(l){oI(e,l)}while(!0);cS(),tv.current=i,_t=s,Er!==null?t=0:(Gr=null,nn=0,t=Ur)}if(t!==0){if(t===2&&(s=D0(e),s!==0&&(n=s,t=dj(e,s))),t===1)throw r=Ih,Ql(e,0),vo(e,n),zn(e,yr()),r;if(t===6)vo(e,n);else{if(s=e.current.alternate,!(n&30)&&!vz(s)&&(t=sv(e,n),t===2&&(i=D0(e),i!==0&&(n=i,t=dj(e,i))),t===1))throw r=Ih,Ql(e,0),vo(e,n),zn(e,yr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:wl(e,In,ui);break;case 3:if(vo(e,n),(n&130023424)===n&&(t=SS+500-yr(),10<t)){if(Ug(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Sn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=V0(wl.bind(null,e,In,ui),t);break}wl(e,In,ui);break;case 4:if(vo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-da(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=yr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gz(n/1960))-n,10<n){e.timeoutHandle=V0(wl.bind(null,e,In,ui),n);break}wl(e,In,ui);break;case 5:wl(e,In,ui);break;default:throw Error(fe(329))}}}return zn(e,yr()),e.callbackNode===r?iI.bind(null,e):null}function dj(e,t){var r=oh;return e.current.memoizedState.isDehydrated&&(Ql(e,t).flags|=256),e=sv(e,t),e!==2&&(t=In,In=r,t!==null&&fj(t)),e}function fj(e){In===null?In=e:In.push.apply(In,e)}function vz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!va(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vo(e,t){for(t&=~_S,t&=~Yy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-da(t),n=1<<r;e[r]=-1,t&=~n}}function h2(e){if(_t&6)throw Error(fe(327));Su();var t=Ug(e,0);if(!(t&1))return zn(e,yr()),null;var r=sv(e,t);if(e.tag!==0&&r===2){var n=D0(e);n!==0&&(t=n,r=dj(e,n))}if(r===1)throw r=Ih,Ql(e,0),vo(e,t),zn(e,yr()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,In,ui),zn(e,yr()),null}function NS(e,t){var r=_t;_t|=1;try{return e(t)}finally{_t=r,_t===0&&(Xu=yr()+500,Vy&&al())}}function ac(e){To!==null&&To.tag===0&&!(_t&6)&&Su();var t=_t;_t|=1;var r=Es.transition,n=It;try{if(Es.transition=null,It=1,e)return e()}finally{It=n,Es.transition=r,_t=t,!(_t&6)&&al()}}function kS(){Jn=mu.current,rr(mu)}function Ql(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,H8(r)),Er!==null)for(r=Er.return;r!==null;){var n=r;switch(iS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vg();break;case 3:Yu(),rr(Bn),rr(vn),pS();break;case 5:mS(n);break;case 4:Yu();break;case 13:rr(cr);break;case 19:rr(cr);break;case 10:uS(n.type._context);break;case 22:case 23:kS()}r=r.return}if(Gr=e,Er=e=Wo(e.current,null),nn=Jn=t,Ur=0,Ih=null,_S=Yy=sc=0,In=oh=null,Al!==null){for(t=0;t<Al.length;t++)if(r=Al[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Al=null}return e}function oI(e,t){do{var r=Er;try{if(cS(),Sg.current=ev,Zg){for(var n=dr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Zg=!1}if(nc=0,Kr=Ir=dr=null,ah=!1,Rh=0,jS.current=null,r===null||r.return===null){Ur=1,Ih=t,Er=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=nn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=e2(o);if(m!==null){m.flags&=-257,t2(m,o,l,i,t),m.mode&1&&ZC(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){ZC(i,u,t),CS();break e}c=Error(fe(426))}}else if(ar&&l.mode&1){var y=e2(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),t2(y,o,l,i,t),oS(Qu(c,l));break e}}i=c=Qu(c,l),Ur!==4&&(Ur=2),oh===null?oh=[i]:oh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=W$(i,c,t);HC(i,b);break e;case 1:l=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(qo===null||!qo.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=V$(i,l,t);HC(i,S);break e}}i=i.return}while(i!==null)}uI(r)}catch(j){t=j,Er===r&&r!==null&&(Er=r=r.return);continue}break}while(!0)}function lI(){var e=tv.current;return tv.current=ev,e===null?ev:e}function CS(){(Ur===0||Ur===3||Ur===2)&&(Ur=4),Gr===null||!(sc&268435455)&&!(Yy&268435455)||vo(Gr,nn)}function sv(e,t){var r=_t;_t|=2;var n=lI();(Gr!==e||nn!==t)&&(ui=null,Ql(e,t));do try{yz();break}catch(s){oI(e,s)}while(!0);if(cS(),_t=r,tv.current=n,Er!==null)throw Error(fe(261));return Gr=null,nn=0,Ur}function yz(){for(;Er!==null;)cI(Er)}function xz(){for(;Er!==null&&!Wq();)cI(Er)}function cI(e){var t=fI(e.alternate,e,Jn);e.memoizedProps=e.pendingProps,t===null?uI(e):Er=t,jS.current=null}function uI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fz(r,t),r!==null){r.flags&=32767,Er=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ur=6,Er=null;return}}else if(r=dz(r,t,Jn),r!==null){Er=r;return}if(t=t.sibling,t!==null){Er=t;return}Er=t=e}while(t!==null);Ur===0&&(Ur=5)}function wl(e,t,r){var n=It,s=Es.transition;try{Es.transition=null,It=1,bz(e,t,r,n)}finally{Es.transition=s,It=n}return null}function bz(e,t,r,n){do Su();while(To!==null);if(_t&6)throw Error(fe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(e8(e,i),e===Gr&&(Er=Gr=null,nn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$p||($p=!0,hI(Fg,function(){return Su(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Es.transition,Es.transition=null;var o=It;It=1;var l=_t;_t|=4,jS.current=null,mz(e,r),sI(r,e),U8(z0),Bg=!!q0,z0=q0=null,e.current=r,pz(r),Vq(),_t=l,It=o,Es.transition=i}else e.current=r;if($p&&($p=!1,To=e,nv=s),i=e.pendingLanes,i===0&&(qo=null),Gq(r.stateNode),zn(e,yr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(rv)throw rv=!1,e=cj,cj=null,e;return nv&1&&e.tag!==0&&Su(),i=e.pendingLanes,i&1?e===uj?lh++:(lh=0,uj=e):lh=0,al(),null}function Su(){if(To!==null){var e=WM(nv),t=Es.transition,r=It;try{if(Es.transition=null,It=16>e?16:e,To===null)var n=!1;else{if(e=To,To=null,nv=0,_t&6)throw Error(fe(331));var s=_t;for(_t|=4,Pe=e.current;Pe!==null;){var i=Pe,o=i.child;if(Pe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Pe=u;Pe!==null;){var d=Pe;switch(d.tag){case 0:case 11:case 15:ih(8,d,i)}var f=d.child;if(f!==null)f.return=d,Pe=f;else for(;Pe!==null;){d=Pe;var h=d.sibling,m=d.return;if(tI(d),d===u){Pe=null;break}if(h!==null){h.return=m,Pe=h;break}Pe=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}Pe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Pe=o;else e:for(;Pe!==null;){if(i=Pe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ih(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Pe=b;break e}Pe=i.return}}var v=e.current;for(Pe=v;Pe!==null;){o=Pe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Pe=w;else e:for(o=v;Pe!==null;){if(l=Pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gy(9,l)}}catch(j){gr(l,l.return,j)}if(l===o){Pe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Pe=S;break e}Pe=l.return}}if(_t=s,al(),Ua&&typeof Ua.onPostCommitFiberRoot=="function")try{Ua.onPostCommitFiberRoot(Uy,e)}catch{}n=!0}return n}finally{It=r,Es.transition=t}}return!1}function m2(e,t,r){t=Qu(r,t),t=W$(e,t,1),e=Bo(e,t,1),t=Sn(),e!==null&&(Vm(e,1,t),zn(e,t))}function gr(e,t,r){if(e.tag===3)m2(e,e,r);else for(;t!==null;){if(t.tag===3){m2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qo===null||!qo.has(n))){e=Qu(r,e),e=V$(t,e,1),t=Bo(t,e,1),e=Sn(),t!==null&&(Vm(t,1,e),zn(t,e));break}}t=t.return}}function wz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Sn(),e.pingedLanes|=e.suspendedLanes&r,Gr===e&&(nn&r)===r&&(Ur===4||Ur===3&&(nn&130023424)===nn&&500>yr()-SS?Ql(e,0):_S|=r),zn(e,t)}function dI(e,t){t===0&&(e.mode&1?(t=Np,Np<<=1,!(Np&130023424)&&(Np=4194304)):t=1);var r=Sn();e=Ti(e,t),e!==null&&(Vm(e,t,r),zn(e,r))}function jz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),dI(e,r)}function _z(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),dI(e,r)}var fI;fI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bn.current)Dn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Dn=!1,uz(e,t,r);Dn=!!(e.flags&131072)}else Dn=!1,ar&&t.flags&1048576&&g$(t,Gg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;kg(e,t),e=t.pendingProps;var s=Ku(t,vn.current);_u(t,r),s=vS(null,t,n,e,s,r);var i=yS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qn(n)?(i=!0,Kg(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fS(t),s.updater=Hy,t.stateNode=s,s._reactInternals=t,J0(t,n,e,r),t=tj(null,t,n,!0,i,r)):(t.tag=0,ar&&i&&aS(t),wn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(kg(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Nz(n),e=Js(n,e),s){case 0:t=ej(null,t,n,e,r);break e;case 1:t=s2(null,t,n,e,r);break e;case 11:t=r2(null,t,n,e,r);break e;case 14:t=n2(null,t,n,Js(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Js(n,s),ej(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Js(n,s),s2(e,t,n,s,r);case 3:e:{if(Y$(t),e===null)throw Error(fe(387));n=t.pendingProps,i=t.memoizedState,s=i.element,j$(e,t),Xg(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Qu(Error(fe(423)),t),t=a2(e,t,n,r,s);break e}else if(n!==s){s=Qu(Error(fe(424)),t),t=a2(e,t,n,r,s);break e}else for(as=Uo(t.stateNode.containerInfo.firstChild),os=t,ar=!0,aa=null,r=b$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hu(),n===s){t=Ri(e,t,r);break e}wn(e,t,n,r)}t=t.child}return t;case 5:return _$(t),e===null&&Y0(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,W0(n,s)?o=null:i!==null&&W0(n,i)&&(t.flags|=32),G$(e,t),wn(e,t,o,r),t.child;case 6:return e===null&&Y0(t),null;case 13:return Q$(e,t,r);case 4:return hS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Gu(t,null,n,r):wn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Js(n,s),r2(e,t,n,s,r);case 7:return wn(e,t,t.pendingProps,r),t.child;case 8:return wn(e,t,t.pendingProps.children,r),t.child;case 12:return wn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Qt(Yg,n._currentValue),n._currentValue=o,i!==null)if(va(i.value,o)){if(i.children===s.children&&!Bn.current){t=Ri(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=_i(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Q0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(fe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Q0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}wn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,_u(t,r),s=Rs(s),n=n(s),t.flags|=1,wn(e,t,n,r),t.child;case 14:return n=t.type,s=Js(n,t.pendingProps),s=Js(n.type,s),n2(e,t,n,s,r);case 15:return K$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Js(n,s),kg(e,t),t.tag=1,qn(n)?(e=!0,Kg(t)):e=!1,_u(t,r),z$(t,n,s),J0(t,n,s,r),tj(null,t,n,!0,e,r);case 19:return X$(e,t,r);case 22:return H$(e,t,r)}throw Error(fe(156,t.tag))};function hI(e,t){return UM(e,t)}function Sz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ns(e,t,r,n){return new Sz(e,t,r,n)}function ES(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nz(e){if(typeof e=="function")return ES(e)?1:0;if(e!=null){if(e=e.$$typeof,e===H1)return 11;if(e===G1)return 14}return 2}function Wo(e,t){var r=e.alternate;return r===null?(r=Ns(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Og(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")ES(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case su:return Xl(r.children,s,i,t);case K1:o=8,s|=8;break;case j0:return e=Ns(12,r,t,s|2),e.elementType=j0,e.lanes=i,e;case _0:return e=Ns(13,r,t,s),e.elementType=_0,e.lanes=i,e;case S0:return e=Ns(19,r,t,s),e.elementType=S0,e.lanes=i,e;case _M:return Qy(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wM:o=10;break e;case jM:o=9;break e;case H1:o=11;break e;case G1:o=14;break e;case uo:o=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=Ns(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Xl(e,t,r,n){return e=Ns(7,e,n,t),e.lanes=r,e}function Qy(e,t,r,n){return e=Ns(22,e,n,t),e.elementType=_M,e.lanes=r,e.stateNode={isHidden:!1},e}function aw(e,t,r){return e=Ns(6,e,null,t),e.lanes=r,e}function iw(e,t,r){return t=Ns(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kz(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ub(0),this.expirationTimes=Ub(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ub(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function OS(e,t,r,n,s,i,o,l,c){return e=new kz(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ns(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},fS(i),e}function Cz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function mI(e){if(!e)return Jo;e=e._reactInternals;e:{if(_c(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(qn(r))return m$(e,r,t)}return t}function pI(e,t,r,n,s,i,o,l,c){return e=OS(r,n,!0,e,s,i,o,l,c),e.context=mI(null),r=e.current,n=Sn(),s=zo(r),i=_i(n,s),i.callback=t??null,Bo(r,i,s),e.current.lanes=s,Vm(e,s,n),zn(e,n),e}function Xy(e,t,r,n){var s=t.current,i=Sn(),o=zo(s);return r=mI(r),t.context===null?t.context=r:t.pendingContext=r,t=_i(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Bo(s,t,o),e!==null&&(fa(e,s,o,i),_g(e,s,o)),o}function av(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function p2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function PS(e,t){p2(e,t),(e=e.alternate)&&p2(e,t)}function Ez(){return null}var gI=typeof reportError=="function"?reportError:function(e){console.error(e)};function AS(e){this._internalRoot=e}Jy.prototype.render=AS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));Xy(e,t,null,null)};Jy.prototype.unmount=AS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ac(function(){Xy(null,e,null,null)}),t[Ai]=null}};function Jy(e){this._internalRoot=e}Jy.prototype.unstable_scheduleHydration=function(e){if(e){var t=HM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<go.length&&t!==0&&t<go[r].priority;r++);go.splice(r,0,e),r===0&&YM(e)}};function TS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function g2(){}function Oz(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=av(o);i.call(u)}}var o=pI(t,n,e,0,null,!1,!1,"",g2);return e._reactRootContainer=o,e[Ai]=o.current,Eh(e.nodeType===8?e.parentNode:e),ac(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=av(c);l.call(u)}}var c=OS(e,0,!1,null,null,!1,!1,"",g2);return e._reactRootContainer=c,e[Ai]=c.current,Eh(e.nodeType===8?e.parentNode:e),ac(function(){Xy(t,c,r,n)}),c}function ex(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=av(o);l.call(c)}}Xy(t,o,e,s)}else o=Oz(r,t,e,s,n);return av(o)}VM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wf(t.pendingLanes);r!==0&&(X1(t,r|1),zn(t,yr()),!(_t&6)&&(Xu=yr()+500,al()))}break;case 13:ac(function(){var n=Ti(e,1);if(n!==null){var s=Sn();fa(n,e,1,s)}}),PS(e,1)}};J1=function(e){if(e.tag===13){var t=Ti(e,134217728);if(t!==null){var r=Sn();fa(t,e,134217728,r)}PS(e,134217728)}};KM=function(e){if(e.tag===13){var t=zo(e),r=Ti(e,t);if(r!==null){var n=Sn();fa(r,e,t,n)}PS(e,t)}};HM=function(){return It};GM=function(e,t){var r=It;try{return It=e,t()}finally{It=r}};M0=function(e,t,r){switch(t){case"input":if(C0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Wy(n);if(!s)throw Error(fe(90));NM(n),C0(n,s)}}}break;case"textarea":CM(e,r);break;case"select":t=r.value,t!=null&&xu(e,!!r.multiple,t,!1)}};MM=NS;$M=ac;var Pz={usingClientEntryPoint:!1,Events:[Hm,lu,Wy,TM,RM,NS]},bf={findFiberByHostInstance:Pl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Az={bundleType:bf.bundleType,version:bf.version,rendererPackageName:bf.rendererPackageName,rendererConfig:bf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=LM(e),e===null?null:e.stateNode},findFiberByHostInstance:bf.findFiberByHostInstance||Ez,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{Uy=Ip.inject(Az),Ua=Ip}catch{}}fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pz;fs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TS(t))throw Error(fe(200));return Cz(e,t,null,r)};fs.createRoot=function(e,t){if(!TS(e))throw Error(fe(299));var r=!1,n="",s=gI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=OS(e,1,!1,null,null,r,!1,n,s),e[Ai]=t.current,Eh(e.nodeType===8?e.parentNode:e),new AS(t)};fs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=LM(t),e=e===null?null:e.stateNode,e};fs.flushSync=function(e){return ac(e)};fs.hydrate=function(e,t,r){if(!Zy(t))throw Error(fe(200));return ex(null,e,t,!0,r)};fs.hydrateRoot=function(e,t,r){if(!TS(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=gI;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=pI(t,null,e,1,r??null,s,!1,i,o),e[Ai]=t.current,Eh(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Jy(t)};fs.render=function(e,t,r){if(!Zy(t))throw Error(fe(200));return ex(null,e,t,!1,r)};fs.unmountComponentAtNode=function(e){if(!Zy(e))throw Error(fe(40));return e._reactRootContainer?(ac(function(){ex(null,null,e,!1,function(){e._reactRootContainer=null,e[Ai]=null})}),!0):!1};fs.unstable_batchedUpdates=NS;fs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zy(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return ex(e,t,r,!1,n)};fs.version="18.3.1-next-f1338f8080-20240426";function vI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vI)}catch(e){console.error(e)}}vI(),vM.exports=fs;var Id=vM.exports;const yI=qt(Id);var v2=Id;b0.createRoot=v2.createRoot,b0.hydrateRoot=v2.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(this,arguments)}var Ro;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ro||(Ro={}));const y2="popstate";function Tz(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return hj("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:iv(s)}return Mz(t,r,null,e)}function fr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rz(){return Math.random().toString(36).substr(2,8)}function x2(e,t){return{usr:e.state,key:e.key,idx:t}}function hj(e,t,r,n){return r===void 0&&(r=null),Dh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Dd(t):t,{state:r,key:t&&t.key||n||Rz()})}function iv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Dd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Mz(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Ro.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Dh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ro.Pop;let y=d(),b=y==null?null:y-u;u=y,c&&c({action:l,location:p.location,delta:b})}function h(y,b){l=Ro.Push;let v=hj(p.location,y,b);u=d()+1;let w=x2(v,u),S=p.createHref(v);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}i&&c&&c({action:l,location:p.location,delta:1})}function m(y,b){l=Ro.Replace;let v=hj(p.location,y,b);u=d();let w=x2(v,u),S=p.createHref(v);o.replaceState(w,"",S),i&&c&&c({action:l,location:p.location,delta:0})}function g(y){let b=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:iv(y);return v=v.replace(/ $/,"%20"),fr(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let p={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(y2,f),c=y,()=>{s.removeEventListener(y2,f),c=null}},createHref(y){return t(s,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(y){return o.go(y)}};return p}var b2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(b2||(b2={}));function $z(e,t,r){return r===void 0&&(r="/"),Iz(e,t,r)}function Iz(e,t,r,n){let s=typeof t=="string"?Dd(t):t,i=Ju(s.pathname||"/",r);if(i==null)return null;let o=xI(e);Dz(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Gz(i);l=Kz(o[c],u)}return l}function xI(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(fr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Vo([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(fr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xI(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Wz(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of bI(i.path))s(i,o,c)}),t}function bI(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=bI(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Dz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Vz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Lz=/^:[\w-]+$/,Fz=3,Uz=2,Bz=1,qz=10,zz=-2,w2=e=>e==="*";function Wz(e,t){let r=e.split("/"),n=r.length;return r.some(w2)&&(n+=zz),t&&(n+=Uz),r.filter(s=>!w2(s)).reduce((s,i)=>s+(Lz.test(i)?Fz:i===""?Bz:qz),n)}function Vz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Kz(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=mj({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Vo([i,f.pathname]),pathnameBase:Zz(Vo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Vo([i,f.pathnameBase]))}return o}function mj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Hz(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Hz(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),RS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Gz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return RS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ju(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Yz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qz=e=>Yz.test(e);function Xz(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Dd(e):e,i;if(r)if(Qz(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),RS(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=j2(r.substring(1),"/"):i=j2(r,t)}else i=t;return{pathname:i,search:eW(n),hash:tW(s)}}function j2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ow(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function MS(e,t){let r=Jz(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function $S(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Dd(e):(s=Dh({},e),fr(!s.pathname||!s.pathname.includes("?"),ow("?","pathname","search",s)),fr(!s.pathname||!s.pathname.includes("#"),ow("#","pathname","hash",s)),fr(!s.search||!s.search.includes("#"),ow("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Xz(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Vo=e=>e.join("/").replace(/\/\/+/g,"/"),Zz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wI=["post","put","patch","delete"];new Set(wI);const nW=["get",...wI];new Set(nW);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lh.apply(this,arguments)}const tx=x.createContext(null),jI=x.createContext(null),Wi=x.createContext(null),rx=x.createContext(null),Xa=x.createContext({outlet:null,matches:[],isDataRoute:!1}),_I=x.createContext(null);function sW(e,t){let{relative:r}=t===void 0?{}:t;Ld()||fr(!1);let{basename:n,navigator:s}=x.useContext(Wi),{hash:i,pathname:o,search:l}=nx(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Vo([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Ld(){return x.useContext(rx)!=null}function Ja(){return Ld()||fr(!1),x.useContext(rx).location}function SI(e){x.useContext(Wi).static||x.useLayoutEffect(e)}function il(){let{isDataRoute:e}=x.useContext(Xa);return e?bW():aW()}function aW(){Ld()||fr(!1);let e=x.useContext(tx),{basename:t,future:r,navigator:n}=x.useContext(Wi),{matches:s}=x.useContext(Xa),{pathname:i}=Ja(),o=JSON.stringify(MS(s,r.v7_relativeSplatPath)),l=x.useRef(!1);return SI(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=$S(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Vo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const iW=x.createContext(null);function oW(e){let t=x.useContext(Xa).outlet;return t&&x.createElement(iW.Provider,{value:e},t)}function lW(){let{matches:e}=x.useContext(Xa),t=e[e.length-1];return t?t.params:{}}function nx(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Wi),{matches:s}=x.useContext(Xa),{pathname:i}=Ja(),o=JSON.stringify(MS(s,n.v7_relativeSplatPath));return x.useMemo(()=>$S(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function cW(e,t){return uW(e,t)}function uW(e,t,r,n){Ld()||fr(!1);let{navigator:s}=x.useContext(Wi),{matches:i}=x.useContext(Xa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ja(),d;if(t){var f;let y=typeof t=="string"?Dd(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||fr(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=$z(e,{pathname:m}),p=pW(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Vo([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Vo([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&p?x.createElement(rx.Provider,{value:{location:Lh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ro.Pop}},p):p}function dW(){let e=xW(),t=rW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const fW=x.createElement(dW,null);class hW extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Xa.Provider,{value:this.props.routeContext},x.createElement(_I.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mW(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(tx);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Xa.Provider,{value:t},n)}function pW(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||fr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,y=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||fW,c&&(u<0&&h===0?(wW("route-fallback"),g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),v=()=>{let w;return m?w=p:g?w=y:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(mW,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(hW,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var NI=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(NI||{}),kI=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kI||{});function gW(e){let t=x.useContext(tx);return t||fr(!1),t}function vW(e){let t=x.useContext(jI);return t||fr(!1),t}function yW(e){let t=x.useContext(Xa);return t||fr(!1),t}function CI(e){let t=yW(),r=t.matches[t.matches.length-1];return r.route.id||fr(!1),r.route.id}function xW(){var e;let t=x.useContext(_I),r=vW(),n=CI();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function bW(){let{router:e}=gW(NI.UseNavigateStable),t=CI(kI.UseNavigateStable),r=x.useRef(!1);return SI(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Lh({fromRouteId:t},i)))},[e,t])}const _2={};function wW(e,t,r){_2[e]||(_2[e]=!0)}function jW(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _W(e){let{to:t,replace:r,state:n,relative:s}=e;Ld()||fr(!1);let{future:i,static:o}=x.useContext(Wi),{matches:l}=x.useContext(Xa),{pathname:c}=Ja(),u=il(),d=$S(t,MS(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function EI(e){return oW(e.context)}function xt(e){fr(!1)}function SW(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ro.Pop,navigator:i,static:o=!1,future:l}=e;Ld()&&fr(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:o,future:Lh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Dd(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=x.useMemo(()=>{let y=Ju(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:s}},[c,d,f,h,m,g,s]);return p==null?null:x.createElement(Wi.Provider,{value:u},x.createElement(rx.Provider,{children:r,value:p}))}function NW(e){let{children:t,location:r}=e;return cW(pj(t),r)}new Promise(()=>{});function pj(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,pj(n.props.children,i));return}n.type!==xt&&fr(!1),!n.props.index||!n.props.children||fr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=pj(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(this,arguments)}function OI(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function kW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CW(e,t){return e.button===0&&(!t||t==="_self")&&!kW(e)}function gj(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function EW(e,t){let r=gj(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const OW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PW=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],AW="6";try{window.__reactRouterVersion=AW}catch{}const TW=x.createContext({isTransitioning:!1}),RW="startTransition",S2=Fy[RW];function MW(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=Tz({window:s,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&S2?S2(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>jW(n),[n]),x.createElement(SW,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const $W=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=OI(t,OW),{basename:m}=x.useContext(Wi),g,p=!1;if(typeof u=="string"&&IW.test(u)&&(g=u,$W))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Ju(S.pathname,m);S.origin===w.origin&&j!=null?u=j+S.search+S.hash:p=!0}catch{}let y=sW(u,{relative:s}),b=FW(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(w){n&&n(w),w.defaultPrevented||b(w)}return x.createElement("a",ov({},h,{href:g||y,onClick:p||i?n:v,ref:r,target:c}))}),DW=x.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=OI(t,PW),h=nx(c,{relative:f.relative}),m=Ja(),g=x.useContext(jI),{navigator:p,basename:y}=x.useContext(Wi),b=g!=null&&UW(h)&&u===!0,v=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,w=m.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(w=w.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&y&&(S=Ju(S,y)||S);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let _=w===v||!o&&w.startsWith(v)&&w.charAt(j)==="/",N=S!=null&&(S===v||!o&&S.startsWith(v)&&S.charAt(v.length)==="/"),k={isActive:_,isPending:N,isTransitioning:b},C=_?n:void 0,A;typeof i=="function"?A=i(k):A=[i,_?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(k):l;return x.createElement(he,ov({},f,{"aria-current":C,className:A,ref:r,style:I,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var vj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vj||(vj={}));var N2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(N2||(N2={}));function LW(e){let t=x.useContext(tx);return t||fr(!1),t}function FW(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=il(),u=Ja(),d=nx(e,{relative:o});return x.useCallback(f=>{if(CW(f,r)){f.preventDefault();let h=n!==void 0?n:iv(u)===iv(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function PI(e){let t=x.useRef(gj(e)),r=x.useRef(!1),n=Ja(),s=x.useMemo(()=>EW(n.search,r.current?null:t.current),[n.search]),i=il(),o=x.useCallback((l,c)=>{const u=gj(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function UW(e,t){t===void 0&&(t={});let r=x.useContext(TW);r==null&&fr(!1);let{basename:n}=LW(vj.useViewTransitionState),s=nx(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Ju(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ju(r.nextLocation.pathname,n)||r.nextLocation.pathname;return mj(s.pathname,o)!=null||mj(s.pathname,i)!=null}var Fd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},BW={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},jo,L1,YR,qW=(YR=class{constructor(){ze(this,jo,BW);ze(this,L1,!1)}setTimeoutProvider(e){ke(this,jo,e)}setTimeout(e,t){return U(this,jo).setTimeout(e,t)}clearTimeout(e){U(this,jo).clearTimeout(e)}setInterval(e,t){return U(this,jo).setInterval(e,t)}clearInterval(e){U(this,jo).clearInterval(e)}},jo=new WeakMap,L1=new WeakMap,YR),Rl=new qW;function zW(e){setTimeout(e,0)}var ic=typeof window>"u"||"Deno"in globalThis;function jn(){}function WW(e,t){return typeof e=="function"?e(t):e}function yj(e){return typeof e=="number"&&e>=0&&e!==1/0}function AI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ko(e,t){return typeof e=="function"?e(t):e}function xs(e,t){return typeof e=="function"?e(t):e}function k2(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==IS(o,t.options))return!1}else if(!Fh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function C2(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(oc(t.options.mutationKey)!==oc(i))return!1}else if(!Fh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function IS(e,t){return((t==null?void 0:t.queryKeyHashFn)||oc)(e)}function oc(e){return JSON.stringify(e,(t,r)=>xj(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Fh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Fh(e[r],t[r])):!1}var VW=Object.prototype.hasOwnProperty;function TI(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=E2(e)&&E2(t);if(!n&&!(xj(e)&&xj(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:o[d],h=e[f],m=t[f];if(h===m){c[f]=h,(n?d<i:VW.call(e,f))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){c[f]=m;continue}const g=TI(h,m,r+1);c[f]=g,g===h&&u++}return i===l&&u===i?e:c}function lv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function E2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xj(e){if(!O2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!O2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function O2(e){return Object.prototype.toString.call(e)==="[object Object]"}function KW(e){return new Promise(t=>{Rl.setTimeout(t,e)})}function bj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?TI(e,t):t}function HW(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function GW(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var DS=Symbol();function RI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===DS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function LS(e,t){return typeof e=="function"?e(...t):!!e}function YW(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var Bl,_o,Ru,QR,QW=(QR=class extends Fd{constructor(){super();ze(this,Bl);ze(this,_o);ze(this,Ru);ke(this,Ru,t=>{if(!ic&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){U(this,_o)||this.setEventListener(U(this,Ru))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,_o))==null||t.call(this),ke(this,_o,void 0))}setEventListener(t){var r;ke(this,Ru,t),(r=U(this,_o))==null||r.call(this),ke(this,_o,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){U(this,Bl)!==t&&(ke(this,Bl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof U(this,Bl)=="boolean"?U(this,Bl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bl=new WeakMap,_o=new WeakMap,Ru=new WeakMap,QR),FS=new QW;function wj(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var XW=zW;function JW(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=XW;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Dr=JW(),Mu,So,$u,XR,ZW=(XR=class extends Fd{constructor(){super();ze(this,Mu,!0);ze(this,So);ze(this,$u);ke(this,$u,t=>{if(!ic&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){U(this,So)||this.setEventListener(U(this,$u))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,So))==null||t.call(this),ke(this,So,void 0))}setEventListener(t){var r;ke(this,$u,t),(r=U(this,So))==null||r.call(this),ke(this,So,t(this.setOnline.bind(this)))}setOnline(t){U(this,Mu)!==t&&(ke(this,Mu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return U(this,Mu)}},Mu=new WeakMap,So=new WeakMap,$u=new WeakMap,XR),cv=new ZW;function eV(e){return Math.min(1e3*2**e,3e4)}function MI(e){return(e??"online")==="online"?cv.isOnline():!0}var jj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function $I(e){let t=!1,r=0,n;const s=wj(),i=()=>s.status!=="pending",o=p=>{var y;if(!i()){const b=new jj(p);h(b),(y=e.onCancel)==null||y.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>FS.isFocused()&&(e.networkMode==="always"||cv.isOnline())&&e.canRun(),d=()=>MI(e.networkMode)&&e.canRun(),f=p=>{i()||(n==null||n(),s.resolve(p))},h=p=>{i()||(n==null||n(),s.reject(p))},m=()=>new Promise(p=>{var y;n=b=>{(i()||u())&&p(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var p;n=void 0,i()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(i())return;let p;const y=r===0?e.initialPromise:void 0;try{p=y??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var _;if(i())return;const v=e.retry??(ic?0:3),w=e.retryDelay??eV,S=typeof w=="function"?w(r,b):w,j=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(t||!j){h(b);return}r++,(_=e.onFail)==null||_.call(e,r,b),KW(S).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var ql,JR,II=(JR=class{constructor(){ze(this,ql)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yj(this.gcTime)&&ke(this,ql,Rl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ic?1/0:5*60*1e3))}clearGcTimeout(){U(this,ql)&&(Rl.clearTimeout(U(this,ql)),ke(this,ql,void 0))}},ql=new WeakMap,JR),zl,Iu,ys,Wl,Wr,Fm,Vl,ea,ci,ZR,tV=(ZR=class extends II{constructor(t){super();ze(this,ea);ze(this,zl);ze(this,Iu);ze(this,ys);ze(this,Wl);ze(this,Wr);ze(this,Fm);ze(this,Vl);ke(this,Vl,!1),ke(this,Fm,t.defaultOptions),this.setOptions(t.options),this.observers=[],ke(this,Wl,t.client),ke(this,ys,U(this,Wl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ke(this,zl,A2(this.options)),this.state=t.state??U(this,zl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,Wr))==null?void 0:t.promise}setOptions(t){if(this.options={...U(this,Fm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=A2(this.options);r.data!==void 0&&(this.setState(P2(r.data,r.dataUpdatedAt)),ke(this,zl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,ys).remove(this)}setData(t,r){const n=bj(this.state.data,t,this.options);return st(this,ea,ci).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){st(this,ea,ci).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=U(this,Wr))==null?void 0:n.promise;return(s=U(this,Wr))==null||s.cancel(t),r?r.then(jn).catch(jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,zl))}isActive(){return this.observers.some(t=>xs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===DS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ko(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!AI(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,Wr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,Wr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,ys).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(U(this,Wr)&&(U(this,Vl)?U(this,Wr).cancel({revert:!0}):U(this,Wr).cancelRetry()),this.scheduleGc()),U(this,ys).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,ea,ci).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,g,p,y,b,v,w;if(this.state.fetchStatus!=="idle"&&((c=U(this,Wr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Wr))return U(this,Wr).continueRetry(),U(this,Wr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(j=>j.options.queryFn);S&&this.setOptions(S.options)}const n=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(ke(this,Vl,!0),n.signal)})},i=()=>{const S=RI(this.options,r),_=(()=>{const N={client:U(this,Wl),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return ke(this,Vl,!1),this.options.persister?this.options.persister(S,_,this):S(_)},l=(()=>{const S={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,Wl),state:this.state,fetchFn:i};return s(S),S})();(u=this.options.behavior)==null||u.onFetch(l,this),ke(this,Iu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&st(this,ea,ci).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ke(this,Wr,$I({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:S=>{S instanceof jj&&S.revert&&this.setState({...U(this,Iu),fetchStatus:"idle"}),n.abort()},onFail:(S,j)=>{st(this,ea,ci).call(this,{type:"failed",failureCount:S,error:j})},onPause:()=>{st(this,ea,ci).call(this,{type:"pause"})},onContinue:()=>{st(this,ea,ci).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const S=await U(this,Wr).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(m=(h=U(this,ys).config).onSuccess)==null||m.call(h,S,this),(p=(g=U(this,ys).config).onSettled)==null||p.call(g,S,this.state.error,this),S}catch(S){if(S instanceof jj){if(S.silent)return U(this,Wr).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw st(this,ea,ci).call(this,{type:"error",error:S}),(b=(y=U(this,ys).config).onError)==null||b.call(y,S,this),(w=(v=U(this,ys).config).onSettled)==null||w.call(v,this.state.data,S,this),S}finally{this.scheduleGc()}}},zl=new WeakMap,Iu=new WeakMap,ys=new WeakMap,Wl=new WeakMap,Wr=new WeakMap,Fm=new WeakMap,Vl=new WeakMap,ea=new WeakSet,ci=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...DI(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...P2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ke(this,Iu,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Dr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),U(this,ys).notify({query:this,type:"updated",action:t})})},ZR);function DI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function P2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function A2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Tn,bt,Um,xn,Kl,Du,hi,No,Bm,Lu,Fu,Hl,Gl,ko,Uu,Rt,Kf,_j,Sj,Nj,kj,Cj,Ej,Oj,LI,eM,rV=(eM=class extends Fd{constructor(t,r){super();ze(this,Rt);ze(this,Tn);ze(this,bt);ze(this,Um);ze(this,xn);ze(this,Kl);ze(this,Du);ze(this,hi);ze(this,No);ze(this,Bm);ze(this,Lu);ze(this,Fu);ze(this,Hl);ze(this,Gl);ze(this,ko);ze(this,Uu,new Set);this.options=r,ke(this,Tn,t),ke(this,No,null),ke(this,hi,wj()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,bt).addObserver(this),T2(U(this,bt),this.options)?st(this,Rt,Kf).call(this):this.updateResult(),st(this,Rt,kj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Pj(U(this,bt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Pj(U(this,bt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,Rt,Cj).call(this),st(this,Rt,Ej).call(this),U(this,bt).removeObserver(this)}setOptions(t){const r=this.options,n=U(this,bt);if(this.options=U(this,Tn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xs(this.options.enabled,U(this,bt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,Rt,Oj).call(this),U(this,bt).setOptions(this.options),r._defaulted&&!lv(this.options,r)&&U(this,Tn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,bt),observer:this});const s=this.hasListeners();s&&R2(U(this,bt),n,this.options,r)&&st(this,Rt,Kf).call(this),this.updateResult(),s&&(U(this,bt)!==n||xs(this.options.enabled,U(this,bt))!==xs(r.enabled,U(this,bt))||Ko(this.options.staleTime,U(this,bt))!==Ko(r.staleTime,U(this,bt)))&&st(this,Rt,_j).call(this);const i=st(this,Rt,Sj).call(this);s&&(U(this,bt)!==n||xs(this.options.enabled,U(this,bt))!==xs(r.enabled,U(this,bt))||i!==U(this,ko))&&st(this,Rt,Nj).call(this,i)}getOptimisticResult(t){const r=U(this,Tn).getQueryCache().build(U(this,Tn),t),n=this.createResult(r,t);return sV(this,n)&&(ke(this,xn,n),ke(this,Du,this.options),ke(this,Kl,U(this,bt).state)),n}getCurrentResult(){return U(this,xn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&U(this,hi).status==="pending"&&U(this,hi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){U(this,Uu).add(t)}getCurrentQuery(){return U(this,bt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=U(this,Tn).defaultQueryOptions(t),n=U(this,Tn).getQueryCache().build(U(this,Tn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return st(this,Rt,Kf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,xn)))}createResult(t,r){var C;const n=U(this,bt),s=this.options,i=U(this,xn),o=U(this,Kl),l=U(this,Du),u=t!==n?t.state:U(this,Um),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const A=this.hasListeners(),I=!A&&T2(t,r),O=A&&R2(t,n,r,s);(I||O)&&(f={...f,...DI(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:y}=f;m=f.data;let b=!1;if(r.placeholderData!==void 0&&m===void 0&&y==="pending"){let A;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=i.data,b=!0):A=typeof r.placeholderData=="function"?r.placeholderData((C=U(this,Fu))==null?void 0:C.state.data,U(this,Fu)):r.placeholderData,A!==void 0&&(y="success",m=bj(i==null?void 0:i.data,A,r),h=!0)}if(r.select&&m!==void 0&&!b)if(i&&m===(o==null?void 0:o.data)&&r.select===U(this,Bm))m=U(this,Lu);else try{ke(this,Bm,r.select),m=r.select(m),m=bj(i==null?void 0:i.data,m,r),ke(this,Lu,m),ke(this,No,null)}catch(A){ke(this,No,A)}U(this,No)&&(g=U(this,No),m=U(this,Lu),p=Date.now(),y="error");const v=f.fetchStatus==="fetching",w=y==="pending",S=y==="error",j=w&&v,_=m!==void 0,k={status:y,fetchStatus:f.fetchStatus,isPending:w,isSuccess:y==="success",isError:S,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:S&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&_,isStale:US(t,r),refetch:this.refetch,promise:U(this,hi),isEnabled:xs(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=k.data!==void 0,I=k.status==="error"&&!A,O=z=>{I?z.reject(k.error):A&&z.resolve(k.data)},B=()=>{const z=ke(this,hi,k.promise=wj());O(z)},T=U(this,hi);switch(T.status){case"pending":t.queryHash===n.queryHash&&O(T);break;case"fulfilled":(I||k.data!==T.value)&&B();break;case"rejected":(!I||k.error!==T.reason)&&B();break}}return k}updateResult(){const t=U(this,xn),r=this.createResult(U(this,bt),this.options);if(ke(this,Kl,U(this,bt).state),ke(this,Du,this.options),U(this,Kl).data!==void 0&&ke(this,Fu,U(this,bt)),lv(r,t))return;ke(this,xn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!U(this,Uu).size)return!0;const o=new Set(i??U(this,Uu));return this.options.throwOnError&&o.add("error"),Object.keys(U(this,xn)).some(l=>{const c=l;return U(this,xn)[c]!==t[c]&&o.has(c)})};st(this,Rt,LI).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,Rt,kj).call(this)}},Tn=new WeakMap,bt=new WeakMap,Um=new WeakMap,xn=new WeakMap,Kl=new WeakMap,Du=new WeakMap,hi=new WeakMap,No=new WeakMap,Bm=new WeakMap,Lu=new WeakMap,Fu=new WeakMap,Hl=new WeakMap,Gl=new WeakMap,ko=new WeakMap,Uu=new WeakMap,Rt=new WeakSet,Kf=function(t){st(this,Rt,Oj).call(this);let r=U(this,bt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(jn)),r},_j=function(){st(this,Rt,Cj).call(this);const t=Ko(this.options.staleTime,U(this,bt));if(ic||U(this,xn).isStale||!yj(t))return;const n=AI(U(this,xn).dataUpdatedAt,t)+1;ke(this,Hl,Rl.setTimeout(()=>{U(this,xn).isStale||this.updateResult()},n))},Sj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,bt)):this.options.refetchInterval)??!1},Nj=function(t){st(this,Rt,Ej).call(this),ke(this,ko,t),!(ic||xs(this.options.enabled,U(this,bt))===!1||!yj(U(this,ko))||U(this,ko)===0)&&ke(this,Gl,Rl.setInterval(()=>{(this.options.refetchIntervalInBackground||FS.isFocused())&&st(this,Rt,Kf).call(this)},U(this,ko)))},kj=function(){st(this,Rt,_j).call(this),st(this,Rt,Nj).call(this,st(this,Rt,Sj).call(this))},Cj=function(){U(this,Hl)&&(Rl.clearTimeout(U(this,Hl)),ke(this,Hl,void 0))},Ej=function(){U(this,Gl)&&(Rl.clearInterval(U(this,Gl)),ke(this,Gl,void 0))},Oj=function(){const t=U(this,Tn).getQueryCache().build(U(this,Tn),this.options);if(t===U(this,bt))return;const r=U(this,bt);ke(this,bt,t),ke(this,Um,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},LI=function(t){Dr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(U(this,xn))}),U(this,Tn).getQueryCache().notify({query:U(this,bt),type:"observerResultsUpdated"})})},eM);function nV(e,t){return xs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function T2(e,t){return nV(e,t)||e.state.data!==void 0&&Pj(e,t,t.refetchOnMount)}function Pj(e,t,r){if(xs(t.enabled,e)!==!1&&Ko(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&US(e,t)}return!1}function R2(e,t,r,n){return(e!==t||xs(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&US(e,r)}function US(e,t){return xs(t.enabled,e)!==!1&&e.isStaleByTime(Ko(t.staleTime,e))}function sV(e,t){return!lv(e.getCurrentResult(),t)}function M2(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const y=w=>{YW(w,()=>t.signal,()=>p=!0)},b=RI(t.options,t.fetchOptions),v=async(w,S,j)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};return y(I),I})(),k=await b(N),{maxPages:C}=t.options,A=j?GW:HW;return{pages:A(w.pages,k,C),pageParams:A(w.pageParams,S,C)}};if(s&&i.length){const w=s==="backward",S=w?aV:$2,j={pages:i,pageParams:o},_=S(n,j);l=await v(j,_,w)}else{const w=e??i.length;do{const S=c===0?o[0]??n.initialPageParam:$2(n,l);if(c>0&&S==null)break;l=await v(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,y;return(y=(p=t.options).persister)==null?void 0:y.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function $2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function aV(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var qm,Aa,cn,Yl,Ta,oo,tM,iV=(tM=class extends II{constructor(t){super();ze(this,Ta);ze(this,qm);ze(this,Aa);ze(this,cn);ze(this,Yl);ke(this,qm,t.client),this.mutationId=t.mutationId,ke(this,cn,t.mutationCache),ke(this,Aa,[]),this.state=t.state||FI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,Aa).includes(t)||(U(this,Aa).push(t),this.clearGcTimeout(),U(this,cn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ke(this,Aa,U(this,Aa).filter(r=>r!==t)),this.scheduleGc(),U(this,cn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,Aa).length||(this.state.status==="pending"?this.scheduleGc():U(this,cn).remove(this))}continue(){var t;return((t=U(this,Yl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,g,p,y,b,v,w,S,j,_,N;const r=()=>{st(this,Ta,oo).call(this,{type:"continue"})},n={client:U(this,qm),meta:this.options.meta,mutationKey:this.options.mutationKey};ke(this,Yl,$I({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{st(this,Ta,oo).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{st(this,Ta,oo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,cn).canRun(this)}));const s=this.state.status==="pending",i=!U(this,Yl).canStart();try{if(s)r();else{st(this,Ta,oo).call(this,{type:"pending",variables:t,isPaused:i}),U(this,cn).config.onMutate&&await U(this,cn).config.onMutate(t,this,n);const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));C!==this.state.context&&st(this,Ta,oo).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const k=await U(this,Yl).start();return await((u=(c=U(this,cn).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,n)),await((m=(h=U(this,cn).config).onSettled)==null?void 0:m.call(h,k,null,this.state.variables,this.state.context,this,n)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,k,null,t,this.state.context,n)),st(this,Ta,oo).call(this,{type:"success",data:k}),k}catch(k){try{await((b=(y=U(this,cn).config).onError)==null?void 0:b.call(y,k,t,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((w=(v=this.options).onError)==null?void 0:w.call(v,k,t,this.state.context,n))}catch(C){Promise.reject(C)}try{await((j=(S=U(this,cn).config).onSettled)==null?void 0:j.call(S,void 0,k,this.state.variables,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((N=(_=this.options).onSettled)==null?void 0:N.call(_,void 0,k,t,this.state.context,n))}catch(C){Promise.reject(C)}throw st(this,Ta,oo).call(this,{type:"error",error:k}),k}finally{U(this,cn).runNext(this)}}},qm=new WeakMap,Aa=new WeakMap,cn=new WeakMap,Yl=new WeakMap,Ta=new WeakSet,oo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dr.batch(()=>{U(this,Aa).forEach(n=>{n.onMutationUpdate(t)}),U(this,cn).notify({mutation:this,type:"updated",action:t})})},tM);function FI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mi,ta,zm,rM,oV=(rM=class extends Fd{constructor(t={}){super();ze(this,mi);ze(this,ta);ze(this,zm);this.config=t,ke(this,mi,new Set),ke(this,ta,new Map),ke(this,zm,0)}build(t,r,n){const s=new iV({client:t,mutationCache:this,mutationId:++yp(this,zm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){U(this,mi).add(t);const r=Dp(t);if(typeof r=="string"){const n=U(this,ta).get(r);n?n.push(t):U(this,ta).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(U(this,mi).delete(t)){const r=Dp(t);if(typeof r=="string"){const n=U(this,ta).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&U(this,ta).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Dp(t);if(typeof r=="string"){const n=U(this,ta).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Dp(t);if(typeof r=="string"){const s=(n=U(this,ta).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dr.batch(()=>{U(this,mi).forEach(t=>{this.notify({type:"removed",mutation:t})}),U(this,mi).clear(),U(this,ta).clear()})}getAll(){return Array.from(U(this,mi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>C2(r,n))}findAll(t={}){return this.getAll().filter(r=>C2(t,r))}notify(t){Dr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Dr.batch(()=>Promise.all(t.map(r=>r.continue().catch(jn))))}},mi=new WeakMap,ta=new WeakMap,zm=new WeakMap,rM);function Dp(e){var t;return(t=e.options.scope)==null?void 0:t.id}var pi,Co,Rn,gi,Oi,Pg,Aj,nM,lV=(nM=class extends Fd{constructor(r,n){super();ze(this,Oi);ze(this,pi);ze(this,Co);ze(this,Rn);ze(this,gi);ke(this,pi,r),this.setOptions(n),this.bindMethods(),st(this,Oi,Pg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=U(this,pi).defaultMutationOptions(r),lv(this.options,n)||U(this,pi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,Rn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&oc(n.mutationKey)!==oc(this.options.mutationKey)?this.reset():((s=U(this,Rn))==null?void 0:s.state.status)==="pending"&&U(this,Rn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=U(this,Rn))==null||r.removeObserver(this)}onMutationUpdate(r){st(this,Oi,Pg).call(this),st(this,Oi,Aj).call(this,r)}getCurrentResult(){return U(this,Co)}reset(){var r;(r=U(this,Rn))==null||r.removeObserver(this),ke(this,Rn,void 0),st(this,Oi,Pg).call(this),st(this,Oi,Aj).call(this)}mutate(r,n){var s;return ke(this,gi,n),(s=U(this,Rn))==null||s.removeObserver(this),ke(this,Rn,U(this,pi).getMutationCache().build(U(this,pi),this.options)),U(this,Rn).addObserver(this),U(this,Rn).execute(r)}},pi=new WeakMap,Co=new WeakMap,Rn=new WeakMap,gi=new WeakMap,Oi=new WeakSet,Pg=function(){var n;const r=((n=U(this,Rn))==null?void 0:n.state)??FI();ke(this,Co,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Aj=function(r){Dr.batch(()=>{var n,s,i,o,l,c,u,d;if(U(this,gi)&&this.hasListeners()){const f=U(this,Co).variables,h=U(this,Co).context,m={client:U(this,pi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=U(this,gi)).onSuccess)==null||s.call(n,r.data,f,h,m)}catch(g){Promise.reject(g)}try{(o=(i=U(this,gi)).onSettled)==null||o.call(i,r.data,null,f,h,m)}catch(g){Promise.reject(g)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=U(this,gi)).onError)==null||c.call(l,r.error,f,h,m)}catch(g){Promise.reject(g)}try{(d=(u=U(this,gi)).onSettled)==null||d.call(u,void 0,r.error,f,h,m)}catch(g){Promise.reject(g)}}}this.listeners.forEach(f=>{f(U(this,Co))})})},nM),Ra,sM,cV=(sM=class extends Fd{constructor(t={}){super();ze(this,Ra);this.config=t,ke(this,Ra,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??IS(s,r);let o=this.get(i);return o||(o=new tV({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){U(this,Ra).has(t.queryHash)||(U(this,Ra).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=U(this,Ra).get(t.queryHash);r&&(t.destroy(),r===t&&U(this,Ra).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Dr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,Ra).get(t)}getAll(){return[...U(this,Ra).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>k2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>k2(t,n)):r}notify(t){Dr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Dr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Dr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ra=new WeakMap,sM),mr,Eo,Oo,Bu,qu,Po,zu,Wu,aM,uV=(aM=class{constructor(e={}){ze(this,mr);ze(this,Eo);ze(this,Oo);ze(this,Bu);ze(this,qu);ze(this,Po);ze(this,zu);ze(this,Wu);ke(this,mr,e.queryCache||new cV),ke(this,Eo,e.mutationCache||new oV),ke(this,Oo,e.defaultOptions||{}),ke(this,Bu,new Map),ke(this,qu,new Map),ke(this,Po,0)}mount(){yp(this,Po)._++,U(this,Po)===1&&(ke(this,zu,FS.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,mr).onFocus())})),ke(this,Wu,cv.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,mr).onOnline())})))}unmount(){var e,t;yp(this,Po)._--,U(this,Po)===0&&((e=U(this,zu))==null||e.call(this),ke(this,zu,void 0),(t=U(this,Wu))==null||t.call(this),ke(this,Wu,void 0))}isFetching(e){return U(this,mr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,Eo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,mr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=U(this,mr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ko(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return U(this,mr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=U(this,mr).get(n.queryHash),i=s==null?void 0:s.state.data,o=WW(t,i);if(o!==void 0)return U(this,mr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Dr.batch(()=>U(this,mr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,mr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=U(this,mr);Dr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=U(this,mr);return Dr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Dr.batch(()=>U(this,mr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(jn).catch(jn)}invalidateQueries(e,t={}){return Dr.batch(()=>(U(this,mr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Dr.batch(()=>U(this,mr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(jn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(jn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=U(this,mr).build(this,t);return r.isStaleByTime(Ko(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(jn).catch(jn)}fetchInfiniteQuery(e){return e.behavior=M2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(jn).catch(jn)}ensureInfiniteQueryData(e){return e.behavior=M2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return cv.isOnline()?U(this,Eo).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,mr)}getMutationCache(){return U(this,Eo)}getDefaultOptions(){return U(this,Oo)}setDefaultOptions(e){ke(this,Oo,e)}setQueryDefaults(e,t){U(this,Bu).set(oc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,Bu).values()],r={};return t.forEach(n=>{Fh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){U(this,qu).set(oc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,qu).values()],r={};return t.forEach(n=>{Fh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,Oo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=IS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===DS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,Oo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,mr).clear(),U(this,Eo).clear()}},mr=new WeakMap,Eo=new WeakMap,Oo=new WeakMap,Bu=new WeakMap,qu=new WeakMap,Po=new WeakMap,zu=new WeakMap,Wu=new WeakMap,aM),UI=x.createContext(void 0),be=e=>{const t=x.useContext(UI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},dV=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(UI.Provider,{value:e,children:t})),BI=x.createContext(!1),fV=()=>x.useContext(BI);BI.Provider;function hV(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var mV=x.createContext(hV()),pV=()=>x.useContext(mV),gV=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?LS(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},vV=e=>{x.useEffect(()=>{e.clearReset()},[e])},yV=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||LS(r,[e.error,n])),xV=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},bV=(e,t)=>e.isLoading&&e.isFetching&&!t,wV=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,I2=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function jV(e,t,r){var h,m,g,p;const n=fV(),s=pV(),i=be(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",xV(o),gV(o,s,l),vV(s);const c=!i.getQueryCache().get(o.queryHash),[u]=x.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(y=>{const b=f?u.subscribe(Dr.batchCalls(y)):jn;return u.updateResult(),b},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),x.useEffect(()=>{u.setOptions(o)},[o,u]),wV(o,d))throw I2(o,u,s);if(yV({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((p=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||p.call(g,o,d),o.experimental_prefetchInRender&&!ic&&bV(d,n)){const y=c?I2(o,u,s):l==null?void 0:l.promise;y==null||y.catch(jn).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function Oe(e,t){return jV(e,rV)}function ye(e,t){const r=be(),[n]=x.useState(()=>new lV(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const s=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(Dr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((o,l)=>{n.mutate(o,l).catch(jn)},[n]);if(s.error&&LS(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var _V=e=>{switch(e){case"success":return kV;case"info":return EV;case"warning":return CV;case"error":return OV;default:return null}},SV=Array(12).fill(0),NV=({visible:e,className:t})=>P.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},P.createElement("div",{className:"sonner-spinner"},SV.map((r,n)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),kV=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),CV=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EV=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),OV=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),PV=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),AV=()=>{let[e,t]=P.useState(document.hidden);return P.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Tj=1,TV=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Tj++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],P.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(MV(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Tj++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Mn=new TV,RV=(e,t)=>{let r=(t==null?void 0:t.id)||Tj++;return Mn.addToast({title:e,...t,id:r}),r},MV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",$V=RV,IV=()=>Mn.toasts,DV=()=>Mn.getActiveToasts(),W=Object.assign($V,{success:Mn.success,info:Mn.info,warning:Mn.warning,error:Mn.error,custom:Mn.custom,message:Mn.message,promise:Mn.promise,dismiss:Mn.dismiss,loading:Mn.loading},{getHistory:IV,getToasts:DV});function LV(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}LV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Lp(e){return e.label!==void 0}var FV=3,UV="32px",BV="16px",D2=4e3,qV=356,zV=14,WV=20,VV=200;function Hs(...e){return e.filter(Boolean).join(" ")}function KV(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var HV=e=>{var t,r,n,s,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:y,visibleToasts:b,heights:v,index:w,toasts:S,expanded:j,removeToast:_,defaultRichColors:N,closeButton:k,style:C,cancelButtonStyle:A,actionButtonStyle:I,className:O="",descriptionClassName:B="",duration:T,position:z,gap:R,loadingIcon:V,expandByDefault:D,classNames:$,icons:M,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:Q}=e,[le,me]=P.useState(null),[We,Ve]=P.useState(null),[ce,qe]=P.useState(!1),[se,xe]=P.useState(!1),[H,G]=P.useState(!1),[Xe,Ke]=P.useState(!1),[yt,ot]=P.useState(!1),[zt,wr]=P.useState(0),[an,ms]=P.useState(0),L=P.useRef(m.duration||T||D2),K=P.useRef(null),F=P.useRef(null),oe=w===0,ue=w+1<=b,re=m.type,_e=m.dismissible!==!1,Pt=m.className||"",At=m.descriptionClassName||"",jr=P.useMemo(()=>v.findIndex(tt=>tt.toastId===m.id)||0,[v,m.id]),ai=P.useMemo(()=>{var tt;return(tt=m.closeButton)!=null?tt:k},[m.closeButton,k]),qs=P.useMemo(()=>m.duration||T||D2,[m.duration,T]),df=P.useRef(0),Ca=P.useRef(0),$c=P.useRef(0),Zi=P.useRef(null),[vp,Tb]=z.split("-"),ff=P.useMemo(()=>v.reduce((tt,Lt,sr)=>sr>=jr?tt:tt+Lt.height,0),[v,jr]),oC=AV(),sq=m.invert||h,Rb=re==="loading";Ca.current=P.useMemo(()=>jr*R+ff,[jr,ff]),P.useEffect(()=>{L.current=qs},[qs]),P.useEffect(()=>{qe(!0)},[]),P.useEffect(()=>{let tt=F.current;if(tt){let Lt=tt.getBoundingClientRect().height;return ms(Lt),y(sr=>[{toastId:m.id,height:Lt,position:m.position},...sr]),()=>y(sr=>sr.filter(zs=>zs.toastId!==m.id))}},[y,m.id]),P.useLayoutEffect(()=>{if(!ce)return;let tt=F.current,Lt=tt.style.height;tt.style.height="auto";let sr=tt.getBoundingClientRect().height;tt.style.height=Lt,ms(sr),y(zs=>zs.find(Ws=>Ws.toastId===m.id)?zs.map(Ws=>Ws.toastId===m.id?{...Ws,height:sr}:Ws):[{toastId:m.id,height:sr,position:m.position},...zs])},[ce,m.title,m.description,y,m.id]);let eo=P.useCallback(()=>{xe(!0),wr(Ca.current),y(tt=>tt.filter(Lt=>Lt.toastId!==m.id)),setTimeout(()=>{_(m)},VV)},[m,_,y,Ca]);P.useEffect(()=>{if(m.promise&&re==="loading"||m.duration===1/0||m.type==="loading")return;let tt;return j||p||Q&&oC?(()=>{if($c.current<df.current){let Lt=new Date().getTime()-df.current;L.current=L.current-Lt}$c.current=new Date().getTime()})():L.current!==1/0&&(df.current=new Date().getTime(),tt=setTimeout(()=>{var Lt;(Lt=m.onAutoClose)==null||Lt.call(m,m),eo()},L.current)),()=>clearTimeout(tt)},[j,p,m,re,Q,oC,eo]),P.useEffect(()=>{m.delete&&eo()},[eo,m.delete]);function aq(){var tt,Lt,sr;return M!=null&&M.loading?P.createElement("div",{className:Hs($==null?void 0:$.loader,(tt=m==null?void 0:m.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":re==="loading"},M.loading):V?P.createElement("div",{className:Hs($==null?void 0:$.loader,(Lt=m==null?void 0:m.classNames)==null?void 0:Lt.loader,"sonner-loader"),"data-visible":re==="loading"},V):P.createElement(NV,{className:Hs($==null?void 0:$.loader,(sr=m==null?void 0:m.classNames)==null?void 0:sr.loader),visible:re==="loading"})}return P.createElement("li",{tabIndex:0,ref:F,className:Hs(O,Pt,$==null?void 0:$.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[re],(r=m==null?void 0:m.classNames)==null?void 0:r[re]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":ce,"data-promise":!!m.promise,"data-swiped":yt,"data-removed":se,"data-visible":ue,"data-y-position":vp,"data-x-position":Tb,"data-index":w,"data-front":oe,"data-swiping":H,"data-dismissible":_e,"data-type":re,"data-invert":sq,"data-swipe-out":Xe,"data-swipe-direction":We,"data-expanded":!!(j||D&&ce),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${se?zt:Ca.current}px`,"--initial-height":D?"auto":`${an}px`,...C,...m.style},onDragEnd:()=>{G(!1),me(null),Zi.current=null},onPointerDown:tt=>{Rb||!_e||(K.current=new Date,wr(Ca.current),tt.target.setPointerCapture(tt.pointerId),tt.target.tagName!=="BUTTON"&&(G(!0),Zi.current={x:tt.clientX,y:tt.clientY}))},onPointerUp:()=>{var tt,Lt,sr,zs;if(Xe||!_e)return;Zi.current=null;let Ws=Number(((tt=F.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),to=Number(((Lt=F.current)==null?void 0:Lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gl=new Date().getTime()-((sr=K.current)==null?void 0:sr.getTime()),Vs=le==="x"?Ws:to,ro=Math.abs(Vs)/gl;if(Math.abs(Vs)>=WV||ro>.11){wr(Ca.current),(zs=m.onDismiss)==null||zs.call(m,m),Ve(le==="x"?Ws>0?"right":"left":to>0?"down":"up"),eo(),Ke(!0),ot(!1);return}G(!1),me(null)},onPointerMove:tt=>{var Lt,sr,zs,Ws;if(!Zi.current||!_e||((Lt=window.getSelection())==null?void 0:Lt.toString().length)>0)return;let to=tt.clientY-Zi.current.y,gl=tt.clientX-Zi.current.x,Vs=(sr=e.swipeDirections)!=null?sr:KV(z);!le&&(Math.abs(gl)>1||Math.abs(to)>1)&&me(Math.abs(gl)>Math.abs(to)?"x":"y");let ro={x:0,y:0};le==="y"?(Vs.includes("top")||Vs.includes("bottom"))&&(Vs.includes("top")&&to<0||Vs.includes("bottom")&&to>0)&&(ro.y=to):le==="x"&&(Vs.includes("left")||Vs.includes("right"))&&(Vs.includes("left")&&gl<0||Vs.includes("right")&&gl>0)&&(ro.x=gl),(Math.abs(ro.x)>0||Math.abs(ro.y)>0)&&ot(!0),(zs=F.current)==null||zs.style.setProperty("--swipe-amount-x",`${ro.x}px`),(Ws=F.current)==null||Ws.style.setProperty("--swipe-amount-y",`${ro.y}px`)}},ai&&!m.jsx?P.createElement("button",{"aria-label":te,"data-disabled":Rb,"data-close-button":!0,onClick:Rb||!_e?()=>{}:()=>{var tt;eo(),(tt=m.onDismiss)==null||tt.call(m,m)},className:Hs($==null?void 0:$.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=M==null?void 0:M.close)!=null?i:PV):null,m.jsx||x.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:P.createElement(P.Fragment,null,re||m.icon||m.promise?P.createElement("div",{"data-icon":"",className:Hs($==null?void 0:$.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||aq():null,m.type!=="loading"?m.icon||(M==null?void 0:M[re])||_V(re):null):null,P.createElement("div",{"data-content":"",className:Hs($==null?void 0:$.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},P.createElement("div",{"data-title":"",className:Hs($==null?void 0:$.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?P.createElement("div",{"data-description":"",className:Hs(B,At,$==null?void 0:$.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),x.isValidElement(m.cancel)?m.cancel:m.cancel&&Lp(m.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:tt=>{var Lt,sr;Lp(m.cancel)&&_e&&((sr=(Lt=m.cancel).onClick)==null||sr.call(Lt,tt),eo())},className:Hs($==null?void 0:$.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,x.isValidElement(m.action)?m.action:m.action&&Lp(m.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:tt=>{var Lt,sr;Lp(m.action)&&((sr=(Lt=m.action).onClick)==null||sr.call(Lt,tt),!tt.defaultPrevented&&eo())},className:Hs($==null?void 0:$.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function L2(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function GV(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?BV:UV;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var YV=x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=FV,toastOptions:p,dir:y=L2(),gap:b=zV,loadingIcon:v,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=e,[_,N]=P.useState([]),k=P.useMemo(()=>Array.from(new Set([n].concat(_.filter(Q=>Q.position).map(Q=>Q.position)))),[_,n]),[C,A]=P.useState([]),[I,O]=P.useState(!1),[B,T]=P.useState(!1),[z,R]=P.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=P.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=P.useRef(null),M=P.useRef(!1),te=P.useCallback(Q=>{N(le=>{var me;return(me=le.find(We=>We.id===Q.id))!=null&&me.delete||Mn.dismiss(Q.id),le.filter(({id:We})=>We!==Q.id)})},[]);return P.useEffect(()=>Mn.subscribe(Q=>{if(Q.dismiss){N(le=>le.map(me=>me.id===Q.id?{...me,delete:!0}:me));return}setTimeout(()=>{yI.flushSync(()=>{N(le=>{let me=le.findIndex(We=>We.id===Q.id);return me!==-1?[...le.slice(0,me),{...le[me],...Q},...le.slice(me+1)]:[Q,...le]})})})}),[]),P.useEffect(()=>{if(d!=="system"){R(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:le})=>{R(le?"dark":"light")})}catch{Q.addListener(({matches:me})=>{try{R(me?"dark":"light")}catch(We){console.error(We)}})}},[d]),P.useEffect(()=>{_.length<=1&&O(!1)},[_]),P.useEffect(()=>{let Q=le=>{var me,We;s.every(Ve=>le[Ve]||le.code===Ve)&&(O(!0),(me=V.current)==null||me.focus()),le.code==="Escape"&&(document.activeElement===V.current||(We=V.current)!=null&&We.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[s]),P.useEffect(()=>{if(V.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,M.current=!1)}},[V.current]),P.createElement("section",{ref:t,"aria-label":`${S} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((Q,le)=>{var me;let[We,Ve]=Q.split("-");return _.length?P.createElement("ol",{key:Q,dir:y==="auto"?L2():y,tabIndex:-1,ref:V,className:l,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":We,"data-lifted":I&&_.length>1&&!i,"data-x-position":Ve,style:{"--front-toast-height":`${((me=C[0])==null?void 0:me.height)||0}px`,"--width":`${qV}px`,"--gap":`${b}px`,...m,...GV(c,u)},onBlur:ce=>{M.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(M.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||M.current||(M.current=!0,$.current=ce.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{B||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},_.filter(ce=>!ce.position&&le===0||ce.position===Q).map((ce,qe)=>{var se,xe;return P.createElement(HV,{key:ce.id,icons:w,index:qe,toast:ce,defaultRichColors:f,duration:(se=p==null?void 0:p.duration)!=null?se:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(xe=p==null?void 0:p.closeButton)!=null?xe:o,interacting:B,position:Q,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:te,toasts:_.filter(H=>H.position==ce.position),heights:C.filter(H=>H.position==ce.position),setHeights:A,expandByDefault:i,gap:b,loadingIcon:v,expanded:I,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))}),$a=function(){return $a=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$a.apply(this,arguments)};function Ud(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function QV(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function XV(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const JV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class BS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ZV extends BS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class F2 extends BS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class U2 extends BS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Rj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Rj||(Rj={}));class e9{constructor(t,{headers:r={},customFetch:n,region:s=Rj.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=JV(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return QV(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let y=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(y=o.signal,d.addEventListener("abort",()=>o.abort())):y=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:y}).catch(j=>{throw new ZV(j)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new F2(b);if(!b.ok)throw new U2(b);let w=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield b.json():w==="application/octet-stream"||w==="application/pdf"?S=yield b.blob():w==="text/event-stream"?S=b:w==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof U2||l instanceof F2?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var t9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},r9=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),y=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&y&&y.length>1&&(c=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new t9(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},n9=class extends r9{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const B2=new RegExp("[,()]");var Jc=class extends n9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&B2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&B2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},s9=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new Jc({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Jc({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Jc({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Jc({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Jc({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},a9=class qI{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new s9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new qI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Jc({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class i9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const o9="2.93.3",l9=`realtime-js/${o9}`,c9="1.0.0",zI="2.0.0",q2=zI,Mj=1e4,u9=1e3,d9=100;var ho;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ho||(ho={}));var $r;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})($r||($r={}));var na;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(na||(na={}));var $j;(function(e){e.websocket="websocket"})($j||($j={}));var Cl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Cl||(Cl={}));class f9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,o.length),g.setUint8(p++,u.length),g.setUint8(p++,f.length),g.setUint8(p++,r),Array.from(c,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(p++,b.charCodeAt(0)));var y=new Uint8Array(m.byteLength+n.byteLength);return y.set(new Uint8Array(m),0),y.set(new Uint8Array(n),m.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class WI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ht||(Ht={}));const z2=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=h9(o,e,t,s),i),{}):{}},h9=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?VI(i,o):Ij(o)},VI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return v9(t,r)}switch(e){case Ht.bool:return m9(t);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return p9(t);case Ht.json:case Ht.jsonb:return g9(t);case Ht.timestamp:return y9(t);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return Ij(t);default:return Ij(t)}},Ij=e=>e,m9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},p9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},g9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},v9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>VI(t,l))}return e},y9=e=>typeof e=="string"?e.replace(" ","T"):e,KI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class lw{constructor(t,r,n={},s=Mj){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var W2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(W2||(W2={}));class ch{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ch.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=ch.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ch.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),g=d.filter(y=>m.indexOf(y.presence_ref)<0),p=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var V2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(V2||(V2={}));var uh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(uh||(uh={}));var di;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(di||(di={}));class pu{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=$r.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new lw(this,na.join,this.params,this.timeout),this.rejoinTimer=new WI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$r.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$r.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=$r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=$r.errored,this.rejoinTimer.scheduleTimeout())}),this._on(na.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ch(this),this.broadcastEndpointURL=KI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==$r.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[uh.PRESENCE]&&this.bindings[uh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(di.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(di.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(di.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,b=[];for(let v=0;v<y;v++){const w=p[v],{filter:{event:S,schema:j,table:_,filter:N}}=w,k=m&&m[v];if(k&&k.event===S&&pu.isFilterValueEqual(k.schema,j)&&pu.isFilterValueEqual(k.table,_)&&pu.isFilterValueEqual(k.filter,N))b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=$r.errored,t==null||t(di.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(di.SUBSCRIBED);return}}).receive("error",m=>{this.state=$r.errored,t==null||t(di.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(di.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===$r.joined&&t===uh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=$r.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(na.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new lw(this,na.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$r.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new lw(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>d9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=na;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,y;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(p=m.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,y,b,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return S&&((p=r.ids)===null||p===void 0?void 0:p.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(v=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:y,commit_timestamp:b,type:v,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:y,commit_timestamp:b,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===$r.closed}_isJoined(){return this.state===$r.joined}_isJoining(){return this.state===$r.joining}_isLeaving(){return this.state===$r.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pu.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(na.close,{},t)}_onError(t){this._on(na.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$r.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=z2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=z2(t.columns,t.old_record)),r}}const cw=()=>{},Fp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},x9=[1e3,2e3,5e3,1e4],b9=1e4,w9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class j9{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mj,this.transport=null,this.heartbeatIntervalMs=Fp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cw,this.ref=0,this.reconnectTimer=null,this.vsn=q2,this.logger=cw,this.conn=null,this.sendBuffer=[],this.serializer=new f9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${$j.websocket}`,this.httpEndpoint=KI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ho.connecting:return Cl.Connecting;case ho.open:return Cl.Open;case ho.closing:return Cl.Closing;default:return Cl.Closed}}isConnected(){return this.connectionState()===Cl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new pu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(u9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ho.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ho.open||this.conn.readyState===ho.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(na.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([w9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:l9};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(na.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new WI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Mj,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Fp.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:cw,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:q2,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>x9[g-1]||b9,this.vsn){case c9:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,p)=>p(JSON.parse(g));break;case zI:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Uh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _9(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function S9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function N9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=_9(e.baseUrl,n,s),c=await S9(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new Uh((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Up(e){return e.join("")}var k9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Up(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Up(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Up(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Up(e.namespace)}`}),!0}catch(t){if(t instanceof Uh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Uh&&r.status===409)return;throw r}}};function Dc(e){return e.join("")}var C9=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Uh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Uh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},E9=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=N9({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new k9(this.client,t),this.tableOps=new C9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},sx=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function ax(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Bp=class extends sx{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},HI=class extends sx{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const O9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),P9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Dj=e=>{if(Array.isArray(e))return e.map(r=>Dj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Dj(n)}),t},A9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function T9(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R9(e){var t=T9(e,"string");return Bh(t)=="symbol"?t:t+""}function M9(e,t,r){return(t=R9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(r),!0).forEach(function(n){M9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const H2=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},$9=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Bp(H2(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new Bp(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new Bp(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new Bp(s.statusText||`HTTP ${i} error`,i,o,n))}}else t(new HI(H2(e),e,n))},I9=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Je(Je({},s),r):(P9(n)?(s.headers=Je({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Je(Je({},s),r))};async function wf(e,t,r,n,s,i,o){return new Promise((l,c)=>{e(r,I9(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>$9(u,c,n,o))})}function GI(e="storage"){return{get:async(t,r,n,s)=>wf(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>wf(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>wf(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>wf(t,"HEAD",r,Je(Je({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>wf(t,"DELETE",r,s,i,n,e)}}const D9=GI("storage"),{get:qh,post:Zs,put:Lj,head:L9,remove:qS}=D9,ts=GI("vectors");var Bd=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=O9(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ax(r))return{data:null,error:r};throw r}}},F9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ax(t))return{data:null,error:t};throw t}}};let YI;YI=Symbol.toStringTag;var U9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[YI]="BlobDownloadBuilder",this.promise=null}asStream(){return new F9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ax(t))return{data:null,error:t};throw t}}};const B9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},G2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var q9=class extends Bd{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=Je(Je({},G2),n);let l=Je(Je({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Je(Je({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?Lj:Zs)(s.fetch,`${s.url}/object/${d}`,i,Je({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=Je({upsert:G2.upsert},n),d=Je(Je({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await Lj(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=Je({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Zs(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new sx("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Zs(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Zs(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await Zs(n.fetch,`${n.url}/object/sign/${s}`,Je({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await Zs(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>Je(Je({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>qh(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new U9(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Dj(await qh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await L9(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ax(n)&&n instanceof HI){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await qS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=Je(Je(Je({},B9),t),{},{prefix:e||""});return await Zs(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Je({},e);return await Zs(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const z9="2.93.3",Ym={"X-Client-Info":`storage-js/${z9}`};var W9=class extends Bd{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=Je(Je({},Ym),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await qh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await qh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Zs(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Lj(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Zs(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await qS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},V9=class extends Bd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},Ym),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Zs(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await qh(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await qS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!A9(e))throw new sx("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new E9({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},K9=class extends Bd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},Ym),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ts.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await ts.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ts.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await ts.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},H9=class extends Bd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},Ym),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ts.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ts.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ts.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ts.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ts.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},G9=class extends Bd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},Ym),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ts.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ts.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ts.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ts.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Y9=class extends G9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Q9(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Q9=class extends K9{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new X9(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},X9=class extends H9{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},J9=class extends W9{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new q9(this.url,this.headers,e,this.fetch)}get vectors(){return new Y9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new V9(this.url+"/iceberg",this.headers,this.fetch)}};const QI="2.93.3",Zc=30*1e3,Fj=3,uw=Fj*Zc,Z9="http://localhost:9999",eK="supabase.auth.token",tK={"X-Client-Info":`gotrue-js/${QI}`},Uj="X-Supabase-Api-Version",XI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nK=10*60*1e3;class zh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sK extends zh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aK(e){return Ue(e)&&e.name==="AuthApiError"}class El extends zh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vi extends zh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Qn extends Vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dw(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class Lc extends Vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qp extends Vi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zp extends Vi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iK(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class Y2 extends Vi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oK extends Vi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Bj extends Vi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function fw(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class Q2 extends Vi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class qj extends Vi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const uv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),X2=` 	
\r=`.split(""),lK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<X2.length;t+=1)e[X2[t].charCodeAt(0)]=-2;for(let t=0;t<uv.length;t+=1)e[uv[t].charCodeAt(0)]=t;return e})();function J2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uv[n]),t.queuedBits-=6}}function JI(e,t,r){const n=lK[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Z2(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{dK(o,n,r)};for(let o=0;o<e.length;o+=1)JI(e.charCodeAt(o),s,i);return t.join("")}function cK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function uK(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}cK(n,t)}}function dK(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Nu(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)JI(e.charCodeAt(s),r,n);return new Uint8Array(t)}function fK(e){const t=[];return uK(e,r=>t.push(r)),new Uint8Array(t)}function Ml(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>J2(s,r,n)),J2(null,r,n),t.join("")}function hK(e){return Math.round(Date.now()/1e3)+e}function mK(){return Symbol("auth-callback")}const Jr=()=>typeof window<"u"&&typeof document<"u",vl={tested:!1,writable:!1},ZI=()=>{if(!Jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vl.tested)return vl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vl.tested=!0,vl.writable=!0}catch{vl.tested=!0,vl.writable=!1}return vl.writable};function pK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const e4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",eu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},yl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Xr=async(e,t)=>{await e.removeItem(t)};class ix{constructor(){this.promise=new ix.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ix.promiseConstructor=Promise;function Wp(e){const t=e.split(".");if(t.length!==3)throw new qj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!rK.test(t[n]))throw new qj("JWT not in base64url format");return{header:JSON.parse(Z2(t[0])),payload:JSON.parse(Z2(t[1])),signature:Nu(t[2]),raw:{header:t[0],payload:t[1]}}}async function vK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yK(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function xK(e){return("0"+e.toString(16)).substr(-2)}function bK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,xK).join("")}async function wK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function jK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await wK(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fc(e,t,r=!1){const n=bK();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await eu(e,`${t}-code-verifier`,s);const i=await jK(n);return[i,n===i?"plain":"s256"]}const _K=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SK(e){const t=e.headers.get(Uj);if(!t||!t.match(_K))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function NK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Uc(e){if(!CK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function EK(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function eE(e){return JSON.parse(JSON.stringify(e))}const jl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OK=[502,503,504];async function tE(e){var t;if(!gK(e))throw new Bj(jl(e),0);if(OK.includes(e.status))throw new Bj(jl(e),e.status);let r;try{r=await e.json()}catch(i){throw new El(jl(i),i)}let n;const s=SK(e);if(s&&s.getTime()>=XI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Q2(jl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Qn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Q2(jl(r),e.status,r.weak_password.reasons);throw new sK(jl(r),e.status||500,n)}const PK=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ge(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Uj]||(i[Uj]=XI["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await AK(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function AK(e,t,r,n,s,i){const o=PK(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Bj(jl(c),0)}if(l.ok||await tE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await tE(c)}}function Qs(e){var t;let r=null;MK(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=hK(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function rE(e){const t=Qs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function TK(e){return{data:e,error:null}}function RK(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Ud(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function nE(e){return e}function MK(e){return e.access_token&&e.refresh_token&&e.expires_in}const mw=["global","local","others"];class $K{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=e4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=mw[0]){if(mw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mw.join(", ")}`);try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yo})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ud(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:RK,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yo})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:nE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Uc(t);try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yo})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Uc(t);try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:yo})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Uc(t);try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:yo})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Uc(t.userId);try{const{data:r,error:n}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Uc(t.userId),Uc(t.id);try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:nE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ue(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function sE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Bc={debug:!!(globalThis&&ZI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class t4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class IK extends t4{}async function DK(e,t,r){Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new IK(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function LK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function r4(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function FK(e){return parseInt(e,16)}function UK(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function BK(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=r4(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}b+=v}return`${y}
${b}`}class Nr extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class dv extends Nr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function qK({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Nr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Nr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Nr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Nr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Nr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Nr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Nr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(n4(o)){if(i.rp.id!==o)return new Nr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Nr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Nr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Nr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Nr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function zK({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Nr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(n4(n)){if(r.rpId!==n)return new Nr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Nr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Nr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Nr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class WK{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const VK=new WK;function KK(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Ud(e,["challenge","user","excludeCredentials"]),i=Nu(t).buffer,o=Object.assign(Object.assign({},r),{id:Nu(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Nu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function HK(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ud(e,["challenge","allowCredentials"]),s=Nu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Nu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function GK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ml(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ml(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function YK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ml(new Uint8Array(s.authenticatorData)),clientDataJSON:Ml(new Uint8Array(s.clientDataJSON)),signature:Ml(new Uint8Array(s.signature)),userHandle:s.userHandle?Ml(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function n4(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function aE(){var e,t;return!!(Jr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function QK(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dv("Browser returned unexpected credential type",t)}:{data:null,error:new dv("Empty credential response",t)}}catch(t){return{data:null,error:qK({error:t,options:e})}}}async function XK(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dv("Browser returned unexpected credential type",t)}:{data:null,error:new dv("Empty credential response",t)}}catch(t){return{data:null,error:zK({error:t,options:e})}}}const JK={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ZK={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fv(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=fv(l,o):n[i]=fv(o)}else n[i]=o}return n}function eH(e,t){return fv(JK,e,t||{})}function tH(e,t){return fv(ZK,e,t||{})}class rH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??VK.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const m=(await this.client.getUser()).data.user,g=((o=m==null?void 0:m.user_metadata)===null||o===void 0?void 0:o.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=eH(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await QK({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=tH(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await XK(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return Ue(l)?{data:null,error:l}:{data:null,error:new El("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new zh("rpId is required for WebAuthn authentication")};try{if(!aE())return{data:null,error:new El("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new El("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new zh("rpId is required for WebAuthn registration")};try{if(!aE())return{data:null,error:new El("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new El("Unexpected error in register",o)}}}}LK();const nH={url:Z9,storageKey:eK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function iE(e,t,r){return await r()}const qc={};class Wh{get jwks(){var t,r;return(r=(t=qc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){qc[this.storageKey]=Object.assign(Object.assign({},qc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=qc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){qc[this.storageKey]=Object.assign(Object.assign({},qc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},nH),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Wh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Wh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Jr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new $K({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=e4(i.fetch),this.lock=i.lock||iE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Jr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=DK:this.lock=iE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ZI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=sE(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${QI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Jr()&&(r=pK(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Jr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),iK(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?this._returnResult({error:r}):this._returnResult({error:new El("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qs}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Fc(this.storage,this.storageKey)),i=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Qs})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qs})}else throw new qp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Xr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:rE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:rE})}else throw new qp("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Lc;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:y,statement:b,options:v}=t;let w;if(Jr())if(typeof y=="object")w=y;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=r4(j[0]);let N=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await w.request({method:"eth_chainId"});N=FK(C)}const k={domain:S.host,address:_,statement:b,uri:S.href,version:"1",chainId:N,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=BK(k),g=await w.request({method:"personal_sign",params:[UK(m),_]})}try{const{data:p,error:y}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Qs});if(y)throw y;if(!p||!p.session||!p.user){const b=new Lc;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:y})}catch(p){if(Ue(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:y,wallet:b,statement:v,options:w}=t;let S;if(Jr())if(typeof b=="object")S=b;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let N;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")N=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)N=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=_}}try{const{data:y,error:b}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ml(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Qs});if(b)throw b;if(!y||!y.session||!y.user){const v=new Lc;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(Ue(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await yl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new oK;const{data:i,error:o}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Qs});if(await Xr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Lc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ue(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qs}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Lc;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Fc(this.storage,this.storageKey));const{error:f}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new qp("You must provide either an email or phone number.")}catch(l){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Qs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Fc(this.storage,this.storageKey));const u=await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:TK});return!((i=u.data)===null||i===void 0)&&i.url&&Jr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Qn;const{error:s}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new qp("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await yl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<uw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await yl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=hw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=EK(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yo}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qn}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:yo})})}catch(r){if(Ue(r))return dw(r)&&(await this._removeSession(),await Xr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Qn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Fc(this.storage,this.storageKey));const{data:u,error:d}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:yo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Wp(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Qn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Jr())throw new zp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Y2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Y2("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new zp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Zc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await yl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!dw(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(aK(l)&&(l.status===404||l.status===401||l.status===403)||dw(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Xr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=mK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Fc(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ue(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Qs}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Lc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yK(async s=>(s>0&&await vK(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&fw(i)&&Date.now()+o-n<Zc})}catch(n){if(this._debug(r,"error",n),Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await yl(this.storage,this.storageKey);if(s&&this.userStorage){let o=await yl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await eu(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:hw()}else if(s&&!s.user&&!s.user){const o=await yl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Xr(this.storage,this.storageKey+"-user"),await eu(this.storage,this.storageKey,s)):s.user=hw()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${uw}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),fw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Qn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ix;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Qn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Ue(i)){const o={data:null,error:i};return fw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Xr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await eu(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=eE(s);await eu(this.storage,this.storageKey,i)}else{const s=eE(r);await eu(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Xr(this.storage,this.storageKey),await Xr(this.storage,this.storageKey+"-code-verifier"),await Xr(this.storage,this.storageKey+"-user"),this.userStorage&&await Xr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Zc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Zc}ms, refresh threshold is ${Fj} ticks`),s<=Fj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof t4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Fc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?GK(t.webauthn.credential_response):YK(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:KK(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:HK(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:m}=Wp(t);let g=null;m.aal&&(g=m.aal);let p=g;const{data:{user:y},error:b}=await this.getUser(t);if(b)return this._returnResult({data:null,error:b});((n=(r=y==null?void 0:y.factors)===null||r===void 0?void 0:r.filter(S=>S.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:w},error:null}}catch(m){if(Ue(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Wp(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qn})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Qn});const o=await Ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Jr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Qn});const o=await Ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Jr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Qn})})}catch(t){if(Ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qn})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+nK>s)return n;const{data:i,error:o}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Wp(n);r!=null&&r.allowExpired||NK(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=kK(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,fK(`${l}.${c}`)))throw new qj("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}}Wh.nextInstanceID={};const sH=Wh,aH="2.93.3";let Hf="";typeof Deno<"u"?Hf="deno":typeof document<"u"?Hf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hf="react-native":Hf="node";const iH={"X-Client-Info":`supabase-js-${Hf}/${aH}`},oH={headers:iH},lH={schema:"public"},cH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uH={};function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function dH(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fH(e){var t=dH(e,"string");return Vh(t)=="symbol"?t:t+""}function hH(e,t,r){return(t=fH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){hH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const mH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pH=()=>Headers,gH=(e,t,r)=>{const n=mH(r),s=pH();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,pr(pr({},o),{},{headers:u}))}};function vH(e){return e.endsWith("/")?e:e+"/"}function yH(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:pr(pr({},c),s),auth:pr(pr({},u),i),realtime:pr(pr({},d),o),storage:{},global:pr(pr(pr({},f),l),{},{headers:pr(pr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function xH(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vH(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var bH=class extends sH{constructor(e){super(e)}},wH=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=xH(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:lH,realtime:uH,auth:pr(pr({},cH),{},{storageKey:o}),global:oH},c=yH(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=gH(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(pr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new a9(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new J9(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new e9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bH({url:this.authUrl.href,headers:pr(pr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new j9(this.realtimeUrl.href,pr(pr({},e),{},{params:pr(pr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const jH=(e,t,r)=>new wH(e,t,r);function _H(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}_H()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SH="https://prqmzdstrfmahymkekef.supabase.co",NH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycW16ZHN0cmZtYWh5bWtla2VmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDEwNjI5NiwiZXhwIjoyMDg1NjgyMjk2fQ.EE1JucZWP0ov1l93KyprUqoVMrLoNAUiJbl6xoHRSNs",q=jH(SH,NH);async function kH(e,t){const{error:r}=await q.auth.signInWithPassword({email:e,password:t});return r?{success:!1,error:r.message}:{success:!0}}async function CH(){const{error:e}=await q.auth.signOut({scope:"local"});return e?{success:!1,error:e.message}:{success:!0}}async function EH(){const{data:{session:e}}=await q.auth.getSession();return{user:(e==null?void 0:e.user)??null,session:e}}function OH(e){const{data:{subscription:t}}=q.auth.onAuthStateChange((r,n)=>{e(r,n)});return()=>t.unsubscribe()}async function PH(e,t){const r=typeof window<"u"?window.location.origin:"",n=t!=null&&t.redirectTo?`${r}${t.redirectTo.startsWith("/")?t.redirectTo:`/${t.redirectTo}`}`:`${r}/dashboard`,{error:s}=await q.auth.signInWithOAuth({provider:e,options:{redirectTo:n}});return s?{success:!1,error:s.message}:{success:!0}}async function AH(e,t,r){var c,u,d;const n=typeof window<"u"?window.location.origin:"",s=r!=null&&r.redirectTo?`${n}${r.redirectTo.startsWith("/")?r.redirectTo:`/${r.redirectTo}`}`:`${n}/verify-email`,{data:i,error:o}=await q.auth.signUp({email:e,password:t,options:{emailRedirectTo:s}});return o?{success:!1,error:o.message}:{success:!0,needsEmailVerification:!!(i.user&&!((u=(c=i.session)==null?void 0:c.user)!=null&&u.email_confirmed_at)&&((d=i.user.identities)==null?void 0:d.length))}}async function TH(e,t){const n=`${typeof window<"u"?window.location.origin:""}${t.startsWith("/")?t:`/${t}`}`,{error:s}=await q.auth.resetPasswordForEmail(e,{redirectTo:n});return s?{success:!1,error:s.message}:{success:!0}}async function RH(e){const{error:t}=await q.auth.updateUser({password:e});return t?{success:!1,error:t.message}:{success:!0}}function MH(){return typeof window>"u"?!1:window.location.hash.includes("type=recovery")}async function $H(){const{data:{user:e}}=await q.auth.getUser();if(!(e!=null&&e.email))return{success:!1,error:"You must be signed in to resend the verification email."};const r=`${typeof window<"u"?window.location.origin:""}/verify-email`,{error:n}=await q.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:r}});return n?{success:!1,error:n.message}:{success:!0}}async function lE(e){const t=e.trim();if(!t)return{success:!1,error:"Verification token is required."};const{error:r}=await q.auth.verifyOtp({token_hash:t,type:"email"});return r?{success:!1,error:r.message}:{success:!0}}function IH(){if(typeof window>"u")return null;const t=new URLSearchParams(window.location.search).get("token_hash");if(t)return t;const r=window.location.hash;return r?new URLSearchParams(r.replace(/^#/,"")).get("token_hash"):null}async function DH(){const{data:{user:e}}=await q.auth.getUser();return e?!!e.email_confirmed_at:!1}const s4=x.createContext(null);function LH({children:e}){const[t,r]=x.useState({user:null,session:null,isLoading:!0});x.useEffect(()=>{let i=!1;EH().then(({user:l,session:c})=>{i||r({user:l,session:c,isLoading:!1})});const o=OH((l,c)=>{i||r(u=>({...u,user:(c==null?void 0:c.user)??null,session:c,isLoading:!1}))});return()=>{i=!0,o()}},[]);const n=x.useCallback(async()=>{await CH(),r({user:null,session:null,isLoading:!1})},[]),s=x.useMemo(()=>({...t,signOut:n}),[t.user,t.session,t.isLoading,n]);return a.jsx(s4.Provider,{value:s,children:e})}function ox(){const e=x.useContext(s4);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function FH(){const{user:e,isLoading:t}=ox(),r=Ja();if(t)return a.jsxs("div",{className:"flex flex-1 items-center justify-center p-8",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent","aria-hidden":!0}),a.jsx("span",{className:"sr-only",children:"Loading"})]});if(!e){const n=encodeURIComponent(r.pathname+r.search);return a.jsx(_W,{to:`/login?returnTo=${n}`,state:{from:r},replace:!0})}return a.jsx(EI,{})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a4=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...BH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:a4("lucide",s),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const r=x.forwardRef(({className:n,...s},i)=>x.createElement(qH,{ref:i,iconNode:t,className:a4(`lucide-${UH(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=ie("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=ie("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=ie("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=ie("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=ie("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=ie("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=ie("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=ie("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=ie("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=ie("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=ie("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ie("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=ie("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=ie("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=ie("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=ie("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=ie("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=ie("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=ie("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=ie("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=ie("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=ie("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=ie("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=ie("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ie("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=ie("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=ie("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=ie("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=ie("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=ie("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ie("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ie("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=ie("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ie("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=ie("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=ie("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=ie("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ie("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=ie("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=ie("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=ie("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ie("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=ie("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=ie("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=ie("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ie("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=ie("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=ie("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=ie("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=ie("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=ie("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=ie("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=ie("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=ie("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=ie("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=ie("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=ie("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=ie("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=ie("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=ie("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=ie("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function S4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=S4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function wt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=S4(e))&&(n&&(n+=" "),n+=t);return n}const ZS="-",m7=e=>{const t=g7(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(ZS);return l[0]===""&&l.length!==1&&l.shift(),N4(l,t)||p7(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},N4=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?N4(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(ZS);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},mE=/^\[(.+)\]$/,p7=e=>{if(mE.test(e)){const t=mE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},g7=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return y7(Object.entries(e.classGroups),r).forEach(([i,o])=>{Wj(o,n,i,t)}),n},Wj=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:pE(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(v7(s)){Wj(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Wj(o,pE(t,i),r,n)})})},pE=(e,t)=>{let r=e;return t.split(ZS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},v7=e=>e.isThemeGetter,y7=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,x7=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},k4="!",b7=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let b=l[y];if(u===0){if(b===s&&(n||l.slice(y,y+i)===t)){c.push(l.slice(d,y)),d=y+i;continue}if(b==="/"){f=y;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(k4),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},w7=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},j7=e=>({cache:x7(e.cacheSize),parseClassName:b7(e),...m7(e)}),_7=/\s+/,S7=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(_7);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=w7(d).join(":"),b=f?y+k4:y,v=b+p;if(i.includes(v))continue;i.push(v);const w=s(p,g);for(let S=0;S<w.length;++S){const j=w[S];i.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function N7(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=C4(t))&&(n&&(n+=" "),n+=r);return n}const C4=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=C4(e[n]))&&(r&&(r+=" "),r+=t);return r};function k7(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=j7(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=S7(c,r);return s(c,d),d}return function(){return i(N7.apply(null,arguments))}}const Xt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},E4=/^\[(?:([a-z-]+):)?(.+)\]$/i,C7=/^\d+\/\d+$/,E7=new Set(["px","full","screen"]),O7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,T7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ii=e=>ku(e)||E7.has(e)||C7.test(e),so=e=>Wd(e,"length",B7),ku=e=>!!e&&!Number.isNaN(Number(e)),gw=e=>Wd(e,"number",ku),jf=e=>!!e&&Number.isInteger(Number(e)),M7=e=>e.endsWith("%")&&ku(e.slice(0,-1)),rt=e=>E4.test(e),ao=e=>O7.test(e),$7=new Set(["length","size","percentage"]),I7=e=>Wd(e,$7,O4),D7=e=>Wd(e,"position",O4),L7=new Set(["image","url"]),F7=e=>Wd(e,L7,z7),U7=e=>Wd(e,"",q7),_f=()=>!0,Wd=(e,t,r)=>{const n=E4.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},B7=e=>P7.test(e)&&!A7.test(e),O4=()=>!1,q7=e=>T7.test(e),z7=e=>R7.test(e),W7=()=>{const e=Xt("colors"),t=Xt("spacing"),r=Xt("blur"),n=Xt("brightness"),s=Xt("borderColor"),i=Xt("borderRadius"),o=Xt("borderSpacing"),l=Xt("borderWidth"),c=Xt("contrast"),u=Xt("grayscale"),d=Xt("hueRotate"),f=Xt("invert"),h=Xt("gap"),m=Xt("gradientColorStops"),g=Xt("gradientColorStopPositions"),p=Xt("inset"),y=Xt("margin"),b=Xt("opacity"),v=Xt("padding"),w=Xt("saturate"),S=Xt("scale"),j=Xt("sepia"),_=Xt("skew"),N=Xt("space"),k=Xt("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",rt,t],O=()=>[rt,t],B=()=>["",ii,so],T=()=>["auto",ku,rt],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",rt],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[ku,rt];return{cacheSize:500,separator:":",theme:{colors:[_f],spacing:[ii,so],blur:["none","",ao,rt],brightness:te(),borderColor:[e],borderRadius:["none","","full",ao,rt],borderSpacing:O(),borderWidth:B(),contrast:te(),grayscale:$(),hueRotate:te(),invert:$(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[M7,so],inset:I(),margin:I(),opacity:te(),padding:O(),saturate:te(),scale:te(),sepia:$(),skew:te(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[ao]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),rt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jf,rt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",jf,rt]}],"grid-cols":[{"grid-cols":[_f]}],"col-start-end":[{col:["auto",{span:["full",jf,rt]},rt]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[_f]}],"row-start-end":[{row:["auto",{span:[jf,rt]},rt]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,t]}],"min-w":[{"min-w":[rt,t,"min","max","fit"]}],"max-w":[{"max-w":[rt,t,"none","full","min","max","fit","prose",{screen:[ao]},ao]}],h:[{h:[rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ao,so]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gw]}],"font-family":[{font:[_f]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",ku,gw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ii,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ii,so]}],"underline-offset":[{"underline-offset":["auto",ii,rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),D7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",I7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},F7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[ii,rt]}],"outline-w":[{outline:[ii,so]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ii,so]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ao,U7]}],"shadow-color":[{shadow:[_f]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ao,rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[jf,rt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ii,so,gw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},V7=k7(W7);function J(...e){return V7(wt(e))}function K7({visible:e,message:t="Processing",className:r}){return e?a.jsxs("div",{role:"status","aria-live":"polite","aria-label":t,className:J("fixed inset-0 z-[100] flex flex-col items-center justify-center gap-4","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200",r),children:[a.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-xl bg-card p-8 shadow-card-hover",children:[a.jsx(pn,{className:"h-10 w-10 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:t})]}),a.jsx("span",{className:"sr-only",children:t})]}):null}function Ee(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function gE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Hi(...e){return t=>{let r=!1;const n=e.map(s=>{const i=gE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():gE(e[s],null)}}}}function pt(...e){return x.useCallback(Hi(...e),e)}function H7(e,t){const r=x.createContext(t),n=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Is(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=x.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,G7(s,...t)]}function G7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var br=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Y7=Fy[" useId ".trim().toString()]||(()=>{}),Q7=0;function Os(e){const[t,r]=x.useState(Y7());return br(()=>{r(n=>n??String(Q7++))},[e]),t?`radix-${t}`:""}var X7=Fy[" useInsertionEffect ".trim().toString()]||br;function Ga({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=J7({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=Z7(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function J7({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),s=x.useRef(r),i=x.useRef(t);return X7(()=>{i.current=t},[t]),x.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function Z7(e){return typeof e=="function"}function eG(e){const t=tG(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(nG);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function tG(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=aG(s),l=sG(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Hi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rG=Symbol("radix.slottable");function nG(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rG}function sG(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function aG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var iG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=iG.reduce((e,t)=>{const r=eG(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function P4(e,t){e&&Id.flushSync(()=>e.dispatchEvent(t))}function Hr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function oG(e,t=globalThis==null?void 0:globalThis.document){const r=Hr(e);x.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var lG="DismissableLayer",Vj="dismissableLayer.update",cG="dismissableLayer.pointerDownOutside",uG="dismissableLayer.focusOutside",vE,A4=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hx=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(A4),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),g=pt(t,N=>f(N)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(y),v=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=b,j=hG(N=>{const k=N.target,C=[...u.branches].some(A=>A.contains(k));!S||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),_=mG(N=>{const k=N.target;[...u.branches].some(A=>A.contains(k))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return oG(N=>{v===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(vE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),yE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=vE)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),yE())},[d,u]),x.useEffect(()=>{const N=()=>m({});return document.addEventListener(Vj,N),()=>document.removeEventListener(Vj,N)},[]),a.jsx(Qe.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,j.onPointerDownCapture)})});hx.displayName=lG;var dG="DismissableLayerBranch",fG=x.forwardRef((e,t)=>{const r=x.useContext(A4),n=x.useRef(null),s=pt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Qe.div,{...e,ref:s})});fG.displayName=dG;function hG(e,t=globalThis==null?void 0:globalThis.document){const r=Hr(e),n=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){T4(cG,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function mG(e,t=globalThis==null?void 0:globalThis.document){const r=Hr(e),n=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!n.current&&T4(uG,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function yE(){const e=new CustomEvent(Vj);document.dispatchEvent(e)}function T4(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?P4(s,i):s.dispatchEvent(i)}var vw="focusScope.autoFocusOnMount",yw="focusScope.autoFocusOnUnmount",xE={bubbles:!1,cancelable:!0},pG="FocusScope",mx=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=Hr(s),d=Hr(i),f=x.useRef(null),h=pt(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const S=w.target;l.contains(S)?f.current=S:lo(f.current,{select:!0})},y=function(w){if(m.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||lo(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&lo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),v.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){wE.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(vw,xE);l.addEventListener(vw,u),l.dispatchEvent(b),b.defaultPrevented||(gG(wG(R4(l)),{select:!0}),document.activeElement===p&&lo(l))}return()=>{l.removeEventListener(vw,u),setTimeout(()=>{const b=new CustomEvent(yw,xE);l.addEventListener(yw,d),l.dispatchEvent(b),b.defaultPrevented||lo(p??document.body,{select:!0}),l.removeEventListener(yw,d),wE.remove(m)},0)}}},[l,u,d,m]);const g=x.useCallback(p=>{if(!r&&!n||m.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(y&&b){const v=p.currentTarget,[w,S]=vG(v);w&&S?!p.shiftKey&&b===S?(p.preventDefault(),r&&lo(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&lo(S,{select:!0})):b===v&&p.preventDefault()}},[r,n,m.paused]);return a.jsx(Qe.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});mx.displayName=pG;function gG(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(lo(n,{select:t}),document.activeElement!==r)return}function vG(e){const t=R4(e),r=bE(t,e),n=bE(t.reverse(),e);return[r,n]}function R4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function bE(e,t){for(const r of e)if(!yG(r,{upTo:t}))return r}function yG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xG(e){return e instanceof HTMLInputElement&&"select"in e}function lo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&xG(e)&&t&&e.select()}}var wE=bG();function bG(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=jE(e,t),e.unshift(t)},remove(t){var r;e=jE(e,t),(r=e[0])==null||r.resume()}}}function jE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function wG(e){return e.filter(t=>t.tagName!=="A")}var jG="Portal",px=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=x.useState(!1);br(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?yI.createPortal(a.jsx(Qe.div,{...n,ref:t}),o):null});px.displayName=jG;function _G(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Kn=e=>{const{present:t,children:r}=e,n=SG(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=pt(n.ref,NG(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:i}):null};Kn.displayName="Presence";function SG(e){const[t,r]=x.useState(),n=x.useRef(null),s=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=_G(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Vp(n.current);i.current=l==="mounted"?u:"none"},[l]),br(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=Vp(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),br(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Vp(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=Vp(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Vp(e){return(e==null?void 0:e.animationName)||"none"}function NG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var xw=0;function eN(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_E()),document.body.insertAdjacentElement("beforeend",e[1]??_E()),xw++,()=>{xw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),xw--}},[])}function _E(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tg="right-scroll-bar-position",Rg="width-before-scroll-bar",kG="with-scroll-bars-hidden",CG="--removed-body-scroll-bar-size";function bw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EG(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var OG=typeof window<"u"?x.useLayoutEffect:x.useEffect,SE=new WeakMap;function PG(e,t){var r=EG(null,function(n){return e.forEach(function(s){return bw(s,n)})});return OG(function(){var n=SE.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||bw(l,null)}),i.forEach(function(l){s.has(l)||bw(l,o)})}SE.set(r,e)},[e]),r}function AG(e){return e}function TG(e,t){t===void 0&&(t=AG);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function RG(e){e===void 0&&(e={});var t=TG(null);return t.options=$a({async:!0,ssr:!1},e),t}var M4=function(e){var t=e.sideCar,r=Ud(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,$a({},r))};M4.isSideCarExport=!0;function MG(e,t){return e.useMedium(t),M4}var $4=RG(),ww=function(){},gx=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:ww,onWheelCapture:ww,onTouchMoveCapture:ww}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,y=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,w=e.gapMode,S=Ud(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,_=PG([r,t]),N=$a($a({},S),s);return x.createElement(x.Fragment,null,d&&x.createElement(j,{sideCar:$4,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:w}),o?x.cloneElement(x.Children.only(l),$a($a({},N),{ref:_})):x.createElement(v,$a({},N,{className:c,ref:_}),l))});gx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gx.classNames={fullWidth:Rg,zeroRight:Tg};var $G=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IG(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$G();return t&&e.setAttribute("nonce",t),e}function DG(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function LG(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var FG=function(){var e=0,t=null;return{add:function(r){e==0&&(t=IG())&&(DG(t,r),LG(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},UG=function(){var e=FG();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},I4=function(){var e=UG(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},BG={left:0,top:0,right:0,gap:0},jw=function(e){return parseInt(e||"",10)||0},qG=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[jw(r),jw(n),jw(s)]},zG=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return BG;var t=qG(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},WG=I4(),Cu="data-scroll-locked",VG=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(kG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Cu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Rg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Tg," .").concat(Tg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Rg," .").concat(Rg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Cu,`] {
    `).concat(CG,": ").concat(l,`px;
  }
`)},NE=function(){var e=parseInt(document.body.getAttribute(Cu)||"0",10);return isFinite(e)?e:0},KG=function(){x.useEffect(function(){return document.body.setAttribute(Cu,(NE()+1).toString()),function(){var e=NE()-1;e<=0?document.body.removeAttribute(Cu):document.body.setAttribute(Cu,e.toString())}},[])},HG=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;KG();var i=x.useMemo(function(){return zG(s)},[s]);return x.createElement(WG,{styles:VG(i,!t,s,r?"":"!important")})},Kj=!1;if(typeof window<"u")try{var Kp=Object.defineProperty({},"passive",{get:function(){return Kj=!0,!0}});window.addEventListener("test",Kp,Kp),window.removeEventListener("test",Kp,Kp)}catch{Kj=!1}var zc=Kj?{passive:!1}:!1,GG=function(e){return e.tagName==="TEXTAREA"},D4=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!GG(e)&&r[t]==="visible")},YG=function(e){return D4(e,"overflowY")},QG=function(e){return D4(e,"overflowX")},kE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=L4(e,n);if(s){var i=F4(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},XG=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},JG=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},L4=function(e,t){return e==="v"?YG(t):QG(t)},F4=function(e,t){return e==="v"?XG(t):JG(t)},ZG=function(e,t){return e==="h"&&t==="rtl"?-1:1},eY=function(e,t,r,n,s){var i=ZG(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=F4(e,l),g=m[0],p=m[1],y=m[2],b=p-y-i*g;(g||b)&&L4(e,l)&&(f+=b,h+=g);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Hp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},CE=function(e){return[e.deltaX,e.deltaY]},EE=function(e){return e&&"current"in e?e.current:e},tY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},rY=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nY=0,Wc=[];function sY(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),s=x.useState(nY++)[0],i=x.useState(I4)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=XV([e.lockRef.current],(e.shards||[]).map(EE),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=Hp(p),v=r.current,w="deltaX"in p?p.deltaX:v[0]-b[0],S="deltaY"in p?p.deltaY:v[1]-b[1],j,_=p.target,N=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&N==="h"&&_.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,A=C?C===_||C.contains(_):!1;if(A)return!1;var I=kE(N,_);if(!I)return!0;if(I?j=N:(j=N==="v"?"h":"v",I=kE(N,_)),!I)return!1;if(!n.current&&"changedTouches"in p&&(w||S)&&(n.current=j),!j)return!0;var O=n.current||j;return eY(O,y,p,O==="h"?w:S)},[]),c=x.useCallback(function(p){var y=p;if(!(!Wc.length||Wc[Wc.length-1]!==i)){var b="deltaY"in y?CE(y):Hp(y),v=t.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&tY(j.delta,b)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(EE).filter(Boolean).filter(function(j){return j.contains(y.target)}),S=w.length>0?l(y,w[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),u=x.useCallback(function(p,y,b,v){var w={name:p,delta:y,target:b,should:v,shadowParent:aY(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=x.useCallback(function(p){r.current=Hp(p),n.current=void 0},[]),f=x.useCallback(function(p){u(p.type,CE(p),p.target,l(p,e.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,Hp(p),p.target,l(p,e.lockRef.current))},[]);x.useEffect(function(){return Wc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,zc),document.addEventListener("touchmove",c,zc),document.addEventListener("touchstart",d,zc),function(){Wc=Wc.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,zc),document.removeEventListener("touchmove",c,zc),document.removeEventListener("touchstart",d,zc)}},[]);var m=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(i,{styles:rY(s)}):null,m?x.createElement(HG,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function aY(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const iY=MG($4,sY);var vx=x.forwardRef(function(e,t){return x.createElement(gx,$a({},e,{ref:t,sideCar:iY}))});vx.classNames=gx.classNames;var oY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vc=new WeakMap,Gp=new WeakMap,Yp={},_w=0,U4=function(e){return e&&(e.host||U4(e.parentNode))},lY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=U4(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},cY=function(e,t,r,n){var s=lY(t,Array.isArray(e)?e:[e]);Yp[r]||(Yp[r]=new WeakMap);var i=Yp[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Vc.get(h)||0)+1,y=(i.get(h)||0)+1;Vc.set(h,p),i.set(h,y),o.push(h),p===1&&g&&Gp.set(h,!0),y===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),_w++,function(){o.forEach(function(f){var h=Vc.get(f)-1,m=i.get(f)-1;Vc.set(f,h),i.set(f,m),h||(Gp.has(f)||f.removeAttribute(n),Gp.delete(f)),m||f.removeAttribute(r)}),_w--,_w||(Vc=new WeakMap,Vc=new WeakMap,Gp=new WeakMap,Yp={})}},tN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=oY(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),cY(n,s,r,"aria-hidden")):function(){return null}};function uY(e){const t=dY(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(hY);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function dY(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=pY(s),l=mY(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Hi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fY=Symbol("radix.slottable");function hY(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fY}function mY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function pY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var yx="Dialog",[B4]=Is(yx),[gY,wa]=B4(yx),q4=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=Ga({prop:n,defaultProp:s??!1,onChange:i,caller:yx});return a.jsx(gY,{scope:t,triggerRef:l,contentRef:c,contentId:Os(),titleId:Os(),descriptionId:Os(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};q4.displayName=yx;var z4="DialogTrigger",vY=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wa(z4,r),i=pt(t,s.triggerRef);return a.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sN(s.open),...n,ref:i,onClick:Ee(e.onClick,s.onOpenToggle)})});vY.displayName=z4;var rN="DialogPortal",[yY,W4]=B4(rN,{forceMount:void 0}),V4=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=wa(rN,t);return a.jsx(yY,{scope:t,forceMount:r,children:x.Children.map(n,o=>a.jsx(Kn,{present:r||i.open,children:a.jsx(px,{asChild:!0,container:s,children:o})}))})};V4.displayName=rN;var mv="DialogOverlay",K4=x.forwardRef((e,t)=>{const r=W4(mv,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=wa(mv,e.__scopeDialog);return i.modal?a.jsx(Kn,{present:n||i.open,children:a.jsx(bY,{...s,ref:t})}):null});K4.displayName=mv;var xY=uY("DialogOverlay.RemoveScroll"),bY=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wa(mv,r);return a.jsx(vx,{as:xY,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Qe.div,{"data-state":sN(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),lc="DialogContent",H4=x.forwardRef((e,t)=>{const r=W4(lc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=wa(lc,e.__scopeDialog);return a.jsx(Kn,{present:n||i.open,children:i.modal?a.jsx(wY,{...s,ref:t}):a.jsx(jY,{...s,ref:t})})});H4.displayName=lc;var wY=x.forwardRef((e,t)=>{const r=wa(lc,e.__scopeDialog),n=x.useRef(null),s=pt(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return tN(i)},[]),a.jsx(G4,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ee(e.onFocusOutside,i=>i.preventDefault())})}),jY=x.forwardRef((e,t)=>{const r=wa(lc,e.__scopeDialog),n=x.useRef(!1),s=x.useRef(!1);return a.jsx(G4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),G4=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=wa(lc,r),c=x.useRef(null),u=pt(t,c);return eN(),a.jsxs(a.Fragment,{children:[a.jsx(mx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(hx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":sN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(_Y,{titleId:l.titleId}),a.jsx(NY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),nN="DialogTitle",Y4=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wa(nN,r);return a.jsx(Qe.h2,{id:s.titleId,...n,ref:t})});Y4.displayName=nN;var Q4="DialogDescription",X4=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wa(Q4,r);return a.jsx(Qe.p,{id:s.descriptionId,...n,ref:t})});X4.displayName=Q4;var J4="DialogClose",Z4=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wa(J4,r);return a.jsx(Qe.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,()=>s.onOpenChange(!1))})});Z4.displayName=J4;function sN(e){return e?"open":"closed"}var eD="DialogTitleWarning",[l$e,tD]=H7(eD,{contentName:lc,titleName:nN,docsSlug:"dialog"}),_Y=({titleId:e})=>{const t=tD(eD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},SY="DialogDescriptionWarning",NY=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tD(SY).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},kY=q4,CY=V4,rD=K4,nD=H4,sD=Y4,aD=X4,EY=Z4;const Le=kY,OY=CY,iD=x.forwardRef(({className:e,...t},r)=>a.jsx(rD,{ref:r,className:J("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));iD.displayName=rD.displayName;const Re=x.forwardRef(({className:e,children:t,showClose:r=!0,...n},s)=>a.jsxs(OY,{children:[a.jsx(iD,{}),a.jsxs(nD,{ref:s,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[640px] translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",e),...n,children:[t,r&&a.jsxs(EY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(rd,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Re.displayName=nD.displayName;const Me=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Me.displayName="DialogHeader";const Be=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Be.displayName="DialogFooter";const $e=x.forwardRef(({className:e,...t},r)=>a.jsx(sD,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));$e.displayName=sD.displayName;const Ie=x.forwardRef(({className:e,...t},r)=>a.jsx(aD,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Ie.displayName=aD.displayName;var PY=Symbol.for("react.lazy"),pv=Fy[" use ".trim().toString()];function AY(e){return typeof e=="object"&&e!==null&&"then"in e}function oD(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===PY&&"_payload"in e&&AY(e._payload)}function tp(e){const t=RY(e),r=x.forwardRef((n,s)=>{let{children:i,...o}=n;oD(i)&&typeof pv=="function"&&(i=pv(i._payload));const l=x.Children.toArray(i),c=l.find($Y);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var TY=tp("Slot");function RY(e){const t=x.forwardRef((r,n)=>{let{children:s,...i}=r;if(oD(s)&&typeof pv=="function"&&(s=pv(s._payload)),x.isValidElement(s)){const o=DY(s),l=IY(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Hi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var MY=Symbol("radix.slottable");function $Y(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MY}function IY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function DY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const OE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,PE=wt,aN=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return PE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=OE(d)||OE(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,y]=g;return Array.isArray(y)?y.includes({...i,...l}[p]):{...i,...l}[p]===y})?[...u,f,h]:u},[]);return PE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},LY=aN("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow hover:opacity-90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:opacity-90",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),E=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?TY:"button";return a.jsx(o,{className:J(LY({variant:t,size:r,className:e})),ref:i,...s})});E.displayName="Button";function FY({open:e,onOpenChange:t,message:r="Operation completed successfully.",nextSteps:n,onClose:s,className:i}){const o=l=>{l||s==null||s(),t(l)};return a.jsx(Le,{open:e,onOpenChange:o,children:a.jsxs(Re,{showClose:!0,className:J("max-w-[640px]",i),"aria-describedby":"operation-success-description",children:[a.jsx(Me,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15",children:a.jsx(Mi,{className:"h-6 w-6 text-success","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx($e,{children:"Success"}),a.jsx(Ie,{id:"operation-success-description",children:r})]})]})}),n&&n.length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/30 p-4",children:[a.jsx("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Next steps"}),a.jsx("ul",{className:"flex flex-col gap-2",children:n.map((l,c)=>a.jsx("li",{children:l.href?a.jsx(E,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",asChild:!0,children:a.jsx("a",{href:l.href,children:l.label})}):a.jsx(E,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",onClick:()=>{var u;(u=l.onClick)==null||u.call(l),o(!1)},children:l.label})},c))})]}),a.jsx(Be,{children:a.jsx(E,{onClick:()=>o(!1),className:"transition-transform hover:scale-[1.02]",children:"Done"})})]})})}function UY({open:e,onOpenChange:t,message:r="Are you sure you want to cancel this operation? Progress may be lost.",confirmLabel:n="Yes, cancel",onConfirm:s,onCancel:i,isConfirming:o=!1,className:l}){const c=()=>{s==null||s(),t(!1)},u=()=>{i==null||i(),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{showClose:!0,className:J("max-w-[640px]",l),"aria-describedby":"abort-confirm-description",children:[a.jsx(Me,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-warning/15",children:a.jsx(ol,{className:"h-6 w-6 text-warning","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx($e,{children:"Cancel operation?"}),a.jsx(Ie,{id:"abort-confirm-description",children:r})]})]})}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{variant:"outline",onClick:u,disabled:o,className:"transition-transform hover:scale-[1.02]",children:"No, continue"}),a.jsx(E,{variant:"destructive",onClick:c,disabled:o,className:"transition-transform hover:scale-[1.02]",children:o?"Cancelling":n})]})]})})}const AE={visible:!1},TE={visible:!1},RE={visible:!1},lD=x.createContext(null);function BY({children:e}){const[t,r]=x.useState(AE),[n,s]=x.useState(TE),[i,o]=x.useState(RE),l=x.useCallback(g=>{r({visible:!0,message:g})},[]),c=x.useCallback(()=>{r(AE)},[]),u=x.useCallback((g,p)=>{s({visible:!0,message:g,nextSteps:p})},[]),d=x.useCallback(()=>{s(TE)},[]),f=x.useCallback(g=>{o({visible:!0,message:g.message,onConfirm:g.onConfirm,onCancel:g.onCancel,confirmLabel:g.confirmLabel})},[]),h=x.useCallback(()=>{o(RE)},[]),m=x.useMemo(()=>({loading:t,success:n,abortConfirm:i,showLoading:l,hideLoading:c,showSuccess:u,hideSuccess:d,showAbortConfirm:f,hideAbortConfirm:h}),[t,n,i,l,c,u,d,f,h]);return a.jsx(lD.Provider,{value:m,children:e})}function qY(){const e=x.useContext(lD);if(!e)throw new Error("useOperationStateContext must be used within OperationStateProvider");return e}function zY(){const{loading:e,success:t,abortConfirm:r,hideSuccess:n,hideAbortConfirm:s}=qY();return a.jsxs(a.Fragment,{children:[a.jsx(K7,{visible:e.visible,message:e.message}),a.jsx(FY,{open:t.visible,onOpenChange:i=>!i&&n(),message:t.message,nextSteps:t.nextSteps,onClose:n}),a.jsx(UY,{open:r.visible,onOpenChange:i=>!i&&s(),message:r.message,confirmLabel:r.confirmLabel??"Yes, cancel",onConfirm:r.onConfirm,onCancel:r.onCancel})]})}function WY({children:e}){return a.jsxs(BY,{children:[a.jsx(zY,{}),e]})}var VY=x.createContext(void 0);function Vd(e){const t=x.useContext(VY);return e||t||"ltr"}function Hj(e,[t,r]){return Math.min(r,Math.max(t,e))}function KY(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var iN="ScrollArea",[cD]=Is(iN),[HY,Ds]=cD(iN),uD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,g]=x.useState(null),[p,y]=x.useState(null),[b,v]=x.useState(0),[w,S]=x.useState(0),[j,_]=x.useState(!1),[N,k]=x.useState(!1),C=pt(t,I=>c(I)),A=Vd(s);return a.jsx(HY,{scope:r,type:n,dir:A,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:_,scrollbarY:p,onScrollbarYChange:y,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:v,onCornerHeightChange:S,children:a.jsx(Qe.div,{dir:A,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});uD.displayName=iN;var dD="ScrollAreaViewport",fD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=Ds(dD,r),l=x.useRef(null),c=pt(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Qe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});fD.displayName=dD;var Za="ScrollAreaScrollbar",oN=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ds(Za,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(GY,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(YY,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(hD,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(lN,{...n,ref:t}):null});oN.displayName=Za;var GY=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ds(Za,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Kn,{present:r||i,children:a.jsx(hD,{"data-state":i?"visible":"hidden",...n,ref:t})})}),YY=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ds(Za,e.__scopeScrollArea),i=e.orientation==="horizontal",o=bx(()=>c("SCROLL_END"),100),[l,c]=KY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),x.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(Kn,{present:r||l!=="hidden",children:a.jsx(lN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ee(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ee(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),hD=x.forwardRef((e,t)=>{const r=Ds(Za,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=x.useState(!1),l=e.orientation==="horizontal",c=bx(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return nd(r.viewport,c),nd(r.content,c),a.jsx(Kn,{present:n||i,children:a.jsx(lN,{"data-state":i?"visible":"hidden",...s,ref:t})})}),lN=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Ds(Za,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=yD(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return tQ(h,o.current,l,m)}return r==="horizontal"?a.jsx(QY,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=ME(h,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(XY,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=ME(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),QY=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ds(Za,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=pt(t,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(pD,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":xx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),bD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:vv(o.paddingLeft),paddingEnd:vv(o.paddingRight)}})}})}),XY=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ds(Za,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=pt(t,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(pD,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":xx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),bD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:vv(o.paddingTop),paddingEnd:vv(o.paddingBottom)}})}})}),[JY,mD]=cD(Za),pD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Ds(Za,r),[g,p]=x.useState(null),y=pt(t,C=>p(C)),b=x.useRef(null),v=x.useRef(""),w=m.viewport,S=n.content-n.viewport,j=Hr(d),_=Hr(c),N=bx(f,10);function k(C){if(b.current){const A=C.clientX-b.current.left,I=C.clientY-b.current.top;u({x:A,y:I})}}return x.useEffect(()=>{const C=A=>{const I=A.target;(g==null?void 0:g.contains(I))&&j(A,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,S,j]),x.useEffect(_,[n,_]),nd(g,N),nd(m.content,N),a.jsx(JY,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:Hr(i),onThumbPointerUp:Hr(o),onThumbPositionChange:_,onThumbPointerDown:Hr(l),children:a.jsx(Qe.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Ee(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:Ee(e.onPointerMove,k),onPointerUp:Ee(e.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),gv="ScrollAreaThumb",gD=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mD(gv,e.__scopeScrollArea);return a.jsx(Kn,{present:r||s.hasThumb,children:a.jsx(ZY,{ref:t,...n})})}),ZY=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Ds(gv,r),o=mD(gv,r),{onThumbPositionChange:l}=o,c=pt(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=bx(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=rQ(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Qe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ee(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:Ee(e.onPointerUp,o.onThumbPointerUp)})});gD.displayName=gv;var cN="ScrollAreaCorner",vD=x.forwardRef((e,t)=>{const r=Ds(cN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(eQ,{...e,ref:t}):null});vD.displayName=cN;var eQ=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Ds(cN,r),[i,o]=x.useState(0),[l,c]=x.useState(0),u=!!(i&&l);return nd(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),nd(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Qe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vv(e){return e?parseInt(e,10):0}function yD(e,t){const r=e/t;return isNaN(r)?0:r}function xx(e){const t=yD(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function tQ(e,t,r,n="ltr"){const s=xx(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return xD([c,u],f)(e)}function ME(e,t,r="ltr"){const n=xx(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Hj(e,c);return xD([0,o],[0,l])(u)}function xD(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function bD(e,t){return e>0&&e<t}var rQ=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function bx(e,t){const r=Hr(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function nd(e,t){const r=Hr(t);br(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var wD=uD,nQ=fD,sQ=vD;const jt=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(wD,{ref:n,className:J("relative overflow-hidden",e),...r,children:[a.jsx(nQ,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(jD,{}),a.jsx(sQ,{})]}));jt.displayName=wD.displayName;const jD=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(oN,{ref:n,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(gD,{className:"relative flex-1 rounded-full bg-border"})}));jD.displayName=oN.displayName;var aQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iQ=aQ.reduce((e,t)=>{const r=tp(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),oQ="Separator",$E="horizontal",lQ=["horizontal","vertical"],_D=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=$E,...s}=e,i=cQ(n)?n:$E,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(iQ.div,{"data-orientation":i,...l,...s,ref:t})});_D.displayName=oQ;function cQ(e){return lQ.includes(e)}var SD=_D;const uN=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(SD,{ref:s,decorative:r,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));uN.displayName=SD.displayName;const uQ=[{to:"/dashboard",label:"Dashboard",icon:GS},{to:"/profile",label:"Profile",icon:ep},{to:"/chat",label:"Chat Session",icon:Jm},{to:"/channels",label:"Channels & Adapters",icon:s7},{to:"/skills",label:"Skills Library",icon:WS},{to:"/skill-editor",label:"Skill Editor",icon:or},{to:"/marketplace",label:"Marketplace",icon:dx},{to:"/nodes",label:"Nodes",icon:qa},{to:"/cron",label:"Cron Jobs",icon:qd},{to:"/webhooks",label:"Webhooks & Hooks",icon:zj},{to:"/model-providers",label:"Model Providers",icon:i4},{to:"/browser",label:"Browser Automation",icon:ux},{to:"/voice",label:"Voice & Media",icon:Gh},{to:"/secrets",label:"Secrets & Keychain",icon:Hh},{to:"/settings",label:"Settings",icon:ha},{to:"/security",label:"Security Audit",icon:Or},{to:"/logs",label:"Logs & Tracing",icon:or},{to:"/admin",label:"Admin",icon:Or}];function dQ(){const[e,t]=x.useState(!1);return a.jsxs("aside",{className:J("flex flex-col border-r border-border bg-card transition-[width] duration-200",e?"w-[72px]":"w-56"),children:[a.jsxs("div",{className:"flex h-14 items-center justify-between border-b border-border px-3",children:[!e&&a.jsx("span",{className:"truncate text-sm font-semibold",children:"Clawgate"}),a.jsx(E,{variant:"ghost",size:"icon",onClick:()=>t(r=>!r),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(Wn,{className:"h-4 w-4"}):a.jsx(o4,{className:"h-4 w-4"})})]}),a.jsx(jt,{className:"flex-1 py-2",children:a.jsx("nav",{className:"flex flex-col gap-0.5 px-2",children:uQ.map(({to:r,label:n,icon:s})=>a.jsxs(DW,{to:r,className:({isActive:i})=>J("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",e&&"justify-center px-2"),children:[a.jsx(s,{className:"h-5 w-5 shrink-0"}),!e&&a.jsx("span",{className:"truncate",children:n})]},r))})}),a.jsx(uN,{})]})}const ge=x.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ge.displayName="Input";function fQ(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=x.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,hQ(s,...t)]}function hQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var mQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dN=mQ.reduce((e,t)=>{const r=tp(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ND={exports:{}},kD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=x;function pQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gQ=typeof Object.is=="function"?Object.is:pQ,vQ=sd.useState,yQ=sd.useEffect,xQ=sd.useLayoutEffect,bQ=sd.useDebugValue;function wQ(e,t){var r=t(),n=vQ({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return xQ(function(){s.value=r,s.getSnapshot=t,Sw(s)&&i({inst:s})},[e,r,t]),yQ(function(){return Sw(s)&&i({inst:s}),e(function(){Sw(s)&&i({inst:s})})},[e]),bQ(r),r}function Sw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gQ(e,r)}catch{return!0}}function jQ(e,t){return t()}var _Q=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jQ:wQ;kD.useSyncExternalStore=sd.useSyncExternalStore!==void 0?sd.useSyncExternalStore:_Q;ND.exports=kD;var SQ=ND.exports;function NQ(){return SQ.useSyncExternalStore(kQ,()=>!0,()=>!1)}function kQ(){return()=>{}}var fN="Avatar",[CQ]=fQ(fN),[EQ,CD]=CQ(fN),ED=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=x.useState("idle");return a.jsx(EQ,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(dN.span,{...n,ref:t})})});ED.displayName=fN;var OD="AvatarImage",PD=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=CD(OD,r),l=OQ(n,i),c=Hr(u=>{s(u),o.onImageLoadingStatusChange(u)});return br(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(dN.img,{...i,ref:t,src:n}):null});PD.displayName=OD;var AD="AvatarFallback",TD=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=CD(AD,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(dN.span,{...s,ref:t}):null});TD.displayName=AD;function IE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function OQ(e,{referrerPolicy:t,crossOrigin:r}){const n=NQ(),s=x.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=x.useState(()=>IE(i,e));return br(()=>{l(IE(i,e))},[i,e]),br(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var RD=ED,MD=PD,$D=TD;const wx=x.forwardRef(({className:e,...t},r)=>a.jsx(RD,{ref:r,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));wx.displayName=RD.displayName;const hN=x.forwardRef(({className:e,...t},r)=>a.jsx(MD,{ref:r,className:J("aspect-square h-full w-full",e),...t}));hN.displayName=MD.displayName;const jx=x.forwardRef(({className:e,...t},r)=>a.jsx($D,{ref:r,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted text-sm font-medium",e),...t}));jx.displayName=$D.displayName;function DE(e){const t=PQ(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(TQ);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function PQ(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=MQ(s),l=RQ(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Hi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AQ=Symbol("radix.slottable");function TQ(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AQ}function RQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function MQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _x(e){const t=e+"CollectionProvider",[r,n]=Is(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:b}=p,v=P.useRef(null),w=P.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:w,collectionRef:v,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=DE(l),u=P.forwardRef((p,y)=>{const{scope:b,children:v}=p,w=i(l,b),S=pt(y,w.collectionRef);return a.jsx(c,{ref:S,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=DE(d),m=P.forwardRef((p,y)=>{const{scope:b,children:v,...w}=p,S=P.useRef(null),j=pt(y,S),_=i(d,b);return P.useEffect(()=>(_.itemMap.set(S,{ref:S,...w}),()=>void _.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:j,children:v})});m.displayName=d;function g(p){const y=i(e+"CollectionConsumer",p);return P.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((_,N)=>w.indexOf(_.ref.current)-w.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}const $Q=["top","right","bottom","left"],Zo=Math.min,es=Math.max,yv=Math.round,Qp=Math.floor,Wa=e=>({x:e,y:e}),IQ={left:"right",right:"left",bottom:"top",top:"bottom"},DQ={start:"end",end:"start"};function Gj(e,t,r){return es(e,Zo(t,r))}function $i(e,t){return typeof e=="function"?e(t):e}function Ii(e){return e.split("-")[0]}function Kd(e){return e.split("-")[1]}function mN(e){return e==="x"?"y":"x"}function pN(e){return e==="y"?"height":"width"}const LQ=new Set(["top","bottom"]);function Ia(e){return LQ.has(Ii(e))?"y":"x"}function gN(e){return mN(Ia(e))}function FQ(e,t,r){r===void 0&&(r=!1);const n=Kd(e),s=gN(e),i=pN(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=xv(o)),[o,xv(o)]}function UQ(e){const t=xv(e);return[Yj(e),t,Yj(t)]}function Yj(e){return e.replace(/start|end/g,t=>DQ[t])}const LE=["left","right"],FE=["right","left"],BQ=["top","bottom"],qQ=["bottom","top"];function zQ(e,t,r){switch(e){case"top":case"bottom":return r?t?FE:LE:t?LE:FE;case"left":case"right":return t?BQ:qQ;default:return[]}}function WQ(e,t,r,n){const s=Kd(e);let i=zQ(Ii(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Yj)))),i}function xv(e){return e.replace(/left|right|bottom|top/g,t=>IQ[t])}function VQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function ID(e){return typeof e!="number"?VQ(e):{top:e,right:e,bottom:e,left:e}}function bv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function UE(e,t,r){let{reference:n,floating:s}=e;const i=Ia(t),o=gN(t),l=pN(o),c=Ii(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Kd(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}async function KQ(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=$i(t,e),g=ID(m),y=l[h?f==="floating"?"reference":"floating":f],b=bv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=bv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(b.top-j.top+g.top)/S.y,bottom:(j.bottom-b.bottom+g.bottom)/S.y,left:(b.left-j.left+g.left)/S.x,right:(j.right-b.right+g.right)/S.x}}const HQ=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=UE(u,n,c),h=n,m={},g=0;for(let y=0;y<l.length;y++){var p;const{name:b,fn:v}=l[y],{x:w,y:S,data:j,reset:_}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:{...o,detectOverflow:(p=o.detectOverflow)!=null?p:KQ},elements:{reference:e,floating:t}});d=w??d,f=S??f,m={...m,[b]:{...m[b],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=UE(u,h,c)),y=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}},GQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=$i(e,t)||{};if(u==null)return{};const f=ID(d),h={x:r,y:n},m=gN(s),g=pN(m),p=await o.getDimensions(u),y=m==="y",b=y?"top":"left",v=y?"bottom":"right",w=y?"clientHeight":"clientWidth",S=i.reference[g]+i.reference[m]-h[m]-i.floating[g],j=h[m]-i.reference[m],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=_?_[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(_)))&&(N=l.floating[w]||i.floating[g]);const k=S/2-j/2,C=N/2-p[g]/2-1,A=Zo(f[b],C),I=Zo(f[v],C),O=A,B=N-p[g]-I,T=N/2-p[g]/2+k,z=Gj(O,T,B),R=!c.arrow&&Kd(s)!=null&&T!==z&&i.reference[g]/2-(T<O?A:I)-p[g]/2<0,V=R?T<O?T-O:T-B:0;return{[m]:h[m]+V,data:{[m]:z,centerOffset:T-z-V,...R&&{alignmentOffset:V}},reset:R}}}),YQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...y}=$i(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Ii(s),v=Ia(l),w=Ii(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[xv(l)]:UQ(l)),_=g!=="none";!h&&_&&j.push(...WQ(l,p,g,S));const N=[l,...j],k=await c.detectOverflow(t,y),C=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[b]),f){const T=FQ(s,o,S);C.push(k[T[0]],k[T[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(T=>T<=0)){var I,O;const T=(((I=i.flip)==null?void 0:I.index)||0)+1,z=N[T];if(z&&(!(f==="alignment"?v!==Ia(z):!1)||A.every(D=>Ia(D.placement)===v?D.overflows[0]>0:!0)))return{data:{index:T,overflows:A},reset:{placement:z}};let R=(O=A.filter(V=>V.overflows[0]<=0).sort((V,D)=>V.overflows[1]-D.overflows[1])[0])==null?void 0:O.placement;if(!R)switch(m){case"bestFit":{var B;const V=(B=A.filter(D=>{if(_){const $=Ia(D.placement);return $===v||$==="y"}return!0}).map(D=>[D.placement,D.overflows.filter($=>$>0).reduce(($,M)=>$+M,0)]).sort((D,$)=>D[1]-$[1])[0])==null?void 0:B[0];V&&(R=V);break}case"initialPlacement":R=l;break}if(s!==R)return{reset:{placement:R}}}return{}}}};function BE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qE(e){return $Q.some(t=>e[t]>=0)}const QQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...i}=$i(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...i,elementContext:"reference"}),l=BE(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:qE(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...i,altBoundary:!0}),l=BE(o,r.floating);return{data:{escapedOffsets:l,escaped:qE(l)}}}default:return{}}}}},DD=new Set(["left","top"]);async function XQ(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ii(r),l=Kd(r),c=Ia(r)==="y",u=DD.has(o)?-1:1,d=i&&c?-1:1,f=$i(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const JQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await XQ(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},ZQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:v,y:w}=b;return{x:v,y:w}}},...u}=$i(e,t),d={x:r,y:n},f=await i.detectOverflow(t,u),h=Ia(Ii(s)),m=mN(h);let g=d[m],p=d[h];if(o){const b=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=g+f[b],S=g-f[v];g=Gj(w,g,S)}if(l){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=p+f[b],S=p-f[v];p=Gj(w,p,S)}const y=c.fn({...t,[m]:g,[h]:p});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[m]:o,[h]:l}}}}}},eX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=$i(e,t),d={x:r,y:n},f=Ia(s),h=mN(f);let m=d[h],g=d[f];const p=$i(l,t),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",S=i.reference[h]-i.floating[w]+y.mainAxis,j=i.reference[h]+i.reference[w]-y.mainAxis;m<S?m=S:m>j&&(m=j)}if(u){var b,v;const w=h==="y"?"width":"height",S=DD.has(Ii(s)),j=i.reference[f]-i.floating[w]+(S&&((b=o.offset)==null?void 0:b[f])||0)+(S?0:y.crossAxis),_=i.reference[f]+i.reference[w]+(S?0:((v=o.offset)==null?void 0:v[f])||0)-(S?y.crossAxis:0);g<j?g=j:g>_&&(g=_)}return{[h]:m,[f]:g}}}},tX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=$i(e,t),d=await o.detectOverflow(t,u),f=Ii(s),h=Kd(s),m=Ia(s)==="y",{width:g,height:p}=i.floating;let y,b;f==="top"||f==="bottom"?(y=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,y=h==="end"?"top":"bottom");const v=p-d.top-d.bottom,w=g-d.left-d.right,S=Zo(p-d[y],v),j=Zo(g-d[b],w),_=!t.middlewareData.shift;let N=S,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=v),_&&!h){const A=es(d.left,0),I=es(d.right,0),O=es(d.top,0),B=es(d.bottom,0);m?k=g-2*(A!==0||I!==0?A+I:es(d.left,d.right)):N=p-2*(O!==0||B!==0?O+B:es(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function Sx(){return typeof window<"u"}function Hd(e){return LD(e)?(e.nodeName||"").toLowerCase():"#document"}function ls(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ei(e){var t;return(t=(LD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function LD(e){return Sx()?e instanceof Node||e instanceof ls(e).Node:!1}function ya(e){return Sx()?e instanceof Element||e instanceof ls(e).Element:!1}function Ya(e){return Sx()?e instanceof HTMLElement||e instanceof ls(e).HTMLElement:!1}function zE(e){return!Sx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ls(e).ShadowRoot}const rX=new Set(["inline","contents"]);function rp(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=xa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!rX.has(s)}const nX=new Set(["table","td","th"]);function sX(e){return nX.has(Hd(e))}const aX=[":popover-open",":modal"];function Nx(e){return aX.some(t=>{try{return e.matches(t)}catch{return!1}})}const iX=["transform","translate","scale","rotate","perspective"],oX=["transform","translate","scale","rotate","perspective","filter"],lX=["paint","layout","strict","content"];function vN(e){const t=yN(),r=ya(e)?xa(e):e;return iX.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||oX.some(n=>(r.willChange||"").includes(n))||lX.some(n=>(r.contain||"").includes(n))}function cX(e){let t=el(e);for(;Ya(t)&&!ad(t);){if(vN(t))return t;if(Nx(t))return null;t=el(t)}return null}function yN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uX=new Set(["html","body","#document"]);function ad(e){return uX.has(Hd(e))}function xa(e){return ls(e).getComputedStyle(e)}function kx(e){return ya(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function el(e){if(Hd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zE(e)&&e.host||ei(e);return zE(t)?t.host:t}function FD(e){const t=el(e);return ad(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ya(t)&&rp(t)?t:FD(t)}function Xh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=FD(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=ls(s);if(i){const l=Qj(o);return t.concat(o,o.visualViewport||[],rp(s)?s:[],l&&r?Xh(l):[])}return t.concat(s,Xh(s,[],r))}function Qj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function UD(e){const t=xa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ya(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=yv(r)!==i||yv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function xN(e){return ya(e)?e:e.contextElement}function Eu(e){const t=xN(e);if(!Ya(t))return Wa(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=UD(t);let o=(i?yv(r.width):r.width)/n,l=(i?yv(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const dX=Wa(0);function BD(e){const t=ls(e);return!yN()||!t.visualViewport?dX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ls(e)?!1:t}function cc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=xN(e);let o=Wa(1);t&&(n?ya(n)&&(o=Eu(n)):o=Eu(e));const l=fX(i,r,n)?BD(i):Wa(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=ls(i),m=n&&ya(n)?ls(n):n;let g=h,p=Qj(g);for(;p&&n&&m!==g;){const y=Eu(p),b=p.getBoundingClientRect(),v=xa(p),w=b.left+(p.clientLeft+parseFloat(v.paddingLeft))*y.x,S=b.top+(p.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=S,g=ls(p),p=Qj(g)}}return bv({width:d,height:f,x:c,y:u})}function Cx(e,t){const r=kx(e).scrollLeft;return t?t.left+r:cc(ei(e)).left+r}function qD(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Cx(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function hX(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=ei(n),l=t?Nx(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Wa(1);const d=Wa(0),f=Ya(n);if((f||!f&&!i)&&((Hd(n)!=="body"||rp(o))&&(c=kx(n)),Ya(n))){const m=cc(n);u=Eu(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?qD(o,c):Wa(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function mX(e){return Array.from(e.getClientRects())}function pX(e){const t=ei(e),r=kx(e),n=e.ownerDocument.body,s=es(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=es(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Cx(e);const l=-r.scrollTop;return xa(n).direction==="rtl"&&(o+=es(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const WE=25;function gX(e,t){const r=ls(e),n=ei(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=yN();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Cx(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-m);g<=WE&&(i-=g)}else u<=WE&&(i+=u);return{width:i,height:o,x:l,y:c}}const vX=new Set(["absolute","fixed"]);function yX(e,t){const r=cc(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Ya(e)?Eu(e):Wa(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function VE(e,t,r){let n;if(t==="viewport")n=gX(e,r);else if(t==="document")n=pX(ei(e));else if(ya(t))n=yX(t,r);else{const s=BD(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return bv(n)}function zD(e,t){const r=el(e);return r===t||!ya(r)||ad(r)?!1:xa(r).position==="fixed"||zD(r,t)}function xX(e,t){const r=t.get(e);if(r)return r;let n=Xh(e,[],!1).filter(l=>ya(l)&&Hd(l)!=="body"),s=null;const i=xa(e).position==="fixed";let o=i?el(e):e;for(;ya(o)&&!ad(o);){const l=xa(o),c=vN(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&vX.has(s.position)||rp(o)&&!c&&zD(e,o))?n=n.filter(d=>d!==o):s=l,o=el(o)}return t.set(e,n),n}function bX(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Nx(t)?[]:xX(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=VE(t,d,s);return u.top=es(f.top,u.top),u.right=Zo(f.right,u.right),u.bottom=Zo(f.bottom,u.bottom),u.left=es(f.left,u.left),u},VE(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wX(e){const{width:t,height:r}=UD(e);return{width:t,height:r}}function jX(e,t,r){const n=Ya(t),s=ei(t),i=r==="fixed",o=cc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Wa(0);function u(){c.x=Cx(s)}if(n||!n&&!i)if((Hd(t)!=="body"||rp(s))&&(l=kx(t)),n){const m=cc(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?qD(s,l):Wa(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Nw(e){return xa(e).position==="static"}function KE(e,t){if(!Ya(e)||xa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ei(e)===r&&(r=r.ownerDocument.body),r}function WD(e,t){const r=ls(e);if(Nx(e))return r;if(!Ya(e)){let s=el(e);for(;s&&!ad(s);){if(ya(s)&&!Nw(s))return s;s=el(s)}return r}let n=KE(e,t);for(;n&&sX(n)&&Nw(n);)n=KE(n,t);return n&&ad(n)&&Nw(n)&&!vN(n)?r:n||cX(e)||r}const _X=async function(e){const t=this.getOffsetParent||WD,r=this.getDimensions,n=await r(e.floating);return{reference:jX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function SX(e){return xa(e).direction==="rtl"}const NX={convertOffsetParentRelativeRectToViewportRelativeRect:hX,getDocumentElement:ei,getClippingRect:bX,getOffsetParent:WD,getElementRects:_X,getClientRects:mX,getDimensions:wX,getScale:Eu,isElement:ya,isRTL:SX};function VD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function kX(e,t){let r=null,n;const s=ei(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=Qp(f),p=Qp(s.clientWidth-(d+h)),y=Qp(s.clientHeight-(f+m)),b=Qp(d),w={rootMargin:-g+"px "+-p+"px "+-y+"px "+-b+"px",threshold:es(0,Zo(1,c))||1};let S=!0;function j(_){const N=_[0].intersectionRatio;if(N!==c){if(!S)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!VD(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function CX(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=xN(e),d=s||i?[...u?Xh(u):[],...Xh(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?kX(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?cc(e):null;c&&y();function y(){const b=cc(e);p&&!VD(p,b)&&r(),p=b,g=requestAnimationFrame(y)}return r(),()=>{var b;d.forEach(v=>{s&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const EX=JQ,OX=ZQ,PX=YQ,AX=tX,TX=QQ,HE=GQ,RX=eX,MX=(e,t,r)=>{const n=new Map,s={platform:NX,...r},i={...s.platform,_c:n};return HQ(e,t,{...s,platform:i})};var $X=typeof document<"u",IX=function(){},Mg=$X?x.useLayoutEffect:IX;function wv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wv(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!wv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function KD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function GE(e,t){const r=KD(e);return Math.round(t*r)/r}function kw(e){const t=x.useRef(e);return Mg(()=>{t.current=e}),t}function DX(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);wv(h,n)||m(n);const[g,p]=x.useState(null),[y,b]=x.useState(null),v=x.useCallback(D=>{D!==_.current&&(_.current=D,p(D))},[]),w=x.useCallback(D=>{D!==N.current&&(N.current=D,b(D))},[]),S=i||g,j=o||y,_=x.useRef(null),N=x.useRef(null),k=x.useRef(d),C=c!=null,A=kw(c),I=kw(s),O=kw(u),B=x.useCallback(()=>{if(!_.current||!N.current)return;const D={placement:t,strategy:r,middleware:h};I.current&&(D.platform=I.current),MX(_.current,N.current,D).then($=>{const M={...$,isPositioned:O.current!==!1};T.current&&!wv(k.current,M)&&(k.current=M,Id.flushSync(()=>{f(M)}))})},[h,t,r,I,O]);Mg(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const T=x.useRef(!1);Mg(()=>(T.current=!0,()=>{T.current=!1}),[]),Mg(()=>{if(S&&(_.current=S),j&&(N.current=j),S&&j){if(A.current)return A.current(S,j,B);B()}},[S,j,B,A,C]);const z=x.useMemo(()=>({reference:_,floating:N,setReference:v,setFloating:w}),[v,w]),R=x.useMemo(()=>({reference:S,floating:j}),[S,j]),V=x.useMemo(()=>{const D={position:r,left:0,top:0};if(!R.floating)return D;const $=GE(R.floating,d.x),M=GE(R.floating,d.y);return l?{...D,transform:"translate("+$+"px, "+M+"px)",...KD(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:M}},[r,l,R.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:B,refs:z,elements:R,floatingStyles:V}),[d,B,z,R,V])}const LX=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?HE({element:n.current,padding:s}).fn(r):{}:n?HE({element:n,padding:s}).fn(r):{}}}},FX=(e,t)=>({...EX(e),options:[e,t]}),UX=(e,t)=>({...OX(e),options:[e,t]}),BX=(e,t)=>({...RX(e),options:[e,t]}),qX=(e,t)=>({...PX(e),options:[e,t]}),zX=(e,t)=>({...AX(e),options:[e,t]}),WX=(e,t)=>({...TX(e),options:[e,t]}),VX=(e,t)=>({...LX(e),options:[e,t]});var KX="Arrow",HD=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Qe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});HD.displayName=KX;var HX=HD;function GD(e){const[t,r]=x.useState(void 0);return br(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var bN="Popper",[YD,Ex]=Is(bN),[GX,QD]=YD(bN),XD=e=>{const{__scopePopper:t,children:r}=e,[n,s]=x.useState(null);return a.jsx(GX,{scope:t,anchor:n,onAnchorChange:s,children:r})};XD.displayName=bN;var JD="PopperAnchor",ZD=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=QD(JD,r),o=x.useRef(null),l=pt(t,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Qe.div,{...s,ref:l})});ZD.displayName=JD;var wN="PopperContent",[YX,QX]=YD(wN),eL=x.forwardRef((e,t)=>{var ce,qe,se,xe,H,G;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,y=QD(wN,r),[b,v]=x.useState(null),w=pt(t,Xe=>v(Xe)),[S,j]=x.useState(null),_=GD(S),N=(_==null?void 0:_.width)??0,k=(_==null?void 0:_.height)??0,C=n+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],O=I.length>0,B={padding:A,boundary:I.filter(JX),altBoundary:O},{refs:T,floatingStyles:z,placement:R,isPositioned:V,middlewareData:D}=DX({strategy:"fixed",placement:C,whileElementsMounted:(...Xe)=>CX(...Xe,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[FX({mainAxis:s+k,alignmentAxis:o}),c&&UX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?BX():void 0,...B}),c&&qX({...B}),zX({...B,apply:({elements:Xe,rects:Ke,availableWidth:yt,availableHeight:ot})=>{const{width:zt,height:wr}=Ke.reference,an=Xe.floating.style;an.setProperty("--radix-popper-available-width",`${yt}px`),an.setProperty("--radix-popper-available-height",`${ot}px`),an.setProperty("--radix-popper-anchor-width",`${zt}px`),an.setProperty("--radix-popper-anchor-height",`${wr}px`)}}),S&&VX({element:S,padding:l}),ZX({arrowWidth:N,arrowHeight:k}),h&&WX({strategy:"referenceHidden",...B})]}),[$,M]=nL(R),te=Hr(g);br(()=>{V&&(te==null||te())},[V,te]);const Q=(ce=D.arrow)==null?void 0:ce.x,le=(qe=D.arrow)==null?void 0:qe.y,me=((se=D.arrow)==null?void 0:se.centerOffset)!==0,[We,Ve]=x.useState();return br(()=>{b&&Ve(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:V?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:We,"--radix-popper-transform-origin":[(xe=D.transformOrigin)==null?void 0:xe.x,(H=D.transformOrigin)==null?void 0:H.y].join(" "),...((G=D.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(YX,{scope:r,placedSide:$,onArrowChange:j,arrowX:Q,arrowY:le,shouldHideArrow:me,children:a.jsx(Qe.div,{"data-side":$,"data-align":M,...p,ref:w,style:{...p.style,animation:V?void 0:"none"}})})})});eL.displayName=wN;var tL="PopperArrow",XX={top:"bottom",right:"left",bottom:"top",left:"right"},rL=x.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=QX(tL,n),o=XX[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(HX,{...s,ref:r,style:{...s.style,display:"block"}})})});rL.displayName=tL;function JX(e){return e!==null}var ZX=e=>({name:"transformOrigin",options:e,fn(t){var y,b,v;const{placement:r,rects:n,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=nL(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function nL(e){const[t,r="center"]=e.split("-");return[t,r]}var sL=XD,aL=ZD,iL=eL,oL=rL,Cw="rovingFocusGroup.onEntryFocus",eJ={bubbles:!1,cancelable:!0},np="RovingFocusGroup",[Xj,lL,tJ]=_x(np),[rJ,Ox]=Is(np,[tJ]),[nJ,sJ]=rJ(np),cL=x.forwardRef((e,t)=>a.jsx(Xj.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Xj.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(aJ,{...e,ref:t})})}));cL.displayName=np;var aJ=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=pt(t,h),g=Vd(i),[p,y]=Ga({prop:o,defaultProp:l??null,onChange:c,caller:np}),[b,v]=x.useState(!1),w=Hr(u),S=lL(r),j=x.useRef(!1),[_,N]=x.useState(0);return x.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Cw,w),()=>k.removeEventListener(Cw,w)},[w]),a.jsx(nJ,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:p,onItemFocus:x.useCallback(k=>y(k),[y]),onItemShiftTab:x.useCallback(()=>v(!0),[]),onFocusableItemAdd:x.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>N(k=>k-1),[]),children:a.jsx(Qe.div,{tabIndex:b||_===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{j.current=!0}),onFocus:Ee(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!b){const A=new CustomEvent(Cw,eJ);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const I=S().filter(R=>R.focusable),O=I.find(R=>R.active),B=I.find(R=>R.id===p),z=[O,B,...I].filter(Boolean).map(R=>R.ref.current);fL(z,d)}}j.current=!1}),onBlur:Ee(e.onBlur,()=>v(!1))})})}),uL="RovingFocusGroupItem",dL=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Os(),u=i||c,d=sJ(uL,r),f=d.currentTabStopId===u,h=lL(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return x.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),a.jsx(Xj.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Qe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ee(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:Ee(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ee(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=lJ(y,d.orientation,d.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const S=w.indexOf(y.currentTarget);w=d.loop?cJ(w,S+1):w.slice(S+1)}setTimeout(()=>fL(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});dL.displayName=uL;var iJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function lJ(e,t,r){const n=oJ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return iJ[n]}function fL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function cJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var hL=cL,mL=dL;function uJ(e){const t=dJ(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(hJ);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function dJ(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=pJ(s),l=mJ(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Hi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fJ=Symbol("radix.slottable");function hJ(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fJ}function mJ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function pJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Jj=["Enter"," "],gJ=["ArrowDown","PageUp","Home"],pL=["ArrowUp","PageDown","End"],vJ=[...gJ,...pL],yJ={ltr:[...Jj,"ArrowRight"],rtl:[...Jj,"ArrowLeft"]},xJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},sp="Menu",[Jh,bJ,wJ]=_x(sp),[Nc,gL]=Is(sp,[wJ,Ex,Ox]),Px=Ex(),vL=Ox(),[jJ,kc]=Nc(sp),[_J,ap]=Nc(sp),yL=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=Px(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Hr(i),h=Vd(s);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),a.jsx(sL,{...l,children:a.jsx(jJ,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(_J,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};yL.displayName=sp;var SJ="MenuAnchor",jN=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Px(r);return a.jsx(aL,{...s,...n,ref:t})});jN.displayName=SJ;var _N="MenuPortal",[NJ,xL]=Nc(_N,{forceMount:void 0}),bL=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=kc(_N,t);return a.jsx(NJ,{scope:t,forceMount:r,children:a.jsx(Kn,{present:r||i.open,children:a.jsx(px,{asChild:!0,container:s,children:n})})})};bL.displayName=_N;var Ps="MenuContent",[kJ,SN]=Nc(Ps),wL=x.forwardRef((e,t)=>{const r=xL(Ps,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=kc(Ps,e.__scopeMenu),o=ap(Ps,e.__scopeMenu);return a.jsx(Jh.Provider,{scope:e.__scopeMenu,children:a.jsx(Kn,{present:n||i.open,children:a.jsx(Jh.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(CJ,{...s,ref:t}):a.jsx(EJ,{...s,ref:t})})})})}),CJ=x.forwardRef((e,t)=>{const r=kc(Ps,e.__scopeMenu),n=x.useRef(null),s=pt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return tN(i)},[]),a.jsx(NN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ee(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),EJ=x.forwardRef((e,t)=>{const r=kc(Ps,e.__scopeMenu);return a.jsx(NN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),OJ=uJ("MenuContent.ScrollLock"),NN=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,y=kc(Ps,r),b=ap(Ps,r),v=Px(r),w=vL(r),S=bJ(r),[j,_]=x.useState(null),N=x.useRef(null),k=pt(t,N,y.onContentChange),C=x.useRef(0),A=x.useRef(""),I=x.useRef(0),O=x.useRef(null),B=x.useRef("right"),T=x.useRef(0),z=g?vx:x.Fragment,R=g?{as:OJ,allowPinchZoom:!0}:void 0,V=$=>{var ce,qe;const M=A.current+$,te=S().filter(se=>!se.disabled),Q=document.activeElement,le=(ce=te.find(se=>se.ref.current===Q))==null?void 0:ce.textValue,me=te.map(se=>se.textValue),We=BJ(me,M,le),Ve=(qe=te.find(se=>se.textValue===We))==null?void 0:qe.ref.current;(function se(xe){A.current=xe,window.clearTimeout(C.current),xe!==""&&(C.current=window.setTimeout(()=>se(""),1e3))})(M),Ve&&setTimeout(()=>Ve.focus())};x.useEffect(()=>()=>window.clearTimeout(C.current),[]),eN();const D=x.useCallback($=>{var te,Q;return B.current===((te=O.current)==null?void 0:te.side)&&zJ($,(Q=O.current)==null?void 0:Q.area)},[]);return a.jsx(kJ,{scope:r,searchRef:A,onItemEnter:x.useCallback($=>{D($)&&$.preventDefault()},[D]),onItemLeave:x.useCallback($=>{var M;D($)||((M=N.current)==null||M.focus(),_(null))},[D]),onTriggerLeave:x.useCallback($=>{D($)&&$.preventDefault()},[D]),pointerGraceTimerRef:I,onPointerGraceIntentChange:x.useCallback($=>{O.current=$},[]),children:a.jsx(z,{...R,children:a.jsx(mx,{asChild:!0,trapped:s,onMountAutoFocus:Ee(i,$=>{var M;$.preventDefault(),(M=N.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(hx,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:a.jsx(hL,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:_,onEntryFocus:Ee(c,$=>{b.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(iL,{role:"menu","aria-orientation":"vertical","data-state":DL(y.open),"data-radix-menu-content":"",dir:b.dir,...v,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:Ee(p.onKeyDown,$=>{const te=$.target.closest("[data-radix-menu-content]")===$.currentTarget,Q=$.ctrlKey||$.altKey||$.metaKey,le=$.key.length===1;te&&($.key==="Tab"&&$.preventDefault(),!Q&&le&&V($.key));const me=N.current;if($.target!==me||!vJ.includes($.key))return;$.preventDefault();const Ve=S().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);pL.includes($.key)&&Ve.reverse(),FJ(Ve)}),onBlur:Ee(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(C.current),A.current="")}),onPointerMove:Ee(e.onPointerMove,Zh($=>{const M=$.target,te=T.current!==$.clientX;if($.currentTarget.contains(M)&&te){const Q=$.clientX>T.current?"right":"left";B.current=Q,T.current=$.clientX}}))})})})})})})});wL.displayName=Ps;var PJ="MenuGroup",kN=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{role:"group",...n,ref:t})});kN.displayName=PJ;var AJ="MenuLabel",jL=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{...n,ref:t})});jL.displayName=AJ;var jv="MenuItem",YE="menu.itemSelect",Ax=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=x.useRef(null),o=ap(jv,e.__scopeMenu),l=SN(jv,e.__scopeMenu),c=pt(t,i),u=x.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(YE,{bubbles:!0,cancelable:!0});f.addEventListener(YE,m=>n==null?void 0:n(m),{once:!0}),P4(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(_L,{...s,ref:c,disabled:r,onClick:Ee(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ee(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ee(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Jj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ax.displayName=jv;var _L=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=SN(jv,r),l=vL(r),c=x.useRef(null),u=pt(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),a.jsx(Jh.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(mL,{asChild:!0,...l,focusable:!n,children:a.jsx(Qe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ee(e.onPointerMove,Zh(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(e.onPointerLeave,Zh(g=>o.onItemLeave(g))),onFocus:Ee(e.onFocus,()=>f(!0)),onBlur:Ee(e.onBlur,()=>f(!1))})})})}),TJ="MenuCheckboxItem",SL=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(OL,{scope:e.__scopeMenu,checked:r,children:a.jsx(Ax,{role:"menuitemcheckbox","aria-checked":_v(r)?"mixed":r,...s,ref:t,"data-state":EN(r),onSelect:Ee(s.onSelect,()=>n==null?void 0:n(_v(r)?!0:!r),{checkForDefaultPrevented:!1})})})});SL.displayName=TJ;var NL="MenuRadioGroup",[RJ,MJ]=Nc(NL,{value:void 0,onValueChange:()=>{}}),kL=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Hr(n);return a.jsx(RJ,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(kN,{...s,ref:t})})});kL.displayName=NL;var CL="MenuRadioItem",EL=x.forwardRef((e,t)=>{const{value:r,...n}=e,s=MJ(CL,e.__scopeMenu),i=r===s.value;return a.jsx(OL,{scope:e.__scopeMenu,checked:i,children:a.jsx(Ax,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":EN(i),onSelect:Ee(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});EL.displayName=CL;var CN="MenuItemIndicator",[OL,$J]=Nc(CN,{checked:!1}),PL=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=$J(CN,r);return a.jsx(Kn,{present:n||_v(i.checked)||i.checked===!0,children:a.jsx(Qe.span,{...s,ref:t,"data-state":EN(i.checked)})})});PL.displayName=CN;var IJ="MenuSeparator",AL=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});AL.displayName=IJ;var DJ="MenuArrow",TL=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Px(r);return a.jsx(oL,{...s,...n,ref:t})});TL.displayName=DJ;var LJ="MenuSub",[c$e,RL]=Nc(LJ),Qf="MenuSubTrigger",ML=x.forwardRef((e,t)=>{const r=kc(Qf,e.__scopeMenu),n=ap(Qf,e.__scopeMenu),s=RL(Qf,e.__scopeMenu),i=SN(Qf,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(jN,{asChild:!0,...u,children:a.jsx(_L,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":DL(r.open),...e,ref:Hi(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ee(e.onPointerMove,Zh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ee(e.onPointerLeave,Zh(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,y=p==="right",b=y?-5:5,v=h[y?"left":"right"],w=h[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:v,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:v,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||yJ[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});ML.displayName=Qf;var $L="MenuSubContent",IL=x.forwardRef((e,t)=>{const r=xL(Ps,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=kc(Ps,e.__scopeMenu),o=ap(Ps,e.__scopeMenu),l=RL($L,e.__scopeMenu),c=x.useRef(null),u=pt(t,c);return a.jsx(Jh.Provider,{scope:e.__scopeMenu,children:a.jsx(Kn,{present:n||i.open,children:a.jsx(Jh.Slot,{scope:e.__scopeMenu,children:a.jsx(NN,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ee(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ee(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ee(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=xJ[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});IL.displayName=$L;function DL(e){return e?"open":"closed"}function _v(e){return e==="indeterminate"}function EN(e){return _v(e)?"indeterminate":e?"checked":"unchecked"}function FJ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function UJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function BJ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=UJ(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function qJ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function zJ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return qJ(r,t)}function Zh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var WJ=yL,VJ=jN,KJ=bL,HJ=wL,GJ=kN,YJ=jL,QJ=Ax,XJ=SL,JJ=kL,ZJ=EL,eZ=PL,tZ=AL,rZ=TL,nZ=ML,sZ=IL,Tx="DropdownMenu",[aZ]=Is(Tx,[gL]),En=gL(),[iZ,LL]=aZ(Tx),FL=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=En(t),u=x.useRef(null),[d,f]=Ga({prop:s,defaultProp:i??!1,onChange:o,caller:Tx});return a.jsx(iZ,{scope:t,triggerId:Os(),triggerRef:u,contentId:Os(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(WJ,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};FL.displayName=Tx;var UL="DropdownMenuTrigger",BL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=LL(UL,r),o=En(r);return a.jsx(VJ,{asChild:!0,...o,children:a.jsx(Qe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Hi(t,i.triggerRef),onPointerDown:Ee(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ee(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});BL.displayName=UL;var oZ="DropdownMenuPortal",qL=e=>{const{__scopeDropdownMenu:t,...r}=e,n=En(t);return a.jsx(KJ,{...n,...r})};qL.displayName=oZ;var zL="DropdownMenuContent",WL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=LL(zL,r),i=En(r),o=x.useRef(!1);return a.jsx(HJ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ee(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ee(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WL.displayName=zL;var lZ="DropdownMenuGroup",cZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=En(r);return a.jsx(GJ,{...s,...n,ref:t})});cZ.displayName=lZ;var uZ="DropdownMenuLabel",VL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=En(r);return a.jsx(YJ,{...s,...n,ref:t})});VL.displayName=uZ;var dZ="DropdownMenuItem",KL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=En(r);return a.jsx(QJ,{...s,...n,ref:t})});KL.displayName=dZ;var fZ="DropdownMenuCheckboxItem",HL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=En(r);return a.jsx(XJ,{...s,...n,ref:t})});HL.displayName=fZ;var hZ="DropdownMenuRadioGroup",mZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=En(r);return a.jsx(JJ,{...s,...n,ref:t})});mZ.displayName=hZ;var pZ="DropdownMenuRadioItem",GL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=En(r);return a.jsx(ZJ,{...s,...n,ref:t})});GL.displayName=pZ;var gZ="DropdownMenuItemIndicator",YL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=En(r);return a.jsx(eZ,{...s,...n,ref:t})});YL.displayName=gZ;var vZ="DropdownMenuSeparator",QL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=En(r);return a.jsx(tZ,{...s,...n,ref:t})});QL.displayName=vZ;var yZ="DropdownMenuArrow",xZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=En(r);return a.jsx(rZ,{...s,...n,ref:t})});xZ.displayName=yZ;var bZ="DropdownMenuSubTrigger",XL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=En(r);return a.jsx(nZ,{...s,...n,ref:t})});XL.displayName=bZ;var wZ="DropdownMenuSubContent",JL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=En(r);return a.jsx(sZ,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JL.displayName=wZ;var jZ=FL,_Z=BL,SZ=qL,ZL=WL,e3=VL,t3=KL,r3=HL,n3=GL,s3=YL,a3=QL,i3=XL,o3=JL;const ma=jZ,pa=_Z,NZ=x.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(i3,{ref:s,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Wn,{className:"ml-auto h-4 w-4"})]}));NZ.displayName=i3.displayName;const kZ=x.forwardRef(({className:e,...t},r)=>a.jsx(o3,{ref:r,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));kZ.displayName=o3.displayName;const As=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(SZ,{children:a.jsx(ZL,{ref:n,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));As.displayName=ZL.displayName;const Ut=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(t3,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Ut.displayName=t3.displayName;const CZ=x.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(r3,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(s3,{children:a.jsx(Qm,{className:"h-4 w-4"})})}),t]}));CZ.displayName=r3.displayName;const EZ=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(n3,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(s3,{children:a.jsx(HH,{className:"h-2 w-2 fill-current"})})}),t]}));EZ.displayName=n3.displayName;const l3=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(e3,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));l3.displayName=e3.displayName;const Zj=x.forwardRef(({className:e,...t},r)=>a.jsx(a3,{ref:r,className:J("-mx-1 my-1 h-px bg-border",e),...t}));Zj.displayName=a3.displayName;function OZ({open:e,onOpenChange:t,onConfirm:r,isConfirming:n=!1,className:s}){const i=async()=>{await r(),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:J("max-w-[640px] rounded-[10px] border border-border bg-card shadow-lg",s),"aria-describedby":"logout-confirm-description",children:[a.jsx(Me,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-muted",children:a.jsx(m4,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx($e,{children:"Sign out"}),a.jsx(Ie,{id:"logout-confirm-description",children:"Are you sure you want to sign out? You can sign in again anytime."})]})]})}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"button",variant:"default",onClick:i,disabled:n,className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-md",children:n?"Signing out":"Sign out"})]})]})})}function PZ({className:e}){var d;const{user:t,signOut:r,isLoading:n}=ox(),s=il(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),u=async()=>{c(!0),await r(),c(!1),o(!1),s("/",{replace:!0})};return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:J("flex h-14 items-center gap-4 border-b border-border bg-card px-4",e),children:[a.jsx("div",{className:"flex flex-1 items-center gap-4",children:a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(ge,{type:"search",placeholder:"Search...",className:"pl-9 rounded-md border-border","aria-label":"Search"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(E,{variant:"ghost",size:"icon","aria-label":"Notifications",children:a.jsx(WH,{className:"h-4 w-4"})}),a.jsx(E,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(he,{to:"/help","aria-label":"Help",children:a.jsx(Xm,{className:"h-4 w-4"})})}),!n&&(t?a.jsxs(ma,{children:[a.jsx(pa,{asChild:!0,children:a.jsx(E,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all hover:scale-[1.02]","aria-label":"Account menu",children:a.jsxs(wx,{className:"h-10 w-10",children:[a.jsx(hN,{src:(d=t.user_metadata)==null?void 0:d.avatar_url,alt:t.email??"User"}),a.jsx(jx,{className:"bg-primary/20 text-primary",children:a.jsx(ep,{className:"h-5 w-5"})})]})})}),a.jsxs(As,{align:"end",className:"w-56 rounded-md border-border bg-card shadow-lg",children:[a.jsx(l3,{children:a.jsx("span",{className:"font-normal text-muted-foreground",children:t.email})}),a.jsx(Zj,{}),a.jsx(Ut,{asChild:!0,children:a.jsx(he,{to:"/profile",children:"Profile"})}),a.jsx(Ut,{asChild:!0,children:a.jsx(he,{to:"/settings",children:"Settings"})}),a.jsx(Zj,{}),a.jsxs(Ut,{className:"text-destructive focus:text-destructive",onSelect:f=>{f.preventDefault(),o(!0)},children:[a.jsx(m4,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Log out"]})]})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(E,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx(he,{to:"/login",children:"Sign in"})}),a.jsx(E,{size:"sm",asChild:!0,children:a.jsx(he,{to:"/signup",children:"Sign up"})})]}))]})]}),a.jsx(OZ,{open:i,onOpenChange:o,onConfirm:u,isConfirming:l})]})}function AZ(){return a.jsxs("div",{className:"flex min-h-screen bg-background",children:[a.jsx(dQ,{}),a.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[a.jsx(PZ,{}),a.jsx("main",{className:J("flex-1 overflow-auto p-4 md:p-6","max-w-content mx-auto w-full"),children:a.jsx(EI,{})})]})]})}const X=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("rounded-[10px] border border-border bg-card text-card-foreground shadow-card transition-shadow hover:shadow-card-hover",e),...t}));X.displayName="Card";const ne=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-3 sm:p-6",e),...t}));ne.displayName="CardHeader";const ae=x.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));ae.displayName="CardTitle";const we=x.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));we.displayName="CardDescription";const Z=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));Z.displayName="CardContent";const TZ=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex items-center p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));TZ.displayName="CardFooter";const RZ="reveal-visible";function Xp(e){const t=x.useRef(null),[r,n]=x.useState(!1);return x.useEffect(()=>{const s=t.current;if(!s)return;const i=new IntersectionObserver(([o])=>{o!=null&&o.isIntersecting&&(n(!0),s.classList.add(RZ))},{rootMargin:"0px 0px -60px 0px",threshold:.1,...e});return i.observe(s),()=>i.disconnect()},[e==null?void 0:e.rootMargin,e==null?void 0:e.threshold]),{ref:t,visible:r}}const MZ=[{id:"1",name:"Chat-native control",description:"Control your agent from WhatsApp, Telegram, Slack, and Discord. One gateway, all your channels.",iconName:"MessageSquare"},{id:"2",name:"Skills & tools",description:"Load skills from SKILL.md with gating checks, run tools with sandboxing and policy whitelists.",iconName:"Zap"},{id:"3",name:"Paired nodes",description:"Pair devices via QR or code. Manage exec allowlists, wake config, and approvals per node.",iconName:"Smartphone"},{id:"4",name:"Browser automation",description:"Managed Chromium profile, CDP abstraction, and capture tools for screenshots, PDF, and DOM.",iconName:"Globe"},{id:"5",name:"Security audit",description:"Automated checks for plaintext secrets, open binds, and risky permissions. Remediation and auto-fix.",iconName:"Shield"},{id:"6",name:"Cron & webhooks",description:"Schedule jobs and inbound webhooks with token auth, lifecycle hooks, and payload transforms.",iconName:"Clock"}],$Z=[{id:"tg",providerName:"Telegram",category:"chat"},{id:"wa",providerName:"WhatsApp",category:"chat"},{id:"slack",providerName:"Slack",category:"chat"},{id:"discord",providerName:"Discord",category:"chat"},{id:"openai",providerName:"OpenAI",category:"model"},{id:"anthropic",providerName:"Anthropic",category:"model"},{id:"ollama",providerName:"Ollama",category:"model"}],IZ=[{id:"free",planName:"Free",description:"Local gateway, core features",price:"$0",features:["Local-only mode","Control UI","1 channel","Community support"]},{id:"pro",planName:"Pro",description:"Cloud-linked, more channels",price:"TBD",features:["Everything in Free","Multiple channels","Skills registry","Email support"]},{id:"enterprise",planName:"Enterprise",description:"Multi-workspace, SSO, SLA",price:"Contact us",features:["Everything in Pro","Admin dashboard","RBAC","Dedicated support"]}],DZ={MessageSquare:Jm,Zap:_4,Smartphone:i7,Globe:e7,Shield:Or,Clock:Mo};function LZ(){const[e,t]=x.useState(null),r=Xp(),n=Xp(),s=Xp(),i=Xp();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed left-0 right-0 top-0 z-40 border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(he,{to:"/",className:"text-xl font-semibold text-foreground",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-6",children:[a.jsx("a",{href:"#features",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Features"}),a.jsx("a",{href:"#quick-start",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Quick start"}),a.jsx("a",{href:"#pricing",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Pricing"}),a.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Docs"}),a.jsx(he,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(E,{asChild:!0,size:"sm",children:a.jsx(he,{to:"/signup",children:"Sign up"})})]})]})}),a.jsxs("main",{children:[a.jsxs("section",{className:"relative overflow-hidden px-4 pt-32 pb-24 sm:px-6 sm:pt-40 sm:pb-32",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"landing-hero-blob absolute -left-32 top-20 h-80 w-80 rounded-full opacity-40",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.4) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-2 absolute right-0 top-1/3 h-96 w-96 rounded-full opacity-30",style:{background:"radial-gradient(circle, rgb(var(--accent) / 0.35) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-3 absolute bottom-20 left-1/3 h-64 w-64 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.3) 0%, transparent 70%)"}})]}),a.jsxs("div",{className:"relative mx-auto max-w-3xl text-center",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:"Local-first, chat-native personal agent"}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground sm:text-xl",children:"Run tools, schedule jobs, pair devices, and control your agent from the chat surfaces you already use."}),a.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-4",children:[a.jsx(E,{size:"lg",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(he,{to:"/download",className:"inline-flex items-center gap-2",children:[a.jsx(Yr,{className:"h-5 w-5"}),"Install Gateway"]})}),a.jsx(E,{size:"lg",variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(he,{to:"/dashboard",className:"inline-flex items-center gap-2",children:[a.jsx(Ho,{className:"h-5 w-5"}),"Open Local UI"]})}),a.jsx(E,{size:"lg",variant:"ghost",asChild:!0,className:"min-h-[44px] text-muted-foreground",children:a.jsxs(he,{to:"/help",className:"inline-flex items-center gap-2",children:[a.jsx(or,{className:"h-5 w-5"}),"Docs"]})})]})]})]}),a.jsxs("section",{id:"features",ref:r.ref,className:J("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Features"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"One gateway for chat, skills, nodes, automation, and security."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:MZ.map((o,l)=>a.jsx(FZ,{feature:o,index:l},o.id))})]}),a.jsx("section",{id:"quick-start",ref:n.ref,className:J("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Quick start"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Get running in a few steps."}),a.jsx("ol",{className:"mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:["Install and start the gateway (local-only or cloud-linked).","Open the Control UI at your local URL.","Add a channel (e.g. Telegram) and message your agent.","Try Summarize this URL with a link in chat."].map((o,l)=>a.jsxs("li",{className:"relative flex gap-4 rounded-lg border border-border bg-card p-6 shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground","aria-hidden":!0,children:l+1}),a.jsx("span",{className:"text-muted-foreground",children:o})]},l))})]})}),a.jsxs("section",{id:"integrations",ref:s.ref,className:J("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Works with your stack"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Chat providers and model backends you can connect today."}),a.jsx("div",{className:"mt-12 flex flex-wrap items-center justify-center gap-8",children:$Z.map(o=>a.jsx("div",{className:"flex h-14 min-w-[120px] items-center justify-center rounded-lg border border-border bg-card/50 px-6 py-3 text-sm font-medium text-muted-foreground transition-colors hover:border-primary/50 hover:text-foreground",children:o.providerName},o.id))})]}),a.jsx("section",{id:"pricing",ref:i.ref,className:J("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Plans"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Start free, scale when you need more."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-3",children:IZ.map(o=>a.jsxs(X,{className:"cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",onClick:()=>t(o),children:[a.jsxs(ne,{className:"pb-2",children:[a.jsx(ae,{className:"text-lg",children:o.planName}),a.jsx(we,{children:o.description}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:o.price})]}),a.jsxs(Z,{children:[a.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.features.slice(0,3).map((l,c)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Wn,{className:"h-4 w-4 text-accent"}),l]},c))}),a.jsx(E,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:l=>{l.stopPropagation(),t(o)},children:"Learn more"})]})]},o.id))})]})}),a.jsx("footer",{className:"border-t border-border py-12",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Repository"}),a.jsx(he,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(he,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]}),a.jsx(Le,{open:!!e,onOpenChange:o=>{o||t(null)},children:a.jsx(Re,{className:"max-w-md",children:e&&a.jsxs(a.Fragment,{children:[a.jsxs(Me,{children:[a.jsx($e,{children:e.planName}),a.jsx(Ie,{children:e.description})]}),a.jsx("p",{className:"text-2xl font-semibold text-foreground",children:e.price}),a.jsx("ul",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:e.features.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Wn,{className:"h-4 w-4 text-accent"}),o]},l))}),a.jsx(E,{asChild:!0,className:"mt-6 w-full",children:a.jsx(he,{to:"/signup",children:"Get started"})})]})})})]})}function FZ({feature:e,index:t}){const r=DZ[e.iconName]??_4;return a.jsx(X,{className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",style:{transitionDelay:`${t*50}ms`},children:a.jsxs(ne,{children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 text-primary",children:a.jsx(r,{className:"h-6 w-6"})}),a.jsx(ae,{className:"text-lg",children:e.name}),a.jsx(we,{children:e.description})]})})}var ip=e=>e.type==="checkbox",$l=e=>e instanceof Date,$n=e=>e==null;const c3=e=>typeof e=="object";var Pr=e=>!$n(e)&&!Array.isArray(e)&&c3(e)&&!$l(e),UZ=e=>Pr(e)&&e.target?ip(e.target)?e.target.checked:e.target.value:e,BZ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,qZ=(e,t)=>e.has(BZ(t)),zZ=e=>{const t=e.constructor&&e.constructor.prototype;return Pr(t)&&t.hasOwnProperty("isPrototypeOf")},ON=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Rr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(ON&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Pr(e)&&zZ(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Rr(e[s]));return n}var Rx=e=>/^\w*$/.test(e),lr=e=>e===void 0,PN=e=>Array.isArray(e)?e.filter(Boolean):[],AN=e=>PN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(e,t,r)=>{if(!t||!Pr(e))return r;const n=(Rx(t)?[t]:AN(t)).reduce((s,i)=>$n(s)?s:s[i],e);return lr(n)||n===e?lr(e[t])?r:e[t]:n},Pa=e=>typeof e=="boolean",ia=e=>typeof e=="function",Wt=(e,t,r)=>{let n=-1;const s=Rx(t)?[t]:AN(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Pr(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const QE={BLUR:"blur",FOCUS_OUT:"focusout"},oa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},oi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},WZ=P.createContext(null);WZ.displayName="HookFormControlContext";var VZ=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==oa.all&&(t._proxyFormState[o]=!n||oa.all),e[o]}});return s};const KZ=typeof window<"u"?P.useLayoutEffect:P.useEffect;var rs=e=>typeof e=="string",HZ=(e,t,r,n,s)=>rs(e)?(n&&t.watch.add(e),Te(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Te(r,i))):(n&&(t.watchAll=!0),r),e_=e=>$n(e)||!c3(e);function bo(e,t,r=new WeakSet){if(e_(e)||e_(t))return Object.is(e,t);if($l(e)&&$l(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if($l(o)&&$l(l)||Pr(o)&&Pr(l)||Array.isArray(o)&&Array.isArray(l)?!bo(o,l,r):!Object.is(o,l))return!1}}return!0}const GZ=P.createContext(null);GZ.displayName="HookFormContext";var u3=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},hh=e=>Array.isArray(e)?e:[e],XE=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function d3(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&Pr(s)&&i){const o=d3(s,i);Pr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var bn=e=>Pr(e)&&!Object.keys(e).length,TN=e=>e.type==="file",Sv=e=>{if(!ON)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},f3=e=>e.type==="select-multiple",RN=e=>e.type==="radio",YZ=e=>RN(e)||ip(e),Ew=e=>Sv(e)&&e.isConnected;function QZ(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=lr(e)?n++:e[t[n++]];return e}function XZ(e){for(const t in e)if(e.hasOwnProperty(t)&&!lr(e[t]))return!1;return!0}function _r(e,t){const r=Array.isArray(t)?t:Rx(t)?[t]:AN(t),n=r.length===1?e:QZ(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Pr(n)&&bn(n)||Array.isArray(n)&&XZ(n))&&_r(e,r.slice(0,-1)),e}var JZ=e=>{for(const t in e)if(ia(e[t]))return!0;return!1};function h3(e){return Array.isArray(e)||Pr(e)&&!JZ(e)}function t_(e,t={}){for(const r in e){const n=e[r];h3(n)?(t[r]=Array.isArray(n)?[]:{},t_(n,t[r])):lr(n)||(t[r]=!0)}return t}function tu(e,t,r){r||(r=t_(t));for(const n in e){const s=e[n];if(h3(s))lr(t)||e_(r[n])?r[n]=t_(s,Array.isArray(s)?[]:{}):tu(s,$n(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!bo(s,i)}}return r}const JE={value:!1,isValid:!1},ZE={value:!0,isValid:!0};var m3=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!lr(e[0].attributes.value)?lr(e[0].value)||e[0].value===""?ZE:{value:e[0].value,isValid:!0}:ZE:JE}return JE},p3=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>lr(e)?e:t?e===""?NaN:e&&+e:r&&rs(e)?new Date(e):n?n(e):e;const eO={isValid:!1,value:null};var g3=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,eO):eO;function tO(e){const t=e.ref;return TN(t)?t.files:RN(t)?g3(e.refs).value:f3(t)?[...t.selectedOptions].map(({value:r})=>r):ip(t)?m3(e.refs).value:p3(lr(t.value)?e.ref.value:t.value,e)}var ZZ=(e,t,r,n)=>{const s={};for(const i of e){const o=Te(t,i);o&&Wt(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Nv=e=>e instanceof RegExp,Sf=e=>lr(e)?e:Nv(e)?e.source:Pr(e)?Nv(e.value)?e.value.source:e.value:e,rO=e=>({isOnSubmit:!e||e===oa.onSubmit,isOnBlur:e===oa.onBlur,isOnChange:e===oa.onChange,isOnAll:e===oa.all,isOnTouch:e===oa.onTouched});const nO="AsyncFunction";var eee=e=>!!e&&!!e.validate&&!!(ia(e.validate)&&e.validate.constructor.name===nO||Pr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===nO)),tee=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),sO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const mh=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Te(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(mh(l,t))break}else if(Pr(l)&&mh(l,t))break}}};function aO(e,t,r){const n=Te(e,r);if(n||Rx(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Te(t,i),l=Te(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var ree=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return bn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||oa.all))},nee=(e,t,r)=>!e||!t||e===t||hh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),see=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,aee=(e,t)=>!PN(Te(e,t)).length&&_r(e,t),iee=(e,t,r)=>{const n=hh(Te(e,r));return Wt(n,"root",t[r]),Wt(e,r,n),e};function iO(e,t,r="validate"){if(rs(e)||Array.isArray(e)&&e.every(rs)||Pa(e)&&!e)return{type:r,message:rs(e)?e:"",ref:t}}var Kc=e=>Pr(e)&&!Nv(e)?e:{value:e,message:""},oO=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:y,mount:b}=e._f,v=Te(r,p);if(!b||t.has(p))return{};const w=l?l[0]:o,S=O=>{s&&w.reportValidity&&(w.setCustomValidity(Pa(O)?"":O||""),w.reportValidity())},j={},_=RN(o),N=ip(o),k=_||N,C=(y||TN(o))&&lr(o.value)&&lr(v)||Sv(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,A=u3.bind(null,p,n,j),I=(O,B,T,z=oi.maxLength,R=oi.minLength)=>{const V=O?B:T;j[p]={type:O?z:R,message:V,ref:o,...A(O?z:R,V)}};if(i?!Array.isArray(v)||!v.length:c&&(!k&&(C||$n(v))||Pa(v)&&!v||N&&!m3(l).isValid||_&&!g3(l).isValid)){const{value:O,message:B}=rs(c)?{value:!!c,message:c}:Kc(c);if(O&&(j[p]={type:oi.required,message:B,ref:w,...A(oi.required,B)},!n))return S(B),j}if(!C&&(!$n(f)||!$n(h))){let O,B;const T=Kc(h),z=Kc(f);if(!$n(v)&&!isNaN(v)){const R=o.valueAsNumber||v&&+v;$n(T.value)||(O=R>T.value),$n(z.value)||(B=R<z.value)}else{const R=o.valueAsDate||new Date(v),V=M=>new Date(new Date().toDateString()+" "+M),D=o.type=="time",$=o.type=="week";rs(T.value)&&v&&(O=D?V(v)>V(T.value):$?v>T.value:R>new Date(T.value)),rs(z.value)&&v&&(B=D?V(v)<V(z.value):$?v<z.value:R<new Date(z.value))}if((O||B)&&(I(!!O,T.message,z.message,oi.max,oi.min),!n))return S(j[p].message),j}if((u||d)&&!C&&(rs(v)||i&&Array.isArray(v))){const O=Kc(u),B=Kc(d),T=!$n(O.value)&&v.length>+O.value,z=!$n(B.value)&&v.length<+B.value;if((T||z)&&(I(T,O.message,B.message),!n))return S(j[p].message),j}if(m&&!C&&rs(v)){const{value:O,message:B}=Kc(m);if(Nv(O)&&!v.match(O)&&(j[p]={type:oi.pattern,message:B,ref:o,...A(oi.pattern,B)},!n))return S(B),j}if(g){if(ia(g)){const O=await g(v,r),B=iO(O,w);if(B&&(j[p]={...B,...A(oi.validate,B.message)},!n))return S(B.message),j}else if(Pr(g)){let O={};for(const B in g){if(!bn(O)&&!n)break;const T=iO(await g[B](v,r),w,B);T&&(O={...T,...A(B,T.message)},S(T.message),n&&(j[p]=O))}if(!bn(O)&&(j[p]={ref:w,...O},!n))return j}}return S(!0),j};const oee={mode:oa.onSubmit,reValidateMode:oa.onChange,shouldFocusError:!0};function lee(e={}){let t={...oee,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ia(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Pr(t.defaultValues)||Pr(t.values)?Rr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Rr(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const m={array:XE(),state:XE()},g=t.criteriaMode===oa.all,p=L=>K=>{clearTimeout(u),u=setTimeout(L,K)},y=async L=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||L)){let K;t.resolver?(K=bn((await k()).errors),b()):K=await A(n,!0),K!==r.isValid&&m.state.next({isValid:K})}},b=(L,K)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((L||Array.from(l.mount)).forEach(F=>{F&&(K?Wt(r.validatingFields,F,K):_r(r.validatingFields,F))}),m.state.next({validatingFields:r.validatingFields,isValidating:!bn(r.validatingFields)}))},v=(L,K=[],F,oe,ue=!0,re=!0)=>{if(oe&&F&&!t.disabled){if(o.action=!0,re&&Array.isArray(Te(n,L))){const _e=F(Te(n,L),oe.argA,oe.argB);ue&&Wt(n,L,_e)}if(re&&Array.isArray(Te(r.errors,L))){const _e=F(Te(r.errors,L),oe.argA,oe.argB);ue&&Wt(r.errors,L,_e),aee(r.errors,L)}if((f.touchedFields||h.touchedFields)&&re&&Array.isArray(Te(r.touchedFields,L))){const _e=F(Te(r.touchedFields,L),oe.argA,oe.argB);ue&&Wt(r.touchedFields,L,_e)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=tu(s,i)),m.state.next({name:L,isDirty:O(L,K),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Wt(i,L,K)},w=(L,K)=>{Wt(r.errors,L,K),m.state.next({errors:r.errors})},S=L=>{r.errors=L,m.state.next({errors:r.errors,isValid:!1})},j=(L,K,F,oe)=>{const ue=Te(n,L);if(ue){const re=Te(i,L,lr(F)?Te(s,L):F);lr(re)||oe&&oe.defaultChecked||K?Wt(i,L,K?re:tO(ue._f)):z(L,re),o.mount&&!o.action&&y()}},_=(L,K,F,oe,ue)=>{let re=!1,_e=!1;const Pt={name:L};if(!t.disabled){if(!F||oe){(f.isDirty||h.isDirty)&&(_e=r.isDirty,r.isDirty=Pt.isDirty=O(),re=_e!==Pt.isDirty);const At=bo(Te(s,L),K);_e=!!Te(r.dirtyFields,L),At?_r(r.dirtyFields,L):Wt(r.dirtyFields,L,!0),Pt.dirtyFields=r.dirtyFields,re=re||(f.dirtyFields||h.dirtyFields)&&_e!==!At}if(F){const At=Te(r.touchedFields,L);At||(Wt(r.touchedFields,L,F),Pt.touchedFields=r.touchedFields,re=re||(f.touchedFields||h.touchedFields)&&At!==F)}re&&ue&&m.state.next(Pt)}return re?Pt:{}},N=(L,K,F,oe)=>{const ue=Te(r.errors,L),re=(f.isValid||h.isValid)&&Pa(K)&&r.isValid!==K;if(t.delayError&&F?(c=p(()=>w(L,F)),c(t.delayError)):(clearTimeout(u),c=null,F?Wt(r.errors,L,F):_r(r.errors,L)),(F?!bo(ue,F):ue)||!bn(oe)||re){const _e={...oe,...re&&Pa(K)?{isValid:K}:{},errors:r.errors,name:L};r={...r,..._e},m.state.next(_e)}},k=async L=>(b(L,!0),await t.resolver(i,t.context,ZZ(L||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async L=>{const{errors:K}=await k(L);if(b(L),L)for(const F of L){const oe=Te(K,F);oe?Wt(r.errors,F,oe):_r(r.errors,F)}else r.errors=K;return K},A=async(L,K,F={valid:!0})=>{for(const oe in L){const ue=L[oe];if(ue){const{_f:re,..._e}=ue;if(re){const Pt=l.array.has(re.name),At=ue._f&&eee(ue._f);At&&f.validatingFields&&b([re.name],!0);const jr=await oO(ue,l.disabled,i,g,t.shouldUseNativeValidation&&!K,Pt);if(At&&f.validatingFields&&b([re.name]),jr[re.name]&&(F.valid=!1,K||e.shouldUseNativeValidation))break;!K&&(Te(jr,re.name)?Pt?iee(r.errors,jr,re.name):Wt(r.errors,re.name,jr[re.name]):_r(r.errors,re.name))}!bn(_e)&&await A(_e,K,F)}}return F.valid},I=()=>{for(const L of l.unMount){const K=Te(n,L);K&&(K._f.refs?K._f.refs.every(F=>!Ew(F)):!Ew(K._f.ref))&&qe(L)}l.unMount=new Set},O=(L,K)=>!t.disabled&&(L&&K&&Wt(i,L,K),!bo(te(),s)),B=(L,K,F)=>HZ(L,l,{...o.mount?i:lr(K)?s:rs(L)?{[L]:K}:K},F,K),T=L=>PN(Te(o.mount?i:s,L,t.shouldUnregister?Te(s,L,[]):[])),z=(L,K,F={})=>{const oe=Te(n,L);let ue=K;if(oe){const re=oe._f;re&&(!re.disabled&&Wt(i,L,p3(K,re)),ue=Sv(re.ref)&&$n(K)?"":K,f3(re.ref)?[...re.ref.options].forEach(_e=>_e.selected=ue.includes(_e.value)):re.refs?ip(re.ref)?re.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(ue)?_e.checked=!!ue.find(Pt=>Pt===_e.value):_e.checked=ue===_e.value||!!ue)}):re.refs.forEach(_e=>_e.checked=_e.value===ue):TN(re.ref)?re.ref.value="":(re.ref.value=ue,re.ref.type||m.state.next({name:L,values:Rr(i)})))}(F.shouldDirty||F.shouldTouch)&&_(L,ue,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&M(L)},R=(L,K,F)=>{for(const oe in K){if(!K.hasOwnProperty(oe))return;const ue=K[oe],re=L+"."+oe,_e=Te(n,re);(l.array.has(L)||Pr(ue)||_e&&!_e._f)&&!$l(ue)?R(re,ue,F):z(re,ue,F)}},V=(L,K,F={})=>{const oe=Te(n,L),ue=l.array.has(L),re=Rr(K);Wt(i,L,re),ue?(m.array.next({name:L,values:Rr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&F.shouldDirty&&m.state.next({name:L,dirtyFields:tu(s,i),isDirty:O(L,re)})):oe&&!oe._f&&!$n(re)?R(L,re,F):z(L,re,F),sO(L,l)?m.state.next({...r,name:L,values:Rr(i)}):m.state.next({name:o.mount?L:void 0,values:Rr(i)})},D=async L=>{o.mount=!0;const K=L.target;let F=K.name,oe=!0;const ue=Te(n,F),re=At=>{oe=Number.isNaN(At)||$l(At)&&isNaN(At.getTime())||bo(At,Te(i,F,At))},_e=rO(t.mode),Pt=rO(t.reValidateMode);if(ue){let At,jr;const ai=K.type?tO(ue._f):UZ(L),qs=L.type===QE.BLUR||L.type===QE.FOCUS_OUT,df=!tee(ue._f)&&!t.resolver&&!Te(r.errors,F)&&!ue._f.deps||see(qs,Te(r.touchedFields,F),r.isSubmitted,Pt,_e),Ca=sO(F,l,qs);Wt(i,F,ai),qs?(!K||!K.readOnly)&&(ue._f.onBlur&&ue._f.onBlur(L),c&&c(0)):ue._f.onChange&&ue._f.onChange(L);const $c=_(F,ai,qs),Zi=!bn($c)||Ca;if(!qs&&m.state.next({name:F,type:L.type,values:Rr(i)}),df)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?qs&&y():qs||y()),Zi&&m.state.next({name:F,...Ca?{}:$c});if(!qs&&Ca&&m.state.next({...r}),t.resolver){const{errors:vp}=await k([F]);if(b([F]),re(ai),oe){const Tb=aO(r.errors,n,F),ff=aO(vp,n,Tb.name||F);At=ff.error,F=ff.name,jr=bn(vp)}}else b([F],!0),At=(await oO(ue,l.disabled,i,g,t.shouldUseNativeValidation))[F],b([F]),re(ai),oe&&(At?jr=!1:(f.isValid||h.isValid)&&(jr=await A(n,!0)));oe&&(ue._f.deps&&(!Array.isArray(ue._f.deps)||ue._f.deps.length>0)&&M(ue._f.deps),N(F,jr,At,$c))}},$=(L,K)=>{if(Te(r.errors,K)&&L.focus)return L.focus(),1},M=async(L,K={})=>{let F,oe;const ue=hh(L);if(t.resolver){const re=await C(lr(L)?L:ue);F=bn(re),oe=L?!ue.some(_e=>Te(re,_e)):F}else L?(oe=(await Promise.all(ue.map(async re=>{const _e=Te(n,re);return await A(_e&&_e._f?{[re]:_e}:_e)}))).every(Boolean),!(!oe&&!r.isValid)&&y()):oe=F=await A(n);return m.state.next({...!rs(L)||(f.isValid||h.isValid)&&F!==r.isValid?{}:{name:L},...t.resolver||!L?{isValid:F}:{},errors:r.errors}),K.shouldFocus&&!oe&&mh(n,$,L?ue:l.mount),oe},te=(L,K)=>{let F={...o.mount?i:s};return K&&(F=d3(K.dirtyFields?r.dirtyFields:r.touchedFields,F)),lr(L)?F:rs(L)?Te(F,L):L.map(oe=>Te(F,oe))},Q=(L,K)=>({invalid:!!Te((K||r).errors,L),isDirty:!!Te((K||r).dirtyFields,L),error:Te((K||r).errors,L),isValidating:!!Te(r.validatingFields,L),isTouched:!!Te((K||r).touchedFields,L)}),le=L=>{L&&hh(L).forEach(K=>_r(r.errors,K)),m.state.next({errors:L?r.errors:{}})},me=(L,K,F)=>{const oe=(Te(n,L,{_f:{}})._f||{}).ref,ue=Te(r.errors,L)||{},{ref:re,message:_e,type:Pt,...At}=ue;Wt(r.errors,L,{...At,...K,ref:oe}),m.state.next({name:L,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&oe&&oe.focus&&oe.focus()},We=(L,K)=>ia(L)?m.state.subscribe({next:F=>"values"in F&&L(B(void 0,K),F)}):B(L,K,!0),Ve=L=>m.state.subscribe({next:K=>{nee(L.name,K.name,L.exact)&&ree(K,L.formState||f,wr,L.reRenderRoot)&&L.callback({values:{...i},...r,...K,defaultValues:s})}}).unsubscribe,ce=L=>(o.mount=!0,h={...h,...L.formState},Ve({...L,formState:{...d,...L.formState}})),qe=(L,K={})=>{for(const F of L?hh(L):l.mount)l.mount.delete(F),l.array.delete(F),K.keepValue||(_r(n,F),_r(i,F)),!K.keepError&&_r(r.errors,F),!K.keepDirty&&_r(r.dirtyFields,F),!K.keepTouched&&_r(r.touchedFields,F),!K.keepIsValidating&&_r(r.validatingFields,F),!t.shouldUnregister&&!K.keepDefaultValue&&_r(s,F);m.state.next({values:Rr(i)}),m.state.next({...r,...K.keepDirty?{isDirty:O()}:{}}),!K.keepIsValid&&y()},se=({disabled:L,name:K})=>{if(Pa(L)&&o.mount||L||l.disabled.has(K)){const ue=l.disabled.has(K)!==!!L;L?l.disabled.add(K):l.disabled.delete(K),ue&&o.mount&&!o.action&&y()}},xe=(L,K={})=>{let F=Te(n,L);const oe=Pa(K.disabled)||Pa(t.disabled);return Wt(n,L,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:L}},name:L,mount:!0,...K}}),l.mount.add(L),F?se({disabled:Pa(K.disabled)?K.disabled:t.disabled,name:L}):j(L,!0,K.value),{...oe?{disabled:K.disabled||t.disabled}:{},...t.progressive?{required:!!K.required,min:Sf(K.min),max:Sf(K.max),minLength:Sf(K.minLength),maxLength:Sf(K.maxLength),pattern:Sf(K.pattern)}:{},name:L,onChange:D,onBlur:D,ref:ue=>{if(ue){xe(L,K),F=Te(n,L);const re=lr(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,_e=YZ(re),Pt=F._f.refs||[];if(_e?Pt.find(At=>At===re):re===F._f.ref)return;Wt(n,L,{_f:{...F._f,..._e?{refs:[...Pt.filter(Ew),re,...Array.isArray(Te(s,L))?[{}]:[]],ref:{type:re.type,name:L}}:{ref:re}}}),j(L,!1,void 0,re)}else F=Te(n,L,{}),F._f&&(F._f.mount=!1),(t.shouldUnregister||K.shouldUnregister)&&!(qZ(l.array,L)&&o.action)&&l.unMount.add(L)}}},H=()=>t.shouldFocusError&&mh(n,$,l.mount),G=L=>{Pa(L)&&(m.state.next({disabled:L}),mh(n,(K,F)=>{const oe=Te(n,F);oe&&(K.disabled=oe._f.disabled||L,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(ue=>{ue.disabled=oe._f.disabled||L}))},0,!1))},Xe=(L,K)=>async F=>{let oe;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let ue=Rr(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:re,values:_e}=await k();b(),r.errors=re,ue=Rr(_e)}else await A(n);if(l.disabled.size)for(const re of l.disabled)_r(ue,re);if(_r(r.errors,"root"),bn(r.errors)){m.state.next({errors:{}});try{await L(ue,F)}catch(re){oe=re}}else K&&await K({...r.errors},F),H(),setTimeout(H);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bn(r.errors)&&!oe,submitCount:r.submitCount+1,errors:r.errors}),oe)throw oe},Ke=(L,K={})=>{Te(n,L)&&(lr(K.defaultValue)?V(L,Rr(Te(s,L))):(V(L,K.defaultValue),Wt(s,L,Rr(K.defaultValue))),K.keepTouched||_r(r.touchedFields,L),K.keepDirty||(_r(r.dirtyFields,L),r.isDirty=K.defaultValue?O(L,Rr(Te(s,L))):O()),K.keepError||(_r(r.errors,L),f.isValid&&y()),m.state.next({...r}))},yt=(L,K={})=>{const F=L?Rr(L):s,oe=Rr(F),ue=bn(L),re=ue?s:oe;if(K.keepDefaultValues||(s=F),!K.keepValues){if(K.keepDirtyValues){const _e=new Set([...l.mount,...Object.keys(tu(s,i))]);for(const Pt of Array.from(_e)){const At=Te(r.dirtyFields,Pt),jr=Te(i,Pt),ai=Te(re,Pt);At&&!lr(jr)?Wt(re,Pt,jr):!At&&!lr(ai)&&V(Pt,ai)}}else{if(ON&&lr(L))for(const _e of l.mount){const Pt=Te(n,_e);if(Pt&&Pt._f){const At=Array.isArray(Pt._f.refs)?Pt._f.refs[0]:Pt._f.ref;if(Sv(At)){const jr=At.closest("form");if(jr){jr.reset();break}}}}if(K.keepFieldsRef)for(const _e of l.mount)V(_e,Te(re,_e));else n={}}i=t.shouldUnregister?K.keepDefaultValues?Rr(s):{}:Rr(re),m.array.next({values:{...re}}),m.state.next({values:{...re}})}l={mount:K.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!K.keepIsValid||!!K.keepDirtyValues||!t.shouldUnregister&&!bn(re),o.watch=!!t.shouldUnregister,o.keepIsValid=!!K.keepIsValid,o.action=!1,K.keepErrors||(r.errors={}),m.state.next({submitCount:K.keepSubmitCount?r.submitCount:0,isDirty:ue?!1:K.keepDirty?r.isDirty:!!(K.keepDefaultValues&&!bo(L,s)),isSubmitted:K.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ue?{}:K.keepDirtyValues?K.keepDefaultValues&&i?tu(s,i):r.dirtyFields:K.keepDefaultValues&&L?tu(s,L):K.keepDirty?r.dirtyFields:{},touchedFields:K.keepTouched?r.touchedFields:{},errors:K.keepErrors?r.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ot=(L,K)=>yt(ia(L)?L(i):L,{...t.resetOptions,...K}),zt=(L,K={})=>{const F=Te(n,L),oe=F&&F._f;if(oe){const ue=oe.refs?oe.refs[0]:oe.ref;ue.focus&&setTimeout(()=>{ue.focus(),K.shouldSelect&&ia(ue.select)&&ue.select()})}},wr=L=>{r={...r,...L}},ms={control:{register:xe,unregister:qe,getFieldState:Q,handleSubmit:Xe,setError:me,_subscribe:Ve,_runSchema:k,_updateIsValidating:b,_focusError:H,_getWatch:B,_getDirty:O,_setValid:y,_setFieldArray:v,_setDisabledField:se,_setErrors:S,_getFieldArray:T,_reset:yt,_resetDefaultValues:()=>ia(t.defaultValues)&&t.defaultValues().then(L=>{ot(L,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:G,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return l},set _names(L){l=L},get _formState(){return r},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:ce,trigger:M,register:xe,handleSubmit:Xe,watch:We,setValue:V,getValues:te,reset:ot,resetField:Ke,clearErrors:le,unregister:qe,setError:me,setFocus:zt,getFieldState:Q};return{...ms,formControl:ms}}function dt(e={}){const t=P.useRef(void 0),r=P.useRef(void 0),[n,s]=P.useState({isDirty:!1,isValidating:!1,isLoading:ia(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ia(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ia(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=lee(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,KZ(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),P.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),P.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),P.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),P.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),P.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),P.useEffect(()=>{var o;e.values&&!bo(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),P.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=P.useMemo(()=>VZ(n,i),[i,n]),t.current}const lO=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Te(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},v3=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?lO(n.ref,r,e):n.refs&&n.refs.forEach(s=>lO(s,r,e))}},cee=(e,t)=>{t.shouldUseNativeValidation&&v3(e,t);const r={};for(const n in e){const s=Te(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(uee(t.names||Object.keys(e),n)){const o=Object.assign({},Te(r,n));Wt(o,"root",i),Wt(r,n,o)}else Wt(r,n,i)}return r},uee=(e,t)=>e.some(r=>r.startsWith(t+"."));var dee=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=u3(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},ft=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&v3({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:cee(dee(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Et;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Et||(Et={}));var cO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(cO||(cO={}));const De=Et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mo=e=>{switch(typeof e){case"undefined":return De.undefined;case"string":return De.string;case"number":return Number.isNaN(e)?De.nan:De.number;case"boolean":return De.boolean;case"function":return De.function;case"bigint":return De.bigint;case"symbol":return De.symbol;case"object":return Array.isArray(e)?De.array:e===null?De.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?De.promise:typeof Map<"u"&&e instanceof Map?De.map:typeof Set<"u"&&e instanceof Set?De.set:typeof Date<"u"&&e instanceof Date?De.date:De.object;default:return De.unknown}},pe=Et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Di extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Di))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Di.create=e=>new Di(e);const r_=(e,t)=>{let r;switch(e.code){case pe.invalid_type:e.received===De.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case pe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Et.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:r=`Unrecognized key(s) in object: ${Et.joinValues(e.keys,", ")}`;break;case pe.invalid_union:r="Invalid input";break;case pe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Et.joinValues(e.options)}`;break;case pe.invalid_enum_value:r=`Invalid enum value. Expected ${Et.joinValues(e.options)}, received '${e.received}'`;break;case pe.invalid_arguments:r="Invalid function arguments";break;case pe.invalid_return_type:r="Invalid function return type";break;case pe.invalid_date:r="Invalid date";break;case pe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Et.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case pe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case pe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case pe.custom:r="Invalid input";break;case pe.invalid_intersection_types:r="Intersection results could not be merged";break;case pe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case pe.not_finite:r="Number must be finite";break;default:r=t.defaultError,Et.assertNever(e)}return{message:r}};let fee=r_;function hee(){return fee}const mee=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function Ce(e,t){const r=hee(),n=mee({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===r_?void 0:r_].filter(s=>!!s)});e.common.issues.push(n)}class us{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ze;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return us.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ze;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Ze=Object.freeze({status:"aborted"}),Xf=e=>({status:"dirty",value:e}),Ls=e=>({status:"valid",value:e}),uO=e=>e.status==="aborted",dO=e=>e.status==="dirty",id=e=>e.status==="valid",kv=e=>typeof Promise<"u"&&e instanceof Promise;var Fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Fe||(Fe={}));class tl{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fO=(e,t)=>{if(id(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Di(e.common.issues);return this._error=r,this._error}}};function ut(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class kt{get description(){return this._def.description}_getType(t){return mo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:mo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new us,ctx:{common:t.parent.common,data:t.data,parsedType:mo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(kv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mo(t)},s=this._parseSync({data:t,path:n.path,parent:n});return fO(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return id(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>id(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mo(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(kv(s)?s:Promise.resolve(s));return fO(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:pe.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new cd({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Go.create(this,this._def)}nullable(){return ud.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Va.create(this)}promise(){return Pv.create(this,this._def)}or(t){return Ev.create([this,t],this._def)}and(t){return Ov.create(this,t,this._def)}transform(t){return new cd({...ut(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new a_({...ut(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new Dee({typeName:et.ZodBranded,type:this,...ut(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new i_({...ut(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return MN.create(this,t)}readonly(){return o_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pee=/^c[^\s-]{8,}$/i,gee=/^[0-9a-z]+$/,vee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xee=/^[a-z0-9_-]{21}$/i,bee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,wee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_ee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ow;const See=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Cee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Eee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Oee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,y3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Pee=new RegExp(`^${y3}$`);function x3(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Aee(e){return new RegExp(`^${x3(e)}$`)}function Tee(e){let t=`${y3}T${x3(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Ree(e,t){return!!((t==="v4"||!t)&&See.test(e)||(t==="v6"||!t)&&kee.test(e))}function Mee(e,t){if(!bee.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function $ee(e,t){return!!((t==="v4"||!t)&&Nee.test(e)||(t==="v6"||!t)&&Cee.test(e))}class xi extends kt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==De.string){const i=this._getOrReturnCtx(t);return Ce(i,{code:pe.invalid_type,expected:De.string,received:i.parsedType}),Ze}const n=new us;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Ce(s,{code:pe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ce(s,{code:pe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")jee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"email",code:pe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ow||(Ow=new RegExp(_ee,"u")),Ow.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"emoji",code:pe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")yee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"uuid",code:pe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")xee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"nanoid",code:pe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")pee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"cuid",code:pe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")gee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"cuid2",code:pe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")vee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"ulid",code:pe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Ce(s,{validation:"url",code:pe.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"regex",code:pe.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Tee(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Pee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Aee(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?wee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"duration",code:pe.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Ree(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"ip",code:pe.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Mee(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"jwt",code:pe.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?$ee(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"cidr",code:pe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Eee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"base64",code:pe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Oee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"base64url",code:pe.invalid_string,message:i.message}),n.dirty()):Et.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:pe.invalid_string,...Fe.errToObj(n)})}_addCheck(t){return new xi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Fe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Fe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Fe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Fe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Fe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Fe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Fe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Fe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Fe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Fe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Fe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Fe.errToObj(r)})}nonempty(t){return this.min(1,Fe.errToObj(t))}trim(){return new xi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}xi.create=e=>new xi({checks:[],typeName:et.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ut(e)});function Iee(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class uc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==De.number){const i=this._getOrReturnCtx(t);return Ce(i,{code:pe.invalid_type,expected:De.number,received:i.parsedType}),Ze}let n;const s=new us;for(const i of this._def.checks)i.kind==="int"?Et.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ce(n,{code:pe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:pe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:pe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Iee(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:pe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ce(n,{code:pe.not_finite,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,s){return new uc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(s)}]})}_addCheck(t){return new uc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Et.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}uc.create=e=>new uc({checks:[],typeName:et.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ut(e)});class dc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==De.bigint)return this._getInvalidInput(t);let n;const s=new us;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:pe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:pe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:pe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ce(r,{code:pe.invalid_type,expected:De.bigint,received:r.parsedType}),Ze}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,s){return new dc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(s)}]})}_addCheck(t){return new dc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}dc.create=e=>new dc({checks:[],typeName:et.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ut(e)});class Cv extends kt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==De.boolean){const n=this._getOrReturnCtx(t);return Ce(n,{code:pe.invalid_type,expected:De.boolean,received:n.parsedType}),Ze}return Ls(t.data)}}Cv.create=e=>new Cv({typeName:et.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ut(e)});class od extends kt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==De.date){const i=this._getOrReturnCtx(t);return Ce(i,{code:pe.invalid_type,expected:De.date,received:i.parsedType}),Ze}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ce(i,{code:pe.invalid_date}),Ze}const n=new us;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Et.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new od({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Fe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Fe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}od.create=e=>new od({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:et.ZodDate,...ut(e)});class hO extends kt{_parse(t){if(this._getType(t)!==De.symbol){const n=this._getOrReturnCtx(t);return Ce(n,{code:pe.invalid_type,expected:De.symbol,received:n.parsedType}),Ze}return Ls(t.data)}}hO.create=e=>new hO({typeName:et.ZodSymbol,...ut(e)});class mO extends kt{_parse(t){if(this._getType(t)!==De.undefined){const n=this._getOrReturnCtx(t);return Ce(n,{code:pe.invalid_type,expected:De.undefined,received:n.parsedType}),Ze}return Ls(t.data)}}mO.create=e=>new mO({typeName:et.ZodUndefined,...ut(e)});class pO extends kt{_parse(t){if(this._getType(t)!==De.null){const n=this._getOrReturnCtx(t);return Ce(n,{code:pe.invalid_type,expected:De.null,received:n.parsedType}),Ze}return Ls(t.data)}}pO.create=e=>new pO({typeName:et.ZodNull,...ut(e)});class gO extends kt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ls(t.data)}}gO.create=e=>new gO({typeName:et.ZodAny,...ut(e)});class vO extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ls(t.data)}}vO.create=e=>new vO({typeName:et.ZodUnknown,...ut(e)});class rl extends kt{_parse(t){const r=this._getOrReturnCtx(t);return Ce(r,{code:pe.invalid_type,expected:De.never,received:r.parsedType}),Ze}}rl.create=e=>new rl({typeName:et.ZodNever,...ut(e)});class yO extends kt{_parse(t){if(this._getType(t)!==De.undefined){const n=this._getOrReturnCtx(t);return Ce(n,{code:pe.invalid_type,expected:De.void,received:n.parsedType}),Ze}return Ls(t.data)}}yO.create=e=>new yO({typeName:et.ZodVoid,...ut(e)});class Va extends kt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==De.array)return Ce(r,{code:pe.invalid_type,expected:De.array,received:r.parsedType}),Ze;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Ce(r,{code:o?pe.too_big:pe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Ce(r,{code:pe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Ce(r,{code:pe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new tl(r,o,r.path,l)))).then(o=>us.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new tl(r,o,r.path,l)));return us.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Va({...this._def,minLength:{value:t,message:Fe.toString(r)}})}max(t,r){return new Va({...this._def,maxLength:{value:t,message:Fe.toString(r)}})}length(t,r){return new Va({...this._def,exactLength:{value:t,message:Fe.toString(r)}})}nonempty(t){return this.min(1,t)}}Va.create=(e,t)=>new Va({type:e,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...ut(t)});function ru(e){if(e instanceof kr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Go.create(ru(n))}return new kr({...e._def,shape:()=>t})}else return e instanceof Va?new Va({...e._def,type:ru(e.element)}):e instanceof Go?Go.create(ru(e.unwrap())):e instanceof ud?ud.create(ru(e.unwrap())):e instanceof fc?fc.create(e.items.map(t=>ru(t))):e}class kr extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Et.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==De.object){const u=this._getOrReturnCtx(t);return Ce(u,{code:pe.invalid_type,expected:De.object,received:u.parsedType}),Ze}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof rl&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new tl(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof rl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Ce(s,{code:pe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new tl(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>us.mergeObjectSync(n,u)):us.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Fe.errToObj,new kr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Fe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new kr({...this._def,unknownKeys:"strip"})}passthrough(){return new kr({...this._def,unknownKeys:"passthrough"})}extend(t){return new kr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new kr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:et.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new kr({...this._def,catchall:t})}pick(t){const r={};for(const n of Et.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new kr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Et.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new kr({...this._def,shape:()=>r})}deepPartial(){return ru(this)}partial(t){const r={};for(const n of Et.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new kr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Et.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Go;)i=i._def.innerType;r[n]=i}return new kr({...this._def,shape:()=>r})}keyof(){return b3(Et.objectKeys(this.shape))}}kr.create=(e,t)=>new kr({shape:()=>e,unknownKeys:"strip",catchall:rl.create(),typeName:et.ZodObject,...ut(t)});kr.strictCreate=(e,t)=>new kr({shape:()=>e,unknownKeys:"strict",catchall:rl.create(),typeName:et.ZodObject,...ut(t)});kr.lazycreate=(e,t)=>new kr({shape:e,unknownKeys:"strip",catchall:rl.create(),typeName:et.ZodObject,...ut(t)});class Ev extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Di(l.ctx.common.issues));return Ce(r,{code:pe.invalid_union,unionErrors:o}),Ze}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Di(c));return Ce(r,{code:pe.invalid_union,unionErrors:l}),Ze}}get options(){return this._def.options}}Ev.create=(e,t)=>new Ev({options:e,typeName:et.ZodUnion,...ut(t)});function n_(e,t){const r=mo(e),n=mo(t);if(e===t)return{valid:!0,data:e};if(r===De.object&&n===De.object){const s=Et.objectKeys(t),i=Et.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=n_(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===De.array&&n===De.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=n_(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===De.date&&n===De.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ov extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(uO(i)||uO(o))return Ze;const l=n_(i.value,o.value);return l.valid?((dO(i)||dO(o))&&r.dirty(),{status:r.value,value:l.data}):(Ce(n,{code:pe.invalid_intersection_types}),Ze)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ov.create=(e,t,r)=>new Ov({left:e,right:t,typeName:et.ZodIntersection,...ut(r)});class fc extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.array)return Ce(n,{code:pe.invalid_type,expected:De.array,received:n.parsedType}),Ze;if(n.data.length<this._def.items.length)return Ce(n,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&n.data.length>this._def.items.length&&(Ce(n,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new tl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>us.mergeArray(r,o)):us.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new fc({...this._def,rest:t})}}fc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fc({items:e,typeName:et.ZodTuple,rest:null,...ut(t)})};class xO extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.map)return Ce(n,{code:pe.invalid_type,expected:De.map,received:n.parsedType}),Ze;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new tl(n,l,n.path,[u,"key"])),value:i._parse(new tl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}xO.create=(e,t,r)=>new xO({valueType:t,keyType:e,typeName:et.ZodMap,...ut(r)});class em extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.set)return Ce(n,{code:pe.invalid_type,expected:De.set,received:n.parsedType}),Ze;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Ce(n,{code:pe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Ce(n,{code:pe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ze;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new tl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new em({...this._def,minSize:{value:t,message:Fe.toString(r)}})}max(t,r){return new em({...this._def,maxSize:{value:t,message:Fe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}em.create=(e,t)=>new em({valueType:e,minSize:null,maxSize:null,typeName:et.ZodSet,...ut(t)});class bO extends kt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}bO.create=(e,t)=>new bO({getter:e,typeName:et.ZodLazy,...ut(t)});class s_ extends kt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ce(r,{received:r.data,code:pe.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}s_.create=(e,t)=>new s_({value:e,typeName:et.ZodLiteral,...ut(t)});function b3(e,t){return new ld({values:e,typeName:et.ZodEnum,...ut(t)})}class ld extends kt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ce(r,{expected:Et.joinValues(n),received:r.parsedType,code:pe.invalid_type}),Ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ce(r,{received:r.data,code:pe.invalid_enum_value,options:n}),Ze}return Ls(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ld.create(t,{...this._def,...r})}exclude(t,r=this._def){return ld.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ld.create=b3;class wO extends kt{_parse(t){const r=Et.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==De.string&&n.parsedType!==De.number){const s=Et.objectValues(r);return Ce(n,{expected:Et.joinValues(s),received:n.parsedType,code:pe.invalid_type}),Ze}if(this._cache||(this._cache=new Set(Et.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Et.objectValues(r);return Ce(n,{received:n.data,code:pe.invalid_enum_value,options:s}),Ze}return Ls(t.data)}get enum(){return this._def.values}}wO.create=(e,t)=>new wO({values:e,typeName:et.ZodNativeEnum,...ut(t)});class Pv extends kt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==De.promise&&r.common.async===!1)return Ce(r,{code:pe.invalid_type,expected:De.promise,received:r.parsedType}),Ze;const n=r.parsedType===De.promise?r.data:Promise.resolve(r.data);return Ls(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Pv.create=(e,t)=>new Pv({type:e,typeName:et.ZodPromise,...ut(t)});class cd extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Ce(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ze;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ze:c.status==="dirty"||r.value==="dirty"?Xf(c.value):c});{if(r.value==="aborted")return Ze;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ze:l.status==="dirty"||r.value==="dirty"?Xf(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!id(o))return Ze;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>id(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):Ze);Et.assertNever(s)}}cd.create=(e,t,r)=>new cd({schema:e,typeName:et.ZodEffects,effect:t,...ut(r)});cd.createWithPreprocess=(e,t,r)=>new cd({schema:t,effect:{type:"preprocess",transform:e},typeName:et.ZodEffects,...ut(r)});class Go extends kt{_parse(t){return this._getType(t)===De.undefined?Ls(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Go.create=(e,t)=>new Go({innerType:e,typeName:et.ZodOptional,...ut(t)});class ud extends kt{_parse(t){return this._getType(t)===De.null?Ls(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ud.create=(e,t)=>new ud({innerType:e,typeName:et.ZodNullable,...ut(t)});class a_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===De.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}a_.create=(e,t)=>new a_({innerType:e,typeName:et.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ut(t)});class i_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return kv(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Di(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Di(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}i_.create=(e,t)=>new i_({innerType:e,typeName:et.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ut(t)});class jO extends kt{_parse(t){if(this._getType(t)!==De.nan){const n=this._getOrReturnCtx(t);return Ce(n,{code:pe.invalid_type,expected:De.nan,received:n.parsedType}),Ze}return{status:"valid",value:t.data}}}jO.create=e=>new jO({typeName:et.ZodNaN,...ut(e)});class Dee extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class MN extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ze:i.status==="dirty"?(r.dirty(),Xf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ze:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new MN({in:t,out:r,typeName:et.ZodPipeline})}}class o_ extends kt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(id(s)&&(s.value=Object.freeze(s.value)),s);return kv(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}o_.create=(e,t)=>new o_({innerType:e,typeName:et.ZodReadonly,...ut(t)});var et;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(et||(et={}));const je=xi.create;uc.create;dc.create;const ti=Cv.create;od.create;rl.create;Va.create;const ht=kr.create;Ev.create;Ov.create;fc.create;const $N=s_.create,nr=ld.create;Pv.create;Go.create;ud.create;const is={string:e=>xi.create({...e,coerce:!0}),number:e=>uc.create({...e,coerce:!0}),boolean:e=>Cv.create({...e,coerce:!0}),bigint:e=>dc.create({...e,coerce:!0}),date:e=>od.create({...e,coerce:!0})};var Lee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fee=Lee.reduce((e,t)=>{const r=tp(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Uee="Label",w3=x.forwardRef((e,t)=>a.jsx(Fee.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));w3.displayName=Uee;var j3=w3;const Bee=aN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Y=x.forwardRef(({className:e,...t},r)=>a.jsx(j3,{ref:r,className:J(Bee(),e),...t}));Y.displayName=j3.displayName;var Mx="Tabs",[qee]=Is(Mx,[Ox]),_3=Ox(),[zee,IN]=qee(Mx),S3=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Vd(l),[f,h]=Ga({prop:n,onChange:s,defaultProp:i??"",caller:Mx});return a.jsx(zee,{scope:r,baseId:Os(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Qe.div,{dir:d,"data-orientation":o,...u,ref:t})})});S3.displayName=Mx;var N3="TabsList",k3=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=IN(N3,r),o=_3(r);return a.jsx(hL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Qe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});k3.displayName=N3;var C3="TabsTrigger",E3=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=IN(C3,r),l=_3(r),c=A3(o.baseId,n),u=T3(o.baseId,n),d=n===o.value;return a.jsx(mL,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Qe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Ee(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ee(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ee(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});E3.displayName=C3;var O3="TabsContent",P3=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=IN(O3,r),c=A3(l.baseId,n),u=T3(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Kn,{present:s||d,children:({present:h})=>a.jsx(Qe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});P3.displayName=O3;function A3(e,t){return`${e}-trigger-${t}`}function T3(e,t){return`${e}-content-${t}`}var Wee=S3,R3=k3,M3=E3,$3=P3;const ri=Wee,ja=x.forwardRef(({className:e,...t},r)=>a.jsx(R3,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ja.displayName=R3.displayName;const St=x.forwardRef(({className:e,...t},r)=>a.jsx(M3,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));St.displayName=M3.displayName;const Nt=x.forwardRef(({className:e,...t},r)=>a.jsx($3,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Nt.displayName=$3.displayName;const Vee=ht({email:je().email("Invalid email"),password:je().min(1,"Password required")});function Kee(){const e=il(),[t]=PI(),r=t.get("returnTo")??"/dashboard",{register:n,handleSubmit:s,formState:{errors:i,isSubmitting:o}}=dt({resolver:ft(Vee)}),l=async u=>{const d=await kH(u.email,u.password);d.success?(W.success("Signed in",{description:"Welcome back."}),e(r,{replace:!0})):W.error("Sign in failed",{description:d.error})},c=async u=>{const d=await PH(u,{redirectTo:r});d.success||W.error("Sign in failed",{description:d.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Sign in"}),a.jsx(we,{children:"Choose local-only or cloud-linked mode."})]}),a.jsx(Z,{children:a.jsxs(ri,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(ja,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(St,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(St,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Nt,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. Access the Control UI at your local URL and use QR or pairing code to connect devices."}),a.jsx(E,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(he,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Nt,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:s(l),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"email",children:"Email"}),a.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...n("email"),"aria-invalid":!!i.email}),i.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"password",children:"Password"}),a.jsx(ge,{id:"password",type:"password",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"current-password",...n("password"),"aria-invalid":!!i.password}),i.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.password.message})]}),a.jsx("div",{className:"flex items-center justify-between text-sm",children:a.jsx(he,{to:"/forgot-password",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Forgot password?"})}),a.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Signing in"]}):"Sign in"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("span",{className:"relative flex justify-center text-xs uppercase text-muted-foreground",children:"Or continue with"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(E,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("github"),children:[a.jsx(ZH,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"GitHub"]}),a.jsxs(E,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("google"),children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24","aria-hidden":!0,children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["No account?"," ",a.jsx(he,{to:"/signup",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign up"})]})]})]})})]})})}const Hee=ht({email:je().email("Invalid email"),password:je().min(8,"At least 8 characters"),confirmPassword:je()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function Gee(){const e=il(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:s}}=dt({resolver:ft(Hee)}),i=async o=>{const l=await AH(o.email,o.password,{redirectTo:"/verify-email"});l.success?l.needsEmailVerification?(W.success("Check your email",{description:"We sent a verification link. Click it or enter the code on the next page."}),e("/verify-email",{replace:!0})):(W.success("Account created",{description:"You can sign in now."}),e("/dashboard",{replace:!0})):W.error("Sign up failed",{description:l.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Create account"}),a.jsx(we,{children:"Choose local-only or sign up for cloud-linked mode."})]}),a.jsx(Z,{children:a.jsxs(ri,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(ja,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(St,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(St,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Nt,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. No signup required. Open the Control UI and connect devices via QR or pairing code."}),a.jsx(E,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(he,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Nt,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:r(i),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"email",children:"Email"}),a.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...t("email"),"aria-invalid":!!n.email}),n.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"password",children:"Password"}),a.jsx(ge,{id:"password",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("password"),"aria-invalid":!!n.password}),n.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"confirmPassword",children:"Confirm password"}),a.jsx(ge,{id:"confirmPassword",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("confirmPassword"),"aria-invalid":!!n.confirmPassword}),n.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.confirmPassword.message})]}),a.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Creating account"]}):"Sign up"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx(he,{to:"/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Log in"})]})]})]})})]})})}const _O={empty:"",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"};function Yee(e){if(!e||e.length===0)return{level:"empty",score:0,label:_O.empty,minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1};const t=/[a-z]/.test(e),r=/[A-Z]/.test(e),n=/\d/.test(e),s=/[^A-Za-z0-9]/.test(e),i=e.length>=8;let o=0;e.length>=8&&(o+=1),e.length>=12&&(o+=1),t&&r&&(o+=1),n&&(o+=1),s&&(o+=1),o=Math.min(4,o);const l=o===0||o===1?"weak":o===2?"fair":o===3?"good":"strong";return{level:l,score:o,label:_O[l],minLength:i,hasLower:t,hasUpper:r,hasNumber:n,hasSpecial:s}}function Qee(e){switch(e){case"empty":return"bg-muted-foreground/30";case"weak":return"bg-destructive";case"fair":return"bg-warning";case"good":return"bg-accent";case"strong":return"bg-success";default:return"bg-muted-foreground/30"}}const Xee=ht({email:je().min(1,"Email is required").email("Enter a valid email address")}),Jee=ht({password:je().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must include a lowercase letter").regex(/[A-Z]/,"Password must include an uppercase letter").regex(/\d/,"Password must include a number"),confirmPassword:je().min(1,"Confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function Zee(){const[e,t]=x.useState("email"),[r,n]=x.useState(!0),s=dt({resolver:ft(Xee),defaultValues:{email:""}}),i=dt({resolver:ft(Jee),defaultValues:{password:"",confirmPassword:""}}),o=i.watch("password",""),l=Yee(o);x.useEffect(()=>{if(!MH()){n(!1);return}q.auth.getSession().then(({data:{session:d}})=>{d&&(t("set_password"),window.history.replaceState(null,"",window.location.pathname)),n(!1)})},[]);const c=async d=>{const f=await TH(d.email,"/forgot-password");f.success?(t("email_sent"),W.success("Check your email",{description:"If an account exists, we sent a reset link. Check spam if you dont see it."})):W.error("Could not send reset link",{description:f.error})},u=async d=>{const f=await RH(d.password);f.success?(t("success"),W.success("Password updated",{description:"You can now sign in with your new password."}),await q.auth.signOut()):W.error("Could not update password",{description:f.error})};return r?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(he,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md",children:[a.jsx(Zu,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsx("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Checking your reset link"})})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(he,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(Zu,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(he,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ne,{className:"space-y-1",children:[a.jsx(ae,{className:"text-xl font-semibold",children:e==="email"||e==="email_sent"?"Reset password":e==="set_password"?"Set new password":"Password updated"}),a.jsxs(we,{children:[e==="email"&&"Enter your cloud account email and well send a secure reset link. For local-only mode, you dont need a password.",e==="email_sent"&&"If an account exists for that email, we sent a reset link. Check your inbox and spam folder.",e==="set_password"&&"Choose a strong password. Youll use it to sign in to your cloud-linked account.",e==="success"&&"Your password has been updated. You can now sign in with your new credentials."]})]}),a.jsxs(Z,{className:"space-y-4",children:[(e==="email"||e==="email_sent")&&a.jsx(a.Fragment,{children:e==="email"?a.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"password-reset-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(ed,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"password-reset-email",type:"email",placeholder:"you@example.com",className:"pl-9 rounded-md border-border py-3",autoComplete:"email",...s.register("email"),"aria-invalid":!!s.formState.errors.email})]}),s.formState.errors.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:s.formState.errors.email.message})]}),a.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Sending":"Send reset link"})]}):a.jsxs("div",{className:"rounded-md border border-border bg-secondary/30 px-4 py-3 text-sm text-muted-foreground",children:[a.jsx("p",{children:"Check your email for the reset link. The link expires after a short time."}),a.jsx(E,{type:"button",variant:"ghost",className:"mt-3 text-primary hover:text-primary",onClick:()=>t("email"),children:"Send another link"})]})}),e==="set_password"&&a.jsxs("form",{onSubmit:i.handleSubmit(u),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"new-password",children:"New password"}),a.jsxs("div",{className:"relative",children:[a.jsx(YS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"new-password",type:"password",placeholder:"",className:"pl-9 rounded-md border-border py-3",autoComplete:"new-password",...i.register("password"),"aria-invalid":!!i.formState.errors.password})]}),o.length>0&&a.jsxs("div",{className:"space-y-1","aria-live":"polite",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"Strength"}),a.jsx("span",{className:J(l.level!=="empty"&&l.level!=="weak"?"text-success":l.level==="weak"?"text-destructive":"text-muted-foreground"),children:l.label})]}),a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-secondary",role:"progressbar","aria-valuenow":l.score*25,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Password strength",children:a.jsx("div",{className:J("h-full rounded-full transition-all duration-300",Qee(l.level)),style:{width:`${l.score*25}%`}})})]}),i.formState.errors.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"confirm-password",children:"Confirm password"}),a.jsx(ge,{id:"confirm-password",type:"password",placeholder:"",className:"rounded-md border-border py-3",autoComplete:"new-password",...i.register("confirmPassword"),"aria-invalid":!!i.formState.errors.confirmPassword}),i.formState.errors.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.confirmPassword.message})]}),a.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Updating":"Update password"})]}),e==="success"&&a.jsxs("div",{className:"animate-fade-in-up space-y-4 text-center",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"rounded-full bg-success/15 p-3",children:a.jsx(Mi,{className:"h-8 w-8 text-success","aria-hidden":!0})})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now sign in with your new password."}),a.jsx(E,{asChild:!0,className:"w-full rounded-md py-3 font-medium",size:"lg",children:a.jsx(he,{to:"/login",children:"Sign in"})})]}),e!=="success"&&a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:a.jsx(he,{to:"/login",className:"font-medium text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Back to login"})})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(he,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Xm,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})})]})}const ete=ht({token:je().min(1,"Enter the verification code from your email")});function tte(){const e=il(),[t,r]=x.useState("checking"),[n,s]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=dt({resolver:ft(ete),defaultValues:{token:""}});x.useEffect(()=>{let m=!1;async function g(){const p=IH();if(p){const v=await lE(p);m||(v.success?(r("verified"),W.success("Email verified",{description:"Your email has been confirmed. You can continue to the dashboard."}),window.history.replaceState(null,"",window.location.pathname)):W.error("Verification failed",{description:v.error}));return}const y=await DH();if(m)return;if(y){r("verified");return}const{data:{user:b}}=await q.auth.getUser();m||(b!=null&&b.email&&c(b.email),r("pending"))}return g(),()=>{m=!0}},[]);const d=async m=>{const g=await lE(m.token);g.success?(r("verified"),u.reset(),W.success("Email verified",{description:"Your email has been confirmed."})):W.error("Verification failed",{description:g.error})},f=async()=>{o(!0);const m=await $H();o(!1),s(!1),m.success?W.success("Verification email sent",{description:"Check your inbox and spam folder for the link."}):W.error("Could not resend email",{description:m.error})},h=()=>{e("/dashboard",{replace:!0})};return t==="checking"?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(he,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md","aria-label":"Back to login",children:[a.jsx(Zu,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsxs("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:[a.jsx(pn,{className:"mx-auto h-8 w-8 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking verification status"})]})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(he,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(Zu,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(he,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ne,{className:"space-y-1",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-xl font-semibold",children:[a.jsx(ed,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Verify your email"]}),a.jsxs(we,{children:["Required for signup and sensitive operations (e.g. skill install). We sent a link to",l?` ${l}`:" your email","."]})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx("div",{role:"status","aria-live":"polite",className:t==="verified"?"flex items-center gap-2 rounded-md border border-success/30 bg-success/10 px-3 py-2.5 text-sm text-success":"flex items-center gap-2 rounded-md border border-warning/30 bg-warning/10 px-3 py-2.5 text-sm text-warning",children:t==="verified"?a.jsxs(a.Fragment,{children:[a.jsx(c4,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Verified"]}):a.jsxs(a.Fragment,{children:[a.jsx(ed,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Pending"]})}),t==="verified"?a.jsxs("div",{className:"animate-fade-in-up space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Youre all set. Continue to your dashboard or complete your profile."}),a.jsx(E,{onClick:h,className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md",size:"lg",children:"Continue to dashboard"}),a.jsx(E,{asChild:!0,variant:"outline",className:"w-full rounded-md py-3",children:a.jsx(he,{to:"/profile",children:"Go to profile"})})]}):a.jsxs(a.Fragment,{children:[a.jsx(E,{type:"button",variant:"outline",className:"w-full rounded-md py-3",onClick:()=>s(!0),children:"Resend verification email"}),a.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"verify-token",children:"Or enter code manually"}),a.jsxs("div",{className:"relative",children:[a.jsx(xo,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"verify-token",type:"text",placeholder:"Paste verification code from email",className:"pl-9 rounded-md border-border py-3",autoComplete:"one-time-code",...u.register("token"),"aria-invalid":!!u.formState.errors.token})]}),u.formState.errors.token&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:u.formState.errors.token.message})]}),a.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Verifying"]}):a.jsxs(a.Fragment,{children:[a.jsx(td,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Verify"]})})]})]})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(he,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Xm,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})}),a.jsx(Le,{open:n,onOpenChange:s,children:a.jsxs(Re,{className:"rounded-[10px] border border-border bg-card shadow-lg max-w-[640px]","aria-describedby":"resend-dialog-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Resend verification email"}),a.jsx(Ie,{id:"resend-dialog-description",children:"Well send another verification link to your email. Check your spam folder if you dont see the first one."})]}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(E,{type:"button",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Sending"]}):"Send again"})]})]})})]})}function de({className:e,...t}){return a.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}function I3(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var $x="Switch",[rte]=Is($x),[nte,ste]=rte($x),D3=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),g=pt(t,w=>m(w)),p=x.useRef(!1),y=h?d||!!h.closest("form"):!0,[b,v]=Ga({prop:s,defaultProp:i??!1,onChange:u,caller:$x});return a.jsxs(nte,{scope:r,checked:b,disabled:l,children:[a.jsx(Qe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":B3(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Ee(e.onClick,w=>{v(S=>!S),y&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),y&&a.jsx(U3,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});D3.displayName=$x;var L3="SwitchThumb",F3=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=ste(L3,r);return a.jsx(Qe.span,{"data-state":B3(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});F3.displayName=L3;var ate="SwitchBubbleInput",U3=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=x.useRef(null),l=pt(o,i),c=I3(r),u=GD(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});U3.displayName=ate;function B3(e){return e?"checked":"unchecked"}var q3=D3,ite=F3;const xr=x.forwardRef(({className:e,...t},r)=>a.jsx(q3,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),ref:r,...t,children:a.jsx(ite,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));xr.displayName=q3.displayName;const ote="http://localhost:3000/api";async function Nf(e,t={}){const r=`${ote}${e}`,n={"Content-Type":"application/json",...t.headers},s=typeof window<"u"?localStorage.getItem("auth_token"):null;s&&(n.Authorization=`Bearer ${s}`);const i=await fetch(r,{...t,headers:n});if(!i.ok)throw i.status===401&&typeof window<"u"&&(localStorage.removeItem("auth_token"),window.location.href="/login"),new Error(`API Error: ${i.status}`);const o=await i.text();if(o)return JSON.parse(o)}const Se={get:e=>Nf(e),post:(e,t)=>Nf(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>Nf(e,{method:"PUT",body:JSON.stringify(t)}),patch:(e,t)=>Nf(e,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>Nf(e,{method:"DELETE"})},Gs="/profile",_a={getProfile:()=>Se.get(`${Gs}`),updateProfile:e=>Se.patch(`${Gs}`,e),getOAuthAccounts:()=>Se.get(`${Gs}/oauth-accounts`),unlinkOAuthAccount:e=>Se.delete(`${Gs}/oauth-accounts/${e}`),getDeviceSessions:()=>Se.get(`${Gs}/sessions`),revokeSession:e=>Se.delete(`${Gs}/sessions/${e}`),getApiKeys:()=>Se.get(`${Gs}/api-keys`),createApiKey:e=>Se.post(`${Gs}/api-keys`,e),revokeApiKey:e=>Se.delete(`${Gs}/api-keys/${e}`),getSecuritySettings:()=>Se.get(`${Gs}/security-settings`),updateSecuritySettings:e=>Se.patch(`${Gs}/security-settings`,e)},mn={all:["profile"],profile:()=>[...mn.all,"detail"],oauthAccounts:()=>[...mn.all,"oauth-accounts"],sessions:()=>[...mn.all,"sessions"],apiKeys:()=>[...mn.all,"api-keys"],securitySettings:()=>[...mn.all,"security-settings"]};function op(e,t){return e().catch(()=>t)}function Ix(){return Oe({queryKey:mn.profile(),queryFn:()=>op(_a.getProfile,null)})}function lte(){const e=be();return ye({mutationFn:t=>_a.updateProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:mn.profile()}),W.success("Profile updated")},onError:t=>{W.error(t.message||"Failed to update profile")}})}function cte(){return Oe({queryKey:mn.oauthAccounts(),queryFn:()=>op(_a.getOAuthAccounts,[])})}function ute(){const e=be();return ye({mutationFn:t=>_a.unlinkOAuthAccount(t),onSuccess:()=>{e.invalidateQueries({queryKey:mn.oauthAccounts()}),W.success("Account unlinked")},onError:t=>{W.error(t.message||"Failed to unlink account")}})}function dte(){return Oe({queryKey:mn.sessions(),queryFn:()=>op(_a.getDeviceSessions,[])})}function fte(){const e=be();return ye({mutationFn:t=>_a.revokeSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:mn.sessions()}),W.success("Session revoked")},onError:t=>{W.error(t.message||"Failed to revoke session")}})}function hte(){return Oe({queryKey:mn.apiKeys(),queryFn:()=>op(_a.getApiKeys,[])})}function mte(){const e=be();return ye({mutationFn:t=>_a.createApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:mn.apiKeys()}),W.success("API key created")},onError:t=>{W.error(t.message||"Failed to create API key")}})}function pte(){const e=be();return ye({mutationFn:t=>_a.revokeApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:mn.apiKeys()}),W.success("API key revoked")},onError:t=>{W.error(t.message||"Failed to revoke API key")}})}function z3(){return Oe({queryKey:mn.securitySettings(),queryFn:()=>op(_a.getSecuritySettings,null)})}function W3(){const e=be();return ye({mutationFn:t=>_a.updateSecuritySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:mn.securitySettings()}),W.success("Security settings updated")},onError:t=>{W.error(t.message||"Failed to update security settings")}})}function Bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Li(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function gte(e,t){const r=Bt(e);return isNaN(t)?Li(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const V3=6048e5,vte=864e5,K3=6e4,H3=36e5,Jp=43200,SO=1440;let yte={};function lp(){return yte}function tm(e,t){var l,c,u,d;const r=lp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Bt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Av(e){return tm(e,{weekStartsOn:1})}function G3(e){const t=Bt(e),r=t.getFullYear(),n=Li(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Av(n),i=Li(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Av(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function NO(e){const t=Bt(e);return t.setHours(0,0,0,0),t}function Tv(e){const t=Bt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function xte(e,t){const r=NO(e),n=NO(t),s=+r-Tv(r),i=+n-Tv(n);return Math.round((s-i)/vte)}function bte(e){const t=G3(e),r=Li(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Av(r)}function $g(e,t){const r=Bt(e),n=Bt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function wte(e){return Li(e,Date.now())}function jte(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _te(e){if(!jte(e)&&typeof e!="number")return!1;const t=Bt(e);return!isNaN(Number(t))}function Ste(e,t){const r=Bt(e),n=Bt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Nte(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function kte(e,t){return+Bt(e)-+Bt(t)}function Cte(e){const t=Bt(e);return t.setHours(23,59,59,999),t}function Ete(e){const t=Bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ote(e){const t=Bt(e);return+Cte(t)==+Ete(t)}function Pte(e,t){const r=Bt(e),n=Bt(t),s=$g(r,n),i=Math.abs(Ste(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=$g(r,n)===-s;Ote(Bt(e))&&i===1&&$g(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function Ate(e,t,r){const n=kte(e,t)/1e3;return Nte(r==null?void 0:r.roundingMethod)(n)}function Tte(e){const t=Bt(e),r=Li(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Rte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Mte=(e,t,r)=>{let n;const s=Rte[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Pw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const $te={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ite={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lte={date:Pw({formats:$te,defaultWidth:"full"}),time:Pw({formats:Ite,defaultWidth:"full"}),dateTime:Pw({formats:Dte,defaultWidth:"full"})},Fte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ute=(e,t,r,n)=>Fte[e];function kf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Bte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Wte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hte=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Gte={ordinalNumber:Hte,era:kf({values:Bte,defaultWidth:"wide"}),quarter:kf({values:qte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:kf({values:zte,defaultWidth:"wide"}),day:kf({values:Wte,defaultWidth:"wide"}),dayPeriod:kf({values:Vte,defaultWidth:"wide",formattingValues:Kte,defaultFormattingWidth:"wide"})};function Cf(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Qte(l,f=>f.test(o)):Yte(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Yte(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Qte(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Xte(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Jte=/^(\d+)(th|st|nd|rd)?/i,Zte=/\d+/i,ere={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tre={any:[/^b/i,/^(a|c)/i]},rre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nre={any:[/1/i,/2/i,/3/i,/4/i]},sre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},are={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ire={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ore={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ure={ordinalNumber:Xte({matchPattern:Jte,parsePattern:Zte,valueCallback:e=>parseInt(e,10)}),era:Cf({matchPatterns:ere,defaultMatchWidth:"wide",parsePatterns:tre,defaultParseWidth:"any"}),quarter:Cf({matchPatterns:rre,defaultMatchWidth:"wide",parsePatterns:nre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Cf({matchPatterns:sre,defaultMatchWidth:"wide",parsePatterns:are,defaultParseWidth:"any"}),day:Cf({matchPatterns:ire,defaultMatchWidth:"wide",parsePatterns:ore,defaultParseWidth:"any"}),dayPeriod:Cf({matchPatterns:lre,defaultMatchWidth:"any",parsePatterns:cre,defaultParseWidth:"any"})},Y3={code:"en-US",formatDistance:Mte,formatLong:Lte,formatRelative:Ute,localize:Gte,match:ure,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dre(e){const t=Bt(e);return xte(t,Tte(t))+1}function fre(e){const t=Bt(e),r=+Av(t)-+bte(t);return Math.round(r/V3)+1}function Q3(e,t){var d,f,h,m;const r=Bt(e),n=r.getFullYear(),s=lp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Li(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=tm(o,t),c=Li(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=tm(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function hre(e,t){var l,c,u,d;const r=lp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Q3(e,t),i=Li(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),tm(i,t)}function mre(e,t){const r=Bt(e),n=+tm(r,t)-+hre(r,t);return Math.round(n/V3)+1}function Mt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const io={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Mt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mt(r+1,2)},d(e,t){return Mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mt(e.getHours()%12||12,t.length)},H(e,t){return Mt(e.getHours(),t.length)},m(e,t){return Mt(e.getMinutes(),t.length)},s(e,t){return Mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Mt(s,t.length)}},Hc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kO={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return io.y(e,t)},Y:function(e,t,r,n){const s=Q3(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Mt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Mt(i,t.length)},R:function(e,t){const r=G3(e);return Mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Mt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Mt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return io.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Mt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=mre(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Mt(s,t.length)},I:function(e,t,r){const n=fre(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Mt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):io.d(e,t)},D:function(e,t,r){const n=dre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Mt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Mt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Mt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Hc.noon:n===0?s=Hc.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Hc.evening:n>=12?s=Hc.afternoon:n>=4?s=Hc.morning:s=Hc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return io.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):io.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):io.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):io.s(e,t)},S:function(e,t){return io.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return EO(n);case"XXXX":case"XX":return _l(n);case"XXXXX":case"XXX":default:return _l(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return EO(n);case"xxxx":case"xx":return _l(n);case"xxxxx":case"xxx":default:return _l(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+CO(n,":");case"OOOO":default:return"GMT"+_l(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+CO(n,":");case"zzzz":default:return"GMT"+_l(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Mt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Mt(n,t.length)}};function CO(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Mt(i,2)}function EO(e,t){return e%60===0?(e>0?"-":"+")+Mt(Math.abs(e)/60,2):_l(e,t)}function _l(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Mt(Math.trunc(n/60),2),i=Mt(n%60,2);return r+s+t+i}const OO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},X3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},pre=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return OO(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",OO(n,t)).replace("{{time}}",X3(s,t))},gre={p:X3,P:pre},vre=/^D+$/,yre=/^Y+$/,xre=["D","DD","YY","YYYY"];function bre(e){return vre.test(e)}function wre(e){return yre.test(e)}function jre(e,t,r){const n=_re(e,t,r);if(console.warn(n),xre.includes(e))throw new RangeError(n)}function _re(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kre=/^'([^]*?)'?$/,Cre=/''/g,Ere=/[a-zA-Z]/;function Da(e,t,r){var d,f,h,m;const n=lp(),s=n.locale??Y3,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=Bt(e);if(!_te(l))throw new RangeError("Invalid time value");let c=t.match(Nre).map(g=>{const p=g[0];if(p==="p"||p==="P"){const y=gre[p];return y(g,s.formatLong)}return g}).join("").match(Sre).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:Ore(g)};if(kO[p])return{isToken:!0,value:g};if(p.match(Ere))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(wre(p)||bre(p))&&jre(p,t,String(e));const y=kO[p[0]];return y(l,p,s.localize,u)}).join("")}function Ore(e){const t=e.match(kre);return t?t[1].replace(Cre,"'"):e}function Pre(e,t,r){const n=lp(),s=(r==null?void 0:r.locale)??n.locale??Y3,i=2520,o=$g(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Bt(t),u=Bt(e)):(c=Bt(e),u=Bt(t));const d=Ate(u,c),f=(Tv(u)-Tv(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<SO){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<Jp){const g=Math.round(h/SO);return s.formatDistance("xDays",g,l)}else if(h<Jp*2)return m=Math.round(h/Jp),s.formatDistance("aboutXMonths",m,l)}if(m=Pte(u,c),m<12){const g=Math.round(h/Jp);return s.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",p,l):g<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function qr(e,t){return Pre(e,wte(e),t)}function DN(e,t){return gte(e,-t)}function Ol(e,t){const n=Mre(e);let s;if(n.date){const c=$re(n.date,2);s=Ire(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=Dre(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=Lre(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Zp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Are=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Tre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Rre=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Mre(e){const t={},r=e.split(Zp.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Zp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Zp.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Zp.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function $re(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Ire(e,t){if(t===null)return new Date(NaN);const r=e.match(Are);if(!r)return new Date(NaN);const n=!!r[4],s=Ef(r[1]),i=Ef(r[2])-1,o=Ef(r[3]),l=Ef(r[4]),c=Ef(r[5])-1;if(n)return zre(t,l,c)?Fre(t,l,c):new Date(NaN);{const u=new Date(0);return!Bre(t,i,o)||!qre(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function Ef(e){return e?parseInt(e):1}function Dre(e){const t=e.match(Tre);if(!t)return NaN;const r=Aw(t[1]),n=Aw(t[2]),s=Aw(t[3]);return Wre(r,n,s)?r*H3+n*K3+s*1e3:NaN}function Aw(e){return e&&parseFloat(e.replace(",","."))||0}function Lre(e){if(e==="Z")return 0;const t=e.match(Rre);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Vre(n,s)?r*(n*H3+s*K3):NaN}function Fre(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const Ure=[31,null,31,30,31,30,31,31,30,31,30,31];function J3(e){return e%400===0||e%4===0&&e%100!==0}function Bre(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Ure[t]||(J3(e)?29:28))}function qre(e,t){return t>=1&&t<=(J3(e)?366:365)}function zre(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Wre(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Vre(e,t){return t>=0&&t<=59}const Kre=ht({name:je().min(1,"Name is required").max(64),scope:je().min(1,"Scope is required").max(128)}),Hre={github:"GitHub",google:"Google",discord:"Discord",slack:"Slack"};function Gre(){const{data:e,isLoading:t}=Ix(),r=lte(),[n,s]=x.useState(!1),[i,o]=x.useState((e==null?void 0:e.display_name)??"");if(x.useEffect(()=>{!n&&(e==null?void 0:e.display_name)!==void 0&&o(e.display_name??"")},[e==null?void 0:e.display_name,n]),t)return a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(de,{className:"h-6 w-32"}),a.jsx(de,{className:"h-4 w-48 mt-2"})]}),a.jsxs(Z,{className:"flex items-center gap-4",children:[a.jsx(de,{className:"h-16 w-16 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"h-5 w-40"}),a.jsx(de,{className:"h-4 w-24"})]})]})]});const l=(e==null?void 0:e.display_name)||"User",c=(e==null?void 0:e.email)??"",u=(e==null?void 0:e.workspace_path)??"",d=l.slice(0,2).toUpperCase(),f=()=>{r.mutate({display_name:i||null},{onSuccess:()=>s(!1)})};return a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(ep,{className:"h-5 w-5"}),"Profile summary"]}),a.jsx(we,{children:"Account and avatar."})]}),a.jsxs(Z,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-6",children:[a.jsxs(wx,{className:"h-16 w-16 shrink-0",children:[a.jsx(hN,{src:(e==null?void 0:e.avatar_url)??void 0,alt:l}),a.jsx(jx,{className:"text-lg bg-primary/20 text-primary",children:d})]}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[n?a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(ge,{value:i,onChange:h=>o(h.target.value),placeholder:"Display name",className:"max-w-xs","aria-label":"Display name"}),a.jsx(E,{size:"sm",onClick:f,disabled:r.isPending,children:r.isPending?a.jsx(pn,{className:"h-4 w-4 animate-spin"}):"Save"}),a.jsx(E,{size:"sm",variant:"ghost",onClick:()=>{s(!1),o((e==null?void 0:e.display_name)??"")},children:"Cancel"})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium truncate",children:l}),a.jsx(E,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",onClick:()=>{o((e==null?void 0:e.display_name)??""),s(!0)},"aria-label":"Edit display name",children:"Edit"})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Workspace: ",a.jsx("span",{className:"font-mono truncate",children:u})]})]})]})]})}function Yre(){const{data:e,isLoading:t}=cte(),r=ute(),[n,s]=x.useState(null);if(t)return a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(de,{className:"h-6 w-40"}),a.jsx(de,{className:"h-4 w-56 mt-2"})]}),a.jsxs(Z,{children:[a.jsx(de,{className:"h-12 w-full"}),a.jsx(de,{className:"h-12 w-full mt-2"})]})]});const i=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(f7,{className:"h-5 w-5"}),"Connected accounts"]}),a.jsx(we,{children:"OAuth and linked accounts; unlink here."})]}),a.jsx(Z,{children:i.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected accounts."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connect GitHub, Google, or other providers from Settings."})]}):a.jsx("ul",{className:"space-y-2",children:i.map(o=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsx("span",{className:"font-medium",children:Hre[o.provider]??o.provider}),a.jsx(E,{variant:"outline",size:"sm",onClick:()=>s(o.id),disabled:r.isPending,"aria-label":`Unlink ${o.provider}`,children:"Unlink"})]},o.id))})})]}),a.jsx(Le,{open:!!n,onOpenChange:()=>s(null),children:a.jsxs(Re,{showClose:!0,children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Unlink account"}),a.jsx(Ie,{children:"Are you sure you want to unlink this account? You may need to sign in again with this provider to reconnect."})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>s(null),children:"Cancel"}),a.jsx(E,{variant:"destructive",onClick:()=>{n&&r.mutate(n,{onSuccess:()=>s(null)})},disabled:r.isPending,children:r.isPending?a.jsx(pn,{className:"h-4 w-4 animate-spin"}):"Unlink"})]})]})})]})}function Qre(){const{data:e,isLoading:t}=dte(),{data:r,isLoading:n}=z3(),s=W3(),i=fte(),[o,l]=x.useState(null),c=t||n,u=(r==null?void 0:r.two_factor_enabled)??!1;if(c)return a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(de,{className:"h-6 w-24"}),a.jsx(de,{className:"h-4 w-48 mt-2"})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(de,{className:"h-10 w-32"}),a.jsx(de,{className:"h-6 w-full"})]})]});const d=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-5 w-5"}),"Security"]}),a.jsx(we,{children:"Password, 2FA, active sessions."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(he,{to:"/forgot-password",children:"Change password"})}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(Y,{htmlFor:"2fa",className:"cursor-pointer",children:"Two-factor authentication"}),a.jsx(xr,{id:"2fa",checked:u,onCheckedChange:f=>s.mutate({two_factor_enabled:f}),disabled:s.isPending})]}),a.jsx(uN,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Active sessions"}),d.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No other sessions."}):a.jsx("ul",{className:"space-y-2",children:d.map(f=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ux,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:f.device_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:qr(new Date(f.last_active_at),{addSuffix:!0})})]})]}),a.jsx(E,{variant:"outline",size:"sm",onClick:()=>l(f.id),disabled:i.isPending,"aria-label":`Revoke ${f.device_name}`,children:"Revoke"})]},f.id))})]})]})]}),a.jsx(Le,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Re,{showClose:!0,children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Revoke session"}),a.jsx(Ie,{children:"This device will be signed out. Are you sure?"})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(E,{variant:"destructive",onClick:()=>{o&&i.mutate(o,{onSuccess:()=>l(null)})},disabled:i.isPending,children:i.isPending?a.jsx(pn,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function Xre(){const{data:e,isLoading:t}=hte(),r=mte(),n=pte(),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(null),d=dt({resolver:ft(Kre),defaultValues:{name:"",scope:"read"}}),f=m=>{r.mutate(m,{onSuccess:g=>{u(g.key),d.reset()}})};if(t)return a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(de,{className:"h-6 w-24"}),a.jsx(de,{className:"h-4 w-40 mt-2"})]}),a.jsxs(Z,{children:[a.jsx(de,{className:"h-10 w-28"}),a.jsx(de,{className:"h-12 w-full mt-4"})]})]});const h=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Hh,{className:"h-5 w-5"}),"API Keys"]}),a.jsx(we,{children:"Create and manage scoped API keys for integrations."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(E,{variant:"outline",size:"sm",onClick:()=>{i(!0),u(null)},children:"Create API key"}),h.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-6 text-center",children:[a.jsx(xo,{className:"mx-auto h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No API keys yet."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a key to use with external tools or scripts."})]}):a.jsx("ul",{className:"space-y-2",children:h.map(m=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:m.name}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[m.key_prefix,""]})]}),a.jsx(E,{variant:"outline",size:"sm",onClick:()=>l(m.id),disabled:n.isPending,"aria-label":`Revoke key ${m.name}`,children:"Revoke"})]},m.id))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Keychain / 1Password integration can be enabled below."})]})]}),a.jsx(Le,{open:s,onOpenChange:i,children:a.jsxs(Re,{showClose:!0,children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Create API key"}),a.jsx(Ie,{children:"Choose a name and scope. The key value is shown only once."})]}),c?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Your new key (copy now)"}),a.jsx(ge,{readOnly:!0,value:c,className:"font-mono text-sm","aria-label":"API key value"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Store this securely; it won't be shown again."}),a.jsx(Be,{children:a.jsx(E,{onClick:()=>i(!1),children:"Done"})})]}):a.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"key-name",children:"Name"}),a.jsx(ge,{id:"key-name",...d.register("name"),placeholder:"e.g. CI pipeline","aria-invalid":!!d.formState.errors.name}),d.formState.errors.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"key-scope",children:"Scope"}),a.jsx(ge,{id:"key-scope",...d.register("scope"),placeholder:"e.g. read, write","aria-invalid":!!d.formState.errors.scope}),d.formState.errors.scope&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.scope.message})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:r.isPending,children:r.isPending?a.jsx(pn,{className:"h-4 w-4 animate-spin"}):"Create"})]})]})]})}),a.jsx(Le,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Re,{showClose:!0,children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Revoke API key"}),a.jsx(Ie,{children:"This key will stop working immediately. Any integrations using it will need a new key."})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(E,{variant:"destructive",onClick:()=>{o&&n.mutate(o,{onSuccess:()=>l(null)})},disabled:n.isPending,children:n.isPending?a.jsx(pn,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function Jre(){const{data:e,isLoading:t}=z3(),r=W3(),n=(e==null?void 0:e.keychain_integration_enabled)??!1;return t?a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(de,{className:"h-6 w-48"}),a.jsx(de,{className:"h-4 w-64 mt-2"})]}),a.jsx(Z,{children:a.jsx(de,{className:"h-6 w-full"})})]}):a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(xo,{className:"h-5 w-5"}),"Keychain / 1Password"]}),a.jsx(we,{children:"Use 1Password or system keychain for secure login and autofill."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(Y,{htmlFor:"keychain",className:"cursor-pointer",children:"Enable 1Password integration"}),a.jsx(xr,{id:"keychain",checked:n,onCheckedChange:s=>r.mutate({keychain_integration_enabled:s}),disabled:r.isPending})]})})]})}function Zre(){return a.jsxs("div",{className:J("mx-auto max-w-3xl space-y-6 animate-fade-in-up"),children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Profile"}),a.jsx(Gre,{}),a.jsx(Yre,{}),a.jsx(Qre,{}),a.jsx(Xre,{}),a.jsx(Jre,{}),a.jsx("div",{className:"flex justify-end",children:a.jsx(E,{asChild:!0,children:a.jsx(he,{to:"/settings",children:"Settings"})})})]})}function ene(){return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Yr,{className:"h-5 w-5"}),"Install Gateway"]}),a.jsx(we,{children:"Download the Clawgate gateway for your platform."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway binaries and installers will be available here. For now, use the Open Local UI button if you have the gateway running."}),a.jsx(E,{asChild:!0,className:"w-full",children:a.jsx(he,{to:"/dashboard",children:"Open Local UI"})}),a.jsx(E,{variant:"outline",asChild:!0,className:"w-full",children:a.jsx(he,{to:"/",children:"Back to home"})})]})]})})}const tne=aN("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-600/20 text-green-400",warning:"border-transparent bg-amber-600/20 text-amber-400"}},defaultVariants:{variant:"default"}});function Ye({className:e,variant:t,...r}){return a.jsx("div",{className:J(tne({variant:t}),e),...r})}const Jt="/dashboard",On={getActivities:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return Se.get(`${Jt}/activities${t?`?${t}`:""}`)},getActivity:e=>Se.get(`${Jt}/activities/${e}`),createActivity:e=>Se.post(`${Jt}/activities`,e),deleteActivity:e=>Se.delete(`${Jt}/activities/${e}`),getRuns:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return Se.get(`${Jt}/runs${t?`?${t}`:""}`)},getRun:e=>Se.get(`${Jt}/runs/${e}`),createRun:e=>Se.post(`${Jt}/runs`,e),updateRun:(e,t)=>Se.patch(`${Jt}/runs/${e}`,t),abortRun:e=>Se.post(`${Jt}/runs/${e}/abort`,{}),getCronJobs:()=>Se.get(`${Jt}/cron-jobs`),getCronJob:e=>Se.get(`${Jt}/cron-jobs/${e}`),createCronJob:e=>Se.post(`${Jt}/cron-jobs`,e),updateCronJob:(e,t)=>Se.patch(`${Jt}/cron-jobs/${e}`,t),deleteCronJob:e=>Se.delete(`${Jt}/cron-jobs/${e}`),runCronJobNow:e=>Se.post(`${Jt}/cron-jobs/${e}/run-now`,{}),getCronRunHistory:(e,t)=>{const r=t?new URLSearchParams(Object.fromEntries(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)]))).toString():"";return Se.get(`${Jt}/cron-jobs/${e}/run-history${r?`?${r}`:""}`)},getNodes:()=>Se.get(`${Jt}/nodes`),getNode:e=>Se.get(`${Jt}/nodes/${e}`),createNode:e=>Se.post(`${Jt}/nodes`,e),updateNode:(e,t)=>Se.patch(`${Jt}/nodes/${e}`,t),deleteNode:e=>Se.delete(`${Jt}/nodes/${e}`),getAlerts:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return Se.get(`${Jt}/alerts${t?`?${t}`:""}`)},getAlert:e=>Se.get(`${Jt}/alerts/${e}`),updateAlert:(e,t)=>Se.patch(`${Jt}/alerts/${e}`,t),quickRun:e=>Se.post(`${Jt}/quick-run`,e)};function Gd(e,t){return e().catch(()=>t)}const Ct={all:["dashboard"],activities:e=>[...Ct.all,"activities",e],activity:e=>[...Ct.all,"activity",e],runs:e=>[...Ct.all,"runs",e],run:e=>[...Ct.all,"run",e],cronJobs:()=>[...Ct.all,"cron-jobs"],cronJob:e=>[...Ct.all,"cron-job",e],cronRunHistory:(e,t)=>[...Ct.all,"cron-run-history",e,t],nodes:()=>[...Ct.all,"nodes"],node:e=>[...Ct.all,"node",e],alerts:e=>[...Ct.all,"alerts",e],alert:e=>[...Ct.all,"alert",e]};function rne(e){return Oe({queryKey:Ct.activities(e),queryFn:()=>Gd(()=>On.getActivities(e),[])})}function nne(){const e=be();return ye({mutationFn:t=>On.deleteActivity(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.activities()}),W.success("Activity removed")},onError:t=>{W.error(t.message||"Failed to remove activity")}})}function sne(e){return Oe({queryKey:Ct.runs(e),queryFn:()=>Gd(()=>On.getRuns(e),[])})}function ane(){const e=be();return ye({mutationFn:t=>On.abortRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.runs()}),W.success("Run aborted")},onError:t=>{W.error(t.message||"Failed to abort run")}})}function Z3(){return Oe({queryKey:Ct.cronJobs(),queryFn:()=>Gd(()=>On.getCronJobs(),[])})}function eF(){const e=be();return ye({mutationFn:t=>On.createCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),W.success("Cron job created")},onError:t=>{W.error(t.message||"Failed to create cron job")}})}function ine(){const e=be();return ye({mutationFn:({id:t,data:r})=>On.updateCronJob(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),e.invalidateQueries({queryKey:Ct.cronJob(r)}),W.success("Cron job updated")},onError:t=>{W.error(t.message||"Failed to update cron job")}})}function one(){const e=be();return ye({mutationFn:t=>On.deleteCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),W.success("Cron job deleted")},onError:t=>{W.error(t.message||"Failed to delete cron job")}})}function lne(e,t){return Oe({queryKey:Ct.cronRunHistory(e??"",t),queryFn:()=>e?Gd(()=>On.getCronRunHistory(e,t),[]):Promise.resolve([]),enabled:!!e})}function cne(){const e=be();return ye({mutationFn:t=>On.runCronJobNow(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),e.invalidateQueries({queryKey:Ct.cronRunHistory(r)}),e.invalidateQueries({queryKey:Ct.runs()}),W.success("Job started")},onError:t=>{W.error(t.message||"Failed to run job")}})}function tF(){return Oe({queryKey:Ct.nodes(),queryFn:()=>Gd(()=>On.getNodes(),[])})}function une(){const e=be();return ye({mutationFn:({id:t,data:r})=>On.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.nodes()}),e.invalidateQueries({queryKey:Ct.node(r)}),W.success("Node updated")},onError:t=>{W.error(t.message||"Failed to update node")}})}function dne(e){return Oe({queryKey:Ct.alerts(e),queryFn:()=>Gd(()=>On.getAlerts(e),[])})}function fne(){const e=be();return ye({mutationFn:({id:t,data:r})=>On.updateAlert(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.alerts()}),e.invalidateQueries({queryKey:Ct.alert(r)}),W.success("Alert updated")},onError:t=>{W.error(t.message||"Failed to update alert")}})}function hne(){const e=be();return ye({mutationFn:t=>On.quickRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.activities()}),e.invalidateQueries({queryKey:Ct.runs()}),W.success("Message sent")},onError:t=>{W.error(t.message||"Failed to send message")}})}const PO={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"};function mne({activity:e,open:t,onOpenChange:r,onDelete:n}){if(!e)return null;const s=()=>{n==null||n(e.id),r(!1)};return a.jsx(Le,{open:t,onOpenChange:r,children:a.jsxs(Re,{className:"max-w-lg","aria-describedby":"activity-detail-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Activity details"}),a.jsxs(Ie,{id:"activity-detail-description",children:[PO[e.activity_type]??e.activity_type," "," ",qr(new Date(e.created_at),{addSuffix:!0})]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),a.jsx("p",{className:"text-sm",children:PO[e.activity_type]??e.activity_type})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Details"}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md border border-border bg-secondary/30 p-3 text-xs",children:JSON.stringify(e.details,null,2)})]})]}),a.jsxs(Be,{children:[n&&a.jsx(E,{variant:"destructive",onClick:s,children:"Remove"}),a.jsx(E,{variant:"outline",onClick:()=>r(!1),children:"Close"})]})]})})}function pne({run:e,open:t,onOpenChange:r,onConfirm:n,isAborting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Le,{open:t,onOpenChange:r,children:a.jsxs(Re,{"aria-describedby":"run-abort-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Abort run?"}),a.jsxs(Ie,{id:"run-abort-description",children:["This will stop the run that started"," ",qr(new Date(e.start_time),{addSuffix:!0}),". This action cannot be undone."]})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(E,{variant:"destructive",onClick:i,disabled:s,children:s?"Aborting":"Abort run"})]})]})})}function gne(e){const t=vne(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(xne);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function vne(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=wne(s),l=bne(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Hi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yne=Symbol("radix.slottable");function xne(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yne}function bne(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function wne(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var rF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jne="VisuallyHidden",_ne=x.forwardRef((e,t)=>a.jsx(Qe.span,{...e,ref:t,style:{...rF,...e.style}}));_ne.displayName=jne;var Sne=[" ","Enter","ArrowUp","ArrowDown"],Nne=[" ","Enter"],hc="Select",[Dx,Lx,kne]=_x(hc),[Yd]=Is(hc,[kne,Ex]),Fx=Ex(),[Cne,ll]=Yd(hc),[Ene,One]=Yd(hc),nF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=Fx(t),[y,b]=x.useState(null),[v,w]=x.useState(null),[S,j]=x.useState(!1),_=Vd(u),[N,k]=Ga({prop:n,defaultProp:s??!1,onChange:i,caller:hc}),[C,A]=Ga({prop:o,defaultProp:l,onChange:c,caller:hc}),I=x.useRef(null),O=y?g||!!y.closest("form"):!0,[B,T]=x.useState(new Set),z=Array.from(B).map(R=>R.props.value).join(";");return a.jsx(sL,{...p,children:a.jsxs(Cne,{required:m,scope:t,trigger:y,onTriggerChange:b,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Os(),value:C,onValueChange:A,open:N,onOpenChange:k,dir:_,triggerPointerDownPosRef:I,disabled:h,children:[a.jsx(Dx.Provider,{scope:t,children:a.jsx(Ene,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(R=>{T(V=>new Set(V).add(R))},[]),onNativeOptionRemove:x.useCallback(R=>{T(V=>{const D=new Set(V);return D.delete(R),D})},[]),children:r})}),O?a.jsxs(CF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:R=>A(R.target.value),disabled:h,form:g,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(B)]},z):null]})})};nF.displayName=hc;var sF="SelectTrigger",aF=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Fx(r),o=ll(sF,r),l=o.disabled||n,c=pt(t,o.onTriggerChange),u=Lx(r),d=x.useRef("touch"),[f,h,m]=OF(p=>{const y=u().filter(w=>!w.disabled),b=y.find(w=>w.value===o.value),v=PF(y,p,b);v!==void 0&&o.onValueChange(v.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(aL,{asChild:!0,...i,children:a.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":EF(o.value)?"":void 0,...s,ref:c,onClick:Ee(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Ee(s.onPointerDown,p=>{d.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Ee(s.onKeyDown,p=>{const y=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(y&&p.key===" ")&&Sne.includes(p.key)&&(g(),p.preventDefault())})})})});aF.displayName=sF;var iF="SelectValue",oF=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=ll(iF,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=pt(t,c.onValueNodeChange);return br(()=>{u(d)},[u,d]),a.jsx(Qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:EF(c.value)?a.jsx(a.Fragment,{children:o}):i})});oF.displayName=iF;var Pne="SelectIcon",lF=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Qe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});lF.displayName=Pne;var Ane="SelectPortal",cF=e=>a.jsx(px,{asChild:!0,...e});cF.displayName=Ane;var mc="SelectContent",uF=x.forwardRef((e,t)=>{const r=ll(mc,e.__scopeSelect),[n,s]=x.useState();if(br(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Id.createPortal(a.jsx(dF,{scope:e.__scopeSelect,children:a.jsx(Dx.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(fF,{...e,ref:t})});uF.displayName=mc;var Xs=10,[dF,cl]=Yd(mc),Tne="SelectContentImpl",Rne=gne("SelectContent.RemoveScroll"),fF=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y,...b}=e,v=ll(mc,r),[w,S]=x.useState(null),[j,_]=x.useState(null),N=pt(t,ce=>S(ce)),[k,C]=x.useState(null),[A,I]=x.useState(null),O=Lx(r),[B,T]=x.useState(!1),z=x.useRef(!1);x.useEffect(()=>{if(w)return tN(w)},[w]),eN();const R=x.useCallback(ce=>{const[qe,...se]=O().map(G=>G.ref.current),[xe]=se.slice(-1),H=document.activeElement;for(const G of ce)if(G===H||(G==null||G.scrollIntoView({block:"nearest"}),G===qe&&j&&(j.scrollTop=0),G===xe&&j&&(j.scrollTop=j.scrollHeight),G==null||G.focus(),document.activeElement!==H))return},[O,j]),V=x.useCallback(()=>R([k,w]),[R,k,w]);x.useEffect(()=>{B&&V()},[B,V]);const{onOpenChange:D,triggerPointerDownPosRef:$}=v;x.useEffect(()=>{if(w){let ce={x:0,y:0};const qe=xe=>{var H,G;ce={x:Math.abs(Math.round(xe.pageX)-(((H=$.current)==null?void 0:H.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((G=$.current)==null?void 0:G.y)??0))}},se=xe=>{ce.x<=10&&ce.y<=10?xe.preventDefault():w.contains(xe.target)||D(!1),document.removeEventListener("pointermove",qe),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",qe),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",qe),document.removeEventListener("pointerup",se,{capture:!0})}}},[w,D,$]),x.useEffect(()=>{const ce=()=>D(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[D]);const[M,te]=OF(ce=>{const qe=O().filter(H=>!H.disabled),se=qe.find(H=>H.ref.current===document.activeElement),xe=PF(qe,ce,se);xe&&setTimeout(()=>xe.ref.current.focus())}),Q=x.useCallback((ce,qe,se)=>{const xe=!z.current&&!se;(v.value!==void 0&&v.value===qe||xe)&&(C(ce),xe&&(z.current=!0))},[v.value]),le=x.useCallback(()=>w==null?void 0:w.focus(),[w]),me=x.useCallback((ce,qe,se)=>{const xe=!z.current&&!se;(v.value!==void 0&&v.value===qe||xe)&&I(ce)},[v.value]),We=n==="popper"?l_:hF,Ve=We===l_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y}:{};return a.jsx(dF,{scope:r,content:w,viewport:j,onViewportChange:_,itemRefCallback:Q,selectedItem:k,onItemLeave:le,itemTextRefCallback:me,focusSelectedItem:V,selectedItemText:A,position:n,isPositioned:B,searchRef:M,children:a.jsx(vx,{as:Rne,allowPinchZoom:!0,children:a.jsx(mx,{asChild:!0,trapped:v.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Ee(s,ce=>{var qe;(qe=v.trigger)==null||qe.focus({preventScroll:!0}),ce.preventDefault()}),children:a.jsx(hx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(We,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ce=>ce.preventDefault(),...b,...Ve,onPlaced:()=>T(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ee(b.onKeyDown,ce=>{const qe=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!qe&&ce.key.length===1&&te(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let xe=O().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const H=ce.target,G=xe.indexOf(H);xe=xe.slice(G+1)}setTimeout(()=>R(xe)),ce.preventDefault()}})})})})})})});fF.displayName=Tne;var Mne="SelectItemAlignedPosition",hF=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=ll(mc,r),o=cl(mc,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=pt(t,N=>d(N)),h=Lx(r),m=x.useRef(!1),g=x.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:b,focusSelectedItem:v}=o,w=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&y&&b){const N=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(i.dir!=="rtl"){const H=A.left-k.left,G=C.left-H,Xe=N.left-G,Ke=N.width+Xe,yt=Math.max(Ke,k.width),ot=window.innerWidth-Xs,zt=Hj(G,[Xs,Math.max(Xs,ot-yt)]);l.style.minWidth=Ke+"px",l.style.left=zt+"px"}else{const H=k.right-A.right,G=window.innerWidth-C.right-H,Xe=window.innerWidth-N.right-G,Ke=N.width+Xe,yt=Math.max(Ke,k.width),ot=window.innerWidth-Xs,zt=Hj(G,[Xs,Math.max(Xs,ot-yt)]);l.style.minWidth=Ke+"px",l.style.right=zt+"px"}const I=h(),O=window.innerHeight-Xs*2,B=p.scrollHeight,T=window.getComputedStyle(u),z=parseInt(T.borderTopWidth,10),R=parseInt(T.paddingTop,10),V=parseInt(T.borderBottomWidth,10),D=parseInt(T.paddingBottom,10),$=z+R+B+D+V,M=Math.min(y.offsetHeight*5,$),te=window.getComputedStyle(p),Q=parseInt(te.paddingTop,10),le=parseInt(te.paddingBottom,10),me=N.top+N.height/2-Xs,We=O-me,Ve=y.offsetHeight/2,ce=y.offsetTop+Ve,qe=z+R+ce,se=$-qe;if(qe<=me){const H=I.length>0&&y===I[I.length-1].ref.current;l.style.bottom="0px";const G=u.clientHeight-p.offsetTop-p.offsetHeight,Xe=Math.max(We,Ve+(H?le:0)+G+V),Ke=qe+Xe;l.style.height=Ke+"px"}else{const H=I.length>0&&y===I[0].ref.current;l.style.top="0px";const Xe=Math.max(me,z+p.offsetTop+(H?Q:0)+Ve)+se;l.style.height=Xe+"px",p.scrollTop=qe-me+p.offsetTop}l.style.margin=`${Xs}px 0`,l.style.minHeight=M+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,y,b,i.dir,n]);br(()=>w(),[w]);const[S,j]=x.useState();br(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const _=x.useCallback(N=>{N&&g.current===!0&&(w(),v==null||v(),g.current=!1)},[w,v]);return a.jsx(Ine,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:_,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(Qe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});hF.displayName=Mne;var $ne="SelectPopperPosition",l_=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Xs,...i}=e,o=Fx(r);return a.jsx(iL,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});l_.displayName=$ne;var[Ine,LN]=Yd(mc,{}),c_="SelectViewport",mF=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=cl(c_,r),o=LN(c_,r),l=pt(t,i.onViewportChange),c=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Dx.Slot,{scope:r,children:a.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ee(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Xs*2,p=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),b=Math.max(p,y);if(b<g){const v=b+m,w=Math.min(g,v),S=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});mF.displayName=c_;var pF="SelectGroup",[Dne,Lne]=Yd(pF),Fne=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Os();return a.jsx(Dne,{scope:r,id:s,children:a.jsx(Qe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Fne.displayName=pF;var gF="SelectLabel",vF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Lne(gF,r);return a.jsx(Qe.div,{id:s.id,...n,ref:t})});vF.displayName=gF;var Rv="SelectItem",[Une,yF]=Yd(Rv),xF=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=ll(Rv,r),c=cl(Rv,r),u=l.value===n,[d,f]=x.useState(i??""),[h,m]=x.useState(!1),g=pt(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,n,s)}),p=Os(),y=x.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Une,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:x.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Dx.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Qe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Ee(o.onFocus,()=>m(!0)),onBlur:Ee(o.onBlur,()=>m(!1)),onClick:Ee(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:Ee(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:Ee(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:Ee(o.onPointerMove,v=>{var w;y.current=v.pointerType,s?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ee(o.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(Nne.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});xF.displayName=Rv;var Jf="SelectItemText",bF=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=ll(Jf,r),l=cl(Jf,r),c=yF(Jf,r),u=One(Jf,r),[d,f]=x.useState(null),h=pt(t,b=>f(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=x.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return br(()=>(p(g),()=>y(g)),[p,y,g]),a.jsxs(a.Fragment,{children:[a.jsx(Qe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Id.createPortal(i.children,o.valueNode):null]})});bF.displayName=Jf;var wF="SelectItemIndicator",jF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return yF(wF,r).isSelected?a.jsx(Qe.span,{"aria-hidden":!0,...n,ref:t}):null});jF.displayName=wF;var u_="SelectScrollUpButton",_F=x.forwardRef((e,t)=>{const r=cl(u_,e.__scopeSelect),n=LN(u_,e.__scopeSelect),[s,i]=x.useState(!1),o=pt(t,n.onScrollButtonChange);return br(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(NF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_F.displayName=u_;var d_="SelectScrollDownButton",SF=x.forwardRef((e,t)=>{const r=cl(d_,e.__scopeSelect),n=LN(d_,e.__scopeSelect),[s,i]=x.useState(!1),o=pt(t,n.onScrollButtonChange);return br(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(NF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});SF.displayName=d_;var NF=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=cl("SelectScrollButton",r),o=x.useRef(null),l=Lx(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),br(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Qe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ee(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ee(s.onPointerLeave,()=>{c()})})}),Bne="SelectSeparator",kF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Qe.div,{"aria-hidden":!0,...n,ref:t})});kF.displayName=Bne;var f_="SelectArrow",qne=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Fx(r),i=ll(f_,r),o=cl(f_,r);return i.open&&o.position==="popper"?a.jsx(oL,{...s,...n,ref:t}):null});qne.displayName=f_;var zne="SelectBubbleInput",CF=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=x.useRef(null),i=pt(n,s),o=I3(t);return x.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Qe.select,{...r,style:{...rF,...r.style},ref:i,defaultValue:t})});CF.displayName=zne;function EF(e){return e===""||e===void 0}function OF(e){const t=Hr(e),r=x.useRef(""),n=x.useRef(0),s=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function PF(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Wne(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Wne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Vne=nF,AF=aF,Kne=oF,Hne=lF,Gne=cF,TF=uF,Yne=mF,RF=vF,MF=xF,Qne=bF,Xne=jF,$F=_F,IF=SF,DF=kF;const lt=Vne,ct=Kne,at=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(AF,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(Hne,{asChild:!0,children:a.jsx(Sc,{className:"h-4 w-4 opacity-50"})})]}));at.displayName=AF.displayName;const LF=x.forwardRef(({className:e,...t},r)=>a.jsx($F,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(l4,{className:"h-4 w-4"})}));LF.displayName=$F.displayName;const FF=x.forwardRef(({className:e,...t},r)=>a.jsx(IF,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Sc,{className:"h-4 w-4"})}));FF.displayName=IF.displayName;const it=x.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(Gne,{children:a.jsxs(TF,{ref:s,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-card text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(LF,{}),a.jsx(Yne,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(FF,{})]})}));it.displayName=TF.displayName;const Jne=x.forwardRef(({className:e,...t},r)=>a.jsx(RF,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Jne.displayName=RF.displayName;const Ne=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(MF,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Xne,{children:a.jsx(Qm,{className:"h-4 w-4"})})}),a.jsx(Qne,{children:t})]}));Ne.displayName=MF.displayName;const Zne=x.forwardRef(({className:e,...t},r)=>a.jsx(DF,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));Zne.displayName=DF.displayName;const ese=ht({name:je().min(1,"Name is required").max(200,"Name too long"),schedule:je().min(1,"Schedule is required"),description:je().optional(),payload_json:je().optional(),session_target:je().optional(),isolation_setting:ti().optional(),status:nr(["active","paused"]).optional()}),eg={name:"",schedule:"",description:"",payload_json:"{}",session_target:"",isolation_setting:!1,status:"active"};function tse(e){if(!e||!e.trim())return{};try{const t=JSON.parse(e);return typeof t=="object"&&t!==null?t:{}}catch{return{}}}function UF({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,userId:s="",job:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=dt({resolver:ft(ese),defaultValues:eg}),m=d("status"),g=d("isolation_setting");x.useEffect(()=>{e&&i?f({name:i.name??i.description??"",schedule:i.schedule,description:i.description??"",payload_json:typeof i.payload=="object"&&Object.keys(i.payload||{}).length>0?JSON.stringify(i.payload,null,2):"{}",session_target:i.session_target??"",isolation_setting:i.isolation_setting??!1,status:i.status==="failed"?"paused":i.status}):e&&!i&&f(eg)},[e,i,f]);const p=b=>{const v=tse(b.payload_json??"{}");r(o&&i?{name:b.name||null,schedule:b.schedule,description:b.description||null,payload:v,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}:{user_id:s,name:b.name||null,schedule:b.schedule,description:b.description||null,payload:v,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}),f(eg),t(!1)},y=b=>{b||f(eg),t(b)};return a.jsx(Le,{open:e,onOpenChange:y,children:a.jsxs(Re,{className:"max-w-[640px]","aria-describedby":"cron-job-form-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:o?"Edit cron job":"Create cron job"}),a.jsx(Ie,{id:"cron-job-form-description",children:o?"Update schedule, payload, session target, and isolation.":"Add a scheduled job with cron expression, payload, and session target."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"name",children:"Job name"}),a.jsx(ge,{id:"name",placeholder:"e.g. Daily backup",...l("name"),className:h.name?"border-destructive":""}),h.name&&a.jsx("p",{className:"text-xs text-destructive",children:h.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"schedule",children:"Schedule (cron expression)"}),a.jsx(ge,{id:"schedule",placeholder:"e.g. 0 * * * * (hourly)",...l("schedule"),className:h.schedule?"border-destructive":""}),h.schedule&&a.jsx("p",{className:"text-xs text-destructive",children:h.schedule.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"description",children:"Description (optional)"}),a.jsx(ge,{id:"description",placeholder:"Optional description",...l("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"payload_json",children:"Payload (JSON)"}),a.jsx("textarea",{id:"payload_json",rows:4,placeholder:'{"key": "value"}',...l("payload_json"),className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-mono"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"session_target",children:"Session target"}),a.jsx(ge,{id:"session_target",placeholder:"Target session or channel",...l("session_target")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(Y,{htmlFor:"isolation_setting",children:"Isolation"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Run job in isolated environment (sandbox)"})]}),a.jsx(xr,{id:"isolation_setting",checked:g??!1,onCheckedChange:b=>u("isolation_setting",b)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Status"}),a.jsxs(lt,{value:m??"active",onValueChange:b=>u("status",b),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"active",children:"Active"}),a.jsx(Ne,{value:"paused",children:"Paused"})]})]})]}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>y(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":o?"Save changes":"Create job"})]})]})]})})}const Tw={healthy:"Healthy",degraded:"Degraded",unknown:"Unknown",offline:"Offline"},rse={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},nse={paired:"success",offline:"destructive",error:"warning"};function BF({node:e,open:t,onOpenChange:r,onUpdateHealth:n,isUpdating:s=!1}){var u;const[i,o]=x.useState((e==null?void 0:e.connection_health)??"unknown");if(x.useEffect(()=>{e&&o(e.connection_health)},[e,t]),!e)return null;const l=e.connection_health,c=()=>{n==null||n(e.id,i),r(!1)};return a.jsx(Le,{open:t,onOpenChange:r,children:a.jsxs(Re,{className:"max-w-md","aria-describedby":"node-health-description",children:[a.jsxs(Me,{children:[a.jsxs($e,{className:"flex items-center gap-2",children:[a.jsx(qa,{className:"h-5 w-5"}),e.name??"Node","  Connection health"]}),a.jsx(Ie,{id:"node-health-description",children:"View and update node connection health and capabilities."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),a.jsx(Ye,{variant:nse[e.status],children:e.status})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Current health:"}),a.jsxs(Ye,{variant:rse[l],children:[l==="healthy"&&a.jsx(JS,{className:"mr-1 h-3 w-3"}),l==="offline"&&a.jsx(j4,{className:"mr-1 h-3 w-3"}),Tw[l]]})]}),(u=e.capabilities)!=null&&u.length?a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Capabilities"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.capabilities.map(d=>a.jsx(Ye,{variant:"outline",className:"text-xs",children:d},d))})]}):null,n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Update connection health"}),a.jsxs(lt,{value:i,onValueChange:d=>o(d),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsx(it,{children:Object.keys(Tw).map(d=>a.jsx(Ne,{value:d,children:Tw[d]},d))})]})]})]}),n&&a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(E,{onClick:c,disabled:s||i===l,children:s?"Saving":"Save"})]})]})})}const sse={low:"Low",medium:"Medium",high:"High",critical:"Critical"},ase=[{value:"open",label:"Open"},{value:"acknowledged",label:"Acknowledged"},{value:"resolved",label:"Resolved"}];function ise({alert:e,open:t,onOpenChange:r,onResolve:n,isUpdating:s=!1}){if(!e)return null;const i=o=>{n==null||n(e.id,o),r(!1)};return a.jsx(Le,{open:t,onOpenChange:r,children:a.jsxs(Re,{className:"max-w-lg","aria-describedby":"alert-resolution-description",children:[a.jsxs(Me,{children:[a.jsxs($e,{className:"flex items-center gap-2",children:[a.jsx(ol,{className:J("h-5 w-5",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning")}),"Alert  ",e.type]}),a.jsx(Ie,{id:"alert-resolution-description",children:"Update resolution status for this security or audit finding."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{className:"rounded-md border border-border bg-secondary/30 p-3",children:a.jsx("p",{className:"text-sm",children:e.description})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Severity:"}),a.jsx("span",{className:J("text-sm font-medium",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning"),children:sse[e.severity]})]}),n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Resolution status"}),a.jsxs(lt,{value:e.resolution_status,onValueChange:o=>i(o),disabled:s,children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsx(it,{children:ase.map(o=>a.jsx(Ne,{value:o.value,children:o.label},o.value))})]})]})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>r(!1),children:"Close"}),n&&a.jsx(E,{onClick:()=>i("resolved"),disabled:s||e.resolution_status==="resolved",children:s?"Updating":"Mark resolved"})]})]})})}const AO={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"},ose={running:"default",completed:"secondary",failed:"destructive",aborted:"warning"},lse={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"};function cse(){const[e,t]=x.useState(""),[r,n]=x.useState(""),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,m]=x.useState(null),[g,p]=x.useState(null),{data:y}=Ix(),b=(y==null?void 0:y.user_id)??"",{data:v=[],isLoading:w}=rne({limit:20,type:r||void 0}),{data:S=[],isLoading:j}=sne({status:"running",limit:10}),{data:_=[],isLoading:N}=Z3(),{data:k=[],isLoading:C}=tF(),{data:A=[],isLoading:I}=dne({resolution_status:"open"}),O=hne(),B=ane(),T=eF(),z=nne(),R=fne(),V=une(),D=()=>{const M=e.trim();M&&O.mutate({message:M},{onSuccess:()=>t("")})},$=r?v.filter(M=>M.activity_type===r):v;return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active runs",value:S.length,icon:Ni,href:"/chat"},{title:"Cron jobs",value:_.length,icon:qd,href:"/cron"},{title:"Nodes",value:k.length,icon:qa,href:"/nodes"},{title:"Alerts",value:A.length,icon:Or,href:"/security"}].map(({title:M,value:te,icon:Q,href:le})=>a.jsx(he,{to:le,children:a.jsxs(X,{className:"transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:M}),a.jsx(Q,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:te})})]})},M))}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(X,{className:"flex flex-col",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(zS,{className:"h-5 w-5"}),"Recent activity"]}),a.jsxs("select",{value:r,onChange:M=>n(M.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter activity type",children:[a.jsx("option",{value:"",children:"All"}),Object.entries(AO).map(([M,te])=>a.jsx("option",{value:M,children:te},M))]})]}),a.jsx(Z,{className:"flex-1 overflow-hidden",children:a.jsx(jt,{className:"h-[280px] pr-4",children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(M=>a.jsx(de,{className:"h-14 w-full rounded-lg"},M))}):$.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity."}):a.jsx("ul",{className:"space-y-2",children:$.map(M=>a.jsx("li",{children:a.jsxs("div",{className:J("rounded-lg border border-border bg-secondary/30 p-3 transition-colors hover:bg-secondary/50",s===M.id&&"ring-2 ring-ring"),children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 text-left",onClick:()=>i(s===M.id?null:M.id),"aria-expanded":s===M.id,children:[s===M.id?a.jsx(Sc,{className:"h-4 w-4 shrink-0"}):a.jsx(Wn,{className:"h-4 w-4 shrink-0"}),a.jsx(Ye,{variant:"secondary",className:"text-xs",children:AO[M.activity_type]??M.activity_type}),a.jsx("span",{className:"flex-1 truncate text-sm text-muted-foreground",children:qr(new Date(M.created_at),{addSuffix:!0})})]}),s===M.id&&a.jsx("div",{className:"mt-2 flex items-center gap-2 border-t border-border pt-2",children:a.jsx(E,{variant:"outline",size:"sm",onClick:()=>l(M),children:"View details"})})]})},M.id))})})})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Jm,{className:"h-5 w-5"}),"Quick Run"]}),a.jsx(we,{children:"Send a message to the default session or channel."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{type:"text",placeholder:"Type a command or message...",className:"flex-1",value:e,onChange:M=>t(M.target.value),onKeyDown:M=>M.key==="Enter"&&D(),"aria-label":"Quick run message"}),a.jsx(E,{onClick:D,disabled:!e.trim()||O.isPending,children:O.isPending?a.jsx("span",{className:"animate-pulse",children:"Sending"}):a.jsx(td,{className:"h-4 w-4"})})]})})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Active runs"}),a.jsx(we,{children:"Stream and abort running jobs."})]}),a.jsx(Z,{children:j?a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"h-12 w-full rounded-lg"}),a.jsx(de,{className:"h-12 w-full rounded-lg"})]}):S.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No active runs."}):a.jsx("ul",{className:"space-y-2",children:S.map(M=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ye,{variant:ose[M.status],children:M.status}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started ",qr(new Date(M.start_time),{addSuffix:!0})]})]}),a.jsxs(E,{variant:"destructive",size:"sm",onClick:()=>u(M),disabled:M.status!=="running",children:[a.jsx(VS,{className:"mr-1 h-4 w-4"}),"Abort"]})]},M.id))})})]}),a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs(X,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(ae,{children:"Cron overview"}),a.jsxs(E,{size:"sm",onClick:()=>f(!0),children:[a.jsx($t,{className:"mr-1 h-4 w-4"}),"Create job"]})]}),a.jsx(Z,{children:N?a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"h-10 w-full rounded-lg"}),a.jsx(de,{className:"h-10 w-full rounded-lg"})]}):_.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No cron jobs."}),a.jsx(E,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(he,{to:"/cron",children:"Manage cron"})})]}):a.jsxs("ul",{className:"space-y-2",children:[_.slice(0,5).map(M=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:M.description||M.schedule}),a.jsx("p",{className:"text-xs text-muted-foreground",children:M.schedule})]}),a.jsx(Ye,{variant:M.status==="active"?"default":"secondary",children:M.status})]},M.id)),_.length>5&&a.jsx("li",{children:a.jsx(E,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs(he,{to:"/cron",children:["View all (",_.length,")"]})})})]})})]}),a.jsxs(X,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(ae,{children:"Nodes status"}),a.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(he,{to:"/nodes",children:"Pair node"})})]}),a.jsx(Z,{children:C?a.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[a.jsx(de,{className:"h-20 rounded-lg"}),a.jsx(de,{className:"h-20 rounded-lg"})]}):k.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes."}),a.jsx(E,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(he,{to:"/nodes",children:"Pair node"})})]}):a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:k.map(M=>a.jsxs("button",{type:"button",className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3 text-left transition-colors hover:bg-secondary/50",onClick:()=>m(M),children:[a.jsx(qa,{className:"h-8 w-8 shrink-0 text-muted-foreground"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:M.name??"Node"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(Ye,{variant:lse[M.connection_health],className:"text-xs",children:[M.connection_health==="healthy"&&a.jsx(JS,{className:"mr-0.5 h-3 w-3"}),M.connection_health==="offline"&&a.jsx(j4,{className:"mr-0.5 h-3 w-3"}),M.connection_health]})})]})]},M.id))})})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(ol,{className:"h-5 w-5 text-warning"}),"Skill alerts / audit findings"]}),a.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(he,{to:"/security",children:"Run audit"})})]}),a.jsx(Z,{children:I?a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"h-12 w-full rounded-lg"}),a.jsx(de,{className:"h-12 w-full rounded-lg"})]}):A.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No alerts."}),a.jsx(E,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(he,{to:"/security",children:"Run audit"})})]}):a.jsx("ul",{className:"space-y-2",children:A.map(M=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:M.type}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",children:M.description})]}),a.jsx(Ye,{variant:M.severity==="critical"?"destructive":M.severity==="high"?"warning":"secondary",className:"shrink-0",children:M.severity}),a.jsx(E,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>p(M),children:"Fix"})]},M.id))})})]}),a.jsx(mne,{activity:o,open:!!o,onOpenChange:M=>!M&&l(null),onDelete:M=>{z.mutate(M),l(null)}}),a.jsx(pne,{run:c,open:!!c,onOpenChange:M=>!M&&u(null),onConfirm:M=>{B.mutate(M),u(null)},isAborting:B.isPending}),a.jsx(UF,{open:d,onOpenChange:f,onSubmit:M=>{"user_id"in M&&M.user_id!==void 0&&T.mutate(M)},isSubmitting:T.isPending,userId:b}),a.jsx(BF,{node:h,open:!!h,onOpenChange:M=>!M&&m(null),onUpdateHealth:(M,te)=>V.mutate({id:M,data:{connection_health:te}}),isUpdating:V.isPending}),a.jsx(ise,{alert:g,open:!!g,onOpenChange:M=>!M&&p(null),onResolve:(M,te)=>R.mutate({id:M,data:{resolution_status:te}}),isUpdating:R.isPending})]})}const ba={getSessions:async()=>{const{data:e,error:t}=await q.from("chat_sessions").select("*").order("started_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSession:async e=>{const{data:t,error:r}=await q.from("chat_sessions").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSession:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("chat_sessions").insert(r).select().single();if(s)throw new Error(s.message);return n},updateSession:async(e,t)=>{const{data:r,error:n}=await q.from("chat_sessions").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteSession:async e=>{const{error:t}=await q.from("chat_sessions").delete().eq("id",e);if(t)throw new Error(t.message)},getMessages:async(e,t)=>{let r=q.from("chat_messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},sendMessage:async e=>{const{data:t,error:r}=await q.from("chat_messages").insert(e).select().single();if(r)throw new Error(r.message);return t},getToolInvocations:async(e,t)=>{let r=q.from("tool_invocations").select("*").eq("session_id",e).order("created_at",{ascending:!1});t!=null&&t.messageId&&(r=r.eq("message_id",t.messageId)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createToolInvocation:async e=>{const{data:t,error:r}=await q.from("tool_invocations").insert(e).select().single();if(r)throw new Error(r.message);return t},updateToolInvocation:async(e,t)=>{const{data:r,error:n}=await q.from("tool_invocations").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},approveToolInvocation:async e=>ba.updateToolInvocation(e,{status:"approved"}),denyToolInvocation:async e=>ba.updateToolInvocation(e,{status:"denied"})};function use(e,t){return e().catch(()=>t)}const Ln={all:["chat"],sessions:()=>[...Ln.all,"sessions"],session:e=>[...Ln.all,"session",e],messages:(e,t)=>[...Ln.all,"messages",e,t],toolInvocations:(e,t)=>[...Ln.all,"toolInvocations",e,t]};function dse(){return Oe({queryKey:Ln.sessions(),queryFn:()=>use(()=>ba.getSessions(),[])})}function fse(e){return Oe({queryKey:Ln.session(e??""),queryFn:()=>e?ba.getSession(e):Promise.resolve(null),enabled:!!e})}function hse(){const e=be();return ye({mutationFn:t=>ba.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ln.sessions()}),W.success("Session created")},onError:t=>{W.error(t.message||"Failed to create session")}})}function mse(){const e=be();return ye({mutationFn:({id:t,data:r})=>ba.updateSession(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ln.sessions()}),e.invalidateQueries({queryKey:Ln.session(r)}),W.success("Session updated")},onError:t=>{W.error(t.message||"Failed to update session")}})}function pse(e,t){return Oe({queryKey:Ln.messages(e??"",{limit:t}),queryFn:()=>e?ba.getMessages(e,{limit:t}):Promise.resolve([]),enabled:!!e})}function gse(){const e=be();return ye({mutationFn:t=>ba.sendMessage(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ln.messages(r.session_id)}),W.success("Message sent")},onError:t=>{W.error(t.message||"Failed to send message")}})}function vse(e,t){return Oe({queryKey:Ln.toolInvocations(e??"",t),queryFn:()=>e?ba.getToolInvocations(e,t):Promise.resolve([]),enabled:!!e})}function yse(){const e=be();return ye({mutationFn:({id:t,sessionId:r})=>ba.approveToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:Ln.toolInvocations(r)}),W.success("Tool output approved")},onError:t=>{W.error(t.message||"Failed to approve")}})}function xse(){const e=be();return ye({mutationFn:({id:t,sessionId:r})=>ba.denyToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:Ln.toolInvocations(r)}),W.success("Tool output denied")},onError:t=>{W.error(t.message||"Failed to deny")}})}function bse({message:e,currentUserId:t}){const r=e.role==="user"||e.sender_id===t,n=e.role==="assistant"?"Assistant":e.role==="system"?"System":"You",s=Array.isArray(e.attachment_links)&&e.attachment_links.length>0;return a.jsxs("div",{className:J("flex gap-3 rounded-lg p-3 transition-colors duration-200 hover:bg-card/80",r&&"flex-row-reverse"),"data-message-id":e.id,children:[a.jsx(wx,{className:"h-8 w-8 shrink-0 rounded-full border border-border bg-secondary",children:a.jsx(jx,{className:"text-xs text-muted-foreground",children:e.role==="assistant"?a.jsx(i4,{className:"h-4 w-4"}):a.jsx(ep,{className:"h-4 w-4"})})}),a.jsxs("div",{className:J("flex min-w-0 flex-1 flex-col gap-1",r&&"items-end"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-foreground",children:n}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:qr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsx("p",{className:"whitespace-pre-wrap break-words text-sm text-foreground",children:e.text}),s&&a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.attachment_links.map((i,o)=>a.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"rounded border border-border bg-secondary px-2 py-1 text-xs text-primary hover:underline",children:i.name??"Attachment"},o))})]})]})}function wse({messages:e,isLoading:t,currentUserId:r,className:n}){const s=x.useRef(null);return x.useEffect(()=>{var i;(i=s.current)==null||i.scrollIntoView({behavior:"smooth"})},[e.length]),a.jsx(jt,{className:J("flex-1",n),"data-testid":"message-thread",children:a.jsx("div",{className:"space-y-1 p-4",children:t?a.jsx("div",{className:"flex flex-col gap-4 py-8",children:[1,2,3].map(i=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-muted animate-pulse"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-24 rounded bg-muted animate-pulse"}),a.jsx("div",{className:"h-4 w-full max-w-md rounded bg-muted animate-pulse"})]})]},i))}):e.length===0?a.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No messages yet. Send a message or use a slash command."}):e.map((i,o)=>a.jsx("div",{ref:o===e.length-1?s:void 0,children:a.jsx(bse,{message:i,currentUserId:r})},i.id))})})}function jse({sessionId:e,onSend:t,onAttachClick:r,onToolSelect:n,disabled:s,isSending:i,availableTools:o=[],className:l}){const[c,u]=x.useState(""),[d,f]=x.useState(null),h=x.useCallback(g=>{g.preventDefault();const p=c.trim();!p||!e||(t(p,{toolName:d??void 0}),u(""),f(null))},[c,e,t,d]),m=!!(e&&c.trim()&&!s&&!i);return a.jsx("form",{onSubmit:h,className:J("flex flex-col gap-2 border-t border-border bg-card p-4 transition-shadow duration-200",l),children:a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx(E,{type:"button",variant:"ghost",size:"icon",onClick:r,disabled:s||!e,"aria-label":"Attach file",className:"shrink-0",children:a.jsx(n7,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsx(ge,{value:c,onChange:g=>u(g.target.value),placeholder:"Type a message...",disabled:s||!e,className:"min-h-10 flex-1 rounded-md border-input bg-background px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Message input"}),o.length>0&&a.jsxs(lt,{value:d??"",onValueChange:g=>{f(g||null),g&&n&&n(g)},disabled:s||!e,children:[a.jsxs(at,{className:"w-full sm:w-[140px]","aria-label":"Select tool",children:[a.jsx(fx,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),a.jsx(ct,{placeholder:"Tool"})]}),a.jsx(it,{children:o.map(g=>a.jsx(Ne,{value:g.id,children:g.name},g.id))})]})]}),a.jsx(E,{type:"submit",size:"icon",disabled:!m,"aria-label":"Send message",className:"shrink-0 transition-transform hover:scale-105 active:scale-95",children:i?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsx(td,{className:"h-4 w-4"})})]})})}function _se(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=x.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Sse(s,...t)]}function Sse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Nse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qF=Nse.reduce((e,t)=>{const r=tp(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),FN="Progress",UN=100,[kse]=_se(FN),[Cse,Ese]=kse(FN),zF=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Ose,...o}=e;(s||s===0)&&!TO(s)&&console.error(Pse(`${s}`,"Progress"));const l=TO(s)?s:UN;n!==null&&!RO(n,l)&&console.error(Ase(`${n}`,"Progress"));const c=RO(n,l)?n:null,u=Mv(c)?i(c,l):void 0;return a.jsx(Cse,{scope:r,value:c,max:l,children:a.jsx(qF.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Mv(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":KF(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});zF.displayName=FN;var WF="ProgressIndicator",VF=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Ese(WF,r);return a.jsx(qF.div,{"data-state":KF(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});VF.displayName=WF;function Ose(e,t){return`${Math.round(e/t*100)}%`}function KF(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Mv(e){return typeof e=="number"}function TO(e){return Mv(e)&&!isNaN(e)&&e>0}function RO(e,t){return Mv(e)&&!isNaN(e)&&e<=t&&e>=0}function Pse(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${UN}\`.`}function Ase(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${UN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var HF=zF,Tse=VF;const BN=x.forwardRef(({className:e,value:t,...r},n)=>a.jsx(HF,{ref:n,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(Tse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));BN.displayName=HF.displayName;const Rse={pending:"secondary",running:"default",completed:"outline",failed:"destructive",approved:"outline",denied:"destructive"};function Mse({invocation:e,onApprove:t,onDeny:r,className:n}){const s=e.status==="running",i=e.status==="completed"||e.status==="running",o=e.output&&typeof e.output=="object"?JSON.stringify(e.output,null,2):e.output!=null?String(e.output):"";return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover",n),"data-invocation-id":e.id,children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fx,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-semibold",children:e.tool_name}),a.jsx(Ye,{variant:Rse[e.status],className:"text-xs",children:e.status})]}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:qr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsxs(Z,{className:"p-4",children:[s&&a.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(pn,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Running"}),a.jsx(BN,{value:void 0,className:"h-1.5 flex-1"})]}),o&&a.jsx("pre",{className:"max-h-48 overflow-auto rounded border border-border bg-secondary/50 p-3 text-xs text-foreground",children:o}),i&&t&&r&&a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(E,{size:"sm",variant:"outline",className:"gap-1.5",onClick:()=>r(e.id),children:[a.jsx(rd,{className:"h-4 w-4"}),"Deny"]}),a.jsxs(E,{size:"sm",className:"gap-1.5",onClick:()=>t(e.id),children:[a.jsx(Qm,{className:"h-4 w-4"}),"Approve"]})]})]})]})}function $se({session:e,sessions:t,onSelectSession:r,currentSessionId:n,routingTargets:s=[],className:i}){return a.jsxs("aside",{className:J("flex w-full flex-col gap-4 lg:w-72 lg:shrink-0",i),"aria-label":"Chat sidebar",children:[a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(ne,{className:"pb-2",children:a.jsx(ae,{className:"text-sm font-semibold",children:"Session"})}),a.jsxs(Z,{className:"text-sm text-muted-foreground",children:[e?a.jsx("p",{className:"font-medium text-foreground",children:e.title}):a.jsx("p",{children:"Main session (default)"}),e&&a.jsxs("p",{className:"mt-1 text-xs",children:["Status: ",a.jsx(Ye,{variant:"outline",children:e.status})]})]})]}),t.length>1&&a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(ne,{className:"pb-2",children:a.jsx(ae,{className:"text-sm font-semibold",children:"Sessions"})}),a.jsx(Z,{children:a.jsx(jt,{className:"h-32",children:a.jsx("ul",{className:"space-y-1",children:t.slice(0,10).map(o=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>r(o.id),className:J("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors",n===o.id?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx(Jm,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:o.title})]})},o.id))})})})]}),a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(ne,{className:"pb-2",children:a.jsx(ae,{className:"text-sm font-semibold",children:"Routing targets"})}),a.jsx(Z,{className:"text-sm text-muted-foreground",children:s.length===0?a.jsx("p",{children:"No channels configured."}):a.jsx("ul",{className:"space-y-1",children:s.map(o=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(p4,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:o.name}),a.jsx(Ye,{variant:"secondary",className:"text-xs",children:o.type})]},o.id))})})]})]})}function Ise({traces:e,isLoading:t,onExport:r,className:n}){const[s,i]=x.useState(!1);return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",n),children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[r&&a.jsx(E,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Export trace",children:a.jsx(Yr,{className:"h-4 w-4"})}),a.jsx(E,{variant:"ghost",size:"icon",onClick:()=>i(o=>!o),"aria-label":s?"Collapse":"Expand",children:s?a.jsx(Sc,{className:"h-4 w-4"}):a.jsx(l4,{className:"h-4 w-4"})})]})]}),s&&a.jsx(Z,{className:"p-0",children:a.jsx(jt,{className:"h-48",children:a.jsx("div",{className:"space-y-1 p-2",children:t?a.jsx("div",{className:"flex flex-col gap-2 py-4",children:[1,2,3].map(o=>a.jsx("div",{className:"h-8 w-full rounded bg-muted animate-pulse"},o))}):e.length===0?a.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No active run."}):e.map(o=>a.jsxs("div",{className:"rounded border border-border bg-secondary/30 px-3 py-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium",children:o.type}),a.jsx("span",{className:"text-muted-foreground",children:o.timestamp})]}),a.jsx("p",{className:"mt-1 text-muted-foreground",children:o.summary})]},o.id))})})})]})}function Dse({open:e,onOpenChange:t,attachments:r,onAdd:n,onRemove:s,onConfirm:i,maxAttachments:o=5,className:l}){const[c,u]=x.useState(""),[d,f]=x.useState(""),h=()=>{const g=c.trim();!g||r.length>=o||(n(g,d.trim()||void 0),u(""),f(""))},m=()=>{i(),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:J("max-w-[640px]",l),"aria-describedby":"attachment-modal-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Manage attachments"}),a.jsxs(Ie,{id:"attachment-modal-description",children:["Add links or URLs to attach to your message. You can add up to"," ",o," attachments."]})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(Y,{htmlFor:"attach-url",children:"URL"}),a.jsx(ge,{id:"attach-url",type:"url",placeholder:"https://...",value:c,onChange:g=>u(g.target.value),className:"rounded-md border-input"})]}),a.jsxs("div",{className:"w-32 space-y-2",children:[a.jsx(Y,{htmlFor:"attach-name",children:"Name (optional)"}),a.jsx(ge,{id:"attach-name",placeholder:"Label",value:d,onChange:g=>f(g.target.value),className:"rounded-md border-input"})]}),a.jsx(E,{type:"button",variant:"secondary",size:"icon",onClick:h,disabled:!c.trim()||r.length>=o,className:"mt-6 shrink-0","aria-label":"Add attachment",children:a.jsx(w4,{className:"h-4 w-4"})})]}),r.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Y,{children:["Attachments (",r.length,"/",o,")"]}),a.jsx(jt,{className:"h-32 rounded-md border border-border p-2",children:a.jsx("ul",{className:"space-y-1",children:r.map((g,p)=>a.jsxs("li",{className:"flex items-center justify-between rounded bg-secondary/50 px-2 py-1.5 text-sm",children:[a.jsx("span",{className:"truncate",children:g.name??g.url}),a.jsx(E,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(p),"aria-label":"Remove attachment",children:a.jsx(rd,{className:"h-4 w-4"})})]},p))})})]})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{onClick:m,children:"Done"})]})]})})}const Lse={new:"Start new session",reset:"Reset session",stop:"Stop session"},Fse={new:"Start a new chat session. Your current session will remain in the list.",reset:"Clear all messages in this session. This cannot be undone.",stop:"Pause the current session. You can resume later."};function Use({open:e,onOpenChange:t,action:r,onConfirm:n,isLoading:s,className:i}){if(!r)return null;const o=()=>{n(r),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:J("max-w-[640px]",i),"aria-describedby":"session-dialog-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:Lse[r]}),a.jsx(Ie,{id:"session-dialog-description",children:Fse[r]})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{onClick:o,disabled:s,children:s?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsxs(a.Fragment,{children:[r==="new"&&a.jsx($t,{className:"mr-1.5 h-4 w-4"}),r==="reset"&&a.jsx(g4,{className:"mr-1.5 h-4 w-4"}),r==="stop"&&a.jsx(Qh,{className:"mr-1.5 h-4 w-4"}),"Confirm"]})})]})]})})}const Bse=[{id:"browser",name:"Browser",description:"Fetch and summarize URLs"},{id:"search",name:"Search",description:"Web search"},{id:"code",name:"Code",description:"Run code snippets"}];function qse(){const{data:e}=Ix(),t=(e==null?void 0:e.user_id)??null,[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState([]),[h,m]=x.useState([]),{data:g=[],isLoading:p}=dse(),{data:y}=fse(r),{data:b=[],isLoading:v}=pse(r,200),{data:w=[]}=vse(r,{limit:20}),S=hse(),j=mse(),_=gse(),N=yse(),k=xse();x.useEffect(()=>{if(!p){if(g.length>0&&!r){n(g[0].id);return}g.length===0&&S.mutate({title:"New session"},{onSuccess:T=>n(T.id)})}},[p,g.length,g,r,S]);const C=x.useCallback((T,z)=>{r&&_.mutate({session_id:r,sender_id:t??void 0,role:"user",text:T,attachment_links:(z==null?void 0:z.attachmentUrls)??d},{onSuccess:()=>f([])})},[r,t,d,_]),A=x.useCallback(T=>{T==="new"?S.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:z=>{n(z.id),l(!1),i(null)}}):T==="reset"&&r?S.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:z=>{n(z.id),l(!1),i(null)}}):T==="stop"&&r&&j.mutate({id:r,data:{status:"paused"}},{onSuccess:()=>{l(!1),i(null)}})},[r,S,j]),I=x.useCallback(T=>{r&&N.mutate({id:T,sessionId:r})},[r,N]),O=x.useCallback(T=>{r&&k.mutate({id:T,sessionId:r})},[r,k]),B=T=>{i(T),l(!0)};return a.jsxs("div",{className:"flex h-[calc(100vh-8rem)] flex-col gap-4 animate-fade-in-up",children:[a.jsxs("header",{className:"flex items-center justify-between gap-4",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Chat Session"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>B("new"),className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx($t,{className:"h-4 w-4"}),"/new"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>B("reset"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(g4,{className:"h-4 w-4"}),"/reset"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>B("stop"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(Qh,{className:"h-4 w-4"}),"/stop"]})]})]}),a.jsxs("div",{className:"grid flex-1 gap-4 overflow-hidden lg:grid-cols-3",children:[a.jsxs("div",{className:"flex min-h-0 flex-col lg:col-span-2",children:[a.jsxs(X,{className:"flex flex-1 flex-col overflow-hidden rounded-lg border border-border bg-card shadow-card",children:[a.jsx(wse,{messages:b,isLoading:v,currentUserId:t,className:"min-h-0"}),a.jsx(jse,{sessionId:r,onSend:C,onAttachClick:()=>u(!0),disabled:!r,isSending:_.isPending,availableTools:Bse})]}),w.length>0&&a.jsx(jt,{className:"mt-4 max-h-64 rounded-lg border border-border bg-card p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Tool invocations"}),w.map(T=>a.jsx(Mse,{invocation:T,onApprove:I,onDeny:O},T.id))]})})]}),a.jsxs("div",{className:"flex min-h-0 flex-col gap-4 overflow-auto",children:[a.jsx($se,{session:y??null,sessions:g,onSelectSession:n,currentSessionId:r,routingTargets:[]}),a.jsx(Ise,{traces:h,onExport:()=>m([])})]})]}),a.jsx(Dse,{open:c,onOpenChange:u,attachments:d,onAdd:(T,z)=>f(R=>[...R,{url:T,name:z}]),onRemove:T=>f(z=>z.filter((R,V)=>V!==T)),onConfirm:()=>{},maxAttachments:5}),a.jsx(Use,{open:o,onOpenChange:l,action:s,onConfirm:A,isLoading:S.isPending||j.isPending})]})}const ul={getChannels:async()=>{const{data:e,error:t}=await q.from("channels").select("*").order("last_event_at",{ascending:!1,nullsFirst:!1});if(t)throw new Error(t.message);return e??[]},getChannel:async e=>{const{data:t,error:r}=await q.from("channels").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createChannel:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("channels").insert(r).select().single();if(s)throw new Error(s.message);return n},updateChannel:async(e,t)=>{const{data:r,error:n}=await q.from("channels").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteChannel:async e=>{const{error:t}=await q.from("channels").delete().eq("id",e);if(t)throw new Error(t.message)},getAdapterConfig:async e=>{const{data:t,error:r}=await q.from("adapter_configurations").select("*").eq("channel_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertAdapterConfig:async e=>{const t=await ul.getAdapterConfig(e.channel_id);if(t){const{data:i,error:o}=await q.from("adapter_configurations").update({dm_policy:e.dm_policy,group_policy:e.group_policy,mention_gating:e.mention_gating,webhook_url:e.webhook_url??t.webhook_url,polling_interval_seconds:e.polling_interval_seconds??t.polling_interval_seconds}).eq("channel_id",e.channel_id).select().single();if(o)throw new Error(o.message);return i}const r={channel_id:e.channel_id,dm_policy:e.dm_policy??"pairing",group_policy:e.group_policy??"mention",mention_gating:e.mention_gating??!0,webhook_url:e.webhook_url??null,polling_interval_seconds:e.polling_interval_seconds??null},{data:n,error:s}=await q.from("adapter_configurations").insert(r).select().single();if(s)throw new Error(s.message);return n},updateAdapterConfig:async(e,t)=>{const{data:r,error:n}=await q.from("adapter_configurations").update(t).eq("channel_id",e).select().single();if(n)throw new Error(n.message);return r},getDeliveryLogs:async(e,t)=>{if(!e)return[];let r=q.from("delivery_logs").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.eventType&&(r=r.eq("event_type",t.eventType)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createDeliveryLog:async e=>{const{data:t,error:r}=await q.from("delivery_logs").insert(e).select().single();if(r)throw new Error(r.message);return t}};function zse(e,t){return e().catch(()=>t)}const ks={all:["channels"],list:()=>[...ks.all,"list"],detail:e=>[...ks.all,"detail",e],adapterConfig:e=>[...ks.all,"adapterConfig",e],deliveryLogs:(e,t)=>[...ks.all,"deliveryLogs",e,t]};function Wse(){return Oe({queryKey:ks.list(),queryFn:()=>zse(()=>ul.getChannels(),[])})}function Vse(e){return Oe({queryKey:ks.detail(e??""),queryFn:()=>e?ul.getChannel(e):Promise.resolve(null),enabled:!!e})}function Kse(){const e=be();return ye({mutationFn:t=>ul.createChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:ks.list()}),W.success("Channel added")},onError:t=>{W.error(t.message||"Failed to add channel")}})}function Hse(){const e=be();return ye({mutationFn:t=>ul.deleteChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:ks.list()}),W.success("Channel removed")},onError:t=>{W.error(t.message||"Failed to remove channel")}})}function Gse(e){return Oe({queryKey:ks.adapterConfig(e??""),queryFn:()=>e?ul.getAdapterConfig(e):Promise.resolve(null),enabled:!!e})}function Yse(){const e=be();return ye({mutationFn:t=>ul.upsertAdapterConfig(t),onSuccess:(t,r)=>{const n=r.channel_id;e.invalidateQueries({queryKey:ks.adapterConfig(n)}),e.invalidateQueries({queryKey:ks.detail(n)}),W.success("Channel config saved")},onError:t=>{W.error(t.message||"Failed to save config")}})}function Qse(e,t){return Oe({queryKey:ks.deliveryLogs(e,t),queryFn:()=>e?ul.getDeliveryLogs(e,t):Promise.resolve([]),enabled:!!e})}const Rw={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},Xse=ht({provider:nr(["whatsapp","telegram","slack","discord"]),display_name:je().optional()}),Jse=ht({retrieval_mode:nr(["webhook","polling"]),webhook_url:je().url().optional().or($N("")),polling_interval_seconds:is.number().min(30).max(3600).optional()}),Zse=[{id:1,title:"Provider",description:"Select chat provider"},{id:2,title:"Retrieval",description:"Webhook or polling"},{id:3,title:"Provision",description:"QR or code if needed"},{id:4,title:"Confirm",description:"Finish setup"}];function eae({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const[s,i]=x.useState(1),o=dt({resolver:ft(Xse),defaultValues:{provider:"telegram",display_name:""}}),l=dt({resolver:ft(Jse),defaultValues:{retrieval_mode:"webhook",webhook_url:"",polling_interval_seconds:60}}),c=o.watch("provider"),u=l.watch("retrieval_mode"),d=async()=>{if(!(s===1&&!await o.trigger())&&!(s===2&&!await l.trigger())){if(s===4){const m=o.getValues(),g=l.getValues();r({provider:m.provider,display_name:m.display_name||null,webhook_url:u==="webhook"&&g.webhook_url?g.webhook_url:null,polling_interval_seconds:u==="polling"?g.polling_interval_seconds??60:null}),t(!1),i(1),o.reset(),l.reset();return}i(m=>m+1)}},f=()=>{s>1&&i(m=>m-1)},h=m=>{m||(i(1),o.reset(),l.reset()),t(m)};return a.jsx(Le,{open:e,onOpenChange:h,children:a.jsxs(Re,{className:"max-w-lg","aria-describedby":"add-channel-wizard-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Add channel"}),a.jsx(Ie,{id:"add-channel-wizard-description",children:"Connect a chat channel adapter. Follow the steps to complete setup."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:Zse.map(m=>a.jsx("div",{className:J("h-1 flex-1 rounded-full transition-colors",m.id<=s?"bg-primary":"bg-muted"),"aria-hidden":!0},m.id))}),s===1&&a.jsxs("form",{id:"wizard-step1",className:"space-y-4 py-4",onSubmit:o.handleSubmit(()=>i(2)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Provider"}),a.jsxs(lt,{value:c,onValueChange:m=>o.setValue("provider",m),children:[a.jsx(at,{children:a.jsx(ct,{placeholder:"Select provider"})}),a.jsx(it,{children:Object.keys(Rw).map(m=>a.jsx(Ne,{value:m,children:Rw[m]},m))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"display_name",children:"Display name (optional)"}),a.jsx(ge,{id:"display_name",placeholder:"e.g. Team Telegram",...o.register("display_name")})]})]}),s===2&&a.jsxs("form",{id:"wizard-step2",className:"space-y-4 py-4",onSubmit:l.handleSubmit(()=>i(3)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Message retrieval"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"webhook",checked:u==="webhook",onChange:()=>l.setValue("retrieval_mode","webhook"),className:"h-4 w-4 accent-primary"}),a.jsx(p4,{className:"h-4 w-4"}),"Webhook"]}),a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"polling",checked:u==="polling",onChange:()=>l.setValue("retrieval_mode","polling"),className:"h-4 w-4 accent-primary"}),a.jsx(fh,{className:"h-4 w-4"}),"Polling"]})]})]}),u==="webhook"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"webhook_url",children:"Webhook URL"}),a.jsx(ge,{id:"webhook_url",placeholder:"https://...",...l.register("webhook_url")}),l.formState.errors.webhook_url&&a.jsx("p",{className:"text-xs text-destructive",children:l.formState.errors.webhook_url.message})]}),u==="polling"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"polling_interval_seconds",children:"Polling interval (seconds)"}),a.jsx(ge,{id:"polling_interval_seconds",type:"number",min:30,max:3600,...l.register("polling_interval_seconds")})]})]}),s===3&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-border bg-card/50 p-8",children:[a.jsx(QS,{className:"mb-4 h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:c==="whatsapp"||c==="telegram"?"Scan the QR code with your app to link this channel. You can also use the pairing code shown in the next step.":"Complete OAuth in the provider dashboard if required, then continue."}),a.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Provisioning step is simulated. In production, QR and codes are generated by the gateway."})]})}),s===4&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4 text-sm",children:[a.jsx("p",{className:"font-medium",children:Rw[c]}),o.getValues("display_name")&&a.jsx("p",{className:"text-muted-foreground",children:o.getValues("display_name")}),a.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Retrieval: ",l.getValues("retrieval_mode")==="webhook"?"Webhook":"Polling"]})]})}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[s>1?a.jsxs(E,{type:"button",variant:"outline",onClick:f,disabled:n,children:[a.jsx(o4,{className:"mr-2 h-4 w-4"}),"Back"]}):a.jsx("div",{}),a.jsx(E,{type:"button",onClick:d,disabled:n,children:s===4?n?"Adding":"Add channel":a.jsxs(a.Fragment,{children:["Next",a.jsx(Wn,{className:"ml-2 h-4 w-4"})]})})]})]})})}const tae=ht({dm_policy:nr(["pairing","allowlist","open","disabled"]),group_policy:nr(["mention","open","disabled"]),mention_gating:ti()}),MO={pairing:"Pairing required",allowlist:"Allowlist only",open:"Open to all",disabled:"Disabled"},$O={mention:"Mention required",open:"Open to all",disabled:"Disabled"};function rae({open:e,onOpenChange:t,channelId:r,channelName:n,config:s,onSubmit:i,isSubmitting:o=!1}){const l={dm_policy:(s==null?void 0:s.dm_policy)??"pairing",group_policy:(s==null?void 0:s.group_policy)??"mention",mention_gating:(s==null?void 0:s.mention_gating)??!0},{handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h,isDirty:m}}=dt({resolver:ft(tae),defaultValues:l}),g=d("mention_gating");x.useEffect(()=>{e&&s&&f({dm_policy:s.dm_policy,group_policy:s.group_policy,mention_gating:s.mention_gating})},[e,s,f]);const p=b=>{i(b),f(b),t(!1)},y=b=>{b||f(l),t(b)};return a.jsx(Le,{open:e,onOpenChange:y,children:a.jsxs(Re,{className:"max-w-lg","aria-describedby":"channel-policy-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Channel policy"}),a.jsx(Ie,{id:"channel-policy-description",children:n?`DM and group policies for ${n}`:"Set DM policy, group policy, and mention gating for this channel."})]}),a.jsxs("form",{id:"channel-policy-form",onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"DM policy"}),a.jsxs(lt,{value:d("dm_policy"),onValueChange:b=>u("dm_policy",b,{shouldDirty:!0}),children:[a.jsx(at,{className:J(h.dm_policy&&"border-destructive"),children:a.jsx(ct,{placeholder:"Select DM policy"})}),a.jsx(it,{children:Object.keys(MO).map(b=>a.jsx(Ne,{value:b,children:MO[b]},b))})]}),h.dm_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.dm_policy.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Group policy"}),a.jsxs(lt,{value:d("group_policy"),onValueChange:b=>u("group_policy",b,{shouldDirty:!0}),children:[a.jsx(at,{className:J(h.group_policy&&"border-destructive"),children:a.jsx(ct,{placeholder:"Select group policy"})}),a.jsx(it,{children:Object.keys($O).map(b=>a.jsx(Ne,{value:b,children:$O[b]},b))})]}),h.group_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.group_policy.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(Y,{htmlFor:"mention_gating",children:"Mention gating"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Require @mention in groups to trigger the agent"})]}),a.jsx(xr,{id:"mention_gating",checked:g,onCheckedChange:b=>u("mention_gating",b,{shouldDirty:!0})})]})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Cancel"}),a.jsx(E,{type:"submit",form:"channel-policy-form",disabled:!m||o,children:o?"Saving":"Save"})]})]})})}function nae({open:e,onOpenChange:t,log:r}){return r?a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-lg","aria-describedby":"delivery-error-description",children:[a.jsxs(Me,{children:[a.jsxs($e,{className:"flex items-center gap-2",children:[a.jsx(Ki,{className:"h-5 w-5 text-destructive"}),"Delivery error details"]}),a.jsxs(Ie,{id:"delivery-error-description",children:["Event: ",r.event_type,"  ",r.success?"Succeeded":"Failed"," "," ",Da(new Date(r.created_at),"PPp")]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Error details"}),a.jsx("pre",{className:"mt-2 max-h-48 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-sm",children:r.error_details??"No error message recorded."})]}),r.metadata&&Object.keys(r.metadata).length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Metadata"}),a.jsx("pre",{className:"mt-2 max-h-32 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-xs",children:JSON.stringify(r.metadata,null,2)})]})]})]})}):null}const IO={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},sae={active:"success",inactive:"secondary",error:"destructive",provisioning:"warning"};function aae(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,f]=x.useState(""),{data:h=[],isLoading:m}=Wse(),{data:g}=Vse(r),{data:p}=Gse(r),{data:y=[]}=Qse(r,{limit:50}),b=Kse(),v=Hse(),w=Yse(),S=async N=>{const k=await b.mutateAsync({provider:N.provider,display_name:N.display_name,status:"provisioning"});await w.mutateAsync({channel_id:k.id,dm_policy:"pairing",group_policy:"mention",mention_gating:!0,webhook_url:N.webhook_url??null,polling_interval_seconds:N.polling_interval_seconds??null}),n(k.id),t(!1)},j=N=>{r&&w.mutate({channel_id:r,dm_policy:N.dm_policy,group_policy:N.group_policy,mention_gating:N.mention_gating})},_=N=>{l(N),u(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Channels & Adapters"}),a.jsxs(E,{onClick:()=>t(!0),children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}),a.jsxs(ri,{defaultValue:"channels",className:"space-y-4",children:[a.jsxs(ja,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsx(St,{value:"channels",children:"Channels"}),a.jsx(St,{value:"logs",children:"Delivery logs"}),a.jsx(St,{value:"test",children:"Test console"})]}),a.jsx(Nt,{value:"channels",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Channels list"}),a.jsx(we,{children:"Manage chat channel adapters and per-channel policies."})]}),a.jsx(Z,{children:m?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>a.jsx(de,{className:"h-16 w-full rounded-lg"},N))}):h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(fh,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No channels added. Use Add Channel to connect WhatsApp, Telegram, Slack, or Discord."}),a.jsxs(E,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}):a.jsx(jt,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:h.map(N=>a.jsxs("div",{className:J("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",r===N.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>n(N.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(fh,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.display_name||IO[N.provider]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[IO[N.provider],N.last_event_at&&`  Last event ${qr(new Date(N.last_event_at),{addSuffix:!0})}`]})]}),a.jsx(Ye,{variant:sae[N.status],className:"shrink-0",children:N.status}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.success_rate.toFixed(0),"% success"]})]}),a.jsxs(ma,{children:[a.jsx(pa,{asChild:!0,children:a.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(za,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(As,{align:"end",children:[a.jsxs(Ut,{onClick:()=>{n(N.id),i(!0)},children:[a.jsx(ha,{className:"mr-2 h-4 w-4"}),"Configure policy"]}),a.jsxs(Ut,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this channel?")&&(v.mutate(N.id),r===N.id&&n(null))},children:[a.jsx(gn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},N.id))})})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Channel config"}),a.jsx(we,{children:"DM policy, group policy, mention gating."})]}),a.jsx(Z,{children:r?a.jsx("div",{className:"space-y-4",children:p===void 0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"h-10 w-full"}),a.jsx(de,{className:"h-10 w-full"}),a.jsx(de,{className:"h-12 w-full"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"DM policy"}),a.jsx("span",{className:"font-medium capitalize",children:(p==null?void 0:p.dm_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Group policy"}),a.jsx("span",{className:"font-medium capitalize",children:(p==null?void 0:p.group_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Mention gating"}),a.jsx("span",{className:"font-medium",children:p!=null&&p.mention_gating?"On":"Off"})]})]}),a.jsxs(E,{variant:"outline",className:"w-full",onClick:()=>i(!0),children:[a.jsx(ha,{className:"mr-2 h-4 w-4"}),"Edit policy"]})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ha,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel to configure."})]})})]})]})}),a.jsx(Nt,{value:"logs",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Delivery logs"}),a.jsxs(we,{children:["Recent inbound/outbound events",r&&" for selected channel"]})]}),a.jsx(Z,{children:r?y.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Mi,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No delivery logs yet."})]}):a.jsx(jt,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-2",children:y.map(N=>a.jsx("div",{className:J("flex items-center justify-between rounded-lg border p-3 text-sm",N.success?"border-border":"border-destructive/50 bg-destructive/5"),children:a.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[N.success?a.jsx(Mi,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx(lx,{className:"h-4 w-4 shrink-0 text-destructive"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.event_type}),a.jsx("p",{className:"text-xs text-muted-foreground",children:qr(new Date(N.created_at),{addSuffix:!0})})]}),!N.success&&N.error_details&&a.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>_(N),className:"shrink-0",children:[a.jsx(Ho,{className:"mr-1 h-4 w-4"}),"Details"]})]})},N.id))})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(fh,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to view delivery logs."})]})})]})}),a.jsx(Nt,{value:"test",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Test console"}),a.jsx(we,{children:"Send test messages through the selected channel."})]}),a.jsx(Z,{children:r?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{htmlFor:"test-message",className:"text-sm font-medium",children:"Test message"}),a.jsx(ge,{id:"test-message",placeholder:"Type a message to send...",value:d,onChange:N=>f(N.target.value),className:"min-h-[80px]"})]}),a.jsxs(E,{disabled:!d.trim(),onClick:()=>{f("")},children:[a.jsx(td,{className:"mr-2 h-4 w-4"}),"Send test message"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Test messages are sent through the gateway. Roundtrip and errors appear in Delivery logs."})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(td,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to test."})]})})]})})]}),a.jsx(eae,{open:e,onOpenChange:t,onSubmit:S,isSubmitting:b.isPending||w.isPending}),a.jsx(rae,{open:s,onOpenChange:i,channelId:r??"",channelName:(g==null?void 0:g.display_name)??(g==null?void 0:g.provider),config:p??null,onSubmit:j,isSubmitting:w.isPending}),a.jsx(nae,{open:c,onOpenChange:u,log:o})]})}function iae(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skills Library"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(E,{variant:"outline",asChild:!0,children:a.jsxs(he,{to:"/marketplace",children:[a.jsx(dx,{className:"mr-2 h-4 w-4"}),"Marketplace"]})}),a.jsx(E,{variant:"outline",asChild:!0,children:a.jsxs(he,{to:"/skill-editor",children:[a.jsx(WS,{className:"mr-2 h-4 w-4"}),"Skill Editor"]})})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Installed skills"}),a.jsx(we,{children:"Enable/disable and manage local skills."})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills installed. Browse the registry below."})})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Registry browser"}),a.jsx(we,{children:"Browse and install skills from the registry."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{placeholder:"Search skills...",className:"pl-9"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No results. (Registry integration placeholder.)"})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Skill detail"}),a.jsx(we,{children:"SKILL.md render, frontmatter, permissions, provenance. Install flow: gating checks, env prompts."})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to view details."})})]})]})}const Gn="/skills",Gi={list:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return Se.get(`${Gn}${t?`?${t}`:""}`)},get:e=>Se.get(`${Gn}/${e}`),create:e=>Se.post(Gn,e),update:(e,t)=>Se.patch(`${Gn}/${e}`,t),delete:e=>Se.delete(`${Gn}/${e}`),getTestRuns:(e,t)=>{const r=t?new URLSearchParams(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)])).toString():"";return Se.get(`${Gn}/${e}/test-runs${r?`?${r}`:""}`)},getTestRun:(e,t)=>Se.get(`${Gn}/${e}/test-runs/${t}`),runTest:(e,t)=>Se.post(`${Gn}/${e}/test-run`,t??{}),abortTestRun:(e,t)=>Se.post(`${Gn}/${e}/test-runs/${t}/abort`,{}),checkRequirements:e=>Se.get(`${Gn}/${e}/check-requirements`),getVersions:e=>Se.get(`${Gn}/${e}/versions`),createVersion:(e,t)=>Se.post(`${Gn}/${e}/versions`,t),commit:(e,t)=>Se.post(`${Gn}/${e}/commit`,t)};function Ux(e,t){return e().catch(()=>t)}const tn={all:["skills"],list:e=>[...tn.all,"list",e],detail:e=>[...tn.all,"detail",e],testRuns:(e,t)=>[...tn.all,"test-runs",e,t],testRun:(e,t)=>[...tn.all,"test-run",e,t],versions:e=>[...tn.all,"versions",e],gating:e=>[...tn.all,"gating",e]};function oae(e){return Oe({queryKey:tn.list(e),queryFn:()=>Ux(()=>Gi.list(e),[])})}function lae(e){return Oe({queryKey:tn.detail(e??""),queryFn:()=>e?Ux(()=>Gi.get(e),null):Promise.resolve(null),enabled:!!e})}function cae(){const e=be();return ye({mutationFn:t=>Gi.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:tn.list()}),W.success("Skill created")},onError:t=>{W.error(t.message||"Failed to create skill")}})}function uae(){const e=be();return ye({mutationFn:({id:t,data:r})=>Gi.update(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:tn.list()}),e.invalidateQueries({queryKey:tn.detail(r)}),W.success("Skill saved")},onError:t=>{W.error(t.message||"Failed to save skill")}})}function dae(e,t){return Oe({queryKey:tn.testRuns(e??"",t),queryFn:()=>e?Ux(()=>Gi.getTestRuns(e,t),[]):Promise.resolve([]),enabled:!!e})}function fae(){const e=be();return ye({mutationFn:({skillId:t,payload:r})=>Gi.runTest(t,r),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:tn.testRuns(r)}),W.success("Test run started")},onError:t=>{W.error(t.message||"Failed to run skill test")}})}function hae(e){return Oe({queryKey:tn.versions(e??""),queryFn:()=>e?Ux(()=>Gi.getVersions(e),[]):Promise.resolve([]),enabled:!!e})}function mae(e){return Oe({queryKey:tn.gating(e??""),queryFn:()=>e?Gi.checkRequirements(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}function pae(){const e=be();return ye({mutationFn:({skillId:t,message:r,sign:n})=>Gi.commit(t,{message:r,sign:n}),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:tn.detail(r)}),e.invalidateQueries({queryKey:tn.versions(r)}),W.success("Changes committed")},onError:t=>{W.error(t.message||"Failed to commit")}})}const gae=ht({name:je().min(1,"Name is required"),version:je().min(1,"Version is required"),description:je().optional(),permissions:je().optional(),env_keys:je().optional()}),Mw={name:"",version:"1.0.0",description:"",permissions:"",env_keys:""};function vae({open:e,onOpenChange:t,initialValues:r,onSubmit:n,isSubmitting:s=!1}){const i=()=>({...Mw,name:(r==null?void 0:r.name)??"",version:(r==null?void 0:r.version)??"1.0.0",description:(r==null?void 0:r.description)??"",permissions:Array.isArray(r==null?void 0:r.permissions)?r.permissions.join(", "):(r==null?void 0:r.permissions)??"",env_keys:r!=null&&r.env_keys?typeof r.env_keys=="object"?Object.keys(r.env_keys).join(", "):String(r.env_keys):""}),{register:o,handleSubmit:l,reset:c,formState:{errors:u}}=dt({resolver:ft(gae),defaultValues:i()});x.useEffect(()=>{e&&c(i())},[e]);const d=h=>{const m={name:h.name,version:h.version,description:h.description||void 0,permissions:h.permissions?h.permissions.split(",").map(g=>g.trim()).filter(Boolean):void 0,env_keys:h.env_keys?h.env_keys.split(",").map(g=>g.trim()).filter(Boolean):void 0};n(m),c(Mw),t(!1)},f=h=>{h||c(Mw),t(h)};return a.jsx(Le,{open:e,onOpenChange:f,children:a.jsxs(Re,{className:"max-w-lg","aria-describedby":"frontmatter-dialog-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Edit frontmatter"}),a.jsx(Ie,{id:"frontmatter-dialog-description",children:"YAML frontmatter fields for SKILL.md (name, version, permissions, env)."})]}),a.jsxs("form",{onSubmit:l(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-name",children:"Name"}),a.jsx(ge,{id:"frontmatter-name",placeholder:"skill-name",...o("name"),className:J(u.name&&"border-destructive")}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-version",children:"Version"}),a.jsx(ge,{id:"frontmatter-version",placeholder:"1.0.0",...o("version"),className:J(u.version&&"border-destructive")}),u.version&&a.jsx("p",{className:"text-xs text-destructive",children:u.version.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-description",children:"Description (optional)"}),a.jsx(ge,{id:"frontmatter-description",placeholder:"Short description",...o("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-permissions",children:"Permissions (comma-separated)"}),a.jsx(ge,{id:"frontmatter-permissions",placeholder:"network, exec, read",...o("permissions")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-env",children:"Env keys (comma-separated)"}),a.jsx(ge,{id:"frontmatter-env",placeholder:"API_KEY, GMAIL_CREDENTIALS",...o("env_keys")})]}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:s,children:s?"Saving":"Save"})]})]})]})})}const yae=ht({message:je().optional(),sign:ti().optional()}),$w={message:"",sign:!1};function xae({open:e,onOpenChange:t,skillName:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,watch:l,setValue:c,reset:u,formState:{errors:d}}=dt({resolver:ft(yae),defaultValues:$w}),f=l("sign"),h=g=>{n({message:g.message||void 0,sign:g.sign}),u($w),t(!1)},m=g=>{g||u($w),t(g)};return a.jsx(Le,{open:e,onOpenChange:m,children:a.jsxs(Re,{className:"max-w-lg","aria-describedby":"commit-dialog-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Commit changes"}),a.jsx(Ie,{id:"commit-dialog-description",children:r?`Finalize and commit changes for "${r}". Optionally sign the package.`:"Finalize and commit your skill. Optionally sign the package."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"commit-message",children:"Commit message (optional)"}),a.jsx(ge,{id:"commit-message",placeholder:"e.g. Add Gmail Pub/Sub gating",...i("message"),className:J(d.message&&"border-destructive")}),d.message&&a.jsx("p",{className:"text-xs text-destructive",children:d.message.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"commit-sign",children:"Sign package"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally sign this version for provenance."})]}),a.jsx(xr,{id:"commit-sign",checked:f,onCheckedChange:g=>c("sign",g)})]}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:s,children:s?"Committing":"Commit"})]})]})]})})}function bae({open:e,onClose:t,requirements:r,passed:n,title:s="Gating checks",className:i}){return e?a.jsx("div",{className:J("absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-background/95 p-6 backdrop-blur-sm",i),role:"dialog","aria-labelledby":"gating-overlay-title","aria-describedby":"gating-overlay-desc",children:a.jsxs("div",{className:"relative w-full max-w-md rounded-lg border border-border bg-card p-6 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("h2",{id:"gating-overlay-title",className:"text-lg font-semibold",children:s}),a.jsx(E,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close",children:a.jsx(rd,{className:"h-4 w-4"})})]}),a.jsx("p",{id:"gating-overlay-desc",className:"mt-1 text-sm text-muted-foreground",children:n?"All requirements are met. You can save and deploy.":"Resolve the items below before saving or deploying."}),a.jsx("ul",{className:"mt-4 space-y-2",role:"list",children:r.map(o=>a.jsxs("li",{className:J("flex items-start gap-3 rounded-md border border-border px-3 py-2 text-sm",o.met?"bg-success/10 border-success/30":"bg-destructive/10 border-destructive/30"),children:[o.met?a.jsx(c4,{className:"h-5 w-5 shrink-0 text-success","aria-hidden":!0}):a.jsx(Ki,{className:"h-5 w-5 shrink-0 text-destructive","aria-hidden":!0}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium",children:o.label}),o.message&&a.jsx("p",{className:"mt-0.5 text-muted-foreground",children:o.message})]})]},o.id))}),r.length===0&&a.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"No gating checks defined."}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx(E,{onClick:t,children:"Close"})})]})}):null}const Gc=`# Skill name

Short description of what this skill does.

## Requirements

- List gating requirements (env vars, permissions, etc.)

## Usage

How to use this skill from chat or cron.
`;function wae(){const{skillId:e}=lW(),t=il(),[r,n]=x.useState("editor"),[s,i]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(!1),{data:g=[],isLoading:p}=oae(),{data:y,isLoading:b}=lae(e??null),{data:v=[]}=dae(e??null,{limit:5}),{data:w=[]}=hae(e??null),{data:S}=mae(e??null),j=uae(),_=fae(),N=pae(),k=cae(),C=y??null,A=C&&(s!==C.content||o!==C.name),I=x.useCallback(()=>{C?(i(C.content||Gc),l(C.name||"")):(i(Gc),l(""))},[C]);x.useEffect(()=>{C?(i(C.content||Gc),l(C.name||"")):e||(i(Gc),l(""))},[e,C==null?void 0:C.id,C==null?void 0:C.content,C==null?void 0:C.name]);const O=M=>{t(`/skill-editor/${M}`)},B=()=>{!e||!C||j.mutate({id:e,data:{content:s,name:o||C.name}},{onSuccess:()=>I()})},T=()=>{e&&_.mutate({skillId:e})},z=M=>{e&&N.mutate({skillId:e,...M},{onSuccess:()=>f(!1)})},R=M=>{!e||!C||j.mutate({id:e,data:{frontmatter:{...C.frontmatter,...M}}},{onSuccess:()=>{u(!1)}})},V=v[0],D=S&&!S.passed,$=(S==null?void 0:S.requirements)??[];return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skill Editor"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>t("/skill-editor"),"aria-label":"Clear selection",children:[a.jsx(XH,{className:"mr-1 h-4 w-4"}),"All skills"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>u(!0),disabled:!e,"aria-label":"Edit frontmatter",children:[a.jsx(a7,{className:"mr-1 h-4 w-4"}),"Frontmatter"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:B,disabled:!e||!A||j.isPending,children:[a.jsx(XS,{className:"mr-1 h-4 w-4"}),j.isPending?"Saving":"Save"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>m(!0),className:D?"border-warning text-warning":"","aria-label":"Gating checks",children:[a.jsx(Ki,{className:"mr-1 h-4 w-4"}),"Gating"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>f(!0),disabled:!e,children:[a.jsx(JH,{className:"mr-1 h-4 w-4"}),"Commit"]}),a.jsxs(E,{size:"sm",onClick:T,disabled:!e||_.isPending,children:[a.jsx(Ni,{className:"mr-1 h-4 w-4"}),_.isPending?"Running":"Test run"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[a.jsxs(X,{className:"lg:col-span-1",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsx(ae,{className:"text-sm",children:"Skills"}),a.jsx(we,{children:"Select a skill to edit."})]}),a.jsxs(Z,{className:"pt-0",children:[p?a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"h-9 w-full"}),a.jsx(de,{className:"h-9 w-full"}),a.jsx(de,{className:"h-9 w-4/5"})]}):g.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet."}),a.jsxs(E,{size:"sm",variant:"outline",className:"w-full",onClick:()=>k.mutate({user_id:"",name:"Untitled Skill",content:Gc},{onSuccess:M=>{t(`/skill-editor/${M.id}`)}}),disabled:k.isPending,children:[a.jsx($t,{className:"mr-1 h-4 w-4"}),k.isPending?"Creating":"New skill"]})]}):a.jsx(jt,{className:"h-[200px] pr-2",children:a.jsx("ul",{className:"space-y-0.5",role:"list",children:g.map(M=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>O(M.id),className:J("flex w-full items-center gap-2 rounded-md px-3 py-2 text-left text-sm transition-colors hover:bg-secondary",e===M.id&&"bg-primary/15 text-primary"),children:[a.jsx(or,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:M.name}),a.jsx(Wn,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})},M.id))})}),a.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Versions"}),e&&a.jsx(jt,{className:"h-[120px] pr-2",children:w.length===0?a.jsx("p",{className:"text-xs text-muted-foreground",children:"No versions yet."}):a.jsx("ul",{className:"space-y-1 text-xs",children:w.slice(0,5).map(M=>a.jsxs("li",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"truncate font-mono",children:M.version_number}),a.jsx("span",{className:"text-muted-foreground shrink-0",children:M.changes?"":""})]},M.id))})}),!e&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a skill to see versions."})]})]})]}),a.jsx("div",{className:"space-y-4 lg:col-span-1",children:b&&e?a.jsx(X,{children:a.jsx(Z,{className:"flex items-center justify-center py-12",children:a.jsx(de,{className:"h-8 w-48"})})}):a.jsxs(a.Fragment,{children:[a.jsxs(ri,{value:r,onValueChange:n,className:"w-full",children:[a.jsxs(ja,{className:"grid w-full grid-cols-3",children:[a.jsx(St,{value:"editor",children:"SKILL.md editor"}),a.jsx(St,{value:"preview",children:"Preview"}),a.jsx(St,{value:"frontmatter",children:"Frontmatter"})]}),a.jsx(Nt,{value:"editor",className:"mt-4",children:a.jsxs(X,{className:"relative overflow-hidden",children:[h&&a.jsx(bae,{open:h,onClose:()=>m(!1),requirements:$.map(M=>({id:M.id,label:M.label,met:M.met,message:M.message})),passed:(S==null?void 0:S.passed)??!0}),a.jsxs(Z,{className:"pt-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(Y,{htmlFor:"skill-name",className:"text-muted-foreground",children:"Skill name"}),a.jsx(ge,{id:"skill-name",value:o,onChange:M=>l(M.target.value),placeholder:"my-skill",className:"mt-1 max-w-xs font-medium"})]}),a.jsx("textarea",{"aria-label":"SKILL.md content",className:"min-h-[300px] w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:Gc,value:s,onChange:M=>i(M.target.value)})]})]})}),a.jsx(Nt,{value:"preview",className:"mt-4",children:a.jsx(X,{children:a.jsx(Z,{className:"pt-6",children:a.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-semibold prose-p:text-muted-foreground prose-code:text-sm",children:a.jsx("pre",{className:"whitespace-pre-wrap rounded-md bg-muted/50 p-4 font-sans text-sm",children:s||"Nothing to preview."})})})})}),a.jsx(Nt,{value:"frontmatter",className:"mt-4",children:a.jsx(X,{children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:'Edit YAML frontmatter (name, version, permissions, env) via the Frontmatter button in the header, or open the "Frontmatter" dialog.'}),(C==null?void 0:C.frontmatter)&&Object.keys(C.frontmatter).length>0&&a.jsx("pre",{className:"mt-4 rounded-md bg-muted/50 p-4 font-mono text-xs",children:JSON.stringify(C.frontmatter,null,2)})]})})})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{className:"text-sm",children:"Test runner"}),a.jsx(we,{children:"Run skill in sandbox and view logs."})]}),a.jsx(Z,{children:V?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Status: ",V.status]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(V.created_at).toLocaleString()})]}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-muted p-4 text-xs text-muted-foreground",children:V.logs||"No logs."})]}):a.jsx("pre",{className:"rounded-md bg-muted p-4 text-xs text-muted-foreground",children:'No test runs yet. Click "Test run" to execute.'})})]})]})})]}),a.jsx(vae,{open:c,onOpenChange:u,initialValues:C==null?void 0:C.frontmatter,onSubmit:R,isSubmitting:j.isPending}),a.jsx(xae,{open:d,onOpenChange:f,skillName:C==null?void 0:C.name,onSubmit:z,isSubmitting:N.isPending})]})}const jae=10,Iw=["voice_wake","talk_mode","remote_exec","browser_proxy","camera_capture"];function DO(e){return{voice_wake:"Wake word detection",talk_mode:"Voice conversation mode",remote_exec:"Remote command execution",browser_proxy:"Browser/CDP proxy",camera_capture:"Camera and screen capture"}[e]??e}const Vn={getNodes:async()=>{const{data:e,error:t}=await q.from("nodes").select("*").order("last_active_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getNode:async e=>{const{data:t,error:r}=await q.from("nodes").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createNode:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("nodes").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNode:async(e,t)=>{const{data:r,error:n}=await q.from("nodes").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteNode:async e=>{const{error:t}=await q.from("nodes").delete().eq("id",e);if(t)throw new Error(t.message)},getNodeCapabilities:async e=>{const{data:t,error:r}=await q.from("node_capabilities").select("*").eq("node_id",e).order("capability_key");if(r)throw new Error(r.message);return t??[]},getNodeCapability:async(e,t)=>{const{data:r,error:n}=await q.from("node_capabilities").select("*").eq("node_id",e).eq("capability_key",t).single();if(n){if(n.code==="PGRST116")return null;throw new Error(n.message)}return r},upsertNodeCapability:async e=>{const{data:t,error:r}=await q.from("node_capabilities").upsert({node_id:e.node_id,capability_key:e.capability_key,status:e.status??"enabled",description:e.description??null,configurations:e.configurations??{}},{onConflict:"node_id,capability_key"}).select().single();if(r)throw new Error(r.message);return t},updateNodeCapability:async(e,t)=>{const{data:r,error:n}=await q.from("node_capabilities").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getNodeApprovals:async e=>{let t=q.from("node_approvals").select("*").order("created_at",{ascending:!1});e!=null&&e.nodeId&&(t=t.eq("node_id",e.nodeId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},createNodeApproval:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,requester_id:t.id},{data:n,error:s}=await q.from("node_approvals").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNodeApproval:async(e,t)=>{const{data:r,error:n}=await q.from("node_approvals").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},startPairing:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const t=_ae(),r=new Date;r.setMinutes(r.getMinutes()+jae);const n={user_id:e.id,pairing_code:t,expires_at:r.toISOString()},{data:s,error:i}=await q.from("pairing_requests").insert(n).select().single();if(i)throw new Error(i.message);return s},claimPairing:async(e,t)=>{const{data:{user:r}}=await q.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await q.from("pairing_requests").select("*").eq("pairing_code",e.trim()).eq("user_id",r.id).is("node_id",null).gt("expires_at",new Date().toISOString()).single();if(s||!n)throw new Error("Invalid or expired pairing code");const i=await Vn.createNode({name:t??`Node ${e.slice(-6)}`,status:"paired",connection_health:"healthy",capabilities:Iw});await q.from("pairing_requests").update({node_id:i.id}).eq("id",n.id);for(const o of Iw)await Vn.upsertNodeCapability({node_id:i.id,capability_key:o,status:"enabled",description:DO(o)});return i},getDefaultCapabilityKeys:()=>Iw,getCapabilityDescription:DO};function _ae(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function GF(e,t){return e().catch(()=>t)}const Fr={all:["nodes"],list:()=>[...Fr.all,"list"],detail:e=>[...Fr.all,"detail",e],capabilities:e=>[...Fr.all,"capabilities",e],approvals:e=>[...Fr.all,"approvals",e],pairing:()=>[...Fr.all,"pairing"]};function Sae(){return Oe({queryKey:Fr.list(),queryFn:()=>GF(()=>Vn.getNodes(),[])})}function Nae(e){return Oe({queryKey:Fr.detail(e??""),queryFn:()=>e?Vn.getNode(e):Promise.resolve(null),enabled:!!e})}function kae(){const e=be();return ye({mutationFn:({id:t,data:r})=>Vn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Fr.list()}),e.invalidateQueries({queryKey:Fr.detail(r)}),W.success("Node updated")},onError:t=>{W.error(t.message||"Failed to update node")}})}function Cae(){const e=be();return ye({mutationFn:t=>Vn.deleteNode(t),onSuccess:()=>{e.invalidateQueries({queryKey:Fr.list()}),e.invalidateQueries({queryKey:Fr.approvals()}),W.success("Node removed")},onError:t=>{W.error(t.message||"Failed to remove node")}})}function Eae(e){return Oe({queryKey:Fr.capabilities(e??""),queryFn:()=>e?Vn.getNodeCapabilities(e):Promise.resolve([]),enabled:!!e})}function Oae(){const e=be();return ye({mutationFn:t=>Vn.upsertNodeCapability(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Fr.capabilities(r.node_id)}),e.invalidateQueries({queryKey:Fr.detail(r.node_id)}),W.success("Capability updated")},onError:t=>{W.error(t.message||"Failed to update capability")}})}function Pae(e){return Oe({queryKey:Fr.approvals(e),queryFn:()=>GF(()=>Vn.getNodeApprovals(e),[])})}function Aae(){const e=be();return ye({mutationFn:({id:t,data:r})=>Vn.updateNodeApproval(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Fr.approvals()}),W.success("Approval updated")},onError:t=>{W.error(t.message||"Failed to update approval")}})}function Tae(){const e=be();return ye({mutationFn:()=>Vn.startPairing(),onSuccess:()=>{e.invalidateQueries({queryKey:Fr.pairing()})},onError:t=>{W.error(t.message||"Failed to start pairing")}})}function Rae(){const e=be();return ye({mutationFn:({code:t,nodeName:r})=>Vn.claimPairing(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Fr.list()}),e.invalidateQueries({queryKey:Fr.pairing()}),W.success("Device paired")},onError:t=>{W.error(t.message||"Failed to pair device")}})}function Mae(e){const t=new Date(e).getTime(),r=Date.now(),n=Math.max(0,Math.floor((t-r)/1e3)),s=Math.floor(n/60),i=n%60;return`${s}:${i.toString().padStart(2,"0")}`}function $ae({open:e,onOpenChange:t,pairingRequest:r,onStartPairing:n,isStartingPairing:s,onPaired:i}){const[o,l]=x.useState(""),[c,u]=x.useState(""),[d,f]=x.useState(!1),h=Rae();x.useEffect(()=>{if(!r||!e)return;const y=()=>l(Mae(r.expires_at));y();const b=setInterval(y,1e3);return()=>clearInterval(b)},[r,e]);const m=()=>{r&&(navigator.clipboard.writeText(r.pairing_code),f(!0),setTimeout(()=>f(!1),2e3))},g=async()=>{if(c.trim())try{await h.mutateAsync({code:c.trim()}),i==null||i(),t(!1),u("")}catch{}},p=r&&new Date(r.expires_at).getTime()<=Date.now();return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsx(Re,{className:"max-w-[640px]","aria-describedby":"pairing-description",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Pair device"}),a.jsx(Ie,{id:"pairing-description",children:"Scan the QR code or enter the code on your device to pair. Code expires in 10 minutes."})]}),r?a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:J("flex h-40 w-40 flex-col items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted/30",p&&"opacity-60"),children:[a.jsx(QS,{className:"h-16 w-16 text-muted-foreground"}),a.jsx("span",{className:"mt-2 text-xs text-muted-foreground",children:"QR code"}),a.jsx("p",{className:"mt-1 text-center text-xs text-muted-foreground",children:"Scan with your device app"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Mo,{className:"h-4 w-4"}),a.jsx("span",{children:p?"Expired":`Expires in ${o}`})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx(Y,{className:"text-muted-foreground",children:"One-time code"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("code",{className:"flex-1 rounded border border-border bg-muted/50 px-3 py-2 text-lg font-mono tracking-widest",children:r.pairing_code}),a.jsx(E,{variant:"outline",size:"icon",onClick:m,"aria-label":"Copy code",children:d?a.jsx(Qm,{className:"h-4 w-4 text-success"}):a.jsx(u4,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter this code on your device if you cannot scan the QR code."}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx(Y,{htmlFor:"manual-code",className:"text-muted-foreground",children:"Or enter a code from another device"}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx(ge,{id:"manual-code",placeholder:"e.g. ABCD1234",value:c,onChange:y=>u(y.target.value.toUpperCase().slice(0,12)),className:"font-mono uppercase tracking-wider"}),a.jsx(E,{onClick:g,disabled:!c.trim()||h.isPending,children:h.isPending?"Pairing":"Pair"})]})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-8",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Start pairing to generate a QR code and one-time code."}),a.jsx(E,{onClick:n,disabled:s,className:"min-w-[160px]",children:s?"Generating":"Start pairing"})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r&&!p&&a.jsx(E,{variant:"outline",onClick:n,disabled:s,children:"New code"})]})]})})})}const Iae={pending:{label:"Pending",variant:"secondary",icon:Mo},approved:{label:"Approved",variant:"success",icon:Mi},denied:{label:"Denied",variant:"destructive",icon:lx}};function Dae({open:e,onOpenChange:t,approval:r,node:n,onApprove:s,onDeny:i,isUpdating:o=!1}){var f;if(!r)return null;const{label:l,variant:c,icon:u}=Iae[r.status],d=r.status==="pending";return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-md","aria-describedby":"approval-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Approval request"}),a.jsx(Ie,{id:"approval-description",children:"Review and approve or deny this capability or execution request."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ye,{variant:c,className:"gap-1",children:[a.jsx(u,{className:"h-3 w-3"}),l]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:qr(new Date(r.created_at),{addSuffix:!0})})]}),a.jsxs("dl",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Action"}),a.jsx("dd",{className:"font-medium capitalize",children:r.action_type.replace(/_/g," ")})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Node"}),a.jsx("dd",{className:"font-medium",children:(n==null?void 0:n.name)??((f=n==null?void 0:n.id)==null?void 0:f.slice(0,8))??""})]}),r.capability_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Capability"}),a.jsxs("dd",{className:"font-medium",children:[r.capability_id.slice(0,8),""]})]})]})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Close"}),d&&a.jsxs(a.Fragment,{children:[a.jsx(E,{variant:"outline",className:"text-destructive hover:bg-destructive/10 hover:text-destructive",onClick:()=>i(r.id),disabled:o,children:"Deny"}),a.jsx(E,{onClick:()=>s(r.id),disabled:o,children:o?"Updating":"Approve"})]})]})]})})}const Lae=ht({status:nr(["enabled","disabled","pending_approval"]),description:je().optional()});function Fae({open:e,onOpenChange:t,node:r,capability:n,onSubmit:s,isSubmitting:i=!1}){const o=dt({resolver:ft(Lae),defaultValues:{status:"enabled",description:""},values:n!=null?{status:n.status,description:n.description??""}:void 0});if(!r)return null;const l=n?Vn.getCapabilityDescription(n.capability_key):"";return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-md","aria-describedby":"capability-config-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Capability configuration"}),a.jsxs(Ie,{id:"capability-config-description",children:["Update status and description for this capability on"," ",a.jsx("span",{className:"font-medium",children:r.name??"node"}),"."]})]}),a.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[n&&a.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 px-3 py-2 text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Capability: "}),a.jsx("span",{className:"font-medium capitalize",children:n.capability_key.replace(/_/g," ")}),l&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:l})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"cap-status",children:"Status"}),a.jsxs(lt,{value:o.watch("status"),onValueChange:c=>o.setValue("status",c),children:[a.jsx(at,{id:"cap-status",children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"enabled",children:"Enabled"}),a.jsx(Ne,{value:"disabled",children:"Disabled"}),a.jsx(Ne,{value:"pending_approval",children:"Pending approval"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"cap-description",children:"Description (optional)"}),a.jsx(ge,{id:"cap-description",placeholder:"e.g. Remote exec for backup scripts",...o.register("description"),className:J(o.formState.errors.description&&"border-destructive")}),o.formState.errors.description&&a.jsx("p",{className:"text-xs text-destructive",children:o.formState.errors.description.message})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:i,children:i?"Saving":"Save"})]})]})]})})}const Uae={paired:"success",offline:"destructive",error:"warning"},Bae={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},qae={voice_wake:Gh,talk_mode:Gh,remote_exec:l7,browser_proxy:ux,camera_capture:KH};function zae(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,m]=x.useState(null),[g,p]=x.useState(!1),{data:y=[],isLoading:b}=Sae(),{data:v}=Nae(s),{data:w=[]}=Eae(s),{data:S=[]}=Pae({status:"pending",limit:20}),j=Tae(),_=kae(),N=Cae(),k=Oae(),C=Aae(),A=S.find(R=>R.id===c),I=async()=>{try{const R=await j.mutateAsync();n(R)}catch{}},O=R=>{!s||!h||(k.mutate({node_id:s,capability_key:h.capability_key,status:R.status,description:R.description??null}),f(!1),m(null))},B=R=>{C.mutate({id:R,data:{status:"approved"}}),l(!1),u(null)},T=R=>{C.mutate({id:R,data:{status:"denied"}}),l(!1),u(null)},z=(R,V)=>{_.mutate({id:R,data:{connection_health:V}})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Nodes (Paired Devices)"}),a.jsxs(E,{onClick:()=>{n(null),t(!0)},children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Pair node"]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Nodes list"}),a.jsx(we,{children:"Paired devices with capability badges. Select a node to manage capabilities and exec allowlist."})]}),a.jsx(Z,{children:b?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(R=>a.jsx(de,{className:"h-16 w-full rounded-lg"},R))}):y.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(qa,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes. Use Pair node to add a device via QR or code."}),a.jsxs(E,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Pair node"]})]}):a.jsx(jt,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:y.map(R=>a.jsxs("div",{className:J("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",s===R.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>i(R.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(qa,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:R.name??`Node ${R.id.slice(0,8)}`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:R.last_active_at?`Last active ${qr(new Date(R.last_active_at),{addSuffix:!0})}`:"Never"})]}),a.jsx(Ye,{variant:Uae[R.status],className:"shrink-0",children:R.status}),a.jsx(Ye,{variant:Bae[R.connection_health],className:"shrink-0",children:R.connection_health})]}),a.jsxs(ma,{children:[a.jsx(pa,{asChild:!0,children:a.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(za,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(As,{align:"end",children:[a.jsxs(Ut,{onClick:()=>{i(R.id),p(!0)},children:[a.jsx(JS,{className:"mr-2 h-4 w-4"}),"Connection health"]}),a.jsxs(Ut,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Unpair this device? This cannot be undone.")&&(N.mutate(R.id),s===R.id&&i(null))},children:[a.jsx(gn,{className:"mr-2 h-4 w-4"}),"Unpair"]})]})]})]},R.id))})})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Pair node"}),a.jsx(we,{children:"QR on left, code and instructions on right, expiry countdown."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-border p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(QS,{className:"mx-auto h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start pairing to show QR and code."}),a.jsxs(E,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Start pairing"]})]})})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Capabilities"}),a.jsx(we,{children:"Enable or disable capabilities for the selected node."})]}),a.jsx(Z,{children:s?w.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"h-10 w-full"}),a.jsx(de,{className:"h-10 w-full"}),a.jsx(de,{className:"h-10 w-full"})]}):a.jsx("div",{className:"space-y-2",children:w.map(R=>{const V=qae[R.capability_key]??qa;return a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(V,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:R.capability_key.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Vn.getCapabilityDescription(R.capability_key)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ye,{variant:R.status==="enabled"?"success":R.status==="pending_approval"?"warning":"secondary",children:R.status}),a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{m(R),f(!0)},"aria-label":"Edit capability",children:a.jsx(ha,{className:"h-4 w-4"})})]})]},R.id)})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ha,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to manage capabilities."})]})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Approval requests"}),a.jsx(we,{children:"Pending capability or execution requests."})]}),a.jsx(Z,{children:S.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(y4,{className:"mb-3 h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No pending approvals."})]}):a.jsx(jt,{className:"h-[240px] pr-2",children:a.jsx("div",{className:"space-y-2",children:S.map(R=>a.jsxs("button",{type:"button",onClick:()=>{u(R.id),l(!0)},className:"flex w-full items-center justify-between rounded-lg border border-border p-3 text-left transition-colors hover:bg-card",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:R.action_type.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:qr(new Date(R.created_at),{addSuffix:!0})})]}),a.jsx(Ye,{variant:"secondary",children:R.status})]},R.id))})})})]})]})]}),a.jsx($ae,{open:e,onOpenChange:t,pairingRequest:r,onStartPairing:I,isStartingPairing:j.isPending,onPaired:()=>{n(null),t(!1)}}),a.jsx(Dae,{open:o,onOpenChange:l,approval:A??null,node:A?y.find(R=>R.id===A.node_id)??null:null,onApprove:B,onDeny:T,isUpdating:C.isPending}),a.jsx(Fae,{open:d,onOpenChange:f,node:v??null,capability:h,onSubmit:O,isSubmitting:k.isPending}),a.jsx(BF,{node:v??null,open:g,onOpenChange:p,onUpdateHealth:z,isUpdating:_.isPending})]})}function Wae({job:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=e.name||e.description||"Unnamed job",o=()=>{n(e.id),r(!1)};return a.jsx(Le,{open:t,onOpenChange:r,children:a.jsxs(Re,{"aria-describedby":"cron-delete-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Delete cron job?"}),a.jsxs(Ie,{id:"cron-delete-description",children:['This will permanently delete "',i,'" and its run history. This action cannot be undone.']})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(E,{variant:"destructive",onClick:o,disabled:s,children:s?"Deleting":"Delete job"})]})]})})}const Vae={running:{label:"Running",icon:pn,variant:"secondary"},completed:{label:"Completed",icon:Mi,variant:"default"},failed:{label:"Failed",icon:lx,variant:"destructive"},aborted:{label:"Aborted",icon:zH,variant:"outline"}};function Kae({jobId:e,runs:t,isLoading:r=!1,className:n}){return e?r?a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ne,{children:[a.jsx(de,{className:"h-6 w-32"}),a.jsx(de,{className:"h-4 w-48"})]}),a.jsx(Z,{className:"space-y-3",children:[1,2,3].map(s=>a.jsx(de,{className:"h-20 w-full rounded-lg"},s))})]}):t.length?a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Yf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(we,{children:"Past executions with output and logs. Newest first."})]}),a.jsx(Z,{children:a.jsx(jt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-3",children:t.map(s=>{const i=Vae[s.status],o=i.icon;return a.jsxs("li",{className:"rounded-lg border border-border bg-secondary/30 p-4 transition-shadow hover:shadow-card",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ye,{variant:i.variant,className:"gap-1",children:[s.status==="running"?a.jsx(o,{className:"h-3 w-3 animate-spin"}):a.jsx(o,{className:"h-3 w-3"}),i.label]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:qr(new Date(s.execution_time),{addSuffix:!0})})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.execution_time).toLocaleString()})]}),s.output!=null&&s.output!==""||s.log!=null&&s.log!==""?a.jsxs("div",{className:"mt-3 space-y-2",children:[s.output!=null&&s.output!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Output"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono",children:s.output})]}),s.log!=null&&s.log!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Log"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono whitespace-pre-wrap",children:s.log})]})]}):null]},s.id)})})})})]}):a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Yf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(we,{children:"Past executions for this job. Run the job to see entries here."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Yf,{className:"h-10 w-10 text-muted-foreground/50"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No runs yet"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'Use "Run now" on a job to execute it and record history.'})]})})]}):a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Yf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(we,{children:"Select a job to view its run history, or run a job to see entries here."})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No job selected. Run a job from the list above to see execution logs and output."})})]})}function Hae(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),{data:h}=Ix(),m=(h==null?void 0:h.user_id)??"",{data:g=[],isLoading:p}=Z3(),{data:y=[],isLoading:b}=lne(c??d,{limit:20}),v=eF(),w=ine(),S=one(),j=cne(),_=()=>{i(null),t(!0)},N=T=>{i(T),t(!0)},k=T=>{s?w.mutate({id:s.id,data:T},{onSuccess:()=>{t(!1),i(null)}}):v.mutate(T,{onSuccess:()=>t(!1)})},C=T=>{l(T),n(!0)},A=T=>{S.mutate(T,{onSuccess:()=>{n(!1),l(null),c===T&&u(null)}})},I=T=>{f(T.id),j.mutate(T.id,{onSuccess:()=>{u(T.id),f(null)},onError:()=>f(null)})},O=T=>T.name||T.description||"Unnamed job",B=T=>T==="active"?"default":T==="paused"?"secondary":"destructive";return a.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Cron Jobs & Scheduler"}),a.jsxs(E,{onClick:_,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Create job"]})]}),a.jsxs(X,{className:"overflow-hidden rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Cron list"}),a.jsx(we,{children:"Scheduled jobs with run now, edit, and delete. Select a job to view run history below."})]}),a.jsx(Z,{className:"p-0",children:p?a.jsx("div",{className:"space-y-3 p-6",children:[1,2,3].map(T=>a.jsx(de,{className:"h-16 w-full rounded-lg"},T))}):g.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[a.jsx("th",{className:"sticky top-0 z-10 bg-secondary/50 px-6 py-4 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Schedule"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Next run"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Session target"}),a.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),a.jsx("tbody",{children:g.map(T=>a.jsxs("tr",{className:J("border-b border-border transition-colors hover:bg-secondary/30",c===T.id&&"bg-primary/5"),children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:O(T)}),T.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Or,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]})}),a.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:T.schedule}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(Ye,{variant:B(T.status),children:T.status})}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:T.next_run_time?qr(new Date(T.next_run_time),{addSuffix:!0}):""}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:T.session_target||""}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>I(T),disabled:j.isPending&&d===T.id,className:"transition-transform hover:scale-[1.02]",children:[j.isPending&&d===T.id?a.jsx(Mo,{className:"h-4 w-4 animate-spin"}):a.jsx(Ni,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 hidden sm:inline",children:j.isPending&&d===T.id?"Running":"Run now"})]}),a.jsxs(ma,{children:[a.jsx(pa,{asChild:!0,children:a.jsx(E,{variant:"outline",size:"icon",className:"h-8 w-8",children:a.jsx(za,{className:"h-4 w-4"})})}),a.jsxs(As,{align:"end",children:[a.jsxs(Ut,{onClick:()=>N(T),children:[a.jsx(Si,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Ut,{onClick:()=>{u(T.id)},children:[a.jsx(Mo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Ut,{className:"text-destructive focus:text-destructive",onClick:()=>C(T),children:[a.jsx(gn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},T.id))})]})}),a.jsx("div",{className:"space-y-3 p-4 md:hidden",children:g.map(T=>a.jsx(X,{className:J("rounded-lg border border-border bg-card shadow-card transition-all hover:shadow-card-hover",c===T.id&&"ring-2 ring-primary"),children:a.jsxs(Z,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:O(T)}),T.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Or,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]}),a.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:T.schedule}),a.jsx(Ye,{variant:B(T.status),className:"mt-2",children:T.status}),T.next_run_time&&a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Next: ",qr(new Date(T.next_run_time),{addSuffix:!0})]})]}),a.jsxs(ma,{children:[a.jsx(pa,{asChild:!0,children:a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(za,{className:"h-4 w-4"})})}),a.jsxs(As,{align:"end",children:[a.jsxs(Ut,{onClick:()=>I(T),children:[a.jsx(Ni,{className:"mr-2 h-4 w-4"}),"Run now"]}),a.jsxs(Ut,{onClick:()=>N(T),children:[a.jsx(Si,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Ut,{onClick:()=>u(T.id),children:[a.jsx(Mo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Ut,{className:"text-destructive focus:text-destructive",onClick:()=>C(T),children:[a.jsx(gn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>I(T),disabled:j.isPending&&d===T.id,children:[j.isPending&&d===T.id?a.jsx(Mo,{className:"mr-1 h-4 w-4 animate-spin"}):a.jsx(Ni,{className:"mr-1 h-4 w-4"}),"Run now"]}),a.jsx(E,{variant:"outline",size:"sm",onClick:()=>N(T),children:"Edit"})]})]})},T.id))})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center border-t border-border py-16 text-center",children:[a.jsx(qd,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsx("p",{className:"mt-4 text-sm font-medium",children:"No cron jobs yet"}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create a job to run skills on a schedule. Use the cron builder, payload, and session target."}),a.jsxs(E,{onClick:_,className:"mt-4",children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Create job"]})]})})]}),a.jsx(Kae,{jobId:c??d,runs:y,isLoading:b}),a.jsx(UF,{open:e,onOpenChange:t,onSubmit:k,isSubmitting:v.isPending||w.isPending,userId:m,job:s}),a.jsx(Wae,{job:o,open:r,onOpenChange:n,onConfirm:A,isDeleting:S.isPending})]})}function Gae(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="wh_";for(let r=0;r<12;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}const ni={getWebhooks:async()=>{const{data:e,error:t}=await q.from("webhooks").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWebhook:async e=>{const{data:t,error:r}=await q.from("webhooks").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWebhook:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r=Gae(),s=`${typeof window<"u"?`${window.location.origin}/api/webhooks`:"/api/webhooks"}/${encodeURIComponent(e.route_name)}?token=${encodeURIComponent(r)}`,i={user_id:t.id,route_name:e.route_name,token_preview:r,token_hash:null,url:s,mapping_template:e.mapping_template??null,delivery_route:e.delivery_route??null},{data:o,error:l}=await q.from("webhooks").insert(i).select().single();if(l)throw new Error(l.message);return o},updateWebhook:async(e,t)=>{const{data:r,error:n}=await q.from("webhooks").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWebhook:async e=>{const{error:t}=await q.from("webhooks").delete().eq("id",e);if(t)throw new Error(t.message)},getHookScripts:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)return[];let r=q.from("hook_scripts").select("*").eq("user_id",t.id).order("event_trigger");e===null?r=r.is("webhook_id",null):e&&(r=r.or(`webhook_id.eq.${e},webhook_id.is.null`));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},getHookScript:async e=>{const{data:t,error:r}=await q.from("hook_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createHookScript:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("hook_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateHookScript:async(e,t)=>{const{data:r,error:n}=await q.from("hook_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteHookScript:async e=>{const{error:t}=await q.from("hook_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getPayloadTemplates:async e=>{if(!e)return[];const{data:t,error:r}=await q.from("payload_templates").select("*").eq("webhook_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getPayloadTemplate:async e=>{const{data:t,error:r}=await q.from("payload_templates").select("*").eq("webhook_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertPayloadTemplate:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r=await ni.getPayloadTemplate(e.webhook_id);if(r){const{data:o,error:l}=await q.from("payload_templates").update({template_content:e.template_content??r.template_content}).eq("webhook_id",e.webhook_id).select().single();if(l)throw new Error(l.message);return o}const n={user_id:t.id,webhook_id:e.webhook_id,template_content:e.template_content??""},{data:s,error:i}=await q.from("payload_templates").insert(n).select().single();if(i)throw new Error(i.message);return s},updatePayloadTemplate:async(e,t)=>{const{data:r,error:n}=await q.from("payload_templates").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}};function Yae(e,t){return e().catch(()=>t)}const Fn={all:["webhooks"],list:()=>[...Fn.all,"list"],detail:e=>[...Fn.all,"detail",e],hookScripts:e=>[...Fn.all,"hookScripts",e],payloadTemplate:e=>[...Fn.all,"payloadTemplate",e]};function Qae(){return Oe({queryKey:Fn.list(),queryFn:()=>Yae(()=>ni.getWebhooks(),[])})}function Xae(){const e=be();return ye({mutationFn:t=>ni.createWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:Fn.list()}),W.success("Webhook created")},onError:t=>{W.error(t.message||"Failed to create webhook")}})}function Jae(){const e=be();return ye({mutationFn:t=>ni.deleteWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:Fn.list()}),W.success("Webhook removed")},onError:t=>{W.error(t.message||"Failed to remove webhook")}})}function Zae(e){return Oe({queryKey:Fn.hookScripts(e),queryFn:()=>ni.getHookScripts(e)})}function eie(){const e=be();return ye({mutationFn:t=>ni.createHookScript(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Fn.hookScripts(r.webhook_id??null)}),W.success("Hook script added")},onError:t=>{W.error(t.message||"Failed to add hook script")}})}function tie(){const e=be();return ye({mutationFn:({id:t,data:r})=>ni.updateHookScript(t,r),onSuccess:t=>{(t==null?void 0:t.webhook_id)!==void 0&&e.invalidateQueries({queryKey:Fn.hookScripts(t.webhook_id)}),e.invalidateQueries({queryKey:Fn.hookScripts(null)}),W.success("Hook script updated")},onError:t=>{W.error(t.message||"Failed to update hook script")}})}function rie(){const e=be();return ye({mutationFn:t=>ni.deleteHookScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Fn.all}),W.success("Hook script removed")},onError:t=>{W.error(t.message||"Failed to remove hook script")}})}function nie(e){return Oe({queryKey:Fn.payloadTemplate(e??""),queryFn:()=>e?ni.getPayloadTemplate(e):Promise.resolve(null),enabled:!!e})}function sie(){const e=be();return ye({mutationFn:t=>ni.upsertPayloadTemplate(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Fn.payloadTemplate(r.webhook_id)}),W.success("Payload template saved")},onError:t=>{W.error(t.message||"Failed to save payload template")}})}const aie=ht({route_name:je().min(1,"Route name is required").regex(/^[a-z0-9_-]+$/i,"Use only letters, numbers, hyphens, and underscores"),mapping_template:je().optional(),delivery_route:je().optional()}),Dw={route_name:"",mapping_template:"",delivery_route:""};function iie({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=dt({resolver:ft(aie),defaultValues:Dw}),c=d=>{var f,h;r({route_name:d.route_name.trim(),mapping_template:((f=d.mapping_template)==null?void 0:f.trim())||null,delivery_route:((h=d.delivery_route)==null?void 0:h.trim())||null}),o(Dw)},u=d=>{d||o(Dw),t(d)};return a.jsx(Le,{open:e,onOpenChange:u,children:a.jsxs(Re,{className:"max-w-lg","aria-describedby":"create-webhook-form-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Create webhook"}),a.jsx(Ie,{id:"create-webhook-form-description",children:"Add an inbound webhook endpoint. A token will be generated; configure delivery routing if needed."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"route_name",children:"Route name"}),a.jsx(ge,{id:"route_name",placeholder:"e.g. my-integration",...s("route_name"),className:l.route_name?"border-destructive":"",autoComplete:"off"}),l.route_name&&a.jsx("p",{className:"text-xs text-destructive",children:l.route_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"delivery_route",children:"Delivery route (optional)"}),a.jsx(ge,{id:"delivery_route",placeholder:"e.g. session or channel target",...s("delivery_route")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"mapping_template",children:"Mapping template (optional)"}),a.jsx("textarea",{id:"mapping_template",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"JSON or template for payload mapping",...s("mapping_template")})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"secondary",onClick:()=>u(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Creating":"Create webhook"})]})]})]})})}const oie=ht({event_trigger:je().min(1,"Event trigger is required"),language:nr(["javascript","python"]),script_content:je(),webhook_id:je().nullable()}),lie=["/new","/reset","start","end","before_run","after_run"],tg={event_trigger:"/new",language:"javascript",script_content:"",webhook_id:null};function cie({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,script:s=null,webhooks:i}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=dt({resolver:ft(oie),defaultValues:tg}),h=u("language"),m=u("webhook_id");x.useEffect(()=>{d(s?{event_trigger:s.event_trigger,language:s.language,script_content:s.script_content??"",webhook_id:s.webhook_id??null}:tg)},[s,e,d]);const g=y=>{r(y),s||d(tg),t(!1)},p=y=>{y||d(tg),t(y)};return a.jsx(Le,{open:e,onOpenChange:p,children:a.jsxs(Re,{className:"max-w-2xl max-h-[90vh] flex flex-col","aria-describedby":"hook-script-editor-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:s?"Edit hook script":"Add hook script"}),a.jsx(Ie,{id:"hook-script-editor-description",children:"Sandboxed script (JavaScript or Python) for lifecycle events. Runs in a restricted environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"flex flex-col flex-1 min-h-0 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"event_trigger",children:"Event trigger"}),a.jsxs(lt,{value:u("event_trigger"),onValueChange:y=>c("event_trigger",y),children:[a.jsx(at,{id:"event_trigger",className:f.event_trigger?"border-destructive":"",children:a.jsx(ct,{placeholder:"Select trigger"})}),a.jsx(it,{children:lie.map(y=>a.jsx(Ne,{value:y,children:y},y))})]}),f.event_trigger&&a.jsx("p",{className:"text-xs text-destructive",children:f.event_trigger.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"language",children:"Language"}),a.jsxs(lt,{value:h,onValueChange:y=>c("language",y),children:[a.jsx(at,{id:"language",children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"javascript",children:"JavaScript"}),a.jsx(Ne,{value:"python",children:"Python"})]})]})]})]}),i.length>0&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"webhook_id",children:"Webhook (optional)"}),a.jsxs(lt,{value:m??"none",onValueChange:y=>c("webhook_id",y==="none"?null:y),children:[a.jsx(at,{id:"webhook_id",children:a.jsx(ct,{placeholder:"Global (all webhooks)"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"none",children:"Global (all webhooks)"}),i.map(y=>a.jsx(Ne,{value:y.id,children:y.route_name},y.id))]})]})]}),a.jsxs("div",{className:"grid gap-2 flex-1 min-h-[200px]",children:[a.jsx(Y,{htmlFor:"script_content",children:"Script content"}),a.jsx("textarea",{id:"script_content",className:"flex w-full flex-1 min-h-[200px] rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:h==="javascript"?"// e.g. return { ...payload };":"# e.g. return { **payload }",...o("script_content"),spellCheck:!1})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"secondary",onClick:()=>p(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":s?"Save":"Add script"})]})]})]})})}function uie({webhooks:e,isLoadingWebhooks:t=!1}){const[r,n]=x.useState(null),[s,i]=x.useState(null),{data:o,isLoading:l}=nie(r),c=sie(),u=s!==null?s:(o==null?void 0:o.template_content)??"",d=()=>{r&&c.mutate({webhook_id:r,template_content:u},{onSuccess:()=>i(null)})},f=r&&u!==((o==null?void 0:o.template_content)??"");return a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(YH,{className:"h-5 w-5 text-muted-foreground"}),"Payload transformer"]}),a.jsx(we,{children:"Edit transformation templates per webhook. Preview and save to apply."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"payload-webhook",children:"Webhook"}),t?a.jsx(de,{className:"h-10 w-full rounded-md"}):a.jsxs(lt,{value:r??"",onValueChange:h=>{n(h||null),i(null)},children:[a.jsx(at,{id:"payload-webhook",children:a.jsx(ct,{placeholder:"Select a webhook"})}),a.jsx(it,{children:e.length===0?a.jsx(Ne,{value:"_none",disabled:!0,children:"No webhooks  create one first"}):e.map(h=>a.jsx(Ne,{value:h.id,children:h.route_name},h.id))})]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"template_content",children:"Template content"}),l?a.jsx(de,{className:"h-[200px] w-full rounded-md"}):a.jsx("textarea",{id:"template_content",rows:10,className:J("flex w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),placeholder:"JSON or template (e.g. Handlebars) for payload mapping",value:u,onChange:h=>i(h.target.value),spellCheck:!1})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(E,{onClick:d,disabled:c.isPending||!f&&!o,children:c.isPending?"Saving":a.jsxs(a.Fragment,{children:[a.jsx(XS,{className:"mr-2 h-4 w-4"}),"Save template"]})})})]}),!r&&e.length>0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a webhook above to edit its payload transformation template."}),!r&&e.length===0&&!t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a webhook in the Endpoints tab first, then select it here to add a transformation template."})]})]})}function die(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState(null),{data:c=[],isLoading:u}=Qae(),{data:d=[],isLoading:f}=Zae(null),h=Xae(),m=Jae(),g=eie(),p=tie(),y=rie(),b=async _=>{await h.mutateAsync(_),t(!1)},v=_=>{navigator.clipboard.writeText(_),l(_),W.success("URL copied"),setTimeout(()=>l(null),2e3)},w=_=>{s?p.mutate({id:s.id,data:{event_trigger:_.event_trigger,language:_.language,script_content:_.script_content,webhook_id:_.webhook_id}},{onSuccess:()=>{i(null),n(!1)}}):g.mutate({event_trigger:_.event_trigger,language:_.language,script_content:_.script_content,webhook_id:_.webhook_id},{onSuccess:()=>n(!1)})},S=_=>{i(_),n(!0)},j=()=>{i(null),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Webhooks & Hooks"}),a.jsxs(E,{onClick:()=>t(!0),children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}),a.jsxs(ri,{defaultValue:"endpoints",className:"space-y-4",children:[a.jsxs(ja,{className:"grid w-full max-w-2xl grid-cols-4",children:[a.jsx(St,{value:"endpoints",children:"Endpoints"}),a.jsx(St,{value:"hooks",children:"Hook scripts"}),a.jsx(St,{value:"transform",children:"Payload transformer"}),a.jsx(St,{value:"gmail",children:"Gmail Pub/Sub"})]}),a.jsx(Nt,{value:"endpoints",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(zj,{className:"h-5 w-5 text-muted-foreground"}),"Webhook endpoints"]}),a.jsx(we,{children:"List (token), create webhook modal. URL, token preview, last received, mapping."})]}),a.jsx(Z,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(_=>a.jsx(de,{className:"h-20 w-full rounded-lg"},_))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(zj,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No webhooks. Create one to receive inbound events."}),a.jsxs(E,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}):a.jsx(jt,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-3",children:c.map(_=>a.jsx("div",{className:"flex flex-col gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-card/80",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:_.route_name}),a.jsx("p",{className:"mt-1 truncate font-mono text-xs text-muted-foreground",children:_.url}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"font-mono",children:["Token: ",_.token_preview]}),_.last_received_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(qd,{className:"h-3 w-3"}),"Last received"," ",qr(new Date(_.last_received_at),{addSuffix:!0})]})]}),_.mapping_template&&a.jsx(Ye,{variant:"secondary",className:"mt-2",children:"Mapping"})]}),a.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>v(_.url),"aria-label":"Copy URL",children:o===_.url?a.jsx(Qm,{className:"h-4 w-4 text-success"}):a.jsx(u4,{className:"h-4 w-4"})}),a.jsxs(ma,{children:[a.jsx(pa,{asChild:!0,children:a.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(za,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsx(As,{align:"end",children:a.jsxs(Ut,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this webhook?")&&m.mutate(_.id)},children:[a.jsx(gn,{className:"mr-2 h-4 w-4"}),"Remove"]})})]})]})]})},_.id))})})})]})}),a.jsx(Nt,{value:"hooks",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(cE,{className:"h-5 w-5 text-muted-foreground"}),"Hook scripts editor"]}),a.jsx(we,{children:"Sandbox environment for lifecycle hooks (restricted JS/Python). Event triggers: /new, /reset, start, end."})]}),a.jsxs(Z,{children:[a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsxs(E,{onClick:j,children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Add hook script"]})}),f?a.jsx("div",{className:"space-y-3",children:[1,2].map(_=>a.jsx(de,{className:"h-16 w-full rounded-lg"},_))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(cE,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No hook scripts. Add one for lifecycle events (/new, /reset, start, end)."}),a.jsxs(E,{className:"mt-4",variant:"outline",onClick:j,children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Add hook script"]})]}):a.jsx(jt,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"space-y-2",children:d.map(_=>{var N;return a.jsxs("div",{className:J("flex items-center justify-between gap-2 rounded-lg border border-border p-3 transition-colors hover:bg-card/80"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:_.event_trigger}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.language,_.webhook_id?`  Webhook: ${((N=c.find(k=>k.id===_.webhook_id))==null?void 0:N.route_name)??_.webhook_id}`:"  Global"]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(E,{variant:"ghost",size:"sm",onClick:()=>S(_),children:"Edit"}),a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>{window.confirm("Remove this hook script?")&&y.mutate(_.id)},"aria-label":"Remove script",children:a.jsx(gn,{className:"h-4 w-4"})})]})]},_.id)})})})]})]})}),a.jsx(Nt,{value:"transform",className:"space-y-4",children:a.jsx(uie,{webhooks:c,isLoadingWebhooks:u})}),a.jsx(Nt,{value:"gmail",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(ed,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub guided setup"]}),a.jsx(we,{children:"Guided flow for Gmail Pub/Sub integration. Connect your Gmail account and configure webhook delivery."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ed,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gmail Pub/Sub setup will be available here. Create a webhook first, then link it to Gmail."}),a.jsx(E,{className:"mt-4",variant:"outline",disabled:!0,children:"Coming soon"})]})})]})})]}),a.jsx(iie,{open:e,onOpenChange:t,onSubmit:b,isSubmitting:h.isPending}),a.jsx(cie,{open:r,onOpenChange:_=>{n(_),_||i(null)},onSubmit:w,isSubmitting:g.isPending||p.isPending,script:s,webhooks:c})]})}var fie=Array.isArray,Hn=fie,hie=typeof xp=="object"&&xp&&xp.Object===Object&&xp,YF=hie,mie=YF,pie=typeof self=="object"&&self&&self.Object===Object&&self,gie=mie||pie||Function("return this")(),si=gie,vie=si,yie=vie.Symbol,cp=yie,LO=cp,QF=Object.prototype,xie=QF.hasOwnProperty,bie=QF.toString,Of=LO?LO.toStringTag:void 0;function wie(e){var t=xie.call(e,Of),r=e[Of];try{e[Of]=void 0;var n=!0}catch{}var s=bie.call(e);return n&&(t?e[Of]=r:delete e[Of]),s}var jie=wie,_ie=Object.prototype,Sie=_ie.toString;function Nie(e){return Sie.call(e)}var kie=Nie,FO=cp,Cie=jie,Eie=kie,Oie="[object Null]",Pie="[object Undefined]",UO=FO?FO.toStringTag:void 0;function Aie(e){return e==null?e===void 0?Pie:Oie:UO&&UO in Object(e)?Cie(e):Eie(e)}var Yi=Aie;function Tie(e){return e!=null&&typeof e=="object"}var Qi=Tie,Rie=Yi,Mie=Qi,$ie="[object Symbol]";function Iie(e){return typeof e=="symbol"||Mie(e)&&Rie(e)==$ie}var Qd=Iie,Die=Hn,Lie=Qd,Fie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uie=/^\w*$/;function Bie(e,t){if(Die(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Lie(e)?!0:Uie.test(e)||!Fie.test(e)||t!=null&&e in Object(t)}var qN=Bie;function qie(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var dl=qie;const Xd=qt(dl);var zie=Yi,Wie=dl,Vie="[object AsyncFunction]",Kie="[object Function]",Hie="[object GeneratorFunction]",Gie="[object Proxy]";function Yie(e){if(!Wie(e))return!1;var t=zie(e);return t==Kie||t==Hie||t==Vie||t==Gie}var zN=Yie;const nt=qt(zN);var Qie=si,Xie=Qie["__core-js_shared__"],Jie=Xie,Lw=Jie,BO=function(){var e=/[^.]+$/.exec(Lw&&Lw.keys&&Lw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Zie(e){return!!BO&&BO in e}var eoe=Zie,toe=Function.prototype,roe=toe.toString;function noe(e){if(e!=null){try{return roe.call(e)}catch{}try{return e+""}catch{}}return""}var XF=noe,soe=zN,aoe=eoe,ioe=dl,ooe=XF,loe=/[\\^$.*+?()[\]{}|]/g,coe=/^\[object .+?Constructor\]$/,uoe=Function.prototype,doe=Object.prototype,foe=uoe.toString,hoe=doe.hasOwnProperty,moe=RegExp("^"+foe.call(hoe).replace(loe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function poe(e){if(!ioe(e)||aoe(e))return!1;var t=soe(e)?moe:coe;return t.test(ooe(e))}var goe=poe;function voe(e,t){return e==null?void 0:e[t]}var yoe=voe,xoe=goe,boe=yoe;function woe(e,t){var r=boe(e,t);return xoe(r)?r:void 0}var Cc=woe,joe=Cc,_oe=joe(Object,"create"),Bx=_oe,qO=Bx;function Soe(){this.__data__=qO?qO(null):{},this.size=0}var Noe=Soe;function koe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Coe=koe,Eoe=Bx,Ooe="__lodash_hash_undefined__",Poe=Object.prototype,Aoe=Poe.hasOwnProperty;function Toe(e){var t=this.__data__;if(Eoe){var r=t[e];return r===Ooe?void 0:r}return Aoe.call(t,e)?t[e]:void 0}var Roe=Toe,Moe=Bx,$oe=Object.prototype,Ioe=$oe.hasOwnProperty;function Doe(e){var t=this.__data__;return Moe?t[e]!==void 0:Ioe.call(t,e)}var Loe=Doe,Foe=Bx,Uoe="__lodash_hash_undefined__";function Boe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Foe&&t===void 0?Uoe:t,this}var qoe=Boe,zoe=Noe,Woe=Coe,Voe=Roe,Koe=Loe,Hoe=qoe;function Jd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jd.prototype.clear=zoe;Jd.prototype.delete=Woe;Jd.prototype.get=Voe;Jd.prototype.has=Koe;Jd.prototype.set=Hoe;var Goe=Jd;function Yoe(){this.__data__=[],this.size=0}var Qoe=Yoe;function Xoe(e,t){return e===t||e!==e&&t!==t}var WN=Xoe,Joe=WN;function Zoe(e,t){for(var r=e.length;r--;)if(Joe(e[r][0],t))return r;return-1}var qx=Zoe,ele=qx,tle=Array.prototype,rle=tle.splice;function nle(e){var t=this.__data__,r=ele(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():rle.call(t,r,1),--this.size,!0}var sle=nle,ale=qx;function ile(e){var t=this.__data__,r=ale(t,e);return r<0?void 0:t[r][1]}var ole=ile,lle=qx;function cle(e){return lle(this.__data__,e)>-1}var ule=cle,dle=qx;function fle(e,t){var r=this.__data__,n=dle(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var hle=fle,mle=Qoe,ple=sle,gle=ole,vle=ule,yle=hle;function Zd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zd.prototype.clear=mle;Zd.prototype.delete=ple;Zd.prototype.get=gle;Zd.prototype.has=vle;Zd.prototype.set=yle;var zx=Zd,xle=Cc,ble=si,wle=xle(ble,"Map"),VN=wle,zO=Goe,jle=zx,_le=VN;function Sle(){this.size=0,this.__data__={hash:new zO,map:new(_le||jle),string:new zO}}var Nle=Sle;function kle(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Cle=kle,Ele=Cle;function Ole(e,t){var r=e.__data__;return Ele(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Wx=Ole,Ple=Wx;function Ale(e){var t=Ple(this,e).delete(e);return this.size-=t?1:0,t}var Tle=Ale,Rle=Wx;function Mle(e){return Rle(this,e).get(e)}var $le=Mle,Ile=Wx;function Dle(e){return Ile(this,e).has(e)}var Lle=Dle,Fle=Wx;function Ule(e,t){var r=Fle(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Ble=Ule,qle=Nle,zle=Tle,Wle=$le,Vle=Lle,Kle=Ble;function ef(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ef.prototype.clear=qle;ef.prototype.delete=zle;ef.prototype.get=Wle;ef.prototype.has=Vle;ef.prototype.set=Kle;var KN=ef,JF=KN,Hle="Expected a function";function HN(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Hle);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(HN.Cache||JF),r}HN.Cache=JF;var ZF=HN;const Gle=qt(ZF);var Yle=ZF,Qle=500;function Xle(e){var t=Yle(e,function(n){return r.size===Qle&&r.clear(),n}),r=t.cache;return t}var Jle=Xle,Zle=Jle,ece=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tce=/\\(\\)?/g,rce=Zle(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ece,function(r,n,s,i){t.push(s?i.replace(tce,"$1"):n||r)}),t}),nce=rce;function sce(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var GN=sce,WO=cp,ace=GN,ice=Hn,oce=Qd,VO=WO?WO.prototype:void 0,KO=VO?VO.toString:void 0;function e5(e){if(typeof e=="string")return e;if(ice(e))return ace(e,e5)+"";if(oce(e))return KO?KO.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var lce=e5,cce=lce;function uce(e){return e==null?"":cce(e)}var t5=uce,dce=Hn,fce=qN,hce=nce,mce=t5;function pce(e,t){return dce(e)?e:fce(e,t)?[e]:hce(mce(e))}var r5=pce,gce=Qd;function vce(e){if(typeof e=="string"||gce(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Vx=vce,yce=r5,xce=Vx;function bce(e,t){t=yce(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[xce(t[r++])];return r&&r==n?e:void 0}var YN=bce,wce=YN;function jce(e,t,r){var n=e==null?void 0:wce(e,t);return n===void 0?r:n}var n5=jce;const Ts=qt(n5);function _ce(e){return e==null}var Sce=_ce;const vt=qt(Sce);var Nce=Yi,kce=Hn,Cce=Qi,Ece="[object String]";function Oce(e){return typeof e=="string"||!kce(e)&&Cce(e)&&Nce(e)==Ece}var Pce=Oce;const pc=qt(Pce);var s5={exports:{}},Dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QN=Symbol.for("react.element"),XN=Symbol.for("react.portal"),Kx=Symbol.for("react.fragment"),Hx=Symbol.for("react.strict_mode"),Gx=Symbol.for("react.profiler"),Yx=Symbol.for("react.provider"),Qx=Symbol.for("react.context"),Ace=Symbol.for("react.server_context"),Xx=Symbol.for("react.forward_ref"),Jx=Symbol.for("react.suspense"),Zx=Symbol.for("react.suspense_list"),eb=Symbol.for("react.memo"),tb=Symbol.for("react.lazy"),Tce=Symbol.for("react.offscreen"),a5;a5=Symbol.for("react.module.reference");function Fs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case QN:switch(e=e.type,e){case Kx:case Gx:case Hx:case Jx:case Zx:return e;default:switch(e=e&&e.$$typeof,e){case Ace:case Qx:case Xx:case tb:case eb:case Yx:return e;default:return t}}case XN:return t}}}Dt.ContextConsumer=Qx;Dt.ContextProvider=Yx;Dt.Element=QN;Dt.ForwardRef=Xx;Dt.Fragment=Kx;Dt.Lazy=tb;Dt.Memo=eb;Dt.Portal=XN;Dt.Profiler=Gx;Dt.StrictMode=Hx;Dt.Suspense=Jx;Dt.SuspenseList=Zx;Dt.isAsyncMode=function(){return!1};Dt.isConcurrentMode=function(){return!1};Dt.isContextConsumer=function(e){return Fs(e)===Qx};Dt.isContextProvider=function(e){return Fs(e)===Yx};Dt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===QN};Dt.isForwardRef=function(e){return Fs(e)===Xx};Dt.isFragment=function(e){return Fs(e)===Kx};Dt.isLazy=function(e){return Fs(e)===tb};Dt.isMemo=function(e){return Fs(e)===eb};Dt.isPortal=function(e){return Fs(e)===XN};Dt.isProfiler=function(e){return Fs(e)===Gx};Dt.isStrictMode=function(e){return Fs(e)===Hx};Dt.isSuspense=function(e){return Fs(e)===Jx};Dt.isSuspenseList=function(e){return Fs(e)===Zx};Dt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Kx||e===Gx||e===Hx||e===Jx||e===Zx||e===Tce||typeof e=="object"&&e!==null&&(e.$$typeof===tb||e.$$typeof===eb||e.$$typeof===Yx||e.$$typeof===Qx||e.$$typeof===Xx||e.$$typeof===a5||e.getModuleId!==void 0)};Dt.typeOf=Fs;s5.exports=Dt;var Rce=s5.exports,Mce=Yi,$ce=Qi,Ice="[object Number]";function Dce(e){return typeof e=="number"||$ce(e)&&Mce(e)==Ice}var i5=Dce;const Lce=qt(i5);var Fce=i5;function Uce(e){return Fce(e)&&e!=+e}var Bce=Uce;const tf=qt(Bce);var ca=function(t){return t===0?0:t>0?1:-1},Il=function(t){return pc(t)&&t.indexOf("%")===t.length-1},ve=function(t){return Lce(t)&&!tf(t)},qce=function(t){return vt(t)},Br=function(t){return ve(t)||pc(t)},zce=0,up=function(t){var r=++zce;return"".concat(t||"").concat(r)},gc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&!pc(t))return n;var i;if(Il(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return tf(i)&&(i=n),s&&i>r&&(i=r),i},wo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Wce=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},_s=function(t,r){return ve(t)&&ve(r)?function(n){return t+n*(r-t)}:function(){return r}};function $v(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ts(n,t))===r})}var Vce=function(t,r){return ve(t)&&ve(r)?t-r:pc(t)&&pc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ou(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function h_(e){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h_(e)}var Kce=["viewBox","children"],Hce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HO=["points","pathLength"],Fw={svg:Kce,polygon:HO,polyline:HO},JN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Iv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Xd(n))return null;var s={};return Object.keys(n).forEach(function(i){JN.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},Gce=function(t,r,n){return function(s){return t(r,n,s),null}},Dv=function(t,r,n){if(!Xd(t)||h_(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];JN.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Gce(o,r,n))}),s},Yce=["children"],Qce=["children"];function GO(e,t){if(e==null)return{};var r=Xce(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function m_(e){"@babel/helpers - typeof";return m_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m_(e)}var YO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ki=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},QO=null,Uw=null,ZN=function e(t){if(t===QO&&Array.isArray(Uw))return Uw;var r=[];return x.Children.forEach(t,function(n){vt(n)||(Rce.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Uw=r,QO=t,r};function ga(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return ki(s)}):n=[ki(t)],ZN(e).forEach(function(s){var i=Ts(s,"type.displayName")||Ts(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Zn(e,t){var r=ga(e,t);return r&&r[0]}var XO=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!ve(n)||n<=0||!ve(s)||s<=0)},Jce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Zce=function(t){return t&&t.type&&pc(t.type)&&Jce.indexOf(t.type)>=0},eue=function(t){return t&&m_(t)==="object"&&"clipDot"in t},tue=function(t,r,n,s){var i,o=(i=Fw==null?void 0:Fw[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!nt(t)&&(s&&o.includes(r)||Hce.includes(r))||n&&JN.includes(r)},mt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(x.isValidElement(t)&&(s=t.props),!Xd(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;tue((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},p_=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return JO(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!JO(i,o))return!1}return!0},JO=function(t,r){if(vt(t)&&vt(r))return!0;if(!vt(t)&&!vt(r)){var n=t.props||{},s=n.children,i=GO(n,Yce),o=r.props||{},l=o.children,c=GO(o,Qce);return s&&l?Ou(i,c)&&p_(s,l):!s&&!l?Ou(i,c):!1}return!1},ZO=function(t,r){var n=[],s={};return ZN(t).forEach(function(i,o){if(Zce(i))n.push(i);else if(i){var l=ki(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},rue=function(t){var r=t&&t.type;return r&&YO[r]?YO[r]:null},nue=function(t,r){return ZN(r).indexOf(t)},sue=["children","width","height","viewBox","className","style","title","desc"];function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(this,arguments)}function aue(e,t){if(e==null)return{};var r=iue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v_(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=aue(e,sue),d=s||{width:r,height:n,x:0,y:0},f=wt("recharts-surface",i);return P.createElement("svg",g_({},mt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),P.createElement("title",null,l),P.createElement("desc",null,c),t)}var oue=["children","className"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y_.apply(this,arguments)}function lue(e,t){if(e==null)return{};var r=cue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ur=P.forwardRef(function(e,t){var r=e.children,n=e.className,s=lue(e,oue),i=wt("recharts-layer",n);return P.createElement("g",y_({className:i},mt(s,!0),{ref:t}),r)}),Ci=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function uue(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var due=uue,fue=due;function hue(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:fue(e,t,r)}var mue=hue,pue="\\ud800-\\udfff",gue="\\u0300-\\u036f",vue="\\ufe20-\\ufe2f",yue="\\u20d0-\\u20ff",xue=gue+vue+yue,bue="\\ufe0e\\ufe0f",wue="\\u200d",jue=RegExp("["+wue+pue+xue+bue+"]");function _ue(e){return jue.test(e)}var o5=_ue;function Sue(e){return e.split("")}var Nue=Sue,l5="\\ud800-\\udfff",kue="\\u0300-\\u036f",Cue="\\ufe20-\\ufe2f",Eue="\\u20d0-\\u20ff",Oue=kue+Cue+Eue,Pue="\\ufe0e\\ufe0f",Aue="["+l5+"]",x_="["+Oue+"]",b_="\\ud83c[\\udffb-\\udfff]",Tue="(?:"+x_+"|"+b_+")",c5="[^"+l5+"]",u5="(?:\\ud83c[\\udde6-\\uddff]){2}",d5="[\\ud800-\\udbff][\\udc00-\\udfff]",Rue="\\u200d",f5=Tue+"?",h5="["+Pue+"]?",Mue="(?:"+Rue+"(?:"+[c5,u5,d5].join("|")+")"+h5+f5+")*",$ue=h5+f5+Mue,Iue="(?:"+[c5+x_+"?",x_,u5,d5,Aue].join("|")+")",Due=RegExp(b_+"(?="+b_+")|"+Iue+$ue,"g");function Lue(e){return e.match(Due)||[]}var Fue=Lue,Uue=Nue,Bue=o5,que=Fue;function zue(e){return Bue(e)?que(e):Uue(e)}var Wue=zue,Vue=mue,Kue=o5,Hue=Wue,Gue=t5;function Yue(e){return function(t){t=Gue(t);var r=Kue(t)?Hue(t):void 0,n=r?r[0]:t.charAt(0),s=r?Vue(r,1).join(""):t.slice(1);return n[e]()+s}}var Que=Yue,Xue=Que,Jue=Xue("toUpperCase"),Zue=Jue;const rb=qt(Zue);function Gt(e){return function(){return e}}const m5=Math.cos,Lv=Math.sin,Sa=Math.sqrt,Fv=Math.PI,nb=2*Fv,w_=Math.PI,j_=2*w_,Sl=1e-6,ede=j_-Sl;function p5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function tde(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return p5;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class rde{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?p5:tde(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Sl)if(!(Math.abs(f*c-u*d)>Sl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=s-l,p=c*c+u*u,y=m*m+g*g,b=Math.sqrt(p),v=Math.sqrt(h),w=i*Math.tan((w_-Math.acos((p+h-y)/(2*b*v)))/2),S=w/v,j=w/b;Math.abs(S-1)>Sl&&this._append`L${t+S*d},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Sl||Math.abs(this._y1-d)>Sl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%j_+j_),h>ede?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Sl&&this._append`A${n},${n},0,${+(h>=w_)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function ek(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new rde(t)}function tk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g5(e){this._context=e}g5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function sb(e){return new g5(e)}function v5(e){return e[0]}function y5(e){return e[1]}function x5(e,t){var r=Gt(!0),n=null,s=sb,i=null,o=ek(l);e=typeof e=="function"?e:e===void 0?v5:Gt(e),t=typeof t=="function"?t:t===void 0?y5:Gt(t);function l(c){var u,d=(c=tk(c)).length,f,h=!1,m;for(n==null&&(i=s(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Gt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Gt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Gt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function rg(e,t,r){var n=null,s=Gt(!0),i=null,o=sb,l=null,c=ek(u);e=typeof e=="function"?e:e===void 0?v5:Gt(+e),t=typeof t=="function"?t:Gt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?y5:Gt(+r);function u(f){var h,m,g,p=(f=tk(f)).length,y,b=!1,v,w=new Array(p),S=new Array(p);for(i==null&&(l=o(v=c())),h=0;h<=p;++h){if(!(h<p&&s(y=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],S[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(y,h,f),S[h]=+t(y,h,f),l.point(n?+n(y,h,f):w[h],r?+r(y,h,f):S[h]))}if(v)return l=null,v+""||null}function d(){return x5().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Gt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Gt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Gt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class b5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function nde(e){return new b5(e,!0)}function sde(e){return new b5(e,!1)}const rk={draw(e,t){const r=Sa(t/Fv);e.moveTo(r,0),e.arc(0,0,r,0,nb)}},ade={draw(e,t){const r=Sa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},w5=Sa(1/3),ide=w5*2,ode={draw(e,t){const r=Sa(t/ide),n=r*w5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},lde={draw(e,t){const r=Sa(t),n=-r/2;e.rect(n,n,r,r)}},cde=.8908130915292852,j5=Lv(Fv/10)/Lv(7*Fv/10),ude=Lv(nb/10)*j5,dde=-m5(nb/10)*j5,fde={draw(e,t){const r=Sa(t*cde),n=ude*r,s=dde*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=nb*i/5,l=m5(o),c=Lv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Bw=Sa(3),hde={draw(e,t){const r=-Sa(t/(Bw*3));e.moveTo(0,r*2),e.lineTo(-Bw*r,-r),e.lineTo(Bw*r,-r),e.closePath()}},ps=-.5,gs=Sa(3)/2,__=1/Sa(12),mde=(__/2+1)*3,pde={draw(e,t){const r=Sa(t/mde),n=r/2,s=r*__,i=n,o=r*__+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ps*n-gs*s,gs*n+ps*s),e.lineTo(ps*i-gs*o,gs*i+ps*o),e.lineTo(ps*l-gs*c,gs*l+ps*c),e.lineTo(ps*n+gs*s,ps*s-gs*n),e.lineTo(ps*i+gs*o,ps*o-gs*i),e.lineTo(ps*l+gs*c,ps*c-gs*l),e.closePath()}};function gde(e,t){let r=null,n=ek(s);e=typeof e=="function"?e:Gt(e||rk),t=typeof t=="function"?t:Gt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Gt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Uv(){}function Bv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _5(e){this._context=e}_5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vde(e){return new _5(e)}function S5(e){this._context=e}S5.prototype={areaStart:Uv,areaEnd:Uv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yde(e){return new S5(e)}function N5(e){this._context=e}N5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Bv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xde(e){return new N5(e)}function k5(e){this._context=e}k5.prototype={areaStart:Uv,areaEnd:Uv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function bde(e){return new k5(e)}function eP(e){return e<0?-1:1}function tP(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(eP(i)+eP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function rP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qw(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function qv(e){this._context=e}qv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qw(this,this._t0,rP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qw(this,rP(this,r=tP(this,e,t)),r);break;default:qw(this,this._t0,r=tP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function C5(e){this._context=new E5(e)}(C5.prototype=Object.create(qv.prototype)).point=function(e,t){qv.prototype.point.call(this,t,e)};function E5(e){this._context=e}E5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function wde(e){return new qv(e)}function jde(e){return new C5(e)}function O5(e){this._context=e}O5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=nP(e),s=nP(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function nP(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function _de(e){return new O5(e)}function ab(e,t){this._context=e,this._t=t}ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Sde(e){return new ab(e,.5)}function Nde(e){return new ab(e,0)}function kde(e){return new ab(e,1)}function dd(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function S_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Cde(e,t){return e[t]}function Ede(e){const t=[];return t.key=e,t}function Ode(){var e=Gt([]),t=S_,r=dd,n=Cde;function s(i){var o=Array.from(e.apply(this,arguments),Ede),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=tk(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Gt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?S_:typeof i=="function"?i:Gt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??dd,s):r},s}function Pde(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}dd(e,t)}}function Ade(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}dd(e,t)}}function Tde(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],y=p[n][1]||0,b=p[n-1][1]||0;m+=y-b}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,dd(e,t)}}function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}var Rde=["type","size","sizeType"];function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N_.apply(this,arguments)}function sP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(r),!0).forEach(function(n){Mde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mde(e,t,r){return t=$de(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $de(e){var t=Ide(e,"string");return rm(t)=="symbol"?t:t+""}function Ide(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dde(e,t){if(e==null)return{};var r=Lde(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var P5={symbolCircle:rk,symbolCross:ade,symbolDiamond:ode,symbolSquare:lde,symbolStar:fde,symbolTriangle:hde,symbolWye:pde},Fde=Math.PI/180,Ude=function(t){var r="symbol".concat(rb(t));return P5[r]||rk},Bde=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Fde;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},qde=function(t,r){P5["symbol".concat(rb(t))]=r},nk=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=Dde(t,Rde),u=aP(aP({},c),{},{type:n,size:i,sizeType:l}),d=function(){var y=Ude(n),b=gde().type(y).size(Bde(i,l,n));return b()},f=u.className,h=u.cx,m=u.cy,g=mt(u,!0);return h===+h&&m===+m&&i===+i?P.createElement("path",N_({},g,{className:wt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};nk.registerSymbol=qde;function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(this,arguments)}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){nm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T5(n.key),n)}}function Kde(e,t,r){return t&&Vde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hde(e,t,r){return t=zv(t),Gde(e,A5()?Reflect.construct(t,r||[],zv(e).constructor):t.apply(e,r))}function Gde(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yde(e)}function Yde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A5=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(e)}function Qde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C_(e,t)}function C_(e,t){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},C_(e,t)}function nm(e,t,r){return t=T5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T5(e){var t=Xde(e,"string");return fd(t)=="symbol"?t:t+""}function Xde(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vs=32,sk=function(e){function t(){return Wde(this,t),Hde(this,t,arguments)}return Qde(t,e),Kde(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=vs/2,o=vs/6,l=vs/3,c=n.inactive?s:n.color;if(n.type==="plainline")return P.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:vs,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(vs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return P.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(vs/8,"h").concat(vs,"v").concat(vs*3/4,"h").concat(-vs,"z"),className:"recharts-legend-icon"});if(P.isValidElement(n.legendIcon)){var u=zde({},n);return delete u.legendIcon,P.cloneElement(n.legendIcon,u)}return P.createElement(nk,{fill:c,cx:i,cy:i,size:vs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:vs,height:vs},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,y=wt(nm(nm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=nt(m.value)?null:m.value;Ci(!nt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=m.inactive?u:m.color;return P.createElement("li",k_({className:y,style:f,key:"legend-item-".concat(g)},Dv(n.props,m,g)),P.createElement(v_,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),P.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);nm(sk,"displayName","Legend");nm(sk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Jde=zx;function Zde(){this.__data__=new Jde,this.size=0}var efe=Zde;function tfe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var rfe=tfe;function nfe(e){return this.__data__.get(e)}var sfe=nfe;function afe(e){return this.__data__.has(e)}var ife=afe,ofe=zx,lfe=VN,cfe=KN,ufe=200;function dfe(e,t){var r=this.__data__;if(r instanceof ofe){var n=r.__data__;if(!lfe||n.length<ufe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new cfe(n)}return r.set(e,t),this.size=r.size,this}var ffe=dfe,hfe=zx,mfe=efe,pfe=rfe,gfe=sfe,vfe=ife,yfe=ffe;function rf(e){var t=this.__data__=new hfe(e);this.size=t.size}rf.prototype.clear=mfe;rf.prototype.delete=pfe;rf.prototype.get=gfe;rf.prototype.has=vfe;rf.prototype.set=yfe;var R5=rf,xfe="__lodash_hash_undefined__";function bfe(e){return this.__data__.set(e,xfe),this}var wfe=bfe;function jfe(e){return this.__data__.has(e)}var _fe=jfe,Sfe=KN,Nfe=wfe,kfe=_fe;function Wv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Sfe;++t<r;)this.add(e[t])}Wv.prototype.add=Wv.prototype.push=Nfe;Wv.prototype.has=kfe;var M5=Wv;function Cfe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var $5=Cfe;function Efe(e,t){return e.has(t)}var I5=Efe,Ofe=M5,Pfe=$5,Afe=I5,Tfe=1,Rfe=2;function Mfe(e,t,r,n,s,i){var o=r&Tfe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&Rfe?new Ofe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var y=o?n(p,g,f,t,e,i):n(g,p,f,e,t,i);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!Pfe(t,function(b,v){if(!Afe(m,v)&&(g===b||s(g,b,r,n,i)))return m.push(v)})){h=!1;break}}else if(!(g===p||s(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var D5=Mfe,$fe=si,Ife=$fe.Uint8Array,Dfe=Ife;function Lfe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var Ffe=Lfe;function Ufe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ak=Ufe,oP=cp,lP=Dfe,Bfe=WN,qfe=D5,zfe=Ffe,Wfe=ak,Vfe=1,Kfe=2,Hfe="[object Boolean]",Gfe="[object Date]",Yfe="[object Error]",Qfe="[object Map]",Xfe="[object Number]",Jfe="[object RegExp]",Zfe="[object Set]",ehe="[object String]",the="[object Symbol]",rhe="[object ArrayBuffer]",nhe="[object DataView]",cP=oP?oP.prototype:void 0,zw=cP?cP.valueOf:void 0;function she(e,t,r,n,s,i,o){switch(r){case nhe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case rhe:return!(e.byteLength!=t.byteLength||!i(new lP(e),new lP(t)));case Hfe:case Gfe:case Xfe:return Bfe(+e,+t);case Yfe:return e.name==t.name&&e.message==t.message;case Jfe:case ehe:return e==t+"";case Qfe:var l=zfe;case Zfe:var c=n&Vfe;if(l||(l=Wfe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Kfe,o.set(e,t);var d=qfe(l(e),l(t),n,s,i,o);return o.delete(e),d;case the:if(zw)return zw.call(e)==zw.call(t)}return!1}var ahe=she;function ihe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var L5=ihe,ohe=L5,lhe=Hn;function che(e,t,r){var n=t(e);return lhe(e)?n:ohe(n,r(e))}var uhe=che;function dhe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var fhe=dhe;function hhe(){return[]}var mhe=hhe,phe=fhe,ghe=mhe,vhe=Object.prototype,yhe=vhe.propertyIsEnumerable,uP=Object.getOwnPropertySymbols,xhe=uP?function(e){return e==null?[]:(e=Object(e),phe(uP(e),function(t){return yhe.call(e,t)}))}:ghe,bhe=xhe;function whe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var jhe=whe,_he=Yi,She=Qi,Nhe="[object Arguments]";function khe(e){return She(e)&&_he(e)==Nhe}var Che=khe,dP=Che,Ehe=Qi,F5=Object.prototype,Ohe=F5.hasOwnProperty,Phe=F5.propertyIsEnumerable,Ahe=dP(function(){return arguments}())?dP:function(e){return Ehe(e)&&Ohe.call(e,"callee")&&!Phe.call(e,"callee")},ik=Ahe,Vv={exports:{}};function The(){return!1}var Rhe=The;Vv.exports;(function(e,t){var r=si,n=Rhe,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Vv,Vv.exports);var U5=Vv.exports,Mhe=9007199254740991,$he=/^(?:0|[1-9]\d*)$/;function Ihe(e,t){var r=typeof e;return t=t??Mhe,!!t&&(r=="number"||r!="symbol"&&$he.test(e))&&e>-1&&e%1==0&&e<t}var ok=Ihe,Dhe=9007199254740991;function Lhe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Dhe}var lk=Lhe,Fhe=Yi,Uhe=lk,Bhe=Qi,qhe="[object Arguments]",zhe="[object Array]",Whe="[object Boolean]",Vhe="[object Date]",Khe="[object Error]",Hhe="[object Function]",Ghe="[object Map]",Yhe="[object Number]",Qhe="[object Object]",Xhe="[object RegExp]",Jhe="[object Set]",Zhe="[object String]",eme="[object WeakMap]",tme="[object ArrayBuffer]",rme="[object DataView]",nme="[object Float32Array]",sme="[object Float64Array]",ame="[object Int8Array]",ime="[object Int16Array]",ome="[object Int32Array]",lme="[object Uint8Array]",cme="[object Uint8ClampedArray]",ume="[object Uint16Array]",dme="[object Uint32Array]",er={};er[nme]=er[sme]=er[ame]=er[ime]=er[ome]=er[lme]=er[cme]=er[ume]=er[dme]=!0;er[qhe]=er[zhe]=er[tme]=er[Whe]=er[rme]=er[Vhe]=er[Khe]=er[Hhe]=er[Ghe]=er[Yhe]=er[Qhe]=er[Xhe]=er[Jhe]=er[Zhe]=er[eme]=!1;function fme(e){return Bhe(e)&&Uhe(e.length)&&!!er[Fhe(e)]}var hme=fme;function mme(e){return function(t){return e(t)}}var B5=mme,Kv={exports:{}};Kv.exports;(function(e,t){var r=YF,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Kv,Kv.exports);var pme=Kv.exports,gme=hme,vme=B5,fP=pme,hP=fP&&fP.isTypedArray,yme=hP?vme(hP):gme,q5=yme,xme=jhe,bme=ik,wme=Hn,jme=U5,_me=ok,Sme=q5,Nme=Object.prototype,kme=Nme.hasOwnProperty;function Cme(e,t){var r=wme(e),n=!r&&bme(e),s=!r&&!n&&jme(e),i=!r&&!n&&!s&&Sme(e),o=r||n||s||i,l=o?xme(e.length,String):[],c=l.length;for(var u in e)(t||kme.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||_me(u,c)))&&l.push(u);return l}var Eme=Cme,Ome=Object.prototype;function Pme(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ome;return e===r}var Ame=Pme;function Tme(e,t){return function(r){return e(t(r))}}var z5=Tme,Rme=z5,Mme=Rme(Object.keys,Object),$me=Mme,Ime=Ame,Dme=$me,Lme=Object.prototype,Fme=Lme.hasOwnProperty;function Ume(e){if(!Ime(e))return Dme(e);var t=[];for(var r in Object(e))Fme.call(e,r)&&r!="constructor"&&t.push(r);return t}var Bme=Ume,qme=zN,zme=lk;function Wme(e){return e!=null&&zme(e.length)&&!qme(e)}var dp=Wme,Vme=Eme,Kme=Bme,Hme=dp;function Gme(e){return Hme(e)?Vme(e):Kme(e)}var ib=Gme,Yme=uhe,Qme=bhe,Xme=ib;function Jme(e){return Yme(e,Xme,Qme)}var Zme=Jme,mP=Zme,epe=1,tpe=Object.prototype,rpe=tpe.hasOwnProperty;function npe(e,t,r,n,s,i){var o=r&epe,l=mP(e),c=l.length,u=mP(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:rpe.call(t,h)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var y=o;++f<c;){h=l[f];var b=e[h],v=t[h];if(n)var w=o?n(v,b,h,t,e,i):n(b,v,h,e,t,i);if(!(w===void 0?b===v||s(b,v,r,n,i):w)){p=!1;break}y||(y=h=="constructor")}if(p&&!y){var S=e.constructor,j=t.constructor;S!=j&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var spe=npe,ape=Cc,ipe=si,ope=ape(ipe,"DataView"),lpe=ope,cpe=Cc,upe=si,dpe=cpe(upe,"Promise"),fpe=dpe,hpe=Cc,mpe=si,ppe=hpe(mpe,"Set"),W5=ppe,gpe=Cc,vpe=si,ype=gpe(vpe,"WeakMap"),xpe=ype,E_=lpe,O_=VN,P_=fpe,A_=W5,T_=xpe,V5=Yi,nf=XF,pP="[object Map]",bpe="[object Object]",gP="[object Promise]",vP="[object Set]",yP="[object WeakMap]",xP="[object DataView]",wpe=nf(E_),jpe=nf(O_),_pe=nf(P_),Spe=nf(A_),Npe=nf(T_),Nl=V5;(E_&&Nl(new E_(new ArrayBuffer(1)))!=xP||O_&&Nl(new O_)!=pP||P_&&Nl(P_.resolve())!=gP||A_&&Nl(new A_)!=vP||T_&&Nl(new T_)!=yP)&&(Nl=function(e){var t=V5(e),r=t==bpe?e.constructor:void 0,n=r?nf(r):"";if(n)switch(n){case wpe:return xP;case jpe:return pP;case _pe:return gP;case Spe:return vP;case Npe:return yP}return t});var kpe=Nl,Ww=R5,Cpe=D5,Epe=ahe,Ope=spe,bP=kpe,wP=Hn,jP=U5,Ppe=q5,Ape=1,_P="[object Arguments]",SP="[object Array]",ng="[object Object]",Tpe=Object.prototype,NP=Tpe.hasOwnProperty;function Rpe(e,t,r,n,s,i){var o=wP(e),l=wP(t),c=o?SP:bP(e),u=l?SP:bP(t);c=c==_P?ng:c,u=u==_P?ng:u;var d=c==ng,f=u==ng,h=c==u;if(h&&jP(e)){if(!jP(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Ww),o||Ppe(e)?Cpe(e,t,r,n,s,i):Epe(e,t,c,r,n,s,i);if(!(r&Ape)){var m=d&&NP.call(e,"__wrapped__"),g=f&&NP.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,y=g?t.value():t;return i||(i=new Ww),s(p,y,r,n,i)}}return h?(i||(i=new Ww),Ope(e,t,r,n,s,i)):!1}var Mpe=Rpe,$pe=Mpe,kP=Qi;function K5(e,t,r,n,s){return e===t?!0:e==null||t==null||!kP(e)&&!kP(t)?e!==e&&t!==t:$pe(e,t,r,n,K5,s)}var ck=K5,Ipe=R5,Dpe=ck,Lpe=1,Fpe=2;function Upe(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Ipe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Dpe(d,u,Lpe|Fpe,n,f):h))return!1}}return!0}var Bpe=Upe,qpe=dl;function zpe(e){return e===e&&!qpe(e)}var H5=zpe,Wpe=H5,Vpe=ib;function Kpe(e){for(var t=Vpe(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,Wpe(s)]}return t}var Hpe=Kpe;function Gpe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var G5=Gpe,Ype=Bpe,Qpe=Hpe,Xpe=G5;function Jpe(e){var t=Qpe(e);return t.length==1&&t[0][2]?Xpe(t[0][0],t[0][1]):function(r){return r===e||Ype(r,e,t)}}var Zpe=Jpe;function ege(e,t){return e!=null&&t in Object(e)}var tge=ege,rge=r5,nge=ik,sge=Hn,age=ok,ige=lk,oge=Vx;function lge(e,t,r){t=rge(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=oge(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&ige(s)&&age(o,s)&&(sge(e)||nge(e)))}var cge=lge,uge=tge,dge=cge;function fge(e,t){return e!=null&&dge(e,t,uge)}var hge=fge,mge=ck,pge=n5,gge=hge,vge=qN,yge=H5,xge=G5,bge=Vx,wge=1,jge=2;function _ge(e,t){return vge(e)&&yge(t)?xge(bge(e),t):function(r){var n=pge(r,e);return n===void 0&&n===t?gge(r,e):mge(t,n,wge|jge)}}var Sge=_ge;function Nge(e){return e}var sf=Nge;function kge(e){return function(t){return t==null?void 0:t[e]}}var Cge=kge,Ege=YN;function Oge(e){return function(t){return Ege(t,e)}}var Pge=Oge,Age=Cge,Tge=Pge,Rge=qN,Mge=Vx;function $ge(e){return Rge(e)?Age(Mge(e)):Tge(e)}var Ige=$ge,Dge=Zpe,Lge=Sge,Fge=sf,Uge=Hn,Bge=Ige;function qge(e){return typeof e=="function"?e:e==null?Fge:typeof e=="object"?Uge(e)?Lge(e[0],e[1]):Dge(e):Bge(e)}var fl=qge;function zge(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var Y5=zge;function Wge(e){return e!==e}var Vge=Wge;function Kge(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var Hge=Kge,Gge=Y5,Yge=Vge,Qge=Hge;function Xge(e,t,r){return t===t?Qge(e,t,r):Gge(e,Yge,r)}var Jge=Xge,Zge=Jge;function eve(e,t){var r=e==null?0:e.length;return!!r&&Zge(e,t,0)>-1}var tve=eve;function rve(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var nve=rve;function sve(){}var ave=sve,Vw=W5,ive=ave,ove=ak,lve=1/0,cve=Vw&&1/ove(new Vw([,-0]))[1]==lve?function(e){return new Vw(e)}:ive,uve=cve,dve=M5,fve=tve,hve=nve,mve=I5,pve=uve,gve=ak,vve=200;function yve(e,t,r){var n=-1,s=fve,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=hve;else if(i>=vve){var u=t?null:pve(e);if(u)return gve(u);o=!1,s=mve,c=new dve}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var xve=yve,bve=fl,wve=xve;function jve(e,t){return e&&e.length?wve(e,bve(t)):[]}var _ve=jve;const CP=qt(_ve);function Q5(e,t,r){return t===!0?CP(e,r):nt(t)?CP(e,t):e}function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}var Sve=["ref"];function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){ob(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J5(n.key),n)}}function kve(e,t,r){return t&&OP(e.prototype,t),r&&OP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cve(e,t,r){return t=Hv(t),Eve(e,X5()?Reflect.construct(t,r||[],Hv(e).constructor):t.apply(e,r))}function Eve(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ove(e)}function Ove(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X5=function(){return!!e})()}function Hv(e){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hv(e)}function Pve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R_(e,t)}function R_(e,t){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},R_(e,t)}function ob(e,t,r){return t=J5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J5(e){var t=Ave(e,"string");return hd(t)=="symbol"?t:t+""}function Ave(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Tve(e,t){if(e==null)return{};var r=Rve(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mve(e){return e.value}function $ve(e,t){if(P.isValidElement(e))return P.cloneElement(e,t);if(typeof e=="function")return P.createElement(e,t);t.ref;var r=Tve(t,Sve);return P.createElement(sk,r)}var PP=1,Pu=function(e){function t(){var r;Nve(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Cve(this,t,[].concat(s)),ob(r,"lastBoundingBox",{width:-1,height:-1}),r}return Pve(t,e),kve(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>PP||Math.abs(s.height-this.lastBoundingBox.height)>PP)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return li(li({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=li(li({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return P.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},$ve(i,li(li({},this.props),{},{payload:Q5(d,u,Mve)})))}}],[{key:"getWithHeight",value:function(n,s){var i=li(li({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ve(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(x.PureComponent);ob(Pu,"displayName","Legend");ob(Pu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var AP=cp,Ive=ik,Dve=Hn,TP=AP?AP.isConcatSpreadable:void 0;function Lve(e){return Dve(e)||Ive(e)||!!(TP&&e&&e[TP])}var Fve=Lve,Uve=L5,Bve=Fve;function Z5(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=Bve),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?Z5(l,t-1,r,n,s):Uve(s,l):n||(s[s.length]=l)}return s}var eU=Z5;function qve(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var zve=qve,Wve=zve,Vve=Wve(),Kve=Vve,Hve=Kve,Gve=ib;function Yve(e,t){return e&&Hve(e,t,Gve)}var tU=Yve,Qve=dp;function Xve(e,t){return function(r,n){if(r==null)return r;if(!Qve(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var Jve=Xve,Zve=tU,eye=Jve,tye=eye(Zve),uk=tye,rye=uk,nye=dp;function sye(e,t){var r=-1,n=nye(e)?Array(e.length):[];return rye(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var rU=sye;function aye(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var iye=aye,RP=Qd;function oye(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=RP(e),o=t!==void 0,l=t===null,c=t===t,u=RP(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var lye=oye,cye=lye;function uye(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=cye(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var dye=uye,Kw=GN,fye=YN,hye=fl,mye=rU,pye=iye,gye=B5,vye=dye,yye=sf,xye=Hn;function bye(e,t,r){t.length?t=Kw(t,function(i){return xye(i)?function(o){return fye(o,i.length===1?i[0]:i)}:i}):t=[yye];var n=-1;t=Kw(t,gye(hye));var s=mye(e,function(i,o,l){var c=Kw(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return pye(s,function(i,o){return vye(i,o,r)})}var wye=bye;function jye(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _ye=jye,Sye=_ye,MP=Math.max;function Nye(e,t,r){return t=MP(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=MP(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),Sye(e,this,l)}}var kye=Nye;function Cye(e){return function(){return e}}var Eye=Cye,Oye=Cc,Pye=function(){try{var e=Oye(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nU=Pye,Aye=Eye,$P=nU,Tye=sf,Rye=$P?function(e,t){return $P(e,"toString",{configurable:!0,enumerable:!1,value:Aye(t),writable:!0})}:Tye,Mye=Rye,$ye=800,Iye=16,Dye=Date.now;function Lye(e){var t=0,r=0;return function(){var n=Dye(),s=Iye-(n-r);if(r=n,s>0){if(++t>=$ye)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Fye=Lye,Uye=Mye,Bye=Fye,qye=Bye(Uye),zye=qye,Wye=sf,Vye=kye,Kye=zye;function Hye(e,t){return Kye(Vye(e,t,Wye),e+"")}var Gye=Hye,Yye=WN,Qye=dp,Xye=ok,Jye=dl;function Zye(e,t,r){if(!Jye(r))return!1;var n=typeof t;return(n=="number"?Qye(r)&&Xye(t,r.length):n=="string"&&t in r)?Yye(r[t],e):!1}var lb=Zye,exe=eU,txe=wye,rxe=Gye,IP=lb,nxe=rxe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&IP(e,t[0],t[1])?t=[]:r>2&&IP(t[0],t[1],t[2])&&(t=[t[0]]),txe(e,exe(t,1),[])}),sxe=nxe;const dk=qt(sxe);function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M_.apply(this,arguments)}function axe(e,t){return cxe(e)||lxe(e,t)||oxe(e,t)||ixe()}function ixe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oxe(e,t){if(e){if(typeof e=="string")return DP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DP(e,t)}}function DP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function cxe(e){if(Array.isArray(e))return e}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){uxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uxe(e,t,r){return t=dxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dxe(e){var t=fxe(e,"string");return sm(t)=="symbol"?t:t+""}function fxe(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hxe(e){return Array.isArray(e)&&Br(e[0])&&Br(e[1])?e.join(" ~ "):e}var mxe=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,y=t.labelFormatter,b=t.accessibilityLayer,v=b===void 0?!1:b,w=function(){if(d&&d.length){var O={padding:0,margin:0},B=(h?dk(d,h):d).map(function(T,z){if(T.type==="none")return null;var R=Hw({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},l),V=T.formatter||f||hxe,D=T.value,$=T.name,M=D,te=$;if(V&&M!=null&&te!=null){var Q=V(D,$,T,z,d);if(Array.isArray(Q)){var le=axe(Q,2);M=le[0],te=le[1]}else M=Q}return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:R},Br(te)?P.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Br(te)?P.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,P.createElement("span",{className:"recharts-tooltip-item-value"},M),P.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:O},B)}return null},S=Hw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=Hw({margin:0},u),_=!vt(p),N=_?p:"",k=wt("recharts-default-tooltip",m),C=wt("recharts-tooltip-label",g);_&&y&&d!==void 0&&d!==null&&(N=y(p,d));var A=v?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",M_({className:k,style:S},A),P.createElement("p",{className:C,style:j},P.isValidElement(N)?N:"".concat(N)),w())};function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function sg(e,t,r){return t=pxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pxe(e){var t=gxe(e,"string");return am(t)=="symbol"?t:t+""}function gxe(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pf="recharts-tooltip-wrapper",vxe={visibility:"hidden"};function yxe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return wt(Pf,sg(sg(sg(sg({},"".concat(Pf,"-right"),ve(r)&&t&&ve(t.x)&&r>=t.x),"".concat(Pf,"-left"),ve(r)&&t&&ve(t.x)&&r<t.x),"".concat(Pf,"-bottom"),ve(n)&&t&&ve(t.y)&&n>=t.y),"".concat(Pf,"-top"),ve(n)&&t&&ve(t.y)&&n<t.y))}function FP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ve(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function xxe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function bxe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=FP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=FP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=xxe({translateX:d,translateY:f,useTranslate3d:l})):u=vxe,{cssProperties:u,cssClasses:yxe({translateX:d,translateY:f,coordinate:r})}}function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){I_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aU(n.key),n)}}function _xe(e,t,r){return t&&jxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sxe(e,t,r){return t=Gv(t),Nxe(e,sU()?Reflect.construct(t,r||[],Gv(e).constructor):t.apply(e,r))}function Nxe(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kxe(e)}function kxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sU=function(){return!!e})()}function Gv(e){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gv(e)}function Cxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$_(e,t)}function $_(e,t){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$_(e,t)}function I_(e,t,r){return t=aU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aU(e){var t=Exe(e,"string");return md(t)=="symbol"?t:t+""}function Exe(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qP=1,Oxe=function(e){function t(){var r;wxe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Sxe(this,t,[].concat(s)),I_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),I_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Cxe(t,e),_xe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>qP||Math.abs(n.height-this.state.lastBoundingBox.height)>qP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,g=s.position,p=s.reverseDirection,y=s.useTranslate3d,b=s.viewBox,v=s.wrapperStyle,w=bxe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),S=w.cssClasses,j=w.cssProperties,_=BP(BP({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return P.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(k){n.wrapperNode=k}},u)}}])}(x.PureComponent),Pxe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},af={isSsr:Pxe()};function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){fk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Axe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Txe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oU(n.key),n)}}function Rxe(e,t,r){return t&&Txe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mxe(e,t,r){return t=Yv(t),$xe(e,iU()?Reflect.construct(t,r||[],Yv(e).constructor):t.apply(e,r))}function $xe(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ixe(e)}function Ixe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iU=function(){return!!e})()}function Yv(e){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yv(e)}function Dxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D_(e,t)}function D_(e,t){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},D_(e,t)}function fk(e,t,r){return t=oU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oU(e){var t=Lxe(e,"string");return pd(t)=="symbol"?t:t+""}function Lxe(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Fxe(e){return e.dataKey}function Uxe(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(mxe,t)}var bs=function(e){function t(){return Axe(this,t),Mxe(this,t,arguments)}return Dxe(t,e),Rxe(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,g=s.payload,p=s.payloadUniqBy,y=s.position,b=s.reverseDirection,v=s.useTranslate3d,w=s.viewBox,S=s.wrapperStyle,j=g??[];f&&j.length&&(j=Q5(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,Fxe));var _=j.length>0;return P.createElement(Oxe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:_,offset:m,position:y,reverseDirection:b,useTranslate3d:v,viewBox:w,wrapperStyle:S},Uxe(u,WP(WP({},this.props),{},{payload:j})))}}])}(x.PureComponent);fk(bs,"displayName","Tooltip");fk(bs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!af.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Bxe=si,qxe=function(){return Bxe.Date.now()},zxe=qxe,Wxe=/\s/;function Vxe(e){for(var t=e.length;t--&&Wxe.test(e.charAt(t)););return t}var Kxe=Vxe,Hxe=Kxe,Gxe=/^\s+/;function Yxe(e){return e&&e.slice(0,Hxe(e)+1).replace(Gxe,"")}var Qxe=Yxe,Xxe=Qxe,VP=dl,Jxe=Qd,KP=NaN,Zxe=/^[-+]0x[0-9a-f]+$/i,ebe=/^0b[01]+$/i,tbe=/^0o[0-7]+$/i,rbe=parseInt;function nbe(e){if(typeof e=="number")return e;if(Jxe(e))return KP;if(VP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=VP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Xxe(e);var r=ebe.test(e);return r||tbe.test(e)?rbe(e.slice(2),r?2:8):Zxe.test(e)?KP:+e}var lU=nbe,sbe=dl,Gw=zxe,HP=lU,abe="Expected a function",ibe=Math.max,obe=Math.min;function lbe(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(abe);t=HP(t)||0,sbe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?ibe(HP(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(_){var N=n,k=s;return n=s=void 0,u=_,o=e.apply(k,N),o}function g(_){return u=_,l=setTimeout(b,t),d?m(_):o}function p(_){var N=_-c,k=_-u,C=t-N;return f?obe(C,i-k):C}function y(_){var N=_-c,k=_-u;return c===void 0||N>=t||N<0||f&&k>=i}function b(){var _=Gw();if(y(_))return v(_);l=setTimeout(b,p(_))}function v(_){return l=void 0,h&&n?m(_):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function S(){return l===void 0?o:v(Gw())}function j(){var _=Gw(),N=y(_);if(n=arguments,s=this,c=_,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=w,j.flush=S,j}var cbe=lbe,ube=cbe,dbe=dl,fbe="Expected a function";function hbe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(fbe);return dbe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),ube(e,t,{leading:n,maxWait:t,trailing:s})}var mbe=hbe;const cU=qt(mbe);function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ag(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){pbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pbe(e,t,r){return t=gbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gbe(e){var t=vbe(e,"string");return im(t)=="symbol"?t:t+""}function vbe(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ybe(e,t){return jbe(e)||wbe(e,t)||bbe(e,t)||xbe()}function xbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bbe(e,t){if(e){if(typeof e=="string")return YP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YP(e,t)}}function YP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function jbe(e){if(Array.isArray(e))return e}var L_=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,y=e.id,b=e.className,v=e.onResize,w=e.style,S=w===void 0?{}:w,j=x.useRef(null),_=x.useRef();_.current=v,x.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=x.useState({containerWidth:s.width,containerHeight:s.height}),k=ybe(N,2),C=k[0],A=k[1],I=x.useCallback(function(B,T){A(function(z){var R=Math.round(B),V=Math.round(T);return z.containerWidth===R&&z.containerHeight===V?z:{containerWidth:R,containerHeight:V}})},[]);x.useEffect(function(){var B=function($){var M,te=$[0].contentRect,Q=te.width,le=te.height;I(Q,le),(M=_.current)===null||M===void 0||M.call(_,Q,le)};p>0&&(B=cU(B,p,{trailing:!0,leading:!1}));var T=new ResizeObserver(B),z=j.current.getBoundingClientRect(),R=z.width,V=z.height;return I(R,V),T.observe(j.current),function(){T.disconnect()}},[I,p]);var O=x.useMemo(function(){var B=C.containerWidth,T=C.containerHeight;if(B<0||T<0)return null;Ci(Il(o)||Il(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ci(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=Il(o)?B:o,R=Il(c)?T:c;r&&r>0&&(z?R=z/r:R&&(z=R*r),h&&R>h&&(R=h)),Ci(z>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,R,o,c,d,f,r);var V=!Array.isArray(m)&&ki(m.type).endsWith("Chart");return P.Children.map(m,function(D){return P.isValidElement(D)?x.cloneElement(D,ag({width:z,height:R},V?{style:ag({height:"100%",width:"100%",maxHeight:R,maxWidth:z},D.props.style)}:{})):D})},[r,m,c,h,f,d,C,o]);return P.createElement("div",{id:y?"".concat(y):void 0,className:wt("recharts-responsive-container",b),style:ag(ag({},S),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},O)}),uU=function(t){return null};uU.displayName="Cell";function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function F_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){_be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _be(e,t,r){return t=Sbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sbe(e){var t=Nbe(e,"string");return om(t)=="symbol"?t:t+""}function Nbe(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yc={widthCache:{},cacheCount:0},kbe=2e3,Cbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XP="recharts_measurement_span";function Ebe(e){var t=F_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ph=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||af.isSsr)return{width:0,height:0};var n=Ebe(r),s=JSON.stringify({text:t,copyStyle:n});if(Yc.widthCache[s])return Yc.widthCache[s];try{var i=document.getElementById(XP);i||(i=document.createElement("span"),i.setAttribute("id",XP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=F_(F_({},Cbe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Yc.widthCache[s]=c,++Yc.cacheCount>kbe&&(Yc.cacheCount=0,Yc.widthCache={}),c}catch{return{width:0,height:0}}},Obe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function Qv(e,t){return Rbe(e)||Tbe(e,t)||Abe(e,t)||Pbe()}function Pbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Abe(e,t){if(e){if(typeof e=="string")return JP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JP(e,t)}}function JP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Rbe(e){if(Array.isArray(e))return e}function Mbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ibe(n.key),n)}}function $be(e,t,r){return t&&ZP(e.prototype,t),r&&ZP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ibe(e){var t=Dbe(e,"string");return lm(t)=="symbol"?t:t+""}function Dbe(e,t){if(lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ube=Object.keys(dU),gu="NaN";function Bbe(e,t){return e*dU[t]}var ig=function(){function e(t,r){Mbe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Lbe.test(r)&&(this.num=NaN,this.unit=""),Ube.includes(r)&&(this.num=Bbe(t,r),this.unit="px")}return $be(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Fbe.exec(r))!==null&&n!==void 0?n:[],i=Qv(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function fU(e){if(e.includes(gu))return gu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=eA.exec(t))!==null&&r!==void 0?r:[],s=Qv(n,4),i=s[1],o=s[2],l=s[3],c=ig.parse(i??""),u=ig.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return gu;t=t.replace(eA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=tA.exec(t))!==null&&f!==void 0?f:[],m=Qv(h,4),g=m[1],p=m[2],y=m[3],b=ig.parse(g??""),v=ig.parse(y??""),w=p==="+"?b.add(v):b.subtract(v);if(w.isNaN())return gu;t=t.replace(tA,w.toString())}return t}var rA=/\(([^()]*)\)/;function qbe(e){for(var t=e;t.includes("(");){var r=rA.exec(t),n=Qv(r,2),s=n[1];t=t.replace(rA,fU(s))}return t}function zbe(e){var t=e.replace(/\s+/g,"");return t=qbe(t),t=fU(t),t}function Wbe(e){try{return zbe(e)}catch{return gu}}function Yw(e){var t=Wbe(e.slice(5,-1));return t===gu?"":t}var Vbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Kbe=["dx","dy","angle","className","breakAll"];function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U_.apply(this,arguments)}function nA(e,t){if(e==null)return{};var r=Hbe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sA(e,t){return Xbe(e)||Qbe(e,t)||Ybe(e,t)||Gbe()}function Gbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ybe(e,t){if(e){if(typeof e=="string")return aA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aA(e,t)}}function aA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Xbe(e){if(Array.isArray(e))return e}var hU=/[ \f\n\r\t\v\u2028\u2029]+/,mU=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];vt(r)||(n?i=r.toString().split(""):i=r.toString().split(hU));var o=i.map(function(c){return{word:c,width:ph(c,s).width}}),l=n?0:ph("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Jbe=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ve(o),f=l,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(R,V){var D=V.word,$=V.width,M=R[R.length-1];if(M&&(s==null||i||M.width+$+n<Number(s)))M.words.push(D),M.width+=$+n;else{var te={words:[D],width:$};R.push(te)}return R},[])},m=h(r),g=function(z){return z.reduce(function(R,V){return R.width>V.width?R:V})};if(!d)return m;for(var p="",y=function(z){var R=f.slice(0,z),V=mU({breakAll:u,style:c,children:R+p}).wordsWithComputedWidth,D=h(V),$=D.length>o||g(D).width>Number(s);return[$,D]},b=0,v=f.length-1,w=0,S;b<=v&&w<=f.length-1;){var j=Math.floor((b+v)/2),_=j-1,N=y(_),k=sA(N,2),C=k[0],A=k[1],I=y(j),O=sA(I,1),B=O[0];if(!C&&!B&&(b=j+1),C&&B&&(v=j-1),!C&&B){S=A;break}w++}return S||m},iA=function(t){var r=vt(t)?[]:t.toString().split(hU);return[{words:r}]},Zbe=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!af.isSsr){var c,u,d=mU({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return iA(s);return Jbe({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return iA(s)},oA="#808080",Xv=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,y=t.fill,b=y===void 0?oA:y,v=nA(t,Vbe),w=x.useMemo(function(){return Zbe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),S=v.dx,j=v.dy,_=v.angle,N=v.className,k=v.breakAll,C=nA(v,Kbe);if(!Br(n)||!Br(i))return null;var A=n+(ve(S)?S:0),I=i+(ve(j)?j:0),O;switch(p){case"start":O=Yw("calc(".concat(u,")"));break;case"middle":O=Yw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=Yw("calc(".concat(w.length-1," * -").concat(l,")"));break}var B=[];if(f){var T=w[0].width,z=v.width;B.push("scale(".concat((ve(z)?z/T:1)/T,")"))}return _&&B.push("rotate(".concat(_,", ").concat(A,", ").concat(I,")")),B.length&&(C.transform=B.join(" ")),P.createElement("text",U_({},mt(C,!0),{x:A,y:I,className:wt("recharts-text",N),textAnchor:m,fill:b.includes("url")?oA:b}),w.map(function(R,V){var D=R.words.join(k?"":" ");return P.createElement("tspan",{x:A,dy:V===0?O:l,key:"".concat(D,"-").concat(V)},D)}))};function Yo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ewe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hk(e){let t,r,n;e.length!==2?(t=Yo,r=(l,c)=>Yo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Yo||e===ewe?e:twe,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function twe(){return 0}function pU(e){return e===null?NaN:+e}function*rwe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const nwe=hk(Yo),fp=nwe.right;hk(pU).center;class lA extends Map{constructor(t,r=iwe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(cA(this,t))}has(t){return super.has(cA(this,t))}set(t,r){return super.set(swe(this,t),r)}delete(t){return super.delete(awe(this,t))}}function cA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function swe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function awe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function iwe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function owe(e=Yo){if(e===Yo)return gU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function gU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const lwe=Math.sqrt(50),cwe=Math.sqrt(10),uwe=Math.sqrt(2);function Jv(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=lwe?10:i>=cwe?5:i>=uwe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Jv(e,t,r*2):[l,c,u]}function B_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Jv(t,e,r):Jv(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function q_(e,t,r){return t=+t,e=+e,r=+r,Jv(e,t,r)[2]}function z_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?q_(t,e,r):q_(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function uA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function dA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vU(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?gU:owe(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));vU(e,t,m,g,s)}const i=e[t];let o=r,l=n;for(Af(e,r,t),s(e[n],i)>0&&Af(e,r,n);o<l;){for(Af(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Af(e,r,l):(++l,Af(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Af(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function dwe(e,t,r){if(e=Float64Array.from(rwe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return dA(e);if(t>=1)return uA(e);var n,s=(n-1)*t,i=Math.floor(s),o=uA(vU(e,i).subarray(0,i+1)),l=dA(e.subarray(i+1));return o+(l-o)*(s-i)}}function fwe(e,t,r=pU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function hwe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Us(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const W_=Symbol("implicit");function mk(){var e=new lA,t=[],r=[],n=W_;function s(i){let o=e.get(i);if(o===void 0){if(n!==W_)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new lA;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return mk(t,r).unknown(n)},Us.apply(s,arguments),s}function cm(){var e=mk().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,g=m?s:n,p=m?n:s;i=(p-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=hwe(h).map(function(b){return g+i*b});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return cm(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Us.apply(f(),arguments)}function yU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return yU(t())},e}function gh(){return yU(cm.apply(null,arguments).paddingInner(1))}function pk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function xU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function hp(){}var um=.7,Zv=1/um,Au="\\s*([+-]?\\d+)\\s*",dm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ka="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mwe=/^#([0-9a-f]{3,8})$/,pwe=new RegExp(`^rgb\\(${Au},${Au},${Au}\\)$`),gwe=new RegExp(`^rgb\\(${Ka},${Ka},${Ka}\\)$`),vwe=new RegExp(`^rgba\\(${Au},${Au},${Au},${dm}\\)$`),ywe=new RegExp(`^rgba\\(${Ka},${Ka},${Ka},${dm}\\)$`),xwe=new RegExp(`^hsl\\(${dm},${Ka},${Ka}\\)$`),bwe=new RegExp(`^hsla\\(${dm},${Ka},${Ka},${dm}\\)$`),fA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pk(hp,fm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hA,formatHex:hA,formatHex8:wwe,formatHsl:jwe,formatRgb:mA,toString:mA});function hA(){return this.rgb().formatHex()}function wwe(){return this.rgb().formatHex8()}function jwe(){return bU(this).formatHsl()}function mA(){return this.rgb().formatRgb()}function fm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=mwe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?pA(t):r===3?new Un(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?og(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?og(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pwe.exec(e))?new Un(t[1],t[2],t[3],1):(t=gwe.exec(e))?new Un(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vwe.exec(e))?og(t[1],t[2],t[3],t[4]):(t=ywe.exec(e))?og(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xwe.exec(e))?yA(t[1],t[2]/100,t[3]/100,1):(t=bwe.exec(e))?yA(t[1],t[2]/100,t[3]/100,t[4]):fA.hasOwnProperty(e)?pA(fA[e]):e==="transparent"?new Un(NaN,NaN,NaN,0):null}function pA(e){return new Un(e>>16&255,e>>8&255,e&255,1)}function og(e,t,r,n){return n<=0&&(e=t=r=NaN),new Un(e,t,r,n)}function _we(e){return e instanceof hp||(e=fm(e)),e?(e=e.rgb(),new Un(e.r,e.g,e.b,e.opacity)):new Un}function V_(e,t,r,n){return arguments.length===1?_we(e):new Un(e,t,r,n??1)}function Un(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}pk(Un,V_,xU(hp,{brighter(e){return e=e==null?Zv:Math.pow(Zv,e),new Un(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?um:Math.pow(um,e),new Un(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Un(Jl(this.r),Jl(this.g),Jl(this.b),ey(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gA,formatHex:gA,formatHex8:Swe,formatRgb:vA,toString:vA}));function gA(){return`#${Dl(this.r)}${Dl(this.g)}${Dl(this.b)}`}function Swe(){return`#${Dl(this.r)}${Dl(this.g)}${Dl(this.b)}${Dl((isNaN(this.opacity)?1:this.opacity)*255)}`}function vA(){const e=ey(this.opacity);return`${e===1?"rgb(":"rgba("}${Jl(this.r)}, ${Jl(this.g)}, ${Jl(this.b)}${e===1?")":`, ${e})`}`}function ey(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dl(e){return e=Jl(e),(e<16?"0":"")+e.toString(16)}function yA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new la(e,t,r,n)}function bU(e){if(e instanceof la)return new la(e.h,e.s,e.l,e.opacity);if(e instanceof hp||(e=fm(e)),!e)return new la;if(e instanceof la)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new la(o,l,c,e.opacity)}function Nwe(e,t,r,n){return arguments.length===1?bU(e):new la(e,t,r,n??1)}function la(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}pk(la,Nwe,xU(hp,{brighter(e){return e=e==null?Zv:Math.pow(Zv,e),new la(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?um:Math.pow(um,e),new la(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Un(Qw(e>=240?e-240:e+120,s,n),Qw(e,s,n),Qw(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new la(xA(this.h),lg(this.s),lg(this.l),ey(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ey(this.opacity);return`${e===1?"hsl(":"hsla("}${xA(this.h)}, ${lg(this.s)*100}%, ${lg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xA(e){return e=(e||0)%360,e<0?e+360:e}function lg(e){return Math.max(0,Math.min(1,e||0))}function Qw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const gk=e=>()=>e;function kwe(e,t){return function(r){return e+r*t}}function Cwe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Ewe(e){return(e=+e)==1?wU:function(t,r){return r-t?Cwe(t,r,e):gk(isNaN(t)?r:t)}}function wU(e,t){var r=t-e;return r?kwe(e,r):gk(isNaN(e)?t:e)}const bA=function e(t){var r=Ewe(t);function n(s,i){var o=r((s=V_(s)).r,(i=V_(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=wU(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function Owe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Pwe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Awe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=of(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function Twe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ty(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Rwe(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=of(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var K_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xw=new RegExp(K_.source,"g");function Mwe(e){return function(){return e}}function $we(e){return function(t){return e(t)+""}}function Iwe(e,t){var r=K_.lastIndex=Xw.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=K_.exec(e))&&(s=Xw.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:ty(n,s)})),r=Xw.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?$we(c[0].x):Mwe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function of(e,t){var r=typeof t,n;return t==null||r==="boolean"?gk(t):(r==="number"?ty:r==="string"?(n=fm(t))?(t=n,bA):Iwe:t instanceof fm?bA:t instanceof Date?Twe:Pwe(t)?Owe:Array.isArray(t)?Awe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Rwe:ty)(e,t)}function vk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Dwe(e,t){t===void 0&&(t=e,e=of);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Lwe(e){return function(){return e}}function ry(e){return+e}var wA=[0,1];function _n(e){return e}function H_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Lwe(isNaN(t)?NaN:.5)}function Fwe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Uwe(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=H_(s,n),i=r(o,i)):(n=H_(n,s),i=r(i,o)),function(l){return i(n(l))}}function Bwe(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=H_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=fp(e,l,1,n)-1;return i[c](s[c](l))}}function mp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cb(){var e=wA,t=wA,r=of,n,s,i,o=_n,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==_n&&(o=Fwe(e[0],e[h-1])),l=h>2?Bwe:Uwe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),ty)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ry),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=vk,d()},f.clamp=function(h){return arguments.length?(o=h?!0:_n,d()):o!==_n},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,s=m,d()}}function yk(){return cb()(_n,_n)}function qwe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ny(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gd(e){return e=ny(Math.abs(e)),e?e[1]:NaN}function zwe(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Wwe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Vwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hm(e){if(!(t=Vwe.exec(e)))throw new Error("invalid format: "+e);var t;return new xk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hm.prototype=xk.prototype;function xk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kwe(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var sy;function Hwe(e,t){var r=ny(e,t);if(!r)return sy=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(sy=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ny(e,Math.max(0,t+i-1))[0]}function jA(e,t){var r=ny(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const _A={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qwe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jA(e*100,t),r:jA,s:Hwe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function SA(e){return e}var NA=Array.prototype.map,kA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Gwe(e){var t=e.grouping===void 0||e.thousands===void 0?SA:zwe(NA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?SA:Wwe(NA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=hm(f);var m=f.fill,g=f.align,p=f.sign,y=f.symbol,b=f.zero,v=f.width,w=f.comma,S=f.precision,j=f.trim,_=f.type;_==="n"?(w=!0,_="g"):_A[_]||(S===void 0&&(S=12),j=!0,_="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():""),k=(y==="$"?n:/[%p]/.test(_)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),C=_A[_],A=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(O){var B=N,T=k,z,R,V;if(_==="c")T=C(O)+T,O="";else{O=+O;var D=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),S),j&&(O=Kwe(O)),D&&+O==0&&p!=="+"&&(D=!1),B=(D?p==="("?p:l:p==="-"||p==="("?"":p)+B,T=(_==="s"&&!isNaN(O)&&sy!==void 0?kA[8+sy/3]:"")+T+(D&&p==="("?")":""),A){for(z=-1,R=O.length;++z<R;)if(V=O.charCodeAt(z),48>V||V>57){T=(V===46?s+O.slice(z+1):O.slice(z))+T,O=O.slice(0,z);break}}}w&&!b&&(O=t(O,1/0));var $=B.length+O.length+T.length,M=$<v?new Array(v-$+1).join(m):"";switch(w&&b&&(O=t(M+O,M.length?v-T.length:1/0),M=""),g){case"<":O=B+O+T+M;break;case"=":O=B+M+O+T;break;case"^":O=M.slice(0,$=M.length>>1)+B+O+T+M.slice($);break;default:O=M+B+O+T;break}return i(O)}return I.toString=function(){return f+""},I}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(gd(h)/3)))*3,g=Math.pow(10,-m),p=u((f=hm(f),f.type="f",f),{suffix:kA[8+m/3]});return function(y){return p(g*y)}}return{format:u,formatPrefix:d}}var cg,bk,jU;Ywe({thousands:",",grouping:[3],currency:["$",""]});function Ywe(e){return cg=Gwe(e),bk=cg.format,jU=cg.formatPrefix,cg}function Qwe(e){return Math.max(0,-gd(Math.abs(e)))}function Xwe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gd(t)/3)))*3-gd(Math.abs(e)))}function Jwe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gd(t)-gd(e))+1}function _U(e,t,r,n){var s=z_(e,t,r),i;switch(n=hm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Xwe(s,o))&&(n.precision=i),jU(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Jwe(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Qwe(s))&&(n.precision=i-(n.type==="%")*2);break}}return bk(n)}function hl(e){var t=e.domain;return e.ticks=function(r){var n=t();return B_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return _U(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=q_(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ay(){var e=yk();return e.copy=function(){return mp(e,ay())},Us.apply(e,arguments),hl(e)}function SU(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ry),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return SU(e).unknown(t)},e=arguments.length?Array.from(e,ry):[0,1],hl(r)}function NU(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function CA(e){return Math.log(e)}function EA(e){return Math.exp(e)}function Zwe(e){return-Math.log(-e)}function e0e(e){return-Math.exp(-e)}function t0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function r0e(e){return e===10?t0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function n0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function OA(e){return(t,r)=>-e(-t,r)}function wk(e){const t=e(CA,EA),r=t.domain;let n=10,s,i;function o(){return s=n0e(n),i=r0e(n),r()[0]<0?(s=OA(s),i=OA(i),e(Zwe,e0e)):e(CA,EA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),g,p;const y=l==null?10:+l;let b=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<y&&(b=B_(u,d,y))}else b=B_(h,m,Math.min(m-h,y)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=hm(c)).precision==null&&(c.trim=!0),c=bk(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(NU(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function kU(){const e=wk(cb()).domain([1,10]);return e.copy=()=>mp(e,kU()).base(e.base()),Us.apply(e,arguments),e}function PA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jk(e){var t=1,r=e(PA(t),AA(t));return r.constant=function(n){return arguments.length?e(PA(t=+n),AA(t)):t},hl(r)}function CU(){var e=jk(cb());return e.copy=function(){return mp(e,CU()).constant(e.constant())},Us.apply(e,arguments)}function TA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function s0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function a0e(e){return e<0?-e*e:e*e}function _k(e){var t=e(_n,_n),r=1;function n(){return r===1?e(_n,_n):r===.5?e(s0e,a0e):e(TA(r),TA(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},hl(t)}function Sk(){var e=_k(cb());return e.copy=function(){return mp(e,Sk()).exponent(e.exponent())},Us.apply(e,arguments),e}function i0e(){return Sk.apply(null,arguments).exponent(.5)}function RA(e){return Math.sign(e)*e*e}function o0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function EU(){var e=yk(),t=[0,1],r=!1,n;function s(i){var o=o0e(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(RA(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,ry)).map(RA)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return EU(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Us.apply(s,arguments),hl(s)}function OU(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=fwe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[fp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Yo),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return OU().domain(e).range(t).unknown(n)},Us.apply(i,arguments)}function PU(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[fp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return PU().domain([e,t]).range(s).unknown(i)},Us.apply(hl(o),arguments)}function AU(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[fp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return AU().domain(e).range(t).unknown(r)},Us.apply(s,arguments)}const Jw=new Date,Zw=new Date;function zr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>zr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Jw.setTime(+i),Zw.setTime(+o),e(Jw),e(Zw),Math.floor(r(Jw,Zw))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const iy=zr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);iy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):iy);iy.range;const bi=1e3,Cs=bi*60,wi=Cs*60,Fi=wi*24,Nk=Fi*7,MA=Fi*30,e0=Fi*365,Ll=zr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bi)},(e,t)=>(t-e)/bi,e=>e.getUTCSeconds());Ll.range;const kk=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bi)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getMinutes());kk.range;const Ck=zr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getUTCMinutes());Ck.range;const Ek=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bi-e.getMinutes()*Cs)},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getHours());Ek.range;const Ok=zr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCHours());Ok.range;const pp=zr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cs)/Fi,e=>e.getDate()-1);pp.range;const ub=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fi,e=>e.getUTCDate()-1);ub.range;const TU=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fi,e=>Math.floor(e/Fi));TU.range;function Ec(e){return zr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Cs)/Nk)}const db=Ec(0),oy=Ec(1),l0e=Ec(2),c0e=Ec(3),vd=Ec(4),u0e=Ec(5),d0e=Ec(6);db.range;oy.range;l0e.range;c0e.range;vd.range;u0e.range;d0e.range;function Oc(e){return zr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Nk)}const fb=Oc(0),ly=Oc(1),f0e=Oc(2),h0e=Oc(3),yd=Oc(4),m0e=Oc(5),p0e=Oc(6);fb.range;ly.range;f0e.range;h0e.range;yd.range;m0e.range;p0e.range;const Pk=zr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Pk.range;const Ak=zr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ak.range;const Ui=zr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ui.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ui.range;const Bi=zr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Bi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Bi.range;function RU(e,t,r,n,s,i){const o=[[Ll,1,bi],[Ll,5,5*bi],[Ll,15,15*bi],[Ll,30,30*bi],[i,1,Cs],[i,5,5*Cs],[i,15,15*Cs],[i,30,30*Cs],[s,1,wi],[s,3,3*wi],[s,6,6*wi],[s,12,12*wi],[n,1,Fi],[n,2,2*Fi],[r,1,Nk],[t,1,MA],[t,3,3*MA],[e,1,e0]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=hk(([,,y])=>y).right(o,h);if(m===o.length)return e.every(z_(u/e0,d/e0,f));if(m===0)return iy.every(Math.max(z_(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[g0e,v0e]=RU(Bi,Ak,fb,TU,Ok,Ck),[y0e,x0e]=RU(Ui,Pk,db,pp,Ek,kk);function t0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Tf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function b0e(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Rf(s),d=Mf(s),f=Rf(i),h=Mf(i),m=Rf(o),g=Mf(o),p=Rf(l),y=Mf(l),b=Rf(c),v=Mf(c),w={a:V,A:D,b:$,B:M,c:null,d:UA,e:UA,f:z0e,g:Z0e,G:tje,H:U0e,I:B0e,j:q0e,L:MU,m:W0e,M:V0e,p:te,q:Q,Q:zA,s:WA,S:K0e,u:H0e,U:G0e,V:Y0e,w:Q0e,W:X0e,x:null,X:null,y:J0e,Y:eje,Z:rje,"%":qA},S={a:le,A:me,b:We,B:Ve,c:null,d:BA,e:BA,f:ije,g:gje,G:yje,H:nje,I:sje,j:aje,L:IU,m:oje,M:lje,p:ce,q:qe,Q:zA,s:WA,S:cje,u:uje,U:dje,V:fje,w:hje,W:mje,x:null,X:null,y:pje,Y:vje,Z:xje,"%":qA},j={a:A,A:I,b:O,B,c:T,d:LA,e:LA,f:I0e,g:DA,G:IA,H:FA,I:FA,j:T0e,L:$0e,m:A0e,M:R0e,p:C,q:P0e,Q:L0e,s:F0e,S:M0e,u:N0e,U:k0e,V:C0e,w:S0e,W:E0e,x:z,X:R,y:DA,Y:IA,Z:O0e,"%":D0e};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),S.x=_(r,S),S.X=_(n,S),S.c=_(t,S);function _(se,xe){return function(H){var G=[],Xe=-1,Ke=0,yt=se.length,ot,zt,wr;for(H instanceof Date||(H=new Date(+H));++Xe<yt;)se.charCodeAt(Xe)===37&&(G.push(se.slice(Ke,Xe)),(zt=$A[ot=se.charAt(++Xe)])!=null?ot=se.charAt(++Xe):zt=ot==="e"?" ":"0",(wr=xe[ot])&&(ot=wr(H,zt)),G.push(ot),Ke=Xe+1);return G.push(se.slice(Ke,Xe)),G.join("")}}function N(se,xe){return function(H){var G=Tf(1900,void 0,1),Xe=k(G,se,H+="",0),Ke,yt;if(Xe!=H.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(xe&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Ke=r0(Tf(G.y,0,1)),yt=Ke.getUTCDay(),Ke=yt>4||yt===0?ly.ceil(Ke):ly(Ke),Ke=ub.offset(Ke,(G.V-1)*7),G.y=Ke.getUTCFullYear(),G.m=Ke.getUTCMonth(),G.d=Ke.getUTCDate()+(G.w+6)%7):(Ke=t0(Tf(G.y,0,1)),yt=Ke.getDay(),Ke=yt>4||yt===0?oy.ceil(Ke):oy(Ke),Ke=pp.offset(Ke,(G.V-1)*7),G.y=Ke.getFullYear(),G.m=Ke.getMonth(),G.d=Ke.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),yt="Z"in G?r0(Tf(G.y,0,1)).getUTCDay():t0(Tf(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(yt+5)%7:G.w+G.U*7-(yt+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,r0(G)):t0(G)}}function k(se,xe,H,G){for(var Xe=0,Ke=xe.length,yt=H.length,ot,zt;Xe<Ke;){if(G>=yt)return-1;if(ot=xe.charCodeAt(Xe++),ot===37){if(ot=xe.charAt(Xe++),zt=j[ot in $A?xe.charAt(Xe++):ot],!zt||(G=zt(se,H,G))<0)return-1}else if(ot!=H.charCodeAt(G++))return-1}return G}function C(se,xe,H){var G=u.exec(xe.slice(H));return G?(se.p=d.get(G[0].toLowerCase()),H+G[0].length):-1}function A(se,xe,H){var G=m.exec(xe.slice(H));return G?(se.w=g.get(G[0].toLowerCase()),H+G[0].length):-1}function I(se,xe,H){var G=f.exec(xe.slice(H));return G?(se.w=h.get(G[0].toLowerCase()),H+G[0].length):-1}function O(se,xe,H){var G=b.exec(xe.slice(H));return G?(se.m=v.get(G[0].toLowerCase()),H+G[0].length):-1}function B(se,xe,H){var G=p.exec(xe.slice(H));return G?(se.m=y.get(G[0].toLowerCase()),H+G[0].length):-1}function T(se,xe,H){return k(se,t,xe,H)}function z(se,xe,H){return k(se,r,xe,H)}function R(se,xe,H){return k(se,n,xe,H)}function V(se){return o[se.getDay()]}function D(se){return i[se.getDay()]}function $(se){return c[se.getMonth()]}function M(se){return l[se.getMonth()]}function te(se){return s[+(se.getHours()>=12)]}function Q(se){return 1+~~(se.getMonth()/3)}function le(se){return o[se.getUTCDay()]}function me(se){return i[se.getUTCDay()]}function We(se){return c[se.getUTCMonth()]}function Ve(se){return l[se.getUTCMonth()]}function ce(se){return s[+(se.getUTCHours()>=12)]}function qe(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var xe=_(se+="",w);return xe.toString=function(){return se},xe},parse:function(se){var xe=N(se+="",!1);return xe.toString=function(){return se},xe},utcFormat:function(se){var xe=_(se+="",S);return xe.toString=function(){return se},xe},utcParse:function(se){var xe=N(se+="",!0);return xe.toString=function(){return se},xe}}}var $A={"-":"",_:" ",0:"0"},Qr=/^\s*\d+/,w0e=/^%/,j0e=/[\\^$*+?|[\]().{}]/g;function Ot(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function _0e(e){return e.replace(j0e,"\\$&")}function Rf(e){return new RegExp("^(?:"+e.map(_0e).join("|")+")","i")}function Mf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function S0e(e,t,r){var n=Qr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function N0e(e,t,r){var n=Qr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function k0e(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function C0e(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function E0e(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function IA(e,t,r){var n=Qr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function DA(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function O0e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function P0e(e,t,r){var n=Qr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function A0e(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function LA(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function T0e(e,t,r){var n=Qr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function FA(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function R0e(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function M0e(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function $0e(e,t,r){var n=Qr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function I0e(e,t,r){var n=Qr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function D0e(e,t,r){var n=w0e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function L0e(e,t,r){var n=Qr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function F0e(e,t,r){var n=Qr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function UA(e,t){return Ot(e.getDate(),t,2)}function U0e(e,t){return Ot(e.getHours(),t,2)}function B0e(e,t){return Ot(e.getHours()%12||12,t,2)}function q0e(e,t){return Ot(1+pp.count(Ui(e),e),t,3)}function MU(e,t){return Ot(e.getMilliseconds(),t,3)}function z0e(e,t){return MU(e,t)+"000"}function W0e(e,t){return Ot(e.getMonth()+1,t,2)}function V0e(e,t){return Ot(e.getMinutes(),t,2)}function K0e(e,t){return Ot(e.getSeconds(),t,2)}function H0e(e){var t=e.getDay();return t===0?7:t}function G0e(e,t){return Ot(db.count(Ui(e)-1,e),t,2)}function $U(e){var t=e.getDay();return t>=4||t===0?vd(e):vd.ceil(e)}function Y0e(e,t){return e=$U(e),Ot(vd.count(Ui(e),e)+(Ui(e).getDay()===4),t,2)}function Q0e(e){return e.getDay()}function X0e(e,t){return Ot(oy.count(Ui(e)-1,e),t,2)}function J0e(e,t){return Ot(e.getFullYear()%100,t,2)}function Z0e(e,t){return e=$U(e),Ot(e.getFullYear()%100,t,2)}function eje(e,t){return Ot(e.getFullYear()%1e4,t,4)}function tje(e,t){var r=e.getDay();return e=r>=4||r===0?vd(e):vd.ceil(e),Ot(e.getFullYear()%1e4,t,4)}function rje(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ot(t/60|0,"0",2)+Ot(t%60,"0",2)}function BA(e,t){return Ot(e.getUTCDate(),t,2)}function nje(e,t){return Ot(e.getUTCHours(),t,2)}function sje(e,t){return Ot(e.getUTCHours()%12||12,t,2)}function aje(e,t){return Ot(1+ub.count(Bi(e),e),t,3)}function IU(e,t){return Ot(e.getUTCMilliseconds(),t,3)}function ije(e,t){return IU(e,t)+"000"}function oje(e,t){return Ot(e.getUTCMonth()+1,t,2)}function lje(e,t){return Ot(e.getUTCMinutes(),t,2)}function cje(e,t){return Ot(e.getUTCSeconds(),t,2)}function uje(e){var t=e.getUTCDay();return t===0?7:t}function dje(e,t){return Ot(fb.count(Bi(e)-1,e),t,2)}function DU(e){var t=e.getUTCDay();return t>=4||t===0?yd(e):yd.ceil(e)}function fje(e,t){return e=DU(e),Ot(yd.count(Bi(e),e)+(Bi(e).getUTCDay()===4),t,2)}function hje(e){return e.getUTCDay()}function mje(e,t){return Ot(ly.count(Bi(e)-1,e),t,2)}function pje(e,t){return Ot(e.getUTCFullYear()%100,t,2)}function gje(e,t){return e=DU(e),Ot(e.getUTCFullYear()%100,t,2)}function vje(e,t){return Ot(e.getUTCFullYear()%1e4,t,4)}function yje(e,t){var r=e.getUTCDay();return e=r>=4||r===0?yd(e):yd.ceil(e),Ot(e.getUTCFullYear()%1e4,t,4)}function xje(){return"+0000"}function qA(){return"%"}function zA(e){return+e}function WA(e){return Math.floor(+e/1e3)}var Qc,LU,FU;bje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bje(e){return Qc=b0e(e),LU=Qc.format,Qc.parse,FU=Qc.utcFormat,Qc.utcParse,Qc}function wje(e){return new Date(e)}function jje(e){return e instanceof Date?+e:+new Date(+e)}function Tk(e,t,r,n,s,i,o,l,c,u){var d=yk(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),v=u("%b %d"),w=u("%B"),S=u("%Y");function j(_){return(c(_)<_?m:l(_)<_?g:o(_)<_?p:i(_)<_?y:n(_)<_?s(_)<_?b:v:r(_)<_?w:S)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,jje)):h().map(wje)},d.ticks=function(_){var N=h();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?j:u(N)},d.nice=function(_){var N=h();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?h(NU(N,_)):d},d.copy=function(){return mp(d,Tk(e,t,r,n,s,i,o,l,c,u))},d}function _je(){return Us.apply(Tk(y0e,x0e,Ui,Pk,db,pp,Ek,kk,Ll,LU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Sje(){return Us.apply(Tk(g0e,v0e,Bi,Ak,fb,ub,Ok,Ck,Ll,FU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hb(){var e=0,t=1,r,n,s,i,o=_n,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(of),u.rangeRound=d(vk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function ml(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function UU(){var e=hl(hb()(_n));return e.copy=function(){return ml(e,UU())},Xi.apply(e,arguments)}function BU(){var e=wk(hb()).domain([1,10]);return e.copy=function(){return ml(e,BU()).base(e.base())},Xi.apply(e,arguments)}function qU(){var e=jk(hb());return e.copy=function(){return ml(e,qU()).constant(e.constant())},Xi.apply(e,arguments)}function Rk(){var e=_k(hb());return e.copy=function(){return ml(e,Rk()).exponent(e.exponent())},Xi.apply(e,arguments)}function Nje(){return Rk.apply(null,arguments).exponent(.5)}function zU(){var e=[],t=_n;function r(n){if(n!=null&&!isNaN(n=+n))return t((fp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Yo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>dwe(e,i/n))},r.copy=function(){return zU(t).domain(e)},Xi.apply(r,arguments)}function mb(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=_n,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(y){var b,v,w;return arguments.length?([b,v,w]=y,u=Dwe(p,[b,v,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(of),m.rangeRound=g(vk),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,s=p(e),i=p(t),o=p(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m}}function WU(){var e=hl(mb()(_n));return e.copy=function(){return ml(e,WU())},Xi.apply(e,arguments)}function VU(){var e=wk(mb()).domain([.1,1,10]);return e.copy=function(){return ml(e,VU()).base(e.base())},Xi.apply(e,arguments)}function KU(){var e=jk(mb());return e.copy=function(){return ml(e,KU()).constant(e.constant())},Xi.apply(e,arguments)}function Mk(){var e=_k(mb());return e.copy=function(){return ml(e,Mk()).exponent(e.exponent())},Xi.apply(e,arguments)}function kje(){return Mk.apply(null,arguments).exponent(.5)}const VA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cm,scaleDiverging:WU,scaleDivergingLog:VU,scaleDivergingPow:Mk,scaleDivergingSqrt:kje,scaleDivergingSymlog:KU,scaleIdentity:SU,scaleImplicit:W_,scaleLinear:ay,scaleLog:kU,scaleOrdinal:mk,scalePoint:gh,scalePow:Sk,scaleQuantile:OU,scaleQuantize:PU,scaleRadial:EU,scaleSequential:UU,scaleSequentialLog:BU,scaleSequentialPow:Rk,scaleSequentialQuantile:zU,scaleSequentialSqrt:Nje,scaleSequentialSymlog:qU,scaleSqrt:i0e,scaleSymlog:CU,scaleThreshold:AU,scaleTime:_je,scaleUtc:Sje,tickFormat:_U},Symbol.toStringTag,{value:"Module"}));var Cje=Qd;function Eje(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Cje(o):r(o,l)))var l=o,c=i}return c}var HU=Eje;function Oje(e,t){return e>t}var Pje=Oje,Aje=HU,Tje=Pje,Rje=sf;function Mje(e){return e&&e.length?Aje(e,Rje,Tje):void 0}var $je=Mje;const $o=qt($je);function Ije(e,t){return e<t}var Dje=Ije,Lje=HU,Fje=Dje,Uje=sf;function Bje(e){return e&&e.length?Lje(e,Uje,Fje):void 0}var qje=Bje;const pb=qt(qje);var zje=GN,Wje=fl,Vje=rU,Kje=Hn;function Hje(e,t){var r=Kje(e)?zje:Vje;return r(e,Wje(t))}var Gje=Hje,Yje=eU,Qje=Gje;function Xje(e,t){return Yje(Qje(e,t),1)}var Jje=Xje;const Zje=qt(Jje);var e_e=ck;function t_e(e,t){return e_e(e,t)}var r_e=t_e;const mm=qt(r_e);var lf=1e9,n_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ik,ir=!0,$s="[DecimalError] ",Zl=$s+"Invalid argument: ",$k=$s+"Exponent out of range: ",cf=Math.floor,kl=Math.pow,s_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ns,Vr=1e7,tr=7,GU=9007199254740991,cy=cf(GU/tr),Ae={};Ae.absoluteValue=Ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ae.comparedTo=Ae.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*tr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ae.dividedBy=Ae.div=function(e){return Ei(this,new this.constructor(e))};Ae.dividedToIntegerBy=Ae.idiv=function(e){var t=this,r=t.constructor;return Kt(Ei(t,new r(e),0,1),r.precision)};Ae.equals=Ae.eq=function(e){return!this.cmp(e)};Ae.exponent=function(){return Ar(this)};Ae.greaterThan=Ae.gt=function(e){return this.cmp(e)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(e){return this.cmp(e)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(e){return this.cmp(e)<0};Ae.lessThanOrEqualTo=Ae.lte=function(e){return this.cmp(e)<1};Ae.logarithm=Ae.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ns))throw Error($s+"NaN");if(r.s<1)throw Error($s+(r.s?"NaN":"-Infinity"));return r.eq(ns)?new n(0):(ir=!1,t=Ei(pm(r,i),pm(e,i),i),ir=!0,Kt(t,s))};Ae.minus=Ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XU(t,e):YU(t,(e.s=-e.s,e))};Ae.modulo=Ae.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error($s+"NaN");return r.s?(ir=!1,t=Ei(r,e,0,1).times(e),ir=!0,r.minus(t)):Kt(new n(r),s)};Ae.naturalExponential=Ae.exp=function(){return QU(this)};Ae.naturalLogarithm=Ae.ln=function(){return pm(this)};Ae.negated=Ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ae.plus=Ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YU(t,e):XU(t,(e.s=-e.s,e))};Ae.precision=Ae.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zl+e);if(t=Ar(s)+1,n=s.d.length-1,r=n*tr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ae.squareRoot=Ae.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error($s+"NaN")}for(e=Ar(l),ir=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=La(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=cf((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Ei(l,i,o+2)).times(.5),La(i.d).slice(0,o)===(t=La(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Kt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return ir=!0,Kt(n,r)};Ae.times=Ae.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+m[n]*h[s-n-1]+t,i[s--]=l%Vr|0,t=l/Vr|0;i[s]=(i[s]+t)%Vr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ir?Kt(e,f.precision):e};Ae.toDecimalPlaces=Ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Qa(e,0,lf),t===void 0?t=n.rounding:Qa(t,0,8),Kt(r,e+Ar(r)+1,t))};Ae.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=vc(n,!0):(Qa(e,0,lf),t===void 0?t=s.rounding:Qa(t,0,8),n=Kt(new s(n),e+1,t),r=vc(n,!0,e+1)),r};Ae.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?vc(s):(Qa(e,0,lf),t===void 0?t=i.rounding:Qa(t,0,8),n=Kt(new i(s),e+Ar(s)+1,t),r=vc(n.abs(),!1,e+Ar(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ae.toInteger=Ae.toint=function(){var e=this,t=e.constructor;return Kt(new t(e),Ar(e)+1,t.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ns);if(l=new c(l),!l.s){if(e.s<1)throw Error($s+"Infinity");return l}if(l.eq(ns))return l;if(n=c.precision,e.eq(ns))return Kt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=GU){for(s=new c(ns),t=Math.ceil(n/tr+4),ir=!1;r%2&&(s=s.times(l),HA(s.d,t)),r=cf(r/2),r!==0;)l=l.times(l),HA(l.d,t);return ir=!0,e.s<0?new c(ns).div(s):Kt(s,n)}}else if(i<0)throw Error($s+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ir=!1,s=e.times(pm(l,n+u)),ir=!0,s=QU(s),s.s=i,s};Ae.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Ar(s),n=vc(s,r<=i.toExpNeg||r>=i.toExpPos)):(Qa(e,1,lf),t===void 0?t=i.rounding:Qa(t,0,8),s=Kt(new i(s),e,t),r=Ar(s),n=vc(s,e<=r||r<=i.toExpNeg,e)),n};Ae.toSignificantDigits=Ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Qa(e,1,lf),t===void 0?t=n.rounding:Qa(t,0,8)),Kt(new n(r),e,t)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ar(e),r=e.constructor;return vc(e,t<=r.toExpNeg||t>=r.toExpPos)};function YU(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ir?Kt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/tr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Vr|0,c[i]%=Vr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,ir?Kt(t,f):t}function Qa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Zl+e)}function La(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=tr-n.length,r&&(i+=po(r)),i+=n;o=e[t],n=o+"",r=tr-n.length,r&&(i+=po(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ei=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Vr|0,o=i/Vr|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Vr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,m,g,p,y,b,v,w,S,j,_,N,k,C=n.constructor,A=n.s==s.s?1:-1,I=n.d,O=s.d;if(!n.s)return new C(n);if(!s.s)throw Error($s+"Division by zero");for(c=n.e-s.e,N=O.length,j=I.length,m=new C(A),g=m.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--c,i==null?v=i=C.precision:o?v=i+(Ar(n)-Ar(s))+1:v=i,v<0)return new C(0);if(v=v/tr+2|0,u=0,N==1)for(d=0,O=O[0],v++;(u<j||d)&&v--;u++)w=d*Vr+(I[u]||0),g[u]=w/O|0,d=w%O|0;else{for(d=Vr/(O[0]+1)|0,d>1&&(O=e(O,d),I=e(I,d),N=O.length,j=I.length),S=N,p=I.slice(0,N),y=p.length;y<N;)p[y++]=0;k=O.slice(),k.unshift(0),_=O[0],O[1]>=Vr/2&&++_;do d=0,l=t(O,p,N,y),l<0?(b=p[0],N!=y&&(b=b*Vr+(p[1]||0)),d=b/_|0,d>1?(d>=Vr&&(d=Vr-1),f=e(O,d),h=f.length,y=p.length,l=t(f,p,h,y),l==1&&(d--,r(f,N<h?k:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),r(p,f,y),l==-1&&(y=p.length,l=t(O,p,N,y),l<1&&(d++,r(p,N<y?k:O,y))),y=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[y++]=I[S]||0:(p=[I[S]],y=1);while((S++<j||p[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=c,Kt(m,o?i+Ar(m)+1:i)}}();function QU(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ar(e)>16)throw Error($k+Ar(e));if(!e.s)return new d(ns);for(ir=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(kl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(ns),d.precision=l;;){if(s=Kt(s.times(e),l),r=r.times(++c),o=i.plus(Ei(s,r,l)),La(o.d).slice(0,l)===La(i.d).slice(0,l)){for(;u--;)i=Kt(i.times(i),l);return d.precision=f,t==null?(ir=!0,Kt(i,f)):i}i=o}}function Ar(e){for(var t=e.e*tr,r=e.d[0];r>=10;r/=10)t++;return t}function n0(e,t,r){if(t>e.LN10.sd())throw ir=!0,r&&(e.precision=r),Error($s+"LN10 precision limit exceeded");return Kt(new e(e.LN10),t)}function po(e){for(var t="";e--;)t+="0";return t}function pm(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,y=p.precision;if(m.s<1)throw Error($s+(m.s?"NaN":"-Infinity"));if(m.eq(ns))return new p(0);if(t==null?(ir=!1,u=y):u=t,m.eq(10))return t==null&&(ir=!0),n0(p,u);if(u+=h,p.precision=u,r=La(g),n=r.charAt(0),i=Ar(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=La(m.d),n=r.charAt(0),f++;i=Ar(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=n0(p,u+2,y).times(i+""),m=pm(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=y,t==null?(ir=!0,Kt(m,y)):m;for(l=o=m=Ei(m.minus(ns),m.plus(ns),u),d=Kt(m.times(m),u),s=3;;){if(o=Kt(o.times(d),u),c=l.plus(Ei(o,new p(s),u)),La(c.d).slice(0,u)===La(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(n0(p,u+2,y).times(i+""))),l=Ei(l,new p(f),u),p.precision=y,t==null?(ir=!0,Kt(l,y)):l;l=c,s+=2}}function KA(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=cf(r/tr),e.d=[],n=(r+1)%tr,r<0&&(n+=tr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=tr;n<s;)e.d.push(+t.slice(n,n+=tr));t=t.slice(n),n=tr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),ir&&(e.e>cy||e.e<-cy))throw Error($k+r)}else e.s=0,e.e=0,e.d=[0];return e}function Kt(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=tr,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/tr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=tr,s=n-tr+o}if(r!==void 0&&(i=kl(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/kl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Ar(e),f.length=1,t=t-i-1,f[0]=kl(10,(tr-t%tr)%tr),e.e=cf(-t/tr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=kl(10,tr-n),f[d]=s>0?(u/kl(10,o-s)%kl(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Vr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Vr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ir&&(e.e>cy||e.e<-cy))throw Error($k+Ar(e));return e}function XU(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ir?Kt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/tr),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Vr-1;--c[i],c[s]+=Vr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ir?Kt(t,m):t):new h(0)}function vc(e,t,r){var n,s=Ar(e),i=La(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+po(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+po(-s-1)+i,r&&(n=r-o)>0&&(i+=po(n))):s>=o?(i+=po(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+po(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=po(n))),e.s<0?"-"+i:i}function HA(e,t){if(e.length>t)return e.length=t,!0}function JU(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Zl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return KA(o,i.toString())}else if(typeof i!="string")throw Error(Zl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,s_e.test(i))KA(o,i);else throw Error(Zl+i)}if(s.prototype=Ae,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=JU,s.config=s.set=a_e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function a_e(e){if(!e||typeof e!="object")throw Error($s+"Object expected");var t,r,n,s=["precision",1,lf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(cf(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Zl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Zl+r+": "+n);return this}var Ik=JU(n_e);ns=new Ik(1);const Ft=Ik;function i_e(e){return u_e(e)||c_e(e)||l_e(e)||o_e()}function o_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l_e(e,t){if(e){if(typeof e=="string")return G_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G_(e,t)}}function c_e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function u_e(e){if(Array.isArray(e))return G_(e)}function G_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d_e=function(t){return t},ZU={},eB=function(t){return t===ZU},GA=function(t){return function r(){return arguments.length===0||arguments.length===1&&eB(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},f_e=function e(t,r){return t===1?r:GA(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==ZU}).length;return o>=t?r.apply(void 0,s):e(t-o,GA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return eB(f)?c.shift():f});return r.apply(void 0,i_e(d).concat(c))}))})},gb=function(t){return f_e(t.length,t)},Y_=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},h_e=gb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),m_e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return d_e;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Q_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},tB=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function p_e(e){var t;return e===0?t=1:t=Math.floor(new Ft(e).abs().log(10).toNumber())+1,t}function g_e(e,t,r){for(var n=new Ft(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var v_e=gb(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),y_e=gb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),x_e=gb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const vb={rangeStep:g_e,getDigitCount:p_e,interpolateNumber:v_e,uninterpolateNumber:y_e,uninterpolateTruncation:x_e};function X_(e){return j_e(e)||w_e(e)||rB(e)||b_e()}function b_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w_e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function j_e(e){if(Array.isArray(e))return J_(e)}function gm(e,t){return N_e(e)||S_e(e,t)||rB(e,t)||__e()}function __e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rB(e,t){if(e){if(typeof e=="string")return J_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J_(e,t)}}function J_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S_e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function N_e(e){if(Array.isArray(e))return e}function nB(e){var t=gm(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function sB(e,t,r){if(e.lte(0))return new Ft(0);var n=vb.getDigitCount(e.toNumber()),s=new Ft(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Ft(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Ft(Math.ceil(c))}function k_e(e,t,r){var n=1,s=new Ft(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Ft(10).pow(vb.getDigitCount(e)-1),s=new Ft(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Ft(Math.floor(e)))}else e===0?s=new Ft(Math.floor((t-1)/2)):r||(s=new Ft(Math.floor(e)));var o=Math.floor((t-1)/2),l=m_e(h_e(function(c){return s.add(new Ft(c-o).mul(n)).toNumber()}),Y_);return l(0,t)}function aB(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ft(0),tickMin:new Ft(0),tickMax:new Ft(0)};var i=sB(new Ft(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Ft(0):(o=new Ft(e).add(t).div(2),o=o.sub(new Ft(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Ft(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?aB(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Ft(l).mul(i)),tickMax:o.add(new Ft(c).mul(i))})}function C_e(e){var t=gm(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=nB([r,n]),c=gm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(X_(Y_(0,s-1).map(function(){return 1/0}))):[].concat(X_(Y_(0,s-1).map(function(){return-1/0})),[d]);return r>n?Q_(f):f}if(u===d)return k_e(u,s,i);var h=aB(u,d,o,i),m=h.step,g=h.tickMin,p=h.tickMax,y=vb.rangeStep(g,p.add(new Ft(.1).mul(m)),m);return r>n?Q_(y):y}function E_e(e,t){var r=gm(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=nB([n,s]),l=gm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=sB(new Ft(u).sub(c).div(d-1),i,0),h=[].concat(X_(vb.rangeStep(new Ft(c),new Ft(u).sub(new Ft(.99).mul(f)),f)),[u]);return n>s?Q_(h):h}var O_e=tB(C_e),P_e=tB(E_e),A_e="Invariant failed";function yc(e,t){throw new Error(A_e)}var T_e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(this,arguments)}function R_e(e,t){return D_e(e)||I_e(e,t)||$_e(e,t)||M_e()}function M_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $_e(e,t){if(e){if(typeof e=="string")return YA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YA(e,t)}}function YA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function D_e(e){if(Array.isArray(e))return e}function L_e(e,t){if(e==null)return{};var r=F_e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lB(n.key),n)}}function q_e(e,t,r){return t&&B_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z_e(e,t,r){return t=dy(t),W_e(e,iB()?Reflect.construct(t,r||[],dy(e).constructor):t.apply(e,r))}function W_e(e,t){if(t&&(xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V_e(e)}function V_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iB=function(){return!!e})()}function dy(e){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dy(e)}function K_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Z_(e,t)}function oB(e,t,r){return t=lB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lB(e){var t=H_e(e,"string");return xd(t)=="symbol"?t:t+""}function H_e(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yb=function(e){function t(){return U_e(this,t),z_e(this,t,arguments)}return K_e(t,e),q_e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=L_e(n,T_e),m=mt(h,!1);this.props.direction==="x"&&d.type!=="number"&&yc();var g=c.map(function(p){var y=u(p,l),b=y.x,v=y.y,w=y.value,S=y.errorVal;if(!S)return null;var j=[],_,N;if(Array.isArray(S)){var k=R_e(S,2);_=k[0],N=k[1]}else _=N=S;if(i==="vertical"){var C=d.scale,A=v+s,I=A+o,O=A-o,B=C(w-_),T=C(w+N);j.push({x1:T,y1:I,x2:T,y2:O}),j.push({x1:B,y1:A,x2:T,y2:A}),j.push({x1:B,y1:I,x2:B,y2:O})}else if(i==="horizontal"){var z=f.scale,R=b+s,V=R-o,D=R+o,$=z(w-_),M=z(w+N);j.push({x1:V,y1:M,x2:D,y2:M}),j.push({x1:R,y1:$,x2:R,y2:M}),j.push({x1:V,y1:$,x2:D,y2:$})}return P.createElement(ur,uy({className:"recharts-errorBar",key:"bar-".concat(j.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},m),j.map(function(te){return P.createElement("line",uy({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return P.createElement(ur,{className:"recharts-errorBars"},g)}}])}(P.Component);oB(yb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});oB(yb,"displayName","ErrorBar");function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function QA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(r),!0).forEach(function(n){G_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G_e(e,t,r){return t=Y_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_e(e){var t=Q_e(e,"string");return vm(t)=="symbol"?t:t+""}function Q_e(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cB=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Zn(r,Pu);if(!o)return null;var l=Pu.defaultProps,c=l!==void 0?xl(xl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?xl(xl({},h),f.props):{},g=m.dataKey,p=m.name,y=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||y||"square",color:Dk(f),value:p||g,payload:m}}),xl(xl(xl({},c),Pu.getWithHeight(o,s)),{},{payload:u,item:o})};function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function XA(e){return e1e(e)||Z_e(e)||J_e(e)||X_e()}function X_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J_e(e,t){if(e){if(typeof e=="string")return e1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e1(e,t)}}function Z_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function e1e(e){if(Array.isArray(e))return e1(e)}function e1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){Tu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tu(e,t,r){return t=t1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t1e(e){var t=r1e(e,"string");return ym(t)=="symbol"?t:t+""}function r1e(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ds(e,t,r){return vt(e)||vt(t)?r:Br(t)?Ts(e,t,r):nt(t)?t(e):r}function vh(e,t,r,n){var s=Zje(e,function(l){return ds(l,t)});if(r==="number"){var i=s.filter(function(l){return ve(l)||parseFloat(l)});return i.length?[pb(i),$o(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!vt(l)}):s;return o.map(function(l){return Br(l)||l instanceof Date?l:""})}var n1e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(ca(f-d)!==ca(h-f)){var g=[];if(ca(h-f)===ca(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var y=h+c[1]-c[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var v=Math.min(d,h),w=Math.max(d,h);if(t>(v+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},Dk=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?vr(vr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},s1e=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,y=g.cateAxisId,b=p.filter(function(N){return ki(N.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,w=v!==void 0?vr(vr({},v),b[0].props):b[0].props,S=w.barSize,j=w[y];o[j]||(o[j]=[]);var _=vt(S)?r:S;o[j].push({item:b[0],stackList:b.slice(1),barSize:vt(_)?void 0:gc(_,n,0)})}}return o},a1e=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=gc(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,g=o.reduce(function(S,j){return S+j.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&m>0&&(h=!0,m*=.9,g=c*m);var p=(s-g)/2>>0,y={offset:p-u,size:0};d=o.reduce(function(S,j){var _={item:j.item,position:{offset:y.offset+y.size+u,size:h?m:j.barSize}},N=[].concat(XA(S),[_]);return y=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:y})}),N},f)}else{var b=gc(n,s,0,!0);s-2*b-(c-1)*u<=0&&(u=0);var v=(s-2*b-(c-1)*u)/c;v>1&&(v>>=0);var w=l===+l?Math.min(v,l):v;d=o.reduce(function(S,j,_){var N=[].concat(XA(S),[{item:j.item,position:{offset:b+(v+u)*_+(v-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},i1e=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=cB({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&ve(t[m]))return vr(vr({},t),{},Tu({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&ve(t[g]))return vr(vr({},t),{},Tu({},g,t[g]+(h||0)))}return t},o1e=function(t,r,n){return vt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},uB=function(t,r,n,s,i){var o=r.props.children,l=ga(o,yb).filter(function(u){return o1e(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=ds(d,n);if(vt(f))return u;var h=Array.isArray(f)?[pb(f),$o(f)]:[f,f],m=c.reduce(function(g,p){var y=ds(d,p,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),v=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},l1e=function(t,r,n,s,i){var o=r.map(function(l){return uB(t,l,n,i,s)}).filter(function(l){return!vt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},dB=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&uB(t,c,u,s)||vh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},fB=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},hB=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},ji=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ca(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!tf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},s0=new WeakMap,ug=function(t,r){if(typeof r!="function")return t;s0.has(t)||s0.set(t,new WeakMap);var n=s0.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},c1e=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:cm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ay(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:gh(),realScaleType:"point"}:i==="category"?{scale:cm(),realScaleType:"band"}:{scale:ay(),realScaleType:"linear"};if(pc(s)){var c="scale".concat(rb(s));return{scale:(VA[c]||gh)(),realScaleType:VA[c]?c:"point"}}return nt(s)?{scale:s}:{scale:gh(),realScaleType:"point"}},ZA=1e-4,u1e=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-ZA,o=Math.max(s[0],s[1])+ZA,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},d1e=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},f1e=function(t,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ve(t[0])||t[0]<n)&&(i[0]=n),(!ve(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},h1e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=tf(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},m1e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=tf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},p1e={sign:h1e,expand:Pde,none:dd,silhouette:Ade,wiggle:Tde,positive:m1e},g1e=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=p1e[n],o=Ode().keys(s).value(function(l,c){return+ds(l,c,0)}).order(S_).offset(i);return o(t)},v1e=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?vr(vr({},h.type.defaultProps),h.props):h.props,p=g.stackId,y=g.hide;if(y)return f;var b=g[n],v=f[b]||{hasStack:!1,stackGroups:{}};if(Br(p)){var w=v.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),v.hasStack=!0,v.stackGroups[p]=w}else v.stackGroups[up("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return vr(vr({},f),{},Tu({},b,v))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,y){var b=m.stackGroups[y];return vr(vr({},p),{},Tu({},y,{numericAxisId:n,cateAxisId:s,items:b.items,stackedData:g1e(t,b.items,i)}))},g)}return vr(vr({},f),{},Tu({},h,m))},d)},y1e=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=O_e(u,i,l);return t.domain([pb(d),$o(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=P_e(f,i,l);return{niceTicks:h}}return null};function eT(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!vt(s[t.dataKey])){var l=$v(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=ds(s,vt(o)?t.dataKey:o);return vt(c)?null:t.scale(c)}var tT=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=ds(o,r.dataKey,r.domain[l]);return vt(c)?null:r.scale(c)-i/2+s},x1e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},b1e=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?vr(vr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Br(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},w1e=function(t){return t.reduce(function(r,n){return[pb(n.concat([r[0]]).filter(ve)),$o(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},mB=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=w1e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},rT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,t1=function(t,r,n){if(nt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(ve(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(rT.test(t[0])){var i=+rT.exec(t[0])[1];s[0]=r[0]-i}else nt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(ve(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(nT.test(t[1])){var o=+nT.exec(t[1])[1];s[1]=r[1]+o}else nt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},fy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=dk(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},sT=function(t,r,n){return!t||!t.length||mm(t,Ts(n,"type.defaultProps.domain"))?r:t},pB=function(t,r){var n=t.type.defaultProps?vr(vr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return vr(vr({},mt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:Dk(t),value:ds(r,s),type:c,payload:r,chartType:u,hide:d})};function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function iT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){j1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j1e(e,t,r){return t=_1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _1e(e){var t=S1e(e,"string");return xm(t)=="symbol"?t:t+""}function S1e(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hy=Math.PI/180,N1e=function(t){return t*180/Math.PI},rn=function(t,r,n,s){return{x:t+Math.cos(-hy*s)*n,y:r+Math.sin(-hy*s)*n}},k1e=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},C1e=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=k1e({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:N1e(u),angleInRadian:u}},E1e=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},O1e=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},oT=function(t,r){var n=t.x,s=t.y,i=C1e({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=E1e(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?iT(iT({},r),{},{radius:o,angle:O1e(m,r)}):null};function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}var P1e=["offset"];function A1e(e){return $1e(e)||M1e(e)||R1e(e)||T1e()}function T1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R1e(e,t){if(e){if(typeof e=="string")return r1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r1(e,t)}}function M1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $1e(e){if(Array.isArray(e))return r1(e)}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I1e(e,t){if(e==null)return{};var r=D1e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){L1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L1e(e,t,r){return t=F1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F1e(e){var t=U1e(e,"string");return bm(t)=="symbol"?t:t+""}function U1e(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wm.apply(this,arguments)}var B1e=function(t){var r=t.value,n=t.formatter,s=vt(t.children)?r:t.children;return nt(n)?n(s):s},q1e=function(t,r){var n=ca(r-t),s=Math.min(Math.abs(r-t),360);return n*s},z1e=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,y=(f+h)/2,b=q1e(m,g),v=b>=0?1:-1,w,S;s==="insideStart"?(w=m+v*o,S=p):s==="insideEnd"?(w=g-v*o,S=!p):s==="end"&&(w=g+v*o,S=p),S=b<=0?S:!S;var j=rn(u,d,y,w),_=rn(u,d,y,w+(S?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),k=vt(t.id)?up("recharts-radial-line-"):t.id;return P.createElement("text",wm({},n,{dominantBaseline:"central",className:wt("recharts-radial-bar-label",l)}),P.createElement("defs",null,P.createElement("path",{id:k,d:N})),P.createElement("textPath",{xlinkHref:"#".concat(k)},r))},W1e=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var m=rn(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,b=rn(o,l,y,h),v=b.x,w=b.y;return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},V1e=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,y=p*s,b=p>0?"end":"start",v=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return Mr(Mr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Mr(Mr({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Mr(Mr({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var _={x:l+u+y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Mr(Mr({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?Mr({x:l+y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},N):i==="insideRight"?Mr({x:l+u-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideTop"?Mr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?Mr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):i==="insideTopLeft"?Mr({x:l+y,y:c+h,textAnchor:v,verticalAnchor:g},N):i==="insideTopRight"?Mr({x:l+u-y,y:c+h,textAnchor:b,verticalAnchor:g},N):i==="insideBottomLeft"?Mr({x:l+y,y:c+d-h,textAnchor:v,verticalAnchor:m},N):i==="insideBottomRight"?Mr({x:l+u-y,y:c+d-h,textAnchor:b,verticalAnchor:m},N):Xd(i)&&(ve(i.x)||Il(i.x))&&(ve(i.y)||Il(i.y))?Mr({x:l+gc(i.x,u),y:c+gc(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):Mr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},K1e=function(t){return"cx"in t&&ve(t.cx)};function fn(e){var t=e.offset,r=t===void 0?5:t,n=I1e(e,P1e),s=Mr({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||vt(l)&&vt(c)&&!x.isValidElement(u)&&!nt(u))return null;if(x.isValidElement(u))return x.cloneElement(u,s);var m;if(nt(u)){if(m=x.createElement(u,s),x.isValidElement(m))return m}else m=B1e(s);var g=K1e(i),p=mt(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return z1e(s,m,p);var y=g?W1e(s):V1e(s);return P.createElement(Xv,wm({className:wt("recharts-label",f)},p,y,{breakAll:h}),m)}fn.displayName="Label";var gB=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,y=t.height,b=t.clockWise,v=t.labelViewBox;if(v)return v;if(ve(p)&&ve(y)){if(ve(f)&&ve(h))return{x:f,y:h,width:p,height:y};if(ve(m)&&ve(g))return{x:m,y:g,width:p,height:y}}return ve(f)&&ve(h)?{x:f,y:h,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},H1e=function(t,r){return t?t===!0?P.createElement(fn,{key:"label-implicit",viewBox:r}):Br(t)?P.createElement(fn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===fn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):P.createElement(fn,{key:"label-implicit",content:t,viewBox:r}):nt(t)?P.createElement(fn,{key:"label-implicit",content:t,viewBox:r}):Xd(t)?P.createElement(fn,wm({viewBox:r},t,{key:"label-implicit"})):null:null},G1e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=gB(t),o=ga(s,fn).map(function(c,u){return x.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=H1e(t.label,r||i);return[l].concat(A1e(o))};fn.parseViewBox=gB;fn.renderCallByParent=G1e;function Y1e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Q1e=Y1e;const X1e=qt(Q1e);function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}var J1e=["valueAccessor"],Z1e=["data","dataKey","clockWise","id","textBreakAll"];function eSe(e){return sSe(e)||nSe(e)||rSe(e)||tSe()}function tSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rSe(e,t){if(e){if(typeof e=="string")return n1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n1(e,t)}}function nSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sSe(e){if(Array.isArray(e))return n1(e)}function n1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(this,arguments)}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){aSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aSe(e,t,r){return t=iSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iSe(e){var t=oSe(e,"string");return jm(t)=="symbol"?t:t+""}function oSe(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dT(e,t){if(e==null)return{};var r=lSe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cSe=function(t){return Array.isArray(t.value)?X1e(t.value):t.value};function Qo(e){var t=e.valueAccessor,r=t===void 0?cSe:t,n=dT(e,J1e),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=dT(n,Z1e);return!s||!s.length?null:P.createElement(ur,{className:"recharts-label-list"},s.map(function(d,f){var h=vt(i)?r(d,f):ds(d&&d.payload,i),m=vt(l)?{}:{id:"".concat(l,"-").concat(f)};return P.createElement(fn,my({},mt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:fn.parseViewBox(vt(o)?d:uT(uT({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Qo.displayName="LabelList";function uSe(e,t){return e?e===!0?P.createElement(Qo,{key:"labelList-implicit",data:t}):P.isValidElement(e)||nt(e)?P.createElement(Qo,{key:"labelList-implicit",data:t,content:e}):Xd(e)?P.createElement(Qo,my({data:t},e,{key:"labelList-implicit"})):null:null}function dSe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=ga(n,Qo).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=uSe(e.label,t);return[i].concat(eSe(s))}Qo.renderCallByParent=dSe;function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s1.apply(this,arguments)}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){fSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fSe(e,t,r){return t=hSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hSe(e){var t=mSe(e,"string");return _m(t)=="symbol"?t:t+""}function mSe(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pSe=function(t,r){var n=ca(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},dg=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/hy,h=u?i:i+o*f,m=rn(r,n,d,h),g=rn(r,n,s,h),p=u?i-o*f:i,y=rn(r,n,d*Math.cos(f*hy),p);return{center:m,circleTangency:g,lineTangency:y,theta:f}},vB=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=pSe(o,l),u=o+c,d=rn(r,n,i,o),f=rn(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=rn(r,n,s,o),g=rn(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},gSe=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ca(d-u),h=dg({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,y=dg({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=y.circleTangency,v=y.lineTangency,w=y.theta,S=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(S<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):vB({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var _=dg({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=_.circleTangency,k=_.lineTangency,C=_.theta,A=dg({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=A.circleTangency,O=A.lineTangency,B=A.theta,T=c?Math.abs(u-d):Math.abs(u-d)-C-B;if(T<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(T>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},vSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yB=function(t){var r=hT(hT({},vSe),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=wt("recharts-sector",h),g=o-i,p=gc(l,g,0,!0),y;return p>0&&Math.abs(d-f)<360?y=gSe({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=vB({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),P.createElement("path",s1({},mt(r,!0),{className:m,d:y,role:"img"}))};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a1.apply(this,arguments)}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){ySe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ySe(e,t,r){return t=xSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xSe(e){var t=bSe(e,"string");return Sm(t)=="symbol"?t:t+""}function bSe(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gT={curveBasisClosed:yde,curveBasisOpen:xde,curveBasis:vde,curveBumpX:nde,curveBumpY:sde,curveLinearClosed:bde,curveLinear:sb,curveMonotoneX:wde,curveMonotoneY:jde,curveNatural:_de,curveStep:Sde,curveStepAfter:kde,curveStepBefore:Nde},fg=function(t){return t.x===+t.x&&t.y===+t.y},$f=function(t){return t.x},If=function(t){return t.y},wSe=function(t,r){if(nt(t))return t;var n="curve".concat(rb(t));return(n==="curveMonotone"||n==="curveBump")&&r?gT["".concat(n).concat(r==="vertical"?"Y":"X")]:gT[n]||sb},jSe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=wSe(n,l),f=u?i.filter(function(p){return fg(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return fg(p)}):o,g=f.map(function(p,y){return pT(pT({},p),{},{base:m[y]})});return l==="vertical"?h=rg().y(If).x1($f).x0(function(p){return p.base.x}):h=rg().x($f).y1(If).y0(function(p){return p.base.y}),h.defined(fg).curve(d),h(g)}return l==="vertical"&&ve(o)?h=rg().y(If).x1($f).x0(o):ve(o)?h=rg().x($f).y1(If).y0(o):h=x5().x($f).y(If),h.defined(fg).curve(d),h(f)},yh=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?jSe(t):s;return x.createElement("path",a1({},mt(t,!1),Iv(t),{className:wt("recharts-curve",r),d:o,ref:i}))},xB={exports:{}},_Se="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SSe=_Se,NSe=SSe;function bB(){}function wB(){}wB.resetWarningCache=bB;var kSe=function(){function e(n,s,i,o,l,c){if(c!==NSe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:wB,resetWarningCache:bB};return r.PropTypes=r,r};xB.exports=kSe();var CSe=xB.exports;const Tt=qt(CSe),{getOwnPropertyNames:ESe,getOwnPropertySymbols:OSe}=Object,{hasOwnProperty:PSe}=Object.prototype;function a0(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function hg(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function ASe(e){return e!=null?e[Symbol.toStringTag]:void 0}function vT(e){return ESe(e).concat(OSe(e))}const TSe=Object.hasOwn||((e,t)=>PSe.call(e,t));function Pc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const RSe="__v",MSe="__o",$Se="_owner",{getOwnPropertyDescriptor:yT,keys:xT}=Object;function ISe(e,t){return e.byteLength===t.byteLength&&py(new Uint8Array(e),new Uint8Array(t))}function DSe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function LSe(e,t){return e.byteLength===t.byteLength&&py(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function FSe(e,t){return Pc(e.getTime(),t.getTime())}function USe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function BSe(e,t){return e===t}function bT(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const qSe=Pc;function zSe(e,t,r){const n=xT(e);let s=n.length;if(xT(t).length!==s)return!1;for(;s-- >0;)if(!jB(e,t,r,n[s]))return!1;return!0}function Df(e,t,r){const n=vT(e);let s=n.length;if(vT(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!jB(e,t,r,i)||(o=yT(e,i),l=yT(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function WSe(e,t){return Pc(e.valueOf(),t.valueOf())}function VSe(e,t){return e.source===t.source&&e.flags===t.flags}function wT(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function py(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function KSe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function jB(e,t,r,n){return(n===$Se||n===MSe||n===RSe)&&(e.$$typeof||t.$$typeof)?!0:TSe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const HSe="[object ArrayBuffer]",GSe="[object Arguments]",YSe="[object Boolean]",QSe="[object DataView]",XSe="[object Date]",JSe="[object Error]",ZSe="[object Map]",eNe="[object Number]",tNe="[object Object]",rNe="[object RegExp]",nNe="[object Set]",sNe="[object String]",aNe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},iNe="[object URL]",oNe=Object.prototype.toString;function lNe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(y,b,v){if(y===b)return!0;if(y==null||b==null)return!1;const w=typeof y;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(y,b,v):w==="function"?i(y,b,v):!1;const S=y.constructor;if(S!==b.constructor)return!1;if(S===Object)return c(y,b,v);if(Array.isArray(y))return t(y,b,v);if(S===Date)return n(y,b,v);if(S===RegExp)return d(y,b,v);if(S===Map)return o(y,b,v);if(S===Set)return f(y,b,v);const j=oNe.call(y);if(j===XSe)return n(y,b,v);if(j===rNe)return d(y,b,v);if(j===ZSe)return o(y,b,v);if(j===nNe)return f(y,b,v);if(j===tNe)return typeof y.then!="function"&&typeof b.then!="function"&&c(y,b,v);if(j===iNe)return m(y,b,v);if(j===JSe)return s(y,b,v);if(j===GSe)return c(y,b,v);if(aNe[j])return h(y,b,v);if(j===HSe)return e(y,b,v);if(j===QSe)return r(y,b,v);if(j===YSe||j===eNe||j===sNe)return u(y,b,v);if(g){let _=g[j];if(!_){const N=ASe(y);N&&(_=g[N])}if(_)return _(y,b,v)}return!1}}function cNe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:ISe,areArraysEqual:r?Df:DSe,areDataViewsEqual:LSe,areDatesEqual:FSe,areErrorsEqual:USe,areFunctionsEqual:BSe,areMapsEqual:r?a0(bT,Df):bT,areNumbersEqual:qSe,areObjectsEqual:r?Df:zSe,arePrimitiveWrappersEqual:WSe,areRegExpsEqual:VSe,areSetsEqual:r?a0(wT,Df):wT,areTypedArraysEqual:r?a0(py,Df):py,areUrlsEqual:KSe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=hg(n.areArraysEqual),i=hg(n.areMapsEqual),o=hg(n.areObjectsEqual),l=hg(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function uNe(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function dNe({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const fNe=pl();pl({strict:!0});pl({circular:!0});pl({circular:!0,strict:!0});pl({createInternalComparator:()=>Pc});pl({strict:!0,createInternalComparator:()=>Pc});pl({circular:!0,createInternalComparator:()=>Pc});pl({circular:!0,createInternalComparator:()=>Pc,strict:!0});function pl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=cNe(e),o=lNe(i),l=r?r(o):uNe(o);return dNe({circular:t,comparator:o,createState:n,equals:l,strict:s})}function hNe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function jT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):hNe(s)};requestAnimationFrame(n)}function i1(e){"@babel/helpers - typeof";return i1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i1(e)}function mNe(e){return yNe(e)||vNe(e)||gNe(e)||pNe()}function pNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gNe(e,t){if(e){if(typeof e=="string")return _T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _T(e,t)}}function _T(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yNe(e){if(Array.isArray(e))return e}function xNe(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=mNe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){jT(s.bind(null,u),c);return}s(c),jT(s.bind(null,u));return}i1(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){_B(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _B(e,t,r){return t=bNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bNe(e){var t=wNe(e,"string");return Nm(t)==="symbol"?t:String(t)}function wNe(e,t){if(Nm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jNe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},_Ne=function(t){return t},SNe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},xh=function(t,r){return Object.keys(r).reduce(function(n,s){return NT(NT({},n),{},_B({},s,t(s,r[s])))},{})},kT=function(t,r,n){return t.map(function(s){return"".concat(SNe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function NNe(e,t){return ENe(e)||CNe(e,t)||SB(e,t)||kNe()}function kNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function ENe(e){if(Array.isArray(e))return e}function ONe(e){return TNe(e)||ANe(e)||SB(e)||PNe()}function PNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SB(e,t){if(e){if(typeof e=="string")return o1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o1(e,t)}}function ANe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TNe(e){if(Array.isArray(e))return o1(e)}function o1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gy=1e-4,NB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},kB=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},CT=function(t,r){return function(n){var s=NB(t,r);return kB(s,n)}},RNe=function(t,r){return function(n){var s=NB(t,r),i=[].concat(ONe(s.map(function(o,l){return o*l}).slice(1)),[0]);return kB(i,n)}},ET=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=NNe(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=CT(s,o),h=CT(i,l),m=RNe(s,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var v=b>1?1:b,w=v,S=0;S<8;++S){var j=f(w)-v,_=m(w);if(Math.abs(j-v)<gy||_<gy)return h(w);w=g(w-j/_)}return h(w)};return p.isStepper=!1,p},MNe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*i,p=h+(m-g)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<gy&&Math.abs(p)<gy?[f,0]:[y,p]};return c.isStepper=!0,c.dt=l,c},$Ne=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ET(s);case"spring":return MNe();default:if(s.split("(")[0]==="cubic-bezier")return ET(s)}return typeof s=="function"?s:null};function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function OT(e){return LNe(e)||DNe(e)||CB(e)||INe()}function INe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LNe(e){if(Array.isArray(e))return c1(e)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){l1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l1(e,t,r){return t=FNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FNe(e){var t=UNe(e,"string");return km(t)==="symbol"?t:String(t)}function UNe(e,t){if(km(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BNe(e,t){return WNe(e)||zNe(e,t)||CB(e,t)||qNe()}function qNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CB(e,t){if(e){if(typeof e=="string")return c1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c1(e,t)}}function c1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function WNe(e){if(Array.isArray(e))return e}var vy=function(t,r,n){return t+(r-t)*n},u1=function(t){var r=t.from,n=t.to;return r!==n},VNe=function e(t,r,n){var s=xh(function(i,o){if(u1(o)){var l=t(o.from,o.to,o.velocity),c=BNe(l,2),u=c[0],d=c[1];return Zr(Zr({},o),{},{from:u,velocity:d})}return o},r);return n<1?xh(function(i,o){return u1(o)?Zr(Zr({},o),{},{velocity:vy(o.velocity,s[i].velocity,n),from:vy(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const KNe=function(e,t,r,n,s){var i=jNe(e,t),o=i.reduce(function(y,b){return Zr(Zr({},y),{},l1({},b,[e[b],t[b]]))},{}),l=i.reduce(function(y,b){return Zr(Zr({},y),{},l1({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return xh(function(b,v){return v.from},l)},m=function(){return!Object.values(l).filter(u1).length},g=function(b){u||(u=b);var v=b-u,w=v/r.dt;l=VNe(r,l,w),s(Zr(Zr(Zr({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var v=(b-d)/n,w=xh(function(j,_){return vy.apply(void 0,OT(_).concat([r(v)]))},o);if(s(Zr(Zr(Zr({},e),t),w)),v<1)c=requestAnimationFrame(f);else{var S=xh(function(j,_){return vy.apply(void 0,OT(_).concat([r(1)]))},o);s(Zr(Zr(Zr({},e),t),S))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}var HNe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function GNe(e,t){if(e==null)return{};var r=YNe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YNe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function i0(e){return ZNe(e)||JNe(e)||XNe(e)||QNe()}function QNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XNe(e,t){if(e){if(typeof e=="string")return d1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d1(e,t)}}function JNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZNe(e){if(Array.isArray(e))return d1(e)}function d1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){Zf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zf(e,t,r){return t=EB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EB(n.key),n)}}function rke(e,t,r){return t&&tke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EB(e){var t=nke(e,"string");return bd(t)==="symbol"?t:String(t)}function nke(e,t){if(bd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ske(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f1(e,t)}function f1(e,t){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},f1(e,t)}function ake(e){var t=ike();return function(){var n=yy(e),s;if(t){var i=yy(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return h1(this,s)}}function h1(e,t){if(t&&(bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m1(e)}function m1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ike(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(e)}var qi=function(e){ske(r,e);var t=ake(r);function r(n,s){var i;eke(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(m1(i)),i.changeStyle=i.changeStyle.bind(m1(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),h1(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},h1(i);i.state={style:c?Zf({},c,u):u}}else i.state={style:{}};return i}return rke(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?Zf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(fNe(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:s.to;if(this.state&&h){var y={style:c?Zf({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(y)}this.runAnimation(Ys(Ys({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=KNe(o,l,$Ne(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,y,b){if(b===0)return p;var v=y.duration,w=y.easing,S=w===void 0?"ease":w,j=y.style,_=y.properties,N=y.onAnimationEnd,k=b>0?o[b-1]:y,C=_||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(i0(p),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:v,easing:S}),v]);var A=kT(C,v,S),I=Ys(Ys(Ys({},k.style),j),{},{transition:A});return[].concat(i0(p),[I,v,N]).filter(_Ne)};return this.manager.start([c].concat(i0(o.reduce(m,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=xNe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?Zf({},l,c):c,y=kT(Object.keys(p),o,u);g.start([d,i,Ys(Ys({},p),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=GNe(s,HNe),u=x.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var g=m.props,p=g.style,y=p===void 0?{}:p,b=g.className,v=x.cloneElement(m,Ys(Ys({},c),{},{style:Ys(Ys({},y),d),className:b}));return v};return u===1?f(x.Children.only(i)):P.createElement("div",null,x.Children.map(i,function(h){return f(h)}))}}]),r}(x.PureComponent);qi.displayName="Animate";qi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};qi.propTypes={from:Tt.oneOfType([Tt.object,Tt.string]),to:Tt.oneOfType([Tt.object,Tt.string]),attributeName:Tt.string,duration:Tt.number,begin:Tt.number,easing:Tt.oneOfType([Tt.string,Tt.func]),steps:Tt.arrayOf(Tt.shape({duration:Tt.number.isRequired,style:Tt.object.isRequired,easing:Tt.oneOfType([Tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Tt.func]),properties:Tt.arrayOf("string"),onAnimationEnd:Tt.func})),children:Tt.oneOfType([Tt.node,Tt.func]),isActive:Tt.bool,canBegin:Tt.bool,onAnimationEnd:Tt.func,shouldReAnimate:Tt.bool,onAnimationStart:Tt.func,onAnimationReStart:Tt.func};function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}function oke(e,t){return dke(e)||uke(e,t)||cke(e,t)||lke()}function lke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cke(e,t){if(e){if(typeof e=="string")return TT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TT(e,t)}}function TT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function dke(e){if(Array.isArray(e))return e}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function MT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){fke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fke(e,t,r){return t=hke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hke(e){var t=mke(e,"string");return Cm(t)=="symbol"?t:t+""}function mke(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $T=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},pke=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},gke={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lk=function(t){var r=MT(MT({},gke),t),n=x.useRef(),s=x.useState(-1),i=oke(s,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,y=r.animationBegin,b=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=wt("recharts-rectangle",m);return v?P.createElement(qi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:v},function(S){var j=S.width,_=S.height,N=S.x,k=S.y;return P.createElement(qi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:b,easing:g},P.createElement("path",xy({},mt(r,!0),{className:w,d:$T(N,k,j,_,h),ref:n})))}):P.createElement("path",xy({},mt(r,!0),{className:w,d:$T(c,u,d,f,h)}))};function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p1.apply(this,arguments)}var Fk=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=wt("recharts-dot",i);return r===+r&&n===+n&&s===+s?x.createElement("circle",p1({},mt(t,!1),Iv(t),{className:o,cx:r,cy:n,r:s})):null};function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}var vke=["x","y","top","left","width","height","className"];function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g1.apply(this,arguments)}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){xke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xke(e,t,r){return t=bke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bke(e){var t=wke(e,"string");return Em(t)=="symbol"?t:t+""}function wke(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jke(e,t){if(e==null)return{};var r=_ke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _ke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ske=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},Nke=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=jke(t,vke),y=yke({x:n,y:i,top:l,left:u,width:f,height:m},p);return!ve(n)||!ve(i)||!ve(f)||!ve(m)||!ve(l)||!ve(u)?null:P.createElement("path",g1({},mt(y,!0),{className:wt("recharts-cross",g),d:Ske(n,i,f,m,l,u)}))},kke=z5,Cke=kke(Object.getPrototypeOf,Object),Eke=Cke,Oke=Yi,Pke=Eke,Ake=Qi,Tke="[object Object]",Rke=Function.prototype,Mke=Object.prototype,OB=Rke.toString,$ke=Mke.hasOwnProperty,Ike=OB.call(Object);function Dke(e){if(!Ake(e)||Oke(e)!=Tke)return!1;var t=Pke(e);if(t===null)return!0;var r=$ke.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&OB.call(r)==Ike}var Lke=Dke;const Fke=qt(Lke);var Uke=Yi,Bke=Qi,qke="[object Boolean]";function zke(e){return e===!0||e===!1||Bke(e)&&Uke(e)==qke}var Wke=zke;const Vke=qt(Wke);function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(this,arguments)}function Kke(e,t){return Qke(e)||Yke(e,t)||Gke(e,t)||Hke()}function Hke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gke(e,t){if(e){if(typeof e=="string")return DT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DT(e,t)}}function DT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Qke(e){if(Array.isArray(e))return e}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function FT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){Xke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xke(e,t,r){return t=Jke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jke(e){var t=Zke(e,"string");return Om(t)=="symbol"?t:t+""}function Zke(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UT=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},eCe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tCe=function(t){var r=FT(FT({},eCe),t),n=x.useRef(),s=x.useState(-1),i=Kke(s,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,y=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=wt("recharts-trapezoid",m);return b?P.createElement(qi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var S=w.upperWidth,j=w.lowerWidth,_=w.height,N=w.x,k=w.y;return P.createElement(qi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:g},P.createElement("path",by({},mt(r,!0),{className:v,d:UT(N,k,S,j,_),ref:n})))}):P.createElement("g",null,P.createElement("path",by({},mt(r,!0),{className:v,d:UT(c,u,d,f,h)})))},rCe=["option","shapeType","propTransformer","activeClassName","isActive"];function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function nCe(e,t){if(e==null)return{};var r=sCe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){aCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aCe(e,t,r){return t=iCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iCe(e){var t=oCe(e,"string");return Pm(t)=="symbol"?t:t+""}function oCe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lCe(e,t){return wy(wy({},t),e)}function cCe(e,t){return e==="symbols"}function qT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return P.createElement(Lk,r);case"trapezoid":return P.createElement(tCe,r);case"sector":return P.createElement(yB,r);case"symbols":if(cCe(t))return P.createElement(nk,r);break;default:return null}}function uCe(e){return x.isValidElement(e)?e.props:e}function dCe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?lCe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=nCe(e,rCe),u;if(x.isValidElement(t))u=x.cloneElement(t,wy(wy({},c),uCe(t)));else if(nt(t))u=t(c);else if(Fke(t)&&!Vke(t)){var d=s(t,c);u=P.createElement(qT,{shapeType:r,elementProps:d})}else{var f=c;u=P.createElement(qT,{shapeType:r,elementProps:f})}return l?P.createElement(ur,{className:o},u):u}function xb(e,t){return t!=null&&"trapezoids"in e.props}function bb(e,t){return t!=null&&"sectors"in e.props}function Am(e,t){return t!=null&&"points"in e.props}function fCe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function hCe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function mCe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function pCe(e,t){var r;return xb(e,t)?r=fCe:bb(e,t)?r=hCe:Am(e,t)&&(r=mCe),r}function gCe(e,t){var r;return xb(e,t)?r="trapezoids":bb(e,t)?r="sectors":Am(e,t)&&(r="points"),r}function vCe(e,t){if(xb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(bb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Am(e,t)?t.payload:{}}function yCe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=gCe(r,t),i=vCe(r,t),o=n.filter(function(c,u){var d=mm(i,c),f=r.props[s].filter(function(g){var p=pCe(r,t);return p(g,t)}),h=r.props[s].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var xCe=Math.ceil,bCe=Math.max;function wCe(e,t,r,n){for(var s=-1,i=bCe(xCe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var jCe=wCe,_Ce=lU,zT=1/0,SCe=17976931348623157e292;function NCe(e){if(!e)return e===0?e:0;if(e=_Ce(e),e===zT||e===-zT){var t=e<0?-1:1;return t*SCe}return e===e?e:0}var PB=NCe,kCe=jCe,CCe=lb,o0=PB;function ECe(e){return function(t,r,n){return n&&typeof n!="number"&&CCe(t,r,n)&&(r=n=void 0),t=o0(t),r===void 0?(r=t,t=0):r=o0(r),n=n===void 0?t<r?1:-1:o0(n),kCe(t,r,n,e)}}var OCe=ECe,PCe=OCe,ACe=PCe(),TCe=ACe;const jy=qt(TCe);function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){AB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AB(e,t,r){return t=RCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RCe(e){var t=MCe(e,"string");return Tm(t)=="symbol"?t:t+""}function MCe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Ce=["Webkit","Moz","O","ms"],ICe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=$Ce.reduce(function(i,o){return VT(VT({},i),{},AB({},o+n,r))},{});return s[t]=r,s};function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(this,arguments)}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){Xn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RB(n.key),n)}}function LCe(e,t,r){return t&&HT(e.prototype,t),r&&HT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FCe(e,t,r){return t=Sy(t),UCe(e,TB()?Reflect.construct(t,r||[],Sy(e).constructor):t.apply(e,r))}function UCe(e,t){if(t&&(wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BCe(e)}function BCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!e})()}function Sy(e){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sy(e)}function qCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v1(e,t)}function v1(e,t){return v1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},v1(e,t)}function Xn(e,t,r){return t=RB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=zCe(e,"string");return wd(t)=="symbol"?t:t+""}function zCe(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WCe=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=gh().domain(jy(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},GT=function(t){return t.changedTouches&&!!t.changedTouches.length},jd=function(e){function t(r){var n;return DCe(this,t),n=FCe(this,t,[r]),Xn(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Xn(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Xn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Xn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Xn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Xn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Xn(n,"handleSlideDragStart",function(s){var i=GT(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return qCe(t,e),LCe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=ds(i[n],l,n);return nt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var y=this.getIndex({startX:o+p,endX:l+p});(y.startIndex!==h||y.endIndex!==m)&&g&&g(y),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=GT(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,y=d.data,b={startX:this.state.startX,endX:this.state.endX},v=n.pageX-i;v>0?v=Math.min(v,f+h-m-u):v<0&&(v=Math.max(v,f-u)),b[o]=u+v;var w=this.getIndex(b),S=w.startIndex,j=w.endIndex,_=function(){var k=y.length-1;return o==="startX"&&(l>c?S%p===0:j%p===0)||l<c&&j===k||o==="endX"&&(l>c?j%p===0:S%p===0)||l>c&&j===k};this.setState(Xn(Xn({},o,u+v),"brushMoveStartX",n.pageX),function(){g&&_()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(Xn({},s,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return P.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?P.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,y=c.endIndex,b=Math.max(n,this.props.x),v=l0(l0({},mt(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[y])===null||o===void 0?void 0:o.name);return P.createElement(ur,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return P.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return P.createElement(ur,{className:"recharts-brush-texts"},P.createElement(Xv,_y({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(s)),P.createElement(Xv,_y({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,v=h.isTravellerFocused;if(!s||!s.length||!ve(l)||!ve(c)||!ve(u)||!ve(d)||u<=0||d<=0)return null;var w=wt("recharts-brush",i),S=P.Children.count(o)===1,j=ICe("userSelect","none");return P.createElement(ur,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||y||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return P.createElement(P.Fragment,null,P.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),P.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),P.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return P.isValidElement(n)?i=P.cloneElement(n,s):nt(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return l0({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?WCe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(x.PureComponent);Xn(jd,"displayName","Brush");Xn(jd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var VCe=uk;function KCe(e,t){var r;return VCe(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var HCe=KCe,GCe=$5,YCe=fl,QCe=HCe,XCe=Hn,JCe=lb;function ZCe(e,t,r){var n=XCe(e)?GCe:QCe;return r&&JCe(e,t,r)&&(t=void 0),n(e,YCe(t))}var e2e=ZCe;const t2e=qt(e2e);var Ha=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},YT=nU;function r2e(e,t,r){t=="__proto__"&&YT?YT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var n2e=r2e,s2e=n2e,a2e=tU,i2e=fl;function o2e(e,t){var r={};return t=i2e(t),a2e(e,function(n,s,i){s2e(r,s,t(n,s,i))}),r}var l2e=o2e;const c2e=qt(l2e);function u2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var d2e=u2e,f2e=uk;function h2e(e,t){var r=!0;return f2e(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var m2e=h2e,p2e=d2e,g2e=m2e,v2e=fl,y2e=Hn,x2e=lb;function b2e(e,t,r){var n=y2e(e)?p2e:g2e;return r&&x2e(e,t,r)&&(t=void 0),n(e,v2e(t))}var w2e=b2e;const MB=qt(w2e);var j2e=["x","y"];function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y1.apply(this,arguments)}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){_2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _2e(e,t,r){return t=S2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S2e(e){var t=N2e(e,"string");return Rm(t)=="symbol"?t:t+""}function N2e(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k2e(e,t){if(e==null)return{};var r=C2e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E2e(e,t){var r=e.x,n=e.y,s=k2e(e,j2e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Lf(Lf(Lf(Lf(Lf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function XT(e){return P.createElement(dCe,y1({shapeType:"rectangle",propTransformer:E2e,activeClassName:"recharts-active-bar"},e))}var O2e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=ve(n)||qce(n);return i?t(n,s):(i||yc(),r)}},P2e=["value","background"],$B;function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function A2e(e,t){if(e==null)return{};var r=T2e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){Io(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DB(n.key),n)}}function M2e(e,t,r){return t&&ZT(e.prototype,t),r&&ZT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $2e(e,t,r){return t=ky(t),I2e(e,IB()?Reflect.construct(t,r||[],ky(e).constructor):t.apply(e,r))}function I2e(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D2e(e)}function D2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IB=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(e)}function L2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x1(e,t)}function x1(e,t){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},x1(e,t)}function Io(e,t,r){return t=DB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DB(e){var t=F2e(e,"string");return _d(t)=="symbol"?t:t+""}function F2e(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ac=function(e){function t(){var r;R2e(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=$2e(this,t,[].concat(s)),Io(r,"state",{isAnimationFinished:!1}),Io(r,"id",up("recharts-bar-")),Io(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Io(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return L2e(t,e),M2e(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=mt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=Sr(Sr(Sr({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return P.createElement(ur,Ny({className:"recharts-bar-rectangle"},Dv(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),P.createElement(XT,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return P.createElement(qi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(y,b){var v=h&&h[b];if(v){var w=_s(v.x,y.x),S=_s(v.y,y.y),j=_s(v.width,y.width),_=_s(v.height,y.height);return Sr(Sr({},y),{},{x:w(g),y:S(g),width:j(g),height:_(g)})}if(o==="horizontal"){var N=_s(0,y.height),k=N(g);return Sr(Sr({},y),{},{y:y.y+y.height-k,height:k})}var C=_s(0,y.width),A=C(g);return Sr(Sr({},y),{},{width:A})});return P.createElement(ur,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!mm(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=mt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=A2e(u,P2e);if(!f)return null;var m=Sr(Sr(Sr(Sr(Sr({},h),{},{fill:"#eee"},f),c),Dv(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return P.createElement(XT,Ny({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ga(d,yb);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,b){var v=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:v,errorVal:ds(y,b)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return P.createElement(ur,g,f.map(function(p){return P.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,b=wt("recharts-bar",o),v=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,S=v||w,j=vt(p)?this.id:p;return P.createElement(ur,{className:b},v||w?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(j)},P.createElement("rect",{x:v?u:u-f/2,y:w?d:d-h/2,width:v?f:f*2,height:w?h:h*2}))):null,P.createElement(ur,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!m||y)&&Qo.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(x.PureComponent);$B=Ac;Io(Ac,"displayName","Bar");Io(Ac,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!af.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Io(Ac,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=d1e(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,y=p!==void 0?Sr(Sr({},p),r.props):r.props,b=y.dataKey,v=y.children,w=y.minPointSize,S=g==="horizontal"?o:i,j=u?S.scale.domain():null,_=x1e({numericAxis:S}),N=ga(v,uU),k=f.map(function(C,A){var I,O,B,T,z,R;u?I=f1e(u[d+A],j):(I=ds(C,b),Array.isArray(I)||(I=[_,I]));var V=O2e(w,$B.defaultProps.minPointSize)(I[1],A);if(g==="horizontal"){var D,$=[o.scale(I[0]),o.scale(I[1])],M=$[0],te=$[1];O=tT({axis:i,ticks:l,bandSize:s,offset:m.offset,entry:C,index:A}),B=(D=te??M)!==null&&D!==void 0?D:void 0,T=m.size;var Q=M-te;if(z=Number.isNaN(Q)?0:Q,R={x:O,y:o.y,width:T,height:o.height},Math.abs(V)>0&&Math.abs(z)<Math.abs(V)){var le=ca(z||V)*(Math.abs(V)-Math.abs(z));B-=le,z+=le}}else{var me=[i.scale(I[0]),i.scale(I[1])],We=me[0],Ve=me[1];if(O=We,B=tT({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:C,index:A}),T=Ve-We,z=m.size,R={x:i.x,y:B,width:i.width,height:z},Math.abs(V)>0&&Math.abs(T)<Math.abs(V)){var ce=ca(T||V)*(Math.abs(V)-Math.abs(T));T+=ce}}return Sr(Sr(Sr({},C),{},{x:O,y:B,width:T,height:z,value:u?I:I[1],payload:C,background:R},N&&N[A]&&N[A].props),{},{tooltipPayload:[pB(r,C)],tooltipPosition:{x:O+T/2,y:B+z/2}})});return Sr({data:k,layout:g},h)});function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function U2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LB(n.key),n)}}function B2e(e,t,r){return t&&eR(e.prototype,t),r&&eR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){wb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wb(e,t,r){return t=LB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=q2e(e,"string");return Mm(t)=="symbol"?t:t+""}function q2e(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FB=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Zn(u,Ac);return d.reduce(function(m,g){var p=r[g],y=p.orientation,b=p.domain,v=p.padding,w=v===void 0?{}:v,S=p.mirror,j=p.reversed,_="".concat(y).concat(S?"Mirror":""),N,k,C,A,I;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var O=b[1]-b[0],B=1/0,T=p.categoricalDomain.sort(Vce);if(T.forEach(function(me,We){We>0&&(B=Math.min((me||0)-(T[We-1]||0),B))}),Number.isFinite(B)){var z=B/O,R=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=z*R/2),p.padding==="no-gap"){var V=gc(t.barCategoryGap,z*R),D=z*R/2;N=D-V-(D-V)/R*V}}}s==="xAxis"?k=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:k=p.range,j&&(k=[k[1],k[0]]);var $=c1e(p,i,h),M=$.scale,te=$.realScaleType;M.domain(b).range(k),u1e(M);var Q=y1e(M,sa(sa({},p),{},{realScaleType:te}));s==="xAxis"?(I=y==="top"&&!S||y==="bottom"&&S,C=n.left,A=f[_]-I*p.height):s==="yAxis"&&(I=y==="left"&&!S||y==="right"&&S,C=f[_]-I*p.width,A=n.top);var le=sa(sa(sa({},p),Q),{},{realScaleType:te,x:C,y:A,scale:M,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return le.bandSize=fy(le,Q),!p.hide&&s==="xAxis"?f[_]+=(I?-1:1)*le.height:p.hide||(f[_]+=(I?-1:1)*le.width),sa(sa({},m),{},wb({},g,le))},{})},UB=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},z2e=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return UB({x:r,y:n},{x:s,y:i})},BB=function(){function e(t){U2e(this,e),this.scale=t}return B2e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();wb(BB,"EPS",1e-4);var Uk=function(t){var r=Object.keys(t).reduce(function(n,s){return sa(sa({},n),{},wb({},s,BB.create(t[s])))},{});return sa(sa({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return c2e(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return MB(s,function(i,o){return r[o].isInRange(i)})}})};function W2e(e){return(e%180+180)%180}var V2e=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=W2e(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},K2e=fl,H2e=dp,G2e=ib;function Y2e(e){return function(t,r,n){var s=Object(t);if(!H2e(t)){var i=K2e(r);t=G2e(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var Q2e=Y2e,X2e=PB;function J2e(e){var t=X2e(e),r=t%1;return t===t?r?t-r:t:0}var Z2e=J2e,eEe=Y5,tEe=fl,rEe=Z2e,nEe=Math.max;function sEe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:rEe(r);return s<0&&(s=nEe(n+s,0)),eEe(e,tEe(t),s)}var aEe=sEe,iEe=Q2e,oEe=aEe,lEe=iEe(oEe),cEe=lEe;const uEe=qt(cEe);var dEe=Gle(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Bk=x.createContext(void 0),qk=x.createContext(void 0),qB=x.createContext(void 0),zB=x.createContext({}),WB=x.createContext(void 0),VB=x.createContext(0),KB=x.createContext(0),rR=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=dEe(i);return P.createElement(Bk.Provider,{value:n},P.createElement(qk.Provider,{value:s},P.createElement(zB.Provider,{value:i},P.createElement(qB.Provider,{value:d},P.createElement(WB.Provider,{value:o},P.createElement(VB.Provider,{value:u},P.createElement(KB.Provider,{value:c},l)))))))},fEe=function(){return x.useContext(WB)},HB=function(t){var r=x.useContext(Bk);r==null&&yc();var n=r[t];return n==null&&yc(),n},hEe=function(){var t=x.useContext(Bk);return wo(t)},mEe=function(){var t=x.useContext(qk),r=uEe(t,function(n){return MB(n.domain,Number.isFinite)});return r||wo(t)},GB=function(t){var r=x.useContext(qk);r==null&&yc();var n=r[t];return n==null&&yc(),n},pEe=function(){var t=x.useContext(qB);return t},gEe=function(){return x.useContext(zB)},zk=function(){return x.useContext(KB)},Wk=function(){return x.useContext(VB)};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function vEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QB(n.key),n)}}function xEe(e,t,r){return t&&yEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bEe(e,t,r){return t=Cy(t),wEe(e,YB()?Reflect.construct(t,r||[],Cy(e).constructor):t.apply(e,r))}function wEe(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jEe(e)}function jEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YB=function(){return!!e})()}function Cy(e){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(e)}function _Ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b1(e,t)}function b1(e,t){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},b1(e,t)}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){Vk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vk(e,t,r){return t=QB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e){var t=SEe(e,"string");return Sd(t)=="symbol"?t:t+""}function SEe(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function NEe(e,t){return OEe(e)||EEe(e,t)||CEe(e,t)||kEe()}function kEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CEe(e,t){if(e){if(typeof e=="string")return aR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aR(e,t)}}function aR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function OEe(e){if(Array.isArray(e))return e}function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w1.apply(this,arguments)}var PEe=function(t,r){var n;return P.isValidElement(t)?n=P.cloneElement(t,r):nt(t)?n=t(r):n=P.createElement("line",w1({},r,{className:"recharts-reference-line-line"})),n},AEe=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(Ha(u,"discard")&&!t.y.isInRange(p))return null;var y=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?y.reverse():y}if(r){var b=u.x,v=t.x.apply(b,{position:o});if(Ha(u,"discard")&&!t.x.isInRange(v))return null;var w=[{x:v,y:f+m},{x:v,y:f}];return l==="top"?w.reverse():w}if(s){var S=u.segment,j=S.map(function(_){return t.apply(_,{position:o})});return Ha(u,"discard")&&t2e(j,function(_){return!t.isInRange(_)})?null:j}return null};function TEe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=fEe(),d=HB(s),f=GB(i),h=pEe();if(!u||!h)return null;Ci(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Uk({x:d.scale,y:f.scale}),g=Br(t),p=Br(r),y=n&&n.length===2,b=AEe(m,g,p,y,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var v=NEe(b,2),w=v[0],S=w.x,j=w.y,_=v[1],N=_.x,k=_.y,C=Ha(e,"hidden")?"url(#".concat(u,")"):void 0,A=sR(sR({clipPath:C},mt(e,!0)),{},{x1:S,y1:j,x2:N,y2:k});return P.createElement(ur,{className:wt("recharts-reference-line",l)},PEe(o,A),fn.renderCallByParent(e,z2e({x1:S,y1:j,x2:N,y2:k})))}var Kk=function(e){function t(){return vEe(this,t),bEe(this,t,arguments)}return _Ee(t,e),xEe(t,[{key:"render",value:function(){return P.createElement(TEe,this.props)}}])}(P.Component);Vk(Kk,"displayName","ReferenceLine");Vk(Kk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(this,arguments)}function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){jb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function REe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JB(n.key),n)}}function $Ee(e,t,r){return t&&MEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IEe(e,t,r){return t=Ey(t),DEe(e,XB()?Reflect.construct(t,r||[],Ey(e).constructor):t.apply(e,r))}function DEe(e,t){if(t&&(Nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LEe(e)}function LEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XB=function(){return!!e})()}function Ey(e){return Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ey(e)}function FEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_1(e,t)}function _1(e,t){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_1(e,t)}function jb(e,t,r){return t=JB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JB(e){var t=UEe(e,"string");return Nd(t)=="symbol"?t:t+""}function UEe(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BEe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=Uk({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ha(t,"discard")&&!o.isInRange(l)?null:l},_b=function(e){function t(){return REe(this,t),IEe(this,t,arguments)}return FEe(t,e),$Ee(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Br(s),d=Br(i);if(Ci(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=BEe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,y=g.className,b=Ha(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=oR(oR({clipPath:b},mt(this.props,!0)),{},{cx:h,cy:m});return P.createElement(ur,{className:wt("recharts-reference-dot",y)},t.renderDot(p,v),fn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(P.Component);jb(_b,"displayName","ReferenceDot");jb(_b,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});jb(_b,"renderDot",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):nt(e)?r=e(t):r=P.createElement(Fk,j1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function S1(){return S1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S1.apply(this,arguments)}function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){Sb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e6(n.key),n)}}function WEe(e,t,r){return t&&zEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VEe(e,t,r){return t=Oy(t),KEe(e,ZB()?Reflect.construct(t,r||[],Oy(e).constructor):t.apply(e,r))}function KEe(e,t){if(t&&(kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HEe(e)}function HEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZB=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(e)}function GEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N1(e,t)}function N1(e,t){return N1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},N1(e,t)}function Sb(e,t,r){return t=e6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e6(e){var t=YEe(e,"string");return kd(t)=="symbol"?t:t+""}function YEe(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var QEe=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=Uk({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ha(i,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:UB(m,g)},Nb=function(e){function t(){return qEe(this,t),VEe(this,t,arguments)}return GEe(t,e),WEe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ci(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Br(s),h=Br(i),m=Br(o),g=Br(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var y=QEe(f,h,m,g,this.props);if(!y&&!p)return null;var b=Ha(this.props,"hidden")?"url(#".concat(d,")"):void 0;return P.createElement(ur,{className:wt("recharts-reference-area",c)},t.renderRect(p,cR(cR({clipPath:b},mt(this.props,!0)),y)),fn.renderCallByParent(this.props,y))}}])}(P.Component);Sb(Nb,"displayName","ReferenceArea");Sb(Nb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Sb(Nb,"renderRect",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):nt(e)?r=e(t):r=P.createElement(Lk,S1({},t,{className:"recharts-reference-area-rect"})),r});function t6(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function XEe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return V2e(n,r)}function JEe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Py(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function ZEe(e,t){return t6(e,t+1)}function eOe(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:t6(n,u)};var p=c,y,b=function(){return y===void 0&&(y=r(g,p)),y},v=g.coordinate,w=c===0||Py(e,v,b,d,l);w||(c=0,d=o,u+=1),w&&(d=v+e*(b()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){tOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tOe(e,t,r){return t=rOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rOe(e){var t=nOe(e,"string");return $m(t)=="symbol"?t:t+""}function nOe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sOe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var y=e*(m.coordinate+e*p()/2-c);i[h]=m=un(un({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=un(un({},m),{},{tickCoord:m.coordinate});var b=Py(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+s),i[h]=un(un({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function aOe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=un(un({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Py(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=un(un({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(v){var w=o[v],S,j=function(){return S===void 0&&(S=r(w,v)),S};if(v===0){var _=e*(w.coordinate-e*j()/2-c);o[v]=w=un(un({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else o[v]=w=un(un({},w),{},{tickCoord:w.coordinate});var N=Py(e,w.tickCoord,j,c,u);N&&(c=w.tickCoord+e*(j()/2+s),o[v]=un(un({},w),{},{isShow:!0}))},y=0;y<g;y++)p(y);return o}function Hk(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(ve(c)||af.isSsr)return ZEe(s,typeof c=="number"&&ve(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?ph(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,S){var j=nt(u)?u(w.value,S):w.value;return m==="width"?XEe(ph(j,{fontSize:t,letterSpacing:r}),g,f):ph(j,{fontSize:t,letterSpacing:r})[m]},y=s.length>=2?ca(s[1].coordinate-s[0].coordinate):1,b=JEe(i,y,m);return c==="equidistantPreserveStart"?eOe(y,b,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=aOe(y,b,p,s,o,c==="preserveStartEnd"):h=sOe(y,b,p,s,o),h.filter(function(v){return v.isShow}))}var iOe=["viewBox"],oOe=["viewBox"],lOe=["ticks"];function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(this,arguments)}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){Gk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c0(e,t){if(e==null)return{};var r=cOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n6(n.key),n)}}function dOe(e,t,r){return t&&fR(e.prototype,t),r&&fR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fOe(e,t,r){return t=Ay(t),hOe(e,r6()?Reflect.construct(t,r||[],Ay(e).constructor):t.apply(e,r))}function hOe(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mOe(e)}function mOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r6=function(){return!!e})()}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ay(e)}function pOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k1(e,t)}function k1(e,t){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},k1(e,t)}function Gk(e,t,r){return t=n6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n6(e){var t=gOe(e,"string");return Cd(t)=="symbol"?t:t+""}function gOe(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uf=function(e){function t(r){var n;return uOe(this,t),n=fOe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return pOe(t,e),dOe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=c0(n,iOe),l=this.props,c=l.viewBox,u=c0(l,oOe);return!Ou(i,c)||!Ou(o,u)||!Ou(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,m,g,p,y,b,v,w=f?-1:1,S=n.tickSize||d,j=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,y=o+ +!f*c,p=y-w*S,v=p-w*h,b=j;break;case"left":p=y=n.coordinate,g=i+ +!f*l,m=g-w*S,b=m-w*h,v=j;break;case"right":p=y=n.coordinate,g=i+ +f*l,m=g+w*S,b=m+w*h,v=j;break;default:m=g=n.coordinate,y=o+ +f*c,p=y+w*S,v=p+w*h,b=j;break}return{line:{x1:m,y1:p,x2:g,y2:y},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Tr(Tr(Tr({},mt(this.props,!1)),mt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Tr(Tr({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Tr(Tr({},f),{},{x1:s+m*o,y1:i,x2:s+m*o,y2:i+l})}return P.createElement("line",vu({},f,{className:wt("recharts-cartesian-axis-line",Ts(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=Hk(Tr(Tr({},this.props),{},{ticks:n}),s,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),y=mt(this.props,!1),b=mt(d,!1),v=Tr(Tr({},y),{},{fill:"none"},mt(c,!1)),w=m.map(function(S,j){var _=o.getTickLineCoord(S),N=_.line,k=_.tick,C=Tr(Tr(Tr(Tr({textAnchor:g,verticalAnchor:p},y),{},{stroke:"none",fill:u},b),k),{},{index:j,payload:S,visibleTicksCount:m.length,tickFormatter:f});return P.createElement(ur,vu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Dv(o.props,S,j)),c&&P.createElement("line",vu({},v,N,{className:wt("recharts-cartesian-axis-tick-line",Ts(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(nt(f)?f(S.value,j):S.value).concat(h||"")))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,m=c0(f,lOe),g=h;return nt(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:P.createElement(ur,{className:wt("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=wt(s.className,"recharts-cartesian-axis-tick-value");return P.isValidElement(n)?o=P.cloneElement(n,Tr(Tr({},s),{},{className:l})):nt(n)?o=n(Tr(Tr({},s),{},{className:l})):o=P.createElement(Xv,vu({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(x.Component);Gk(uf,"displayName","CartesianAxis");Gk(uf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vOe=["x1","y1","x2","y2","key"],yOe=["offset"];function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){xOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xOe(e,t,r){return t=bOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bOe(e){var t=wOe(e,"string");return xc(t)=="symbol"?t:t+""}function wOe(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(this,arguments)}function mR(e,t){if(e==null)return{};var r=jOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _Oe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return P.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function s6(e,t){var r;if(P.isValidElement(e))r=P.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=mR(t,vOe),u=mt(c,!1);u.offset;var d=mR(u,yOe);r=P.createElement("line",Fl({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function SOe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=hn(hn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return s6(s,u)});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function NOe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=hn(hn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return s6(s,u)});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function kOe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+o-h:d[m+1]-h;if(p<=0)return null;var y=m%t.length;return P.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function COe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?i+l-h:d[m+1]-h;if(p<=0)return null;var y=m%n.length;return P.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var EOe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return hB(Hk(hn(hn(hn({},uf.defaultProps),n),{},{ticks:ji(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},OOe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return hB(Hk(hn(hn(hn({},uf.defaultProps),n),{},{ticks:ji(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Xc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ty(e){var t,r,n,s,i,o,l=zk(),c=Wk(),u=gEe(),d=hn(hn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Xc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Xc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Xc.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Xc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Xc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Xc.verticalFill,x:ve(e.x)?e.x:u.left,y:ve(e.y)?e.y:u.top,width:ve(e.width)?e.width:u.width,height:ve(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,y=d.horizontalValues,b=d.verticalValues,v=hEe(),w=mEe();if(!ve(m)||m<=0||!ve(g)||g<=0||!ve(f)||f!==+f||!ve(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||EOe,j=d.horizontalCoordinatesGenerator||OOe,_=d.horizontalPoints,N=d.verticalPoints;if((!_||!_.length)&&nt(j)){var k=y&&y.length,C=j({yAxis:w?hn(hn({},w),{},{ticks:k?y:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);Ci(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xc(C),"]")),Array.isArray(C)&&(_=C)}if((!N||!N.length)&&nt(S)){var A=b&&b.length,I=S({xAxis:v?hn(hn({},v),{},{ticks:A?b:v.ticks}):void 0,width:l,height:c,offset:u},A?!0:p);Ci(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xc(I),"]")),Array.isArray(I)&&(N=I)}return P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(_Oe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),P.createElement(SOe,Fl({},d,{offset:u,horizontalPoints:_,xAxis:v,yAxis:w})),P.createElement(NOe,Fl({},d,{offset:u,verticalPoints:N,xAxis:v,yAxis:w})),P.createElement(kOe,Fl({},d,{horizontalPoints:_})),P.createElement(COe,Fl({},d,{verticalPoints:N})))}Ty.displayName="CartesianGrid";var POe=["layout","type","stroke","connectNulls","isRange","ref"],AOe=["key"],a6;function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function i6(e,t){if(e==null)return{};var r=TOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){Fa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ROe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l6(n.key),n)}}function MOe(e,t,r){return t&&gR(e.prototype,t),r&&gR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Oe(e,t,r){return t=Ry(t),IOe(e,o6()?Reflect.construct(t,r||[],Ry(e).constructor):t.apply(e,r))}function IOe(e,t){if(t&&(Ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DOe(e)}function DOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o6=function(){return!!e})()}function Ry(e){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(e)}function LOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C1(e,t)}function C1(e,t){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},C1(e,t)}function Fa(e,t,r){return t=l6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l6(e){var t=FOe(e,"string");return Ed(t)=="symbol"?t:t+""}function FOe(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ji=function(e){function t(){var r;ROe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=$Oe(this,t,[].concat(s)),Fa(r,"state",{isAnimationFinished:!0}),Fa(r,"id",up("recharts-area-")),Fa(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nt(o)&&o()}),Fa(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nt(o)&&o()}),r}return LOe(t,e),MOe(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=mt(this.props,!1),m=mt(u,!0),g=d.map(function(y,b){var v=co(co(co({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,v)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return P.createElement(ur,Ul({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=$o(o.map(function(h){return h.y||0}));return ve(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max($o(i.map(function(h){return h.y||0})),f)),ve(f)?P.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=$o(o.map(function(h){return h.x||0}));return ve(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max($o(i.map(function(h){return h.x||0})),f)),ve(f)?P.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=i6(l,POe);return P.createElement(ur,{clipPath:i?"url(#clipPath-".concat(o,")"):null},P.createElement(yh,Ul({},mt(m,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&P.createElement(yh,Ul({},mt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&P.createElement(yh,Ul({},mt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,y=g.prevBaseLine;return P.createElement(qi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var v=b.t;if(p){var w=p.length/l.length,S=l.map(function(k,C){var A=Math.floor(C*w);if(p[A]){var I=p[A],O=_s(I.x,k.x),B=_s(I.y,k.y);return co(co({},k),{},{x:O(v),y:B(v)})}return k}),j;if(ve(c)&&typeof c=="number"){var _=_s(y,c);j=_(v)}else if(vt(c)||tf(c)){var N=_s(y,0);j=N(v)}else j=c.map(function(k,C){var A=Math.floor(C*w);if(y[A]){var I=y[A],O=_s(I.x,k.x),B=_s(I.y,k.y);return co(co({},k),{},{x:O(v),y:B(v)})}return k});return i.renderAreaStatically(S,j,n,s)}return P.createElement(ur,null,P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(v))),P.createElement(ur,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!mm(d,o)||!mm(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,m=s.width,g=s.height,p=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,v=l.length===1,w=wt("recharts-area",c),S=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,_=S||j,N=vt(y)?this.id:y,k=(n=mt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,A=C===void 0?3:C,I=k.strokeWidth,O=I===void 0?2:I,B=eue(o)?o:{},T=B.clipDot,z=T===void 0?!0:T,R=A*2+O;return P.createElement(ur,{className:w},S||j?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(N)},P.createElement("rect",{x:S?d:d-m/2,y:j?u:u-g/2,width:S?m:m*2,height:j?g:g*2})),!z&&P.createElement("clipPath",{id:"clipPath-dots-".concat(N)},P.createElement("rect",{x:d-R/2,y:u-R/2,width:m+R,height:g+R}))):null,v?null:this.renderArea(_,N),(o||v)&&this.renderDots(_,z,N),(!p||b)&&Qo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);a6=Ji;Fa(Ji,"displayName","Area");Fa(Ji,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!af.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Fa(Ji,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(ve(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Fa(Ji,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,g=u&&u.length,p=a6.getBaseValue(t,r,n,s),y=m==="horizontal",b=!1,v=f.map(function(S,j){var _;g?_=u[d+j]:(_=ds(S,c),Array.isArray(_)?b=!0:_=[p,_]);var N=_[1]==null||g&&ds(S,c)==null;return y?{x:eT({axis:n,ticks:i,bandSize:l,entry:S,index:j}),y:N?null:s.scale(_[1]),value:_,payload:S}:{x:N?null:n.scale(_[1]),y:eT({axis:s,ticks:o,bandSize:l,entry:S,index:j}),value:_,payload:S}}),w;return g||b?w=v.map(function(S){var j=Array.isArray(S.value)?S.value[0]:null;return y?{x:S.x,y:j!=null&&S.y!=null?s.scale(j):null}:{x:j!=null?n.scale(j):null,y:S.y}}):w=y?s.scale(p):n.scale(p),co({points:v,baseLine:w,layout:m,isRange:b},h)});Fa(Ji,"renderDotItem",function(e,t){var r;if(P.isValidElement(e))r=P.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=wt("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=i6(t,AOe);r=P.createElement(Fk,Ul({},i,{key:s,className:n}))}return r});function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function UOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d6(n.key),n)}}function qOe(e,t,r){return t&&BOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zOe(e,t,r){return t=My(t),WOe(e,c6()?Reflect.construct(t,r||[],My(e).constructor):t.apply(e,r))}function WOe(e,t){if(t&&(Od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VOe(e)}function VOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c6=function(){return!!e})()}function My(e){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},My(e)}function KOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E1(e,t)}function E1(e,t){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},E1(e,t)}function u6(e,t,r){return t=d6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d6(e){var t=HOe(e,"string");return Od(t)=="symbol"?t:t+""}function HOe(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O1.apply(this,arguments)}function GOe(e){var t=e.xAxisId,r=zk(),n=Wk(),s=HB(t);return s==null?null:x.createElement(uf,O1({},s,{className:wt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ji(o,!0)}}))}var bc=function(e){function t(){return UOe(this,t),zOe(this,t,arguments)}return KOe(t,e),qOe(t,[{key:"render",value:function(){return x.createElement(GOe,this.props)}}])}(x.Component);u6(bc,"displayName","XAxis");u6(bc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function YOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m6(n.key),n)}}function XOe(e,t,r){return t&&QOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JOe(e,t,r){return t=$y(t),ZOe(e,f6()?Reflect.construct(t,r||[],$y(e).constructor):t.apply(e,r))}function ZOe(e,t){if(t&&(Pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ePe(e)}function ePe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f6=function(){return!!e})()}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$y(e)}function tPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P1(e,t)}function P1(e,t){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},P1(e,t)}function h6(e,t,r){return t=m6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m6(e){var t=rPe(e,"string");return Pd(t)=="symbol"?t:t+""}function rPe(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A1.apply(this,arguments)}var nPe=function(t){var r=t.yAxisId,n=zk(),s=Wk(),i=GB(r);return i==null?null:x.createElement(uf,A1({},i,{className:wt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return ji(l,!0)}}))},wc=function(e){function t(){return YOe(this,t),JOe(this,t,arguments)}return tPe(t,e),XOe(t,[{key:"render",value:function(){return x.createElement(nPe,this.props)}}])}(x.Component);h6(wc,"displayName","YAxis");h6(wc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function vR(e){return oPe(e)||iPe(e)||aPe(e)||sPe()}function sPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aPe(e,t){if(e){if(typeof e=="string")return T1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T1(e,t)}}function iPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oPe(e){if(Array.isArray(e))return T1(e)}function T1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R1=function(t,r,n,s,i){var o=ga(t,Kk),l=ga(t,_b),c=[].concat(vR(o),vR(l)),u=ga(t,Nb),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(p,y){if(y.props[d]===n&&Ha(y.props,"extendDomain")&&ve(y.props[f])){var b=y.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,y){if(y.props[d]===n&&Ha(y.props,"extendDomain")&&ve(y.props[m])&&ve(y.props[g])){var b=y.props[m],v=y.props[g];return[Math.min(p[0],b,v),Math.max(p[1],b,v)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,y){return ve(y)?[Math.min(p[0],y),Math.max(p[1],y)]:p},h)),h},p6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var y=this._events[p],b=arguments.length,v,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,g),!0}for(w=1,v=new Array(b-1);w<b;w++)v[w-1]=arguments[w];y.fn.apply(y.context,v)}else{var S=y.length,j;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!v)for(j=1,v=new Array(b-1);j<b;j++)v[j-1]=arguments[j];y[w].fn.apply(y[w].context,v)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,y=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&y.push(g[p]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(p6);var lPe=p6.exports;const cPe=qt(lPe);var u0=new cPe,d0="recharts.syncMouseEvents";function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function uPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g6(n.key),n)}}function fPe(e,t,r){return t&&dPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f0(e,t,r){return t=g6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g6(e){var t=hPe(e,"string");return Im(t)=="symbol"?t:t+""}function hPe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mPe=function(){function e(){uPe(this,e),f0(this,"activeIndex",0),f0(this,"coordinateList",[]),f0(this,"layout","horizontal")}return fPe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function pPe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&ve(n)&&ve(s))return!0}return!1}function gPe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function v6(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=rn(t,r,n,s),l=rn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function vPe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=rn(l,c,u,f),m=rn(l,c,d,f);n=h.x,s=h.y,i=m.x,o=m.y}else return v6(t);return[{x:n,y:s},{x:i,y:o}]}function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){yPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yPe(e,t,r){return t=xPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xPe(e){var t=bPe(e,"string");return Dm(t)=="symbol"?t:t+""}function bPe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wPe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,p=yh;if(h==="ScatterChart")g=o,p=Nke;else if(h==="BarChart")g=gPe(f,o,c,d),p=Lk;else if(f==="radial"){var y=v6(o),b=y.cx,v=y.cy,w=y.radius,S=y.startAngle,j=y.endAngle;g={cx:b,cy:v,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},p=yB}else g={points:vPe(f,o,c)},p=yh;var _=mg(mg(mg(mg({stroke:"#ccc",pointerEvents:"none"},c),g),mt(m,!1)),{},{payload:l,payloadIndex:u,className:wt("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,_):x.createElement(p,_)}var jPe=["item"],_Pe=["children","className","width","height","style","compact","title","desc"];function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(this,arguments)}function xR(e,t){return kPe(e)||NPe(e,t)||x6(e,t)||SPe()}function SPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function kPe(e){if(Array.isArray(e))return e}function bR(e,t){if(e==null)return{};var r=CPe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function EPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b6(n.key),n)}}function PPe(e,t,r){return t&&OPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function APe(e,t,r){return t=Iy(t),TPe(e,y6()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function TPe(e,t){if(t&&(Ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RPe(e)}function RPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y6=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function MPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M1(e,t)}function M1(e,t){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},M1(e,t)}function Td(e){return DPe(e)||IPe(e)||x6(e)||$Pe()}function $Pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x6(e,t){if(e){if(typeof e=="string")return $1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $1(e,t)}}function IPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DPe(e){if(Array.isArray(e))return $1(e)}function $1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){He(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function He(e,t,r){return t=b6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b6(e){var t=LPe(e,"string");return Ad(t)=="symbol"?t:t+""}function LPe(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FPe={xAxis:["bottom","top"],yAxis:["left","right"]},UPe={width:"100%",height:"100%"},w6={x:0,y:0};function pg(e){return e}var BPe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},qPe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return ee(ee(ee({},s),rn(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return ee(ee(ee({},s),rn(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return w6},kb=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Td(l),Td(u)):l},[]);return o.length>0?o:t&&t.length&&ve(s)&&ve(i)?t.slice(s,i+1):[]};function j6(e){return e==="number"?[0,"auto"]:void 0}var I1=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=kb(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=$v(m,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(Td(c),[pB(u,h)]):c},[])},jR=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=BPe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=n1e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=I1(t,r,d,f),m=qPe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},zPe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=fB(d,i);return n.reduce(function(g,p){var y,b=p.type.defaultProps!==void 0?ee(ee({},p.type.defaultProps),p.props):p.props,v=b.type,w=b.dataKey,S=b.allowDataOverflow,j=b.allowDuplicatedCategory,_=b.scale,N=b.ticks,k=b.includeHidden,C=b[o];if(g[C])return g;var A=kb(t.data,{graphicalItems:s.filter(function(Q){var le,me=o in Q.props?Q.props[o]:(le=Q.type.defaultProps)===null||le===void 0?void 0:le[o];return me===C}),dataStartIndex:c,dataEndIndex:u}),I=A.length,O,B,T;pPe(b.domain,S,v)&&(O=t1(b.domain,null,S),m&&(v==="number"||_!=="auto")&&(T=vh(A,w,"category")));var z=j6(v);if(!O||O.length===0){var R,V=(R=b.domain)!==null&&R!==void 0?R:z;if(w){if(O=vh(A,w,v),v==="category"&&m){var D=Wce(O);j&&D?(B=O,O=jy(0,I)):j||(O=sT(V,O,p).reduce(function(Q,le){return Q.indexOf(le)>=0?Q:[].concat(Td(Q),[le])},[]))}else if(v==="category")j?O=O.filter(function(Q){return Q!==""&&!vt(Q)}):O=sT(V,O,p).reduce(function(Q,le){return Q.indexOf(le)>=0||le===""||vt(le)?Q:[].concat(Td(Q),[le])},[]);else if(v==="number"){var $=l1e(A,s.filter(function(Q){var le,me,We=o in Q.props?Q.props[o]:(le=Q.type.defaultProps)===null||le===void 0?void 0:le[o],Ve="hide"in Q.props?Q.props.hide:(me=Q.type.defaultProps)===null||me===void 0?void 0:me.hide;return We===C&&(k||!Ve)}),w,i,d);$&&(O=$)}m&&(v==="number"||_!=="auto")&&(T=vh(A,w,"category"))}else m?O=jy(0,I):l&&l[C]&&l[C].hasStack&&v==="number"?O=h==="expand"?[0,1]:mB(l[C].stackGroups,c,u):O=dB(A,s.filter(function(Q){var le=o in Q.props?Q.props[o]:Q.type.defaultProps[o],me="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return le===C&&(k||!me)}),v,d,!0);if(v==="number")O=R1(f,O,C,i,N),V&&(O=t1(V,O,S));else if(v==="category"&&V){var M=V,te=O.every(function(Q){return M.indexOf(Q)>=0});te&&(O=M)}}return ee(ee({},g),{},He({},C,ee(ee({},b),{},{axisType:i,domain:O,categoricalDomain:T,duplicateDomain:B,originalDomain:(y=b.domain)!==null&&y!==void 0?y:z,isCategorical:m,layout:d})))},{})},WPe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=kb(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=fB(d,i),p=-1;return n.reduce(function(y,b){var v=b.type.defaultProps!==void 0?ee(ee({},b.type.defaultProps),b.props):b.props,w=v[o],S=j6("number");if(!y[w]){p++;var j;return g?j=jy(0,m):l&&l[w]&&l[w].hasStack?(j=mB(l[w].stackGroups,c,u),j=R1(f,j,w,i)):(j=t1(S,dB(h,n.filter(function(_){var N,k,C=o in _.props?_.props[o]:(N=_.type.defaultProps)===null||N===void 0?void 0:N[o],A="hide"in _.props?_.props.hide:(k=_.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!A}),"number",d),s.defaultProps.allowDataOverflow),j=R1(f,j,w,i)),ee(ee({},y),{},He({},w,ee(ee({axisType:i},s.defaultProps),{},{hide:!0,orientation:Ts(FPe,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:S,isCategorical:g,layout:d})))}return y},{})},VPe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=ga(d,i),m={};return h&&h.length?m=zPe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=WPe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},KPe=function(t){var r=wo(t),n=ji(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:dk(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:fy(r,n)}},_R=function(t){var r=t.children,n=t.defaultShowTooltip,s=Zn(r,jd),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},HPe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ki(r&&r.type);return n&&n.indexOf("Bar")>=0})},SR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},GPe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Zn(f,jd),g=Zn(f,Pu),p=Object.keys(c).reduce(function(j,_){var N=c[_],k=N.orientation;return!N.mirror&&!N.hide?ee(ee({},j),{},He({},k,j[k]+N.width)):j},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(j,_){var N=o[_],k=N.orientation;return!N.mirror&&!N.hide?ee(ee({},j),{},He({},k,Ts(j,"".concat(k))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=ee(ee({},y),p),v=b.bottom;m&&(b.bottom+=m.props.height||jd.defaultProps.height),g&&r&&(b=i1e(b,s,n,r));var w=u-b.left-b.right,S=d-b.top-b.bottom;return ee(ee({brushBottom:v},b),{},{width:Math.max(w,0),height:Math.max(S,0)})},YPe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},_6=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,v){var w=v.graphicalItems,S=v.stackGroups,j=v.offset,_=v.updateId,N=v.dataStartIndex,k=v.dataEndIndex,C=b.barSize,A=b.layout,I=b.barGap,O=b.barCategoryGap,B=b.maxBarSize,T=SR(A),z=T.numericAxisName,R=T.cateAxisName,V=HPe(w),D=[];return w.forEach(function($,M){var te=kb(b.data,{graphicalItems:[$],dataStartIndex:N,dataEndIndex:k}),Q=$.type.defaultProps!==void 0?ee(ee({},$.type.defaultProps),$.props):$.props,le=Q.dataKey,me=Q.maxBarSize,We=Q["".concat(z,"Id")],Ve=Q["".concat(R,"Id")],ce={},qe=c.reduce(function(L,K){var F=v["".concat(K.axisType,"Map")],oe=Q["".concat(K.axisType,"Id")];F&&F[oe]||K.axisType==="zAxis"||yc();var ue=F[oe];return ee(ee({},L),{},He(He({},K.axisType,ue),"".concat(K.axisType,"Ticks"),ji(ue)))},ce),se=qe[R],xe=qe["".concat(R,"Ticks")],H=S&&S[We]&&S[We].hasStack&&b1e($,S[We].stackGroups),G=ki($.type).indexOf("Bar")>=0,Xe=fy(se,xe),Ke=[],yt=V&&s1e({barSize:C,stackGroups:S,totalSize:YPe(qe,R)});if(G){var ot,zt,wr=vt(me)?B:me,an=(ot=(zt=fy(se,xe,!0))!==null&&zt!==void 0?zt:wr)!==null&&ot!==void 0?ot:0;Ke=a1e({barGap:I,barCategoryGap:O,bandSize:an!==Xe?an:Xe,sizeList:yt[Ve],maxBarSize:wr}),an!==Xe&&(Ke=Ke.map(function(L){return ee(ee({},L),{},{position:ee(ee({},L.position),{},{offset:L.position.offset-an/2})})}))}var ms=$&&$.type&&$.type.getComposedData;ms&&D.push({props:ee(ee({},ms(ee(ee({},qe),{},{displayedData:te,props:b,dataKey:le,item:$,bandSize:Xe,barPosition:Ke,offset:j,stackedData:H,layout:A,dataStartIndex:N,dataEndIndex:k}))),{},He(He(He({key:$.key||"item-".concat(M)},z,qe[z]),R,qe[R]),"animationId",_)),childIndex:nue($,b.children),item:$})}),D},m=function(b,v){var w=b.props,S=b.dataStartIndex,j=b.dataEndIndex,_=b.updateId;if(!XO({props:w}))return null;var N=w.children,k=w.layout,C=w.stackOffset,A=w.data,I=w.reverseStackOrder,O=SR(k),B=O.numericAxisName,T=O.cateAxisName,z=ga(N,n),R=v1e(A,z,"".concat(B,"Id"),"".concat(T,"Id"),C,I),V=c.reduce(function(Q,le){var me="".concat(le.axisType,"Map");return ee(ee({},Q),{},He({},me,VPe(w,ee(ee({},le),{},{graphicalItems:z,stackGroups:le.axisType===B&&R,dataStartIndex:S,dataEndIndex:j}))))},{}),D=GPe(ee(ee({},V),{},{props:w,graphicalItems:z}),v==null?void 0:v.legendBBox);Object.keys(V).forEach(function(Q){V[Q]=d(w,V[Q],D,Q.replace("Map",""),r)});var $=V["".concat(T,"Map")],M=KPe($),te=h(w,ee(ee({},V),{},{dataStartIndex:S,dataEndIndex:j,updateId:_,graphicalItems:z,stackGroups:R,offset:D}));return ee(ee({formattedGraphicalItems:te,graphicalItems:z,offset:D,stackGroups:R},M),V)},g=function(y){function b(v){var w,S,j;return EPe(this,b),j=APe(this,b,[v]),He(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(j,"accessibilityManager",new mPe),He(j,"handleLegendBBoxUpdate",function(_){if(_){var N=j.state,k=N.dataStartIndex,C=N.dataEndIndex,A=N.updateId;j.setState(ee({legendBBox:_},m({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:A},ee(ee({},j.state),{},{legendBBox:_}))))}}),He(j,"handleReceiveSyncEvent",function(_,N,k){if(j.props.syncId===_){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),He(j,"handleBrushChange",function(_){var N=_.startIndex,k=_.endIndex;if(N!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return ee({dataStartIndex:N,dataEndIndex:k},m({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),He(j,"handleMouseEnter",function(_){var N=j.getMouseInfo(_);if(N){var k=ee(ee({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;nt(C)&&C(k,_)}}),He(j,"triggeredAfterMouseMove",function(_){var N=j.getMouseInfo(_),k=N?ee(ee({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;nt(C)&&C(k,_)}),He(j,"handleItemMouseEnter",function(_){j.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),He(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),He(j,"handleMouseMove",function(_){_.persist(),j.throttleTriggeredAfterMouseMove(_)}),He(j,"handleMouseLeave",function(_){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseLeave;nt(k)&&k(N,_)}),He(j,"handleOuterEvent",function(_){var N=rue(_),k=Ts(j.props,"".concat(N));if(N&&nt(k)){var C,A;/.*touch.*/i.test(N)?A=j.getMouseInfo(_.changedTouches[0]):A=j.getMouseInfo(_),k((C=A)!==null&&C!==void 0?C:{},_)}}),He(j,"handleClick",function(_){var N=j.getMouseInfo(_);if(N){var k=ee(ee({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;nt(C)&&C(k,_)}}),He(j,"handleMouseDown",function(_){var N=j.props.onMouseDown;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),He(j,"handleMouseUp",function(_){var N=j.props.onMouseUp;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),He(j,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),He(j,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseDown(_.changedTouches[0])}),He(j,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseUp(_.changedTouches[0])}),He(j,"handleDoubleClick",function(_){var N=j.props.onDoubleClick;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),He(j,"handleContextMenu",function(_){var N=j.props.onContextMenu;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),He(j,"triggerSyncEvent",function(_){j.props.syncId!==void 0&&u0.emit(d0,j.props.syncId,_,j.eventEmitterSymbol)}),He(j,"applySyncEvent",function(_){var N=j.props,k=N.layout,C=N.syncMethod,A=j.state.updateId,I=_.dataStartIndex,O=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)j.setState(ee({dataStartIndex:I,dataEndIndex:O},m({props:j.props,dataStartIndex:I,dataEndIndex:O,updateId:A},j.state)));else if(_.activeTooltipIndex!==void 0){var B=_.chartX,T=_.chartY,z=_.activeTooltipIndex,R=j.state,V=R.offset,D=R.tooltipTicks;if(!V)return;if(typeof C=="function")z=C(D,_);else if(C==="value"){z=-1;for(var $=0;$<D.length;$++)if(D[$].value===_.activeLabel){z=$;break}}var M=ee(ee({},V),{},{x:V.left,y:V.top}),te=Math.min(B,M.x+M.width),Q=Math.min(T,M.y+M.height),le=D[z]&&D[z].value,me=I1(j.state,j.props.data,z),We=D[z]?{x:k==="horizontal"?D[z].coordinate:te,y:k==="horizontal"?Q:D[z].coordinate}:w6;j.setState(ee(ee({},_),{},{activeLabel:le,activeCoordinate:We,activePayload:me,activeTooltipIndex:z}))}else j.setState(_)}),He(j,"renderCursor",function(_){var N,k=j.state,C=k.isTooltipActive,A=k.activeCoordinate,I=k.activePayload,O=k.offset,B=k.activeTooltipIndex,T=k.tooltipAxisBandSize,z=j.getTooltipEventType(),R=(N=_.props.active)!==null&&N!==void 0?N:C,V=j.props.layout,D=_.key||"_recharts-cursor";return P.createElement(wPe,{key:D,activeCoordinate:A,activePayload:I,activeTooltipIndex:B,chartName:r,element:_,isActive:R,layout:V,offset:O,tooltipAxisBandSize:T,tooltipEventType:z})}),He(j,"renderPolarAxis",function(_,N,k){var C=Ts(_,"type.axisType"),A=Ts(j.state,"".concat(C,"Map")),I=_.type.defaultProps,O=I!==void 0?ee(ee({},I),_.props):_.props,B=A&&A[O["".concat(C,"Id")]];return x.cloneElement(_,ee(ee({},B),{},{className:wt(C,B.className),key:_.key||"".concat(N,"-").concat(k),ticks:ji(B,!0)}))}),He(j,"renderPolarGrid",function(_){var N=_.props,k=N.radialLines,C=N.polarAngles,A=N.polarRadius,I=j.state,O=I.radiusAxisMap,B=I.angleAxisMap,T=wo(O),z=wo(B),R=z.cx,V=z.cy,D=z.innerRadius,$=z.outerRadius;return x.cloneElement(_,{polarAngles:Array.isArray(C)?C:ji(z,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(A)?A:ji(T,!0).map(function(M){return M.coordinate}),cx:R,cy:V,innerRadius:D,outerRadius:$,key:_.key||"polar-grid",radialLines:k})}),He(j,"renderLegend",function(){var _=j.state.formattedGraphicalItems,N=j.props,k=N.children,C=N.width,A=N.height,I=j.props.margin||{},O=C-(I.left||0)-(I.right||0),B=cB({children:k,formattedGraphicalItems:_,legendWidth:O,legendContent:u});if(!B)return null;var T=B.item,z=bR(B,jPe);return x.cloneElement(T,ee(ee({},z),{},{chartWidth:C,chartHeight:A,margin:I,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),He(j,"renderTooltip",function(){var _,N=j.props,k=N.children,C=N.accessibilityLayer,A=Zn(k,bs);if(!A)return null;var I=j.state,O=I.isTooltipActive,B=I.activeCoordinate,T=I.activePayload,z=I.activeLabel,R=I.offset,V=(_=A.props.active)!==null&&_!==void 0?_:O;return x.cloneElement(A,{viewBox:ee(ee({},R),{},{x:R.left,y:R.top}),active:V,label:z,payload:V?T:[],coordinate:B,accessibilityLayer:C})}),He(j,"renderBrush",function(_){var N=j.props,k=N.margin,C=N.data,A=j.state,I=A.offset,O=A.dataStartIndex,B=A.dataEndIndex,T=A.updateId;return x.cloneElement(_,{key:_.key||"_recharts-brush",onChange:ug(j.handleBrushChange,_.props.onChange),data:C,x:ve(_.props.x)?_.props.x:I.left,y:ve(_.props.y)?_.props.y:I.top+I.height+I.brushBottom-(k.bottom||0),width:ve(_.props.width)?_.props.width:I.width,startIndex:O,endIndex:B,updateId:"brush-".concat(T)})}),He(j,"renderReferenceElement",function(_,N,k){if(!_)return null;var C=j,A=C.clipPathId,I=j.state,O=I.xAxisMap,B=I.yAxisMap,T=I.offset,z=_.type.defaultProps||{},R=_.props,V=R.xAxisId,D=V===void 0?z.xAxisId:V,$=R.yAxisId,M=$===void 0?z.yAxisId:$;return x.cloneElement(_,{key:_.key||"".concat(N,"-").concat(k),xAxis:O[D],yAxis:B[M],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:A})}),He(j,"renderActivePoints",function(_){var N=_.item,k=_.activePoint,C=_.basePoint,A=_.childIndex,I=_.isRange,O=[],B=N.props.key,T=N.item.type.defaultProps!==void 0?ee(ee({},N.item.type.defaultProps),N.item.props):N.item.props,z=T.activeDot,R=T.dataKey,V=ee(ee({index:A,dataKey:R,cx:k.x,cy:k.y,r:4,fill:Dk(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},mt(z,!1)),Iv(z));return O.push(b.renderActiveDot(z,V,"".concat(B,"-activePoint-").concat(A))),C?O.push(b.renderActiveDot(z,ee(ee({},V),{},{cx:C.x,cy:C.y}),"".concat(B,"-basePoint-").concat(A))):I&&O.push(null),O}),He(j,"renderGraphicChild",function(_,N,k){var C=j.filterFormatItem(_,N,k);if(!C)return null;var A=j.getTooltipEventType(),I=j.state,O=I.isTooltipActive,B=I.tooltipAxis,T=I.activeTooltipIndex,z=I.activeLabel,R=j.props.children,V=Zn(R,bs),D=C.props,$=D.points,M=D.isRange,te=D.baseLine,Q=C.item.type.defaultProps!==void 0?ee(ee({},C.item.type.defaultProps),C.item.props):C.item.props,le=Q.activeDot,me=Q.hide,We=Q.activeBar,Ve=Q.activeShape,ce=!!(!me&&O&&V&&(le||We||Ve)),qe={};A!=="axis"&&V&&V.props.trigger==="click"?qe={onClick:ug(j.handleItemMouseEnter,_.props.onClick)}:A!=="axis"&&(qe={onMouseLeave:ug(j.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:ug(j.handleItemMouseEnter,_.props.onMouseEnter)});var se=x.cloneElement(_,ee(ee({},C.props),qe));function xe(K){return typeof B.dataKey=="function"?B.dataKey(K.payload):null}if(ce)if(T>=0){var H,G;if(B.dataKey&&!B.allowDuplicatedCategory){var Xe=typeof B.dataKey=="function"?xe:"payload.".concat(B.dataKey.toString());H=$v($,Xe,z),G=M&&te&&$v(te,Xe,z)}else H=$==null?void 0:$[T],G=M&&te&&te[T];if(Ve||We){var Ke=_.props.activeIndex!==void 0?_.props.activeIndex:T;return[x.cloneElement(_,ee(ee(ee({},C.props),qe),{},{activeIndex:Ke})),null,null]}if(!vt(H))return[se].concat(Td(j.renderActivePoints({item:C,activePoint:H,basePoint:G,childIndex:T,isRange:M})))}else{var yt,ot=(yt=j.getItemByXY(j.state.activeCoordinate))!==null&&yt!==void 0?yt:{graphicalItem:se},zt=ot.graphicalItem,wr=zt.item,an=wr===void 0?_:wr,ms=zt.childIndex,L=ee(ee(ee({},C.props),qe),{},{activeIndex:ms});return[x.cloneElement(an,L),null,null]}return M?[se,null,null]:[se,null]}),He(j,"renderCustomized",function(_,N,k){return x.cloneElement(_,ee(ee({key:"recharts-customized-".concat(k)},j.props),j.state))}),He(j,"renderMap",{CartesianGrid:{handler:pg,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:pg},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:pg},YAxis:{handler:pg},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=v.id)!==null&&w!==void 0?w:up("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=cU(j.triggeredAfterMouseMove,(S=v.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return MPe(b,y),PPe(b,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,j=w.data,_=w.height,N=w.layout,k=Zn(S,bs);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=I1(this.state,j,C,A),O=this.state.tooltipTicks[C].coordinate,B=(this.state.offset.top+_)/2,T=N==="horizontal",z=T?{x:O,y:B}:{y:O,x:B},R=this.state.formattedGraphicalItems.find(function(D){var $=D.item;return $.type.name==="Scatter"});R&&(z=ee(ee({},z),R.props.points[C].tooltipPosition),I=R.props.points[C].tooltipPayload);var V={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:A,activePayload:I,activeCoordinate:z};this.setState(V),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,_;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(w){p_([Zn(w.children,bs)],[Zn(this.props.children,bs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Zn(this.props.children,bs);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),_=Obe(j),N={chartX:Math.round(w.pageX-_.left),chartY:Math.round(w.pageY-_.top)},k=j.width/S.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,k);if(!C)return null;var A=this.state,I=A.xAxisMap,O=A.yAxisMap,B=this.getTooltipEventType(),T=jR(this.state,this.props.data,this.props.layout,C);if(B!=="axis"&&I&&O){var z=wo(I).scale,R=wo(O).scale,V=z&&z.invert?z.invert(N.chartX):null,D=R&&R.invert?R.invert(N.chartY):null;return ee(ee({},N),{},{xValue:V,yValue:D},T)}return T?ee(ee({},N),T):null}},{key:"inRange",value:function(w,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,N=w/j,k=S/j;if(_==="horizontal"||_==="vertical"){var C=this.state.offset,A=N>=C.left&&N<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return A?{x:N,y:k}:null}var I=this.state,O=I.angleAxisMap,B=I.radiusAxisMap;if(O&&B){var T=wo(O);return oT({x:N,y:k},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),j=Zn(w,bs),_={};j&&S==="axis"&&(j.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Iv(this.props,this.handleOuterEvent);return ee(ee({},N),_)}},{key:"addListener",value:function(){u0.on(d0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){u0.removeListener(d0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,j){for(var _=this.state.formattedGraphicalItems,N=0,k=_.length;N<k;N++){var C=_[N];if(C.item===w||C.props.key===w.key||S===ki(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,j=S.left,_=S.top,N=S.height,k=S.width;return P.createElement("defs",null,P.createElement("clipPath",{id:w},P.createElement("rect",{x:j,y:_,height:N,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,j){var _=xR(j,2),N=_[0],k=_[1];return ee(ee({},S),{},He({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,j){var _=xR(j,2),N=_[0],k=_[1];return ee(ee({},S),{},He({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,j=S.formattedGraphicalItems,_=S.activeItem;if(j&&j.length)for(var N=0,k=j.length;N<k;N++){var C=j[N],A=C.props,I=C.item,O=I.type.defaultProps!==void 0?ee(ee({},I.type.defaultProps),I.props):I.props,B=ki(I.type);if(B==="Bar"){var T=(A.data||[]).find(function(D){return pke(w,D)});if(T)return{graphicalItem:C,payload:T}}else if(B==="RadialBar"){var z=(A.data||[]).find(function(D){return oT(w,D)});if(z)return{graphicalItem:C,payload:z}}else if(xb(C,_)||bb(C,_)||Am(C,_)){var R=yCe({graphicalItem:C,activeTooltipItem:_,itemData:O.data}),V=O.activeIndex===void 0?R:O.activeIndex;return{graphicalItem:ee(ee({},C),{},{childIndex:V}),payload:Am(C,_)?O.data[R]:C.props.data[R]}}}return null}},{key:"render",value:function(){var w=this;if(!XO(this))return null;var S=this.props,j=S.children,_=S.className,N=S.width,k=S.height,C=S.style,A=S.compact,I=S.title,O=S.desc,B=bR(S,_Pe),T=mt(B,!1);if(A)return P.createElement(rR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement(v_,yu({},T,{width:N,height:k,title:I,desc:O}),this.renderClipPath(),ZO(j,this.renderMap)));if(this.props.accessibilityLayer){var z,R;T.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,T.role=(R=this.props.role)!==null&&R!==void 0?R:"application",T.onKeyDown=function(D){w.accessibilityManager.keyboardEvent(D)},T.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return P.createElement(rR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement("div",yu({className:wt("recharts-wrapper",_),style:ee({position:"relative",cursor:"default",width:N,height:k},C)},V,{ref:function($){w.container=$}}),P.createElement(v_,yu({},T,{width:N,height:k,title:I,desc:O,style:UPe}),this.renderClipPath(),ZO(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);He(g,"displayName",r),He(g,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),He(g,"getDerivedStateFromProps",function(y,b){var v=y.dataKey,w=y.data,S=y.children,j=y.width,_=y.height,N=y.layout,k=y.stackOffset,C=y.margin,A=b.dataStartIndex,I=b.dataEndIndex;if(b.updateId===void 0){var O=_R(y);return ee(ee(ee({},O),{},{updateId:0},m(ee(ee({props:y},O),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:w,prevWidth:j,prevHeight:_,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(v!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||_!==b.prevHeight||N!==b.prevLayout||k!==b.prevStackOffset||!Ou(C,b.prevMargin)){var B=_R(y),T={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},z=ee(ee({},jR(b,w,N)),{},{updateId:b.updateId+1}),R=ee(ee(ee({},B),T),z);return ee(ee(ee({},R),m(ee({props:y},R),b)),{},{prevDataKey:v,prevData:w,prevWidth:j,prevHeight:_,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(!p_(S,b.prevChildren)){var V,D,$,M,te=Zn(S,jd),Q=te&&(V=(D=te.props)===null||D===void 0?void 0:D.startIndex)!==null&&V!==void 0?V:A,le=te&&($=(M=te.props)===null||M===void 0?void 0:M.endIndex)!==null&&$!==void 0?$:I,me=Q!==A||le!==I,We=!vt(w),Ve=We&&!me?b.updateId:b.updateId+1;return ee(ee({updateId:Ve},m(ee(ee({props:y},b),{},{updateId:Ve,dataStartIndex:Q,dataEndIndex:le}),b)),{},{prevChildren:S,dataStartIndex:Q,dataEndIndex:le})}return null}),He(g,"renderActiveDot",function(y,b,v){var w;return x.isValidElement(y)?w=x.cloneElement(y,b):nt(y)?w=y(b):w=P.createElement(Fk,b),P.createElement(ur,{className:"recharts-active-dot",key:v},w)});var p=x.forwardRef(function(b,v){return P.createElement(g,yu({},b,{ref:v}))});return p.displayName=g.displayName,p},QPe=_6({chartName:"BarChart",GraphicalChild:Ac,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:bc},{axisType:"yAxis",AxisComp:wc}],formatAxisMap:FB}),S6=_6({chartName:"AreaChart",GraphicalChild:Ji,axisComponents:[{axisType:"xAxis",AxisComp:bc},{axisType:"yAxis",AxisComp:wc}],formatAxisMap:FB});const Na={getProviders:async()=>{const{data:e,error:t}=await q.from("model_providers").select("*").order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProvider:async e=>{const{data:t,error:r}=await q.from("model_providers").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProvider:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("model_providers").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProvider:async(e,t)=>{const{data:r,error:n}=await q.from("model_providers").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProvider:async e=>{const{error:t}=await q.from("model_providers").delete().eq("id",e);if(t)throw new Error(t.message)},getRequests:async e=>{let t=q.from("model_requests").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getRequest:async e=>{const{data:t,error:r}=await q.from("model_requests").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createRequest:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("model_requests").insert(r).select().single();if(s)throw new Error(s.message);return n},updateRequest:async(e,t)=>{const{data:r,error:n}=await q.from("model_requests").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getUsageMetrics:async e=>{let t=q.from("usage_metrics").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.since&&(t=t.gte("created_at",e.since)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getUsageSummary:async e=>{const t=await Na.getUsageMetrics({limit:1e4,providerId:e==null?void 0:e.providerId,since:e==null?void 0:e.since}),r=t.reduce((i,o)=>i+o.token_count_input,0),n=t.reduce((i,o)=>i+o.token_count_output,0),s=new Set(t.map(i=>i.request_id));return{totalInputTokens:r,totalOutputTokens:n,requestCount:s.size}},createUsageMetric:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("usage_metrics").insert(r).select().single();if(s)throw new Error(s.message);return n},getConfigurationOverrides:async e=>{if(!e)return null;const{data:t,error:r}=await q.from("configuration_overrides").select("*").eq("request_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},getConfigurationOverridesByRequestIds:async e=>{if(e.length===0)return[];const{data:t,error:r}=await q.from("configuration_overrides").select("*").in("request_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},upsertConfigurationOverride:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("configuration_overrides").upsert({request_id:r.request_id,user_id:r.user_id,model_name:r.model_name??null,temperature:r.temperature??null,max_tokens:r.max_tokens??null,parameters:r.parameters??{}},{onConflict:"request_id"}).select().single();if(s)throw new Error(s.message);return n},updateConfigurationOverride:async(e,t)=>{const{data:r,error:n}=await q.from("configuration_overrides").update(t).eq("request_id",e).select().single();if(n)throw new Error(n.message);return r}};function Yk(e,t){return e().catch(()=>t)}const Cr={all:["model-providers"],providers:()=>[...Cr.all,"providers"],provider:e=>[...Cr.all,"provider",e],requests:e=>[...Cr.all,"requests",e],request:e=>[...Cr.all,"request",e],usageMetrics:e=>[...Cr.all,"usage-metrics",e],usageSummary:e=>[...Cr.all,"usage-summary",e],configOverride:e=>[...Cr.all,"config-override",e]};function XPe(){return Oe({queryKey:Cr.providers(),queryFn:()=>Yk(()=>Na.getProviders(),[])})}function JPe(){const e=be();return ye({mutationFn:t=>Na.createProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cr.providers()}),W.success("Provider added")},onError:t=>{W.error(t.message||"Failed to add provider")}})}function ZPe(){const e=be();return ye({mutationFn:({id:t,data:r})=>Na.updateProvider(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Cr.providers()}),e.invalidateQueries({queryKey:Cr.provider(r)}),W.success("Provider updated")},onError:t=>{W.error(t.message||"Failed to update provider")}})}function eAe(){const e=be();return ye({mutationFn:t=>Na.deleteProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cr.providers()}),e.invalidateQueries({queryKey:Cr.requests()}),W.success("Provider removed")},onError:t=>{W.error(t.message||"Failed to remove provider")}})}function tAe(e){return Oe({queryKey:Cr.requests(e),queryFn:()=>Yk(()=>Na.getRequests(e),[])})}function rAe(){const e=be();return ye({mutationFn:t=>Na.createRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cr.requests()}),W.success("Request logged")},onError:t=>{W.error(t.message||"Failed to log request")}})}function nAe(e){return Oe({queryKey:Cr.usageMetrics(e),queryFn:()=>Yk(()=>Na.getUsageMetrics(e),[])})}function sAe(e){return Oe({queryKey:Cr.usageSummary(e),queryFn:()=>Na.getUsageSummary(e)})}function aAe(){const e=be();return ye({mutationFn:t=>Na.createUsageMetric(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cr.usageMetrics()}),e.invalidateQueries({queryKey:Cr.usageSummary()})},onError:t=>{W.error(t.message||"Failed to record usage")}})}function iAe(){const e=be();return ye({mutationFn:t=>Na.upsertConfigurationOverride(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Cr.configOverride(r.request_id)}),W.success("Configuration saved")},onError:t=>{W.error(t.message||"Failed to save configuration")}})}const NR={openai:"OpenAI",anthropic:"Anthropic",local:"Local",ollama:"Ollama",vllm:"vLLM",custom:"Custom"},oAe=ht({name:je().min(1,"Name is required").max(128),slug:nr(["openai","anthropic","local","ollama","vllm","custom"]),api_endpoint_base:je().url().optional().or($N("")),priority:is.number().int().min(0).max(999),is_default:ti(),status:nr(["active","inactive","error"])});function lAe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,provider:s}){const i=!!s,o=dt({resolver:ft(oAe),defaultValues:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"}});x.useEffect(()=>{e&&o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"})},[e,s,o]);const l=o.handleSubmit(u=>{r({name:u.name,slug:u.slug,api_endpoint_base:u.api_endpoint_base||null,priority:u.priority,is_default:u.is_default,status:u.status}),o.reset()}),c=u=>{u||o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:void 0),t(u)};return a.jsx(Le,{open:e,onOpenChange:c,children:a.jsxs(Re,{className:"max-w-md",children:[a.jsxs(Me,{children:[a.jsx($e,{children:i?"Edit provider":"Add provider"}),a.jsx(Ie,{children:i?"Update model provider settings and priority.":"Register a new AI model provider (OpenAI, Anthropic, local, etc.)."})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"name",children:"Name"}),a.jsx(ge,{id:"name",placeholder:"e.g. OpenAI GPT-4",...o.register("name"),className:J(o.formState.errors.name&&"border-destructive")}),o.formState.errors.name&&a.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Provider type"}),a.jsxs(lt,{value:o.watch("slug"),onValueChange:u=>o.setValue("slug",u),disabled:i,children:[a.jsx(at,{children:a.jsx(ct,{placeholder:"Select type"})}),a.jsx(it,{children:Object.keys(NR).map(u=>a.jsx(Ne,{value:u,children:NR[u]},u))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"api_endpoint_base",children:"API endpoint (optional)"}),a.jsx(ge,{id:"api_endpoint_base",placeholder:"https://api.openai.com/v1",...o.register("api_endpoint_base")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"priority",children:"Priority (higher = preferred)"}),a.jsx(ge,{id:"priority",type:"number",min:0,max:999,...o.register("priority")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsx(Y,{htmlFor:"is_default",className:"cursor-pointer",children:"Default provider"}),a.jsx(xr,{id:"is_default",checked:o.watch("is_default"),onCheckedChange:u=>o.setValue("is_default",u)})]}),i&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Status"}),a.jsxs(lt,{value:o.watch("status"),onValueChange:u=>o.setValue("status",u),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"active",children:"Active"}),a.jsx(Ne,{value:"inactive",children:"Inactive"}),a.jsx(Ne,{value:"error",children:"Error"})]})]})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":i?"Update":"Add"})]})]})]})})}const cAe=ht({provider_id:je().uuid().optional().nullable(),model_name:je().max(128).optional(),temperature:is.number().min(0).max(2).optional(),max_tokens:is.number().int().min(1).max(128e3).optional()}),uAe={pending:"secondary",running:"default",completed:"secondary",failed:"destructive"},dAe={active:"success",inactive:"secondary",error:"destructive"};function fAe(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s]=x.useState(()=>DN(new Date,7).toISOString()),{data:i=[],isLoading:o}=XPe(),{data:l=[],isLoading:c}=tAe({limit:50}),{data:u,isLoading:d}=sAe({since:s}),{data:f=[]}=nAe({limit:100,since:s}),h=JPe(),m=ZPe(),g=eAe(),p=rAe(),y=aAe(),b=iAe(),v=dt({resolver:ft(cAe),defaultValues:{provider_id:null,model_name:"",temperature:.7,max_tokens:4096}}),w=_=>{r?m.mutate({id:r.id,data:{name:_.name,slug:_.slug,api_endpoint_base:_.api_endpoint_base??void 0,priority:_.priority,is_default:_.is_default,status:_.status}},{onSettled:()=>{n(null),t(!1)}}):h.mutate({name:_.name,slug:_.slug,api_endpoint_base:_.api_endpoint_base??null,priority:_.priority,is_default:_.is_default,status:_.status},{onSuccess:()=>t(!1)})},S=v.handleSubmit(async _=>{var C,A;const N=_.provider_id??((C=i.find(I=>I.is_default))==null?void 0:C.id)??((A=i[0])==null?void 0:A.id)??null,k=await p.mutateAsync({provider_id:N,status:"pending"});await b.mutateAsync({request_id:k.id,model_name:_.model_name??null,temperature:_.temperature??null,max_tokens:_.max_tokens??null}),await y.mutateAsync({request_id:k.id,provider_id:N,token_count_input:0,token_count_output:0}),v.reset()}),j=f.slice().reverse().reduce((_,N)=>{const k=Da(N.created_at,"yyyy-MM-dd");_.find(A=>A.date===k)||_.push({date:k,tokens:0,requests:0});const C=_.find(A=>A.date===k);return C&&(C.tokens+=N.token_count_input+N.token_count_output,C.requests+=1),_},[]);return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Model Providers"})}),a.jsxs(ri,{defaultValue:"request",className:"space-y-4",children:[a.jsxs(ja,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsxs(St,{value:"request",className:"gap-2",children:[a.jsx(td,{className:"h-4 w-4"}),"Request"]}),a.jsxs(St,{value:"usage",className:"gap-2",children:[a.jsx(Gf,{className:"h-4 w-4"}),"Usage"]}),a.jsxs(St,{value:"providers",className:"gap-2",children:[a.jsx(qa,{className:"h-4 w-4"}),"Providers"]})]}),a.jsxs(Nt,{value:"request",className:"space-y-4",children:[a.jsxs(X,{className:"shadow-card",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"New request"}),a.jsx(we,{children:"Select provider and optional overrides. Request will be logged for usage and history."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:S,className:"flex flex-col gap-4 sm:max-w-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Provider"}),a.jsxs(lt,{value:v.watch("provider_id")??"",onValueChange:_=>v.setValue("provider_id",_||null),children:[a.jsx(at,{children:a.jsx(ct,{placeholder:"Default provider"})}),a.jsxs(it,{children:[i.map(_=>a.jsxs(Ne,{value:_.id,children:[_.name," ",_.is_default&&"(default)"]},_.id)),i.length===0&&a.jsx(Ne,{value:"_none",disabled:!0,children:"Add a provider first"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"model_name",children:"Model (optional)"}),a.jsx(ge,{id:"model_name",placeholder:"e.g. gpt-4o",...v.register("model_name")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"temperature",children:"Temperature"}),a.jsx(ge,{id:"temperature",type:"number",step:.1,min:0,max:2,...v.register("temperature")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"max_tokens",children:"Max tokens"}),a.jsx(ge,{id:"max_tokens",type:"number",...v.register("max_tokens")})]})]}),a.jsx(E,{type:"submit",disabled:p.isPending||i.length===0,children:p.isPending?"Submitting":"Log request"})]})})]}),a.jsxs(X,{className:"shadow-card",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Recent requests"}),a.jsx(we,{children:"Last 50 model requests"})]}),a.jsx(Z,{children:c?a.jsx(de,{className:"h-32 w-full rounded-lg"}):l.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No requests yet. Submit a request above or run from chat/skills."}):a.jsx(jt,{className:"h-64",children:a.jsx("ul",{className:"space-y-2",children:l.map(_=>{var N;return a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border p-3 transition-colors hover:bg-secondary/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(zS,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:_.provider_id?((N=i.find(k=>k.id===_.provider_id))==null?void 0:N.name)??"Unknown":"No provider"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:qr(_.created_at,{addSuffix:!0})})]})]}),a.jsx(Ye,{variant:uAe[_.status],children:_.status})]},_.id)})})})})]})]}),a.jsxs(Nt,{value:"usage",className:"space-y-4",children:[d?a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsx(de,{className:"h-24 rounded-lg"}),a.jsx(de,{className:"h-24 rounded-lg"}),a.jsx(de,{className:"h-24 rounded-lg"})]}):a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ae,{className:"text-sm font-medium",children:"Total input tokens"}),a.jsx(uE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalInputTokens)??0})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ae,{className:"text-sm font-medium",children:"Total output tokens"}),a.jsx(uE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalOutputTokens)??0})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ae,{className:"text-sm font-medium",children:"Requests (period)"}),a.jsx(d7,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.requestCount)??0})})]})]}),a.jsxs(X,{className:"shadow-card",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Usage over time"}),a.jsx(we,{children:"Tokens and request count (last 7 days by default)"})]}),a.jsx(Z,{children:j.length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-8 text-center",children:"No usage data in this period."}):a.jsx(L_,{width:"100%",height:280,children:a.jsxs(S6,{data:j,children:[a.jsx(Ty,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(bc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(wc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(bs,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"}}),a.jsx(Ji,{type:"monotone",dataKey:"tokens",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Tokens"})]})})})]})]}),a.jsxs(Nt,{value:"providers",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure AI model providers (OpenAI, Anthropic, local). Priority and default control routing and failover."}),a.jsxs(E,{onClick:()=>{n(null),t(!0)},children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Add provider"]})]}),o?a.jsx(de,{className:"h-48 w-full rounded-lg"}):i.length===0?a.jsx(X,{className:"shadow-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(qa,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"No providers yet. Add one to start logging requests and usage."}),a.jsxs(E,{onClick:()=>t(!0),children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Add provider"]})]})}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.map(_=>a.jsxs(X,{className:"shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",children:[a.jsxs(ne,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ae,{className:"text-base flex items-center gap-2",children:[_.name,_.is_default&&a.jsx(Ye,{variant:"secondary",className:"text-xs",children:"Default"})]}),a.jsxs(we,{className:"text-xs mt-1",children:[_.api_endpoint_base??_.slug," Priority ",_.priority]})]}),a.jsxs(ma,{children:[a.jsx(pa,{asChild:!0,children:a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(za,{className:"h-4 w-4"})})}),a.jsxs(As,{align:"end",children:[a.jsxs(Ut,{onClick:()=>{n(_),t(!0)},children:[a.jsx(Si,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Ut,{className:"text-destructive focus:text-destructive",onClick:()=>g.mutate(_.id),children:[a.jsx(gn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]}),a.jsx(Z,{children:a.jsx(Ye,{variant:dAe[_.status],children:_.status})})]},_.id))})]})]}),a.jsx(lAe,{open:e,onOpenChange:t,onSubmit:w,isSubmitting:h.isPending||m.isPending,provider:r})]})}const Pn={getProfiles:async()=>{const{data:e,error:t}=await q.from("browser_profiles").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProfile:async e=>{const{data:t,error:r}=await q.from("browser_profiles").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProfile:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("browser_profiles").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProfile:async(e,t)=>{const{data:r,error:n}=await q.from("browser_profiles").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProfile:async e=>{const{error:t}=await q.from("browser_profiles").delete().eq("id",e);if(t)throw new Error(t.message)},getTabs:async e=>{if(!e)return[];const{data:t,error:r}=await q.from("browser_tabs").select("*").eq("browser_profile_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getTab:async e=>{const{data:t,error:r}=await q.from("browser_tabs").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertTabs:async(e,t)=>{const r=t.map(i=>({...i,browser_profile_id:e})),{data:n,error:s}=await q.from("browser_tabs").upsert(r,{onConflict:"id"}).select();if(s)throw new Error(s.message);return n??[]},updateTab:async(e,t)=>{const{data:r,error:n}=await q.from("browser_tabs").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteTab:async e=>{const{error:t}=await q.from("browser_tabs").delete().eq("id",e);if(t)throw new Error(t.message)},getScripts:async()=>{const{data:e,error:t}=await q.from("browser_scripts").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getScript:async e=>{const{data:t,error:r}=await q.from("browser_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createScript:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("browser_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateScript:async(e,t)=>{const{data:r,error:n}=await q.from("browser_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteScript:async e=>{const{error:t}=await q.from("browser_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getCaptureRecords:async(e,t)=>{if(!e)return[];let r=q.from("browser_capture_records").select("*").eq("browser_profile_id",e).order("created_at",{ascending:!1});t!=null&&t.type&&(r=r.eq("capture_type",t.type)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createCaptureRecord:async e=>{const{data:t,error:r}=await q.from("browser_capture_records").insert(e).select().single();if(r)throw new Error(r.message);return t},getCommands:async e=>{if(!e)return[];const{data:t,error:r}=await q.from("browser_commands").select("*").eq("browser_profile_id",e).order("sequence_order",{ascending:!0}).order("created_at",{ascending:!0});if(r)throw new Error(r.message);return t??[]},getCommand:async e=>{const{data:t,error:r}=await q.from("browser_commands").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCommand:async e=>{const{data:t,error:r}=await q.from("browser_commands").insert(e).select().single();if(r)throw new Error(r.message);return t},updateCommand:async(e,t)=>{const{data:r,error:n}=await q.from("browser_commands").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCommand:async e=>{const{error:t}=await q.from("browser_commands").delete().eq("id",e);if(t)throw new Error(t.message)},deleteCaptureRecord:async e=>{const{error:t}=await q.from("browser_capture_records").delete().eq("id",e);if(t)throw new Error(t.message)},getCdpTokens:async()=>{const{data:e,error:t}=await q.from("browser_cdp_tokens").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getCdpToken:async e=>{const{data:t,error:r}=await q.from("browser_cdp_tokens").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCdpToken:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("browser_cdp_tokens").insert(r).select().single();if(s)throw new Error(s.message);return n},updateCdpToken:async(e,t)=>{const{data:r,error:n}=await q.from("browser_cdp_tokens").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCdpToken:async e=>{const{error:t}=await q.from("browser_cdp_tokens").delete().eq("id",e);if(t)throw new Error(t.message)}};function Qk(e,t){return e().catch(()=>t)}const Vt={all:["browser"],profiles:()=>[...Vt.all,"profiles"],profile:e=>[...Vt.all,"profile",e??""],tabs:e=>[...Vt.all,"tabs",e??""],tab:e=>[...Vt.all,"tab",e??""],scripts:()=>[...Vt.all,"scripts"],script:e=>[...Vt.all,"script",e??""],captures:(e,t)=>[...Vt.all,"captures",e??"",t],commands:e=>[...Vt.all,"commands",e??""],command:e=>[...Vt.all,"command",e??""],cdpTokens:()=>[...Vt.all,"cdpTokens"],cdpToken:e=>[...Vt.all,"cdpToken",e??""]};function hAe(){return Oe({queryKey:Vt.profiles(),queryFn:()=>Qk(()=>Pn.getProfiles(),[])})}function mAe(e){return Oe({queryKey:Vt.profile(e),queryFn:()=>e?Pn.getProfile(e):Promise.resolve(null),enabled:!!e})}function pAe(){const e=be();return ye({mutationFn:t=>Pn.createProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.profiles()}),W.success("Profile created")},onError:t=>{W.error(t.message||"Failed to create profile")}})}function gAe(){const e=be();return ye({mutationFn:({id:t,data:r})=>Pn.updateProfile(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Vt.profiles()}),e.invalidateQueries({queryKey:Vt.profile(r)}),W.success("Profile updated")},onError:t=>{W.error(t.message||"Failed to update profile")}})}function vAe(e){return Oe({queryKey:Vt.tabs(e),queryFn:()=>Pn.getTabs(e),enabled:!!e})}function yAe(){return Oe({queryKey:Vt.scripts(),queryFn:()=>Qk(()=>Pn.getScripts(),[])})}function xAe(){const e=be();return ye({mutationFn:t=>Pn.createScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.scripts()}),W.success("Script added")},onError:t=>{W.error(t.message||"Failed to add script")}})}function bAe(e,t){return Oe({queryKey:Vt.captures(e,t),queryFn:()=>Pn.getCaptureRecords(e,t),enabled:!!e})}function wAe(){const e=be();return ye({mutationFn:t=>Pn.createCaptureRecord(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Vt.captures(r.browser_profile_id)}),W.success("Capture saved")},onError:t=>{W.error(t.message||"Failed to save capture")}})}function jAe(){const e=be();return ye({mutationFn:t=>Pn.deleteCaptureRecord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.all}),W.success("Capture removed")},onError:t=>{W.error(t.message||"Failed to remove capture")}})}function _Ae(e){return Oe({queryKey:Vt.commands(e),queryFn:()=>Pn.getCommands(e),enabled:!!e})}function SAe(){const e=be();return ye({mutationFn:t=>Pn.createCommand(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Vt.commands(r.browser_profile_id)}),W.success("Command added to queue")},onError:t=>{W.error(t.message||"Failed to add command")}})}function NAe(){const e=be();return ye({mutationFn:t=>Pn.deleteCommand(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.all}),W.success("Command removed")},onError:t=>{W.error(t.message||"Failed to remove command")}})}function kAe(){return Oe({queryKey:Vt.cdpTokens(),queryFn:()=>Qk(()=>Pn.getCdpTokens(),[])})}function CAe(){const e=be();return ye({mutationFn:t=>Pn.createCdpToken(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.cdpTokens()}),W.success("CDP token added")},onError:t=>{W.error(t.message||"Failed to add CDP token")}})}function EAe({open:e,onOpenChange:t,action:r,onConfirm:n,isPending:s=!1,profilePath:i,isIsolated:o=!0}){const l=r==="start";return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Me,{children:[a.jsx($e,{children:l?"Start managed profile":"Stop managed profile"}),a.jsx(Ie,{children:l?"Start the managed Chromium profile. The profile will run in an isolated environment.":"Stop the managed Chromium profile. Any open tabs and automation will be terminated."})]}),(i!=null||o!=null)&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm text-muted-foreground",children:[i&&a.jsxs("p",{className:"truncate",title:i,children:[a.jsx("span",{className:"font-medium text-foreground",children:"Path:"})," ",i]}),o!=null&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-foreground",children:"Isolation:"})," ",o?"Enabled":"Disabled"]})]}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(E,{variant:l?"default":"destructive",onClick:()=>{n(),t(!1)},disabled:s,children:s?"Please wait":l?a.jsxs(a.Fragment,{children:[a.jsx(Ni,{className:"mr-2 h-4 w-4"}),"Start profile"]}):a.jsxs(a.Fragment,{children:[a.jsx(Qh,{className:"mr-2 h-4 w-4"}),"Stop profile"]})})]})]})})}function OAe({open:e,onOpenChange:t,tab:r}){if(!r)return null;const n=r.url||"about:blank",s=r.title||n;return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Me,{children:[a.jsx($e,{className:"flex items-center gap-2 truncate pr-8",children:s}),a.jsx(Ie,{className:"break-all",children:n})]}),a.jsxs("div",{className:"space-y-4",children:[r.snapshot_url&&a.jsx("div",{className:"rounded-lg border border-border overflow-hidden bg-secondary/30",children:a.jsx("img",{src:r.snapshot_url,alt:`Snapshot of ${s}`,className:"w-full h-auto max-h-48 object-cover object-top"})}),a.jsxs("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"URL"}),a.jsx("dd",{className:"min-w-0 truncate text-right font-mono text-xs",title:r.url,children:r.url||""})]}),r.external_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"External ID"}),a.jsx("dd",{className:"font-mono text-xs",children:r.external_id})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Updated"}),a.jsx("dd",{children:new Date(r.updated_at).toLocaleString()})]})]}),n.startsWith("http")&&a.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:J("inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium","bg-primary/10 text-primary hover:bg-primary/20 transition-colors"),children:[a.jsx(Ho,{className:"h-4 w-4"}),"Open in new tab"]})]})]})})}const PAe=ht({name:je().min(1,"Name is required").max(200,"Name too long"),script_content:je().optional()}),kR={name:"",script_content:""};function AAe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=dt({resolver:ft(PAe),defaultValues:kR}),c=u=>{var d;r({name:u.name.trim(),script_content:((d=u.script_content)==null?void 0:d.trim())||null,execution_status:"pending"}),o(kR),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Add automation script"}),a.jsx(Ie,{children:"Upload or paste an automation script. It will appear in the Automation Runner and can be executed against the managed profile."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"script-name",children:"Script name"}),a.jsx(ge,{id:"script-name",placeholder:"e.g. login-flow.js",...s("name"),className:l.name?"border-destructive":""}),l.name&&a.jsx("p",{className:"text-sm text-destructive",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"script-content",children:"Content (optional)"}),a.jsx("textarea",{id:"script-content",placeholder:"Paste script content or leave empty to upload later",...s("script_content"),rows:6,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Adding":"Add script"})]})]})]})})}const TAe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},RAe={screenshot:Kh,pdf:or,dom:hv};function MAe({open:e,onOpenChange:t,captureType:r,fileUrl:n,filePath:s,onDownload:i,onClose:o}){const l=RAe[r],c=TAe[r],u=!!n,d=()=>{o==null||o(),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Me,{children:[a.jsxs($e,{className:"flex items-center gap-2",children:[a.jsx(l,{className:"h-5 w-5 text-accent"}),c," captured"]}),a.jsxs(Ie,{children:["Your ",c.toLowerCase()," has been saved. You can download it or continue capturing."]})]}),s&&a.jsx("p",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm font-mono text-muted-foreground truncate",title:s,children:s}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{variant:"outline",onClick:d,children:"Close"}),u&&a.jsxs(E,{onClick:()=>{if(i==null||i(),n){const f=document.createElement("a");f.href=n,f.download=`capture-${r}-${Date.now()}`,f.click()}d()},children:[a.jsx(Yr,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})}const $Ae=ht({connection_type:nr(["local","node_proxy"]),token_preview:je().max(20).optional(),config_json:je().optional()}),h0={connection_type:"local",token_preview:"",config_json:"{}"};function IAe({open:e,onOpenChange:t,existing:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=dt({resolver:ft($Ae),defaultValues:r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:h0}),f=c("connection_type");x.useEffect(()=>{e&&u(r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:h0)},[e,r,u]);const h=m=>{let g={};try{g=m.config_json?JSON.parse(m.config_json):{}}catch{g={}}n(r?{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}:{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}),u(h0),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Me,{children:[a.jsx($e,{children:r?"Edit CDP connector":"Add CDP connector"}),a.jsx(Ie,{children:"Configure local or node proxy CDP connection. Sensitive token data is stored securely and only a redacted preview is shown here."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Connection type"}),a.jsxs(lt,{value:f,onValueChange:m=>l("connection_type",m),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"local",children:"Local"}),a.jsx(Ne,{value:"node_proxy",children:"Node proxy"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Y,{htmlFor:"token-preview",className:"flex items-center gap-2",children:[a.jsx(d4,{className:"h-4 w-4 text-muted-foreground"}),"Token preview (redacted)"]}),a.jsx(ge,{id:"token-preview",placeholder:"e.g. ws://***...***",...i("token_preview")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional label or redacted preview for this token. The actual token is never stored in plain text."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"config-json",children:"Config (JSON, optional)"}),a.jsx("textarea",{id:"config-json",placeholder:'{"host": "localhost", "port": 9222}',...i("config_json"),rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),d.config_json&&a.jsx("p",{className:"text-sm text-destructive",children:d.config_json.message})]}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:s,children:s?"Saving":r?"Save changes":"Add connector"})]})]})]})})}const DAe=[{value:"click",label:"Click"},{value:"type",label:"Type"},{value:"select",label:"Select"},{value:"navigate",label:"Navigate"},{value:"scroll",label:"Scroll"},{value:"wait",label:"Wait"},{value:"screenshot",label:"Screenshot"}],LAe=ht({command_type:nr(["click","type","select","navigate","scroll","wait","screenshot"]),selector:je().optional(),text:je().optional(),url:je().url().optional().or($N("")),value:je().optional(),x:is.number().optional(),y:is.number().optional(),ms:is.number().min(0).optional(),sequence_order:is.number().min(0).optional()}),m0={command_type:"click",selector:"",text:"",url:"",value:"",sequence_order:0};function FAe({open:e,onOpenChange:t,browserProfileId:r,nextSequenceOrder:n,onSubmit:s,isSubmitting:i=!1}){const{register:o,handleSubmit:l,watch:c,setValue:u,reset:d,formState:{errors:f}}=dt({resolver:ft(LAe),defaultValues:{...m0,sequence_order:n}}),h=c("command_type");x.useEffect(()=>{e&&r&&d({...m0,sequence_order:n})},[e,r,n,d]);const m=p=>{var b,v;const y={};return(b=p.selector)!=null&&b.trim()&&(y.selector=p.selector.trim()),p.text!==void 0&&p.text!==""&&(y.text=p.text),(v=p.url)!=null&&v.trim()&&(y.url=p.url.trim()),p.value!==void 0&&p.value!==""&&(y.value=p.value),p.x!==void 0&&(y.x=p.x),p.y!==void 0&&(y.y=p.y),p.ms!==void 0&&(y.ms=p.ms),y},g=p=>{if(!r)return;const y=m(p);s({browser_profile_id:r,command_type:p.command_type,parameters:y,sequence_order:p.sequence_order??n,status:"pending"}),d({...m0,sequence_order:n+1}),t(!1)};return r?a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[480px]",showClose:!0,children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Add command to queue"}),a.jsx(Ie,{children:"Add an automation command. Commands run in sequence within the deterministic tab control environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Command type"}),a.jsxs(lt,{value:h,onValueChange:p=>u("command_type",p),children:[a.jsx(at,{className:"w-full",children:a.jsx(ct,{placeholder:"Select type"})}),a.jsx(it,{children:DAe.map(({value:p,label:y})=>a.jsx(Ne,{value:p,children:y},p))})]})]}),(h==="click"||h==="type"||h==="select"||h==="wait")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"selector",children:"Selector (CSS or XPath)"}),a.jsx(ge,{id:"selector",placeholder:"e.g. #submit-btn or //button[text()='OK']",...o("selector"),className:f.selector?"border-destructive":""}),f.selector&&a.jsx("p",{className:"text-sm text-destructive",children:f.selector.message})]}),h==="type"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"text",children:"Text to type"}),a.jsx(ge,{id:"text",placeholder:"Text to enter",...o("text"),className:f.text?"border-destructive":""})]}),h==="select"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"value",children:"Option value"}),a.jsx(ge,{id:"value",placeholder:"Value to select",...o("value")})]}),h==="navigate"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"url",children:"URL"}),a.jsx(ge,{id:"url",type:"url",placeholder:"https://example.com",...o("url"),className:f.url?"border-destructive":""}),f.url&&a.jsx("p",{className:"text-sm text-destructive",children:f.url.message})]}),h==="scroll"&&a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"scroll-x",children:"X (px)"}),a.jsx(ge,{id:"scroll-x",type:"number",placeholder:"0",...o("x")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"scroll-y",children:"Y (px)"}),a.jsx(ge,{id:"scroll-y",type:"number",placeholder:"0",...o("y")})]})]}),h==="wait"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"ms",children:"Delay (ms)"}),a.jsx(ge,{id:"ms",type:"number",min:0,placeholder:"1000",...o("ms"),className:f.ms?"border-destructive":""}),f.ms&&a.jsx("p",{className:"text-sm text-destructive",children:f.ms.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"sequence_order",children:"Order in queue"}),a.jsx(ge,{id:"sequence_order",type:"number",min:0,...o("sequence_order"),className:f.sequence_order?"border-destructive":""}),f.sequence_order&&a.jsx("p",{className:"text-sm text-destructive",children:f.sequence_order.message})]}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:i,className:"transition-transform hover:scale-[1.02]",children:i?"Adding":"Add command"})]})]})]})}):null}const UAe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},BAe={screenshot:Kh,pdf:or,dom:hv};function qAe({open:e,onOpenChange:t,captures:r,onDownload:n,onDelete:s,isDeleting:i=!1}){const o=l=>{l.file_url&&window.open(l.file_url,"_blank","noopener,noreferrer")};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[640px] max-h-[85vh] flex flex-col",showClose:!0,children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Captured outputs"}),a.jsx(Ie,{children:"View, download, or delete captured screenshots, PDFs, and DOM snapshots from this session."})]}),a.jsx(jt,{className:"flex-1 min-h-[200px] rounded-lg border border-border",children:r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[a.jsx(Kh,{className:"h-12 w-12 mb-3 opacity-50"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No captures yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Capture a screenshot, PDF, or DOM snapshot from the session to see them here."})]}):a.jsx("ul",{className:"p-2 space-y-2",children:r.map(l=>{const c=BAe[l.capture_type],u=UAe[l.capture_type],d=new Date(l.created_at).toLocaleString(),f=!!l.file_url;return a.jsxs("li",{className:J("flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3","transition-shadow hover:shadow-md"),children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-md bg-primary/10 text-primary",children:a.jsx(c,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:u}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",title:l.file_path??l.file_url??"",children:l.file_path??l.file_url??d}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f&&a.jsx(E,{variant:"ghost",size:"icon",onClick:()=>o(l),"aria-label":"View in new tab",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(Ho,{className:"h-4 w-4"})}),a.jsx(E,{variant:"ghost",size:"icon",onClick:()=>n(l),"aria-label":"Download",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(Yr,{className:"h-4 w-4"})}),a.jsx(E,{variant:"ghost",size:"icon",onClick:()=>s(l.id),disabled:i,"aria-label":"Delete",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:a.jsx(gn,{className:"h-4 w-4"})})]})]},l.id)})})})]})})}const zAe={running:"Running",stopped:"Stopped",starting:"Starting",stopping:"Stopping",error:"Error"},CR={click:"Click",type:"Type",select:"Select",navigate:"Navigate",scroll:"Scroll",wait:"Wait",screenshot:"Screenshot"};function WAe(){const[e,t]=x.useState(null),[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(null),[h,m]=x.useState(!1),[g,p]=x.useState(!1),[y,b]=x.useState(!1),{data:v=[],isLoading:w}=hAe(),S=x.useMemo(()=>v.find(H=>H.status==="running")??v[0]??null,[v]),j=r??(S==null?void 0:S.id)??null,{data:_}=mAe(j),{data:N=[],isLoading:k,refetch:C}=vAe(j),{data:A=[],isLoading:I}=yAe(),{data:O=[]}=bAe(j,{limit:20}),{data:B=[]}=kAe(),{data:T=[],isLoading:z}=_Ae(j),R=gAe(),V=pAe(),D=xAe(),$=wAe(),M=jAe(),te=CAe(),Q=SAe(),le=NAe(),me=(_==null?void 0:_.status)==="running",We=x.useMemo(()=>T.length===0?0:Math.max(...T.map(H=>H.sequence_order),0)+1,[T]),Ve=H=>{j&&t({open:!0,action:H})},ce=()=>{if(!e||!j)return;const H=e.action==="start"?"running":"stopped";R.mutate({id:j,data:{status:H}},{onSettled:()=>t(null)})},qe=H=>{j&&$.mutate({browser_profile_id:j,capture_type:H,file_path:null,file_url:`/api/browser/captures/${H}-${Date.now()}`,tab_id:null},{onSuccess:G=>{f({open:!0,type:H,fileUrl:G.file_url,filePath:G.file_path})}})},se=H=>{if(H.file_url){const G=document.createElement("a");G.href=H.file_url,G.download=`capture-${H.capture_type}-${Date.now()}`,G.click()}},xe=x.useMemo(()=>{const H=[];return T.slice(0,5).forEach(G=>{H.push({id:G.id,label:`${CR[G.command_type]}  ${G.status}`,time:new Date(G.created_at).toLocaleTimeString(),createdAt:G.created_at})}),O.slice(0,3).forEach(G=>{H.push({id:G.id,label:`Capture: ${G.capture_type}`,time:new Date(G.created_at).toLocaleTimeString(),createdAt:G.created_at})}),H.sort((G,Xe)=>Xe.createdAt.localeCompare(G.createdAt)).slice(0,8).map(({id:G,label:Xe,time:Ke})=>({id:G,label:Xe,time:Ke}))},[T,O]);return a.jsxs("div",{className:"flex flex-col h-full animate-fade-in-up",children:[a.jsxs("header",{className:"shrink-0 mb-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Browser Automation Console"}),a.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Managed Chromium profile, command queue, and capture tools. Control your session from the footer."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0",children:[a.jsxs(X,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[a.jsx(f4,{className:"h-5 w-5 text-primary"}),"Command Queue"]}),a.jsxs(E,{size:"sm",onClick:()=>p(!0),disabled:!j||Q.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx($t,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(we,{children:"Add and manage automation commands. They run in sequence."})]}),a.jsx(Z,{className:"flex-1 flex flex-col min-h-0",children:j?z?a.jsx("ul",{className:"space-y-2",children:[1,2,3].map(H=>a.jsx(de,{className:"h-10 rounded-md"},H))}):T.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(r7,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No commands in queue"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a command to run automations."}),a.jsxs(E,{className:"mt-3 transition-transform hover:scale-[1.02]",variant:"outline",size:"sm",onClick:()=>p(!0),children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Add command"]})]}):a.jsx(jt,{className:"flex-1 -mx-1 px-1",children:a.jsx("ul",{className:"space-y-1",children:T.map(H=>a.jsxs("li",{className:"flex items-center gap-2 rounded-md border border-border bg-secondary/30 px-2 py-1.5 group",children:[a.jsx("span",{className:"text-xs text-muted-foreground w-6 shrink-0",children:H.sequence_order+1}),a.jsx("span",{className:"truncate text-sm flex-1",children:CR[H.command_type]}),a.jsx(Ye,{variant:"secondary",className:"text-xs shrink-0",children:H.status}),a.jsx(E,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>le.mutate(H.id),disabled:le.isPending,"aria-label":"Remove command",children:a.jsx(gn,{className:"h-3 w-3"})})]},H.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select or create a profile to add commands."})})]}),a.jsxs(X,{className:"lg:col-span-6 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ux,{className:"h-5 w-5 text-primary"}),"Browser Viewport"]}),j&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:j,onChange:H=>n(H.target.value||null),children:v.map(H=>a.jsxs("option",{value:H.id,children:["Profile  ",zAe[H.status]??H.status]},H.id))}),a.jsxs(E,{size:"sm",onClick:()=>Ve("start"),disabled:me||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ni,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>Ve("stop"),disabled:!me||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Qh,{className:"h-4 w-4 mr-1"}),"Stop"]}),a.jsx(E,{variant:"ghost",size:"sm",onClick:()=>C(),disabled:k||!me,children:a.jsx(zd,{className:J("h-4 w-4",k&&"animate-spin")})})]})]}),a.jsx(we,{children:"Tab inspector and active session. Start the profile to see tabs."})]}),a.jsx(Z,{className:"flex-1 flex flex-col min-h-0",children:j?k?a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:[1,2,3,4].map(H=>a.jsx(de,{className:"h-24 rounded-lg"},H))}):N.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(dE,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No tabs"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:me?"Open pages in the managed browser or refresh.":"Start the profile to see tabs."})]}):a.jsx(jt,{className:"flex-1",children:a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:N.map(H=>a.jsxs("button",{type:"button",onClick:()=>{i(H),l(!0)},className:"flex flex-col overflow-hidden rounded-lg border border-border bg-secondary/30 text-left transition-all hover:border-primary/50 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[H.snapshot_url?a.jsx("img",{src:H.snapshot_url,alt:"",className:"h-20 w-full object-cover object-top"}):a.jsx("div",{className:"flex h-20 w-full items-center justify-center bg-muted",children:a.jsx(dE,{className:"h-8 w-8 text-muted-foreground"})}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"truncate text-sm font-medium",title:H.title??H.url,children:H.title||H.url||"Untitled"}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",title:H.url,children:H.url||""})]})]},H.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a profile to start."})})]}),a.jsxs(X,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Kh,{className:"h-5 w-5 text-primary"}),"Output Capture"]}),a.jsx(we,{children:"Screenshot, PDF, or DOM snapshot. View and manage captures below."})]}),a.jsxs(Z,{className:"flex-1 flex flex-col gap-3 min-h-0",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>qe("screenshot"),disabled:!j||!me||$.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Kh,{className:"h-4 w-4 mr-1"}),"Screenshot"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>qe("pdf"),disabled:!j||!me||$.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(or,{className:"h-4 w-4 mr-1"}),"PDF"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>qe("dom"),disabled:!j||!me||$.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(hv,{className:"h-4 w-4 mr-1"}),"DOM"]})]}),a.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recent"}),a.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>b(!0),className:"text-primary hover:text-primary",children:["Manage",a.jsx(Wn,{className:"h-4 w-4 ml-0.5"})]})]}),O.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No captures yet."}):a.jsx(jt,{className:"flex-1",children:a.jsx("ul",{className:"space-y-1",children:O.slice(0,5).map(H=>a.jsxs("li",{className:"flex items-center justify-between rounded-md border border-border bg-secondary/30 px-2 py-1.5 text-sm",children:[a.jsx("span",{children:H.capture_type}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(H.created_at).toLocaleDateString()})]},H.id))})})]})]})]})]}),a.jsx("footer",{className:"shrink-0 mt-4 pt-4 border-t border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Session"}),v.length>0&&j&&a.jsxs(a.Fragment,{children:[a.jsxs(E,{size:"sm",onClick:()=>Ve("start"),disabled:me||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ni,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>Ve("stop"),disabled:!me||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Qh,{className:"h-4 w-4 mr-1"}),"Stop"]})]}),v.length===0&&a.jsx(E,{size:"sm",variant:"outline",onClick:()=>V.mutate({status:"stopped",is_isolated:!0}),disabled:V.isPending,children:V.isPending?"Creating":"Create profile"})]}),a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(zS,{className:"h-4 w-4 text-muted-foreground shrink-0"}),a.jsx(jt,{className:"max-w-full",children:a.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground",children:xe.length===0?a.jsx("span",{children:"No activity yet"}):xe.map(H=>a.jsx("span",{className:"shrink-0 whitespace-nowrap",title:H.time,children:H.label},H.id))})})]})]})}),!w&&v.length===0&&a.jsx(X,{className:"mt-4 shadow-card",children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No profile yet. Create a default profile to start the managed browser."}),a.jsx(E,{size:"sm",variant:"outline",onClick:()=>V.mutate({status:"stopped",is_isolated:!0}),disabled:V.isPending,className:"transition-transform hover:scale-[1.02]",children:V.isPending?"Creating":"Create profile"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-base",children:[a.jsx(hv,{className:"h-4 w-4 text-primary"}),"Automation Runner"]}),a.jsxs(E,{size:"sm",onClick:()=>u(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(w4,{className:"h-4 w-4 mr-1"}),"Add script"]})]}),a.jsx(we,{children:"Upload and run automation scripts."})]}),a.jsx(Z,{children:I?a.jsx(de,{className:"h-10 rounded-md"}):A.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No scripts. Add one to run automations."}):a.jsx("ul",{className:"space-y-1",children:A.slice(0,3).map(H=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"truncate",children:H.name}),a.jsx(Ye,{variant:"secondary",children:H.execution_status})]},H.id))})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-base",children:[a.jsx(ha,{className:"h-4 w-4 text-primary"}),"CDP Connector"]}),a.jsxs(E,{size:"sm",variant:"outline",onClick:()=>m(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx($t,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(we,{children:"Local or node proxy CDP settings."})]}),a.jsx(Z,{children:B.length===0?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(d4,{className:"h-4 w-4"}),"No CDP connectors. Add one for remote CDP."]}):a.jsx("ul",{className:"space-y-1",children:B.slice(0,3).map(H=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-mono truncate",children:H.token_preview||H.connection_type}),a.jsx(Ye,{variant:"secondary",children:H.connection_type})]},H.id))})})]})]}),e&&a.jsx(EAe,{open:e.open,onOpenChange:H=>!H&&t(null),action:e.action,onConfirm:ce,isPending:R.isPending,profilePath:_==null?void 0:_.footprint_path,isIsolated:_==null?void 0:_.is_isolated}),a.jsx(OAe,{open:o,onOpenChange:l,tab:s}),a.jsx(AAe,{open:c,onOpenChange:u,onSubmit:H=>D.mutate(H),isSubmitting:D.isPending}),d&&a.jsx(MAe,{open:d.open,onOpenChange:H=>!H&&f(null),captureType:d.type,fileUrl:d.fileUrl,filePath:d.filePath}),a.jsx(IAe,{open:h,onOpenChange:m,existing:null,onSubmit:H=>te.mutate(H),isSubmitting:te.isPending}),a.jsx(FAe,{open:g,onOpenChange:p,browserProfileId:j,nextSequenceOrder:We,onSubmit:H=>Q.mutate(H),isSubmitting:Q.isPending}),a.jsx(qAe,{open:y,onOpenChange:b,captures:O,onDownload:se,onDelete:H=>M.mutate(H),isDeleting:M.isPending})]})}const Bs={getWakeWords:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("wake_words").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createWakeWord:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("wake_words").insert(r).select().single();if(s)throw new Error(s.message);return n},updateWakeWord:async(e,t)=>{const{data:r,error:n}=await q.from("wake_words").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWakeWord:async e=>{const{error:t}=await q.from("wake_words").delete().eq("id",e);if(t)throw new Error(t.message)},getTalkModeSettings:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("talk_mode_settings").select("*").eq("user_id",e.id).order("node_id",{ascending:!0,nullsFirst:!0});if(r)throw new Error(r.message);return t??[]},getTalkModeSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");let r=q.from("talk_mode_settings").select("*").eq("user_id",t.id);e===null?r=r.is("node_id",null):r=r.eq("node_id",e);const{data:n,error:s}=await r.maybeSingle();if(s)throw new Error(s.message);return n},upsertTalkModeSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id,node_id:e.node_id??null},{data:n,error:s}=await q.from("talk_mode_settings").upsert(r,{onConflict:"user_id,node_id"}).select().single();if(s)throw new Error(s.message);return n},updateTalkModeSetting:async(e,t)=>{const{data:r,error:n}=await q.from("talk_mode_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getTranscriptionBackends:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("transcription_backends").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTranscriptionBackends:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("transcription_backends").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTranscriptionBackends:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await q.from("transcription_backends").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getTtsProviderSetting:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("tts_provider_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTtsProviderSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("tts_provider_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTtsProviderSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await q.from("tts_provider_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getMediaSetting:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("media_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertMediaSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("media_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateMediaSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await q.from("media_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r}};function N6(e,t){return e().catch(()=>t)}const Lr={all:["voice"],wakeWords:()=>[...Lr.all,"wakeWords"],talkModeSettings:()=>[...Lr.all,"talkModeSettings"],talkModeSetting:e=>[...Lr.all,"talkModeSetting",e],transcriptionBackends:()=>[...Lr.all,"transcriptionBackends"],ttsProviderSetting:()=>[...Lr.all,"ttsProviderSetting"],mediaSetting:()=>[...Lr.all,"mediaSetting"]};function VAe(){return Oe({queryKey:Lr.wakeWords(),queryFn:()=>N6(()=>Bs.getWakeWords(),[])})}function KAe(){const e=be();return ye({mutationFn:t=>Bs.createWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Lr.wakeWords()}),W.success("Wake word added")},onError:t=>{W.error(t.message||"Failed to add wake word")}})}function HAe(){const e=be();return ye({mutationFn:({id:t,data:r})=>Bs.updateWakeWord(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Lr.wakeWords()}),W.success("Wake word updated")},onError:t=>{W.error(t.message||"Failed to update wake word")}})}function GAe(){const e=be();return ye({mutationFn:t=>Bs.deleteWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Lr.wakeWords()}),W.success("Wake word removed")},onError:t=>{W.error(t.message||"Failed to remove wake word")}})}function YAe(){return Oe({queryKey:Lr.talkModeSettings(),queryFn:()=>N6(()=>Bs.getTalkModeSettings(),[])})}function QAe(){const e=be();return ye({mutationFn:t=>Bs.upsertTalkModeSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Lr.talkModeSettings()}),e.invalidateQueries({queryKey:Lr.all}),W.success("Talk mode saved")},onError:t=>{W.error(t.message||"Failed to save talk mode")}})}function XAe(){return Oe({queryKey:Lr.transcriptionBackends(),queryFn:()=>Bs.getTranscriptionBackends()})}function JAe(){const e=be();return ye({mutationFn:t=>Bs.upsertTranscriptionBackends(t),onSuccess:()=>{e.invalidateQueries({queryKey:Lr.transcriptionBackends()}),W.success("Transcription backends saved")},onError:t=>{W.error(t.message||"Failed to save transcription backends")}})}function ZAe(){return Oe({queryKey:Lr.ttsProviderSetting(),queryFn:()=>Bs.getTtsProviderSetting()})}function eTe(){const e=be();return ye({mutationFn:t=>Bs.upsertTtsProviderSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Lr.ttsProviderSetting()}),W.success("TTS provider saved")},onError:t=>{W.error(t.message||"Failed to save TTS provider")}})}function tTe(){return Oe({queryKey:Lr.mediaSetting(),queryFn:()=>Bs.getMediaSetting()})}function rTe(){const e=be();return ye({mutationFn:t=>Bs.upsertMediaSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Lr.mediaSetting()}),W.success("Media settings saved")},onError:t=>{W.error(t.message||"Failed to save media settings")}})}const nTe=ht({word:je().min(1,"Wake word is required").max(64),status:nr(["active","inactive"]),propagate_to_nodes:ti()}),p0={word:"",status:"active",propagate_to_nodes:!0};function sTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initial:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=dt({resolver:ft(nTe),defaultValues:p0}),f=c("propagate_to_nodes"),h=c("status"),m=p=>{r(p),u(p0),t(!1)},g=p=>{p&&s?u({word:s.word,status:s.status,propagate_to_nodes:s.propagate_to_nodes}):p||u(p0),t(p)};return a.jsx(Le,{open:e,onOpenChange:g,children:a.jsxs(Re,{className:"max-w-md","aria-describedby":"wake-word-form-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:s?"Edit wake word":"Add wake word"}),a.jsx(Ie,{id:"wake-word-form-description",children:"Configure a voice wake word. Optionally propagate to connected nodes."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"wake-word-input",children:"Wake word"}),a.jsx(ge,{id:"wake-word-input",placeholder:"e.g. Hey Clawgate",...i("word"),className:"transition-colors focus-visible:ring-2"}),d.word&&a.jsx("p",{className:"text-sm text-destructive",children:d.word.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Status"}),a.jsxs(lt,{value:h,onValueChange:p=>l("status",p),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"active",children:"Active"}),a.jsx(Ne,{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"propagate-nodes",children:"Propagate to nodes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this wake word to paired devices"})]}),a.jsx(xr,{id:"propagate-nodes",checked:f,onCheckedChange:p=>l("propagate_to_nodes",p)})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":s?"Update":"Add"})]})]})]})})}const aTe=ht({node_id:je().nullable(),enabled:ti(),interrupt_sensitivity:nr(["low","medium","high"])});function iTe({nodes:e,settings:t,defaultSetting:r,onSave:n,isSubmitting:s=!1}){const i="",o={node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"},{handleSubmit:l,setValue:c,watch:u,reset:d}=dt({resolver:ft(aTe),defaultValues:o});x.useEffect(()=>{d({node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"})},[r,d]);const f=u("node_id"),h=u("enabled"),m=u("interrupt_sensitivity"),g=p=>{const y=p.node_id===""||!p.node_id?null:p.node_id;n({node_id:y,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity}),d({node_id:p.node_id,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity})};return a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Talk mode"}),a.jsx(we,{children:"Enable or disable voice interaction per node and set interrupt sensitivity."})]}),a.jsx(Z,{className:"space-y-6",children:a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Node"}),a.jsxs(lt,{value:f||i,onValueChange:p=>{const y=p===i?null:p,b=y===null?r:t.find(v=>v.node_id===y);c("node_id",p||i),c("enabled",(b==null?void 0:b.enabled)??!1),c("interrupt_sensitivity",(b==null?void 0:b.interrupt_sensitivity)??"medium")},children:[a.jsx(at,{children:a.jsx(ct,{placeholder:"Default (all nodes)"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"",children:"Default (all nodes)"}),e.map(p=>a.jsx(Ne,{value:p.id,children:p.name||p.id.slice(0,8)},p.id))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"talk-enabled",children:"Talk mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Enable for this node":"Enable for all nodes by default"})]}),a.jsx(xr,{id:"talk-enabled",checked:h,onCheckedChange:p=>c("enabled",p)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Interrupt sensitivity"}),a.jsxs(lt,{value:m,onValueChange:p=>c("interrupt_sensitivity",p),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"low",children:"Low"}),a.jsx(Ne,{value:"medium",children:"Medium"}),a.jsx(Ne,{value:"high",children:"High"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How quickly the agent stops when you start speaking"})]}),a.jsx(E,{type:"submit",disabled:s,children:s?"Saving":"Save talk mode"})]})})]})}const ER=["whisper","google","assemblyai","deepgram","local-cli"];function oTe({open:e,onOpenChange:t,providerList:r,cliFallback:n,onSave:s,isSubmitting:i=!1}){const[o,l]=x.useState(r.length>0?[...r]:[...ER]),[c,u]=x.useState(n??"");x.useEffect(()=>{e&&(l(r.length>0?[...r]:[...ER]),u(n??""))},[e,r,n]);const d=g=>{if(g<=0)return;const p=[...o];[p[g-1],p[g]]=[p[g],p[g-1]],l(p)},f=g=>{if(g>=o.length-1)return;const p=[...o];[p[g],p[g+1]]=[p[g+1],p[g]],l(p)},h=g=>{l(p=>p.filter((y,b)=>b!==g))},m=()=>{s(o,c.trim()||null),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-lg","aria-describedby":"transcription-backend-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Transcription backends"}),a.jsx(Ie,{id:"transcription-backend-description",children:"Set the order of preference for transcription providers. First available is used."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Provider order (first = preferred)"}),a.jsx("ul",{className:"flex flex-col gap-2 rounded-lg border border-border p-2",children:o.map((g,p)=>a.jsxs("li",{className:J("flex items-center gap-2 rounded-md border border-border bg-card px-3 py-2 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsx("span",{className:"text-muted-foreground","aria-hidden":!0,children:a.jsx(f4,{className:"h-4 w-4"})}),a.jsx("span",{className:"flex-1 font-medium",children:g}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(p),disabled:p===0,"aria-label":"Move up",children:""}),a.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(p),disabled:p===o.length-1,"aria-label":"Move down",children:""}),a.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h(p),"aria-label":"Remove",children:a.jsx(gn,{className:"h-4 w-4"})})]})]},`${g}-${p}`))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"cli-fallback",children:"CLI fallback command"}),a.jsx(ge,{id:"cli-fallback",placeholder:"e.g. /usr/bin/whisper-cli",value:c,onChange:g=>u(g.target.value),className:"transition-colors focus-visible:ring-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional local CLI used when cloud providers are unavailable"})]})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{onClick:m,disabled:i,children:i?"Saving":"Save order"})]})]})})}const lTe=ht({provider:je().min(1,"Provider is required"),model:je().optional()}),cTe=[{id:"default",label:"Default (system)"},{id:"openai",label:"OpenAI"},{id:"google",label:"Google Cloud TTS"},{id:"amazon",label:"Amazon Polly"},{id:"elevenlabs",label:"ElevenLabs"},{id:"azure",label:"Azure Speech"},{id:"local",label:"Local / Ollama"}],OR={provider:"default",model:""};function uTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s="default",initialModel:i=null}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=dt({resolver:ft(lTe),defaultValues:{provider:s,model:i??""}}),h=u("provider"),m=p=>{var y;r({provider:p.provider,model:((y=p.model)==null?void 0:y.trim())||null}),d(OR),t(!1)},g=p=>{d(p?{provider:s,model:i??""}:OR),t(p)};return a.jsx(Le,{open:e,onOpenChange:g,children:a.jsxs(Re,{className:"max-w-md","aria-describedby":"tts-provider-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"TTS provider"}),a.jsx(Ie,{id:"tts-provider-description",children:"Choose the text-to-speech provider and model for voice output."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Provider"}),a.jsxs(lt,{value:h,onValueChange:p=>c("provider",p),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsx(it,{children:cTe.map(p=>a.jsx(Ne,{value:p.id,children:p.label},p.id))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"tts-model",children:"Model (optional)"}),a.jsx(ge,{id:"tts-model",placeholder:"e.g. tts-1, en-US-Standard-D",...o("model"),className:"transition-colors focus-visible:ring-2"}),f.model&&a.jsx("p",{className:"text-sm text-destructive",children:f.model.message})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":"Save"})]})]})]})})}const dTe=ht({retention_days:is.number().min(1).max(3650),size_cap_mb:is.number().min(1).max(1048576),fallback_strategy:nr(["local","cloud","none"]),audio_note_handling:nr(["store","transcribe_and_store","transcribe_only","discard"])}),PR={retention_days:30,size_cap_mb:1024,fallback_strategy:"local",audio_note_handling:"store"};function fTe({initial:e,onSave:t,isSubmitting:r=!1}){const{register:n,handleSubmit:s,setValue:i,watch:o,reset:l,formState:{errors:c}}=dt({resolver:ft(dTe),defaultValues:e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:PR}),u=o("fallback_strategy"),d=o("audio_note_handling");return x.useEffect(()=>{l(e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:PR)},[e,l]),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Media storage"}),a.jsx(we,{children:"Retention, size caps, and fallback for audio notes and media capture."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:s(t),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"retention-days",children:"Retention (days)"}),a.jsx(ge,{id:"retention-days",type:"number",min:1,max:3650,...n("retention_days"),className:"transition-colors focus-visible:ring-2"}),c.retention_days&&a.jsx("p",{className:"text-sm text-destructive",children:c.retention_days.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep media before cleanup (13650)"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"size-cap-mb",children:"Size cap (MB)"}),a.jsx(ge,{id:"size-cap-mb",type:"number",min:1,...n("size_cap_mb"),className:"transition-colors focus-visible:ring-2"}),c.size_cap_mb&&a.jsx("p",{className:"text-sm text-destructive",children:c.size_cap_mb.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum storage for media; oldest items are removed when exceeded"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Fallback strategy"}),a.jsxs(lt,{value:u,onValueChange:f=>i("fallback_strategy",f),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"local",children:"Local only"}),a.jsx(Ne,{value:"cloud",children:"Cloud when local full"}),a.jsx(Ne,{value:"none",children:"No fallback (fail when full)"})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Audio note handling"}),a.jsxs(lt,{value:d,onValueChange:f=>i("audio_note_handling",f),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"store",children:"Store only"}),a.jsx(Ne,{value:"transcribe_and_store",children:"Transcribe and store"}),a.jsx(Ne,{value:"transcribe_only",children:"Transcribe only"}),a.jsx(Ne,{value:"discard",children:"Discard"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"What to do with captured audio notes"})]}),a.jsx(E,{type:"submit",disabled:r,children:r?"Saving":"Save media settings"})]})})]})}function hTe(){var D;const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,i]=x.useState(!1),[o,l]=x.useState(!1),{data:c=[],isLoading:u}=VAe(),d=KAe(),f=HAe(),h=GAe(),{data:m=[],isLoading:g}=YAe(),p=QAe(),y=m.find($=>$.node_id===null)??null,{data:b=[]}=tF(),{data:v,isLoading:w}=XAe(),S=JAe(),{data:j,isLoading:_}=ZAe(),N=eTe(),{data:k,isLoading:C}=tTe(),A=rTe(),I=()=>{n(null),t(!0)},O=$=>{n($),t(!0)},B=$=>{r?f.mutate({id:r.id,data:{word:$.word,status:$.status,propagate_to_nodes:$.propagate_to_nodes}},{onSuccess:()=>t(!1)}):d.mutate({word:$.word,status:$.status,propagate_to_nodes:$.propagate_to_nodes},{onSuccess:()=>t(!1)})},T=$=>{p.mutate({node_id:$.node_id,enabled:$.enabled,interrupt_sensitivity:$.interrupt_sensitivity})},z=($,M)=>{S.mutate({provider_list:$,cli_fallback:M})},R=$=>{N.mutate({provider:$.provider,model:$.model})},V=$=>{A.mutate($)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(he,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Wn,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Voice & Media"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Gh,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Voice & Media"]}),a.jsx("p",{className:"text-muted-foreground",children:"Configure wake words, talk mode, transcription, TTS, and media storage."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_240px]",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(ae,{children:"Wake words"}),a.jsx(we,{children:"Voice activation phrases; optionally propagated to nodes."})]}),a.jsxs(E,{type:"button",size:"sm",onClick:I,className:"shrink-0 transition-transform hover:scale-[1.02]",children:[a.jsx($t,{className:"h-4 w-4 mr-2"}),"Add"]})]}),a.jsx(Z,{children:u?a.jsx(de,{className:"h-24 w-full rounded-lg"}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(Gh,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No wake words configured"}),a.jsx(E,{type:"button",variant:"outline",size:"sm",onClick:I,children:"Add wake word"})]}):a.jsx("ul",{className:"space-y-2",children:c.map($=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-card px-4 py-3 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium",children:$.word}),a.jsx(Ye,{variant:$.status==="active"?"success":"secondary",children:$.status}),$.propagate_to_nodes&&a.jsx("span",{className:"text-muted-foreground text-xs",children:" nodes"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>O($),"aria-label":"Edit wake word",children:a.jsx(Si,{className:"h-4 w-4"})}),a.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h.mutate($.id),"aria-label":"Delete wake word",children:a.jsx(gn,{className:"h-4 w-4"})})]})]},$.id))})})]}),g?a.jsx(de,{className:"h-64 w-full rounded-lg"}):a.jsx(iTe,{nodes:b,settings:m,defaultSetting:y,onSave:T,isSubmitting:p.isPending}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(t7,{className:"h-5 w-5 text-primary"}),"Transcription backends"]}),a.jsx(we,{children:"Provider order and CLI fallback for voice-to-text."})]}),a.jsx(E,{type:"button",size:"sm",variant:"outline",onClick:()=>i(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Edit order"})]}),a.jsx(Z,{children:w?a.jsx(de,{className:"h-16 w-full rounded-lg"}):v?a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-muted-foreground",children:["Order: ",(D=v.provider_list)!=null&&D.length?v.provider_list.join("  "):"default"]}),v.cli_fallback&&a.jsxs("p",{className:"text-muted-foreground",children:["CLI fallback: ",a.jsx("code",{className:"rounded bg-secondary px-1",children:v.cli_fallback})]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No backends configured. Use default order or set your preference."})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(o7,{className:"h-5 w-5 text-primary"}),"TTS provider"]}),a.jsx(we,{children:"Text-to-speech provider and model for voice output."})]}),a.jsx(E,{type:"button",size:"sm",variant:"outline",onClick:()=>l(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Configure"})]}),a.jsx(Z,{children:_?a.jsx(de,{className:"h-12 w-full rounded-lg"}):j?a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:j.provider}),j.model&&a.jsxs("span",{className:"text-muted-foreground",children:[" / ",j.model]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default (system)"})})]}),C?a.jsx(de,{className:"h-80 w-full rounded-lg"}):a.jsx(fTe,{initial:k??null,onSave:V,isSubmitting:A.isPending})]}),a.jsxs("aside",{className:"space-y-4 lg:order-last",children:[a.jsxs(X,{className:"border-border bg-card/80",children:[a.jsx(ne,{className:"pb-2",children:a.jsx(ae,{className:"text-base",children:"Related"})}),a.jsxs(Z,{className:"space-y-2",children:[a.jsxs(he,{to:"/settings",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[a.jsx(ha,{className:"h-4 w-4 shrink-0"}),"Settings"]}),a.jsx(he,{to:"/nodes",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:"Nodes"})]})]}),a.jsxs(X,{className:"border-border bg-card/80",children:[a.jsx(ne,{className:"pb-2",children:a.jsxs(ae,{className:"text-base flex items-center gap-2",children:[a.jsx(Xm,{className:"h-4 w-4"}),"Help"]})}),a.jsx(Z,{children:a.jsx(he,{to:"/help",className:"text-sm text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Docs & quick start"})})]})]})]}),a.jsx(sTe,{open:e,onOpenChange:t,onSubmit:B,isSubmitting:d.isPending||f.isPending,initial:r}),a.jsx(oTe,{open:s,onOpenChange:i,providerList:(v==null?void 0:v.provider_list)??[],cliFallback:(v==null?void 0:v.cli_fallback)??null,onSave:z,isSubmitting:S.isPending}),a.jsx(uTe,{open:o,onOpenChange:l,onSubmit:R,isSubmitting:N.isPending,initialProvider:(j==null?void 0:j.provider)??"default",initialModel:(j==null?void 0:j.model)??null})]})}function mTe(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Settings / Preferences"}),a.jsxs(ri,{defaultValue:"network",children:[a.jsxs(ja,{children:[a.jsx(St,{value:"network",children:"Network"}),a.jsx(St,{value:"remote",children:"Remote access"}),a.jsx(St,{value:"secrets",children:"Secrets"}),a.jsx(St,{value:"tools",children:"Tool policies"}),a.jsx(St,{value:"model",children:"Model defaults"})]}),a.jsx(Nt,{value:"network",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Network binding / TLS"}),a.jsx(we,{children:"Bind address and TLS certificate."})]}),a.jsx(Z,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Bind address"}),a.jsx(ge,{placeholder:"0.0.0.0:3000"})]})})]})}),a.jsx(Nt,{value:"remote",className:"space-y-4",children:a.jsxs(X,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Remote access (tailnet / proxy)"})}),a.jsx(Z,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure Tailscale or proxy for remote access."})})]})}),a.jsx(Nt,{value:"secrets",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Secrets management"}),a.jsx(we,{children:"Keychain, 1Password CLI, encrypted fallback."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Never write long-lived tokens to plaintext. Manage secrets and keychain configuration in the dedicated Secrets & Keychain page."}),a.jsx(E,{asChild:!0,variant:"secondary",children:a.jsx(he,{to:"/secrets",children:"Open Secrets & Keychain"})})]})]})}),a.jsx(Nt,{value:"tools",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Tool policies"}),a.jsx(we,{children:"Exec allowlist, sandbox toggle."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Y,{htmlFor:"sandbox",children:"Sandbox tools"}),a.jsx(xr,{id:"sandbox"})]})})]})}),a.jsx(Nt,{value:"model",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Model defaults"}),a.jsx(we,{children:"Default provider and model for runs."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Default model"}),a.jsx(ge,{placeholder:"gpt-4"})]})})]})})]}),a.jsx(X,{children:a.jsxs(Z,{className:"pt-6",children:[a.jsx(E,{children:"Restart / Apply"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Restart gateway to apply some settings."})]})})]})}const AR="[ENCRYPTED]";async function k6(){const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");return e.id}async function gg(e,t,r={}){const s={user_id:await k6(),secret_id:t,action:e,details:r};await q.from("secret_audit_logs").insert(s)}const Tc={getSecrets:async()=>{const{data:e,error:t}=await q.from("secrets").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSecret:async e=>{const{data:t,error:r}=await q.from("secrets").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSecret:async e=>{const t=await k6(),r=e.storage_method==="encrypted_fallback"&&e.value!=null?AR:null,n={user_id:t,name:e.name.trim(),storage_method:e.storage_method,encrypted_value:r,key_reference:e.key_reference??null},{data:s,error:i}=await q.from("secrets").insert(n).select().single();if(i)throw new Error(i.message);const o=s;return await gg("secret_created",o.id,{name:o.name}),o},updateSecret:async(e,t)=>{const{data:r,error:n}=await q.from("secrets").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);const s=r;return await gg("secret_updated",e,{name:s.name}),s},rotateSecret:async(e,t)=>{const r=t.value!=null?AR:void 0,{data:n,error:s}=await q.from("secrets").update({encrypted_value:r}).eq("id",e).select().single();if(s)throw new Error(s.message);return await gg("secret_rotated",e),n},deleteSecret:async e=>{const t=await Tc.getSecret(e),{error:r}=await q.from("secrets").delete().eq("id",e);if(r)throw new Error(r.message);t&&await gg("secret_deleted",null,{name:t.name})},getAuditLogs:async(e=50)=>{const{data:t,error:r}=await q.from("secret_audit_logs").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}};function pTe(e,t){return e().catch(()=>t)}const Nn={all:["secrets"],list:()=>[...Nn.all,"list"],detail:e=>[...Nn.all,"detail",e],auditLogs:e=>[...Nn.all,"auditLogs",e]};function gTe(){return Oe({queryKey:Nn.list(),queryFn:()=>pTe(()=>Tc.getSecrets(),[])})}function vTe(){const e=be();return ye({mutationFn:t=>Tc.createSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nn.list()}),e.invalidateQueries({queryKey:Nn.auditLogs()}),W.success("Secret created")},onError:t=>{W.error(t.message||"Failed to create secret")}})}function yTe(){const e=be();return ye({mutationFn:({id:t,data:r})=>Tc.updateSecret(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Nn.list()}),e.invalidateQueries({queryKey:Nn.detail(r)}),e.invalidateQueries({queryKey:Nn.auditLogs()}),W.success("Secret updated")},onError:t=>{W.error(t.message||"Failed to update secret")}})}function xTe(){const e=be();return ye({mutationFn:({id:t,value:r})=>Tc.rotateSecret(t,{value:r}),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Nn.list()}),e.invalidateQueries({queryKey:Nn.detail(r)}),e.invalidateQueries({queryKey:Nn.auditLogs()}),W.success("Secret rotated")},onError:t=>{W.error(t.message||"Failed to rotate secret")}})}function bTe(){const e=be();return ye({mutationFn:t=>Tc.deleteSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nn.list()}),e.invalidateQueries({queryKey:Nn.auditLogs()}),W.success("Secret removed")},onError:t=>{W.error(t.message||"Failed to remove secret")}})}function wTe(e=50){return Oe({queryKey:Nn.auditLogs(e),queryFn:()=>Tc.getAuditLogs(e)})}const jTe=ht({name:je().min(1,"Name is required").max(128,"Name too long"),storage_method:nr(["os_keychain","onepassword","encrypted_fallback"]),value:je().optional(),key_reference:je().optional()}),g0={name:"",storage_method:"encrypted_fallback",value:"",key_reference:""};function _Te({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,watch:l,setValue:c,formState:{errors:u}}=dt({resolver:ft(jTe),defaultValues:g0}),d=l("storage_method"),f=m=>{var g,p;r({name:m.name.trim(),storage_method:m.storage_method,value:((g=m.value)==null?void 0:g.trim())||void 0,key_reference:((p=m.key_reference)==null?void 0:p.trim())||null}),o(g0)},h=m=>{m||o(g0),t(m)};return a.jsx(Le,{open:e,onOpenChange:h,children:a.jsxs(Re,{className:"max-w-lg","aria-describedby":"add-secret-form-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Add secret"}),a.jsx(Ie,{id:"add-secret-form-description",children:"Store a secret securely. Choose where it will be stored; value is never stored in plaintext."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"name",children:"Name"}),a.jsx(ge,{id:"name",placeholder:"e.g. API_KEY_GITHUB",...s("name"),className:u.name?"border-destructive":"",autoComplete:"off"}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Storage method"}),a.jsxs(lt,{value:d,onValueChange:m=>c("storage_method",m),children:[a.jsx(at,{className:u.storage_method?"border-destructive":"",children:a.jsx(ct,{placeholder:"Select storage"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Ne,{value:"onepassword",children:"1Password"}),a.jsx(Ne,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"OS Keychain (macOS/Windows/Linux), 1Password CLI, or encrypted fallback when keychain is unavailable."})]}),d==="encrypted_fallback"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"value",children:"Value"}),a.jsx(ge,{id:"value",type:"password",placeholder:"Enter secret value",autoComplete:"new-password",...s("value")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value is encrypted before storage; never stored in plaintext."})]}),(d==="os_keychain"||d==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"key_reference",children:"Key reference (optional)"}),a.jsx(ge,{id:"key_reference",placeholder:"e.g. service/account/key",...s("key_reference"),autoComplete:"off"})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"secondary",onClick:()=>h(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Adding":"Add secret"})]})]})]})})}const STe=ht({name:je().min(1,"Name is required").max(128,"Name too long"),storage_method:nr(["os_keychain","onepassword","encrypted_fallback"]),key_reference:je().optional()});function NTe({open:e,onOpenChange:t,secret:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,reset:l,watch:c,setValue:u,formState:{errors:d}}=dt({resolver:ft(STe),defaultValues:{name:(r==null?void 0:r.name)??"",storage_method:(r==null?void 0:r.storage_method)??"encrypted_fallback",key_reference:(r==null?void 0:r.key_reference)??""}}),f=c("storage_method");x.useEffect(()=>{e&&r&&l({name:r.name,storage_method:r.storage_method,key_reference:r.key_reference??""})},[e,r,l]);const h=g=>{var p;n({name:g.name.trim(),storage_method:g.storage_method,key_reference:((p=g.key_reference)==null?void 0:p.trim())||null}),t(!1)},m=g=>{g||t(!1)};return r?a.jsx(Le,{open:e,onOpenChange:m,children:a.jsxs(Re,{className:"max-w-lg","aria-describedby":"edit-secret-form-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Edit secret"}),a.jsx(Ie,{id:"edit-secret-form-description",children:"Update name or storage method. The secret value is never displayed; use Rotate to set a new value."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"edit-name",children:"Name"}),a.jsx(ge,{id:"edit-name",placeholder:"e.g. API_KEY_GITHUB",...i("name"),className:d.name?"border-destructive":"",autoComplete:"off"}),d.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Storage method"}),a.jsxs(lt,{value:f,onValueChange:g=>u("storage_method",g),children:[a.jsx(at,{className:d.storage_method?"border-destructive":"",children:a.jsx(ct,{placeholder:"Select storage"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Ne,{value:"onepassword",children:"1Password"}),a.jsx(Ne,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]})]}),(f==="os_keychain"||f==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"edit-key_reference",children:"Key reference (optional)"}),a.jsx(ge,{id:"edit-key_reference",placeholder:"e.g. service/account/key",...i("key_reference"),autoComplete:"off"})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"secondary",onClick:()=>m(!1),disabled:s,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:s,children:s?"Saving":"Save changes"})]})]})]})}):null}function kTe({values:e,onChange:t,disabled:r=!1,className:n}){return a.jsxs(X,{className:J("shadow-card transition-shadow hover:shadow-card-hover",n),children:[a.jsxs(ne,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hh,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ae,{children:"Setup & configuration"})]}),a.jsx(we,{children:"Choose where secrets are stored. OS keychain and 1Password keep credentials out of the database; encrypted fallback is used when keychain is unavailable."})]}),a.jsxs(Z,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"keychain",className:"text-base font-medium",children:"OS Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"macOS Keychain, Windows Credential Manager, or Linux secret store"})]}),a.jsx(xr,{id:"keychain",checked:e.keychainEnabled,onCheckedChange:s=>t({...e,keychainEnabled:s}),disabled:r,"aria-label":"Toggle OS keychain"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"onepassword",className:"text-base font-medium",children:"1Password integration"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Store and retrieve secrets via 1Password CLI"})]}),a.jsx(xr,{id:"onepassword",checked:e.onepasswordEnabled,onCheckedChange:s=>t({...e,onepasswordEnabled:s}),disabled:r,"aria-label":"Toggle 1Password"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"fallback",className:"text-base font-medium",children:"Encrypted fallback"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Encrypt and store in database when keychain is unavailable"})]}),a.jsx(xr,{id:"fallback",checked:e.encryptedFallbackEnabled,onCheckedChange:s=>t({...e,encryptedFallbackEnabled:s}),disabled:r,"aria-label":"Toggle encrypted fallback"})]}),a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Or,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Long-lived tokens are never written to plaintext. Runtime retrieval uses least-privilege scoping."]})]})]})}const TR={os_keychain:"OS Keychain",onepassword:"1Password",encrypted_fallback:"Encrypted fallback"};function CTe(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState({keychainEnabled:!0,onepasswordEnabled:!1,encryptedFallbackEnabled:!0}),{data:c=[],isLoading:u}=gTe(),{data:d=[],isLoading:f}=wTe(50),h=vTe(),m=yTe(),g=bTe(),p=xTe(),y=async j=>{await h.mutateAsync(j),t(!1)},b=async j=>{s&&(await m.mutateAsync({id:s.id,data:j}),n(!1),i(null))},v=j=>{i(j),n(!0)},w=j=>{p.mutate({id:j.id},{onSuccess:()=>n(!1)})},S=j=>{window.confirm(`Remove secret "${j.name}"? This cannot be undone.`)&&g.mutate(j.id)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Secrets & Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Store and manage secrets securely. No plaintext on disk."})]}),a.jsxs(E,{onClick:()=>t(!0),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx($t,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}),a.jsxs(X,{className:"border-border shadow-card",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ae,{className:"text-base",children:"Keychain status"})]}),a.jsx(we,{children:o.keychainEnabled||o.onepasswordEnabled?"Keychain or 1Password is configured. Secrets can be stored in the vault.":"Using encrypted fallback only. Enable OS keychain or 1Password for stronger isolation."})]}),a.jsxs(Z,{className:"flex flex-wrap gap-2",children:[o.keychainEnabled&&a.jsxs(Ye,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Mi,{className:"h-3 w-3 mr-1"}),"OS Keychain"]}),o.onepasswordEnabled&&a.jsxs(Ye,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Mi,{className:"h-3 w-3 mr-1"}),"1Password"]}),!o.keychainEnabled&&!o.onepasswordEnabled&&a.jsxs(Ye,{variant:"secondary",className:"bg-warning/15 text-warning border-0",children:[a.jsx(Ki,{className:"h-3 w-3 mr-1"}),"Fallback only"]})]})]}),a.jsxs(ri,{defaultValue:"secrets",className:"space-y-4",children:[a.jsxs(ja,{children:[a.jsx(St,{value:"secrets",children:"Secrets management"}),a.jsx(St,{value:"setup",children:"Setup & configuration"}),a.jsx(St,{value:"audit",children:"Audit logs"})]}),a.jsx(Nt,{value:"secrets",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{className:"text-lg",children:"Stored secrets"}),a.jsx(we,{children:"Add, edit, or rotate secrets. Values are never shown after save."})]}),a.jsx(Z,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>a.jsx(de,{className:"h-14 w-full rounded-lg"},j))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Hh,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No secrets yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Add a secret to store API keys, tokens, or other credentials securely."}),a.jsxs(E,{variant:"default",className:"mt-4 transition-transform hover:scale-[1.02]",onClick:()=>t(!0),children:[a.jsx($t,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}):a.jsx(jt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:c.map(j=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border p-4","transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:a.jsx(Hh,{className:"h-5 w-5 text-primary","aria-hidden":!0})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:j.name}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[TR[j.storage_method]??j.storage_method,"  Updated"," ",qr(new Date(j.updated_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(Ye,{variant:"secondary",className:"text-xs",children:TR[j.storage_method]??j.storage_method}),a.jsxs(ma,{children:[a.jsx(pa,{asChild:!0,children:a.jsx(E,{variant:"ghost",size:"icon","aria-label":"Actions",children:a.jsx(za,{className:"h-4 w-4"})})}),a.jsxs(As,{align:"end",children:[a.jsxs(Ut,{onClick:()=>v(j),children:[a.jsx(Si,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(Ut,{onClick:()=>w(j),children:[a.jsx(zd,{className:"h-4 w-4 mr-2"}),"Rotate secret"]}),a.jsxs(Ut,{className:"text-destructive focus:text-destructive",onClick:()=>S(j),children:[a.jsx(gn,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})]})]},j.id))})})})]})}),a.jsx(Nt,{value:"setup",className:"space-y-4",children:a.jsx(kTe,{values:o,onChange:l})}),a.jsx(Nt,{value:"audit",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(or,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ae,{className:"text-lg",children:"Audit logs"})]}),a.jsx(we,{children:"Recent secret access, rotation, and configuration changes."})]}),a.jsx(Z,{children:f?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(j=>a.jsx(de,{className:"h-12 w-full rounded-lg"},j))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(or,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No audit entries yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Actions on secrets will appear here."})]}):a.jsx(jt,{className:"h-[360px] pr-4",children:a.jsx("ul",{className:"space-y-2",role:"list",children:d.map(j=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3 text-sm",children:[a.jsx("span",{className:"font-medium capitalize",children:j.action.replace(/_/g," ")}),a.jsx("span",{className:"text-muted-foreground",children:qr(new Date(j.created_at),{addSuffix:!0})})]},j.id))})})})]})})]}),a.jsx(_Te,{open:e,onOpenChange:t,onSubmit:y,isSubmitting:h.isPending}),a.jsx(NTe,{open:r,onOpenChange:n,secret:s,onSubmit:b,isSubmitting:m.isPending})]})}const Yn="/security",Rc={runAudit:()=>Se.post(`${Yn}/audit/run`,{}),getAudits:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return Se.get(`${Yn}/audits${t?`?${t}`:""}`)},getAudit:e=>Se.get(`${Yn}/audits/${e}`),createAudit:e=>Se.post(`${Yn}/audits`,e),getIssuesByAuditId:e=>Se.get(`${Yn}/audits/${e}/issues`),createIssue:e=>Se.post(`${Yn}/issues`,e),applyAutoFix:e=>Se.post(`${Yn}/issues/${e}/auto-fix`,{}),updateIssue:(e,t)=>Se.patch(`${Yn}/issues/${e}`,t),getIncidentActions:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return Se.get(`${Yn}/incident-actions${t?`?${t}`:""}`)},createIncidentAction:e=>Se.post(`${Yn}/incident-actions`,e),exportAuditLogs:e=>Se.post(`${Yn}/export`,e),getAuditLogs:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return Se.get(`${Yn}/audit-logs${t?`?${t}`:""}`)},createAuditLog:e=>Se.post(`${Yn}/audit-logs`,e)};function C6(e,t){return e().catch(()=>t)}const ss={all:["security"],audits:e=>[...ss.all,"audits",e],audit:e=>[...ss.all,"audit",e??""],issues:e=>[...ss.all,"issues",e??""],incidentActions:e=>[...ss.all,"incident-actions",e],auditLogs:e=>[...ss.all,"audit-logs",e]};function ETe(e){return Oe({queryKey:ss.audits(e),queryFn:()=>C6(()=>Rc.getAudits(e),[])})}function OTe(e){return Oe({queryKey:ss.issues(e),queryFn:()=>e?C6(()=>Rc.getIssuesByAuditId(e),[]):Promise.resolve([]),enabled:!!e})}function PTe(){const e=be();return ye({mutationFn:()=>Rc.runAudit(),onSuccess:t=>{var r;e.invalidateQueries({queryKey:ss.all}),(r=t==null?void 0:t.audit)!=null&&r.id&&(e.invalidateQueries({queryKey:ss.audit(t.audit.id)}),e.invalidateQueries({queryKey:ss.issues(t.audit.id)})),W.success("Security audit completed")},onError:t=>{W.error(t.message||"Audit failed")}})}function ATe(){const e=be();return ye({mutationFn:t=>Rc.applyAutoFix(t),onSuccess:()=>{e.invalidateQueries({queryKey:ss.all}),W.success("Auto-fix applied")},onError:t=>{W.error(t.message||"Auto-fix failed")}})}function TTe(){const e=be();return ye({mutationFn:({issueId:t,data:r})=>Rc.updateIssue(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:ss.all}),W.success("Issue updated")},onError:t=>{W.error(t.message||"Update failed")}})}function RTe(){const e=be();return ye({mutationFn:t=>Rc.createIncidentAction(t),onSuccess:()=>{e.invalidateQueries({queryKey:ss.all}),W.success("Action submitted")},onError:t=>{W.error(t.message||"Action failed")}})}function MTe(){return ye({mutationFn:e=>Rc.exportAuditLogs(e),onSuccess:e=>{e!=null&&e.download_url&&window.open(e.download_url,"_blank"),W.success("Export started")},onError:e=>{W.error(e.message||"Export failed")}})}const Xk=x.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Xk.displayName="Textarea";function $Te({open:e,onOpenChange:t,onConfirm:r,isSubmitting:n=!1,mode:s="auto_fix",issueDescription:i}){const o=s==="auto_fix",l=o?"Apply auto-fix?":"Record manual remediation?",c=o?"This will apply the recommended automated fix for this issue. The change will be logged for compliance.":"This will record your manual fix for this issue. The change will be logged for compliance.",u=()=>{r(),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[480px]","aria-describedby":"remediation-confirm-desc",children:[a.jsxs(Me,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(y4,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx($e,{children:l})]}),a.jsxs(Ie,{id:"remediation-confirm-desc",children:[c,i&&a.jsxs("span",{className:"mt-2 block text-muted-foreground truncate max-w-full",title:i,children:["Issue: ",i.slice(0,80),i.length>80?"":""]})]})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(E,{onClick:u,disabled:n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:n?"Applying":o?"Apply auto-fix":"Record fix"})]})]})})}const RR={critical:{label:"Critical",icon:Ki,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:ol,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:KS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:HS,className:"text-accent bg-accent/15 border-accent/30"}};function ITe(e){return e?e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):""}function DTe({issue:e,open:t,onOpenChange:r,autoFixEnabled:n=!1,onAutoFixChange:s,onApplyAutoFix:i,isApplyingAutoFix:o=!1,onApplyManualFix:l,isApplyingManualFix:c=!1}){const[u,d]=x.useState(!1),[f,h]=x.useState("");if(!e)return null;const m=RR[e.severity]??RR.medium,g=m.icon,p=o||c,y=()=>{d(!0)},b=()=>{i==null||i(e.id)},v=()=>{const w=f.trim();w&&l&&(l(e.id,w),h(""))};return a.jsxs(a.Fragment,{children:[a.jsx(Le,{open:t,onOpenChange:r,children:a.jsxs(Re,{className:"max-w-[640px] max-h-[85vh] flex flex-col","aria-describedby":"audit-issue-description",children:[a.jsxs(Me,{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(g,{className:J("h-5 w-5 shrink-0",m.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(Ye,{variant:"secondary",className:J("border text-xs font-medium",m.className),children:m.label})]}),a.jsx($e,{className:"text-left pt-1",children:"Security finding"}),a.jsx(Ie,{id:"audit-issue-description",className:"text-left",children:"Details, affected files, and remediation for this issue."})]}),a.jsx(jt,{className:"flex-1 max-h-[50vh] rounded-md border border-border px-3 py-2",children:a.jsxs("div",{className:"space-y-4 pr-2",children:[e.category&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Category"}),a.jsx(Ye,{variant:"outline",className:"text-xs font-medium",children:ITe(e.category)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-foreground",children:e.description})]}),e.remediation&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Recommended fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap",children:e.remediation})]}),e.affected_files&&e.affected_files.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Affected files / configs"}),a.jsx("ul",{className:"text-sm font-mono text-foreground list-disc list-inside space-y-0.5",children:e.affected_files.map((w,S)=>a.jsx("li",{children:w},S))})]}),e.applied_fix&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Applied fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap bg-success/10 border border-success/30 rounded-lg px-3 py-2",children:e.applied_fix})]}),e.auto_fix_available&&!e.applied_fix&&a.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border border-border p-3 bg-card/50",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"audit-autofix-toggle",className:"text-sm font-medium",children:"Auto-fix available"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Apply safe automated remediation for this issue."})]}),a.jsx(xr,{id:"audit-autofix-toggle",checked:n,onCheckedChange:s,disabled:p,"aria-label":"Enable auto-fix for this issue"})]})]})}),a.jsxs("div",{className:"flex flex-col gap-3 pt-2 border-t border-border",children:[e.auto_fix_available&&!e.applied_fix&&a.jsx("div",{className:"flex justify-end",children:a.jsx(E,{variant:"default",size:"sm",onClick:y,disabled:p||!n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:o?"Applying":"Apply auto-fix now"})}),l&&!e.applied_fix&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Y,{htmlFor:"audit-manual-fix",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(fx,{className:"h-4 w-4","aria-hidden":!0}),"Manual remediation"]}),a.jsx(Xk,{id:"audit-manual-fix",placeholder:"Describe the fix you applied (e.g. moved secret to keychain, updated config)...",value:f,onChange:w=>h(w.target.value),disabled:p,rows:3,className:"resize-none text-sm font-mono","aria-describedby":"audit-manual-fix-hint"}),a.jsx("p",{id:"audit-manual-fix-hint",className:"text-xs text-muted-foreground",children:"Record your custom fix for compliance. This will be logged."}),a.jsx(E,{variant:"outline",size:"sm",onClick:v,disabled:p||!f.trim(),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:c?"Saving":"Record manual fix"})]})]})]})}),a.jsx($Te,{open:u,onOpenChange:d,onConfirm:b,isSubmitting:o,mode:"auto_fix",issueDescription:e.description})]})}const LTe={revoke_sessions:{label:"Revoke sessions",description:"This will revoke all active sessions except the current one. Users will need to sign in again on other devices.",icon:YS,variant:"destructive"},rotate_secrets:{label:"Rotate secrets",description:"This will rotate API keys and tokens. Any integrations using old credentials will need to be updated.",icon:zd,variant:"destructive"},export_logs:{label:"Export security logs",description:"Export audit and security logs for external analysis or compliance. Redaction will be applied by default.",icon:Yr,variant:"default"},stop_blast_radius:{label:"Stop blast radius",description:"Contain the impact of a potential incident by stopping affected runs and isolating resources.",icon:VS,variant:"destructive"},quarantine_skill:{label:"Quarantine skill",description:"Disable and isolate a skill that may be risky until you review and approve it.",icon:v4,variant:"destructive"}};function FTe({actionType:e,open:t,onOpenChange:r,onConfirm:n,isSubmitting:s=!1}){if(!e)return null;const i=LTe[e]??{label:e.replace(/_/g," "),description:"This action will be logged and may have side effects.",icon:v4,variant:"default"},o=i.icon,l=()=>{n(e),r(!1)};return a.jsx(Le,{open:t,onOpenChange:r,children:a.jsxs(Re,{"aria-describedby":"incident-action-description",children:[a.jsxs(Me,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx($e,{children:i.label})]}),a.jsx(Ie,{id:"incident-action-description",children:i.description})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(E,{variant:i.variant==="destructive"?"destructive":"default",onClick:l,disabled:s,children:s?"Processing":"Confirm"})]})]})})}const UTe=ht({format:nr(["json","csv"]),applyRedaction:ti(),from:je().optional(),to:je().optional()});function BTe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const{register:s,handleSubmit:i,setValue:o,watch:l}=dt({resolver:ft(UTe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:""}}),c=l("applyRedaction"),u=l("format"),d=f=>{const h={format:f.format,apply_redaction:f.applyRedaction,from:f.from||void 0,to:f.to||void 0};r(h),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[480px]","aria-describedby":"security-export-desc",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Export security logs"}),a.jsx(Ie,{id:"security-export-desc",children:"Configure format, date range, and redaction. Export will download audit and security logs for compliance or analysis."})]}),a.jsxs("form",{onSubmit:i(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"security-export-format",children:"Format"}),a.jsxs(lt,{value:u,onValueChange:f=>o("format",f),children:[a.jsx(at,{id:"security-export-format",children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"json",children:"JSON"}),a.jsx(Ne,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(Y,{htmlFor:"security-export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Redact sensitive data in exported logs (recommended)."})]}),a.jsx(xr,{id:"security-export-redaction",checked:c,onCheckedChange:f=>o("applyRedaction",f)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"security-export-from",children:"From (optional)"}),a.jsx(ge,{id:"security-export-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"security-export-to",children:"To (optional)"}),a.jsx(ge,{id:"security-export-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const MR={critical:{label:"Critical",icon:Ki,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:ol,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:KS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:HS,className:"text-accent bg-accent/15 border-accent/30"}};function $R(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function qTe(e){return e>=70?"High risk":e>=40?"Medium risk":e>=10?"Low risk":"No critical issues"}function IR(e){return e>=70?"text-destructive":e>=40?"text-warning":e>=10?"text-accent":"text-success"}function zTe({issue:e,isSelected:t,onSelect:r}){const n=MR[e.severity]??MR.medium,s=n.icon,i=e.description.length>120?e.description.slice(0,120)+"":e.description;return a.jsxs("button",{type:"button",onClick:r,className:J("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View details for issue: ${e.description.slice(0,50)}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(s,{className:J("h-4 w-4 shrink-0",n.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(Ye,{variant:"secondary",className:J("text-xs font-medium border shrink-0",n.className),children:n.label}),e.auto_fix_available&&a.jsx(Ye,{variant:"outline",className:"text-xs shrink-0",children:"Auto-fix"})]}),a.jsx("p",{className:"mt-1.5 text-sm text-foreground line-clamp-2",children:i})]})}const WTe=[{type:"revoke_sessions",label:"Revoke sessions",icon:YS},{type:"rotate_secrets",label:"Rotate secrets",icon:zd},{type:"export_logs",label:"Export logs",icon:Yr},{type:"stop_blast_radius",label:"Stop blast radius",icon:VS}];function VTe(){const{user:e}=ox(),[t,r]=x.useState(null),[n,s]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(!1),{data:m=[],isLoading:g}=ETe({limit:10}),p=m[0]??null,y=(p==null?void 0:p.id)??null,{data:b=[],isLoading:v}=OTe(y),w=PTe(),S=RTe(),j=MTe(),_=ATe(),N=TTe(),k={critical:b.filter(R=>R.severity==="critical").length,high:b.filter(R=>R.severity==="high").length,medium:b.filter(R=>R.severity==="medium").length,low:b.filter(R=>R.severity==="low").length},C=(p==null?void 0:p.risk_score)??0,A=R=>{r(R),s(!1),o(!0)},I=R=>{if(R==="export_logs"){h(!0);return}d(R),c(!0)},O=R=>{S.mutate({user_id:(e==null?void 0:e.id)??"",audit_id:y??void 0,action_type:R},{onSuccess:()=>{d(null)}})},B=R=>{j.mutate(R,{onSuccess:V=>{V!=null&&V.download_url&&window.open(V.download_url,"_blank")}})},T=R=>{_.mutate(R,{onSuccess:()=>{o(!1),r(null)}})},z=(R,V)=>{N.mutate({issueId:R,data:{applied_fix:V}},{onSuccess:()=>{o(!1),r(null)}})};return a.jsxs("div",{className:"animate-fade-in-up flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0 space-y-6",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(he,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Wn,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Security Audit"})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Or,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Security Audit"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Run automated security checks and manage remediation. Review issues and use incident response actions when needed."})]}),a.jsxs("nav",{className:"flex items-center gap-3 text-sm","aria-label":"Quick links",children:[a.jsx(he,{to:"/dashboard",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Home"}),a.jsx(he,{to:"/settings",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Settings"}),a.jsx(he,{to:"/help",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Help"})]})]})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Run audit"}),a.jsx(we,{children:"Start automated checks for plaintext secrets, open binds, risky permissions, and misconfigurations."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs(E,{onClick:()=>w.mutate(),disabled:w.isPending,size:"lg",className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Ni,{className:"mr-2 h-4 w-4"}),w.isPending?"Running":"Start Audit"]}),w.isPending&&a.jsxs("div",{className:"space-y-2",role:"status","aria-live":"polite",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Running security checks"}),a.jsx(BN,{value:50,className:"h-2 animate-pulse","aria-label":"Audit in progress"})]})]})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Audit summary"}),a.jsx(we,{children:"Overall risk score and issue counts from the latest audit."})]}),a.jsx(Z,{children:g?a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(de,{className:"h-14 w-14 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"h-6 w-32"}),a.jsx(de,{className:"h-4 w-48"})]})]}):p?a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:J("flex h-14 w-14 items-center justify-center rounded-full border-2 font-semibold text-xl",IR(C),C>=70&&"border-destructive bg-destructive/10",C>=40&&C<70&&"border-warning bg-warning/10",C<40&&"border-success bg-success/10"),children:C}),a.jsxs("div",{children:[a.jsx("p",{className:J("font-semibold text-lg",IR(C)),children:qTe(C)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last run: ",$R(p.created_at)]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.critical>0&&a.jsxs(Ye,{variant:"secondary",className:"border-destructive/50 text-destructive",children:[k.critical," critical"]}),k.high>0&&a.jsxs(Ye,{variant:"secondary",className:"border-warning/50 text-warning",children:[k.high," high"]}),k.medium>0&&a.jsxs(Ye,{variant:"secondary",className:"text-muted-foreground",children:[k.medium," medium"]}),k.low>0&&a.jsxs(Ye,{variant:"secondary",className:"border-accent/50 text-accent",children:[k.low," low"]}),b.length===0&&a.jsx(Ye,{variant:"secondary",className:"text-success",children:"No issues"})]})]}):a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Or,{className:"h-10 w-10 text-muted-foreground","aria-hidden":!0}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:"No audit yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Start Audit" to get your current risk score and issues.'})]})]})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Issue list"}),a.jsx(we,{children:"Findings from the audit. Click an issue for details and remediation. Auto-fix is available where marked."})]}),a.jsx(Z,{children:a.jsx(jt,{className:"h-[360px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:v?[1,2,3,4].map(R=>a.jsx(de,{className:"h-20 w-full rounded-lg"},R)):b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(KS,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No issues"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Checks include plaintext secrets, open binds, and risky skill permissions. Run an audit to see results."})]}):b.map(R=>a.jsx(zTe,{issue:R,isSelected:(t==null?void 0:t.id)===R.id,onSelect:()=>A(R)},R.id))})})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Incident response"}),a.jsx(we,{children:"Quick actions to contain threats: revoke sessions, rotate secrets, export logs, or stop blast radius."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:WTe.map(({type:R,label:V,icon:D})=>a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>I(R),disabled:S.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(D,{className:"mr-2 h-4 w-4"}),V]},R))})})]})]}),a.jsxs("aside",{className:"w-full lg:w-72 shrink-0 space-y-4","aria-label":"Security audit sidebar",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs(ae,{className:"text-base flex items-center gap-2",children:[a.jsx(Yf,{className:"h-4 w-4","aria-hidden":!0}),"Previous audits"]}),a.jsx(we,{children:"Quick links to recent audit runs."})]}),a.jsx(Z,{children:g?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(R=>a.jsx(de,{className:"h-12 w-full rounded-lg"},R))}):m.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No audits yet."}):a.jsx("ul",{className:"space-y-2",role:"list",children:m.slice(0,5).map(R=>a.jsx("li",{children:a.jsx("div",{className:J("rounded-lg border px-3 py-2 transition-colors",(p==null?void 0:p.id)===R.id?"border-primary bg-primary/10":"border-border bg-card/50 hover:bg-secondary/50"),children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("span",{className:"text-sm font-medium",children:["Risk ",R.risk_score]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:$R(R.created_at)})]})})},R.id))})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsx(ae,{className:"text-base",children:"Export"}),a.jsx(we,{children:"Export audit logs for compliance or incident response."})]}),a.jsx(Z,{children:a.jsxs(E,{variant:"outline",className:"w-full transition-transform hover:scale-[1.02] active:scale-[0.98]",onClick:()=>h(!0),children:[a.jsx(Yr,{className:"mr-2 h-4 w-4"}),"Export logs"]})})]})]}),a.jsx(DTe,{issue:t,open:i,onOpenChange:o,autoFixEnabled:n,onAutoFixChange:s,onApplyAutoFix:T,isApplyingAutoFix:_.isPending,onApplyManualFix:z,isApplyingManualFix:N.isPending}),a.jsx(FTe,{actionType:u,open:l,onOpenChange:c,onConfirm:O,isSubmitting:S.isPending}),a.jsx(BTe,{open:f,onOpenChange:h,onExport:B,isExporting:j.isPending})]})}const yn="/logs",Mc={getLogs:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&r!=="").map(([r,n])=>[r,Array.isArray(n)?n.join(","):String(n)])).toString():"";return Se.get(`${yn}${t?`?${t}`:""}`)},getLog:e=>Se.get(`${yn}/${e}`),createLog:e=>Se.post(`${yn}`,e),getTraceByLogId:e=>Se.get(`${yn}/${e}/trace`),getTrace:e=>Se.get(`${yn}/traces/${e}`),createTrace:e=>Se.post(`${yn}/traces`,e),updateTrace:(e,t)=>Se.patch(`${yn}/traces/${e}`,t),exportLogs:e=>Se.post(`${yn}/export`,e),getRetentionSettings:()=>Se.get(`${yn}/retention`),updateRetentionSettings:e=>Se.patch(`${yn}/retention`,e),createRetentionSettings:e=>Se.post(`${yn}/retention`,e),getRedactionRules:()=>Se.get(`${yn}/redaction-rules`),createRedactionRule:e=>Se.post(`${yn}/redaction-rules`,e),updateRedactionRule:(e,t)=>Se.patch(`${yn}/redaction-rules/${e}`,t),deleteRedactionRule:e=>Se.delete(`${yn}/redaction-rules/${e}`)};function Jk(e,t){return e().catch(()=>t)}const Ss={all:["logs"],list:e=>[...Ss.all,"list",e],detail:e=>[...Ss.all,"detail",e],traceByLogId:e=>[...Ss.all,"trace",e],trace:e=>[...Ss.all,"trace-id",e],retention:()=>[...Ss.all,"retention"],redactionRules:()=>[...Ss.all,"redaction-rules"]};function KTe(e){return Oe({queryKey:Ss.list(e),queryFn:()=>Jk(()=>Mc.getLogs(e),[])})}function HTe(e){return Oe({queryKey:Ss.traceByLogId(e??""),queryFn:()=>e?Jk(()=>Mc.getTraceByLogId(e),null):Promise.resolve(null),enabled:!!e})}function GTe(){return ye({mutationFn:e=>Mc.exportLogs(e),onSuccess:()=>{W.success("Export started")},onError:e=>{W.error(e.message||"Export failed")}})}function YTe(){return Oe({queryKey:Ss.redactionRules(),queryFn:()=>Jk(()=>Mc.getRedactionRules(),[])})}function QTe(){const e=be();return ye({mutationFn:t=>Mc.createRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ss.redactionRules()}),W.success("Redaction rule added")},onError:t=>{W.error(t.message||"Failed to add redaction rule")}})}function XTe(){const e=be();return ye({mutationFn:({id:t,data:r})=>Mc.updateRedactionRule(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Ss.redactionRules()}),W.success("Redaction rule updated")},onError:t=>{W.error(t.message||"Failed to update redaction rule")}})}function JTe(){const e=be();return ye({mutationFn:t=>Mc.deleteRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ss.redactionRules()}),W.success("Redaction rule removed")},onError:t=>{W.error(t.message||"Failed to remove redaction rule")}})}const E6=["debug","info","warning","error","critical"],ZTe=ht({severity:nr(E6).optional(),from:je().optional(),to:je().optional(),search:je().optional(),limit:is.number().min(10).max(500).optional()});function eRe({open:e,onOpenChange:t,currentFilters:r,onApply:n}){const{register:s,handleSubmit:i,setValue:o,watch:l,reset:c,formState:{isDirty:u}}=dt({resolver:ft(ZTe),defaultValues:{severity:void 0,from:(r==null?void 0:r.from)??"",to:(r==null?void 0:r.to)??"",search:(r==null?void 0:r.search)??"",limit:(r==null?void 0:r.limit)??100}}),d=l("severity"),f=m=>{const g={limit:m.limit,search:m.search||void 0,from:m.from||void 0,to:m.to||void 0};m.severity&&(g.severity=m.severity),n(g),t(!1)},h=()=>{c({severity:void 0,from:"",to:"",search:"",limit:100}),n({limit:100}),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[480px]","aria-describedby":"filter-desc",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Filter logs"}),a.jsx(Ie,{id:"filter-desc",children:"Refine the log stream by severity, date range, and keywords."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-severity",children:"Severity"}),a.jsxs(lt,{value:d??"",onValueChange:m=>o("severity",m||void 0,{shouldDirty:!0}),children:[a.jsx(at,{id:"filter-severity",children:a.jsx(ct,{placeholder:"All severities"})}),a.jsx(it,{children:E6.map(m=>a.jsx(Ne,{value:m,children:m},m))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-from",children:"From (ISO date)"}),a.jsx(ge,{id:"filter-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-to",children:"To (ISO date)"}),a.jsx(ge,{id:"filter-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-search",children:"Keyword search"}),a.jsx(ge,{id:"filter-search",placeholder:"Search in message",...s("search"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-limit",children:"Max results"}),a.jsx(ge,{id:"filter-limit",type:"number",min:10,max:500,...s("limit"),className:"font-mono"})]}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:h,children:"Clear"}),a.jsx(E,{type:"submit",disabled:!u,children:"Apply"})]})]})]})})}const O6=["debug","info","warning","error","critical"],tRe=ht({format:nr(["json","csv"]),applyRedaction:ti(),from:je().optional(),to:je().optional(),severity:nr(O6).optional()});function rRe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1,selectedLogIds:s}){const[i,o]=x.useState("json"),{register:l,handleSubmit:c,setValue:u,watch:d}=dt({resolver:ft(tRe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:"",severity:void 0}}),f=d("applyRedaction"),h=d("severity"),m=p=>{const y={format:p.format,applyRedaction:p.applyRedaction,from:p.from||void 0,to:p.to||void 0,severity:p.severity,...s!=null&&s.length?{logIds:s}:{}};r(y),t(!1)},g=s!=null&&s.length?`Export ${s.length} selected log${s.length===1?"":"s"}`:"Export logs with your chosen format and redaction options.";return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[480px]","aria-describedby":"export-desc",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Export logs"}),a.jsx(Ie,{id:"export-desc",children:g})]}),a.jsxs("form",{onSubmit:c(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"export-format",children:"Format"}),a.jsxs(lt,{value:i,onValueChange:p=>{o(p),u("format",p)},children:[a.jsx(at,{id:"export-format",children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"json",children:"JSON"}),a.jsx(Ne,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(Y,{htmlFor:"export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use redacted message content in export"})]}),a.jsx(xr,{id:"export-redaction",checked:f,onCheckedChange:p=>u("applyRedaction",p)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"export-from",children:"From (optional)"}),a.jsx(ge,{id:"export-from",type:"datetime-local",...l("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"export-to",children:"To (optional)"}),a.jsx(ge,{id:"export-to",type:"datetime-local",...l("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"export-severity",children:"Severity filter (optional)"}),a.jsxs(lt,{value:h??"",onValueChange:p=>u("severity",p||void 0),children:[a.jsx(at,{id:"export-severity",children:a.jsx(ct,{placeholder:"All severities"})}),a.jsx(it,{children:O6.map(p=>a.jsx(Ne,{value:p,children:p},p))})]})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const nRe=ht({field_name:je().min(1,"Field name is required").max(120),is_redacted:ti()});function sRe({open:e,onOpenChange:t}){const[r,n]=x.useState(!1),{data:s=[],isLoading:i}=YTe(),o=QTe(),l=XTe(),c=JTe(),{register:u,handleSubmit:d,setValue:f,watch:h,reset:m,formState:{errors:g,isDirty:p}}=dt({resolver:ft(nRe),defaultValues:{field_name:"",is_redacted:!0}}),y=h("field_name"),b=h("is_redacted"),v=j=>{o.mutate({field_name:j.field_name.trim(),is_redacted:j.is_redacted},{onSuccess:()=>{m({field_name:"",is_redacted:!0}),n(!1)}})},w=j=>{l.mutate({id:j.id,data:{is_redacted:!j.is_redacted}})},S=j=>{c.mutate(j)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[520px] max-h-[90vh] flex flex-col","aria-describedby":"redaction-desc",children:[a.jsxs(Me,{children:[a.jsxs($e,{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Redaction rules"]}),a.jsx(Ie,{id:"redaction-desc",children:"Configure which log and trace fields are redacted before storage and export. Rules apply by default to exports."})]}),a.jsx(jt,{className:"flex-1 min-h-0 rounded-md border border-border",children:a.jsx("div",{className:"p-2 space-y-3",children:i?a.jsxs(a.Fragment,{children:[a.jsx(de,{className:"h-12 w-full rounded-lg"}),a.jsx(de,{className:"h-12 w-full rounded-lg"}),a.jsx(de,{className:"h-12 w-full rounded-lg"})]}):s.length===0&&!r?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(Or,{className:"h-10 w-10 text-muted-foreground/50 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No redaction rules"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 max-w-xs",children:"Add field names (e.g. message, metadata) to redact in logs and exports."}),a.jsxs(E,{type:"button",variant:"outline",size:"sm",className:"mt-3",onClick:()=>n(!0),children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Add rule"]})]}):a.jsxs(a.Fragment,{children:[s.map(j=>a.jsxs("div",{className:J("flex items-center justify-between gap-3 rounded-lg border px-3 py-2","border-border bg-card/50 transition-colors hover:bg-secondary/30"),children:[a.jsx("span",{className:"font-mono text-sm truncate flex-1",children:j.field_name}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(xr,{checked:j.is_redacted,onCheckedChange:()=>w(j),"aria-label":`Redact ${j.field_name}`}),a.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>S(j.id),"aria-label":`Delete rule ${j.field_name}`,children:a.jsx(gn,{className:"h-4 w-4"})})]})]},j.id)),r&&a.jsxs("form",{onSubmit:d(v),className:"rounded-lg border border-primary/30 bg-primary/5 p-3 space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"redaction-field-name",children:"Field name"}),a.jsx(ge,{id:"redaction-field-name",placeholder:"e.g. message, metadata",className:"font-mono text-sm",...u("field_name"),autoFocus:!0}),g.field_name&&a.jsx("p",{className:"text-xs text-destructive",children:g.field_name.message})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx(Y,{htmlFor:"redaction-enabled",children:"Redact by default"}),a.jsx(xr,{id:"redaction-enabled",checked:b,onCheckedChange:j=>f("is_redacted",j)})]}),a.jsxs(Be,{className:"gap-2 sm:gap-0 pt-2",children:[a.jsx(E,{type:"button",variant:"outline",size:"sm",onClick:()=>{n(!1),m({field_name:"",is_redacted:!0})},children:"Cancel"}),a.jsx(E,{type:"submit",size:"sm",disabled:!(y!=null&&y.trim())||o.isPending||!p,children:o.isPending?"Adding":"Add rule"})]})]}),!r&&a.jsxs(E,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>n(!0),children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Add rule"]})]})})})]})})}function aRe(e){return e==null?"":e<1e3?`${e} ms`:`${(e/1e3).toFixed(2)} s`}function DR({label:e,icon:t,children:r,defaultOpen:n=!0}){const[s,i]=x.useState(n);return a.jsxs("div",{className:"rounded border border-border bg-secondary/30 overflow-hidden",children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 px-3 py-2 text-left text-sm font-medium hover:bg-secondary/50 transition-colors",onClick:()=>i(o=>!o),"aria-expanded":s,children:[s?a.jsx(Sc,{className:"h-4 w-4 shrink-0"}):a.jsx(Wn,{className:"h-4 w-4 shrink-0"}),a.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),e]}),s&&a.jsx("div",{className:"border-t border-border px-3 py-2 font-mono text-xs text-muted-foreground",children:r})]})}function LR({trace:e,isLoading:t,onClose:r,onExport:n,className:s}){if(t)return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsx(ne,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:a.jsxs(ae,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]})}),a.jsx(Z,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(de,{className:"h-10 w-full"}),a.jsx(de,{className:"h-24 w-full"}),a.jsx(de,{className:"h-24 w-full"})]})})]});if(!e)return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),r&&a.jsx(E,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(rd,{className:"h-4 w-4"})})]}),a.jsx(Z,{className:"p-6",children:a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a log entry to view its trace."})})]});const i=Array.isArray(e.tool_invocation)?e.tool_invocation:[],o=Array.isArray(e.model_calls)?e.model_calls:[];return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[n&&a.jsx(E,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Export trace",children:a.jsx(Yr,{className:"h-4 w-4"})}),r&&a.jsx(E,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(rd,{className:"h-4 w-4"})})]})]}),a.jsxs(Z,{className:"p-0",children:[a.jsxs("div",{className:"flex items-center gap-2 border-b border-border px-4 py-2 text-xs text-muted-foreground",children:[a.jsx(Mo,{className:"h-3.5 w-3.5"}),"Duration: ",aRe(e.duration_ms)]}),a.jsx(jt,{className:"h-[320px]",children:a.jsxs("div",{className:"space-y-2 p-3",children:[a.jsx(DR,{label:"Tool invocations",icon:fx,defaultOpen:!0,children:i.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(i,null,2)})}),a.jsx(DR,{label:"Model calls",icon:qa,defaultOpen:!0,children:o.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(o,null,2)})})]})})]})]})}const FR={debug:{label:"debug",icon:VH,className:"text-muted-foreground"},info:{label:"info",icon:HS,className:"text-primary"},warning:{label:"warning",icon:ol,className:"text-warning"},error:{label:"error",icon:Ki,className:"text-destructive"},critical:{label:"critical",icon:lx,className:"text-destructive font-semibold"}};function iRe(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function v0({log:e,isSelected:t,onSelect:r,isExportSelected:n,onExportSelect:s}){const i=FR[e.severity]??FR.info,o=i.icon,l=e.redacted_message??e.message,c=l.length>200?l.slice(0,200)+"":l;return a.jsxs("div",{className:J("flex items-start gap-2 w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus-within:ring-2 focus-within:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),children:[s&&a.jsx("button",{type:"button",role:"checkbox","aria-checked":n,onClick:u=>{u.stopPropagation(),s()},className:"shrink-0 mt-0.5 rounded border border-border p-1 hover:bg-secondary focus:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":n?"Deselect for export":"Select for export",children:a.jsx("span",{className:J("inline-block h-4 w-4 rounded border-2 border-current",n?"bg-primary border-primary":"bg-transparent"),"aria-hidden":!0})}),a.jsxs("button",{type:"button",onClick:r,className:"flex-1 min-w-0 text-left","aria-pressed":t,"aria-label":`View trace for log ${e.id}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(o,{className:J("h-4 w-4 shrink-0",i.className),"aria-hidden":!0}),a.jsx(Ye,{variant:"secondary",className:J("text-xs font-mono shrink-0",i.className),children:i.label}),a.jsx("span",{className:"text-xs font-mono text-muted-foreground shrink-0",children:iRe(e.timestamp)})]}),a.jsx("p",{className:"mt-1.5 font-mono text-xs text-foreground break-words line-clamp-2",children:c})]})]})}function oRe(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(!1),[o,l]=x.useState("logs"),[c,u]=x.useState({limit:100}),[d,f]=x.useState(null),[h,m]=x.useState(new Set),{data:g=[],isLoading:p}=KTe(c),{data:y,isLoading:b}=HTe(d),v=GTe(),w=C=>{u(C)},S=C=>{v.mutate(C,{onSuccess:A=>{A!=null&&A.download_url&&window.open(A.download_url,"_blank")}})},j=C=>{m(A=>{const I=new Set(A);return I.has(C)?I.delete(C):I.add(C),I})},_=()=>{h.size===g.length?m(new Set):m(new Set(g.map(C=>C.id)))},N=x.useMemo(()=>h.size>0?Array.from(h):void 0,[h]),k=C=>{C&&h.size>0||m(new Set),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(he,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Wn,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Logs & Tracing"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(or,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Logs & Tracing"]}),a.jsx("p",{className:"text-muted-foreground",children:"Structured logs and per-run traces. Filter, view traces, and export with redaction."})]}),a.jsxs(ri,{value:o,onValueChange:l,className:"space-y-4",children:[a.jsxs(ja,{className:"grid w-full max-w-md grid-cols-3 rounded-lg bg-muted p-1",children:[a.jsxs(St,{value:"logs",className:"gap-2",children:[a.jsx(or,{className:"h-4 w-4"}),"Logs"]}),a.jsxs(St,{value:"traces",className:"gap-2",children:[a.jsx(fE,{className:"h-4 w-4"}),"Traces"]}),a.jsxs(St,{value:"export",className:"gap-2",children:[a.jsx(Yh,{className:"h-4 w-4"}),"Export"]})]}),a.jsx(Nt,{value:"logs",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(ae,{children:"Log stream"}),a.jsx(we,{children:"Real-time logs with severity. Select a row to view its run trace."})]})}),a.jsx(Z,{children:a.jsx(jt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(de,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(or,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Connect the gateway to stream logs, or logs will appear here once available."})]}):g.map(C=>a.jsx(v0,{log:C,isSelected:d===C.id,onSelect:()=>f(A=>A===C.id?null:C.id)},C.id))})})})]}),a.jsx(LR,{trace:y??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsx(ae,{className:"text-base",children:"Filters & actions"}),a.jsx(we,{children:"Refine the log view, export, and redaction rules."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(dh,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>{m(new Set),n(!0)},children:[a.jsx(Yr,{className:"mr-2 h-4 w-4"}),"Export logs"]}),a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(Or,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),a.jsx(Nt,{value:"traces",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(ae,{children:"Run traces"}),a.jsx(we,{children:"Select a log entry to view its run trace (tool invocations and model calls)."})]})}),a.jsx(Z,{children:a.jsx(jt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(de,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(fE,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No log entries"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Logs appear here when available. Select one to view its run trace."})]}):g.map(C=>a.jsx(v0,{log:C,isSelected:d===C.id,onSelect:()=>f(A=>A===C.id?null:C.id)},C.id))})})})]}),a.jsx(LR,{trace:y??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsx(ae,{className:"text-base",children:"Trace actions"}),a.jsx(we,{children:"View run trace details and configure redaction for exports."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(dh,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(Or,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),a.jsx(Nt,{value:"export",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsx("div",{className:"space-y-6 min-w-0",children:a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(ae,{children:"Export logs"}),a.jsx(we,{children:"Select logs to export, or export all filtered results. Choose format and redaction in the confirmation dialog."})]})}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(E,{variant:"outline",size:"sm",onClick:()=>_(),"aria-pressed":g.length>0&&h.size===g.length,children:h.size===g.length&&g.length>0?"Deselect all":"Select all"}),a.jsxs(E,{size:"sm",onClick:()=>k(h.size>0),disabled:p||g.length===0,children:[a.jsx(Yr,{className:"mr-2 h-4 w-4"}),h.size>0?`Export ${h.size} selected`:"Export all (filtered)"]})]}),a.jsx(jt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(de,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Yh,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs to export"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Apply filters or wait for logs to appear, then select and export."})]}):g.map(C=>a.jsx(v0,{log:C,isSelected:d===C.id,onSelect:()=>f(A=>A===C.id?null:C.id),isExportSelected:h.has(C.id),onExportSelect:()=>j(C.id)},C.id))})})]})]})}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsx(ae,{className:"text-base",children:"Export options"}),a.jsx(we,{children:"Configure redaction rules and retention. Export uses your selected format and redaction settings."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(Or,{className:"mr-2 h-4 w-4"}),"Redaction rules"]}),a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(dh,{className:"mr-2 h-4 w-4"}),"Filters"]})]})]})})]})})]}),a.jsx("footer",{className:"pt-4 border-t border-border",children:a.jsxs(he,{to:"/settings",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:[a.jsx(ha,{className:"h-4 w-4"}),"Manage retention settings"]})}),a.jsx(eRe,{open:e,onOpenChange:t,currentFilters:c,onApply:w}),a.jsx(rRe,{open:r,onOpenChange:n,onExport:S,isExporting:v.isPending,selectedLogIds:N}),a.jsx(sRe,{open:s,onOpenChange:i})]})}const Ff="admin_workspaces",Uf="admin_workspace_members",Bf="admin_licenses",UR="admin_analytics_metrics",An={getWorkspaces:async()=>{const{data:e,error:t}=await q.from(Ff).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWorkspace:async e=>{const{data:t,error:r}=await q.from(Ff).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWorkspace:async e=>{const{data:t,error:r}=await q.from(Ff).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspace:async(e,t)=>{const{data:r,error:n}=await q.from(Ff).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWorkspace:async e=>{const{error:t}=await q.from(Ff).delete().eq("id",e);if(t)throw new Error(t.message)},getWorkspaceMembers:async e=>{const{data:t,error:r}=await q.from(Uf).select("*").eq("workspace_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getAllMembers:async()=>{const{data:e,error:t}=await q.from(Uf).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},addWorkspaceMember:async e=>{const{data:t,error:r}=await q.from(Uf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspaceMember:async(e,t)=>{const{data:r,error:n}=await q.from(Uf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},removeWorkspaceMember:async e=>{const{error:t}=await q.from(Uf).delete().eq("id",e);if(t)throw new Error(t.message)},getLicenses:async e=>{let t=q.from(Bf).select("*").order("created_at",{ascending:!1});e!=null&&e.workspace_id&&(t=t.eq("workspace_id",e.workspace_id)),(e==null?void 0:e.user_id)!=null&&(t=t.eq("user_id",e.user_id));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getLicense:async e=>{const{data:t,error:r}=await q.from(Bf).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createLicense:async e=>{const{data:t,error:r}=await q.from(Bf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateLicense:async(e,t)=>{const{data:r,error:n}=await q.from(Bf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteLicense:async e=>{const{error:t}=await q.from(Bf).delete().eq("id",e);if(t)throw new Error(t.message)},getAnalyticsMetrics:async e=>{let t=q.from(UR).select("*").order("bucket_time",{ascending:!1});(e==null?void 0:e.workspace_id)!=null&&(t=e.workspace_id?t.eq("workspace_id",e.workspace_id):t.is("workspace_id",null)),e!=null&&e.metric_type&&(t=t.eq("metric_type",e.metric_type)),e!=null&&e.from&&(t=t.gte("bucket_time",e.from)),e!=null&&e.to&&(t=t.lte("bucket_time",e.to)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},insertAnalyticsMetric:async e=>{const{data:t,error:r}=await q.from(UR).insert(e).select().single();if(r)throw new Error(r.message);return t},getProfileByUserId:async e=>{const{data:t,error:r}=await q.from("profiles").select("*").eq("user_id",e).maybeSingle();return r?null:t}};function gp(e,t){return e().catch(()=>t)}const Yt={all:["admin"],workspaces:()=>[...Yt.all,"workspaces"],workspace:e=>[...Yt.all,"workspace",e],workspaceMembers:e=>[...Yt.all,"workspace-members",e],allMembers:()=>[...Yt.all,"members"],licenses:e=>[...Yt.all,"licenses",e],license:e=>[...Yt.all,"license",e],analytics:e=>[...Yt.all,"analytics",e]};function lRe(){return Oe({queryKey:Yt.workspaces(),queryFn:()=>gp(()=>An.getWorkspaces(),[])})}function cRe(){const e=be();return ye({mutationFn:t=>An.createWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:Yt.workspaces()}),W.success("Workspace created")},onError:t=>{W.error(t.message??"Failed to create workspace")}})}function uRe(){const e=be();return ye({mutationFn:({id:t,data:r})=>An.updateWorkspace(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Yt.workspaces()}),e.invalidateQueries({queryKey:Yt.workspace(r)}),W.success("Workspace updated")},onError:t=>{W.error(t.message??"Failed to update workspace")}})}function dRe(){const e=be();return ye({mutationFn:t=>An.deleteWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:Yt.workspaces()}),W.success("Workspace deleted")},onError:t=>{W.error(t.message??"Failed to delete workspace")}})}function fRe(){return Oe({queryKey:Yt.allMembers(),queryFn:()=>gp(()=>An.getAllMembers(),[])})}function hRe(){const e=be();return ye({mutationFn:t=>An.addWorkspaceMember(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Yt.allMembers()}),e.invalidateQueries({queryKey:Yt.workspaceMembers(r.workspace_id)}),W.success("User added to workspace")},onError:t=>{W.error(t.message??"Failed to add user")}})}function mRe(){const e=be();return ye({mutationFn:({id:t,data:r,workspaceId:n})=>An.updateWorkspaceMember(t,r),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:Yt.allMembers()}),e.invalidateQueries({queryKey:Yt.workspaceMembers(r)}),W.success("Member updated")},onError:t=>{W.error(t.message??"Failed to update member")}})}function pRe(){const e=be();return ye({mutationFn:({id:t})=>An.removeWorkspaceMember(t),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:Yt.allMembers()}),e.invalidateQueries({queryKey:Yt.workspaceMembers(r)}),W.success("Member removed")},onError:t=>{W.error(t.message??"Failed to remove member")}})}function gRe(e){return Oe({queryKey:Yt.licenses(e),queryFn:()=>gp(()=>An.getLicenses(e),[])})}function vRe(){const e=be();return ye({mutationFn:t=>An.createLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:Yt.licenses()}),W.success("License created")},onError:t=>{W.error(t.message??"Failed to create license")}})}function yRe(){const e=be();return ye({mutationFn:({id:t,data:r})=>An.updateLicense(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Yt.licenses()}),e.invalidateQueries({queryKey:Yt.license(r)}),W.success("License updated")},onError:t=>{W.error(t.message??"Failed to update license")}})}function xRe(){const e=be();return ye({mutationFn:t=>An.deleteLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:Yt.licenses()}),W.success("License deleted")},onError:t=>{W.error(t.message??"Failed to delete license")}})}function bRe(e){return Oe({queryKey:Yt.analytics(e),queryFn:()=>gp(()=>An.getAnalyticsMetrics(e),[])})}const wRe=e=>[...Yt.all,"profile",e];function jRe(e){return Oe({queryKey:wRe(e??""),queryFn:()=>e?gp(()=>An.getProfileByUserId(e),null):Promise.resolve(null),enabled:!!e})}const _Re=ht({name:je().min(1,"Name is required").max(200,"Name too long"),active_users_count:is.number().min(0,"Must be 0 or more"),status:nr(["active","archived","suspended"])}),BR={name:"",active_users_count:0,status:"active"};function SRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s=null}){const i=!!s,{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=dt({resolver:ft(_Re),defaultValues:BR}),h=u("status");x.useEffect(()=>{e&&s?d({name:s.name,active_users_count:s.active_users_count,status:s.status}):e&&!s&&d(BR)},[e,s,d]);const m=g=>{r(i&&s?{name:g.name,active_users_count:g.active_users_count,status:g.status}:{name:g.name,active_users_count:g.active_users_count,status:g.status}),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[640px]",children:[a.jsxs(Me,{children:[a.jsx($e,{children:i?"Edit workspace":"Create workspace"}),a.jsx(Ie,{children:i?"Update workspace name, user count, and status.":"Add a new workspace for multi-tenant management."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"workspace-name",children:"Name"}),a.jsx(ge,{id:"workspace-name",placeholder:"Workspace name",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("name")}),f.name&&a.jsx("p",{className:"text-sm text-destructive",children:f.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"workspace-active-users",children:"Active users count"}),a.jsx(ge,{id:"workspace-active-users",type:"number",min:0,className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("active_users_count")}),f.active_users_count&&a.jsx("p",{className:"text-sm text-destructive",children:f.active_users_count.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Status"}),a.jsxs(lt,{value:h,onValueChange:g=>c("status",g),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace status",children:a.jsx(ct,{placeholder:"Select status"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"active",children:"Active"}),a.jsx(Ne,{value:"archived",children:"Archived"}),a.jsx(Ne,{value:"suspended",children:"Suspended"})]})]})]}),a.jsxs(Be,{className:"gap-2 pt-4",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":i?"Save":"Create"})]})]})]})})}const NRe=ht({user_id:je().uuid("Invalid user ID"),role:nr(["admin","member","viewer"])}),qR={user_id:"",role:"member"};function kRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s,member:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=dt({resolver:ft(NRe),defaultValues:qR}),m=d("role");x.useEffect(()=>{e&&i?f({user_id:i.user_id,role:i.role}):e&&!i&&f(qR)},[e,i,f]);const g=p=>{if(o&&i)r({role:p.role});else{if(!s)return;r({workspace_id:s.id,user_id:p.user_id,role:p.role})}t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[640px]",children:[a.jsxs(Me,{children:[a.jsx($e,{children:o?"Edit workspace member":"Add user to workspace"}),a.jsx(Ie,{children:o?"Update the member role for this workspace.":"Assign a user to this workspace with a role. Enter the user ID from your auth system."})]}),a.jsxs("form",{onSubmit:c(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"member-user-id",children:"User ID"}),a.jsx(ge,{id:"member-user-id",placeholder:"UUID from auth.users",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id"),disabled:o}),h.user_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.user_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Role"}),a.jsxs(lt,{value:m,onValueChange:p=>u("role",p),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Member role",children:a.jsx(ct,{placeholder:"Select role"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"admin",children:"Admin"}),a.jsx(Ne,{value:"member",children:"Member"}),a.jsx(Ne,{value:"viewer",children:"Viewer"})]})]})]}),a.jsxs(Be,{className:"gap-2 pt-4",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n||!o&&!s,children:n?"Saving":o?"Save":"Add user"})]})]})]})})}const CRe=ht({workspace_id:je().uuid("Select a workspace"),user_id:je().optional(),license_type:nr(["seat","pro","enterprise","trial"]),expiry_date:je().optional()}),zR={workspace_id:"",user_id:"",license_type:"seat",expiry_date:""};function ERe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspaces:s,license:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=dt({resolver:ft(CRe),defaultValues:zR}),m=d("workspace_id"),g=d("license_type");x.useEffect(()=>{var y;e&&i?f({workspace_id:i.workspace_id,user_id:i.user_id??"",license_type:i.license_type,expiry_date:i.expiry_date?i.expiry_date.slice(0,10):""}):e&&!i&&f({...zR,workspace_id:((y=s[0])==null?void 0:y.id)??""})},[e,i,s,f]);const p=y=>{const b=y.expiry_date?new Date(y.expiry_date).toISOString():null;r(o&&i?{user_id:y.user_id||null,license_type:y.license_type,expiry_date:b}:{workspace_id:y.workspace_id,user_id:y.user_id||null,license_type:y.license_type,expiry_date:b}),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[640px]",children:[a.jsxs(Me,{children:[a.jsx($e,{children:o?"Edit license":"Allocate license"}),a.jsx(Ie,{children:o?"Update license type and expiry. Reassign to a workspace/user if needed.":"Assign a license to a workspace or user. Leave user empty for workspace-level license."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Workspace"}),a.jsxs(lt,{value:m,onValueChange:y=>u("workspace_id",y),disabled:o,children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace",children:a.jsx(ct,{placeholder:"Select workspace"})}),a.jsx(it,{children:s.map(y=>a.jsx(Ne,{value:y.id,children:y.name},y.id))})]}),h.workspace_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.workspace_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"license-user-id",children:"User ID (optional)"}),a.jsx(ge,{id:"license-user-id",placeholder:"UUID or leave empty for workspace license",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"License type"}),a.jsxs(lt,{value:g,onValueChange:y=>u("license_type",y),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"License type",children:a.jsx(ct,{placeholder:"Select type"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"seat",children:"Seat"}),a.jsx(Ne,{value:"pro",children:"Pro"}),a.jsx(Ne,{value:"enterprise",children:"Enterprise"}),a.jsx(Ne,{value:"trial",children:"Trial"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"license-expiry",children:"Expiry date (optional)"}),a.jsx(ge,{id:"license-expiry",type:"date",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("expiry_date")})]}),a.jsxs(Be,{className:"gap-2 pt-4",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":o?"Save":"Allocate"})]})]})]})})}const ORe=ht({workspace_id:je().optional(),metric_type:je().optional(),from:je().optional(),to:je().optional(),limit:is.number().min(10).max(500).optional()}),vg={workspace_id:"",metric_type:"",from:"",to:"",limit:100},PRe=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"];function ARe({open:e,onOpenChange:t,onApply:r,workspaces:n,currentValues:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=dt({resolver:ft(ORe),defaultValues:s??vg});x.useEffect(()=>{e&&u(s??vg)},[e,s,u]);const f=c("workspace_id"),h=c("metric_type"),m=p=>{r(p),t(!1)},g=()=>{u(vg),r(vg),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[640px]",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Filter analytics"}),a.jsx(Ie,{children:"Refine data by workspace, metric type, date range, and limit."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Workspace"}),a.jsxs(lt,{value:f||"all",onValueChange:p=>l("workspace_id",p==="all"?"":p),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:a.jsx(ct,{placeholder:"All workspaces"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"all",children:"All workspaces"}),n.map(p=>a.jsx(Ne,{value:p.id,children:p.name},p.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Metric type"}),a.jsxs(lt,{value:h||"all",onValueChange:p=>l("metric_type",p==="all"?"":p),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:a.jsx(ct,{placeholder:"All types"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"all",children:"All types"}),PRe.map(p=>a.jsx(Ne,{value:p,children:p.replace(/_/g," ")},p))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-from",children:"From date"}),a.jsx("input",{id:"filter-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("from")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-to",children:"To date"}),a.jsx("input",{id:"filter-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("to")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-limit",children:"Max results"}),a.jsx("input",{id:"filter-limit",type:"number",min:10,max:500,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("limit",{valueAsNumber:!0})}),d.limit&&a.jsx("p",{className:"text-sm text-destructive",children:d.limit.message})]}),a.jsxs(Be,{className:"gap-2 pt-4",children:[a.jsx(E,{type:"button",variant:"outline",onClick:g,children:"Reset"}),a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{type:"submit",children:"Apply"})]})]})]})})}const TRe={admin:"default",member:"secondary",viewer:"outline"};function RRe({open:e,onOpenChange:t,member:r,workspace:n,onEdit:s,onRevoke:i,isRevoking:o=!1}){const l=(r==null?void 0:r.user_id)??null,{data:c,isLoading:u}=jRe(l);if(!r)return null;const d=(c==null?void 0:c.display_name)??null,f=r.created_at?Da(Ol(r.created_at),"MMM d, yyyy"):"";return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[640px]",children:[a.jsxs(Me,{children:[a.jsxs($e,{className:"flex items-center gap-2",children:[a.jsx(ep,{className:"h-5 w-5 text-muted-foreground"}),"User details"]}),a.jsx(Ie,{children:"View and manage this user's workspace access and role."})]}),a.jsx("div",{className:"space-y-4 py-2",children:a.jsxs("div",{className:"grid gap-3 rounded-lg border border-border bg-secondary/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),u?a.jsx(de,{className:"h-5 w-24"}):a.jsx("span",{className:"font-medium",children:d||""})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ed,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"User ID"}),a.jsx("code",{className:"rounded bg-muted/50 px-2 py-0.5 text-xs font-mono",children:r.user_id})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ag,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Workspace"}),a.jsx("span",{children:(n==null?void 0:n.name)??r.workspace_id})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Or,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Role"}),a.jsx(Ye,{variant:TRe[r.role],className:J("capitalize"),children:r.role})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(qd,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Member since"}),a.jsx("span",{children:f})]})]})}),a.jsxs(Be,{className:"gap-2 border-t border-border pt-4",children:[a.jsxs(E,{type:"button",variant:"outline",onClick:()=>{s(),t(!1)},className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Si,{className:"mr-2 h-4 w-4"}),"Edit role"]}),a.jsxs(E,{type:"button",variant:"destructive",onClick:()=>{i(),t(!1)},disabled:o,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(h7,{className:"mr-2 h-4 w-4"}),o?"Revoking":"Revoke access"]})]})]})})}function MRe({open:e,onOpenChange:t,title:r="Confirm changes",description:n="Are you sure you want to save these settings? This may affect workspace behavior.",confirmLabel:s="Save changes",cancelLabel:i="Cancel",onConfirm:o,isSubmitting:l=!1}){const c=()=>{o(),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[440px]",children:[a.jsxs(Me,{children:[a.jsxs($e,{className:"flex items-center gap-2",children:[a.jsx(ol,{className:"h-5 w-5 text-warning","aria-hidden":!0}),r]}),a.jsx(Ie,{children:n})]}),a.jsxs(Be,{className:"gap-2 pt-4",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l,children:i}),a.jsx(E,{type:"button",onClick:c,disabled:l,className:"transition-transform hover:scale-[1.02]",children:l?"Saving":s})]})]})})}const $Re={allow_user_registration:!1,data_retention_days:90,registry_enabled:!0};function IRe({workspace:e,onUpdate:t,isSubmitting:r=!1}){var y,b,v;const[n,s]=x.useState(((y=e==null?void 0:e.configuration_details)==null?void 0:y.allow_user_registration)===!0),[i,o]=x.useState(Number((b=e==null?void 0:e.configuration_details)==null?void 0:b.data_retention_days)||90),[l,c]=x.useState(((v=e==null?void 0:e.configuration_details)==null?void 0:v.registry_enabled)!==!1),[u,d]=x.useState(!1),[f,h]=x.useState(!1);x.useEffect(()=>{const w=e==null?void 0:e.configuration_details;s((w==null?void 0:w.allow_user_registration)===!0),o(Number(w==null?void 0:w.data_retention_days)||90),c((w==null?void 0:w.registry_enabled)!==!1),h(!1)},[e==null?void 0:e.id,e==null?void 0:e.configuration_details]);const m=(w,S)=>{w==="allow_user_registration"&&s(!!S),w==="data_retention_days"&&o(Number(S)||90),w==="registry_enabled"&&c(!!S),h(!0)},g=()=>{!f||!e||d(!0)},p=()=>{e&&(t(e.id,{configuration_details:{...$Re,...e.configuration_details||{},allow_user_registration:n,data_retention_days:i,registry_enabled:l}}),h(!1))};return e?a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] transition-all duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[a.jsx(ha,{className:"h-5 w-5 text-muted-foreground"}),"Workspace settings"]}),a.jsxs(we,{children:["Default policies and registry controls for ",e.name,". Changes require confirmation."]})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/20 p-3",children:[a.jsx(Y,{htmlFor:"ws-allow-registration",className:"cursor-pointer flex-1",children:"Allow user registration"}),a.jsx(xr,{id:"ws-allow-registration",checked:n,onCheckedChange:w=>m("allow_user_registration",w),className:"data-[state=checked]:bg-primary"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/20 p-3",children:[a.jsx(Y,{htmlFor:"ws-registry",className:"cursor-pointer flex-1",children:"Registry enabled"}),a.jsx(xr,{id:"ws-registry",checked:l,onCheckedChange:w=>m("registry_enabled",w),className:"data-[state=checked]:bg-primary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"ws-retention",children:"Data retention (days)"}),a.jsxs(lt,{value:String(i),onValueChange:w=>m("data_retention_days",Number(w)),children:[a.jsx(at,{id:"ws-retention",className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",children:a.jsx(ct,{})}),a.jsx(it,{children:[30,60,90,180,365].map(w=>a.jsxs(Ne,{value:String(w),children:[w," days"]},w))})]})]}),a.jsxs(E,{onClick:g,disabled:!f||r,className:"w-full transition-transform hover:scale-[1.02]",children:[a.jsx(XS,{className:"mr-2 h-4 w-4"}),f?"Save changes":"No changes"]})]})]}),a.jsx(MRe,{open:u,onOpenChange:d,title:"Confirm workspace settings",description:"Saving will update default policies and registry controls for this workspace. Continue?",confirmLabel:"Save changes",onConfirm:p,isSubmitting:r})]}):a.jsx(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)]",children:a.jsxs(ne,{children:[a.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[a.jsx(ha,{className:"h-5 w-5 text-muted-foreground"}),"Workspace settings"]}),a.jsx(we,{children:"Select a workspace above or create one to configure policies and registry controls."})]})})}const DRe={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function LRe({open:e,onOpenChange:t,license:r=null,workspaceName:n=""}){const s=r!=null&&r.expiry_date?Da(Ol(r.expiry_date),"MMM d, yyyy"):"No expiry",i=(r==null?void 0:r.expiry_date)&&new Date(r.expiry_date)<new Date;return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[640px]",children:[a.jsxs(Me,{children:[a.jsxs($e,{className:"flex items-center gap-2",children:[a.jsx(or,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),"Billing & invoice details"]}),a.jsx(Ie,{children:"Current license and billing information. Use Upgrade plan to change tier or manage payment."})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/20 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Workspace"}),a.jsx("span",{className:"font-medium",children:n})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"License type"}),a.jsx(Ye,{variant:i?"destructive":"default",children:DRe[r.license_type]??r.license_type})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Expires"}),a.jsx("span",{className:i?"text-destructive":"",children:s})]})]}),!r&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No license linked. Allocate a license from License Management to see details here."})]}),a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/20 p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Payment options"}),a.jsx("p",{className:"text-sm text-foreground/90 mb-3",children:"Billing is processed securely. Invoices are available after each billing cycle."}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(E,{variant:"outline",size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Yr,{className:"mr-2 h-4 w-4"}),"Download invoice"]}),a.jsxs(E,{variant:"outline",size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(cx,{className:"mr-2 h-4 w-4"}),"Payment method"]}),a.jsxs(E,{size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ho,{className:"mr-2 h-4 w-4"}),"Upgrade plan"]})]})]})]}),a.jsx(Be,{className:"border-t border-border pt-4",children:a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}const FRe=ht({workspace_id:je().optional(),from:je().min(1,"From date is required"),to:je().min(1,"To date is required"),format:nr(["csv","json"]),metric_type:je().optional()}),URe=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"],BRe={workspace_id:"",from:Da(DN(new Date,30),"yyyy-MM-dd"),to:Da(new Date,"yyyy-MM-dd"),format:"csv",metric_type:""};function qRe(e){const t=`bucket_time,workspace_id,metric_type,value,dimensions
`,r=e.map(n=>`${n.bucket_time},${n.workspace_id??""},${n.metric_type},${n.value},"${JSON.stringify(n.dimensions??{}).replace(/"/g,'""')}"`);return t+r.join(`
`)}function zRe({open:e,onOpenChange:t,workspaces:r}){const{register:n,handleSubmit:s,setValue:i,watch:o,formState:{errors:l,isSubmitting:c}}=dt({resolver:ft(FRe),defaultValues:BRe}),u=o("format"),d=o("workspace_id"),f=o("metric_type"),h=async m=>{try{const g=await An.getAnalyticsMetrics({workspace_id:m.workspace_id||void 0,metric_type:m.metric_type||void 0,from:m.from,to:m.to,limit:5e3});if(g.length===0){W.info("No data in the selected range. Try a different date or filter.");return}const p=`analytics-report-${m.from}-${m.to}.${m.format}`;if(m.format==="csv"){const y=new Blob([qRe(g)],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(y),v=document.createElement("a");v.href=b,v.download=p,v.click(),URL.revokeObjectURL(b)}else{const y=new Blob([JSON.stringify(g,null,2)],{type:"application/json;charset=utf-8;"}),b=URL.createObjectURL(y),v=document.createElement("a");v.href=b,v.download=p,v.click(),URL.revokeObjectURL(b)}W.success("Report downloaded"),t(!1)}catch(g){W.error(g instanceof Error?g.message:"Failed to download report")}};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"max-w-[640px]",children:[a.jsxs(Me,{children:[a.jsxs($e,{className:"flex items-center gap-2",children:[a.jsx(Yr,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),"Export analytics report"]}),a.jsx(Ie,{children:"Select date range, format, and optional filters. Data will be downloaded for offline analysis."})]}),a.jsxs("form",{onSubmit:s(h),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"report-from",children:"From date"}),a.jsx("input",{id:"report-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2",...n("from")}),l.from&&a.jsx("p",{className:"text-sm text-destructive",children:l.from.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"report-to",children:"To date"}),a.jsx("input",{id:"report-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2",...n("to")}),l.to&&a.jsx("p",{className:"text-sm text-destructive",children:l.to.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Workspace"}),a.jsxs(lt,{value:d||"all",onValueChange:m=>i("workspace_id",m==="all"?"":m),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:a.jsx(ct,{placeholder:"All workspaces"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"all",children:"All workspaces"}),r.map(m=>a.jsx(Ne,{value:m.id,children:m.name},m.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Metric type"}),a.jsxs(lt,{value:f||"all",onValueChange:m=>i("metric_type",m==="all"?"":m),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:a.jsx(ct,{placeholder:"All types"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"all",children:"All types"}),URe.map(m=>a.jsx(Ne,{value:m,children:m.replace(/_/g," ")},m))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Format"}),a.jsxs(lt,{value:u,onValueChange:m=>i("format",m),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Export format",children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"csv",children:"CSV"}),a.jsx(Ne,{value:"json",children:"JSON"})]})]})]}),a.jsxs(Be,{className:"gap-2 pt-4",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),a.jsxs(E,{type:"submit",disabled:c,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Yr,{className:"mr-2 h-4 w-4"}),c?"Preparing":"Download report"]})]})]})]})})}const WRe={active:"default",archived:"secondary",suspended:"destructive"},VRe={admin:"default",member:"secondary",viewer:"outline"},KRe={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function HRe(){var K;const[e,t]=x.useState("workspaces"),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(!1),[g,p]=x.useState(null),[y,b]=x.useState(!1),[v,w]=x.useState(null),[S,j]=x.useState(null),[_,N]=x.useState(!1),[k,C]=x.useState(null),[A,I]=x.useState(!1),[O,B]=x.useState(null),[T,z]=x.useState(!1),[R,V]=x.useState(""),{data:D=[],isLoading:$}=lRe(),{data:M=[],isLoading:te}=fRe();x.useEffect(()=>{D.length>0&&!k&&C(D[0])},[D,k]);const{data:Q=[],isLoading:le}=gRe(),{data:me=[],isLoading:We}=bRe({workspace_id:(v==null?void 0:v.workspace_id)||void 0,metric_type:(v==null?void 0:v.metric_type)||void 0,from:(v==null?void 0:v.from)||void 0,to:(v==null?void 0:v.to)||void 0,limit:(v==null?void 0:v.limit)??100}),Ve=cRe(),ce=uRe(),qe=dRe(),se=hRe(),xe=mRe(),H=pRe(),G=vRe(),Xe=yRe(),Ke=xRe(),yt=x.useMemo(()=>{const F={},oe=v!=null&&v.from?Ol(v.from):DN(new Date,30),ue=v!=null&&v.to?Ol(v.to):new Date;for(let re=new Date(oe);re<=ue;re.setDate(re.getDate()+1)){const _e=Da(re,"yyyy-MM-dd");F[_e]={date:_e,value:0,sessions:0,runs:0}}return me.forEach(re=>{const _e=re.bucket_time.slice(0,10);F[_e]||(F[_e]={date:_e,value:0,sessions:0,runs:0}),F[_e].value+=Number(re.value),re.metric_type==="active_sessions"&&(F[_e].sessions=Number(re.value)),(re.metric_type==="run_success_rate"||re.metric_type==="run_failure_count")&&(F[_e].runs=Number(re.value))}),Object.values(F).sort((re,_e)=>new Date(re.date).getTime()-new Date(_e.date).getTime())},[me,v]),ot=x.useMemo(()=>{const F={};return D.forEach(oe=>{F[oe.id]=oe}),F},[D]),zt=x.useMemo(()=>{if(!R.trim())return M;const F=R.trim().toLowerCase();return M.filter(oe=>{var ue;return oe.user_id.toLowerCase().includes(F)||(((ue=ot[oe.workspace_id])==null?void 0:ue.name)??"").toLowerCase().includes(F)||oe.role.toLowerCase().includes(F)})},[M,R,ot]),wr=x.useMemo(()=>{const F=new Date,oe=new Date(F.getTime()+30*24*60*60*1e3);let ue=0,re=0;return Q.forEach(_e=>{(!_e.expiry_date||new Date(_e.expiry_date)>=F)&&ue++,_e.expiry_date&&new Date(_e.expiry_date)<=oe&&new Date(_e.expiry_date)>=F&&re++}),{total:Q.length,active:ue,expiringSoon:re}},[Q]),an=F=>{s?(ce.mutate({id:s.id,data:F}),i(null)):Ve.mutate(F),n(!1)},ms=F=>{c?(xe.mutate({id:c.id,data:F,workspaceId:c.workspace_id}),u(null)):d&&"workspace_id"in F&&(se.mutate(F),f(null)),l(!1)},L=F=>{g?(Xe.mutate({id:g.id,data:F}),p(null)):G.mutate(F),m(!1)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Admin & Analytics"}),a.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Workspace management, user provisioning, license controls, and analytics. Cloud-only."})]})}),a.jsxs(ri,{value:e,onValueChange:t,className:"space-y-4",children:[a.jsxs(ja,{className:"inline-flex h-10 items-center justify-center rounded-lg bg-card border border-border p-1 gap-1",children:[a.jsxs(St,{value:"workspaces",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(Ag,{className:"mr-2 h-4 w-4"}),"Workspace Management"]}),a.jsxs(St,{value:"users",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(pw,{className:"mr-2 h-4 w-4"}),"User Management"]}),a.jsxs(St,{value:"licenses",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(xo,{className:"mr-2 h-4 w-4"}),"License Management"]}),a.jsxs(St,{value:"analytics",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(Gf,{className:"mr-2 h-4 w-4"}),"Analytics"]})]}),a.jsx(Nt,{value:"workspaces",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 lg:grid-cols-[1fr_340px]",children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ae,{className:"text-lg",children:"Workspaces"}),a.jsxs(E,{size:"sm",onClick:()=>{i(null),n(!0)},children:[a.jsx($t,{className:"mr-1 h-4 w-4"}),"Add workspace"]})]}),a.jsx(Z,{children:$?a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"h-12 w-full rounded-lg"}),a.jsx(de,{className:"h-12 w-full rounded-lg"}),a.jsx(de,{className:"h-12 w-full rounded-lg"})]}):D.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Ag,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No workspaces yet. Add one to manage users and licenses."}),a.jsxs(E,{onClick:()=>n(!0),children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Add workspace"]})]}):a.jsx(jt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:D.map(F=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md",(k==null?void 0:k.id)===F.id&&"ring-2 ring-primary/50"),children:[a.jsxs("button",{type:"button",className:"min-w-0 flex-1 text-left",onClick:()=>C(F),children:[a.jsx("p",{className:"font-medium truncate",children:F.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.active_users_count," active users"]})]}),a.jsx(Ye,{variant:WRe[F.status],className:"shrink-0 ml-2",children:F.status}),a.jsxs(ma,{children:[a.jsx(pa,{asChild:!0,children:a.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 ml-2",children:[a.jsx(za,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(As,{align:"end",children:[a.jsxs(Ut,{onClick:()=>{i(F),n(!0)},children:[a.jsx(Si,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Ut,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this workspace? This will remove members and licenses.")&&qe.mutate(F.id)},children:[a.jsx(gn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},F.id))})})})]}),a.jsx(IRe,{workspace:k??D[0]??null,onUpdate:(F,oe)=>ce.mutate({id:F,data:oe}),isSubmitting:ce.isPending})]})}),a.jsx(Nt,{value:"users",className:"space-y-4 mt-4",children:a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ne,{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between space-y-0 pb-2",children:[a.jsx(ae,{className:"text-lg",children:"User Management"}),a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(ge,{placeholder:"Search by user ID, workspace, role",value:R,onChange:F=>V(F.target.value),className:"pl-9 w-full sm:w-[240px] h-9 rounded-md border border-input bg-background text-sm focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Search users"})]}),a.jsxs(E,{size:"sm",onClick:()=>{u(null),f(D[0]??null),l(!0)},disabled:D.length===0,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(hE,{className:"mr-1 h-4 w-4"}),"Add user"]})]})]}),a.jsx(Z,{children:te?a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"h-12 w-full rounded-lg"}),a.jsx(de,{className:"h-12 w-full rounded-lg"}),a.jsx(de,{className:"h-12 w-full rounded-lg"})]}):M.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(pw,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No users assigned to workspaces. Add a workspace first, then add users."}),a.jsxs(E,{onClick:()=>{f(D[0]??null),l(!0)},disabled:D.length===0,children:[a.jsx(hE,{className:"mr-2 h-4 w-4"}),"Add user"]})]}):a.jsx(jt,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",role:"grid","aria-label":"User management table",children:[a.jsx("thead",{className:"sticky top-0 z-10 bg-card border-b border-border",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12",children:"User ID"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12 hidden sm:table-cell",children:"Workspace"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12",children:"Role"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12 hidden md:table-cell",children:"Last login"}),a.jsx("th",{className:"text-right font-medium text-muted-foreground px-3 py-3 h-12 w-[100px]",children:"Actions"})]})}),a.jsx("tbody",{children:zt.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-3 py-8 text-center text-muted-foreground",children:"No users match your search."})}):zt.map(F=>{var oe;return a.jsxs("tr",{className:"border-b border-border last:border-0 bg-secondary/20 hover:bg-secondary/40 transition-colors",children:[a.jsxs("td",{className:"px-3 py-3 font-mono text-xs truncate max-w-[140px]",children:[F.user_id.slice(0,8),""]}),a.jsx("td",{className:"px-3 py-3 text-muted-foreground hidden sm:table-cell truncate max-w-[120px]",children:((oe=ot[F.workspace_id])==null?void 0:oe.name)??F.workspace_id.slice(0,8)}),a.jsx("td",{className:"px-3 py-3",children:a.jsx(Ye,{variant:VRe[F.role],className:"capitalize",children:F.role})}),a.jsx("td",{className:"px-3 py-3 text-muted-foreground hidden md:table-cell",children:""}),a.jsx("td",{className:"px-3 py-3 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{j(F),N(!0)},"aria-label":"View user details",children:a.jsx(GH,{className:"h-4 w-4"})}),a.jsxs(ma,{children:[a.jsx(pa,{asChild:!0,children:a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"Actions",children:a.jsx(za,{className:"h-4 w-4"})})}),a.jsxs(As,{align:"end",children:[a.jsxs(Ut,{onClick:()=>{u(F),f(null),l(!0)},children:[a.jsx(Si,{className:"mr-2 h-4 w-4"}),"Edit role"]}),a.jsxs(Ut,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this user from the workspace?")&&H.mutate({id:F.id,workspaceId:F.workspace_id})},children:[a.jsx(gn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})})]},F.id)})})]})})})})]})}),a.jsxs(Nt,{value:"licenses",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Total licenses"}),a.jsx(xo,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:wr.total})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Active"}),a.jsx(xo,{className:"h-4 w-4 text-success"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:wr.active})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Expiring soon"}),a.jsx(xo,{className:"h-4 w-4 text-warning"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:wr.expiringSoon})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Billing"}),a.jsx(or,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsxs(E,{variant:"outline",size:"sm",className:"w-full transition-transform hover:scale-[1.02]",onClick:()=>{B(null),I(!0)},children:[a.jsx(or,{className:"mr-2 h-4 w-4"}),"View billing & invoices"]})})]})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ae,{className:"text-lg",children:"License Management"}),a.jsxs(E,{size:"sm",onClick:()=>{p(null),m(!0)},className:"transition-transform hover:scale-[1.02]",children:[a.jsx($t,{className:"mr-1 h-4 w-4"}),"Allocate license"]})]}),a.jsx(Z,{children:le?a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"h-12 w-full rounded-lg"}),a.jsx(de,{className:"h-12 w-full rounded-lg"})]}):Q.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(xo,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No licenses allocated. Allocate a license to a workspace or user."}),a.jsxs(E,{onClick:()=>m(!0),children:[a.jsx($t,{className:"mr-2 h-4 w-4"}),"Allocate license"]})]}):a.jsx(jt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:Q.map(F=>{var oe;return a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:KRe[F.license_type]??F.license_type}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[((oe=ot[F.workspace_id])==null?void 0:oe.name)??F.workspace_id,F.user_id?`  ${F.user_id.slice(0,8)}`:""]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[F.expiry_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",Da(Ol(F.expiry_date),"MMM d, yyyy")]}),a.jsxs(ma,{children:[a.jsx(pa,{asChild:!0,children:a.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(za,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(As,{align:"end",children:[a.jsxs(Ut,{onClick:()=>{B(F),I(!0)},children:[a.jsx(or,{className:"mr-2 h-4 w-4"}),"View billing"]}),a.jsxs(Ut,{onClick:()=>{p(F),m(!0)},children:[a.jsx(Si,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Ut,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this license allocation?")&&Ke.mutate(F.id)},children:[a.jsx(gn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]},F.id)})})})})]})]}),a.jsxs(Nt,{value:"analytics",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Sessions, run success rates, skill installs. Filter by workspace and date range."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(dh,{className:"mr-1 h-4 w-4"}),"Filter"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>z(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Yr,{className:"mr-1 h-4 w-4"}),"Download report"]})]})]}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active sessions",value:me.filter(F=>F.metric_type==="active_sessions").reduce((F,oe)=>F+Number(oe.value),0),icon:pw},{title:"Run success rate",value:me.filter(F=>F.metric_type==="run_success_rate").reduce((F,oe)=>F+Number(oe.value),0)||"",icon:Gf},{title:"Skill installs",value:me.filter(F=>F.metric_type==="skill_installs").reduce((F,oe)=>F+Number(oe.value),0),icon:Ag},{title:"Data points",value:me.length,icon:Gf}].map(({title:F,value:oe,icon:ue})=>a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-lg hover:scale-[1.02]",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:F}),a.jsx(ue,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:oe})})]},F))}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Metrics over time"}),a.jsx(we,{children:"Aggregated metrics by date. Use Filter to change workspace or date range."})]}),a.jsx(Z,{children:We?a.jsx(de,{className:"h-[280px] w-full rounded-lg"}):yt.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Gf,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No metrics in this period. Data is populated when runs and sessions are recorded."}),a.jsxs(E,{variant:"outline",onClick:()=>b(!0),children:[a.jsx(dh,{className:"mr-2 h-4 w-4"}),"Change filter"]})]}):a.jsx(L_,{width:"100%",height:280,children:a.jsxs(S6,{data:yt,children:[a.jsx(Ty,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(bc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(wc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(bs,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"},formatter:F=>[F,"Value"],labelFormatter:F=>Da(Ol(F),"MMM d, yyyy")}),a.jsx(Ji,{type:"monotone",dataKey:"value",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Value"})]})})})]}),yt.length>0&&a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Metric breakdown (bar)"}),a.jsx(we,{children:"Daily values for the selected period."})]}),a.jsx(Z,{children:a.jsx(L_,{width:"100%",height:240,children:a.jsxs(QPe,{data:yt,children:[a.jsx(Ty,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(bc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(wc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(bs,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelFormatter:F=>Da(Ol(F),"MMM d, yyyy")}),a.jsx(Ac,{dataKey:"value",fill:"rgb(var(--accent))",radius:[4,4,0,0],name:"Value"})]})})})]})]})]}),a.jsx(SRe,{open:r,onOpenChange:n,onSubmit:an,isSubmitting:Ve.isPending||ce.isPending,workspace:s}),a.jsx(kRe,{open:o,onOpenChange:l,onSubmit:ms,isSubmitting:se.isPending||xe.isPending,workspace:c?ot[c.workspace_id]??null:d,member:c}),a.jsx(ERe,{open:h,onOpenChange:m,onSubmit:L,isSubmitting:G.isPending||Xe.isPending,workspaces:D,license:g}),a.jsx(ARe,{open:y,onOpenChange:b,onApply:w,workspaces:D,currentValues:v}),a.jsx(RRe,{open:_,onOpenChange:N,member:S,workspace:S?ot[S.workspace_id]??null:null,onEdit:()=>{S&&(N(!1),u(S),f(null),l(!0))},onRevoke:()=>{S&&(H.mutate({id:S.id,workspaceId:S.workspace_id}),j(null),N(!1))},isRevoking:H.isPending}),a.jsx(LRe,{open:A,onOpenChange:I,license:O,workspaceName:O?((K=ot[O.workspace_id])==null?void 0:K.name)??"":void 0}),a.jsx(zRe,{open:T,onOpenChange:z,workspaces:D})]})}var Cb="Collapsible",[GRe,P6]=Is(Cb),[YRe,Zk]=GRe(Cb),A6=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c,u]=Ga({prop:n,defaultProp:s??!1,onChange:o,caller:Cb});return a.jsx(YRe,{scope:r,disabled:i,contentId:Os(),open:c,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:a.jsx(Qe.div,{"data-state":tC(c),"data-disabled":i?"":void 0,...l,ref:t})})});A6.displayName=Cb;var T6="CollapsibleTrigger",R6=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Zk(T6,r);return a.jsx(Qe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":tC(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Ee(e.onClick,s.onOpenToggle)})});R6.displayName=T6;var eC="CollapsibleContent",M6=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Zk(eC,e.__scopeCollapsible);return a.jsx(Kn,{present:r||s.open,children:({present:i})=>a.jsx(QRe,{...n,ref:t,present:i})})});M6.displayName=eC;var QRe=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=Zk(eC,r),[l,c]=x.useState(n),u=x.useRef(null),d=pt(t,u),f=x.useRef(0),h=f.current,m=x.useRef(0),g=m.current,p=o.open||l,y=x.useRef(p),b=x.useRef(void 0);return x.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),br(()=>{const v=u.current;if(v){b.current=b.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const w=v.getBoundingClientRect();f.current=w.height,m.current=w.width,y.current||(v.style.transitionDuration=b.current.transitionDuration,v.style.animationName=b.current.animationName),c(n)}},[o.open,n]),a.jsx(Qe.div,{"data-state":tC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&s})});function tC(e){return e?"open":"closed"}var XRe=A6,JRe=R6,ZRe=M6,ka="Accordion",eMe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[rC,tMe,rMe]=_x(ka),[Eb]=Is(ka,[rMe,P6]),nC=P6(),$6=P.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,i=n;return a.jsx(rC.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(iMe,{...i,ref:t}):a.jsx(aMe,{...s,ref:t})})});$6.displayName=ka;var[I6,nMe]=Eb(ka),[D6,sMe]=Eb(ka,{collapsible:!1}),aMe=P.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=Ga({prop:r,defaultProp:n??"",onChange:s,caller:ka});return a.jsx(I6,{scope:e.__scopeAccordion,value:P.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:P.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(D6,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(L6,{...o,ref:t})})})}),iMe=P.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=e,[o,l]=Ga({prop:r,defaultProp:n??[],onChange:s,caller:ka}),c=P.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=P.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx(I6,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(D6,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(L6,{...i,ref:t})})})}),[oMe,Ob]=Eb(ka),L6=P.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=e,l=P.useRef(null),c=pt(l,t),u=tMe(r),f=Vd(s)==="ltr",h=Ee(e.onKeyDown,m=>{var k;if(!eMe.includes(m.key))return;const g=m.target,p=u().filter(C=>{var A;return!((A=C.ref.current)!=null&&A.disabled)}),y=p.findIndex(C=>C.ref.current===g),b=p.length;if(y===-1)return;m.preventDefault();let v=y;const w=0,S=b-1,j=()=>{v=y+1,v>S&&(v=w)},_=()=>{v=y-1,v<w&&(v=S)};switch(m.key){case"Home":v=w;break;case"End":v=S;break;case"ArrowRight":i==="horizontal"&&(f?j():_());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(f?_():j());break;case"ArrowUp":i==="vertical"&&_();break}const N=v%b;(k=p[N].ref.current)==null||k.focus()});return a.jsx(oMe,{scope:r,disabled:n,direction:s,orientation:i,children:a.jsx(rC.Slot,{scope:r,children:a.jsx(Qe.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),Dy="AccordionItem",[lMe,sC]=Eb(Dy),F6=P.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,i=Ob(Dy,r),o=nMe(Dy,r),l=nC(r),c=Os(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return a.jsx(lMe,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(XRe,{"data-orientation":i.orientation,"data-state":V6(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});F6.displayName=Dy;var U6="AccordionHeader",B6=P.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Ob(ka,r),i=sC(U6,r);return a.jsx(Qe.h3,{"data-orientation":s.orientation,"data-state":V6(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});B6.displayName=U6;var D1="AccordionTrigger",q6=P.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Ob(ka,r),i=sC(D1,r),o=sMe(D1,r),l=nC(r);return a.jsx(rC.ItemSlot,{scope:r,children:a.jsx(JRe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...n,ref:t})})});q6.displayName=D1;var z6="AccordionContent",W6=P.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Ob(ka,r),i=sC(z6,r),o=nC(r);return a.jsx(ZRe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});W6.displayName=z6;function V6(e){return e?"open":"closed"}var cMe=$6,K6=F6,uMe=B6,H6=q6,G6=W6;const dMe=cMe,Y6=x.forwardRef(({className:e,...t},r)=>a.jsx(K6,{ref:r,className:J("border-b border-border",e),...t}));Y6.displayName=K6.displayName;const Q6=x.forwardRef(({className:e,children:t,...r},n)=>a.jsx(uMe,{className:"flex",children:a.jsxs(H6,{ref:n,className:J("flex flex-1 items-center justify-between py-4 text-left font-medium transition-all duration-200 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(Sc,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-muted-foreground"})]})}));Q6.displayName=H6.displayName;const X6=x.forwardRef(({className:e,children:t,...r},n)=>a.jsx(G6,{ref:n,className:J("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...r,children:a.jsx("div",{className:"pb-4 pt-0 text-muted-foreground",children:t})}));X6.displayName=G6.displayName;const fMe="help_faqs",hMe="help_doc_links",mMe="support_requests",pMe="help_changelog",Pb={getFaqs:async()=>{const{data:e,error:t}=await q.from(fMe).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},getDocLinks:async()=>{const{data:e,error:t}=await q.from(hMe).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},submitSupportRequest:async e=>{const t={...e,user_id:e.user_id??null,context_info:e.context_info??{},status:e.status??"open"},{data:r,error:n}=await q.from(mMe).insert(t).select().single();if(n)throw new Error(n.message);return r},getChangelog:async(e=50)=>{const{data:t,error:r}=await q.from(pMe).select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}},ec={all:["help"],faqs:()=>[...ec.all,"faqs"],docLinks:()=>[...ec.all,"doc-links"],changelog:()=>[...ec.all,"changelog"]};function aC(e,t){return e().catch(()=>t)}function gMe(){return Oe({queryKey:ec.faqs(),queryFn:()=>aC(Pb.getFaqs,[])})}function vMe(){return Oe({queryKey:ec.docLinks(),queryFn:()=>aC(Pb.getDocLinks,[])})}function yMe(){const e=be();return ye({mutationFn:t=>Pb.submitSupportRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:ec.all}),W.success("Support request submitted. Well get back to you soon.")},onError:t=>{W.error(t.message||"Failed to submit support request")}})}function xMe(e){return Oe({queryKey:[...ec.changelog(),50],queryFn:()=>aC(()=>Pb.getChangelog(50),[])})}function bMe({open:e,onOpenChange:t}){return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{showClose:!0,className:"max-w-md",children:[a.jsx(Me,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15 text-success",children:a.jsx(Mi,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx($e,{children:"Request received"}),a.jsx(Ie,{children:"Thanks for reaching out. Well review your message and get back to you soon."})]})]})}),a.jsx(Be,{className:"sm:justify-end",children:a.jsx(E,{onClick:()=>t(!1),children:"Done"})})]})})}const wMe=ht({name:je().min(1,"Name is required").max(255,"Name is too long"),email:je().min(1,"Email is required").email("Enter a valid email"),issue_description:je().min(10,"Please describe your issue in at least 10 characters").max(4e3,"Description must be 4000 characters or less")}),y0={name:"",email:"",issue_description:""};function jMe(){var f;const{user:e}=ox(),t=yMe(),[r,n]=x.useState(!1),s=x.useMemo(()=>{const h={page:"help",pathname:typeof window<"u"?window.location.pathname:""};return e!=null&&e.id&&(h.user_id=e.id),e!=null&&e.email&&(h.user_email=e.email),h},[e==null?void 0:e.id,e==null?void 0:e.email]),{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=dt({resolver:ft(wMe),defaultValues:e!=null&&e.email?{...y0,name:((f=e.user_metadata)==null?void 0:f.full_name)??"",email:e.email??""}:y0}),d=async h=>{const m={name:h.name.trim(),email:h.email.trim(),issue_description:h.issue_description.trim(),context_info:s,user_id:(e==null?void 0:e.id)??null};await t.mutateAsync(m),l(y0),n(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{className:"text-lg font-semibold",children:"Send a request"}),a.jsx(we,{children:"Describe your issue and well get back to you. Context (current page, account) is included to help us respond faster."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:o(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"support_name",children:"Name"}),a.jsx(ge,{id:"support_name",placeholder:"Your name",className:"rounded-md border border-input px-3 py-2",...i("name")}),c.name&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"support_email",children:"Email"}),a.jsx(ge,{id:"support_email",type:"email",placeholder:"you@example.com",className:"rounded-md border border-input px-3 py-2",...i("email")}),c.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"support_issue",children:"Issue description"}),a.jsx(Xk,{id:"support_issue",placeholder:"Describe what you need help with...",rows:4,className:"rounded-md border border-input px-3 py-2",...i("issue_description")}),c.issue_description&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.issue_description.message})]}),a.jsx(E,{type:"submit",className:"rounded-md px-4 py-3 font-medium",disabled:u,children:u?"Sending":"Send request"})]})})]}),a.jsx(bMe,{open:r,onOpenChange:n})]})}const _Me=[{title:"Install Gateway",description:"Download and run the Clawgate gateway on your machine to get started.",href:"/download",icon:Yr,cta:"Download"},{title:"Connect first channel",description:"Add Telegram, Slack, Discord, or WhatsApp so you can talk to your agent from chat.",href:"/channels",icon:fh,cta:"Channels"},{title:"Open Control UI",description:"Use the dashboard to monitor sessions, runs, skills, and nodes.",href:"/dashboard",icon:b4,cta:"Dashboard"}];function SMe(){const[e,t]=x.useState(""),{data:r=[],isLoading:n}=gMe(),{data:s=[],isLoading:i}=vMe(),{data:o=[],isLoading:l}=xMe(),c=x.useMemo(()=>{if(!e.trim())return r;const u=e.trim().toLowerCase();return r.filter(d=>d.question_text.toLowerCase().includes(u)||d.answer_text.toLowerCase().includes(u)||d.category&&d.category.toLowerCase().includes(u))},[r,e]);return a.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{"aria-label":"Breadcrumb",className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(he,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Dashboard"}),a.jsx(Wn,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"About / Help"})]}),a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"About / Help"}),a.jsx("p",{className:"text-muted-foreground max-w-xl",children:"Quick start guides, FAQs, documentation links, and support. Find what you need in a few clicks."})]}),a.jsxs("section",{"aria-labelledby":"quick-start-heading",children:[a.jsx("h2",{id:"quick-start-heading",className:"mb-4 text-lg font-semibold",children:"Quick start"}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:_Me.map((u,d)=>a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30","animate-fade-in-up"),style:{animationDelay:`${d*100}ms`},children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/15 text-primary",children:a.jsx(u.icon,{className:"h-5 w-5"})}),a.jsx(ae,{className:"text-base",children:u.title})]}),a.jsx(we,{className:"text-sm",children:u.description})]}),a.jsx(Z,{className:"pt-0",children:a.jsx(E,{variant:"outline",size:"sm",className:"rounded-md",asChild:!0,children:a.jsx(he,{to:u.href,children:u.cta})})})]},u.href))})]}),a.jsxs("section",{"aria-labelledby":"faq-heading",children:[a.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h2",{id:"faq-heading",className:"text-lg font-semibold",children:"Frequently asked questions"}),a.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{type:"search",placeholder:"Search FAQs",value:e,onChange:u=>t(u.target.value),className:"rounded-md border border-input pl-9 pr-3 py-2","aria-label":"Search FAQs"})]})]}),n?a.jsx(X,{className:"rounded-[10px] border border-border",children:a.jsx(Z,{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>a.jsx(de,{className:"h-12 w-full rounded-md"},u))})})}):c.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Xm,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e.trim()?"No FAQs match your search. Try different keywords.":"No FAQs yet. Check back later or contact support."})]})}):a.jsx(dMe,{type:"single",collapsible:!0,className:"w-full",children:c.map(u=>a.jsxs(Y6,{value:u.id,children:[a.jsx(Q6,{className:"text-left font-medium hover:no-underline",children:u.question_text}),a.jsx(X6,{children:a.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-muted-foreground",children:u.answer_text})})]},u.id))})]}),a.jsxs("section",{"aria-labelledby":"docs-heading",children:[a.jsx("h2",{id:"docs-heading",className:"mb-4 text-lg font-semibold",children:"Documentation"}),i?a.jsx("ul",{className:"space-y-2",children:[1,2,3,4].map(u=>a.jsx(de,{className:"h-10 w-full rounded-md"},u))}):s.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(or,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Documentation links will appear here."}),a.jsx(E,{variant:"link",className:"mt-2",asChild:!0,children:a.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1",children:["Open docs ",a.jsx(Ho,{className:"h-4 w-4"})]})})]})}):a.jsx("ul",{className:"grid gap-2 sm:grid-cols-2",children:s.map(u=>a.jsx("li",{children:a.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:J("flex items-center gap-2 rounded-md border border-border bg-card px-4 py-3","text-foreground transition-all duration-200 hover:border-primary/50 hover:shadow-card","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),children:[a.jsx(WS,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),a.jsx("span",{className:"flex-1 font-medium",children:u.title}),a.jsx(Ho,{className:"h-4 w-4 shrink-0 text-muted-foreground"})]})},u.id))})]}),a.jsxs("section",{"aria-labelledby":"support-heading",children:[a.jsx("h2",{id:"support-heading",className:"mb-4 text-lg font-semibold",children:"Contact support"}),a.jsx(jMe,{})]}),a.jsxs("section",{"aria-labelledby":"changelog-heading",children:[a.jsx("h2",{id:"changelog-heading",className:"mb-4 text-lg font-semibold",children:"Changelog"}),l?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(u=>a.jsx(de,{className:"h-16 w-full rounded-md"},u))}):o.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(qd,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Changelog entries will appear here."})]})}):a.jsx("ul",{className:"space-y-0 border-l-2 border-border pl-6",children:o.map(u=>a.jsxs("li",{className:"relative pb-6 last:pb-0",children:[a.jsx("span",{className:"absolute -left-[29px] top-1.5 h-3 w-3 rounded-full bg-primary","aria-hidden":!0}),a.jsxs("div",{className:"flex flex-wrap items-baseline gap-2",children:[u.version_number&&a.jsx("span",{className:"font-medium text-foreground",children:u.version_number}),a.jsx("time",{dateTime:u.date,className:"text-sm text-muted-foreground",children:new Date(u.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:u.description})]},u.id))})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[a.jsx(he,{to:"/terms",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Terms of Service"}),a.jsx(he,{to:"/privacy",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Privacy Policy"}),a.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:["Docs ",a.jsx(Ho,{className:"h-3.5 w-3.5"})]})]})})]})}const Ab={getPrivacySettings:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)return null;const{data:t,error:r}=await q.from("privacy_policy_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t??null},updatePrivacySettings:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,...e},{data:n,error:s}=await q.from("privacy_policy_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},ensurePrivacySettings:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const t=await Ab.getPrivacySettings();if(t)return t;const r={user_id:e.id},{data:n,error:s}=await q.from("privacy_policy_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},getCurrentPolicyDocument:async(e="privacy")=>{const{data:t,error:r}=await q.from("policy_documents").select("*").eq("document_type",e).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(r)throw new Error(r.message);return t??null}},Lm={all:["privacy"],settings:()=>[...Lm.all,"settings"],policyDocument:e=>[...Lm.all,"policy",e]};function J6(e,t){return e().catch(()=>t)}function NMe(){return Oe({queryKey:Lm.settings(),queryFn:()=>J6(Ab.getPrivacySettings,null)})}function kMe(){const e=be();return ye({mutationFn:t=>Ab.updatePrivacySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:Lm.settings()}),W.success("Privacy preferences updated")},onError:t=>{W.error(t.message||"Failed to update privacy preferences")}})}function CMe(e="privacy"){return Oe({queryKey:Lm.policyDocument(e),queryFn:()=>J6(()=>Ab.getCurrentPolicyDocument(e),null)})}function EMe({open:e,onOpenChange:t,telemetryOptOut:r,onConfirm:n,isUpdating:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{"aria-describedby":"preferences-modal-description",children:[a.jsxs(Me,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx($e,{children:"Confirm privacy preference"})]}),a.jsx(Ie,{id:"preferences-modal-description",children:r?a.jsx(a.Fragment,{children:"You are opting out of telemetry and optional usage data collection. We will not send diagnostic or usage data from this account. This preference will be saved and can be changed anytime in Settings or on this page."}):a.jsx(a.Fragment,{children:"You are opting in to optional telemetry. We may collect anonymous usage and diagnostic data to improve the product. No personal data is shared. You can opt out anytime in Settings or on this page."})})]}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(E,{onClick:i,disabled:s,className:"transition-transform hover:scale-[1.02]",children:s?"Saving":"Save preference"})]})]})})}function OMe({open:e,onOpenChange:t,onDownload:r,onOpenInNewTab:n,title:s="Download Privacy Policy",description:i="Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."}){const o=()=>{r(),t(!1)},l=()=>{n==null||n(),t(!1)};return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{"aria-describedby":"download-confirmation-description",children:[a.jsxs(Me,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(or,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx($e,{children:s})]}),a.jsx(Ie,{id:"download-confirmation-description",children:i})]}),a.jsxs(Be,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n&&a.jsx(E,{variant:"outline",onClick:l,className:"transition-transform hover:scale-[1.02]",children:"Open in new tab"}),a.jsxs(E,{onClick:o,className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Yr,{className:"h-4 w-4","aria-hidden":!0}),"Download"]})]})]})})}const WR=[{id:"intro",title:"Introduction",content:"Clawgate is a local-first, chat-native personal agent platform. This policy explains how we handle your data when you use the Control UI and optional cloud-linked features. We are committed to transparency and putting you in control."},{id:"data-collection",title:"Data collection",content:"When you use local-only mode, data stays on your devices. We do not collect or transmit personal data from your gateway. If you link a cloud account, we store only what is necessary to provide that service (e.g. profile, session tokens). Optional telemetryanonymous usage and diagnostic datamay be collected only if you have not opted out. We do not sell your data."},{id:"storage",title:"Storage and local-first",content:"Session transcripts, skill definitions, cron jobs, and node pairings are stored locally by default. Cloud-backed features (e.g. sync, backup) store only what you explicitly enable. Credentials and long-lived tokens are stored in your system keychain or an encrypted fallback when available."},{id:"retention",title:"Retention",content:"Local data is retained according to your settings (e.g. log retention, media caps). Cloud-stored data is retained only as long as your account is active and in line with our terms. You can request deletion of cloud data at any time."},{id:"third-party",title:"Third-party services and APIs",content:"Channel adapters (e.g. Telegram, Slack) and model providers (e.g. OpenAI, Anthropic) process data according to their policies when you use those integrations. We pass only the minimum data required. We recommend reviewing each providers privacy policy."}];function PMe({id:e,title:t,content:r,defaultOpen:n=!1}){const[s,i]=x.useState(n);return a.jsxs("details",{id:e,open:s,onToggle:o=>i(o.target.open),className:"group border-b border-border last:border-b-0",children:[a.jsxs("summary",{className:"flex cursor-pointer list-none items-center gap-2 py-4 text-left font-medium text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-md px-1 -mx-1",children:[s?a.jsx(Sc,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}):a.jsx(Wn,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{children:t})]}),a.jsx("div",{className:"prose prose-invert prose-sm max-w-none pb-4 pl-6 text-muted-foreground",children:a.jsx("p",{className:"m-0 leading-relaxed",children:r})})]})}function AMe(){const{data:e,isLoading:t}=NMe(),r=kMe(),{data:n}=CMe("privacy"),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),d=(e==null?void 0:e.telemetry_opt_out)??!1,f=x.useCallback(b=>{l(b),i(!0)},[]),h=x.useCallback(()=>{o!==null&&r.mutate({telemetry_opt_out:o},{onSuccess:()=>l(null)})},[o,r]),m=(n==null?void 0:n.content)??WR.map(b=>`${b.title}

${b.content}`).join(`

`),g=n!=null&&n.content?[{id:"policy",title:"Full policy",content:n.content}]:WR,p=x.useCallback(()=>{const b=new Blob([m],{type:"text/plain;charset=utf-8"}),v=URL.createObjectURL(b),w=document.createElement("a");w.href=v,w.download="privacy-policy.txt",w.click(),URL.revokeObjectURL(v)},[m]),y=x.useCallback(()=>{const b=new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Privacy Policy - Clawgate</title><style>body{font-family:Inter,sans-serif;max-width:720px;margin:2rem auto;padding:0 1rem;line-height:1.6;color:#e2e8f0;} h1{font-size:1.75rem;} h2{font-size:1.25rem;margin-top:1.5rem;} p{white-space:pre-wrap;}</style></head><body><h1>Privacy Policy</h1><p>${m.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}</p></body></html>`],{type:"text/html;charset=utf-8"}),v=URL.createObjectURL(b);window.open(v,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(v),5e3)},[m]);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8 sm:px-6 animate-fade-in-up",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-[28px] font-semibold leading-tight text-foreground",children:"Privacy Policy"}),a.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"How we collect, store, and use your data. Clawgate is local-first; your data stays on your devices unless you use cloud-linked features."})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(ne,{children:[a.jsx(ae,{className:"text-lg",children:"Policy sections"}),a.jsx(we,{children:"Expand each section for details on data collection, storage, retention, and third-party services."})]}),a.jsx(Z,{className:"px-0 sm:px-6",children:a.jsx("div",{className:"divide-y-0",children:g.map((b,v)=>a.jsx(PMe,{id:b.id,title:b.title,content:b.content,defaultOpen:v===0},b.id))})})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(ne,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(ae,{className:"text-lg",children:"Opt-out controls"})]}),a.jsx(we,{children:"Manage your data collection preferences. Changes are saved to your account and reflected in Settings."})]}),a.jsxs(Z,{children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Y,{htmlFor:"telemetry-opt-out",className:"text-sm font-medium text-foreground",children:"Opt out of telemetry"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"When on, we do not send anonymous usage or diagnostic data from your account."})]}),a.jsx(xr,{id:"telemetry-opt-out",checked:d,onCheckedChange:f,disabled:t,"aria-describedby":"telemetry-opt-out-description"})]}),t&&a.jsx("p",{id:"telemetry-opt-out-description",className:"mt-2 text-xs text-muted-foreground",children:"Loading preferences"})]})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(ne,{children:[a.jsx(ae,{className:"text-lg",children:"Download policy"}),a.jsx(we,{children:"Save a copy for your records or open in a new tab to print or save as PDF."})]}),a.jsx(Z,{children:a.jsxs(E,{variant:"outline",onClick:()=>u(!0),className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Yr,{className:"h-4 w-4","aria-hidden":!0}),"Download Privacy Policy"]})})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx(E,{variant:"outline",asChild:!0,children:a.jsx(he,{to:"/",children:"Back to home"})}),a.jsxs("nav",{className:"flex flex-wrap gap-6",children:[a.jsx(he,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms of Service"}),a.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Help & support"})]})]})})]}),a.jsx(EMe,{open:s,onOpenChange:i,telemetryOptOut:o??d,onConfirm:h,isUpdating:r.isPending}),a.jsx(OMe,{open:c,onOpenChange:u,onDownload:p,onOpenInNewTab:y,title:"Download Privacy Policy",description:"Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."})]})}function TMe(){return a.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 animate-fade-in-up py-8",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Terms of Service"}),a.jsxs(X,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Terms of Service"})}),a.jsx(Z,{className:"prose prose-invert max-w-none text-sm text-muted-foreground",children:a.jsx("p",{children:"Full terms text. Accept/decline controls for cloud features. Document download."})})]}),a.jsx(E,{variant:"outline",asChild:!0,children:a.jsx(he,{to:"/",children:"Back"})})]})}async function RMe(e){var s;let t=q.from("marketplace_skills").select("*").order("created_at",{ascending:!1});if((e==null?void 0:e.status)!==void 0?t=t.eq("status",e.status):t=t.eq("status","active"),e!=null&&e.category&&(t=t.eq("category",e.category)),(s=e==null?void 0:e.search)!=null&&s.trim()){const i=e.search.trim();t=t.or(`name.ilike.%${i}%,description.ilike.%${i}%`)}const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]}async function MMe(e){const{data:t,error:r}=await q.from("marketplace_skills").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t}async function $Me(){const{data:{user:e}}=await q.auth.getUser();if(!e)return[];const{data:t,error:r}=await q.from("marketplace_transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function IMe(){const{data:{user:e}}=await q.auth.getUser();if(!e)return[];const{data:t,error:r}=await q.from("marketplace_licenses").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function DMe(e){return Se.post("/marketplace/checkout-session",e)}async function LMe(e){await Se.post("/marketplace/subscription/cancel",{subscription_id:e})}async function FMe(e,t){const{data:r,error:n}=await q.from("marketplace_licenses").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}function iC(e,t){return e().catch(()=>t)}const ua={all:["marketplace"],skills:e=>[...ua.all,"skills",e],skill:e=>[...ua.all,"skill",e],transactions:()=>[...ua.all,"transactions"],licenses:()=>[...ua.all,"licenses"]};function Z6(e){return Oe({queryKey:ua.skills(e),queryFn:()=>iC(()=>RMe(e),[])})}function UMe(e){return Oe({queryKey:ua.skill(e??""),queryFn:()=>e?MMe(e):Promise.resolve(null),enabled:!!e})}function BMe(){return Oe({queryKey:ua.transactions(),queryFn:()=>iC(()=>$Me(),[])})}function eq(){return Oe({queryKey:ua.licenses(),queryFn:()=>iC(()=>IMe(),[])})}function tq(){return ye({mutationFn:DMe,onSuccess:e=>{e!=null&&e.url?window.location.href=e.url:W.success("Checkout session created")},onError:e=>{W.error(e.message||"Failed to start checkout")}})}function qMe(){const e=be();return ye({mutationFn:LMe,onSuccess:()=>{e.invalidateQueries({queryKey:ua.transactions()}),e.invalidateQueries({queryKey:ua.licenses()}),W.success("Subscription cancelled")},onError:t=>{W.error(t.message||"Failed to cancel subscription")}})}function zMe(){const e=be();return ye({mutationFn:({id:t,data:r})=>FMe(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:ua.licenses()}),W.success("License updated")},onError:t=>{W.error(t.message||"Failed to update license")}})}function VR(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function WMe({open:e,onOpenChange:t,skill:r,mode:n,onConfirm:s,isSubmitting:i=!1}){if(!r)return null;const o=n==="subscription"?`${VR(r.price,r.currency)} / month`:VR(r.price,r.currency);return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Confirm purchase"}),a.jsx(Ie,{children:"You are about to purchase this skill. You will be redirected to secure checkout."})]}),a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsx("p",{className:"font-medium text-foreground",children:r.name}),r.description&&a.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:r.description}),a.jsx("p",{className:"mt-2 text-sm font-medium text-primary",children:o}),n==="subscription"&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Subscription; you can cancel anytime from your account."})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsxs(E,{onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(x4,{className:"mr-2 h-4 w-4"}),i?"Redirecting":"Continue to checkout"]})]})]})})}function rq({open:e,onOpenChange:t,title:r="Payment failed",message:n="Something went wrong while processing your payment. Please try again or use a different payment method.",onRetry:s}){return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"sm:max-w-[440px]",children:[a.jsxs(Me,{children:[a.jsxs($e,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(Ki,{className:"h-5 w-5"}),r]}),a.jsx(Ie,{children:n})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Close"}),s&&a.jsx(E,{onClick:s,className:"transition-transform hover:scale-[1.02]",children:"Try again"})]})]})})}function KR(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function VMe({skill:e,hasLicense:t,onPurchase:r}){const n=e.is_subscription?`${KR(e.price,e.currency)} / mo`:KR(e.price,e.currency);return a.jsx(X,{className:J("overflow-hidden transition-all duration-200 hover:shadow-card-hover hover:scale-[1.01]","border-border bg-card"),children:a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.image_url?a.jsx("div",{className:"h-32 w-full shrink-0 bg-secondary sm:h-auto sm:w-40",children:a.jsx("img",{src:e.image_url,alt:"",className:"h-full w-full object-cover"})}):a.jsx("div",{className:"flex h-32 w-full shrink-0 items-center justify-center bg-secondary/80 sm:h-auto sm:w-40",children:a.jsx(b4,{className:"h-10 w-10 text-muted-foreground"})}),a.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx(ae,{className:"text-lg",children:e.name}),e.category&&a.jsx(Ye,{variant:"secondary",className:"mt-1",children:e.category})]}),a.jsx("span",{className:"font-medium text-primary",children:n})]}),e.description&&a.jsx(we,{className:"mt-2 line-clamp-2",children:e.description}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t?a.jsx(Ye,{variant:"success",children:"Owned"}):a.jsxs(a.Fragment,{children:[a.jsxs(E,{size:"sm",onClick:()=>r(e,"one_time"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(dx,{className:"mr-1.5 h-4 w-4"}),"Purchase"]}),e.is_subscription&&a.jsxs(E,{size:"sm",variant:"outline",onClick:()=>r(e,"subscription"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(cx,{className:"mr-1.5 h-4 w-4"}),"Subscribe"]})]})})]})]})})}function KMe(){const[e,t]=x.useState(""),[r,n]=x.useState(),[s,i]=x.useState(null),[o,l]=x.useState("one_time"),[c,u]=x.useState(!1),{data:d=[],isLoading:f}=Z6({search:e.trim()||void 0,category:r}),{data:h=[]}=eq(),m=tq(),g=new Set(h.filter(v=>v.activation_status==="active").map(v=>v.skill_id)),p=(v,w)=>{i(v),l(w)},y=()=>{s&&m.mutate({skill_id:s.id,mode:o,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace`},{onError:()=>u(!0)})},b=Array.from(new Set(d.map(v=>v.category).filter(Boolean)));return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Marketplace"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse and purchase premium skills. One-time or subscription."})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(E,{variant:"outline",asChild:!0,children:a.jsxs(he,{to:"/marketplace/licenses",children:[a.jsx(Yh,{className:"mr-2 h-4 w-4"}),"My licenses"]})})})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Browse skills"}),a.jsx(we,{children:"Search and filter by category. Click Purchase or Subscribe to checkout."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{placeholder:"Search skills...",value:e,onChange:v=>t(v.target.value),className:"pl-9"})]}),a.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:r??"",onChange:v=>n(v.target.value?v.target.value:void 0),children:[a.jsx("option",{value:"",children:"All categories"}),b.map(v=>a.jsx("option",{value:v,children:v},v))]})]}),f?a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:[1,2,3].map(v=>a.jsx(de,{className:"h-32 rounded-lg"},v))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(dx,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No skills found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Try a different search or category, or check back later for new listings."})]}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:d.map(v=>a.jsx(VMe,{skill:v,hasLicense:g.has(v.id),onPurchase:p},v.id))})]})]}),a.jsx(WMe,{open:!!s,onOpenChange:v=>!v&&i(null),skill:s,mode:o,onConfirm:y,isSubmitting:m.isPending}),a.jsx(rq,{open:c,onOpenChange:u,onRetry:()=>{u(!1),s&&y()}})]})}const HMe=ht({email:je().email("Invalid email"),accept_terms:ti().refine(e=>e===!0,{message:"You must accept the terms to continue"})});function HR(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function GMe({skill:e,mode:t,onSubmit:r,isSubmitting:n=!1,defaultEmail:s=""}){const{register:i,handleSubmit:o,formState:{errors:l}}=dt({resolver:ft(HMe),defaultValues:{email:s,accept_terms:!1}});if(!e)return a.jsx(X,{children:a.jsx(Z,{className:"pt-6",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to checkout."})})});const c=t==="subscription"?`${HR(e.price,e.currency)} / month`:HR(e.price,e.currency);return a.jsxs("form",{onSubmit:o(r),className:"space-y-6",children:[a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Order summary"}),a.jsx(we,{children:"Review your selection before payment."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:e.name}),a.jsx("span",{className:"font-medium",children:c})]}),t==="subscription"&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be charged each billing period until you cancel."})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Contact"}),a.jsx(we,{children:"Receipt and updates will be sent to this email."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"checkout-email",children:"Email"}),a.jsx(ge,{id:"checkout-email",type:"email",placeholder:"you@example.com",className:"transition-colors focus-visible:ring-[rgb(var(--primary))]",...i("email")}),l.email&&a.jsx("p",{className:"text-sm text-destructive",children:l.email.message})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"checkout-terms",className:"h-4 w-4 rounded border-input focus:ring-[rgb(var(--primary))]",...i("accept_terms")}),a.jsxs(Y,{htmlFor:"checkout-terms",className:"text-sm font-normal",children:["I accept the"," ",a.jsx("a",{href:"/terms",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"/privacy",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]})]}),l.accept_terms&&a.jsx("p",{className:"text-sm text-destructive",children:l.accept_terms.message})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be redirected to our secure payment provider to complete the transaction. Your payment details are never stored on our servers."}),a.jsxs(E,{type:"submit",className:"w-full transition-transform hover:scale-[1.02]",disabled:n,children:[n?a.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(x4,{className:"mr-2 h-4 w-4"}),n?"Redirecting to checkout":"Proceed to payment"]})]})}function YMe(){const[e]=PI(),t=e.get("skillId")??"",r=e.get("mode")||"one_time",[n,s]=x.useState(!1),{data:i,isLoading:o}=UMe(t),l=tq(),c=u=>{t&&l.mutate({skill_id:t,mode:r,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace/checkout?skillId=${t}&mode=${r}`},{onError:()=>s(!0)})};return t?o?a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(de,{className:"h-8 w-48"}),a.jsx(de,{className:"h-64 w-full"})]}):a.jsxs("div",{className:"mx-auto max-w-2xl space-y-6 animate-fade-in-up",children:[a.jsx(E,{variant:"ghost",asChild:!0,children:a.jsxs(he,{to:"/marketplace",children:[a.jsx(Zu,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Checkout"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete your purchase. You will be redirected to secure payment."})]}),a.jsx(GMe,{skill:i??null,mode:r,onSubmit:c,isSubmitting:l.isPending}),a.jsx(rq,{open:n,onOpenChange:s,onRetry:()=>s(!1)})]}):a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(E,{variant:"ghost",asChild:!0,children:a.jsxs(he,{to:"/marketplace",children:[a.jsx(Zu,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsx(X,{children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-muted-foreground",children:"Select a skill from the marketplace to checkout."}),a.jsx(E,{asChild:!0,className:"mt-4",children:a.jsx(he,{to:"/marketplace",children:"Browse Marketplace"})})]})})]})}function QMe({open:e,onOpenChange:t,subscription:r,skillName:n="Skill",onCancelSubscription:s,isSubmitting:i=!1}){if(!r)return null;const o=r.status==="completed"&&r.stripe_subscription_id;return a.jsx(Le,{open:e,onOpenChange:t,children:a.jsxs(Re,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Manage subscription"}),a.jsxs(Ie,{children:["View and manage your subscription for ",n,"."]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx(Ye,{variant:r.status==="completed"?"success":"secondary",children:r.status})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Amount"}),a.jsx("span",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:r.currency.toUpperCase()}).format(r.amount)})]}),r.created_at&&a.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Started"}),a.jsx("span",{children:new Date(r.created_at).toLocaleDateString()})]})]}),o&&a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(cx,{className:"h-4 w-4"}),"Renewal and payment methods are managed in the checkout provider."]})]}),a.jsxs(Be,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Close"}),o&&a.jsxs(E,{variant:"destructive",onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Ki,{className:"mr-2 h-4 w-4"}),i?"Cancelling":"Cancel subscription"]})]})]})})}function XMe(){var m;const[e,t]=x.useState(null),{data:r=[],isLoading:n}=eq(),{data:s=[]}=Z6(),{data:i=[]}=BMe(),o=zMe(),l=qMe(),c=new Map(s.map(g=>[g.id,g])),u=new Map(i.map(g=>[g.id,g])),d=g=>{const p=g.activation_status==="active"?"inactive":"active";o.mutate({id:g.id,data:{activation_status:p}})},f=g=>{t(g)},h=g=>g.transaction_id?u.get(g.transaction_id):i.find(p=>p.skill_id===g.skill_id&&p.stripe_subscription_id&&p.status==="completed");return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"My licenses"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your purchased skill licenses and subscriptions."})]}),a.jsx(E,{variant:"outline",asChild:!0,children:a.jsxs(he,{to:"/marketplace",children:[a.jsx(Yh,{className:"mr-2 h-4 w-4"}),"Browse Marketplace"]})})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Licenses"}),a.jsx(we,{children:"Activate or deactivate licenses. Manage subscriptions from the action below."})]}),a.jsx(Z,{children:n?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(g=>a.jsx(de,{className:"h-16 w-full rounded-lg"},g))}):r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Yh,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No licenses yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Purchase a skill from the marketplace to see your licenses here."}),a.jsx(E,{asChild:!0,className:"mt-4",children:a.jsx(he,{to:"/marketplace",children:"Go to Marketplace"})})]}):a.jsx("ul",{className:"space-y-3",children:r.map(g=>{const p=c.get(g.skill_id),y=h(g),b=g.activation_status==="active";return a.jsxs("li",{className:J("flex flex-wrap items-center justify-between gap-4 rounded-lg border border-border p-4 transition-colors hover:bg-secondary/30",!b&&"opacity-75"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:(p==null?void 0:p.name)??"Unknown skill"}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[a.jsx(Ye,{variant:g.activation_status==="active"?"success":g.activation_status==="expired"?"destructive":"secondary",children:g.activation_status}),g.expiration_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",new Date(g.expiration_date).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(y==null?void 0:y.stripe_subscription_id)&&a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>f(y),children:[a.jsx(cx,{className:"mr-1.5 h-4 w-4"}),"Manage subscription"]}),g.activation_status!=="expired"&&a.jsx(E,{variant:"outline",size:"sm",onClick:()=>d(g),disabled:o.isPending,children:b?a.jsxs(a.Fragment,{children:[a.jsx(u7,{className:"mr-1.5 h-4 w-4"}),"Deactivate"]}):a.jsxs(a.Fragment,{children:[a.jsx(c7,{className:"mr-1.5 h-4 w-4"}),"Activate"]})})]})]},g.id)})})})]}),a.jsx(QMe,{open:!!e,onOpenChange:g=>!g&&t(null),subscription:e,skillName:e?(m=c.get(e.skill_id))==null?void 0:m.name:void 0,onCancelSubscription:()=>{e!=null&&e.stripe_subscription_id&&l.mutate(e.stripe_subscription_id,{onSettled:()=>t(null)})},isSubmitting:l.isPending})]})}async function JMe(e,t,r){try{const{data:{user:n}}=await q.auth.getUser(),s={error_code:"404",url_attempted:e,user_id:(n==null?void 0:n.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null)};await q.from("error_logs").insert(s)}catch{}}async function ZMe(e,t,r,n){try{const{data:{user:s}}=await q.auth.getUser(),i={error_code:"500",url_attempted:e,user_id:(s==null?void 0:s.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null),metadata:n??{}};await q.from("error_logs").insert(i)}catch{}}function GR(){const e=Ja(),t=e.pathname+e.search;x.useEffect(()=>{JMe(t,typeof document<"u"&&document.referrer||null,typeof navigator<"u"?navigator.userAgent:null)},[t]);const r=()=>{window.location.reload()};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(he,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-4",children:[a.jsx(he,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(E,{asChild:!0,size:"sm",children:a.jsx(he,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:J("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-muted/50",children:a.jsx(QH,{className:"h-12 w-12 text-muted-foreground","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"Oops! Page Not Found"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."}),t!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Attempted: ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:t})]})]}),a.jsx(X,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(Z,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(E,{onClick:r,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(zd,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(E,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(he,{to:"/",children:[a.jsx(h4,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsx(E,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(he,{to:"/dashboard",children:[a.jsx(GS,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsxs(he,{to:"/help",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(or,{className:"h-4 w-4"}),"Docs & support"]}),a.jsx("span",{className:"mx-2 text-muted-foreground/60",children:""}),a.jsx(he,{to:"/logs",className:"inline-flex items-center text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Logs & tracing"})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(he,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(he,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]})}async function e$e(e){var i;const{data:{user:t}}=await q.auth.getUser(),r={user_id:(t==null?void 0:t.id)??null,error_type:e.error_type.trim(),description:e.description.trim(),contact_email:((i=e.contact_email)==null?void 0:i.trim())||null,context:e.context??{}},{data:n,error:s}=await q.from("user_reports").insert(r).select("id").single();if(s)throw new Error(s.message);return{id:n.id}}const t$e=ht({description:je().min(10,"Please provide at least 10 characters describing what happened").max(2e3,"Description must be 2000 characters or less"),contact_email:je().max(255).optional().refine(e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),"Enter a valid email address"),comments:je().max(1e3).optional()}),x0={description:"",contact_email:"",comments:""};function r$e({open:e,onOpenChange:t,onSubmit:r,errorType:n="500",errorContext:s}){const{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=dt({resolver:ft(t$e),defaultValues:x0}),d=async h=>{var m,g;await r({error_type:n,description:h.description.trim(),contact_email:((m=h.contact_email)==null?void 0:m.trim())||null,context:{...s,comments:((g=h.comments)==null?void 0:g.trim())||void 0}}),l(x0),t(!1)},f=h=>{h||l(x0),t(h)};return a.jsx(Le,{open:e,onOpenChange:f,children:a.jsxs(Re,{className:"max-w-lg","aria-describedby":"report-issue-form-description",children:[a.jsxs(Me,{children:[a.jsx($e,{children:"Report an issue"}),a.jsx(Ie,{id:"report-issue-form-description",children:"Describe what happened so we can investigate. Your report helps us improve reliability."})]}),a.jsxs("form",{onSubmit:o(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"report-description",children:"What happened?"}),a.jsx("textarea",{id:"report-description",rows:4,placeholder:"e.g. I was on the dashboard and clicked Save; the page showed an error.",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("description"),"aria-invalid":!!c.description}),c.description&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.description.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"report-contact",children:"Contact email (optional)"}),a.jsx(ge,{id:"report-contact",type:"email",placeholder:"you@example.com",...i("contact_email"),className:c.contact_email?"border-destructive":"",autoComplete:"email","aria-invalid":!!c.contact_email}),c.contact_email&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.contact_email.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"report-comments",children:"Additional details (optional)"}),a.jsx("textarea",{id:"report-comments",rows:2,placeholder:"Any other context that might help",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("comments")})]}),a.jsxs(Be,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:u,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:u,children:u?"Sending":"Send report"})]})]})]})})}function n$e(){const e=Ja(),[t,r]=x.useState(!1),n=e.pathname+e.search,s=typeof document<"u"&&document.referrer||null,i=typeof navigator<"u"?navigator.userAgent:null;x.useEffect(()=>{ZMe(n,s,i,{path:n,referrer:s??void 0})},[n,s,i]);const o=()=>{window.location.reload()},l=async c=>{await e$e(c),W.success("Report sent",{description:"Thank you. Well use this to improve reliability."})};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(he,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex gap-4",children:[a.jsx(he,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(E,{asChild:!0,size:"sm",children:a.jsx(he,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:J("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(ol,{className:"h-12 w-12 text-destructive","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"500 Server Error"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"Something went wrong on our side. Weve been notified and are looking into it. You can retry, go back home, or report more details below."}),n!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Page:"," ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:n})]})]}),a.jsx(X,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(Z,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(E,{onClick:o,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(zd,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(E,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(he,{to:"/",children:[a.jsx(h4,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsxs(E,{variant:"default",onClick:()=>r(!0),className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Report this issue to support",children:[a.jsx(Jm,{className:"mr-2 h-4 w-4"}),"Report issue"]}),a.jsx(E,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(he,{to:"/dashboard",children:[a.jsx(GS,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Logs & security"}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-1 text-sm",children:[a.jsxs(he,{to:"/logs",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(or,{className:"h-4 w-4"}),"Logs & tracing"]}),a.jsxs(he,{to:"/security",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(Or,{className:"h-4 w-4"}),"Security audit"]})]})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(he,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(he,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})}),a.jsx(r$e,{open:t,onOpenChange:r,onSubmit:l,errorType:"500",errorContext:{url:n,referrer:s??void 0}})]})}const s$e=new uV({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});function a$e(){return a.jsxs(dV,{client:s$e,children:[a.jsx(MW,{children:a.jsx(LH,{children:a.jsx(WY,{children:a.jsxs(NW,{children:[a.jsx(xt,{path:"/",element:a.jsx(LZ,{})}),a.jsx(xt,{path:"/login",element:a.jsx(Kee,{})}),a.jsx(xt,{path:"/signup",element:a.jsx(Gee,{})}),a.jsx(xt,{path:"/forgot-password",element:a.jsx(Zee,{})}),a.jsx(xt,{path:"/verify-email",element:a.jsx(tte,{})}),a.jsx(xt,{path:"/download",element:a.jsx(ene,{})}),a.jsx(xt,{path:"/privacy",element:a.jsx(AMe,{})}),a.jsx(xt,{path:"/terms",element:a.jsx(TMe,{})}),a.jsx(xt,{path:"/500",element:a.jsx(n$e,{})}),a.jsxs(xt,{element:a.jsx(AZ,{}),children:[a.jsx(xt,{path:"/dashboard",element:a.jsx(cse,{})}),a.jsx(xt,{path:"/profile",element:a.jsx(FH,{}),children:a.jsx(xt,{index:!0,element:a.jsx(Zre,{})})}),a.jsx(xt,{path:"/chat",element:a.jsx(qse,{})}),a.jsx(xt,{path:"/channels",element:a.jsx(aae,{})}),a.jsx(xt,{path:"/skills",element:a.jsx(iae,{})}),a.jsx(xt,{path:"/skill-editor/:skillId?",element:a.jsx(wae,{})}),a.jsx(xt,{path:"/marketplace",element:a.jsx(KMe,{})}),a.jsx(xt,{path:"/marketplace/checkout",element:a.jsx(YMe,{})}),a.jsx(xt,{path:"/marketplace/licenses",element:a.jsx(XMe,{})}),a.jsx(xt,{path:"/nodes",element:a.jsx(zae,{})}),a.jsx(xt,{path:"/cron",element:a.jsx(Hae,{})}),a.jsx(xt,{path:"/webhooks",element:a.jsx(die,{})}),a.jsx(xt,{path:"/model-providers",element:a.jsx(fAe,{})}),a.jsx(xt,{path:"/browser",element:a.jsx(WAe,{})}),a.jsx(xt,{path:"/voice",element:a.jsx(hTe,{})}),a.jsx(xt,{path:"/secrets",element:a.jsx(CTe,{})}),a.jsx(xt,{path:"/settings",element:a.jsx(mTe,{})}),a.jsx(xt,{path:"/security",element:a.jsx(VTe,{})}),a.jsx(xt,{path:"/logs",element:a.jsx(oRe,{})}),a.jsx(xt,{path:"/admin",element:a.jsx(HRe,{})}),a.jsx(xt,{path:"/help",element:a.jsx(SMe,{})})]}),a.jsx(xt,{path:"/404",element:a.jsx(GR,{})}),a.jsx(xt,{path:"*",element:a.jsx(GR,{})})]})})})}),a.jsx(YV,{position:"top-right",richColors:!0,closeButton:!0})]})}const nq=document.getElementById("root");if(!nq)throw new Error("Root element not found");b0.createRoot(nq).render(a.jsx(P.StrictMode,{children:a.jsx(a$e,{})}));

var gk=e=>{throw TypeError(e)};var rb=(e,t,r)=>t.has(e)||gk("Cannot "+r);var L=(e,t,r)=>(rb(e,t,"read from private field"),r?r.call(e):t.get(e)),$e=(e,t,r)=>t.has(e)?gk("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ye=(e,t,r,n)=>(rb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),st=(e,t,r)=>(rb(e,t,"access private method"),r);var Vp=(e,t,r,n)=>({set _(s){ye(e,t,s,r)},get _(){return L(e,t,n)}});function OB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nR={exports:{}},cy={},sR={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=Symbol.for("react.element"),PB=Symbol.for("react.portal"),AB=Symbol.for("react.fragment"),TB=Symbol.for("react.strict_mode"),RB=Symbol.for("react.profiler"),$B=Symbol.for("react.provider"),MB=Symbol.for("react.context"),IB=Symbol.for("react.forward_ref"),DB=Symbol.for("react.suspense"),LB=Symbol.for("react.memo"),FB=Symbol.for("react.lazy"),vk=Symbol.iterator;function UB(e){return e===null||typeof e!="object"?null:(e=vk&&e[vk]||e["@@iterator"],typeof e=="function"?e:null)}var iR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aR=Object.assign,oR={};function gd(e,t,r){this.props=e,this.context=t,this.refs=oR,this.updater=r||iR}gd.prototype.isReactComponent={};gd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lR(){}lR.prototype=gd.prototype;function t1(e,t,r){this.props=e,this.context=t,this.refs=oR,this.updater=r||iR}var r1=t1.prototype=new lR;r1.constructor=t1;aR(r1,gd.prototype);r1.isPureReactComponent=!0;var yk=Array.isArray,cR=Object.prototype.hasOwnProperty,n1={current:null},uR={key:!0,ref:!0,__self:!0,__source:!0};function dR(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)cR.call(t,n)&&!uR.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:xp,type:e,key:i,ref:o,props:s,_owner:n1.current}}function BB(e,t){return{$$typeof:xp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function s1(e){return typeof e=="object"&&e!==null&&e.$$typeof===xp}function zB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xk=/\/+/g;function nb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zB(""+e.key):t.toString(36)}function Wm(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xp:case PB:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+nb(o,0):n,yk(s)?(r="",e!=null&&(r=e.replace(xk,"$&/")+"/"),Wm(s,t,r,"",function(u){return u})):s!=null&&(s1(s)&&(s=BB(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xk,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",yk(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+nb(i,l);o+=Wm(i,t,r,c,s)}else if(c=UB(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+nb(i,l++),o+=Wm(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Kp(e,t,r){if(e==null)return e;var n=[],s=0;return Wm(e,n,"","",function(i){return t.call(r,i,s++)}),n}function qB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xn={current:null},Vm={transition:null},WB={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:Vm,ReactCurrentOwner:n1};function fR(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:Kp,forEach:function(e,t,r){Kp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Kp(e,function(){t++}),t},toArray:function(e){return Kp(e,function(t){return t})||[]},only:function(e){if(!s1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ot.Component=gd;ot.Fragment=AB;ot.Profiler=RB;ot.PureComponent=t1;ot.StrictMode=TB;ot.Suspense=DB;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WB;ot.act=fR;ot.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=aR({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=n1.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)cR.call(t,c)&&!uR.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:xp,type:e.type,key:s,ref:i,props:n,_owner:o}};ot.createContext=function(e){return e={$$typeof:MB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$B,_context:e},e.Consumer=e};ot.createElement=dR;ot.createFactory=function(e){var t=dR.bind(null,e);return t.type=e,t};ot.createRef=function(){return{current:null}};ot.forwardRef=function(e){return{$$typeof:IB,render:e}};ot.isValidElement=s1;ot.lazy=function(e){return{$$typeof:FB,_payload:{_status:-1,_result:e},_init:qB}};ot.memo=function(e,t){return{$$typeof:LB,type:e,compare:t===void 0?null:t}};ot.startTransition=function(e){var t=Vm.transition;Vm.transition={};try{e()}finally{Vm.transition=t}};ot.unstable_act=fR;ot.useCallback=function(e,t){return xn.current.useCallback(e,t)};ot.useContext=function(e){return xn.current.useContext(e)};ot.useDebugValue=function(){};ot.useDeferredValue=function(e){return xn.current.useDeferredValue(e)};ot.useEffect=function(e,t){return xn.current.useEffect(e,t)};ot.useId=function(){return xn.current.useId()};ot.useImperativeHandle=function(e,t,r){return xn.current.useImperativeHandle(e,t,r)};ot.useInsertionEffect=function(e,t){return xn.current.useInsertionEffect(e,t)};ot.useLayoutEffect=function(e,t){return xn.current.useLayoutEffect(e,t)};ot.useMemo=function(e,t){return xn.current.useMemo(e,t)};ot.useReducer=function(e,t,r){return xn.current.useReducer(e,t,r)};ot.useRef=function(e){return xn.current.useRef(e)};ot.useState=function(e){return xn.current.useState(e)};ot.useSyncExternalStore=function(e,t,r){return xn.current.useSyncExternalStore(e,t,r)};ot.useTransition=function(){return xn.current.useTransition()};ot.version="18.3.1";sR.exports=ot;var x=sR.exports;const P=Lt(x),uy=OB({__proto__:null,default:P},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VB=x,HB=Symbol.for("react.element"),KB=Symbol.for("react.fragment"),GB=Object.prototype.hasOwnProperty,YB=VB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QB={key:!0,ref:!0,__self:!0,__source:!0};function hR(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)GB.call(t,n)&&!QB.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:HB,type:e,key:i,ref:o,props:s,_owner:YB.current}}cy.Fragment=KB;cy.jsx=hR;cy.jsxs=hR;nR.exports=cy;var a=nR.exports,Lw={},pR={exports:{}},ns={},mR={exports:{}},gR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,T){var R=F.length;F.push(T);e:for(;0<R;){var J=R-1>>>1,G=F[J];if(0<s(G,T))F[J]=T,F[R]=G,R=J;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var T=F[0],R=F.pop();if(R!==T){F[0]=R;e:for(var J=0,G=F.length,ie=G>>>1;J<ie;){var he=2*(J+1)-1,Le=F[he],Fe=he+1,ce=F[Fe];if(0>s(Le,R))Fe<G&&0>s(ce,Le)?(F[J]=ce,F[Fe]=R,J=Fe):(F[J]=Le,F[he]=R,J=he);else if(Fe<G&&0>s(ce,R))F[J]=ce,F[Fe]=R,J=Fe;else break e}}return T}function s(F,T){var R=F.sortIndex-T.sortIndex;return R!==0?R:F.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=F)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function S(F){if(m=!1,w(F),!g)if(r(c)!==null)g=!0,M(j);else{var T=r(u);T!==null&&z(S,T.startTime-F)}}function j(F,T){g=!1,m&&(m=!1,y(k),k=-1),p=!0;var R=h;try{for(w(T),f=r(c);f!==null&&(!(f.expirationTime>T)||F&&!I());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var G=J(f.expirationTime<=T);T=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),w(T)}else n(c);f=r(c)}if(f!==null)var ie=!0;else{var he=r(u);he!==null&&z(S,he.startTime-T),ie=!1}return ie}finally{f=null,h=R,p=!1}}var _=!1,N=null,k=-1,C=5,A=-1;function I(){return!(e.unstable_now()-A<C)}function O(){if(N!==null){var F=e.unstable_now();A=F;var T=!0;try{T=N(!0,F)}finally{T?U():(_=!1,N=null)}}else _=!1}var U;if(typeof b=="function")U=function(){b(O)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,B=E.port2;E.port1.onmessage=O,U=function(){B.postMessage(null)}}else U=function(){v(O,0)};function M(F){N=F,_||(_=!0,U())}function z(F,T){k=v(function(){F(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,M(j))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var R=h;h=T;try{return F()}finally{h=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,T){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var R=h;h=F;try{return T()}finally{h=R}},e.unstable_scheduleCallback=function(F,T,R){var J=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?J+R:J):R=J,F){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=R+G,F={id:d++,callback:T,priorityLevel:F,startTime:R,expirationTime:G,sortIndex:-1},R>J?(F.sortIndex=R,t(u,F),r(c)===null&&F===r(u)&&(m?(y(k),k=-1):m=!0,z(S,R-J))):(F.sortIndex=G,t(c,F),g||p||(g=!0,M(j))),F},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(F){var T=h;return function(){var R=h;h=T;try{return F.apply(this,arguments)}finally{h=R}}}})(gR);mR.exports=gR;var XB=mR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JB=x,Zn=XB;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vR=new Set,Yf={};function lc(e,t){Ou(e,t),Ou(e+"Capture",t)}function Ou(e,t){for(Yf[e]=t,e=0;e<t.length;e++)vR.add(t[e])}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fw=Object.prototype.hasOwnProperty,ZB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bk={},wk={};function e6(e){return Fw.call(wk,e)?!0:Fw.call(bk,e)?!1:ZB.test(e)?wk[e]=!0:(bk[e]=!0,!1)}function t6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r6(e,t,r,n){if(t===null||typeof t>"u"||t6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bn(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){en[e]=new bn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];en[t]=new bn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){en[e]=new bn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){en[e]=new bn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){en[e]=new bn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){en[e]=new bn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){en[e]=new bn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){en[e]=new bn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){en[e]=new bn(e,5,!1,e.toLowerCase(),null,!1,!1)});var i1=/[\-:]([a-z])/g;function a1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(i1,a1);en[t]=new bn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(i1,a1);en[t]=new bn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(i1,a1);en[t]=new bn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){en[e]=new bn(e,1,!1,e.toLowerCase(),null,!1,!1)});en.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){en[e]=new bn(e,1,!1,e.toLowerCase(),null,!0,!0)});function o1(e,t,r,n){var s=en.hasOwnProperty(t)?en[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r6(t,r,s,n)&&(r=null),n||s===null?e6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ea=JB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gp=Symbol.for("react.element"),Bc=Symbol.for("react.portal"),zc=Symbol.for("react.fragment"),l1=Symbol.for("react.strict_mode"),Uw=Symbol.for("react.profiler"),yR=Symbol.for("react.provider"),xR=Symbol.for("react.context"),c1=Symbol.for("react.forward_ref"),Bw=Symbol.for("react.suspense"),zw=Symbol.for("react.suspense_list"),u1=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),bR=Symbol.for("react.offscreen"),jk=Symbol.iterator;function Yd(e){return e===null||typeof e!="object"?null:(e=jk&&e[jk]||e["@@iterator"],typeof e=="function"?e:null)}var cr=Object.assign,sb;function wf(e){if(sb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sb=t&&t[1]||""}return`
`+sb+e}var ib=!1;function ab(e,t){if(!e||ib)return"";ib=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ib=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wf(e):""}function n6(e){switch(e.tag){case 5:return wf(e.type);case 16:return wf("Lazy");case 13:return wf("Suspense");case 19:return wf("SuspenseList");case 0:case 2:case 15:return e=ab(e.type,!1),e;case 11:return e=ab(e.type.render,!1),e;case 1:return e=ab(e.type,!0),e;default:return""}}function qw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zc:return"Fragment";case Bc:return"Portal";case Uw:return"Profiler";case l1:return"StrictMode";case Bw:return"Suspense";case zw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xR:return(e.displayName||"Context")+".Consumer";case yR:return(e._context.displayName||"Context")+".Provider";case c1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case u1:return t=e.displayName||null,t!==null?t:qw(e.type)||"Memo";case Ga:t=e._payload,e=e._init;try{return qw(e(t))}catch{}}return null}function s6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qw(t);case 8:return t===l1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ro(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function i6(e){var t=wR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yp(e){e._valueTracker||(e._valueTracker=i6(e))}function jR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=wR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function lg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ww(e,t){var r=t.checked;return cr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function _k(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ro(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _R(e,t){t=t.checked,t!=null&&o1(e,"checked",t,!1)}function Vw(e,t){_R(e,t);var r=Ro(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hw(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hw(e,t.type,Ro(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hw(e,t,r){(t!=="number"||lg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jf=Array.isArray;function nu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ro(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Kw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return cr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(oe(92));if(jf(r)){if(1<r.length)throw Error(oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ro(r)}}function SR(e,t){var r=Ro(t.value),n=Ro(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function kk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function NR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?NR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qp,kR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qp=Qp||document.createElement("div"),Qp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Af={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a6=["Webkit","ms","Moz","O"];Object.keys(Af).forEach(function(e){a6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Af[t]=Af[e]})});function CR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Af.hasOwnProperty(e)&&Af[e]?(""+t).trim():t+"px"}function ER(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=CR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var o6=cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yw(e,t){if(t){if(o6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function Qw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xw=null;function d1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jw=null,su=null,iu=null;function Ck(e){if(e=jp(e)){if(typeof Jw!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=my(t),Jw(e.stateNode,e.type,t))}}function OR(e){su?iu?iu.push(e):iu=[e]:su=e}function PR(){if(su){var e=su,t=iu;if(iu=su=null,Ck(e),t)for(e=0;e<t.length;e++)Ck(t[e])}}function AR(e,t){return e(t)}function TR(){}var ob=!1;function RR(e,t,r){if(ob)return e(t,r);ob=!0;try{return AR(e,t,r)}finally{ob=!1,(su!==null||iu!==null)&&(TR(),PR())}}function Xf(e,t){var r=e.stateNode;if(r===null)return null;var n=my(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(oe(231,t,typeof r));return r}var Zw=!1;if(ma)try{var Qd={};Object.defineProperty(Qd,"passive",{get:function(){Zw=!0}}),window.addEventListener("test",Qd,Qd),window.removeEventListener("test",Qd,Qd)}catch{Zw=!1}function l6(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Tf=!1,cg=null,ug=!1,e0=null,c6={onError:function(e){Tf=!0,cg=e}};function u6(e,t,r,n,s,i,o,l,c){Tf=!1,cg=null,l6.apply(c6,arguments)}function d6(e,t,r,n,s,i,o,l,c){if(u6.apply(this,arguments),Tf){if(Tf){var u=cg;Tf=!1,cg=null}else throw Error(oe(198));ug||(ug=!0,e0=u)}}function cc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $R(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ek(e){if(cc(e)!==e)throw Error(oe(188))}function f6(e){var t=e.alternate;if(!t){if(t=cc(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ek(s),e;if(i===n)return Ek(s),t;i=i.sibling}throw Error(oe(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(oe(189))}}if(r.alternate!==n)throw Error(oe(190))}if(r.tag!==3)throw Error(oe(188));return r.stateNode.current===r?e:t}function MR(e){return e=f6(e),e!==null?IR(e):null}function IR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=IR(e);if(t!==null)return t;e=e.sibling}return null}var DR=Zn.unstable_scheduleCallback,Ok=Zn.unstable_cancelCallback,h6=Zn.unstable_shouldYield,p6=Zn.unstable_requestPaint,mr=Zn.unstable_now,m6=Zn.unstable_getCurrentPriorityLevel,f1=Zn.unstable_ImmediatePriority,LR=Zn.unstable_UserBlockingPriority,dg=Zn.unstable_NormalPriority,g6=Zn.unstable_LowPriority,FR=Zn.unstable_IdlePriority,dy=null,Ci=null;function v6(e){if(Ci&&typeof Ci.onCommitFiberRoot=="function")try{Ci.onCommitFiberRoot(dy,e,void 0,(e.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:b6,y6=Math.log,x6=Math.LN2;function b6(e){return e>>>=0,e===0?32:31-(y6(e)/x6|0)|0}var Xp=64,Jp=4194304;function _f(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=_f(l):(i&=o,i!==0&&(n=_f(i)))}else o=r&~s,o!==0?n=_f(o):i!==0&&(n=_f(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ei(t),s=1<<r,n|=e[r],t&=~s;return n}function w6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j6(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ei(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=w6(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function t0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function UR(){var e=Xp;return Xp<<=1,!(Xp&4194240)&&(Xp=64),e}function lb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ei(t),e[t]=r}function _6(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ei(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function h1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ei(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var At=0;function BR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zR,p1,qR,WR,VR,r0=!1,Zp=[],bo=null,wo=null,jo=null,Jf=new Map,Zf=new Map,Za=[],S6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pk(e,t){switch(e){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Jf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zf.delete(t.pointerId)}}function Xd(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=jp(t),t!==null&&p1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function N6(e,t,r,n,s){switch(t){case"focusin":return bo=Xd(bo,e,t,r,n,s),!0;case"dragenter":return wo=Xd(wo,e,t,r,n,s),!0;case"mouseover":return jo=Xd(jo,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Jf.set(i,Xd(Jf.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Zf.set(i,Xd(Zf.get(i)||null,e,t,r,n,s)),!0}return!1}function HR(e){var t=vl(e.target);if(t!==null){var r=cc(t);if(r!==null){if(t=r.tag,t===13){if(t=$R(r),t!==null){e.blockedOn=t,VR(e.priority,function(){qR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=n0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Xw=n,r.target.dispatchEvent(n),Xw=null}else return t=jp(r),t!==null&&p1(t),e.blockedOn=r,!1;t.shift()}return!0}function Ak(e,t,r){Hm(e)&&r.delete(t)}function k6(){r0=!1,bo!==null&&Hm(bo)&&(bo=null),wo!==null&&Hm(wo)&&(wo=null),jo!==null&&Hm(jo)&&(jo=null),Jf.forEach(Ak),Zf.forEach(Ak)}function Jd(e,t){e.blockedOn===t&&(e.blockedOn=null,r0||(r0=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,k6)))}function eh(e){function t(s){return Jd(s,e)}if(0<Zp.length){Jd(Zp[0],e);for(var r=1;r<Zp.length;r++){var n=Zp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(bo!==null&&Jd(bo,e),wo!==null&&Jd(wo,e),jo!==null&&Jd(jo,e),Jf.forEach(t),Zf.forEach(t),r=0;r<Za.length;r++)n=Za[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Za.length&&(r=Za[0],r.blockedOn===null);)HR(r),r.blockedOn===null&&Za.shift()}var au=Ea.ReactCurrentBatchConfig,hg=!0;function C6(e,t,r,n){var s=At,i=au.transition;au.transition=null;try{At=1,m1(e,t,r,n)}finally{At=s,au.transition=i}}function E6(e,t,r,n){var s=At,i=au.transition;au.transition=null;try{At=4,m1(e,t,r,n)}finally{At=s,au.transition=i}}function m1(e,t,r,n){if(hg){var s=n0(e,t,r,n);if(s===null)yb(e,t,n,pg,r),Pk(e,n);else if(N6(s,e,t,r,n))n.stopPropagation();else if(Pk(e,n),t&4&&-1<S6.indexOf(e)){for(;s!==null;){var i=jp(s);if(i!==null&&zR(i),i=n0(e,t,r,n),i===null&&yb(e,t,n,pg,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else yb(e,t,n,null,r)}}var pg=null;function n0(e,t,r,n){if(pg=null,e=d1(n),e=vl(e),e!==null)if(t=cc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$R(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pg=e,null}function KR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m6()){case f1:return 1;case LR:return 4;case dg:case g6:return 16;case FR:return 536870912;default:return 16}default:return 16}}var po=null,g1=null,Km=null;function GR(){if(Km)return Km;var e,t=g1,r=t.length,n,s="value"in po?po.value:po.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Km=s.slice(e,1<n?1-n:void 0)}function Gm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function em(){return!0}function Tk(){return!1}function ss(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?em:Tk,this.isPropagationStopped=Tk,this}return cr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=em)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=em)},persist:function(){},isPersistent:em}),t}var vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v1=ss(vd),wp=cr({},vd,{view:0,detail:0}),O6=ss(wp),cb,ub,Zd,fy=cr({},wp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zd&&(Zd&&e.type==="mousemove"?(cb=e.screenX-Zd.screenX,ub=e.screenY-Zd.screenY):ub=cb=0,Zd=e),cb)},movementY:function(e){return"movementY"in e?e.movementY:ub}}),Rk=ss(fy),P6=cr({},fy,{dataTransfer:0}),A6=ss(P6),T6=cr({},wp,{relatedTarget:0}),db=ss(T6),R6=cr({},vd,{animationName:0,elapsedTime:0,pseudoElement:0}),$6=ss(R6),M6=cr({},vd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),I6=ss(M6),D6=cr({},vd,{data:0}),$k=ss(D6),L6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=U6[e])?!!t[e]:!1}function y1(){return B6}var z6=cr({},wp,{key:function(e){if(e.key){var t=L6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?F6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y1,charCode:function(e){return e.type==="keypress"?Gm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),q6=ss(z6),W6=cr({},fy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mk=ss(W6),V6=cr({},wp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y1}),H6=ss(V6),K6=cr({},vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),G6=ss(K6),Y6=cr({},fy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q6=ss(Y6),X6=[9,13,27,32],x1=ma&&"CompositionEvent"in window,Rf=null;ma&&"documentMode"in document&&(Rf=document.documentMode);var J6=ma&&"TextEvent"in window&&!Rf,YR=ma&&(!x1||Rf&&8<Rf&&11>=Rf),Ik=" ",Dk=!1;function QR(e,t){switch(e){case"keyup":return X6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qc=!1;function Z6(e,t){switch(e){case"compositionend":return XR(t);case"keypress":return t.which!==32?null:(Dk=!0,Ik);case"textInput":return e=t.data,e===Ik&&Dk?null:e;default:return null}}function e8(e,t){if(qc)return e==="compositionend"||!x1&&QR(e,t)?(e=GR(),Km=g1=po=null,qc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return YR&&t.locale!=="ko"?null:t.data;default:return null}}var t8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!t8[e.type]:t==="textarea"}function JR(e,t,r,n){OR(n),t=mg(t,"onChange"),0<t.length&&(r=new v1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $f=null,th=null;function r8(e){c$(e,0)}function hy(e){var t=Hc(e);if(jR(t))return e}function n8(e,t){if(e==="change")return t}var ZR=!1;if(ma){var fb;if(ma){var hb="oninput"in document;if(!hb){var Fk=document.createElement("div");Fk.setAttribute("oninput","return;"),hb=typeof Fk.oninput=="function"}fb=hb}else fb=!1;ZR=fb&&(!document.documentMode||9<document.documentMode)}function Uk(){$f&&($f.detachEvent("onpropertychange",e$),th=$f=null)}function e$(e){if(e.propertyName==="value"&&hy(th)){var t=[];JR(t,th,e,d1(e)),RR(r8,t)}}function s8(e,t,r){e==="focusin"?(Uk(),$f=t,th=r,$f.attachEvent("onpropertychange",e$)):e==="focusout"&&Uk()}function i8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hy(th)}function a8(e,t){if(e==="click")return hy(t)}function o8(e,t){if(e==="input"||e==="change")return hy(t)}function l8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ni=typeof Object.is=="function"?Object.is:l8;function rh(e,t){if(ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Fw.call(t,s)||!ni(e[s],t[s]))return!1}return!0}function Bk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zk(e,t){var r=Bk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bk(r)}}function t$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?t$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function r$(){for(var e=window,t=lg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=lg(e.document)}return t}function b1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function c8(e){var t=r$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&t$(r.ownerDocument.documentElement,r)){if(n!==null&&b1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=zk(r,i);var o=zk(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var u8=ma&&"documentMode"in document&&11>=document.documentMode,Wc=null,s0=null,Mf=null,i0=!1;function qk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;i0||Wc==null||Wc!==lg(n)||(n=Wc,"selectionStart"in n&&b1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Mf&&rh(Mf,n)||(Mf=n,n=mg(s0,"onSelect"),0<n.length&&(t=new v1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Wc)))}function tm(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vc={animationend:tm("Animation","AnimationEnd"),animationiteration:tm("Animation","AnimationIteration"),animationstart:tm("Animation","AnimationStart"),transitionend:tm("Transition","TransitionEnd")},pb={},n$={};ma&&(n$=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);function py(e){if(pb[e])return pb[e];if(!Vc[e])return e;var t=Vc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in n$)return pb[e]=t[r];return e}var s$=py("animationend"),i$=py("animationiteration"),a$=py("animationstart"),o$=py("transitionend"),l$=new Map,Wk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(e,t){l$.set(e,t),lc(t,[e])}for(var mb=0;mb<Wk.length;mb++){var gb=Wk[mb],d8=gb.toLowerCase(),f8=gb[0].toUpperCase()+gb.slice(1);zo(d8,"on"+f8)}zo(s$,"onAnimationEnd");zo(i$,"onAnimationIteration");zo(a$,"onAnimationStart");zo("dblclick","onDoubleClick");zo("focusin","onFocus");zo("focusout","onBlur");zo(o$,"onTransitionEnd");Ou("onMouseEnter",["mouseout","mouseover"]);Ou("onMouseLeave",["mouseout","mouseover"]);Ou("onPointerEnter",["pointerout","pointerover"]);Ou("onPointerLeave",["pointerout","pointerover"]);lc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lc("onBeforeInput",["compositionend","keypress","textInput","paste"]);lc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sf));function Vk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,d6(n,t,void 0,e),e.currentTarget=null}function c$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Vk(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Vk(s,l,u),i=c}}}if(ug)throw e=e0,ug=!1,e0=null,e}function Yt(e,t){var r=t[u0];r===void 0&&(r=t[u0]=new Set);var n=e+"__bubble";r.has(n)||(u$(t,e,2,!1),r.add(n))}function vb(e,t,r){var n=0;t&&(n|=4),u$(r,e,n,t)}var rm="_reactListening"+Math.random().toString(36).slice(2);function nh(e){if(!e[rm]){e[rm]=!0,vR.forEach(function(r){r!=="selectionchange"&&(h8.has(r)||vb(r,!1,e),vb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rm]||(t[rm]=!0,vb("selectionchange",!1,t))}}function u$(e,t,r,n){switch(KR(t)){case 1:var s=C6;break;case 4:s=E6;break;default:s=m1}r=s.bind(null,t,r,e),s=void 0,!Zw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function yb(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=vl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}RR(function(){var u=i,d=d1(r),f=[];e:{var h=l$.get(e);if(h!==void 0){var p=v1,g=e;switch(e){case"keypress":if(Gm(r)===0)break e;case"keydown":case"keyup":p=q6;break;case"focusin":g="focus",p=db;break;case"focusout":g="blur",p=db;break;case"beforeblur":case"afterblur":p=db;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=A6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=H6;break;case s$:case i$:case a$:p=$6;break;case o$:p=G6;break;case"scroll":p=O6;break;case"wheel":p=Q6;break;case"copy":case"cut":case"paste":p=I6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Mk}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var b=u,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=Xf(b,y),S!=null&&m.push(sh(b,S,w)))),v)break;b=b.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Xw&&(g=r.relatedTarget||r.fromElement)&&(vl(g)||g[ga]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?vl(g):null,g!==null&&(v=cc(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=Rk,S="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=Mk,S="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?h:Hc(p),w=g==null?h:Hc(g),h=new m(S,b+"leave",p,r,d),h.target=v,h.relatedTarget=w,S=null,vl(d)===u&&(m=new m(y,b+"enter",g,r,d),m.target=w,m.relatedTarget=v,S=m),v=S,p&&g)t:{for(m=p,y=g,b=0,w=m;w;w=bc(w))b++;for(w=0,S=y;S;S=bc(S))w++;for(;0<b-w;)m=bc(m),b--;for(;0<w-b;)y=bc(y),w--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=bc(m),y=bc(y)}m=null}else m=null;p!==null&&Hk(f,h,p,m,!1),g!==null&&v!==null&&Hk(f,v,g,m,!0)}}e:{if(h=u?Hc(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=n8;else if(Lk(h))if(ZR)j=o8;else{j=i8;var _=s8}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=a8);if(j&&(j=j(e,u))){JR(f,j,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Hw(h,"number",h.value)}switch(_=u?Hc(u):window,e){case"focusin":(Lk(_)||_.contentEditable==="true")&&(Wc=_,s0=u,Mf=null);break;case"focusout":Mf=s0=Wc=null;break;case"mousedown":i0=!0;break;case"contextmenu":case"mouseup":case"dragend":i0=!1,qk(f,r,d);break;case"selectionchange":if(u8)break;case"keydown":case"keyup":qk(f,r,d)}var N;if(x1)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qc?QR(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(YR&&r.locale!=="ko"&&(qc||k!=="onCompositionStart"?k==="onCompositionEnd"&&qc&&(N=GR()):(po=d,g1="value"in po?po.value:po.textContent,qc=!0)),_=mg(u,k),0<_.length&&(k=new $k(k,e,null,r,d),f.push({event:k,listeners:_}),N?k.data=N:(N=XR(r),N!==null&&(k.data=N)))),(N=J6?Z6(e,r):e8(e,r))&&(u=mg(u,"onBeforeInput"),0<u.length&&(d=new $k("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}c$(f,t)})}function sh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mg(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xf(e,r),i!=null&&n.unshift(sh(e,i,s)),i=Xf(e,t),i!=null&&n.push(sh(e,i,s))),e=e.return}return n}function bc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hk(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Xf(r,i),c!=null&&o.unshift(sh(r,c,l))):s||(c=Xf(r,i),c!=null&&o.push(sh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var p8=/\r\n?/g,m8=/\u0000|\uFFFD/g;function Kk(e){return(typeof e=="string"?e:""+e).replace(p8,`
`).replace(m8,"")}function nm(e,t,r){if(t=Kk(t),Kk(e)!==t&&r)throw Error(oe(425))}function gg(){}var a0=null,o0=null;function l0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var c0=typeof setTimeout=="function"?setTimeout:void 0,g8=typeof clearTimeout=="function"?clearTimeout:void 0,Gk=typeof Promise=="function"?Promise:void 0,v8=typeof queueMicrotask=="function"?queueMicrotask:typeof Gk<"u"?function(e){return Gk.resolve(null).then(e).catch(y8)}:c0;function y8(e){setTimeout(function(){throw e})}function xb(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),eh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);eh(t)}function _o(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var yd=Math.random().toString(36).slice(2),ji="__reactFiber$"+yd,ih="__reactProps$"+yd,ga="__reactContainer$"+yd,u0="__reactEvents$"+yd,x8="__reactListeners$"+yd,b8="__reactHandles$"+yd;function vl(e){var t=e[ji];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ga]||r[ji]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Yk(e);e!==null;){if(r=e[ji])return r;e=Yk(e)}return t}e=r,r=e.parentNode}return null}function jp(e){return e=e[ji]||e[ga],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function my(e){return e[ih]||null}var d0=[],Kc=-1;function qo(e){return{current:e}}function Jt(e){0>Kc||(e.current=d0[Kc],d0[Kc]=null,Kc--)}function Wt(e,t){Kc++,d0[Kc]=e.current,e.current=t}var $o={},dn=qo($o),$n=qo(!1),Bl=$o;function Pu(e,t){var r=e.type.contextTypes;if(!r)return $o;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Mn(e){return e=e.childContextTypes,e!=null}function vg(){Jt($n),Jt(dn)}function Qk(e,t,r){if(dn.current!==$o)throw Error(oe(168));Wt(dn,t),Wt($n,r)}function d$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(oe(108,s6(e)||"Unknown",s));return cr({},r,n)}function yg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$o,Bl=dn.current,Wt(dn,e),Wt($n,$n.current),!0}function Xk(e,t,r){var n=e.stateNode;if(!n)throw Error(oe(169));r?(e=d$(e,t,Bl),n.__reactInternalMemoizedMergedChildContext=e,Jt($n),Jt(dn),Wt(dn,e)):Jt($n),Wt($n,r)}var Xi=null,gy=!1,bb=!1;function f$(e){Xi===null?Xi=[e]:Xi.push(e)}function w8(e){gy=!0,f$(e)}function Wo(){if(!bb&&Xi!==null){bb=!0;var e=0,t=At;try{var r=Xi;for(At=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Xi=null,gy=!1}catch(s){throw Xi!==null&&(Xi=Xi.slice(e+1)),DR(f1,Wo),s}finally{At=t,bb=!1}}return null}var Gc=[],Yc=0,xg=null,bg=0,ds=[],fs=0,zl=null,ra=1,na="";function ol(e,t){Gc[Yc++]=bg,Gc[Yc++]=xg,xg=e,bg=t}function h$(e,t,r){ds[fs++]=ra,ds[fs++]=na,ds[fs++]=zl,zl=e;var n=ra;e=na;var s=32-ei(n)-1;n&=~(1<<s),r+=1;var i=32-ei(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ra=1<<32-ei(t)+s|r<<s|n,na=i+e}else ra=1<<i|r<<s|n,na=e}function w1(e){e.return!==null&&(ol(e,1),h$(e,1,0))}function j1(e){for(;e===xg;)xg=Gc[--Yc],Gc[Yc]=null,bg=Gc[--Yc],Gc[Yc]=null;for(;e===zl;)zl=ds[--fs],ds[fs]=null,na=ds[--fs],ds[fs]=null,ra=ds[--fs],ds[fs]=null}var Qn=null,Yn=null,tr=!1,Ks=null;function p$(e,t){var r=ps(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Jk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qn=e,Yn=_o(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qn=e,Yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zl!==null?{id:ra,overflow:na}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ps(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qn=e,Yn=null,!0):!1;default:return!1}}function f0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function h0(e){if(tr){var t=Yn;if(t){var r=t;if(!Jk(e,t)){if(f0(e))throw Error(oe(418));t=_o(r.nextSibling);var n=Qn;t&&Jk(e,t)?p$(n,r):(e.flags=e.flags&-4097|2,tr=!1,Qn=e)}}else{if(f0(e))throw Error(oe(418));e.flags=e.flags&-4097|2,tr=!1,Qn=e}}}function Zk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qn=e}function sm(e){if(e!==Qn)return!1;if(!tr)return Zk(e),tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!l0(e.type,e.memoizedProps)),t&&(t=Yn)){if(f0(e))throw m$(),Error(oe(418));for(;t;)p$(e,t),t=_o(t.nextSibling)}if(Zk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yn=_o(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yn=null}}else Yn=Qn?_o(e.stateNode.nextSibling):null;return!0}function m$(){for(var e=Yn;e;)e=_o(e.nextSibling)}function Au(){Yn=Qn=null,tr=!1}function _1(e){Ks===null?Ks=[e]:Ks.push(e)}var j8=Ea.ReactCurrentBatchConfig;function ef(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(oe(309));var n=r.stateNode}if(!n)throw Error(oe(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(oe(284));if(!r._owner)throw Error(oe(290,e))}return e}function im(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eC(e){var t=e._init;return t(e._payload)}function g$(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function s(y,b){return y=Co(y,b),y.index=0,y.sibling=null,y}function i(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,w,S){return b===null||b.tag!==6?(b=Cb(w,y.mode,S),b.return=y,b):(b=s(b,w),b.return=y,b)}function c(y,b,w,S){var j=w.type;return j===zc?d(y,b,w.props.children,S,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ga&&eC(j)===b.type)?(S=s(b,w.props),S.ref=ef(y,b,w),S.return=y,S):(S=tg(w.type,w.key,w.props,null,y.mode,S),S.ref=ef(y,b,w),S.return=y,S)}function u(y,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Eb(w,y.mode,S),b.return=y,b):(b=s(b,w.children||[]),b.return=y,b)}function d(y,b,w,S,j){return b===null||b.tag!==7?(b=Ll(w,y.mode,S,j),b.return=y,b):(b=s(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Cb(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gp:return w=tg(b.type,b.key,b.props,null,y.mode,w),w.ref=ef(y,null,b),w.return=y,w;case Bc:return b=Eb(b,y.mode,w),b.return=y,b;case Ga:var S=b._init;return f(y,S(b._payload),w)}if(jf(b)||Yd(b))return b=Ll(b,y.mode,w,null),b.return=y,b;im(y,b)}return null}function h(y,b,w,S){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(y,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gp:return w.key===j?c(y,b,w,S):null;case Bc:return w.key===j?u(y,b,w,S):null;case Ga:return j=w._init,h(y,b,j(w._payload),S)}if(jf(w)||Yd(w))return j!==null?null:d(y,b,w,S,null);im(y,w)}return null}function p(y,b,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,l(b,y,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Gp:return y=y.get(S.key===null?w:S.key)||null,c(b,y,S,j);case Bc:return y=y.get(S.key===null?w:S.key)||null,u(b,y,S,j);case Ga:var _=S._init;return p(y,b,w,_(S._payload),j)}if(jf(S)||Yd(S))return y=y.get(w)||null,d(b,y,S,j,null);im(b,S)}return null}function g(y,b,w,S){for(var j=null,_=null,N=b,k=b=0,C=null;N!==null&&k<w.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var A=h(y,N,w[k],S);if(A===null){N===null&&(N=C);break}e&&N&&A.alternate===null&&t(y,N),b=i(A,b,k),_===null?j=A:_.sibling=A,_=A,N=C}if(k===w.length)return r(y,N),tr&&ol(y,k),j;if(N===null){for(;k<w.length;k++)N=f(y,w[k],S),N!==null&&(b=i(N,b,k),_===null?j=N:_.sibling=N,_=N);return tr&&ol(y,k),j}for(N=n(y,N);k<w.length;k++)C=p(N,y,k,w[k],S),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),b=i(C,b,k),_===null?j=C:_.sibling=C,_=C);return e&&N.forEach(function(I){return t(y,I)}),tr&&ol(y,k),j}function m(y,b,w,S){var j=Yd(w);if(typeof j!="function")throw Error(oe(150));if(w=j.call(w),w==null)throw Error(oe(151));for(var _=j=null,N=b,k=b=0,C=null,A=w.next();N!==null&&!A.done;k++,A=w.next()){N.index>k?(C=N,N=null):C=N.sibling;var I=h(y,N,A.value,S);if(I===null){N===null&&(N=C);break}e&&N&&I.alternate===null&&t(y,N),b=i(I,b,k),_===null?j=I:_.sibling=I,_=I,N=C}if(A.done)return r(y,N),tr&&ol(y,k),j;if(N===null){for(;!A.done;k++,A=w.next())A=f(y,A.value,S),A!==null&&(b=i(A,b,k),_===null?j=A:_.sibling=A,_=A);return tr&&ol(y,k),j}for(N=n(y,N);!A.done;k++,A=w.next())A=p(N,y,k,A.value,S),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?k:A.key),b=i(A,b,k),_===null?j=A:_.sibling=A,_=A);return e&&N.forEach(function(O){return t(y,O)}),tr&&ol(y,k),j}function v(y,b,w,S){if(typeof w=="object"&&w!==null&&w.type===zc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gp:e:{for(var j=w.key,_=b;_!==null;){if(_.key===j){if(j=w.type,j===zc){if(_.tag===7){r(y,_.sibling),b=s(_,w.props.children),b.return=y,y=b;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ga&&eC(j)===_.type){r(y,_.sibling),b=s(_,w.props),b.ref=ef(y,_,w),b.return=y,y=b;break e}r(y,_);break}else t(y,_);_=_.sibling}w.type===zc?(b=Ll(w.props.children,y.mode,S,w.key),b.return=y,y=b):(S=tg(w.type,w.key,w.props,null,y.mode,S),S.ref=ef(y,b,w),S.return=y,y=S)}return o(y);case Bc:e:{for(_=w.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=s(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=Eb(w,y.mode,S),b.return=y,y=b}return o(y);case Ga:return _=w._init,v(y,b,_(w._payload),S)}if(jf(w))return g(y,b,w,S);if(Yd(w))return m(y,b,w,S);im(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=s(b,w),b.return=y,y=b):(r(y,b),b=Cb(w,y.mode,S),b.return=y,y=b),o(y)):r(y,b)}return v}var Tu=g$(!0),v$=g$(!1),wg=qo(null),jg=null,Qc=null,S1=null;function N1(){S1=Qc=jg=null}function k1(e){var t=wg.current;Jt(wg),e._currentValue=t}function p0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ou(e,t){jg=e,S1=Qc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pn=!0),e.firstContext=null)}function bs(e){var t=e._currentValue;if(S1!==e)if(e={context:e,memoizedValue:t,next:null},Qc===null){if(jg===null)throw Error(oe(308));Qc=e,jg.dependencies={lanes:0,firstContext:e}}else Qc=Qc.next=e;return t}var yl=null;function C1(e){yl===null?yl=[e]:yl.push(e)}function y$(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,C1(t)):(r.next=s.next,s.next=r),t.interleaved=r,va(e,n)}function va(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ya=!1;function E1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function So(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ft&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,va(e,r)}return s=n.interleaved,s===null?(t.next=t,C1(n)):(t.next=s.next,s.next=t),n.interleaved=t,va(e,r)}function Ym(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,h1(e,r)}}function tC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _g(e,t,r,n){var s=e.updateQueue;Ya=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=cr({},f,h);break e;case 2:Ya=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Wl|=o,e.lanes=o,e.memoizedState=f}}function rC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(oe(191,s));s.call(n)}}}var _p={},Ei=qo(_p),ah=qo(_p),oh=qo(_p);function xl(e){if(e===_p)throw Error(oe(174));return e}function O1(e,t){switch(Wt(oh,t),Wt(ah,e),Wt(Ei,_p),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gw(t,e)}Jt(Ei),Wt(Ei,t)}function Ru(){Jt(Ei),Jt(ah),Jt(oh)}function b$(e){xl(oh.current);var t=xl(Ei.current),r=Gw(t,e.type);t!==r&&(Wt(ah,e),Wt(Ei,r))}function P1(e){ah.current===e&&(Jt(Ei),Jt(ah))}var sr=qo(0);function Sg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wb=[];function A1(){for(var e=0;e<wb.length;e++)wb[e]._workInProgressVersionPrimary=null;wb.length=0}var Qm=Ea.ReactCurrentDispatcher,jb=Ea.ReactCurrentBatchConfig,ql=0,or=null,Ar=null,Br=null,Ng=!1,If=!1,lh=0,_8=0;function rn(){throw Error(oe(321))}function T1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ni(e[r],t[r]))return!1;return!0}function R1(e,t,r,n,s,i){if(ql=i,or=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qm.current=e===null||e.memoizedState===null?C8:E8,e=r(n,s),If){i=0;do{if(If=!1,lh=0,25<=i)throw Error(oe(301));i+=1,Br=Ar=null,t.updateQueue=null,Qm.current=O8,e=r(n,s)}while(If)}if(Qm.current=kg,t=Ar!==null&&Ar.next!==null,ql=0,Br=Ar=or=null,Ng=!1,t)throw Error(oe(300));return e}function $1(){var e=lh!==0;return lh=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?or.memoizedState=Br=e:Br=Br.next=e,Br}function ws(){if(Ar===null){var e=or.alternate;e=e!==null?e.memoizedState:null}else e=Ar.next;var t=Br===null?or.memoizedState:Br.next;if(t!==null)Br=t,Ar=e;else{if(e===null)throw Error(oe(310));Ar=e,e={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Br===null?or.memoizedState=Br=e:Br=Br.next=e}return Br}function ch(e,t){return typeof t=="function"?t(e):t}function _b(e){var t=ws(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=Ar,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ql&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,or.lanes|=d,Wl|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ni(n,t.memoizedState)||(Pn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,or.lanes|=i,Wl|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Sb(e){var t=ws(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ni(i,t.memoizedState)||(Pn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function w$(){}function j$(e,t){var r=or,n=ws(),s=t(),i=!ni(n.memoizedState,s);if(i&&(n.memoizedState=s,Pn=!0),n=n.queue,M1(N$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Br!==null&&Br.memoizedState.tag&1){if(r.flags|=2048,uh(9,S$.bind(null,r,n,s,t),void 0,null),qr===null)throw Error(oe(349));ql&30||_$(r,t,s)}return s}function _$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=or.updateQueue,t===null?(t={lastEffect:null,stores:null},or.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function S$(e,t,r,n){t.value=r,t.getSnapshot=n,k$(t)&&C$(e)}function N$(e,t,r){return r(function(){k$(t)&&C$(e)})}function k$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ni(e,r)}catch{return!0}}function C$(e){var t=va(e,1);t!==null&&ti(t,e,1,-1)}function nC(e){var t=gi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ch,lastRenderedState:e},t.queue=e,e=e.dispatch=k8.bind(null,or,e),[t.memoizedState,e]}function uh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=or.updateQueue,t===null?(t={lastEffect:null,stores:null},or.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function E$(){return ws().memoizedState}function Xm(e,t,r,n){var s=gi();or.flags|=e,s.memoizedState=uh(1|t,r,void 0,n===void 0?null:n)}function vy(e,t,r,n){var s=ws();n=n===void 0?null:n;var i=void 0;if(Ar!==null){var o=Ar.memoizedState;if(i=o.destroy,n!==null&&T1(n,o.deps)){s.memoizedState=uh(t,r,i,n);return}}or.flags|=e,s.memoizedState=uh(1|t,r,i,n)}function sC(e,t){return Xm(8390656,8,e,t)}function M1(e,t){return vy(2048,8,e,t)}function O$(e,t){return vy(4,2,e,t)}function P$(e,t){return vy(4,4,e,t)}function A$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function T$(e,t,r){return r=r!=null?r.concat([e]):null,vy(4,4,A$.bind(null,t,e),r)}function I1(){}function R$(e,t){var r=ws();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&T1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $$(e,t){var r=ws();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&T1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function M$(e,t,r){return ql&21?(ni(r,t)||(r=UR(),or.lanes|=r,Wl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pn=!0),e.memoizedState=r)}function S8(e,t){var r=At;At=r!==0&&4>r?r:4,e(!0);var n=jb.transition;jb.transition={};try{e(!1),t()}finally{At=r,jb.transition=n}}function I$(){return ws().memoizedState}function N8(e,t,r){var n=ko(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},D$(e))L$(t,r);else if(r=y$(e,t,r,n),r!==null){var s=vn();ti(r,e,n,s),F$(r,t,n)}}function k8(e,t,r){var n=ko(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(D$(e))L$(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,ni(l,o)){var c=t.interleaved;c===null?(s.next=s,C1(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=y$(e,t,s,n),r!==null&&(s=vn(),ti(r,e,n,s),F$(r,t,n))}}function D$(e){var t=e.alternate;return e===or||t!==null&&t===or}function L$(e,t){If=Ng=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function F$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,h1(e,r)}}var kg={readContext:bs,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},C8={readContext:bs,useCallback:function(e,t){return gi().memoizedState=[e,t===void 0?null:t],e},useContext:bs,useEffect:sC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xm(4194308,4,A$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xm(4,2,e,t)},useMemo:function(e,t){var r=gi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=gi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=N8.bind(null,or,e),[n.memoizedState,e]},useRef:function(e){var t=gi();return e={current:e},t.memoizedState=e},useState:nC,useDebugValue:I1,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=nC(!1),t=e[0];return e=S8.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=or,s=gi();if(tr){if(r===void 0)throw Error(oe(407));r=r()}else{if(r=t(),qr===null)throw Error(oe(349));ql&30||_$(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,sC(N$.bind(null,n,i,e),[e]),n.flags|=2048,uh(9,S$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=gi(),t=qr.identifierPrefix;if(tr){var r=na,n=ra;r=(n&~(1<<32-ei(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=lh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_8++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},E8={readContext:bs,useCallback:R$,useContext:bs,useEffect:M1,useImperativeHandle:T$,useInsertionEffect:O$,useLayoutEffect:P$,useMemo:$$,useReducer:_b,useRef:E$,useState:function(){return _b(ch)},useDebugValue:I1,useDeferredValue:function(e){var t=ws();return M$(t,Ar.memoizedState,e)},useTransition:function(){var e=_b(ch)[0],t=ws().memoizedState;return[e,t]},useMutableSource:w$,useSyncExternalStore:j$,useId:I$,unstable_isNewReconciler:!1},O8={readContext:bs,useCallback:R$,useContext:bs,useEffect:M1,useImperativeHandle:T$,useInsertionEffect:O$,useLayoutEffect:P$,useMemo:$$,useReducer:Sb,useRef:E$,useState:function(){return Sb(ch)},useDebugValue:I1,useDeferredValue:function(e){var t=ws();return Ar===null?t.memoizedState=e:M$(t,Ar.memoizedState,e)},useTransition:function(){var e=Sb(ch)[0],t=ws().memoizedState;return[e,t]},useMutableSource:w$,useSyncExternalStore:j$,useId:I$,unstable_isNewReconciler:!1};function Us(e,t){if(e&&e.defaultProps){t=cr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function m0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:cr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yy={isMounted:function(e){return(e=e._reactInternals)?cc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=vn(),s=ko(e),i=la(n,s);i.payload=t,r!=null&&(i.callback=r),t=So(e,i,s),t!==null&&(ti(t,e,s,n),Ym(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=vn(),s=ko(e),i=la(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=So(e,i,s),t!==null&&(ti(t,e,s,n),Ym(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=vn(),n=ko(e),s=la(r,n);s.tag=2,t!=null&&(s.callback=t),t=So(e,s,n),t!==null&&(ti(t,e,n,r),Ym(t,e,n))}};function iC(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!rh(r,n)||!rh(s,i):!0}function U$(e,t,r){var n=!1,s=$o,i=t.contextType;return typeof i=="object"&&i!==null?i=bs(i):(s=Mn(t)?Bl:dn.current,n=t.contextTypes,i=(n=n!=null)?Pu(e,s):$o),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function aC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yy.enqueueReplaceState(t,t.state,null)}function g0(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},E1(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=bs(i):(i=Mn(t)?Bl:dn.current,s.context=Pu(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(m0(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yy.enqueueReplaceState(s,s.state,null),_g(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $u(e,t){try{var r="",n=t;do r+=n6(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Nb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function v0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var P8=typeof WeakMap=="function"?WeakMap:Map;function B$(e,t,r){r=la(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Eg||(Eg=!0,C0=n),v0(e,t)},r}function z$(e,t,r){r=la(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){v0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){v0(e,t),typeof n!="function"&&(No===null?No=new Set([this]):No.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function oC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new P8;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=W8.bind(null,e,t,r),t.then(e,e))}function lC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cC(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=la(-1,1),t.tag=2,So(r,t,1))),r.lanes|=1),e)}var A8=Ea.ReactCurrentOwner,Pn=!1;function pn(e,t,r,n){t.child=e===null?v$(t,null,r,n):Tu(t,e.child,r,n)}function uC(e,t,r,n,s){r=r.render;var i=t.ref;return ou(t,s),n=R1(e,t,r,n,i,s),r=$1(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ya(e,t,s)):(tr&&r&&w1(t),t.flags|=1,pn(e,t,n,s),t.child)}function dC(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!W1(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,q$(e,t,i,n,s)):(e=tg(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:rh,r(o,n)&&e.ref===t.ref)return ya(e,t,s)}return t.flags|=1,e=Co(i,n),e.ref=t.ref,e.return=t,t.child=e}function q$(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(rh(i,n)&&e.ref===t.ref)if(Pn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Pn=!0);else return t.lanes=e.lanes,ya(e,t,s)}return y0(e,t,r,n,s)}function W$(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Jc,qn),qn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wt(Jc,qn),qn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Wt(Jc,qn),qn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Wt(Jc,qn),qn|=n;return pn(e,t,s,r),t.child}function V$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function y0(e,t,r,n,s){var i=Mn(r)?Bl:dn.current;return i=Pu(t,i),ou(t,s),r=R1(e,t,r,n,i,s),n=$1(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ya(e,t,s)):(tr&&n&&w1(t),t.flags|=1,pn(e,t,r,s),t.child)}function fC(e,t,r,n,s){if(Mn(r)){var i=!0;yg(t)}else i=!1;if(ou(t,s),t.stateNode===null)Jm(e,t),U$(t,r,n),g0(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=bs(u):(u=Mn(r)?Bl:dn.current,u=Pu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&aC(t,o,n,u),Ya=!1;var h=t.memoizedState;o.state=h,_g(t,n,o,s),c=t.memoizedState,l!==n||h!==c||$n.current||Ya?(typeof d=="function"&&(m0(t,r,d,n),c=t.memoizedState),(l=Ya||iC(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,x$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Us(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=bs(c):(c=Mn(r)?Bl:dn.current,c=Pu(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&aC(t,o,n,c),Ya=!1,h=t.memoizedState,o.state=h,_g(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||$n.current||Ya?(typeof p=="function"&&(m0(t,r,p,n),g=t.memoizedState),(u=Ya||iC(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return x0(e,t,r,n,i,s)}function x0(e,t,r,n,s,i){V$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Xk(t,r,!1),ya(e,t,i);n=t.stateNode,A8.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Tu(t,e.child,null,i),t.child=Tu(t,null,l,i)):pn(e,t,l,i),t.memoizedState=n.state,s&&Xk(t,r,!0),t.child}function H$(e){var t=e.stateNode;t.pendingContext?Qk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qk(e,t.context,!1),O1(e,t.containerInfo)}function hC(e,t,r,n,s){return Au(),_1(s),t.flags|=256,pn(e,t,r,n),t.child}var b0={dehydrated:null,treeContext:null,retryLane:0};function w0(e){return{baseLanes:e,cachePool:null,transitions:null}}function K$(e,t,r){var n=t.pendingProps,s=sr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Wt(sr,s&1),e===null)return h0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wy(o,n,0,null),e=Ll(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=w0(r),t.memoizedState=b0,e):D1(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return T8(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Co(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Co(l,i):(i=Ll(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?w0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=b0,n}return i=e.child,e=i.sibling,n=Co(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function D1(e,t){return t=wy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function am(e,t,r,n){return n!==null&&_1(n),Tu(t,e.child,null,r),e=D1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function T8(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Nb(Error(oe(422))),am(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=wy({mode:"visible",children:n.children},s,0,null),i=Ll(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Tu(t,e.child,null,o),t.child.memoizedState=w0(o),t.memoizedState=b0,i);if(!(t.mode&1))return am(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(oe(419)),n=Nb(i,n,void 0),am(e,t,o,n)}if(l=(o&e.childLanes)!==0,Pn||l){if(n=qr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,va(e,s),ti(n,e,s,-1))}return q1(),n=Nb(Error(oe(421))),am(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=V8.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Yn=_o(s.nextSibling),Qn=t,tr=!0,Ks=null,e!==null&&(ds[fs++]=ra,ds[fs++]=na,ds[fs++]=zl,ra=e.id,na=e.overflow,zl=t),t=D1(t,n.children),t.flags|=4096,t)}function pC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),p0(e.return,t,r)}function kb(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function G$(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(pn(e,t,n.children,r),n=sr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pC(e,r,t);else if(e.tag===19)pC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Wt(sr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Sg(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),kb(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Sg(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}kb(t,!0,r,null,i);break;case"together":kb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ya(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,r=Co(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Co(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function R8(e,t,r){switch(t.tag){case 3:H$(t),Au();break;case 5:b$(t);break;case 1:Mn(t.type)&&yg(t);break;case 4:O1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Wt(wg,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Wt(sr,sr.current&1),t.flags|=128,null):r&t.child.childLanes?K$(e,t,r):(Wt(sr,sr.current&1),e=ya(e,t,r),e!==null?e.sibling:null);Wt(sr,sr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return G$(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Wt(sr,sr.current),n)break;return null;case 22:case 23:return t.lanes=0,W$(e,t,r)}return ya(e,t,r)}var Y$,j0,Q$,X$;Y$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};j0=function(){};Q$=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,xl(Ei.current);var i=null;switch(r){case"input":s=Ww(e,s),n=Ww(e,n),i=[];break;case"select":s=cr({},s,{value:void 0}),n=cr({},n,{value:void 0}),i=[];break;case"textarea":s=Kw(e,s),n=Kw(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gg)}Yw(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Yt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};X$=function(e,t,r,n){r!==n&&(t.flags|=4)};function tf(e,t){if(!tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $8(e,t,r){var n=t.pendingProps;switch(j1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(t),null;case 1:return Mn(t.type)&&vg(),nn(t),null;case 3:return n=t.stateNode,Ru(),Jt($n),Jt(dn),A1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ks!==null&&(P0(Ks),Ks=null))),j0(e,t),nn(t),null;case 5:P1(t);var s=xl(oh.current);if(r=t.type,e!==null&&t.stateNode!=null)Q$(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(oe(166));return nn(t),null}if(e=xl(Ei.current),sm(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ji]=t,n[ih]=i,e=(t.mode&1)!==0,r){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(s=0;s<Sf.length;s++)Yt(Sf[s],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":_k(n,i),Yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Yt("invalid",n);break;case"textarea":Nk(n,i),Yt("invalid",n)}Yw(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&nm(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&nm(n.textContent,l,e),s=["children",""+l]):Yf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Yt("scroll",n)}switch(r){case"input":Yp(n),Sk(n,i,!0);break;case"textarea":Yp(n),kk(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=gg)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=NR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ji]=t,e[ih]=n,Y$(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qw(r,n),r){case"dialog":Yt("cancel",e),Yt("close",e),s=n;break;case"iframe":case"object":case"embed":Yt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Sf.length;s++)Yt(Sf[s],e);s=n;break;case"source":Yt("error",e),s=n;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),s=n;break;case"details":Yt("toggle",e),s=n;break;case"input":_k(e,n),s=Ww(e,n),Yt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=cr({},n,{value:void 0}),Yt("invalid",e);break;case"textarea":Nk(e,n),s=Kw(e,n),Yt("invalid",e);break;default:s=n}Yw(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?ER(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kR(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Qf(e,c):typeof c=="number"&&Qf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Yt("scroll",e):c!=null&&o1(e,i,c,o))}switch(r){case"input":Yp(e),Sk(e,n,!1);break;case"textarea":Yp(e),kk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ro(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?nu(e,!!n.multiple,i,!1):n.defaultValue!=null&&nu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=gg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nn(t),null;case 6:if(e&&t.stateNode!=null)X$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(oe(166));if(r=xl(oh.current),xl(Ei.current),sm(t)){if(n=t.stateNode,r=t.memoizedProps,n[ji]=t,(i=n.nodeValue!==r)&&(e=Qn,e!==null))switch(e.tag){case 3:nm(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nm(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ji]=t,t.stateNode=n}return nn(t),null;case 13:if(Jt(sr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tr&&Yn!==null&&t.mode&1&&!(t.flags&128))m$(),Au(),t.flags|=98560,i=!1;else if(i=sm(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(oe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));i[ji]=t}else Au(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nn(t),i=!1}else Ks!==null&&(P0(Ks),Ks=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||sr.current&1?Mr===0&&(Mr=3):q1())),t.updateQueue!==null&&(t.flags|=4),nn(t),null);case 4:return Ru(),j0(e,t),e===null&&nh(t.stateNode.containerInfo),nn(t),null;case 10:return k1(t.type._context),nn(t),null;case 17:return Mn(t.type)&&vg(),nn(t),null;case 19:if(Jt(sr),i=t.memoizedState,i===null)return nn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)tf(i,!1);else{if(Mr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sg(e),o!==null){for(t.flags|=128,tf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Wt(sr,sr.current&1|2),t.child}e=e.sibling}i.tail!==null&&mr()>Mu&&(t.flags|=128,n=!0,tf(i,!1),t.lanes=4194304)}else{if(!n)if(e=Sg(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),tf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tr)return nn(t),null}else 2*mr()-i.renderingStartTime>Mu&&r!==1073741824&&(t.flags|=128,n=!0,tf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=mr(),t.sibling=null,r=sr.current,Wt(sr,n?r&1|2:r&1),t):(nn(t),null);case 22:case 23:return z1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qn&1073741824&&(nn(t),t.subtreeFlags&6&&(t.flags|=8192)):nn(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function M8(e,t){switch(j1(t),t.tag){case 1:return Mn(t.type)&&vg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ru(),Jt($n),Jt(dn),A1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return P1(t),null;case 13:if(Jt(sr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));Au()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jt(sr),null;case 4:return Ru(),null;case 10:return k1(t.type._context),null;case 22:case 23:return z1(),null;case 24:return null;default:return null}}var om=!1,on=!1,I8=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Xc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fr(e,t,n)}else r.current=null}function _0(e,t,r){try{r()}catch(n){fr(e,t,n)}}var mC=!1;function D8(e,t){if(a0=hg,e=r$(),b1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(o0={focusedElem:e,selectionRange:r},hg=!1,ke=t;ke!==null;)if(t=ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ke=e;else for(;ke!==null;){t=ke;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Us(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(S){fr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ke=e;break}ke=t.return}return g=mC,mC=!1,g}function Df(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&_0(t,r,i)}s=s.next}while(s!==n)}}function xy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function S0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function J$(e){var t=e.alternate;t!==null&&(e.alternate=null,J$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ji],delete t[ih],delete t[u0],delete t[x8],delete t[b8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Z$(e){return e.tag===5||e.tag===3||e.tag===4}function gC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Z$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function N0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gg));else if(n!==4&&(e=e.child,e!==null))for(N0(e,t,r),e=e.sibling;e!==null;)N0(e,t,r),e=e.sibling}function k0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(k0(e,t,r),e=e.sibling;e!==null;)k0(e,t,r),e=e.sibling}var Yr=null,Ws=!1;function Ba(e,t,r){for(r=r.child;r!==null;)eM(e,t,r),r=r.sibling}function eM(e,t,r){if(Ci&&typeof Ci.onCommitFiberUnmount=="function")try{Ci.onCommitFiberUnmount(dy,r)}catch{}switch(r.tag){case 5:on||Xc(r,t);case 6:var n=Yr,s=Ws;Yr=null,Ba(e,t,r),Yr=n,Ws=s,Yr!==null&&(Ws?(e=Yr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Yr.removeChild(r.stateNode));break;case 18:Yr!==null&&(Ws?(e=Yr,r=r.stateNode,e.nodeType===8?xb(e.parentNode,r):e.nodeType===1&&xb(e,r),eh(e)):xb(Yr,r.stateNode));break;case 4:n=Yr,s=Ws,Yr=r.stateNode.containerInfo,Ws=!0,Ba(e,t,r),Yr=n,Ws=s;break;case 0:case 11:case 14:case 15:if(!on&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_0(r,t,o),s=s.next}while(s!==n)}Ba(e,t,r);break;case 1:if(!on&&(Xc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){fr(r,t,l)}Ba(e,t,r);break;case 21:Ba(e,t,r);break;case 22:r.mode&1?(on=(n=on)||r.memoizedState!==null,Ba(e,t,r),on=n):Ba(e,t,r);break;default:Ba(e,t,r)}}function vC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new I8),t.forEach(function(n){var s=H8.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Rs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yr=l.stateNode,Ws=!1;break e;case 3:Yr=l.stateNode.containerInfo,Ws=!0;break e;case 4:Yr=l.stateNode.containerInfo,Ws=!0;break e}l=l.return}if(Yr===null)throw Error(oe(160));eM(i,o,s),Yr=null,Ws=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){fr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tM(t,e),t=t.sibling}function tM(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rs(t,e),pi(e),n&4){try{Df(3,e,e.return),xy(3,e)}catch(m){fr(e,e.return,m)}try{Df(5,e,e.return)}catch(m){fr(e,e.return,m)}}break;case 1:Rs(t,e),pi(e),n&512&&r!==null&&Xc(r,r.return);break;case 5:if(Rs(t,e),pi(e),n&512&&r!==null&&Xc(r,r.return),e.flags&32){var s=e.stateNode;try{Qf(s,"")}catch(m){fr(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&_R(s,i),Qw(l,o);var u=Qw(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?ER(s,f):d==="dangerouslySetInnerHTML"?kR(s,f):d==="children"?Qf(s,f):o1(s,d,f,u)}switch(l){case"input":Vw(s,i);break;case"textarea":SR(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?nu(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?nu(s,!!i.multiple,i.defaultValue,!0):nu(s,!!i.multiple,i.multiple?[]:"",!1))}s[ih]=i}catch(m){fr(e,e.return,m)}}break;case 6:if(Rs(t,e),pi(e),n&4){if(e.stateNode===null)throw Error(oe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){fr(e,e.return,m)}}break;case 3:if(Rs(t,e),pi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{eh(t.containerInfo)}catch(m){fr(e,e.return,m)}break;case 4:Rs(t,e),pi(e);break;case 13:Rs(t,e),pi(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(U1=mr())),n&4&&vC(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(on=(u=on)||d,Rs(t,e),on=u):Rs(t,e),pi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ke=e,d=e.child;d!==null;){for(f=ke=d;ke!==null;){switch(h=ke,p=h.child,h.tag){case 0:case 11:case 14:case 15:Df(4,h,h.return);break;case 1:Xc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){fr(n,r,m)}}break;case 5:Xc(h,h.return);break;case 22:if(h.memoizedState!==null){xC(f);continue}}p!==null?(p.return=h,ke=p):xC(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=CR("display",o))}catch(m){fr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){fr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rs(t,e),pi(e),n&4&&vC(e);break;case 21:break;default:Rs(t,e),pi(e)}}function pi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Z$(r)){var n=r;break e}r=r.return}throw Error(oe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Qf(s,""),n.flags&=-33);var i=gC(e);k0(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=gC(e);N0(e,l,o);break;default:throw Error(oe(161))}}catch(c){fr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L8(e,t,r){ke=e,rM(e)}function rM(e,t,r){for(var n=(e.mode&1)!==0;ke!==null;){var s=ke,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||om;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||on;l=om;var u=on;if(om=o,(on=c)&&!u)for(ke=s;ke!==null;)o=ke,c=o.child,o.tag===22&&o.memoizedState!==null?bC(s):c!==null?(c.return=o,ke=c):bC(s);for(;i!==null;)ke=i,rM(i),i=i.sibling;ke=s,om=l,on=u}yC(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ke=i):yC(e)}}function yC(e){for(;ke!==null;){var t=ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:on||xy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!on)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Us(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&rC(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}rC(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&eh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}on||t.flags&512&&S0(t)}catch(h){fr(t,t.return,h)}}if(t===e){ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,ke=r;break}ke=t.return}}function xC(e){for(;ke!==null;){var t=ke;if(t===e){ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ke=r;break}ke=t.return}}function bC(e){for(;ke!==null;){var t=ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xy(4,t)}catch(c){fr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){fr(t,s,c)}}var i=t.return;try{S0(t)}catch(c){fr(t,i,c)}break;case 5:var o=t.return;try{S0(t)}catch(c){fr(t,o,c)}}}catch(c){fr(t,t.return,c)}if(t===e){ke=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ke=l;break}ke=t.return}}var F8=Math.ceil,Cg=Ea.ReactCurrentDispatcher,L1=Ea.ReactCurrentOwner,vs=Ea.ReactCurrentBatchConfig,ft=0,qr=null,_r=null,Jr=0,qn=0,Jc=qo(0),Mr=0,dh=null,Wl=0,by=0,F1=0,Lf=null,On=null,U1=0,Mu=1/0,Yi=null,Eg=!1,C0=null,No=null,lm=!1,mo=null,Og=0,Ff=0,E0=null,Zm=-1,eg=0;function vn(){return ft&6?mr():Zm!==-1?Zm:Zm=mr()}function ko(e){return e.mode&1?ft&2&&Jr!==0?Jr&-Jr:j8.transition!==null?(eg===0&&(eg=UR()),eg):(e=At,e!==0||(e=window.event,e=e===void 0?16:KR(e.type)),e):1}function ti(e,t,r,n){if(50<Ff)throw Ff=0,E0=null,Error(oe(185));bp(e,r,n),(!(ft&2)||e!==qr)&&(e===qr&&(!(ft&2)&&(by|=r),Mr===4&&eo(e,Jr)),In(e,n),r===1&&ft===0&&!(t.mode&1)&&(Mu=mr()+500,gy&&Wo()))}function In(e,t){var r=e.callbackNode;j6(e,t);var n=fg(e,e===qr?Jr:0);if(n===0)r!==null&&Ok(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ok(r),t===1)e.tag===0?w8(wC.bind(null,e)):f$(wC.bind(null,e)),v8(function(){!(ft&6)&&Wo()}),r=null;else{switch(BR(n)){case 1:r=f1;break;case 4:r=LR;break;case 16:r=dg;break;case 536870912:r=FR;break;default:r=dg}r=uM(r,nM.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nM(e,t){if(Zm=-1,eg=0,ft&6)throw Error(oe(327));var r=e.callbackNode;if(lu()&&e.callbackNode!==r)return null;var n=fg(e,e===qr?Jr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Pg(e,n);else{t=n;var s=ft;ft|=2;var i=iM();(qr!==e||Jr!==t)&&(Yi=null,Mu=mr()+500,Dl(e,t));do try{z8();break}catch(l){sM(e,l)}while(!0);N1(),Cg.current=i,ft=s,_r!==null?t=0:(qr=null,Jr=0,t=Mr)}if(t!==0){if(t===2&&(s=t0(e),s!==0&&(n=s,t=O0(e,s))),t===1)throw r=dh,Dl(e,0),eo(e,n),In(e,mr()),r;if(t===6)eo(e,n);else{if(s=e.current.alternate,!(n&30)&&!U8(s)&&(t=Pg(e,n),t===2&&(i=t0(e),i!==0&&(n=i,t=O0(e,i))),t===1))throw r=dh,Dl(e,0),eo(e,n),In(e,mr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(oe(345));case 2:ll(e,On,Yi);break;case 3:if(eo(e,n),(n&130023424)===n&&(t=U1+500-mr(),10<t)){if(fg(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){vn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=c0(ll.bind(null,e,On,Yi),t);break}ll(e,On,Yi);break;case 4:if(eo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ei(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=mr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*F8(n/1960))-n,10<n){e.timeoutHandle=c0(ll.bind(null,e,On,Yi),n);break}ll(e,On,Yi);break;case 5:ll(e,On,Yi);break;default:throw Error(oe(329))}}}return In(e,mr()),e.callbackNode===r?nM.bind(null,e):null}function O0(e,t){var r=Lf;return e.current.memoizedState.isDehydrated&&(Dl(e,t).flags|=256),e=Pg(e,t),e!==2&&(t=On,On=r,t!==null&&P0(t)),e}function P0(e){On===null?On=e:On.push.apply(On,e)}function U8(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ni(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eo(e,t){for(t&=~F1,t&=~by,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ei(t),n=1<<r;e[r]=-1,t&=~n}}function wC(e){if(ft&6)throw Error(oe(327));lu();var t=fg(e,0);if(!(t&1))return In(e,mr()),null;var r=Pg(e,t);if(e.tag!==0&&r===2){var n=t0(e);n!==0&&(t=n,r=O0(e,n))}if(r===1)throw r=dh,Dl(e,0),eo(e,t),In(e,mr()),r;if(r===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ll(e,On,Yi),In(e,mr()),null}function B1(e,t){var r=ft;ft|=1;try{return e(t)}finally{ft=r,ft===0&&(Mu=mr()+500,gy&&Wo())}}function Vl(e){mo!==null&&mo.tag===0&&!(ft&6)&&lu();var t=ft;ft|=1;var r=vs.transition,n=At;try{if(vs.transition=null,At=1,e)return e()}finally{At=n,vs.transition=r,ft=t,!(ft&6)&&Wo()}}function z1(){qn=Jc.current,Jt(Jc)}function Dl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,g8(r)),_r!==null)for(r=_r.return;r!==null;){var n=r;switch(j1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vg();break;case 3:Ru(),Jt($n),Jt(dn),A1();break;case 5:P1(n);break;case 4:Ru();break;case 13:Jt(sr);break;case 19:Jt(sr);break;case 10:k1(n.type._context);break;case 22:case 23:z1()}r=r.return}if(qr=e,_r=e=Co(e.current,null),Jr=qn=t,Mr=0,dh=null,F1=by=Wl=0,On=Lf=null,yl!==null){for(t=0;t<yl.length;t++)if(r=yl[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}yl=null}return e}function sM(e,t){do{var r=_r;try{if(N1(),Qm.current=kg,Ng){for(var n=or.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ng=!1}if(ql=0,Br=Ar=or=null,If=!1,lh=0,L1.current=null,r===null||r.return===null){Mr=1,dh=t,_r=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Jr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=lC(o);if(p!==null){p.flags&=-257,cC(p,o,l,i,t),p.mode&1&&oC(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){oC(i,u,t),q1();break e}c=Error(oe(426))}}else if(tr&&l.mode&1){var v=lC(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),cC(v,o,l,i,t),_1($u(c,l));break e}}i=c=$u(c,l),Mr!==4&&(Mr=2),Lf===null?Lf=[i]:Lf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=B$(i,c,t);tC(i,y);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(No===null||!No.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=z$(i,l,t);tC(i,S);break e}}i=i.return}while(i!==null)}oM(r)}catch(j){t=j,_r===r&&r!==null&&(_r=r=r.return);continue}break}while(!0)}function iM(){var e=Cg.current;return Cg.current=kg,e===null?kg:e}function q1(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),qr===null||!(Wl&268435455)&&!(by&268435455)||eo(qr,Jr)}function Pg(e,t){var r=ft;ft|=2;var n=iM();(qr!==e||Jr!==t)&&(Yi=null,Dl(e,t));do try{B8();break}catch(s){sM(e,s)}while(!0);if(N1(),ft=r,Cg.current=n,_r!==null)throw Error(oe(261));return qr=null,Jr=0,Mr}function B8(){for(;_r!==null;)aM(_r)}function z8(){for(;_r!==null&&!h6();)aM(_r)}function aM(e){var t=cM(e.alternate,e,qn);e.memoizedProps=e.pendingProps,t===null?oM(e):_r=t,L1.current=null}function oM(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=M8(r,t),r!==null){r.flags&=32767,_r=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mr=6,_r=null;return}}else if(r=$8(r,t,qn),r!==null){_r=r;return}if(t=t.sibling,t!==null){_r=t;return}_r=t=e}while(t!==null);Mr===0&&(Mr=5)}function ll(e,t,r){var n=At,s=vs.transition;try{vs.transition=null,At=1,q8(e,t,r,n)}finally{vs.transition=s,At=n}return null}function q8(e,t,r,n){do lu();while(mo!==null);if(ft&6)throw Error(oe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(_6(e,i),e===qr&&(_r=qr=null,Jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||lm||(lm=!0,uM(dg,function(){return lu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=vs.transition,vs.transition=null;var o=At;At=1;var l=ft;ft|=4,L1.current=null,D8(e,r),tM(r,e),c8(o0),hg=!!a0,o0=a0=null,e.current=r,L8(r),p6(),ft=l,At=o,vs.transition=i}else e.current=r;if(lm&&(lm=!1,mo=e,Og=s),i=e.pendingLanes,i===0&&(No=null),v6(r.stateNode),In(e,mr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Eg)throw Eg=!1,e=C0,C0=null,e;return Og&1&&e.tag!==0&&lu(),i=e.pendingLanes,i&1?e===E0?Ff++:(Ff=0,E0=e):Ff=0,Wo(),null}function lu(){if(mo!==null){var e=BR(Og),t=vs.transition,r=At;try{if(vs.transition=null,At=16>e?16:e,mo===null)var n=!1;else{if(e=mo,mo=null,Og=0,ft&6)throw Error(oe(331));var s=ft;for(ft|=4,ke=e.current;ke!==null;){var i=ke,o=i.child;if(ke.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ke=u;ke!==null;){var d=ke;switch(d.tag){case 0:case 11:case 15:Df(8,d,i)}var f=d.child;if(f!==null)f.return=d,ke=f;else for(;ke!==null;){d=ke;var h=d.sibling,p=d.return;if(J$(d),d===u){ke=null;break}if(h!==null){h.return=p,ke=h;break}ke=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}ke=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ke=o;else e:for(;ke!==null;){if(i=ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Df(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ke=y;break e}ke=i.return}}var b=e.current;for(ke=b;ke!==null;){o=ke;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ke=w;else e:for(o=b;ke!==null;){if(l=ke,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xy(9,l)}}catch(j){fr(l,l.return,j)}if(l===o){ke=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ke=S;break e}ke=l.return}}if(ft=s,Wo(),Ci&&typeof Ci.onPostCommitFiberRoot=="function")try{Ci.onPostCommitFiberRoot(dy,e)}catch{}n=!0}return n}finally{At=r,vs.transition=t}}return!1}function jC(e,t,r){t=$u(r,t),t=B$(e,t,1),e=So(e,t,1),t=vn(),e!==null&&(bp(e,1,t),In(e,t))}function fr(e,t,r){if(e.tag===3)jC(e,e,r);else for(;t!==null;){if(t.tag===3){jC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(No===null||!No.has(n))){e=$u(r,e),e=z$(t,e,1),t=So(t,e,1),e=vn(),t!==null&&(bp(t,1,e),In(t,e));break}}t=t.return}}function W8(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=vn(),e.pingedLanes|=e.suspendedLanes&r,qr===e&&(Jr&r)===r&&(Mr===4||Mr===3&&(Jr&130023424)===Jr&&500>mr()-U1?Dl(e,0):F1|=r),In(e,t)}function lM(e,t){t===0&&(e.mode&1?(t=Jp,Jp<<=1,!(Jp&130023424)&&(Jp=4194304)):t=1);var r=vn();e=va(e,t),e!==null&&(bp(e,t,r),In(e,r))}function V8(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lM(e,r)}function H8(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(oe(314))}n!==null&&n.delete(t),lM(e,r)}var cM;cM=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$n.current)Pn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pn=!1,R8(e,t,r);Pn=!!(e.flags&131072)}else Pn=!1,tr&&t.flags&1048576&&h$(t,bg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jm(e,t),e=t.pendingProps;var s=Pu(t,dn.current);ou(t,r),s=R1(null,t,n,e,s,r);var i=$1();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mn(n)?(i=!0,yg(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,E1(t),s.updater=yy,t.stateNode=s,s._reactInternals=t,g0(t,n,e,r),t=x0(null,t,n,!0,i,r)):(t.tag=0,tr&&i&&w1(t),pn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jm(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=G8(n),e=Us(n,e),s){case 0:t=y0(null,t,n,e,r);break e;case 1:t=fC(null,t,n,e,r);break e;case 11:t=uC(null,t,n,e,r);break e;case 14:t=dC(null,t,n,Us(n.type,e),r);break e}throw Error(oe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Us(n,s),y0(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Us(n,s),fC(e,t,n,s,r);case 3:e:{if(H$(t),e===null)throw Error(oe(387));n=t.pendingProps,i=t.memoizedState,s=i.element,x$(e,t),_g(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=$u(Error(oe(423)),t),t=hC(e,t,n,r,s);break e}else if(n!==s){s=$u(Error(oe(424)),t),t=hC(e,t,n,r,s);break e}else for(Yn=_o(t.stateNode.containerInfo.firstChild),Qn=t,tr=!0,Ks=null,r=v$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Au(),n===s){t=ya(e,t,r);break e}pn(e,t,n,r)}t=t.child}return t;case 5:return b$(t),e===null&&h0(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,l0(n,s)?o=null:i!==null&&l0(n,i)&&(t.flags|=32),V$(e,t),pn(e,t,o,r),t.child;case 6:return e===null&&h0(t),null;case 13:return K$(e,t,r);case 4:return O1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Tu(t,null,n,r):pn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Us(n,s),uC(e,t,n,s,r);case 7:return pn(e,t,t.pendingProps,r),t.child;case 8:return pn(e,t,t.pendingProps.children,r),t.child;case 12:return pn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Wt(wg,n._currentValue),n._currentValue=o,i!==null)if(ni(i.value,o)){if(i.children===s.children&&!$n.current){t=ya(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=la(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),p0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(oe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),p0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ou(t,r),s=bs(s),n=n(s),t.flags|=1,pn(e,t,n,r),t.child;case 14:return n=t.type,s=Us(n,t.pendingProps),s=Us(n.type,s),dC(e,t,n,s,r);case 15:return q$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Us(n,s),Jm(e,t),t.tag=1,Mn(n)?(e=!0,yg(t)):e=!1,ou(t,r),U$(t,n,s),g0(t,n,s,r),x0(null,t,n,!0,e,r);case 19:return G$(e,t,r);case 22:return W$(e,t,r)}throw Error(oe(156,t.tag))};function uM(e,t){return DR(e,t)}function K8(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(e,t,r,n){return new K8(e,t,r,n)}function W1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function G8(e){if(typeof e=="function")return W1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===c1)return 11;if(e===u1)return 14}return 2}function Co(e,t){var r=e.alternate;return r===null?(r=ps(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function tg(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")W1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zc:return Ll(r.children,s,i,t);case l1:o=8,s|=8;break;case Uw:return e=ps(12,r,t,s|2),e.elementType=Uw,e.lanes=i,e;case Bw:return e=ps(13,r,t,s),e.elementType=Bw,e.lanes=i,e;case zw:return e=ps(19,r,t,s),e.elementType=zw,e.lanes=i,e;case bR:return wy(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yR:o=10;break e;case xR:o=9;break e;case c1:o=11;break e;case u1:o=14;break e;case Ga:o=16,n=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=ps(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ll(e,t,r,n){return e=ps(7,e,n,t),e.lanes=r,e}function wy(e,t,r,n){return e=ps(22,e,n,t),e.elementType=bR,e.lanes=r,e.stateNode={isHidden:!1},e}function Cb(e,t,r){return e=ps(6,e,null,t),e.lanes=r,e}function Eb(e,t,r){return t=ps(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Y8(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lb(0),this.expirationTimes=lb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lb(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function V1(e,t,r,n,s,i,o,l,c){return e=new Y8(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ps(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},E1(i),e}function Q8(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function dM(e){if(!e)return $o;e=e._reactInternals;e:{if(cc(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var r=e.type;if(Mn(r))return d$(e,r,t)}return t}function fM(e,t,r,n,s,i,o,l,c){return e=V1(r,n,!0,e,s,i,o,l,c),e.context=dM(null),r=e.current,n=vn(),s=ko(r),i=la(n,s),i.callback=t??null,So(r,i,s),e.current.lanes=s,bp(e,s,n),In(e,n),e}function jy(e,t,r,n){var s=t.current,i=vn(),o=ko(s);return r=dM(r),t.context===null?t.context=r:t.pendingContext=r,t=la(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=So(s,t,o),e!==null&&(ti(e,s,o,i),Ym(e,s,o)),o}function Ag(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _C(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function H1(e,t){_C(e,t),(e=e.alternate)&&_C(e,t)}function X8(){return null}var hM=typeof reportError=="function"?reportError:function(e){console.error(e)};function K1(e){this._internalRoot=e}_y.prototype.render=K1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));jy(e,t,null,null)};_y.prototype.unmount=K1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vl(function(){jy(null,e,null,null)}),t[ga]=null}};function _y(e){this._internalRoot=e}_y.prototype.unstable_scheduleHydration=function(e){if(e){var t=WR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Za.length&&t!==0&&t<Za[r].priority;r++);Za.splice(r,0,e),r===0&&HR(e)}};function G1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function SC(){}function J8(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ag(o);i.call(u)}}var o=fM(t,n,e,0,null,!1,!1,"",SC);return e._reactRootContainer=o,e[ga]=o.current,nh(e.nodeType===8?e.parentNode:e),Vl(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Ag(c);l.call(u)}}var c=V1(e,0,!1,null,null,!1,!1,"",SC);return e._reactRootContainer=c,e[ga]=c.current,nh(e.nodeType===8?e.parentNode:e),Vl(function(){jy(t,c,r,n)}),c}function Ny(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Ag(o);l.call(c)}}jy(t,o,e,s)}else o=J8(r,t,e,s,n);return Ag(o)}zR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_f(t.pendingLanes);r!==0&&(h1(t,r|1),In(t,mr()),!(ft&6)&&(Mu=mr()+500,Wo()))}break;case 13:Vl(function(){var n=va(e,1);if(n!==null){var s=vn();ti(n,e,1,s)}}),H1(e,1)}};p1=function(e){if(e.tag===13){var t=va(e,134217728);if(t!==null){var r=vn();ti(t,e,134217728,r)}H1(e,134217728)}};qR=function(e){if(e.tag===13){var t=ko(e),r=va(e,t);if(r!==null){var n=vn();ti(r,e,t,n)}H1(e,t)}};WR=function(){return At};VR=function(e,t){var r=At;try{return At=e,t()}finally{At=r}};Jw=function(e,t,r){switch(t){case"input":if(Vw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=my(n);if(!s)throw Error(oe(90));jR(n),Vw(n,s)}}}break;case"textarea":SR(e,r);break;case"select":t=r.value,t!=null&&nu(e,!!r.multiple,t,!1)}};AR=B1;TR=Vl;var Z8={usingClientEntryPoint:!1,Events:[jp,Hc,my,OR,PR,B1]},rf={findFiberByHostInstance:vl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ez={bundleType:rf.bundleType,version:rf.version,rendererPackageName:rf.rendererPackageName,rendererConfig:rf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=MR(e),e===null?null:e.stateNode},findFiberByHostInstance:rf.findFiberByHostInstance||X8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{dy=cm.inject(ez),Ci=cm}catch{}}ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z8;ns.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G1(t))throw Error(oe(200));return Q8(e,t,null,r)};ns.createRoot=function(e,t){if(!G1(e))throw Error(oe(299));var r=!1,n="",s=hM;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=V1(e,1,!1,null,null,r,!1,n,s),e[ga]=t.current,nh(e.nodeType===8?e.parentNode:e),new K1(t)};ns.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=MR(t),e=e===null?null:e.stateNode,e};ns.flushSync=function(e){return Vl(e)};ns.hydrate=function(e,t,r){if(!Sy(t))throw Error(oe(200));return Ny(null,e,t,!0,r)};ns.hydrateRoot=function(e,t,r){if(!G1(e))throw Error(oe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=hM;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=fM(t,null,e,1,r??null,s,!1,i,o),e[ga]=t.current,nh(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new _y(t)};ns.render=function(e,t,r){if(!Sy(t))throw Error(oe(200));return Ny(null,e,t,!1,r)};ns.unmountComponentAtNode=function(e){if(!Sy(e))throw Error(oe(40));return e._reactRootContainer?(Vl(function(){Ny(null,null,e,!1,function(){e._reactRootContainer=null,e[ga]=null})}),!0):!1};ns.unstable_batchedUpdates=B1;ns.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sy(r))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return Ny(e,t,r,!1,n)};ns.version="18.3.1-next-f1338f8080-20240426";function pM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pM)}catch(e){console.error(e)}}pM(),pR.exports=ns;var xd=pR.exports;const mM=Lt(xd);var NC=xd;Lw.createRoot=NC.createRoot,Lw.hydrateRoot=NC.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(this,arguments)}var go;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(go||(go={}));const kC="popstate";function tz(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return A0("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Tg(s)}return nz(t,r,null,e)}function lr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Y1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rz(){return Math.random().toString(36).substr(2,8)}function CC(e,t){return{usr:e.state,key:e.key,idx:t}}function A0(e,t,r,n){return r===void 0&&(r=null),fh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bd(t):t,{state:r,key:t&&t.key||n||rz()})}function Tg(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function nz(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=go.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(fh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=go.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:y})}function h(v,y){l=go.Push;let b=A0(m.location,v,y);u=d()+1;let w=CC(b,u),S=m.createHref(b);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}i&&c&&c({action:l,location:m.location,delta:1})}function p(v,y){l=go.Replace;let b=A0(m.location,v,y);u=d();let w=CC(b,u),S=m.createHref(b);o.replaceState(w,"",S),i&&c&&c({action:l,location:m.location,delta:0})}function g(v){let y=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof v=="string"?v:Tg(v);return b=b.replace(/ $/,"%20"),lr(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(kC,f),c=v,()=>{s.removeEventListener(kC,f),c=null}},createHref(v){return t(s,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return o.go(v)}};return m}var EC;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(EC||(EC={}));function sz(e,t,r){return r===void 0&&(r="/"),iz(e,t,r)}function iz(e,t,r,n){let s=typeof t=="string"?bd(t):t,i=Iu(s.pathname||"/",r);if(i==null)return null;let o=gM(e);az(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=vz(i);l=mz(o[c],u)}return l}function gM(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(lr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Eo([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(lr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gM(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:hz(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of vM(i.path))s(i,o,c)}),t}function vM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=vM(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function az(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:pz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const oz=/^:[\w-]+$/,lz=3,cz=2,uz=1,dz=10,fz=-2,OC=e=>e==="*";function hz(e,t){let r=e.split("/"),n=r.length;return r.some(OC)&&(n+=fz),t&&(n+=cz),r.filter(s=>!OC(s)).reduce((s,i)=>s+(oz.test(i)?lz:i===""?uz:dz),n)}function pz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function mz(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=T0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Eo([i,f.pathname]),pathnameBase:jz(Eo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Eo([i,f.pathnameBase]))}return o}function T0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=gz(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function gz(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Y1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function vz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Y1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Iu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const yz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xz=e=>yz.test(e);function bz(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?bd(e):e,i;if(r)if(xz(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Y1(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=PC(r.substring(1),"/"):i=PC(r,t)}else i=t;return{pathname:i,search:_z(n),hash:Sz(s)}}function PC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ob(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Q1(e,t){let r=wz(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function X1(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=bd(e):(s=fh({},e),lr(!s.pathname||!s.pathname.includes("?"),Ob("?","pathname","search",s)),lr(!s.pathname||!s.pathname.includes("#"),Ob("#","pathname","hash",s)),lr(!s.search||!s.search.includes("#"),Ob("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=bz(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Eo=e=>e.join("/").replace(/\/\/+/g,"/"),jz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_z=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Nz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yM=["post","put","patch","delete"];new Set(yM);const kz=["get",...yM];new Set(kz);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(this,arguments)}const ky=x.createContext(null),xM=x.createContext(null),Oa=x.createContext(null),Cy=x.createContext(null),Di=x.createContext({outlet:null,matches:[],isDataRoute:!1}),bM=x.createContext(null);function Cz(e,t){let{relative:r}=t===void 0?{}:t;wd()||lr(!1);let{basename:n,navigator:s}=x.useContext(Oa),{hash:i,pathname:o,search:l}=Ey(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Eo([n,o])),s.createHref({pathname:c,search:l,hash:i})}function wd(){return x.useContext(Cy)!=null}function Li(){return wd()||lr(!1),x.useContext(Cy).location}function wM(e){x.useContext(Oa).static||x.useLayoutEffect(e)}function Vo(){let{isDataRoute:e}=x.useContext(Di);return e?qz():Ez()}function Ez(){wd()||lr(!1);let e=x.useContext(ky),{basename:t,future:r,navigator:n}=x.useContext(Oa),{matches:s}=x.useContext(Di),{pathname:i}=Li(),o=JSON.stringify(Q1(s,r.v7_relativeSplatPath)),l=x.useRef(!1);return wM(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=X1(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Eo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const Oz=x.createContext(null);function Pz(e){let t=x.useContext(Di).outlet;return t&&x.createElement(Oz.Provider,{value:e},t)}function Az(){let{matches:e}=x.useContext(Di),t=e[e.length-1];return t?t.params:{}}function Ey(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Oa),{matches:s}=x.useContext(Di),{pathname:i}=Li(),o=JSON.stringify(Q1(s,n.v7_relativeSplatPath));return x.useMemo(()=>X1(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Tz(e,t){return Rz(e,t)}function Rz(e,t,r,n){wd()||lr(!1);let{navigator:s}=x.useContext(Oa),{matches:i}=x.useContext(Di),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Li(),d;if(t){var f;let v=typeof t=="string"?bd(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||lr(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=sz(e,{pathname:p}),m=Lz(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Eo([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Eo([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&m?x.createElement(Cy.Provider,{value:{location:hh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:go.Pop}},m):m}function $z(){let e=zz(),t=Nz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const Mz=x.createElement($z,null);class Iz extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Di.Provider,{value:this.props.routeContext},x.createElement(bM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dz(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(ky);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Di.Provider,{value:t},n)}function Lz(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||lr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||Mz,c&&(u<0&&h===0?(Wz("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),b=()=>{let w;return p?w=m:g?w=v:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(Dz,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(Iz,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var jM=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jM||{}),_M=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_M||{});function Fz(e){let t=x.useContext(ky);return t||lr(!1),t}function Uz(e){let t=x.useContext(xM);return t||lr(!1),t}function Bz(e){let t=x.useContext(Di);return t||lr(!1),t}function SM(e){let t=Bz(),r=t.matches[t.matches.length-1];return r.route.id||lr(!1),r.route.id}function zz(){var e;let t=x.useContext(bM),r=Uz(),n=SM();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function qz(){let{router:e}=Fz(jM.UseNavigateStable),t=SM(_M.UseNavigateStable),r=x.useRef(!1);return wM(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,hh({fromRouteId:t},i)))},[e,t])}const AC={};function Wz(e,t,r){AC[e]||(AC[e]=!0)}function Vz(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Hz(e){let{to:t,replace:r,state:n,relative:s}=e;wd()||lr(!1);let{future:i,static:o}=x.useContext(Oa),{matches:l}=x.useContext(Di),{pathname:c}=Li(),u=Vo(),d=X1(t,Q1(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function NM(e){return Pz(e.context)}function pt(e){lr(!1)}function Kz(e){let{basename:t="/",children:r=null,location:n,navigationType:s=go.Pop,navigator:i,static:o=!1,future:l}=e;wd()&&lr(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:o,future:hh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=bd(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=x.useMemo(()=>{let v=Iu(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:s}},[c,d,f,h,p,g,s]);return m==null?null:x.createElement(Oa.Provider,{value:u},x.createElement(Cy.Provider,{children:r,value:m}))}function Gz(e){let{children:t,location:r}=e;return Tz(R0(t),r)}new Promise(()=>{});function R0(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,R0(n.props.children,i));return}n.type!==pt&&lr(!1),!n.props.index||!n.props.children||lr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=R0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function kM(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Yz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qz(e,t){return e.button===0&&(!t||t==="_self")&&!Yz(e)}function $0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Xz(e,t){let r=$0(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const Jz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zz=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],eq="6";try{window.__reactRouterVersion=eq}catch{}const tq=x.createContext({isTransitioning:!1}),rq="startTransition",TC=uy[rq];function nq(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=tz({window:s,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&TC?TC(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>Vz(n),[n]),x.createElement(Kz,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const sq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,me=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=kM(t,Jz),{basename:p}=x.useContext(Oa),g,m=!1;if(typeof u=="string"&&iq.test(u)&&(g=u,sq))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Iu(S.pathname,p);S.origin===w.origin&&j!=null?u=j+S.search+S.hash:m=!0}catch{}let v=Cz(u,{relative:s}),y=lq(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||y(w)}return x.createElement("a",Rg({},h,{href:g||v,onClick:m||i?n:b,ref:r,target:c}))}),aq=x.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=kM(t,Zz),h=Ey(c,{relative:f.relative}),p=Li(),g=x.useContext(xM),{navigator:m,basename:v}=x.useContext(Oa),y=g!=null&&uq(h)&&u===!0,b=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,w=p.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(w=w.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase()),S&&v&&(S=Iu(S,v)||S);const j=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let _=w===b||!o&&w.startsWith(b)&&w.charAt(j)==="/",N=S!=null&&(S===b||!o&&S.startsWith(b)&&S.charAt(b.length)==="/"),k={isActive:_,isPending:N,isTransitioning:y},C=_?n:void 0,A;typeof i=="function"?A=i(k):A=[i,_?"active":null,N?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(k):l;return x.createElement(me,Rg({},f,{"aria-current":C,className:A,ref:r,style:I,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var M0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(M0||(M0={}));var RC;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(RC||(RC={}));function oq(e){let t=x.useContext(ky);return t||lr(!1),t}function lq(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Vo(),u=Li(),d=Ey(e,{relative:o});return x.useCallback(f=>{if(Qz(f,r)){f.preventDefault();let h=n!==void 0?n:Tg(u)===Tg(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function cq(e){let t=x.useRef($0(e)),r=x.useRef(!1),n=Li(),s=x.useMemo(()=>Xz(n.search,r.current?null:t.current),[n.search]),i=Vo(),o=x.useCallback((l,c)=>{const u=$0(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function uq(e,t){t===void 0&&(t={});let r=x.useContext(tq);r==null&&lr(!1);let{basename:n}=oq(M0.useViewTransitionState),s=Ey(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Iu(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Iu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return T0(s.pathname,o)!=null||T0(s.pathname,i)!=null}var jd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dq={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},so,e1,HT,fq=(HT=class{constructor(){$e(this,so,dq);$e(this,e1,!1)}setTimeoutProvider(e){ye(this,so,e)}setTimeout(e,t){return L(this,so).setTimeout(e,t)}clearTimeout(e){L(this,so).clearTimeout(e)}setInterval(e,t){return L(this,so).setInterval(e,t)}clearInterval(e){L(this,so).clearInterval(e)}},so=new WeakMap,e1=new WeakMap,HT),bl=new fq;function hq(e){setTimeout(e,0)}var Hl=typeof window>"u"||"Deno"in globalThis;function mn(){}function pq(e,t){return typeof e=="function"?e(t):e}function I0(e){return typeof e=="number"&&e>=0&&e!==1/0}function CM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Oo(e,t){return typeof e=="function"?e(t):e}function us(e,t){return typeof e=="function"?e(t):e}function $C(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==J1(o,t.options))return!1}else if(!ph(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function MC(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Kl(t.options.mutationKey)!==Kl(i))return!1}else if(!ph(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function J1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Kl)(e)}function Kl(e){return JSON.stringify(e,(t,r)=>D0(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ph(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ph(e[r],t[r])):!1}var mq=Object.prototype.hasOwnProperty;function EM(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=IC(e)&&IC(t);if(!n&&!(D0(e)&&D0(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:o[d],h=e[f],p=t[f];if(h===p){c[f]=h,(n?d<i:mq.call(e,f))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){c[f]=p;continue}const g=EM(h,p,r+1);c[f]=g,g===h&&u++}return i===l&&u===i?e:c}function $g(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function IC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function D0(e){if(!DC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!DC(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function DC(e){return Object.prototype.toString.call(e)==="[object Object]"}function gq(e){return new Promise(t=>{bl.setTimeout(t,e)})}function L0(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?EM(e,t):t}function vq(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function yq(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Z1=Symbol();function OM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Z1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function eS(e,t){return typeof e=="function"?e(...t):!!e}function xq(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var El,io,vu,KT,bq=(KT=class extends jd{constructor(){super();$e(this,El);$e(this,io);$e(this,vu);ye(this,vu,t=>{if(!Hl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){L(this,io)||this.setEventListener(L(this,vu))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,io))==null||t.call(this),ye(this,io,void 0))}setEventListener(t){var r;ye(this,vu,t),(r=L(this,io))==null||r.call(this),ye(this,io,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){L(this,El)!==t&&(ye(this,El,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof L(this,El)=="boolean"?L(this,El):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},El=new WeakMap,io=new WeakMap,vu=new WeakMap,KT),tS=new bq;function F0(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var wq=hq;function jq(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=wq;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Tr=jq(),yu,ao,xu,GT,_q=(GT=class extends jd{constructor(){super();$e(this,yu,!0);$e(this,ao);$e(this,xu);ye(this,xu,t=>{if(!Hl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){L(this,ao)||this.setEventListener(L(this,xu))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,ao))==null||t.call(this),ye(this,ao,void 0))}setEventListener(t){var r;ye(this,xu,t),(r=L(this,ao))==null||r.call(this),ye(this,ao,t(this.setOnline.bind(this)))}setOnline(t){L(this,yu)!==t&&(ye(this,yu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return L(this,yu)}},yu=new WeakMap,ao=new WeakMap,xu=new WeakMap,GT),Mg=new _q;function Sq(e){return Math.min(1e3*2**e,3e4)}function PM(e){return(e??"online")==="online"?Mg.isOnline():!0}var U0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function AM(e){let t=!1,r=0,n;const s=F0(),i=()=>s.status!=="pending",o=m=>{var v;if(!i()){const y=new U0(m);h(y),(v=e.onCancel)==null||v.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>tS.isFocused()&&(e.networkMode==="always"||Mg.isOnline())&&e.canRun(),d=()=>PM(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),s.resolve(m))},h=m=>{i()||(n==null||n(),s.reject(m))},p=()=>new Promise(m=>{var v;n=y=>{(i()||u())&&m(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(i())return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var _;if(i())return;const b=e.retry??(Hl?0:3),w=e.retryDelay??Sq,S=typeof w=="function"?w(r,y):w,j=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!j){h(y);return}r++,(_=e.onFail)==null||_.call(e,r,y),gq(S).then(()=>u()?void 0:p()).then(()=>{t?h(y):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),s)}}var Ol,YT,TM=(YT=class{constructor(){$e(this,Ol)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I0(this.gcTime)&&ye(this,Ol,bl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hl?1/0:5*60*1e3))}clearGcTimeout(){L(this,Ol)&&(bl.clearTimeout(L(this,Ol)),ye(this,Ol,void 0))}},Ol=new WeakMap,YT),Pl,bu,cs,Al,Fr,pp,Tl,zs,Gi,QT,Nq=(QT=class extends TM{constructor(t){super();$e(this,zs);$e(this,Pl);$e(this,bu);$e(this,cs);$e(this,Al);$e(this,Fr);$e(this,pp);$e(this,Tl);ye(this,Tl,!1),ye(this,pp,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,Al,t.client),ye(this,cs,L(this,Al).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,Pl,FC(this.options)),this.state=t.state??L(this,Pl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=L(this,Fr))==null?void 0:t.promise}setOptions(t){if(this.options={...L(this,pp),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=FC(this.options);r.data!==void 0&&(this.setState(LC(r.data,r.dataUpdatedAt)),ye(this,Pl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,cs).remove(this)}setData(t,r){const n=L0(this.state.data,t,this.options);return st(this,zs,Gi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){st(this,zs,Gi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=L(this,Fr))==null?void 0:n.promise;return(s=L(this,Fr))==null||s.cancel(t),r?r.then(mn).catch(mn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,Pl))}isActive(){return this.observers.some(t=>us(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Z1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Oo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!CM(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=L(this,Fr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=L(this,Fr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),L(this,cs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(L(this,Fr)&&(L(this,Tl)?L(this,Fr).cancel({revert:!0}):L(this,Fr).cancelRetry()),this.scheduleGc()),L(this,cs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,zs,Gi).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,g,m,v,y,b,w;if(this.state.fetchStatus!=="idle"&&((c=L(this,Fr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(L(this,Fr))return L(this,Fr).continueRetry(),L(this,Fr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(j=>j.options.queryFn);S&&this.setOptions(S.options)}const n=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(ye(this,Tl,!0),n.signal)})},i=()=>{const S=OM(this.options,r),_=(()=>{const N={client:L(this,Al),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return ye(this,Tl,!1),this.options.persister?this.options.persister(S,_,this):S(_)},l=(()=>{const S={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:L(this,Al),state:this.state,fetchFn:i};return s(S),S})();(u=this.options.behavior)==null||u.onFetch(l,this),ye(this,bu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&st(this,zs,Gi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ye(this,Fr,AM({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:S=>{S instanceof U0&&S.revert&&this.setState({...L(this,bu),fetchStatus:"idle"}),n.abort()},onFail:(S,j)=>{st(this,zs,Gi).call(this,{type:"failed",failureCount:S,error:j})},onPause:()=>{st(this,zs,Gi).call(this,{type:"pause"})},onContinue:()=>{st(this,zs,Gi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const S=await L(this,Fr).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(p=(h=L(this,cs).config).onSuccess)==null||p.call(h,S,this),(m=(g=L(this,cs).config).onSettled)==null||m.call(g,S,this.state.error,this),S}catch(S){if(S instanceof U0){if(S.silent)return L(this,Fr).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw st(this,zs,Gi).call(this,{type:"error",error:S}),(y=(v=L(this,cs).config).onError)==null||y.call(v,S,this),(w=(b=L(this,cs).config).onSettled)==null||w.call(b,this.state.data,S,this),S}finally{this.scheduleGc()}}},Pl=new WeakMap,bu=new WeakMap,cs=new WeakMap,Al=new WeakMap,Fr=new WeakMap,pp=new WeakMap,Tl=new WeakMap,zs=new WeakSet,Gi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...RM(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...LC(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ye(this,bu,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Tr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),L(this,cs).notify({query:this,type:"updated",action:t})})},QT);function RM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function LC(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function FC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Nn,ct,mp,fn,Rl,wu,Ji,oo,gp,ju,_u,$l,Ml,lo,Su,_t,Nf,B0,z0,q0,W0,V0,H0,K0,$M,XT,kq=(XT=class extends jd{constructor(t,r){super();$e(this,_t);$e(this,Nn);$e(this,ct);$e(this,mp);$e(this,fn);$e(this,Rl);$e(this,wu);$e(this,Ji);$e(this,oo);$e(this,gp);$e(this,ju);$e(this,_u);$e(this,$l);$e(this,Ml);$e(this,lo);$e(this,Su,new Set);this.options=r,ye(this,Nn,t),ye(this,oo,null),ye(this,Ji,F0()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,ct).addObserver(this),UC(L(this,ct),this.options)?st(this,_t,Nf).call(this):this.updateResult(),st(this,_t,W0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return G0(L(this,ct),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return G0(L(this,ct),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,_t,V0).call(this),st(this,_t,H0).call(this),L(this,ct).removeObserver(this)}setOptions(t){const r=this.options,n=L(this,ct);if(this.options=L(this,Nn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof us(this.options.enabled,L(this,ct))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,_t,K0).call(this),L(this,ct).setOptions(this.options),r._defaulted&&!$g(this.options,r)&&L(this,Nn).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,ct),observer:this});const s=this.hasListeners();s&&BC(L(this,ct),n,this.options,r)&&st(this,_t,Nf).call(this),this.updateResult(),s&&(L(this,ct)!==n||us(this.options.enabled,L(this,ct))!==us(r.enabled,L(this,ct))||Oo(this.options.staleTime,L(this,ct))!==Oo(r.staleTime,L(this,ct)))&&st(this,_t,B0).call(this);const i=st(this,_t,z0).call(this);s&&(L(this,ct)!==n||us(this.options.enabled,L(this,ct))!==us(r.enabled,L(this,ct))||i!==L(this,lo))&&st(this,_t,q0).call(this,i)}getOptimisticResult(t){const r=L(this,Nn).getQueryCache().build(L(this,Nn),t),n=this.createResult(r,t);return Eq(this,n)&&(ye(this,fn,n),ye(this,wu,this.options),ye(this,Rl,L(this,ct).state)),n}getCurrentResult(){return L(this,fn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&L(this,Ji).status==="pending"&&L(this,Ji).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){L(this,Su).add(t)}getCurrentQuery(){return L(this,ct)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=L(this,Nn).defaultQueryOptions(t),n=L(this,Nn).getQueryCache().build(L(this,Nn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return st(this,_t,Nf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,fn)))}createResult(t,r){var C;const n=L(this,ct),s=this.options,i=L(this,fn),o=L(this,Rl),l=L(this,wu),u=t!==n?t.state:L(this,mp),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const A=this.hasListeners(),I=!A&&UC(t,r),O=A&&BC(t,n,r,s);(I||O)&&(f={...f,...RM(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:v}=f;p=f.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let A;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=i.data,y=!0):A=typeof r.placeholderData=="function"?r.placeholderData((C=L(this,_u))==null?void 0:C.state.data,L(this,_u)):r.placeholderData,A!==void 0&&(v="success",p=L0(i==null?void 0:i.data,A,r),h=!0)}if(r.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&r.select===L(this,gp))p=L(this,ju);else try{ye(this,gp,r.select),p=r.select(p),p=L0(i==null?void 0:i.data,p,r),ye(this,ju,p),ye(this,oo,null)}catch(A){ye(this,oo,A)}L(this,oo)&&(g=L(this,oo),p=L(this,ju),m=Date.now(),v="error");const b=f.fetchStatus==="fetching",w=v==="pending",S=v==="error",j=w&&b,_=p!==void 0,k={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:S,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:S&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&_,isStale:rS(t,r),refetch:this.refetch,promise:L(this,Ji),isEnabled:us(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=k.data!==void 0,I=k.status==="error"&&!A,O=B=>{I?B.reject(k.error):A&&B.resolve(k.data)},U=()=>{const B=ye(this,Ji,k.promise=F0());O(B)},E=L(this,Ji);switch(E.status){case"pending":t.queryHash===n.queryHash&&O(E);break;case"fulfilled":(I||k.data!==E.value)&&U();break;case"rejected":(!I||k.error!==E.reason)&&U();break}}return k}updateResult(){const t=L(this,fn),r=this.createResult(L(this,ct),this.options);if(ye(this,Rl,L(this,ct).state),ye(this,wu,this.options),L(this,Rl).data!==void 0&&ye(this,_u,L(this,ct)),$g(r,t))return;ye(this,fn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!L(this,Su).size)return!0;const o=new Set(i??L(this,Su));return this.options.throwOnError&&o.add("error"),Object.keys(L(this,fn)).some(l=>{const c=l;return L(this,fn)[c]!==t[c]&&o.has(c)})};st(this,_t,$M).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,_t,W0).call(this)}},Nn=new WeakMap,ct=new WeakMap,mp=new WeakMap,fn=new WeakMap,Rl=new WeakMap,wu=new WeakMap,Ji=new WeakMap,oo=new WeakMap,gp=new WeakMap,ju=new WeakMap,_u=new WeakMap,$l=new WeakMap,Ml=new WeakMap,lo=new WeakMap,Su=new WeakMap,_t=new WeakSet,Nf=function(t){st(this,_t,K0).call(this);let r=L(this,ct).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(mn)),r},B0=function(){st(this,_t,V0).call(this);const t=Oo(this.options.staleTime,L(this,ct));if(Hl||L(this,fn).isStale||!I0(t))return;const n=CM(L(this,fn).dataUpdatedAt,t)+1;ye(this,$l,bl.setTimeout(()=>{L(this,fn).isStale||this.updateResult()},n))},z0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,ct)):this.options.refetchInterval)??!1},q0=function(t){st(this,_t,H0).call(this),ye(this,lo,t),!(Hl||us(this.options.enabled,L(this,ct))===!1||!I0(L(this,lo))||L(this,lo)===0)&&ye(this,Ml,bl.setInterval(()=>{(this.options.refetchIntervalInBackground||tS.isFocused())&&st(this,_t,Nf).call(this)},L(this,lo)))},W0=function(){st(this,_t,B0).call(this),st(this,_t,q0).call(this,st(this,_t,z0).call(this))},V0=function(){L(this,$l)&&(bl.clearTimeout(L(this,$l)),ye(this,$l,void 0))},H0=function(){L(this,Ml)&&(bl.clearInterval(L(this,Ml)),ye(this,Ml,void 0))},K0=function(){const t=L(this,Nn).getQueryCache().build(L(this,Nn),this.options);if(t===L(this,ct))return;const r=L(this,ct);ye(this,ct,t),ye(this,mp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},$M=function(t){Tr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(L(this,fn))}),L(this,Nn).getQueryCache().notify({query:L(this,ct),type:"observerResultsUpdated"})})},XT);function Cq(e,t){return us(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function UC(e,t){return Cq(e,t)||e.state.data!==void 0&&G0(e,t,t.refetchOnMount)}function G0(e,t,r){if(us(t.enabled,e)!==!1&&Oo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&rS(e,t)}return!1}function BC(e,t,r,n){return(e!==t||us(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&rS(e,r)}function rS(e,t){return us(t.enabled,e)!==!1&&e.isStaleByTime(Oo(t.staleTime,e))}function Eq(e,t){return!$g(e.getCurrentResult(),t)}function zC(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=w=>{xq(w,()=>t.signal,()=>m=!0)},y=OM(t.options,t.fetchOptions),b=async(w,S,j)=>{if(m)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};return v(I),I})(),k=await y(N),{maxPages:C}=t.options,A=j?yq:vq;return{pages:A(w.pages,k,C),pageParams:A(w.pageParams,S,C)}};if(s&&i.length){const w=s==="backward",S=w?Oq:qC,j={pages:i,pageParams:o},_=S(n,j);l=await b(j,_,w)}else{const w=e??i.length;do{const S=c===0?o[0]??n.initialPageParam:qC(n,l);if(c>0&&S==null)break;l=await b(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function qC(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Oq(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var vp,xi,sn,Il,bi,Va,JT,Pq=(JT=class extends TM{constructor(t){super();$e(this,bi);$e(this,vp);$e(this,xi);$e(this,sn);$e(this,Il);ye(this,vp,t.client),this.mutationId=t.mutationId,ye(this,sn,t.mutationCache),ye(this,xi,[]),this.state=t.state||MM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){L(this,xi).includes(t)||(L(this,xi).push(t),this.clearGcTimeout(),L(this,sn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,xi,L(this,xi).filter(r=>r!==t)),this.scheduleGc(),L(this,sn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){L(this,xi).length||(this.state.status==="pending"?this.scheduleGc():L(this,sn).remove(this))}continue(){var t;return((t=L(this,Il))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,g,m,v,y,b,w,S,j,_,N;const r=()=>{st(this,bi,Va).call(this,{type:"continue"})},n={client:L(this,vp),meta:this.options.meta,mutationKey:this.options.mutationKey};ye(this,Il,AM({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{st(this,bi,Va).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{st(this,bi,Va).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,sn).canRun(this)}));const s=this.state.status==="pending",i=!L(this,Il).canStart();try{if(s)r();else{st(this,bi,Va).call(this,{type:"pending",variables:t,isPaused:i}),L(this,sn).config.onMutate&&await L(this,sn).config.onMutate(t,this,n);const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));C!==this.state.context&&st(this,bi,Va).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const k=await L(this,Il).start();return await((u=(c=L(this,sn).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,n)),await((p=(h=L(this,sn).config).onSettled)==null?void 0:p.call(h,k,null,this.state.variables,this.state.context,this,n)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,k,null,t,this.state.context,n)),st(this,bi,Va).call(this,{type:"success",data:k}),k}catch(k){try{await((y=(v=L(this,sn).config).onError)==null?void 0:y.call(v,k,t,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((w=(b=this.options).onError)==null?void 0:w.call(b,k,t,this.state.context,n))}catch(C){Promise.reject(C)}try{await((j=(S=L(this,sn).config).onSettled)==null?void 0:j.call(S,void 0,k,this.state.variables,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((N=(_=this.options).onSettled)==null?void 0:N.call(_,void 0,k,t,this.state.context,n))}catch(C){Promise.reject(C)}throw st(this,bi,Va).call(this,{type:"error",error:k}),k}finally{L(this,sn).runNext(this)}}},vp=new WeakMap,xi=new WeakMap,sn=new WeakMap,Il=new WeakMap,bi=new WeakSet,Va=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Tr.batch(()=>{L(this,xi).forEach(n=>{n.onMutationUpdate(t)}),L(this,sn).notify({mutation:this,type:"updated",action:t})})},JT);function MM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zi,qs,yp,ZT,Aq=(ZT=class extends jd{constructor(t={}){super();$e(this,Zi);$e(this,qs);$e(this,yp);this.config=t,ye(this,Zi,new Set),ye(this,qs,new Map),ye(this,yp,0)}build(t,r,n){const s=new Pq({client:t,mutationCache:this,mutationId:++Vp(this,yp)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){L(this,Zi).add(t);const r=um(t);if(typeof r=="string"){const n=L(this,qs).get(r);n?n.push(t):L(this,qs).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(L(this,Zi).delete(t)){const r=um(t);if(typeof r=="string"){const n=L(this,qs).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&L(this,qs).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=um(t);if(typeof r=="string"){const n=L(this,qs).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=um(t);if(typeof r=="string"){const s=(n=L(this,qs).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tr.batch(()=>{L(this,Zi).forEach(t=>{this.notify({type:"removed",mutation:t})}),L(this,Zi).clear(),L(this,qs).clear()})}getAll(){return Array.from(L(this,Zi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>MC(r,n))}findAll(t={}){return this.getAll().filter(r=>MC(t,r))}notify(t){Tr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Tr.batch(()=>Promise.all(t.map(r=>r.continue().catch(mn))))}},Zi=new WeakMap,qs=new WeakMap,yp=new WeakMap,ZT);function um(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ea,co,kn,ta,pa,rg,Y0,eR,Tq=(eR=class extends jd{constructor(r,n){super();$e(this,pa);$e(this,ea);$e(this,co);$e(this,kn);$e(this,ta);ye(this,ea,r),this.setOptions(n),this.bindMethods(),st(this,pa,rg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=L(this,ea).defaultMutationOptions(r),$g(this.options,n)||L(this,ea).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,kn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Kl(n.mutationKey)!==Kl(this.options.mutationKey)?this.reset():((s=L(this,kn))==null?void 0:s.state.status)==="pending"&&L(this,kn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=L(this,kn))==null||r.removeObserver(this)}onMutationUpdate(r){st(this,pa,rg).call(this),st(this,pa,Y0).call(this,r)}getCurrentResult(){return L(this,co)}reset(){var r;(r=L(this,kn))==null||r.removeObserver(this),ye(this,kn,void 0),st(this,pa,rg).call(this),st(this,pa,Y0).call(this)}mutate(r,n){var s;return ye(this,ta,n),(s=L(this,kn))==null||s.removeObserver(this),ye(this,kn,L(this,ea).getMutationCache().build(L(this,ea),this.options)),L(this,kn).addObserver(this),L(this,kn).execute(r)}},ea=new WeakMap,co=new WeakMap,kn=new WeakMap,ta=new WeakMap,pa=new WeakSet,rg=function(){var n;const r=((n=L(this,kn))==null?void 0:n.state)??MM();ye(this,co,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Y0=function(r){Tr.batch(()=>{var n,s,i,o,l,c,u,d;if(L(this,ta)&&this.hasListeners()){const f=L(this,co).variables,h=L(this,co).context,p={client:L(this,ea),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=L(this,ta)).onSuccess)==null||s.call(n,r.data,f,h,p)}catch(g){Promise.reject(g)}try{(o=(i=L(this,ta)).onSettled)==null||o.call(i,r.data,null,f,h,p)}catch(g){Promise.reject(g)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=L(this,ta)).onError)==null||c.call(l,r.error,f,h,p)}catch(g){Promise.reject(g)}try{(d=(u=L(this,ta)).onSettled)==null||d.call(u,void 0,r.error,f,h,p)}catch(g){Promise.reject(g)}}}this.listeners.forEach(f=>{f(L(this,co))})})},eR),wi,tR,Rq=(tR=class extends jd{constructor(t={}){super();$e(this,wi);this.config=t,ye(this,wi,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??J1(s,r);let o=this.get(i);return o||(o=new Nq({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){L(this,wi).has(t.queryHash)||(L(this,wi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=L(this,wi).get(t.queryHash);r&&(t.destroy(),r===t&&L(this,wi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return L(this,wi).get(t)}getAll(){return[...L(this,wi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$C(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>$C(t,n)):r}notify(t){Tr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wi=new WeakMap,tR),ur,uo,fo,Nu,ku,ho,Cu,Eu,rR,$q=(rR=class{constructor(e={}){$e(this,ur);$e(this,uo);$e(this,fo);$e(this,Nu);$e(this,ku);$e(this,ho);$e(this,Cu);$e(this,Eu);ye(this,ur,e.queryCache||new Rq),ye(this,uo,e.mutationCache||new Aq),ye(this,fo,e.defaultOptions||{}),ye(this,Nu,new Map),ye(this,ku,new Map),ye(this,ho,0)}mount(){Vp(this,ho)._++,L(this,ho)===1&&(ye(this,Cu,tS.subscribe(async e=>{e&&(await this.resumePausedMutations(),L(this,ur).onFocus())})),ye(this,Eu,Mg.subscribe(async e=>{e&&(await this.resumePausedMutations(),L(this,ur).onOnline())})))}unmount(){var e,t;Vp(this,ho)._--,L(this,ho)===0&&((e=L(this,Cu))==null||e.call(this),ye(this,Cu,void 0),(t=L(this,Eu))==null||t.call(this),ye(this,Eu,void 0))}isFetching(e){return L(this,ur).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return L(this,uo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=L(this,ur).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=L(this,ur).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Oo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return L(this,ur).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=L(this,ur).get(n.queryHash),i=s==null?void 0:s.state.data,o=pq(t,i);if(o!==void 0)return L(this,ur).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Tr.batch(()=>L(this,ur).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=L(this,ur).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=L(this,ur);Tr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=L(this,ur);return Tr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Tr.batch(()=>L(this,ur).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(mn).catch(mn)}invalidateQueries(e,t={}){return Tr.batch(()=>(L(this,ur).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Tr.batch(()=>L(this,ur).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(mn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(mn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=L(this,ur).build(this,t);return r.isStaleByTime(Oo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mn).catch(mn)}fetchInfiniteQuery(e){return e.behavior=zC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mn).catch(mn)}ensureInfiniteQueryData(e){return e.behavior=zC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mg.isOnline()?L(this,uo).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,ur)}getMutationCache(){return L(this,uo)}getDefaultOptions(){return L(this,fo)}setDefaultOptions(e){ye(this,fo,e)}setQueryDefaults(e,t){L(this,Nu).set(Kl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...L(this,Nu).values()],r={};return t.forEach(n=>{ph(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){L(this,ku).set(Kl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...L(this,ku).values()],r={};return t.forEach(n=>{ph(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...L(this,fo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=J1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Z1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...L(this,fo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){L(this,ur).clear(),L(this,uo).clear()}},ur=new WeakMap,uo=new WeakMap,fo=new WeakMap,Nu=new WeakMap,ku=new WeakMap,ho=new WeakMap,Cu=new WeakMap,Eu=new WeakMap,rR),IM=x.createContext(void 0),_e=e=>{const t=x.useContext(IM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Mq=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(IM.Provider,{value:e,children:t})),DM=x.createContext(!1),Iq=()=>x.useContext(DM);DM.Provider;function Dq(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Lq=x.createContext(Dq()),Fq=()=>x.useContext(Lq),Uq=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?eS(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},Bq=e=>{x.useEffect(()=>{e.clearReset()},[e])},zq=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||eS(r,[e.error,n])),qq=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Wq=(e,t)=>e.isLoading&&e.isFetching&&!t,Vq=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,WC=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Hq(e,t,r){var h,p,g,m;const n=Iq(),s=Fq(),i=_e(),o=i.defaultQueryOptions(e);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",qq(o),Uq(o,s,l),Bq(s);const c=!i.getQueryCache().get(o.queryHash),[u]=x.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const y=f?u.subscribe(Tr.batchCalls(v)):mn;return u.updateResult(),y},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),x.useEffect(()=>{u.setOptions(o)},[o,u]),Vq(o,d))throw WC(o,u,s);if(zq({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((m=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||m.call(g,o,d),o.experimental_prefetchInRender&&!Hl&&Wq(d,n)){const v=c?WC(o,u,s):l==null?void 0:l.promise;v==null||v.catch(mn).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function De(e,t){return Hq(e,kq)}function Se(e,t){const r=_e(),[n]=x.useState(()=>new Tq(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const s=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(Tr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((o,l)=>{n.mutate(o,l).catch(mn)},[n]);if(s.error&&eS(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var Kq=e=>{switch(e){case"success":return Qq;case"info":return Jq;case"warning":return Xq;case"error":return Zq;default:return null}},Gq=Array(12).fill(0),Yq=({visible:e,className:t})=>P.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},P.createElement("div",{className:"sonner-spinner"},Gq.map((r,n)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Qq=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Xq=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Jq=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Zq=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eW=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),tW=()=>{let[e,t]=P.useState(document.hidden);return P.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Q0=1,rW=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Q0++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],P.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(sW(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Q0++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Cn=new rW,nW=(e,t)=>{let r=(t==null?void 0:t.id)||Q0++;return Cn.addToast({title:e,...t,id:r}),r},sW=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",iW=nW,aW=()=>Cn.toasts,oW=()=>Cn.getActiveToasts(),V=Object.assign(iW,{success:Cn.success,info:Cn.info,warning:Cn.warning,error:Cn.error,custom:Cn.custom,message:Cn.message,promise:Cn.promise,dismiss:Cn.dismiss,loading:Cn.loading},{getHistory:aW,getToasts:oW});function lW(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}lW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function dm(e){return e.label!==void 0}var cW=3,uW="32px",dW="16px",VC=4e3,fW=356,hW=14,pW=20,mW=200;function $s(...e){return e.filter(Boolean).join(" ")}function gW(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var vW=e=>{var t,r,n,s,i,o,l,c,u,d,f;let{invert:h,toast:p,unstyled:g,interacting:m,setHeights:v,visibleToasts:y,heights:b,index:w,toasts:S,expanded:j,removeToast:_,defaultRichColors:N,closeButton:k,style:C,cancelButtonStyle:A,actionButtonStyle:I,className:O="",descriptionClassName:U="",duration:E,position:B,gap:M,loadingIcon:z,expandByDefault:F,classNames:T,icons:R,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:G}=e,[ie,he]=P.useState(null),[Le,Fe]=P.useState(null),[ce,Me]=P.useState(!1),[te,pe]=P.useState(!1),[H,K]=P.useState(!1),[Ye,Ue]=P.useState(!1),[wt,yt]=P.useState(!1),[Zt,tn]=P.useState(0),[Sn,fi]=P.useState(0),D=P.useRef(p.duration||E||VC),W=P.useRef(null),Y=P.useRef(null),ve=w===0,fe=w+1<=y,ne=p.type,Ae=p.dismissible!==!1,xt=p.className||"",bt=p.descriptionClassName||"",vr=P.useMemo(()=>b.findIndex(et=>et.toastId===p.id)||0,[b,p.id]),Wi=P.useMemo(()=>{var et;return(et=p.closeButton)!=null?et:k},[p.closeButton,k]),Os=P.useMemo(()=>p.duration||E||VC,[p.duration,E]),Kd=P.useRef(0),hi=P.useRef(0),xc=P.useRef(0),Da=P.useRef(null),[Wp,eb]=B.split("-"),Gd=P.useMemo(()=>b.reduce((et,Mt,er)=>er>=vr?et:et+Mt.height,0),[b,vr]),mk=tW(),CB=p.invert||h,tb=ne==="loading";hi.current=P.useMemo(()=>vr*M+Gd,[vr,Gd]),P.useEffect(()=>{D.current=Os},[Os]),P.useEffect(()=>{Me(!0)},[]),P.useEffect(()=>{let et=Y.current;if(et){let Mt=et.getBoundingClientRect().height;return fi(Mt),v(er=>[{toastId:p.id,height:Mt,position:p.position},...er]),()=>v(er=>er.filter(Ps=>Ps.toastId!==p.id))}},[v,p.id]),P.useLayoutEffect(()=>{if(!ce)return;let et=Y.current,Mt=et.style.height;et.style.height="auto";let er=et.getBoundingClientRect().height;et.style.height=Mt,fi(er),v(Ps=>Ps.find(As=>As.toastId===p.id)?Ps.map(As=>As.toastId===p.id?{...As,height:er}:As):[{toastId:p.id,height:er,position:p.position},...Ps])},[ce,p.title,p.description,v,p.id]);let La=P.useCallback(()=>{pe(!0),tn(hi.current),v(et=>et.filter(Mt=>Mt.toastId!==p.id)),setTimeout(()=>{_(p)},mW)},[p,_,v,hi]);P.useEffect(()=>{if(p.promise&&ne==="loading"||p.duration===1/0||p.type==="loading")return;let et;return j||m||G&&mk?(()=>{if(xc.current<Kd.current){let Mt=new Date().getTime()-Kd.current;D.current=D.current-Mt}xc.current=new Date().getTime()})():D.current!==1/0&&(Kd.current=new Date().getTime(),et=setTimeout(()=>{var Mt;(Mt=p.onAutoClose)==null||Mt.call(p,p),La()},D.current)),()=>clearTimeout(et)},[j,m,p,ne,G,mk,La]),P.useEffect(()=>{p.delete&&La()},[La,p.delete]);function EB(){var et,Mt,er;return R!=null&&R.loading?P.createElement("div",{className:$s(T==null?void 0:T.loader,(et=p==null?void 0:p.classNames)==null?void 0:et.loader,"sonner-loader"),"data-visible":ne==="loading"},R.loading):z?P.createElement("div",{className:$s(T==null?void 0:T.loader,(Mt=p==null?void 0:p.classNames)==null?void 0:Mt.loader,"sonner-loader"),"data-visible":ne==="loading"},z):P.createElement(Yq,{className:$s(T==null?void 0:T.loader,(er=p==null?void 0:p.classNames)==null?void 0:er.loader),visible:ne==="loading"})}return P.createElement("li",{tabIndex:0,ref:Y,className:$s(O,xt,T==null?void 0:T.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[ne],(r=p==null?void 0:p.classNames)==null?void 0:r[ne]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:N,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":ce,"data-promise":!!p.promise,"data-swiped":wt,"data-removed":te,"data-visible":fe,"data-y-position":Wp,"data-x-position":eb,"data-index":w,"data-front":ve,"data-swiping":H,"data-dismissible":Ae,"data-type":ne,"data-invert":CB,"data-swipe-out":Ye,"data-swipe-direction":Le,"data-expanded":!!(j||F&&ce),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${te?Zt:hi.current}px`,"--initial-height":F?"auto":`${Sn}px`,...C,...p.style},onDragEnd:()=>{K(!1),he(null),Da.current=null},onPointerDown:et=>{tb||!Ae||(W.current=new Date,tn(hi.current),et.target.setPointerCapture(et.pointerId),et.target.tagName!=="BUTTON"&&(K(!0),Da.current={x:et.clientX,y:et.clientY}))},onPointerUp:()=>{var et,Mt,er,Ps;if(Ye||!Ae)return;Da.current=null;let As=Number(((et=Y.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fa=Number(((Mt=Y.current)==null?void 0:Mt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),nl=new Date().getTime()-((er=W.current)==null?void 0:er.getTime()),Ts=ie==="x"?As:Fa,Ua=Math.abs(Ts)/nl;if(Math.abs(Ts)>=pW||Ua>.11){tn(hi.current),(Ps=p.onDismiss)==null||Ps.call(p,p),Fe(ie==="x"?As>0?"right":"left":Fa>0?"down":"up"),La(),Ue(!0),yt(!1);return}K(!1),he(null)},onPointerMove:et=>{var Mt,er,Ps,As;if(!Da.current||!Ae||((Mt=window.getSelection())==null?void 0:Mt.toString().length)>0)return;let Fa=et.clientY-Da.current.y,nl=et.clientX-Da.current.x,Ts=(er=e.swipeDirections)!=null?er:gW(B);!ie&&(Math.abs(nl)>1||Math.abs(Fa)>1)&&he(Math.abs(nl)>Math.abs(Fa)?"x":"y");let Ua={x:0,y:0};ie==="y"?(Ts.includes("top")||Ts.includes("bottom"))&&(Ts.includes("top")&&Fa<0||Ts.includes("bottom")&&Fa>0)&&(Ua.y=Fa):ie==="x"&&(Ts.includes("left")||Ts.includes("right"))&&(Ts.includes("left")&&nl<0||Ts.includes("right")&&nl>0)&&(Ua.x=nl),(Math.abs(Ua.x)>0||Math.abs(Ua.y)>0)&&yt(!0),(Ps=Y.current)==null||Ps.style.setProperty("--swipe-amount-x",`${Ua.x}px`),(As=Y.current)==null||As.style.setProperty("--swipe-amount-y",`${Ua.y}px`)}},Wi&&!p.jsx?P.createElement("button",{"aria-label":J,"data-disabled":tb,"data-close-button":!0,onClick:tb||!Ae?()=>{}:()=>{var et;La(),(et=p.onDismiss)==null||et.call(p,p)},className:$s(T==null?void 0:T.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=R==null?void 0:R.close)!=null?i:eW):null,p.jsx||x.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:P.createElement(P.Fragment,null,ne||p.icon||p.promise?P.createElement("div",{"data-icon":"",className:$s(T==null?void 0:T.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||EB():null,p.type!=="loading"?p.icon||(R==null?void 0:R[ne])||Kq(ne):null):null,P.createElement("div",{"data-content":"",className:$s(T==null?void 0:T.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},P.createElement("div",{"data-title":"",className:$s(T==null?void 0:T.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?P.createElement("div",{"data-description":"",className:$s(U,bt,T==null?void 0:T.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),x.isValidElement(p.cancel)?p.cancel:p.cancel&&dm(p.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:et=>{var Mt,er;dm(p.cancel)&&Ae&&((er=(Mt=p.cancel).onClick)==null||er.call(Mt,et),La())},className:$s(T==null?void 0:T.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,x.isValidElement(p.action)?p.action:p.action&&dm(p.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:et=>{var Mt,er;dm(p.action)&&((er=(Mt=p.action).onClick)==null||er.call(Mt,et),!et.defaultPrevented&&La())},className:$s(T==null?void 0:T.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function HC(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function yW(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?dW:uW;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var xW=x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:g=cW,toastOptions:m,dir:v=HC(),gap:y=hW,loadingIcon:b,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=e,[_,N]=P.useState([]),k=P.useMemo(()=>Array.from(new Set([n].concat(_.filter(G=>G.position).map(G=>G.position)))),[_,n]),[C,A]=P.useState([]),[I,O]=P.useState(!1),[U,E]=P.useState(!1),[B,M]=P.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=P.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=P.useRef(null),R=P.useRef(!1),J=P.useCallback(G=>{N(ie=>{var he;return(he=ie.find(Le=>Le.id===G.id))!=null&&he.delete||Cn.dismiss(G.id),ie.filter(({id:Le})=>Le!==G.id)})},[]);return P.useEffect(()=>Cn.subscribe(G=>{if(G.dismiss){N(ie=>ie.map(he=>he.id===G.id?{...he,delete:!0}:he));return}setTimeout(()=>{mM.flushSync(()=>{N(ie=>{let he=ie.findIndex(Le=>Le.id===G.id);return he!==-1?[...ie.slice(0,he),{...ie[he],...G},...ie.slice(he+1)]:[G,...ie]})})})}),[]),P.useEffect(()=>{if(d!=="system"){M(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:ie})=>{M(ie?"dark":"light")})}catch{G.addListener(({matches:he})=>{try{M(he?"dark":"light")}catch(Le){console.error(Le)}})}},[d]),P.useEffect(()=>{_.length<=1&&O(!1)},[_]),P.useEffect(()=>{let G=ie=>{var he,Le;s.every(Fe=>ie[Fe]||ie.code===Fe)&&(O(!0),(he=z.current)==null||he.focus()),ie.code==="Escape"&&(document.activeElement===z.current||(Le=z.current)!=null&&Le.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[s]),P.useEffect(()=>{if(z.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,R.current=!1)}},[z.current]),P.createElement("section",{ref:t,"aria-label":`${S} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((G,ie)=>{var he;let[Le,Fe]=G.split("-");return _.length?P.createElement("ol",{key:G,dir:v==="auto"?HC():v,tabIndex:-1,ref:z,className:l,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":Le,"data-lifted":I&&_.length>1&&!i,"data-x-position":Fe,style:{"--front-toast-height":`${((he=C[0])==null?void 0:he.height)||0}px`,"--width":`${fW}px`,"--gap":`${y}px`,...p,...yW(c,u)},onBlur:ce=>{R.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(R.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||R.current||(R.current=!0,T.current=ce.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{U||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},_.filter(ce=>!ce.position&&ie===0||ce.position===G).map((ce,Me)=>{var te,pe;return P.createElement(vW,{key:ce.id,icons:w,index:Me,toast:ce,defaultRichColors:f,duration:(te=m==null?void 0:m.duration)!=null?te:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:g,closeButton:(pe=m==null?void 0:m.closeButton)!=null?pe:o,interacting:U,position:G,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:J,toasts:_.filter(H=>H.position==ce.position),heights:C.filter(H=>H.position==ce.position),setHeights:A,expandByDefault:i,gap:y,loadingIcon:b,expanded:I,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))}),_i=function(){return _i=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},_i.apply(this,arguments)};function _d(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function bW(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function wW(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const jW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class nS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class _W extends nS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class KC extends nS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class GC extends nS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var X0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(X0||(X0={}));class SW{constructor(t,{headers:r={},customFetch:n,region:s=X0.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=jW(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return bW(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let v=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const y=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:v}).catch(j=>{throw new _W(j)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new KC(y);if(!y.ok)throw new GC(y);let w=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield y.json():w==="application/octet-stream"||w==="application/pdf"?S=yield y.blob():w==="text/event-stream"?S=y:w==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof GC||l instanceof KC?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var NW=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},kW=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const y=await i.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new NW(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},CW=class extends kW{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const YC=new RegExp("[,()]");var Ic=class extends CW{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&YC.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&YC.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},EW=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new Ic({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Ic({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Ic({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Ic({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Ic({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},OW=class LM{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new EW(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new LM(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{c.searchParams.append(p,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Ic({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class PW{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const AW="2.93.3",TW=`realtime-js/${AW}`,RW="1.0.0",FM="2.0.0",QC=FM,J0=1e4,$W=1e3,MW=100;var Qa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qa||(Qa={}));var Pr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pr||(Pr={}));var Vs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Vs||(Vs={}));var Z0;(function(e){e.websocket="websocket"})(Z0||(Z0={}));var pl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(pl||(pl={}));class IW{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,l.length),g.setUint8(m++,o.length),g.setUint8(m++,u.length),g.setUint8(m++,f.length),g.setUint8(m++,r),Array.from(c,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(l,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(u,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(f,y=>g.setUint8(m++,y.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class UM{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(zt||(zt={}));const XC=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=DW(o,e,t,s),i),{}):{}},DW=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?BM(i,o):ej(o)},BM=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return BW(t,r)}switch(e){case zt.bool:return LW(t);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return FW(t);case zt.json:case zt.jsonb:return UW(t);case zt.timestamp:return zW(t);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return ej(t);default:return ej(t)}},ej=e=>e,LW=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FW=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},UW=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},BW=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>BM(t,l))}return e},zW=e=>typeof e=="string"?e.replace(" ","T"):e,zM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Pb{constructor(t,r,n={},s=J0){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var JC;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(JC||(JC={}));class Uf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uf.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Uf.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Uf.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ZC;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ZC||(ZC={}));var Bf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bf||(Bf={}));var Qi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qi||(Qi={}));class Zc{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Pb(this,Vs.join,this.params,this.timeout),this.rejoinTimer=new UM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vs.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Uf(this),this.broadcastEndpointURL=zM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Bf.PRESENCE]&&this.bindings[Bf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Qi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Qi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Qi.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,y=[];for(let b=0;b<v;b++){const w=m[b],{filter:{event:S,schema:j,table:_,filter:N}}=w,k=p&&p[b];if(k&&k.event===S&&Zc.isFilterValueEqual(k.schema,j)&&Zc.isFilterValueEqual(k.table,_)&&Zc.isFilterValueEqual(k.filter,N))y.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Pr.errored,t==null||t(Qi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Qi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Pr.errored,t==null||t(Qi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Pr.joined&&t===Bf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Pb(this,Vs.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Pb(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>MW){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Vs;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,m,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,m,v,y,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((m=r.ids)===null||m===void 0?void 0:m.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(b=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:v,commit_timestamp:y,type:b,errors:w}=g;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Pr.closed}_isJoined(){return this.state===Pr.joined}_isJoining(){return this.state===Pr.joining}_isLeaving(){return this.state===Pr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Zc.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vs.close,{},t)}_onError(t){this._on(Vs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=XC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=XC(t.columns,t.old_record)),r}}const Ab=()=>{},fm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qW=[1e3,2e3,5e3,1e4],WW=1e4,VW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HW{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=J0,this.transport=null,this.heartbeatIntervalMs=fm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ab,this.ref=0,this.reconnectTimer=null,this.vsn=QC,this.logger=Ab,this.conn=null,this.sendBuffer=[],this.serializer=new IW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Z0.websocket}`,this.httpEndpoint=zM(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=PW.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qa.connecting:return pl.Connecting;case Qa.open:return pl.Open;case Qa.closing:return pl.Closing;default:return pl.Closed}}isConnected(){return this.connectionState()===pl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Zc(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($W,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},fm.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Qa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qa.open||this.conn.readyState===Qa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([VW],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:TW};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Vs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new UM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:J0,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:fm.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Ab,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:QC,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>qW[g-1]||WW,this.vsn){case RW:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,m)=>m(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,m)=>m(JSON.parse(g));break;case FM:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var mh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function KW(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function GW(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function YW(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=KW(e.baseUrl,n,s),c=await GW(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,g=p==null?void 0:p.error;throw new mh((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function hm(e){return e.join("")}var QW=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:hm(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hm(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hm(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hm(e.namespace)}`}),!0}catch(t){if(t instanceof mh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof mh&&r.status===409)return;throw r}}};function wc(e){return e.join("")}var XW=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof mh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof mh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},JW=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=YW({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new QW(this.client,t),this.tableOps=new XW(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Oy=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Py(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var pm=class extends Oy{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qM=class extends Oy{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const ZW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eV=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tj=e=>{if(Array.isArray(e))return e.map(r=>tj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=tj(n)}),t},tV=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(e)}function rV(e,t){if(gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nV(e){var t=rV(e,"string");return gh(t)=="symbol"?t:t+""}function sV(e,t,r){return(t=nV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(n){sV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const tE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},iV=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new pm(tE(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new pm(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new pm(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new pm(s.statusText||`HTTP ${i} error`,i,o,n))}}else t(new qM(tE(e),e,n))},aV=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?qe(qe({},s),r):(eV(n)?(s.headers=qe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),qe(qe({},s),r))};async function nf(e,t,r,n,s,i,o){return new Promise((l,c)=>{e(r,aV(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>iV(u,c,n,o))})}function WM(e="storage"){return{get:async(t,r,n,s)=>nf(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>nf(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>nf(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>nf(t,"HEAD",r,qe(qe({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>nf(t,"DELETE",r,s,i,n,e)}}const oV=WM("storage"),{get:vh,post:Bs,put:rj,head:lV,remove:sS}=oV,Hn=WM("vectors");var Sd=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=ZW(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Py(r))return{data:null,error:r};throw r}}},cV=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Py(t))return{data:null,error:t};throw t}}};let VM;VM=Symbol.toStringTag;var uV=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[VM]="BlobDownloadBuilder",this.promise=null}asStream(){return new cV(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Py(t))return{data:null,error:t};throw t}}};const dV={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var fV=class extends Sd{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=qe(qe({},rE),n);let l=qe(qe({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=qe(qe({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?rj:Bs)(s.fetch,`${s.url}/object/${d}`,i,qe({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=qe({upsert:rE.upsert},n),d=qe(qe({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await rj(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=qe({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Bs(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Oy("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Bs(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Bs(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await Bs(n.fetch,`${n.url}/object/sign/${s}`,qe({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await Bs(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>qe(qe({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>vh(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new uV(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>tj(await vh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await lV(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Py(n)&&n instanceof qM){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await sS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=qe(qe(qe({},dV),t),{},{prefix:e||""});return await Bs(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=qe({},e);return await Bs(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const hV="2.93.3",Sp={"X-Client-Info":`storage-js/${hV}`};var pV=class extends Sd{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=qe(qe({},Sp),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await vh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await vh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Bs(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await rj(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Bs(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await sS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},mV=class extends Sd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=qe(qe({},Sp),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Bs(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await vh(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await sS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!tV(e))throw new Oy("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new JW({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},gV=class extends Sd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=qe(qe({},Sp),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Hn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Hn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Hn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Hn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},vV=class extends Sd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=qe(qe({},Sp),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Hn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Hn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Hn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Hn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Hn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},yV=class extends Sd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=qe(qe({},Sp),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Hn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Hn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Hn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Hn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},xV=class extends yV{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new bV(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},bV=class extends gV{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new wV(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},wV=class extends vV{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,qe(qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},jV=class extends pV{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new fV(this.url,this.headers,e,this.fetch)}get vectors(){return new xV(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mV(this.url+"/iceberg",this.headers,this.fetch)}};const HM="2.93.3",Dc=30*1e3,nj=3,Tb=nj*Dc,_V="http://localhost:9999",SV="supabase.auth.token",NV={"X-Client-Info":`gotrue-js/${HM}`},sj="X-Supabase-Api-Version",KM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CV=10*60*1e3;class yh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class EV extends yh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function OV(e){return Re(e)&&e.name==="AuthApiError"}class ml extends yh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pa extends yh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Bn extends Pa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rb(e){return Re(e)&&e.name==="AuthSessionMissingError"}class jc extends Pa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mm extends Pa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gm extends Pa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PV(e){return Re(e)&&e.name==="AuthImplicitGrantRedirectError"}class nE extends Pa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AV extends Pa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ij extends Pa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $b(e){return Re(e)&&e.name==="AuthRetryableFetchError"}class sE extends Pa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class aj extends Pa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ig="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iE=` 	
\r=`.split(""),TV=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<iE.length;t+=1)e[iE[t].charCodeAt(0)]=-2;for(let t=0;t<Ig.length;t+=1)e[Ig[t].charCodeAt(0)]=t;return e})();function aE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ig[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ig[n]),t.queuedBits-=6}}function GM(e,t,r){const n=TV[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function oE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{MV(o,n,r)};for(let o=0;o<e.length;o+=1)GM(e.charCodeAt(o),s,i);return t.join("")}function RV(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $V(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}RV(n,t)}}function MV(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function cu(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)GM(e.charCodeAt(s),r,n);return new Uint8Array(t)}function IV(e){const t=[];return $V(e,r=>t.push(r)),new Uint8Array(t)}function wl(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>aE(s,r,n)),aE(null,r,n),t.join("")}function DV(e){return Math.round(Date.now()/1e3)+e}function LV(){return Symbol("auth-callback")}const Kr=()=>typeof window<"u"&&typeof document<"u",sl={tested:!1,writable:!1},YM=()=>{if(!Kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sl.tested)return sl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sl.tested=!0,sl.writable=!0}catch{sl.tested=!0,sl.writable=!1}return sl.writable};function FV(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const QM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UV=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Lc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},il=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Hr=async(e,t)=>{await e.removeItem(t)};class Ay{constructor(){this.promise=new Ay.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ay.promiseConstructor=Promise;function vm(e){const t=e.split(".");if(t.length!==3)throw new aj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!kV.test(t[n]))throw new aj("JWT not in base64url format");return{header:JSON.parse(oE(t[0])),payload:JSON.parse(oE(t[1])),signature:cu(t[2]),raw:{header:t[0],payload:t[1]}}}async function BV(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zV(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function qV(e){return("0"+e.toString(16)).substr(-2)}function WV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,qV).join("")}async function VV(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function HV(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await VV(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _c(e,t,r=!1){const n=WV();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Lc(e,`${t}-code-verifier`,s);const i=await HV(n);return[i,n===i?"plain":"s256"]}const KV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GV(e){const t=e.headers.get(sj);if(!t||!t.match(KV))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YV(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function QV(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sc(e){if(!XV.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mb(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function JV(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function lE(e){return JSON.parse(JSON.stringify(e))}const cl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZV=[502,503,504];async function cE(e){var t;if(!UV(e))throw new ij(cl(e),0);if(ZV.includes(e.status))throw new ij(cl(e),e.status);let r;try{r=await e.json()}catch(i){throw new ml(cl(i),i)}let n;const s=GV(e);if(s&&s.getTime()>=KM["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new sE(cl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Bn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new sE(cl(r),e.status,r.weak_password.reasons);throw new EV(cl(r),e.status||500,n)}const e9=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ze(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[sj]||(i[sj]=KM["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await t9(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function t9(e,t,r,n,s,i){const o=e9(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new ij(cl(c),0)}if(l.ok||await cE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await cE(c)}}function Ls(e){var t;let r=null;s9(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=DV(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function uE(e){const t=Ls(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function to(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function r9(e){return{data:e,error:null}}function n9(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=_d(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function dE(e){return e}function s9(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ib=["global","local","others"];class i9{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=QM(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ib[0]){if(Ib.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ib.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:to})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=_d(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:n9,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:to})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:dE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Re(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Sc(t);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:to})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Sc(t);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:to})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Sc(t);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:to})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Sc(t.userId);try{const{data:r,error:n}=await ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Sc(t.userId),Sc(t.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:dE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Re(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}}function fE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Nc={debug:!!(globalThis&&YM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class XM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class a9 extends XM{}async function o9(e,t,r){Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new a9(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Nc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function l9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function JM(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function c9(e){return parseInt(e,16)}function u9(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function d9(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=JM(e.address),g=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}y+=b}return`${v}
${y}`}class br extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Dg extends br{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function f9({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new br({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new br({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new br({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new br({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new br({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new br({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new br({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new br({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(ZM(o)){if(i.rp.id!==o)return new br({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new br({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new br({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new br({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new br({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function h9({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new br({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new br({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(ZM(n)){if(r.rpId!==n)return new br({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new br({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new br({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new br({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class p9{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const m9=new p9;function g9(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=_d(e,["challenge","user","excludeCredentials"]),i=cu(t).buffer,o=Object.assign(Object.assign({},r),{id:cu(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:cu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function v9(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=_d(e,["challenge","allowCredentials"]),s=cu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:cu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function y9(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:wl(new Uint8Array(e.response.attestationObject)),clientDataJSON:wl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function x9(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:wl(new Uint8Array(s.authenticatorData)),clientDataJSON:wl(new Uint8Array(s.clientDataJSON)),signature:wl(new Uint8Array(s.signature)),userHandle:s.userHandle?wl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ZM(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function hE(){var e,t;return!!(Kr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function b9(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dg("Browser returned unexpected credential type",t)}:{data:null,error:new Dg("Empty credential response",t)}}catch(t){return{data:null,error:f9({error:t,options:e})}}}async function w9(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dg("Browser returned unexpected credential type",t)}:{data:null,error:new Dg("Empty credential response",t)}}catch(t){return{data:null,error:h9({error:t,options:e})}}}const j9={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_9={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lg(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Lg(l,o):n[i]=Lg(o)}else n[i]=o}return n}function S9(e,t){return Lg(j9,e,t||{})}function N9(e,t){return Lg(_9,e,t||{})}class k9{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??m9.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,g=((o=p==null?void 0:p.user_metadata)===null||o===void 0?void 0:o.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=S9(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await b9({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=N9(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await w9(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return Re(l)?{data:null,error:l}:{data:null,error:new ml("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new yh("rpId is required for WebAuthn authentication")};try{if(!hE())return{data:null,error:new ml("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Re(o)?{data:null,error:o}:{data:null,error:new ml("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new yh("rpId is required for WebAuthn registration")};try{if(!hE())return{data:null,error:new ml("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Re(o)?{data:null,error:o}:{data:null,error:new ml("Unexpected error in register",o)}}}}l9();const C9={url:_V,storageKey:SV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function pE(e,t,r){return await r()}const kc={};class xh{get jwks(){var t,r;return(r=(t=kc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){kc[this.storageKey]=Object.assign(Object.assign({},kc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=kc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){kc[this.storageKey]=Object.assign(Object.assign({},kc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},C9),t);if(this.storageKey=i.storageKey,this.instanceID=(r=xh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,xh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Kr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new i9({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=QM(i.fetch),this.lock=i.lock||pE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Kr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=o9:this.lock=pE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new k9(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:YM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=fE(this.memoryStorage)),Kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${HM}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Kr()&&(r=FV(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Kr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),PV(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Re(r)?this._returnResult({error:r}):this._returnResult({error:new ml("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ls}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await _c(this.storage,this.storageKey)),i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Ls})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ls})}else throw new mm("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Hr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:uE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:uE})}else throw new mm("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new jc;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:v,statement:y,options:b}=t;let w;if(Kr())if(typeof v=="object")w=v;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=JM(j[0]);let N=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await w.request({method:"eth_chainId"});N=c9(C)}const k={domain:S.host,address:_,statement:y,uri:S.href,version:"1",chainId:N,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=d9(k),g=await w.request({method:"personal_sign",params:[u9(p),_]})}try{const{data:m,error:v}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ls});if(v)throw v;if(!m||!m.session||!m.user){const y=new jc;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if(Re(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:v,wallet:y,statement:b,options:w}=t;let S;if(Kr())if(typeof y=="object")S=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let N;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")N=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)N=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),m=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=_}}try{const{data:v,error:y}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:wl(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ls});if(y)throw y;if(!v||!v.session||!v.user){const b=new jc;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(Re(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await il(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new AV;const{data:i,error:o}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ls});if(await Hr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new jc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ls}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new jc;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await _c(this.storage,this.storageKey));const{error:f}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new mm("You must provide either an email or phone number.")}catch(l){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ls});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await _c(this.storage,this.storageKey));const u=await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:r9});return!((i=u.data)===null||i===void 0)&&i.url&&Kr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Bn;const{error:s}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Re(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new mm("You must provide either an email or phone number and a type")}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await il(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Tb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await il(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Mb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=JV(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:to}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:to})})}catch(r){if(Re(r))return Rb(r)&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Bn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await _c(this.storage,this.storageKey));const{data:u,error:d}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:to});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=vm(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Bn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Kr())throw new gm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nE("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new gm("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Dc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(Re(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await il(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Rb(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(OV(l)&&(l.status===404||l.status===401||l.status===403)||Rb(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=LV(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await _c(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Kr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Re(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ls}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new jc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zV(async s=>(s>0&&await BV(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ls})),(s,i)=>{const o=200*Math.pow(2,s);return i&&$b(i)&&Date.now()+o-n<Dc})}catch(n){if(this._debug(r,"error",n),Re(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await il(this.storage,this.storageKey);if(s&&this.userStorage){let o=await il(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Lc(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Mb()}else if(s&&!s.user&&!s.user){const o=await il(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Hr(this.storage,this.storageKey+"-user"),await Lc(this.storage,this.storageKey,s)):s.user=Mb()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tb;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Tb}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),$b(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ay;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Bn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Re(i)){const o={data:null,error:i};return $b(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Hr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Lc(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=lE(s);await Lc(this.storage,this.storageKey,i)}else{const s=lE(r);await Lc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Hr(this.storage,this.storageKey),await Hr(this.storage,this.storageKey+"-code-verifier"),await Hr(this.storage,this.storageKey+"-user"),this.userStorage&&await Hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Dc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Dc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Dc}ms, refresh threshold is ${nj} ticks`),s<=nj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof XM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await _c(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?y9(t.webauthn.credential_response):x9(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:g9(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:v9(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:p}=vm(t);let g=null;p.aal&&(g=p.aal);let m=g;const{data:{user:v},error:y}=await this.getUser(t);if(y)return this._returnResult({data:null,error:y});((n=(r=v==null?void 0:v.factors)===null||r===void 0?void 0:r.filter(S=>S.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const w=p.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:w},error:null}}catch(p){if(Re(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=vm(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Bn});const o=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Bn});const o=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(t){if(Re(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bn})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+CV>s)return n;const{data:i,error:o}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=vm(n);r!=null&&r.allowExpired||YV(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=QV(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,IV(`${l}.${c}`)))throw new aj("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}}xh.nextInstanceID={};const E9=xh,O9="2.93.3";let kf="";typeof Deno<"u"?kf="deno":typeof document<"u"?kf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kf="react-native":kf="node";const P9={"X-Client-Info":`supabase-js-${kf}/${O9}`},A9={headers:P9},T9={schema:"public"},R9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$9={};function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function M9(e,t){if(bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I9(e){var t=M9(e,"string");return bh(t)=="symbol"?t:t+""}function D9(e,t,r){return(t=I9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(r),!0).forEach(function(n){D9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const L9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),F9=()=>Headers,U9=(e,t,r)=>{const n=L9(r),s=F9();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,dr(dr({},o),{},{headers:u}))}};function B9(e){return e.endsWith("/")?e:e+"/"}function z9(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:dr(dr({},c),s),auth:dr(dr({},u),i),realtime:dr(dr({},d),o),storage:{},global:dr(dr(dr({},f),l),{},{headers:dr(dr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function q9(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(B9(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var W9=class extends E9{constructor(e){super(e)}},V9=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=q9(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:T9,realtime:$9,auth:dr(dr({},R9),{},{storageKey:o}),global:A9},c=z9(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=U9(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(dr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new OW(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new jV(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new SW(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new W9({url:this.authUrl.href,headers:dr(dr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new HW(this.realtimeUrl.href,dr(dr({},e),{},{params:dr(dr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const H9=(e,t,r)=>new V9(e,t,r);function K9(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}K9()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const G9="https://prqmzdstrfmahymkekef.supabase.co",Y9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycW16ZHN0cmZtYWh5bWtla2VmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDEwNjI5NiwiZXhwIjoyMDg1NjgyMjk2fQ.EE1JucZWP0ov1l93KyprUqoVMrLoNAUiJbl6xoHRSNs",q=H9(G9,Y9);async function Q9(e,t){const{error:r}=await q.auth.signInWithPassword({email:e,password:t});return r?{success:!1,error:r.message}:{success:!0}}async function X9(){const{error:e}=await q.auth.signOut({scope:"local"});return e?{success:!1,error:e.message}:{success:!0}}async function J9(){const{data:{session:e}}=await q.auth.getSession();return{user:(e==null?void 0:e.user)??null,session:e}}function Z9(e){const{data:{subscription:t}}=q.auth.onAuthStateChange((r,n)=>{e(r,n)});return()=>t.unsubscribe()}async function eH(e,t){const r=typeof window<"u"?window.location.origin:"",n=t!=null&&t.redirectTo?`${r}${t.redirectTo.startsWith("/")?t.redirectTo:`/${t.redirectTo}`}`:`${r}/dashboard`,{error:s}=await q.auth.signInWithOAuth({provider:e,options:{redirectTo:n}});return s?{success:!1,error:s.message}:{success:!0}}async function tH(e,t,r){var c,u,d;const n=typeof window<"u"?window.location.origin:"",s=r!=null&&r.redirectTo?`${n}${r.redirectTo.startsWith("/")?r.redirectTo:`/${r.redirectTo}`}`:`${n}/verify-email`,{data:i,error:o}=await q.auth.signUp({email:e,password:t,options:{emailRedirectTo:s}});return o?{success:!1,error:o.message}:{success:!0,needsEmailVerification:!!(i.user&&!((u=(c=i.session)==null?void 0:c.user)!=null&&u.email_confirmed_at)&&((d=i.user.identities)==null?void 0:d.length))}}async function rH(e,t){const n=`${typeof window<"u"?window.location.origin:""}${t.startsWith("/")?t:`/${t}`}`,{error:s}=await q.auth.resetPasswordForEmail(e,{redirectTo:n});return s?{success:!1,error:s.message}:{success:!0}}async function nH(e){const{error:t}=await q.auth.updateUser({password:e});return t?{success:!1,error:t.message}:{success:!0}}function sH(){return typeof window>"u"?!1:window.location.hash.includes("type=recovery")}async function iH(){const{data:{user:e}}=await q.auth.getUser();if(!(e!=null&&e.email))return{success:!1,error:"You must be signed in to resend the verification email."};const r=`${typeof window<"u"?window.location.origin:""}/verify-email`,{error:n}=await q.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:r}});return n?{success:!1,error:n.message}:{success:!0}}async function gE(e){const t=e.trim();if(!t)return{success:!1,error:"Verification token is required."};const{error:r}=await q.auth.verifyOtp({token_hash:t,type:"email"});return r?{success:!1,error:r.message}:{success:!0}}function aH(){if(typeof window>"u")return null;const t=new URLSearchParams(window.location.search).get("token_hash");if(t)return t;const r=window.location.hash;return r?new URLSearchParams(r.replace(/^#/,"")).get("token_hash"):null}async function oH(){const{data:{user:e}}=await q.auth.getUser();return e?!!e.email_confirmed_at:!1}const eI=x.createContext(null);function lH({children:e}){const[t,r]=x.useState({user:null,session:null,isLoading:!0});x.useEffect(()=>{let i=!1;J9().then(({user:l,session:c})=>{i||r({user:l,session:c,isLoading:!1})});const o=Z9((l,c)=>{i||r(u=>({...u,user:(c==null?void 0:c.user)??null,session:c,isLoading:!1}))});return()=>{i=!0,o()}},[]);const n=x.useCallback(async()=>{await X9(),r({user:null,session:null,isLoading:!1})},[]),s=x.useMemo(()=>({...t,signOut:n}),[t.user,t.session,t.isLoading,n]);return a.jsx(eI.Provider,{value:s,children:e})}function iS(){const e=x.useContext(eI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function cH(){const{user:e,isLoading:t}=iS(),r=Li();if(t)return a.jsxs("div",{className:"flex flex-1 items-center justify-center p-8",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent","aria-hidden":!0}),a.jsx("span",{className:"sr-only",children:"Loading"})]});if(!e){const n=encodeURIComponent(r.pathname+r.search);return a.jsx(Hz,{to:`/login?returnTo=${n}`,state:{from:r},replace:!0})}return a.jsx(NM,{})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...dH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:tI("lucide",s),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const r=x.forwardRef(({className:n,...s},i)=>x.createElement(fH,{ref:i,iconNode:t,className:tI(`lucide-${uH(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=ae("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=ae("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=ae("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=ae("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=ae("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=ae("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=ae("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=ae("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=ae("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=ae("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=ae("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=ae("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=ae("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=ae("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=ae("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=ae("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=ae("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=ae("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=ae("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=ae("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=ae("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=ae("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=ae("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=ae("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=ae("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=ae("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=ae("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=ae("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=ae("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=ae("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=ae("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=ae("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=ae("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=ae("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=ae("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function wI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=wI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ut(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=wI(e))&&(n&&(n+=" "),n+=t);return n}const vS="-",DH=e=>{const t=FH(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(vS);return l[0]===""&&l.length!==1&&l.shift(),jI(l,t)||LH(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},jI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?jI(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(vS);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},bE=/^\[(.+)\]$/,LH=e=>{if(bE.test(e)){const t=bE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},FH=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return BH(Object.entries(e.classGroups),r).forEach(([i,o])=>{lj(o,n,i,t)}),n},lj=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:wE(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(UH(s)){lj(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{lj(o,wE(t,i),r,n)})})},wE=(e,t)=>{let r=e;return t.split(vS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},UH=e=>e.isThemeGetter,BH=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,zH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},_I="!",qH=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===s&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(_I),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},WH=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},VH=e=>({cache:zH(e.cacheSize),parseClassName:qH(e),...DH(e)}),HH=/\s+/,KH=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(HH);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=WH(d).join(":"),y=f?v+_I:v,b=y+m;if(i.includes(b))continue;i.push(b);const w=s(m,g);for(let S=0;S<w.length;++S){const j=w[S];i.push(y+j)}l=u+(l.length>0?" "+l:l)}return l};function GH(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=SI(t))&&(n&&(n+=" "),n+=r);return n}const SI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=SI(e[n]))&&(r&&(r+=" "),r+=t);return r};function YH(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=VH(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=KH(c,r);return s(c,d),d}return function(){return i(GH.apply(null,arguments))}}const Kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},NI=/^\[(?:([a-z-]+):)?(.+)\]$/i,QH=/^\d+\/\d+$/,XH=new Set(["px","full","screen"]),JH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vi=e=>uu(e)||XH.has(e)||QH.test(e),za=e=>Cd(e,"length",uK),uu=e=>!!e&&!Number.isNaN(Number(e)),Db=e=>Cd(e,"number",uu),sf=e=>!!e&&Number.isInteger(Number(e)),nK=e=>e.endsWith("%")&&uu(e.slice(0,-1)),tt=e=>NI.test(e),qa=e=>JH.test(e),sK=new Set(["length","size","percentage"]),iK=e=>Cd(e,sK,kI),aK=e=>Cd(e,"position",kI),oK=new Set(["image","url"]),lK=e=>Cd(e,oK,fK),cK=e=>Cd(e,"",dK),af=()=>!0,Cd=(e,t,r)=>{const n=NI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},uK=e=>ZH.test(e)&&!eK.test(e),kI=()=>!1,dK=e=>tK.test(e),fK=e=>rK.test(e),hK=()=>{const e=Kt("colors"),t=Kt("spacing"),r=Kt("blur"),n=Kt("brightness"),s=Kt("borderColor"),i=Kt("borderRadius"),o=Kt("borderSpacing"),l=Kt("borderWidth"),c=Kt("contrast"),u=Kt("grayscale"),d=Kt("hueRotate"),f=Kt("invert"),h=Kt("gap"),p=Kt("gradientColorStops"),g=Kt("gradientColorStopPositions"),m=Kt("inset"),v=Kt("margin"),y=Kt("opacity"),b=Kt("padding"),w=Kt("saturate"),S=Kt("scale"),j=Kt("sepia"),_=Kt("skew"),N=Kt("space"),k=Kt("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",tt,t],O=()=>[tt,t],U=()=>["",Vi,za],E=()=>["auto",uu,tt],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",tt],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[uu,tt];return{cacheSize:500,separator:":",theme:{colors:[af],spacing:[Vi,za],blur:["none","",qa,tt],brightness:J(),borderColor:[e],borderRadius:["none","","full",qa,tt],borderSpacing:O(),borderWidth:U(),contrast:J(),grayscale:T(),hueRotate:J(),invert:T(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[nK,za],inset:I(),margin:I(),opacity:J(),padding:O(),saturate:J(),scale:J(),sepia:T(),skew:J(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[qa]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),tt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sf,tt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",sf,tt]}],"grid-cols":[{"grid-cols":[af]}],"col-start-end":[{col:["auto",{span:["full",sf,tt]},tt]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[af]}],"row-start-end":[{row:["auto",{span:[sf,tt]},tt]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,t]}],"min-w":[{"min-w":[tt,t,"min","max","fit"]}],"max-w":[{"max-w":[tt,t,"none","full","min","max","fit","prose",{screen:[qa]},qa]}],h:[{h:[tt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qa,za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Db]}],"font-family":[{font:[af]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",uu,Db]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vi,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vi,za]}],"underline-offset":[{"underline-offset":["auto",Vi,tt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),aK]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iK]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lK]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Vi,tt]}],"outline-w":[{outline:[Vi,za]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Vi,za]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qa,cK]}],"shadow-color":[{shadow:[af]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qa,tt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[sf,tt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Vi,za,Db]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pK=YH(hK);function Z(...e){return pK(ut(e))}function mK({visible:e,message:t="Processing",className:r}){return e?a.jsxs("div",{role:"status","aria-live":"polite","aria-label":t,className:Z("fixed inset-0 z-[100] flex flex-col items-center justify-center gap-4","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200",r),children:[a.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-xl bg-card p-8 shadow-card-hover",children:[a.jsx(Xn,{className:"h-10 w-10 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:t})]}),a.jsx("span",{className:"sr-only",children:t})]}):null}function Ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function jE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Aa(...e){return t=>{let r=!1;const n=e.map(s=>{const i=jE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():jE(e[s],null)}}}}function dt(...e){return x.useCallback(Aa(...e),e)}function gK(e,t){const r=x.createContext(t),n=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Fi(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=x.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,vK(s,...t)]}function vK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var kr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},yK=uy[" useId ".trim().toString()]||(()=>{}),xK=0;function Pi(e){const[t,r]=x.useState(yK());return kr(()=>{r(n=>n??String(xK++))},[e]),t?`radix-${t}`:""}var bK=uy[" useInsertionEffect ".trim().toString()]||kr;function Yl({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=wK({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=jK(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function wK({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),s=x.useRef(r),i=x.useRef(t);return bK(()=>{i.current=t},[t]),x.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function jK(e){return typeof e=="function"}function _K(e){const t=SK(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(kK);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function SK(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=EK(s),l=CK(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Aa(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NK=Symbol("radix.slottable");function kK(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NK}function CK(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function EK(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var OK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=OK.reduce((e,t)=>{const r=_K(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function CI(e,t){e&&xd.flushSync(()=>e.dispatchEvent(t))}function zr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function PK(e,t=globalThis==null?void 0:globalThis.document){const r=zr(e);x.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var AK="DismissableLayer",cj="dismissableLayer.update",TK="dismissableLayer.pointerDownOutside",RK="dismissableLayer.focusOutside",_E,EI=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ly=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(EI),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),g=dt(t,N=>f(N)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),b=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,j=IK(N=>{const k=N.target,C=[...u.branches].some(A=>A.contains(k));!S||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),_=DK(N=>{const k=N.target;[...u.branches].some(A=>A.contains(k))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return PK(N=>{b===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_E=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),SE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=_E)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),SE())},[d,u]),x.useEffect(()=>{const N=()=>p({});return document.addEventListener(cj,N),()=>document.removeEventListener(cj,N)},[]),a.jsx(Xe.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,j.onPointerDownCapture)})});Ly.displayName=AK;var $K="DismissableLayerBranch",MK=x.forwardRef((e,t)=>{const r=x.useContext(EI),n=x.useRef(null),s=dt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Xe.div,{...e,ref:s})});MK.displayName=$K;function IK(e,t=globalThis==null?void 0:globalThis.document){const r=zr(e),n=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){OI(TK,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function DK(e,t=globalThis==null?void 0:globalThis.document){const r=zr(e),n=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!n.current&&OI(RK,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function SE(){const e=new CustomEvent(cj);document.dispatchEvent(e)}function OI(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?CI(s,i):s.dispatchEvent(i)}var Lb="focusScope.autoFocusOnMount",Fb="focusScope.autoFocusOnUnmount",NE={bubbles:!1,cancelable:!0},LK="FocusScope",Fy=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=zr(s),d=zr(i),f=x.useRef(null),h=dt(t,m=>c(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const S=w.target;l.contains(S)?f.current=S:Ha(f.current,{select:!0})},v=function(w){if(p.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||Ha(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Ha(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,p.paused]),x.useEffect(()=>{if(l){CE.add(p);const m=document.activeElement;if(!l.contains(m)){const y=new CustomEvent(Lb,NE);l.addEventListener(Lb,u),l.dispatchEvent(y),y.defaultPrevented||(FK(WK(PI(l)),{select:!0}),document.activeElement===m&&Ha(l))}return()=>{l.removeEventListener(Lb,u),setTimeout(()=>{const y=new CustomEvent(Fb,NE);l.addEventListener(Fb,d),l.dispatchEvent(y),y.defaultPrevented||Ha(m??document.body,{select:!0}),l.removeEventListener(Fb,d),CE.remove(p)},0)}}},[l,u,d,p]);const g=x.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(v&&y){const b=m.currentTarget,[w,S]=UK(b);w&&S?!m.shiftKey&&y===S?(m.preventDefault(),r&&Ha(w,{select:!0})):m.shiftKey&&y===w&&(m.preventDefault(),r&&Ha(S,{select:!0})):y===b&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(Xe.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Fy.displayName=LK;function FK(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ha(n,{select:t}),document.activeElement!==r)return}function UK(e){const t=PI(e),r=kE(t,e),n=kE(t.reverse(),e);return[r,n]}function PI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function kE(e,t){for(const r of e)if(!BK(r,{upTo:t}))return r}function BK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zK(e){return e instanceof HTMLInputElement&&"select"in e}function Ha(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zK(e)&&t&&e.select()}}var CE=qK();function qK(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=EE(e,t),e.unshift(t)},remove(t){var r;e=EE(e,t),(r=e[0])==null||r.resume()}}}function EE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function WK(e){return e.filter(t=>t.tagName!=="A")}var VK="Portal",Uy=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=x.useState(!1);kr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?mM.createPortal(a.jsx(Xe.div,{...n,ref:t}),o):null});Uy.displayName=VK;function HK(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var is=e=>{const{present:t,children:r}=e,n=KK(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=dt(n.ref,GK(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:i}):null};is.displayName="Presence";function KK(e){const[t,r]=x.useState(),n=x.useRef(null),s=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=HK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=xm(n.current);i.current=l==="mounted"?u:"none"},[l]),kr(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,p=xm(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),kr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=xm(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(i.current=xm(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function xm(e){return(e==null?void 0:e.animationName)||"none"}function GK(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ub=0;function yS(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??OE()),document.body.insertAdjacentElement("beforeend",e[1]??OE()),Ub++,()=>{Ub===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ub--}},[])}function OE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sg="right-scroll-bar-position",ig="width-before-scroll-bar",YK="with-scroll-bars-hidden",QK="--removed-body-scroll-bar-size";function Bb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function XK(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var JK=typeof window<"u"?x.useLayoutEffect:x.useEffect,PE=new WeakMap;function ZK(e,t){var r=XK(null,function(n){return e.forEach(function(s){return Bb(s,n)})});return JK(function(){var n=PE.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||Bb(l,null)}),i.forEach(function(l){s.has(l)||Bb(l,o)})}PE.set(r,e)},[e]),r}function e7(e){return e}function t7(e,t){t===void 0&&(t=e7);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function r7(e){e===void 0&&(e={});var t=t7(null);return t.options=_i({async:!0,ssr:!1},e),t}var AI=function(e){var t=e.sideCar,r=_d(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,_i({},r))};AI.isSideCarExport=!0;function n7(e,t){return e.useMedium(t),AI}var TI=r7(),zb=function(){},By=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:zb,onWheelCapture:zb,onTouchMoveCapture:zb}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,g=e.noIsolation,m=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,S=_d(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,_=ZK([r,t]),N=_i(_i({},S),s);return x.createElement(x.Fragment,null,d&&x.createElement(j,{sideCar:TI,removeScrollBar:u,shards:f,noRelative:p,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?x.cloneElement(x.Children.only(l),_i(_i({},N),{ref:_})):x.createElement(b,_i({},N,{className:c,ref:_}),l))});By.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};By.classNames={fullWidth:ig,zeroRight:sg};var s7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function i7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=s7();return t&&e.setAttribute("nonce",t),e}function a7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function o7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var l7=function(){var e=0,t=null;return{add:function(r){e==0&&(t=i7())&&(a7(t,r),o7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},c7=function(){var e=l7();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},RI=function(){var e=c7(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},u7={left:0,top:0,right:0,gap:0},qb=function(e){return parseInt(e||"",10)||0},d7=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[qb(r),qb(n),qb(s)]},f7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return u7;var t=d7(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},h7=RI(),du="data-scroll-locked",p7=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(YK,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(du,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ig,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(sg," .").concat(sg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ig," .").concat(ig,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(du,`] {
    `).concat(QK,": ").concat(l,`px;
  }
`)},AE=function(){var e=parseInt(document.body.getAttribute(du)||"0",10);return isFinite(e)?e:0},m7=function(){x.useEffect(function(){return document.body.setAttribute(du,(AE()+1).toString()),function(){var e=AE()-1;e<=0?document.body.removeAttribute(du):document.body.setAttribute(du,e.toString())}},[])},g7=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;m7();var i=x.useMemo(function(){return f7(s)},[s]);return x.createElement(h7,{styles:p7(i,!t,s,r?"":"!important")})},uj=!1;if(typeof window<"u")try{var bm=Object.defineProperty({},"passive",{get:function(){return uj=!0,!0}});window.addEventListener("test",bm,bm),window.removeEventListener("test",bm,bm)}catch{uj=!1}var Cc=uj?{passive:!1}:!1,v7=function(e){return e.tagName==="TEXTAREA"},$I=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!v7(e)&&r[t]==="visible")},y7=function(e){return $I(e,"overflowY")},x7=function(e){return $I(e,"overflowX")},TE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=MI(e,n);if(s){var i=II(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},b7=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},w7=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},MI=function(e,t){return e==="v"?y7(t):x7(t)},II=function(e,t){return e==="v"?b7(t):w7(t)},j7=function(e,t){return e==="h"&&t==="rtl"?-1:1},_7=function(e,t,r,n,s){var i=j7(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=II(e,l),g=p[0],m=p[1],v=p[2],y=m-v-i*g;(g||y)&&MI(e,l)&&(f+=y,h+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},wm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},RE=function(e){return[e.deltaX,e.deltaY]},$E=function(e){return e&&"current"in e?e.current:e},S7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},N7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},k7=0,Ec=[];function C7(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),s=x.useState(k7++)[0],i=x.useState(RI)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=wW([e.lockRef.current],(e.shards||[]).map($E),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=wm(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-y[0],S="deltaY"in m?m.deltaY:b[1]-y[1],j,_=m.target,N=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in m&&N==="h"&&_.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,A=C?C===_||C.contains(_):!1;if(A)return!1;var I=TE(N,_);if(!I)return!0;if(I?j=N:(j=N==="v"?"h":"v",I=TE(N,_)),!I)return!1;if(!n.current&&"changedTouches"in m&&(w||S)&&(n.current=j),!j)return!0;var O=n.current||j;return _7(O,v,m,O==="h"?w:S)},[]),c=x.useCallback(function(m){var v=m;if(!(!Ec.length||Ec[Ec.length-1]!==i)){var y="deltaY"in v?RE(v):wm(v),b=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&S7(j.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map($E).filter(Boolean).filter(function(j){return j.contains(v.target)}),S=w.length>0?l(v,w[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(m,v,y,b){var w={name:m,delta:v,target:y,should:b,shadowParent:E7(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=x.useCallback(function(m){r.current=wm(m),n.current=void 0},[]),f=x.useCallback(function(m){u(m.type,RE(m),m.target,l(m,e.lockRef.current))},[]),h=x.useCallback(function(m){u(m.type,wm(m),m.target,l(m,e.lockRef.current))},[]);x.useEffect(function(){return Ec.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Cc),document.addEventListener("touchmove",c,Cc),document.addEventListener("touchstart",d,Cc),function(){Ec=Ec.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Cc),document.removeEventListener("touchmove",c,Cc),document.removeEventListener("touchstart",d,Cc)}},[]);var p=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(i,{styles:N7(s)}):null,p?x.createElement(g7,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function E7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const O7=n7(TI,C7);var zy=x.forwardRef(function(e,t){return x.createElement(By,_i({},e,{ref:t,sideCar:O7}))});zy.classNames=By.classNames;var P7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Oc=new WeakMap,jm=new WeakMap,_m={},Wb=0,DI=function(e){return e&&(e.host||DI(e.parentNode))},A7=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=DI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},T7=function(e,t,r,n){var s=A7(t,Array.isArray(e)?e:[e]);_m[r]||(_m[r]=new WeakMap);var i=_m[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(Oc.get(h)||0)+1,v=(i.get(h)||0)+1;Oc.set(h,m),i.set(h,v),o.push(h),m===1&&g&&jm.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),Wb++,function(){o.forEach(function(f){var h=Oc.get(f)-1,p=i.get(f)-1;Oc.set(f,h),i.set(f,p),h||(jm.has(f)||f.removeAttribute(n),jm.delete(f)),p||f.removeAttribute(r)}),Wb--,Wb||(Oc=new WeakMap,Oc=new WeakMap,jm=new WeakMap,_m={})}},xS=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=P7(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),T7(n,s,r,"aria-hidden")):function(){return null}};function R7(e){const t=$7(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(I7);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function $7(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=L7(s),l=D7(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Aa(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var M7=Symbol("radix.slottable");function I7(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===M7}function D7(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function L7(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var qy="Dialog",[LI]=Fi(qy),[F7,li]=LI(qy),FI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=Yl({prop:n,defaultProp:s??!1,onChange:i,caller:qy});return a.jsx(F7,{scope:t,triggerRef:l,contentRef:c,contentId:Pi(),titleId:Pi(),descriptionId:Pi(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};FI.displayName=qy;var UI="DialogTrigger",U7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=li(UI,r),i=dt(t,s.triggerRef);return a.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jS(s.open),...n,ref:i,onClick:Ne(e.onClick,s.onOpenToggle)})});U7.displayName=UI;var bS="DialogPortal",[B7,BI]=LI(bS,{forceMount:void 0}),zI=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=li(bS,t);return a.jsx(B7,{scope:t,forceMount:r,children:x.Children.map(n,o=>a.jsx(is,{present:r||i.open,children:a.jsx(Uy,{asChild:!0,container:s,children:o})}))})};zI.displayName=bS;var Bg="DialogOverlay",qI=x.forwardRef((e,t)=>{const r=BI(Bg,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=li(Bg,e.__scopeDialog);return i.modal?a.jsx(is,{present:n||i.open,children:a.jsx(q7,{...s,ref:t})}):null});qI.displayName=Bg;var z7=R7("DialogOverlay.RemoveScroll"),q7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=li(Bg,r);return a.jsx(zy,{as:z7,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Xe.div,{"data-state":jS(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ql="DialogContent",WI=x.forwardRef((e,t)=>{const r=BI(Ql,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=li(Ql,e.__scopeDialog);return a.jsx(is,{present:n||i.open,children:i.modal?a.jsx(W7,{...s,ref:t}):a.jsx(V7,{...s,ref:t})})});WI.displayName=Ql;var W7=x.forwardRef((e,t)=>{const r=li(Ql,e.__scopeDialog),n=x.useRef(null),s=dt(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return xS(i)},[]),a.jsx(VI,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault())})}),V7=x.forwardRef((e,t)=>{const r=li(Ql,e.__scopeDialog),n=x.useRef(!1),s=x.useRef(!1);return a.jsx(VI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),VI=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=li(Ql,r),c=x.useRef(null),u=dt(t,c);return yS(),a.jsxs(a.Fragment,{children:[a.jsx(Fy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Ly,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":jS(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(H7,{titleId:l.titleId}),a.jsx(G7,{contentRef:c,descriptionId:l.descriptionId})]})]})}),wS="DialogTitle",HI=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=li(wS,r);return a.jsx(Xe.h2,{id:s.titleId,...n,ref:t})});HI.displayName=wS;var KI="DialogDescription",GI=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=li(KI,r);return a.jsx(Xe.p,{id:s.descriptionId,...n,ref:t})});GI.displayName=KI;var YI="DialogClose",QI=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=li(YI,r);return a.jsx(Xe.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>s.onOpenChange(!1))})});QI.displayName=YI;function jS(e){return e?"open":"closed"}var XI="DialogTitleWarning",[$Ae,JI]=gK(XI,{contentName:Ql,titleName:wS,docsSlug:"dialog"}),H7=({titleId:e})=>{const t=JI(XI),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},K7="DialogDescriptionWarning",G7=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JI(K7).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Y7=FI,Q7=zI,ZI=qI,eD=WI,tD=HI,rD=GI,X7=QI;const Ge=Y7,J7=Q7,nD=x.forwardRef(({className:e,...t},r)=>a.jsx(ZI,{ref:r,className:Z("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));nD.displayName=ZI.displayName;const We=x.forwardRef(({className:e,children:t,showClose:r=!0,...n},s)=>a.jsxs(J7,{children:[a.jsx(nD,{}),a.jsxs(eD,{ref:s,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[640px] translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",e),...n,children:[t,r&&a.jsxs(X7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Fu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));We.displayName=eD.displayName;const Ve=({className:e,...t})=>a.jsx("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ve.displayName="DialogHeader";const Qe=({className:e,...t})=>a.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qe.displayName="DialogFooter";const He=x.forwardRef(({className:e,...t},r)=>a.jsx(tD,{ref:r,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));He.displayName=tD.displayName;const Ke=x.forwardRef(({className:e,...t},r)=>a.jsx(rD,{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));Ke.displayName=rD.displayName;var Z7=Symbol.for("react.lazy"),zg=uy[" use ".trim().toString()];function eG(e){return typeof e=="object"&&e!==null&&"then"in e}function sD(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Z7&&"_payload"in e&&eG(e._payload)}function Cp(e){const t=rG(e),r=x.forwardRef((n,s)=>{let{children:i,...o}=n;sD(i)&&typeof zg=="function"&&(i=zg(i._payload));const l=x.Children.toArray(i),c=l.find(sG);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var tG=Cp("Slot");function rG(e){const t=x.forwardRef((r,n)=>{let{children:s,...i}=r;if(sD(s)&&typeof zg=="function"&&(s=zg(s._payload)),x.isValidElement(s)){const o=aG(s),l=iG(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Aa(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nG=Symbol("radix.slottable");function sG(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nG}function iG(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function aG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const ME=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,IE=ut,_S=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return IE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=ME(d)||ME(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...i,...l}[m]):{...i,...l}[m]===v})?[...u,f,h]:u},[]);return IE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},oG=_S("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow hover:opacity-90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:opacity-90",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?tG:"button";return a.jsx(o,{className:Z(oG({variant:t,size:r,className:e})),ref:i,...s})});$.displayName="Button";function lG({open:e,onOpenChange:t,message:r="Operation completed successfully.",nextSteps:n,onClose:s,className:i}){const o=l=>{l||s==null||s(),t(l)};return a.jsx(Ge,{open:e,onOpenChange:o,children:a.jsxs(We,{showClose:!0,className:Z("max-w-[640px]",i),"aria-describedby":"operation-success-description",children:[a.jsx(Ve,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15",children:a.jsx(Mo,{className:"h-6 w-6 text-success","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(He,{children:"Success"}),a.jsx(Ke,{id:"operation-success-description",children:r})]})]})}),n&&n.length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/30 p-4",children:[a.jsx("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Next steps"}),a.jsx("ul",{className:"flex flex-col gap-2",children:n.map((l,c)=>a.jsx("li",{children:l.href?a.jsx($,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",asChild:!0,children:a.jsx("a",{href:l.href,children:l.label})}):a.jsx($,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",onClick:()=>{var u;(u=l.onClick)==null||u.call(l),o(!1)},children:l.label})},c))})]}),a.jsx(Qe,{children:a.jsx($,{onClick:()=>o(!1),className:"transition-transform hover:scale-[1.02]",children:"Done"})})]})})}function cG({open:e,onOpenChange:t,message:r="Are you sure you want to cancel this operation? Progress may be lost.",confirmLabel:n="Yes, cancel",onConfirm:s,onCancel:i,isConfirming:o=!1,className:l}){const c=()=>{s==null||s(),t(!1)},u=()=>{i==null||i(),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{showClose:!0,className:Z("max-w-[640px]",l),"aria-describedby":"abort-confirm-description",children:[a.jsx(Ve,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-warning/15",children:a.jsx(dc,{className:"h-6 w-6 text-warning","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(He,{children:"Cancel operation?"}),a.jsx(Ke,{id:"abort-confirm-description",children:r})]})]})}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{variant:"outline",onClick:u,disabled:o,className:"transition-transform hover:scale-[1.02]",children:"No, continue"}),a.jsx($,{variant:"destructive",onClick:c,disabled:o,className:"transition-transform hover:scale-[1.02]",children:o?"Cancelling":n})]})]})})}const DE={visible:!1},LE={visible:!1},FE={visible:!1},iD=x.createContext(null);function uG({children:e}){const[t,r]=x.useState(DE),[n,s]=x.useState(LE),[i,o]=x.useState(FE),l=x.useCallback(g=>{r({visible:!0,message:g})},[]),c=x.useCallback(()=>{r(DE)},[]),u=x.useCallback((g,m)=>{s({visible:!0,message:g,nextSteps:m})},[]),d=x.useCallback(()=>{s(LE)},[]),f=x.useCallback(g=>{o({visible:!0,message:g.message,onConfirm:g.onConfirm,onCancel:g.onCancel,confirmLabel:g.confirmLabel})},[]),h=x.useCallback(()=>{o(FE)},[]),p=x.useMemo(()=>({loading:t,success:n,abortConfirm:i,showLoading:l,hideLoading:c,showSuccess:u,hideSuccess:d,showAbortConfirm:f,hideAbortConfirm:h}),[t,n,i,l,c,u,d,f,h]);return a.jsx(iD.Provider,{value:p,children:e})}function dG(){const e=x.useContext(iD);if(!e)throw new Error("useOperationStateContext must be used within OperationStateProvider");return e}function fG(){const{loading:e,success:t,abortConfirm:r,hideSuccess:n,hideAbortConfirm:s}=dG();return a.jsxs(a.Fragment,{children:[a.jsx(mK,{visible:e.visible,message:e.message}),a.jsx(lG,{open:t.visible,onOpenChange:i=>!i&&n(),message:t.message,nextSteps:t.nextSteps,onClose:n}),a.jsx(cG,{open:r.visible,onOpenChange:i=>!i&&s(),message:r.message,confirmLabel:r.confirmLabel??"Yes, cancel",onConfirm:r.onConfirm,onCancel:r.onCancel})]})}function hG({children:e}){return a.jsxs(uG,{children:[a.jsx(fG,{}),e]})}var pG=x.createContext(void 0);function Ep(e){const t=x.useContext(pG);return e||t||"ltr"}function dj(e,[t,r]){return Math.min(r,Math.max(t,e))}function mG(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var SS="ScrollArea",[aD]=Fi(SS),[gG,Ss]=aD(SS),oD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[p,g]=x.useState(null),[m,v]=x.useState(null),[y,b]=x.useState(0),[w,S]=x.useState(0),[j,_]=x.useState(!1),[N,k]=x.useState(!1),C=dt(t,I=>c(I)),A=Ep(s);return a.jsx(gG,{scope:r,type:n,dir:A,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:_,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:S,children:a.jsx(Xe.div,{dir:A,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});oD.displayName=SS;var lD="ScrollAreaViewport",cD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=Ss(lD,r),l=x.useRef(null),c=dt(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});cD.displayName=lD;var Ui="ScrollAreaScrollbar",NS=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ss(Ui,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(vG,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(yG,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(uD,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(kS,{...n,ref:t}):null});NS.displayName=Ui;var vG=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ss(Ui,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(is,{present:r||i,children:a.jsx(uD,{"data-state":i?"visible":"hidden",...n,ref:t})})}),yG=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ss(Ui,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Vy(()=>c("SCROLL_END"),100),[l,c]=mG("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),x.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(is,{present:r||l!=="hidden",children:a.jsx(kS,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ne(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ne(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),uD=x.forwardRef((e,t)=>{const r=Ss(Ui,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=x.useState(!1),l=e.orientation==="horizontal",c=Vy(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Uu(r.viewport,c),Uu(r.content,c),a.jsx(is,{present:n||i,children:a.jsx(kS,{"data-state":i?"visible":"hidden",...s,ref:t})})}),kS=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Ss(Ui,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=mD(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return SG(h,o.current,l,p)}return r==="horizontal"?a.jsx(xG,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,p=UE(h,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(bG,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,p=UE(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),xG=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ss(Ui,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=dt(t,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(fD,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Wy(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),vD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Wg(o.paddingLeft),paddingEnd:Wg(o.paddingRight)}})}})}),bG=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ss(Ui,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=dt(t,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(fD,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Wy(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),vD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Wg(o.paddingTop),paddingEnd:Wg(o.paddingBottom)}})}})}),[wG,dD]=aD(Ui),fD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Ss(Ui,r),[g,m]=x.useState(null),v=dt(t,C=>m(C)),y=x.useRef(null),b=x.useRef(""),w=p.viewport,S=n.content-n.viewport,j=zr(d),_=zr(c),N=Vy(f,10);function k(C){if(y.current){const A=C.clientX-y.current.left,I=C.clientY-y.current.top;u({x:A,y:I})}}return x.useEffect(()=>{const C=A=>{const I=A.target;(g==null?void 0:g.contains(I))&&j(A,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,S,j]),x.useEffect(_,[n,_]),Uu(g,N),Uu(p.content,N),a.jsx(wG,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:zr(i),onThumbPointerUp:zr(o),onThumbPositionChange:_,onThumbPointerDown:zr(l),children:a.jsx(Xe.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Ne(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:Ne(e.onPointerMove,k),onPointerUp:Ne(e.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),qg="ScrollAreaThumb",hD=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=dD(qg,e.__scopeScrollArea);return a.jsx(is,{present:r||s.hasThumb,children:a.jsx(jG,{ref:t,...n})})}),jG=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Ss(qg,r),o=dD(qg,r),{onThumbPositionChange:l}=o,c=dt(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=Vy(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=NG(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Xe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ne(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:g,y:m})}),onPointerUp:Ne(e.onPointerUp,o.onThumbPointerUp)})});hD.displayName=qg;var CS="ScrollAreaCorner",pD=x.forwardRef((e,t)=>{const r=Ss(CS,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(_G,{...e,ref:t}):null});pD.displayName=CS;var _G=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Ss(CS,r),[i,o]=x.useState(0),[l,c]=x.useState(0),u=!!(i&&l);return Uu(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Uu(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Xe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Wg(e){return e?parseInt(e,10):0}function mD(e,t){const r=e/t;return isNaN(r)?0:r}function Wy(e){const t=mD(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function SG(e,t,r,n="ltr"){const s=Wy(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return gD([c,u],f)(e)}function UE(e,t,r="ltr"){const n=Wy(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=dj(e,c);return gD([0,o],[0,l])(u)}function gD(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function vD(e,t){return e>0&&e<t}var NG=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Vy(e,t){const r=zr(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Uu(e,t){const r=zr(t);kr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var yD=oD,kG=cD,CG=pD;const Pt=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(yD,{ref:n,className:Z("relative overflow-hidden",e),...r,children:[a.jsx(kG,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(xD,{}),a.jsx(CG,{})]}));Pt.displayName=yD.displayName;const xD=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(NS,{ref:n,orientation:t,className:Z("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(hD,{className:"relative flex-1 rounded-full bg-border"})}));xD.displayName=NS.displayName;var EG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],OG=EG.reduce((e,t)=>{const r=Cp(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),PG="Separator",BE="horizontal",AG=["horizontal","vertical"],bD=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=BE,...s}=e,i=TG(n)?n:BE,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(OG.div,{"data-orientation":i,...l,...s,ref:t})});bD.displayName=PG;function TG(e){return AG.includes(e)}var wD=bD;const ES=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(wD,{ref:s,decorative:r,orientation:t,className:Z("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ES.displayName=wD.displayName;const RG=[{to:"/dashboard",label:"Dashboard",icon:fS},{to:"/profile",label:"Profile",icon:Dy},{to:"/chat",label:"Chat Session",icon:kp},{to:"/channels",label:"Channels & Adapters",icon:EH},{to:"/skills",label:"Skills Library",icon:oS},{to:"/skill-editor",label:"Skill Editor",icon:Wr},{to:"/nodes",label:"Nodes",icon:Oi},{to:"/cron",label:"Cron Jobs",icon:Ty},{to:"/webhooks",label:"Webhooks & Hooks",icon:oj},{to:"/model-providers",label:"Model Providers",icon:rI},{to:"/browser",label:"Browser Automation",icon:Iy},{to:"/voice",label:"Voice & Media",icon:_h},{to:"/secrets",label:"Secrets & Keychain",icon:jh},{to:"/settings",label:"Settings",icon:ua},{to:"/security",label:"Security Audit",icon:Dn},{to:"/logs",label:"Logs & Tracing",icon:Wr},{to:"/admin",label:"Admin",icon:Dn}];function $G(){const[e,t]=x.useState(!1);return a.jsxs("aside",{className:Z("flex flex-col border-r border-border bg-card transition-[width] duration-200",e?"w-[72px]":"w-56"),children:[a.jsxs("div",{className:"flex h-14 items-center justify-between border-b border-border px-3",children:[!e&&a.jsx("span",{className:"truncate text-sm font-semibold",children:"Clawgate"}),a.jsx($,{variant:"ghost",size:"icon",onClick:()=>t(r=>!r),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(es,{className:"h-4 w-4"}):a.jsx(sI,{className:"h-4 w-4"})})]}),a.jsx(Pt,{className:"flex-1 py-2",children:a.jsx("nav",{className:"flex flex-col gap-0.5 px-2",children:RG.map(({to:r,label:n,icon:s})=>a.jsxs(aq,{to:r,className:({isActive:i})=>Z("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",e&&"justify-center px-2"),children:[a.jsx(s,{className:"h-5 w-5 shrink-0"}),!e&&a.jsx("span",{className:"truncate",children:n})]},r))})}),a.jsx(ES,{})]})}const ge=x.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ge.displayName="Input";function MG(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=x.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,IG(s,...t)]}function IG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var DG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],OS=DG.reduce((e,t)=>{const r=Cp(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),jD={exports:{}},_D={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bu=x;function LG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FG=typeof Object.is=="function"?Object.is:LG,UG=Bu.useState,BG=Bu.useEffect,zG=Bu.useLayoutEffect,qG=Bu.useDebugValue;function WG(e,t){var r=t(),n=UG({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return zG(function(){s.value=r,s.getSnapshot=t,Vb(s)&&i({inst:s})},[e,r,t]),BG(function(){return Vb(s)&&i({inst:s}),e(function(){Vb(s)&&i({inst:s})})},[e]),qG(r),r}function Vb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!FG(e,r)}catch{return!0}}function VG(e,t){return t()}var HG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?VG:WG;_D.useSyncExternalStore=Bu.useSyncExternalStore!==void 0?Bu.useSyncExternalStore:HG;jD.exports=_D;var KG=jD.exports;function GG(){return KG.useSyncExternalStore(YG,()=>!0,()=>!1)}function YG(){return()=>{}}var PS="Avatar",[QG]=MG(PS),[XG,SD]=QG(PS),ND=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=x.useState("idle");return a.jsx(XG,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(OS.span,{...n,ref:t})})});ND.displayName=PS;var kD="AvatarImage",CD=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=SD(kD,r),l=JG(n,i),c=zr(u=>{s(u),o.onImageLoadingStatusChange(u)});return kr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(OS.img,{...i,ref:t,src:n}):null});CD.displayName=kD;var ED="AvatarFallback",OD=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=SD(ED,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(OS.span,{...s,ref:t}):null});OD.displayName=ED;function zE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function JG(e,{referrerPolicy:t,crossOrigin:r}){const n=GG(),s=x.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=x.useState(()=>zE(i,e));return kr(()=>{l(zE(i,e))},[i,e]),kr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var PD=ND,AD=CD,TD=OD;const Hy=x.forwardRef(({className:e,...t},r)=>a.jsx(PD,{ref:r,className:Z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Hy.displayName=PD.displayName;const AS=x.forwardRef(({className:e,...t},r)=>a.jsx(AD,{ref:r,className:Z("aspect-square h-full w-full",e),...t}));AS.displayName=AD.displayName;const Ky=x.forwardRef(({className:e,...t},r)=>a.jsx(TD,{ref:r,className:Z("flex h-full w-full items-center justify-center rounded-full bg-muted text-sm font-medium",e),...t}));Ky.displayName=TD.displayName;function qE(e){const t=ZG(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(tY);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function ZG(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=nY(s),l=rY(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Aa(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eY=Symbol("radix.slottable");function tY(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eY}function rY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function nY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function TS(e){const t=e+"CollectionProvider",[r,n]=Fi(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:y}=m,b=P.useRef(null),w=P.useRef(new Map).current;return a.jsx(s,{scope:v,itemMap:w,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=qE(l),u=P.forwardRef((m,v)=>{const{scope:y,children:b}=m,w=i(l,y),S=dt(v,w.collectionRef);return a.jsx(c,{ref:S,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=qE(d),p=P.forwardRef((m,v)=>{const{scope:y,children:b,...w}=m,S=P.useRef(null),j=dt(v,S),_=i(d,y);return P.useEffect(()=>(_.itemMap.set(S,{ref:S,...w}),()=>void _.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:j,children:b})});p.displayName=d;function g(m){const v=i(e+"CollectionConsumer",m);return P.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((_,N)=>w.indexOf(_.ref.current)-w.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},g,n]}const sY=["top","right","bottom","left"],Io=Math.min,Vn=Math.max,Vg=Math.round,Sm=Math.floor,Ai=e=>({x:e,y:e}),iY={left:"right",right:"left",bottom:"top",top:"bottom"},aY={start:"end",end:"start"};function fj(e,t,r){return Vn(e,Io(t,r))}function xa(e,t){return typeof e=="function"?e(t):e}function ba(e){return e.split("-")[0]}function Ed(e){return e.split("-")[1]}function RS(e){return e==="x"?"y":"x"}function $S(e){return e==="y"?"height":"width"}const oY=new Set(["top","bottom"]);function Si(e){return oY.has(ba(e))?"y":"x"}function MS(e){return RS(Si(e))}function lY(e,t,r){r===void 0&&(r=!1);const n=Ed(e),s=MS(e),i=$S(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Hg(o)),[o,Hg(o)]}function cY(e){const t=Hg(e);return[hj(e),t,hj(t)]}function hj(e){return e.replace(/start|end/g,t=>aY[t])}const WE=["left","right"],VE=["right","left"],uY=["top","bottom"],dY=["bottom","top"];function fY(e,t,r){switch(e){case"top":case"bottom":return r?t?VE:WE:t?WE:VE;case"left":case"right":return t?uY:dY;default:return[]}}function hY(e,t,r,n){const s=Ed(e);let i=fY(ba(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(hj)))),i}function Hg(e){return e.replace(/left|right|bottom|top/g,t=>iY[t])}function pY(e){return{top:0,right:0,bottom:0,left:0,...e}}function RD(e){return typeof e!="number"?pY(e):{top:e,right:e,bottom:e,left:e}}function Kg(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function HE(e,t,r){let{reference:n,floating:s}=e;const i=Si(t),o=MS(t),l=$S(o),c=ba(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Ed(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}async function mY(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=xa(t,e),g=RD(p),v=l[h?f==="floating"?"reference":"floating":f],y=Kg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Kg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-j.top+g.top)/S.y,bottom:(j.bottom-y.bottom+g.bottom)/S.y,left:(y.left-j.left+g.left)/S.x,right:(j.right-y.right+g.right)/S.x}}const gY=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=HE(u,n,c),h=n,p={},g=0;for(let v=0;v<l.length;v++){var m;const{name:y,fn:b}=l[v],{x:w,y:S,data:j,reset:_}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:{...o,detectOverflow:(m=o.detectOverflow)!=null?m:mY},elements:{reference:e,floating:t}});d=w??d,f=S??f,p={...p,[y]:{...p[y],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=HE(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}},vY=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=xa(e,t)||{};if(u==null)return{};const f=RD(d),h={x:r,y:n},p=MS(s),g=$S(p),m=await o.getDimensions(u),v=p==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=i.reference[g]+i.reference[p]-h[p]-i.floating[g],j=h[p]-i.reference[p],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=_?_[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(_)))&&(N=l.floating[w]||i.floating[g]);const k=S/2-j/2,C=N/2-m[g]/2-1,A=Io(f[y],C),I=Io(f[b],C),O=A,U=N-m[g]-I,E=N/2-m[g]/2+k,B=fj(O,E,U),M=!c.arrow&&Ed(s)!=null&&E!==B&&i.reference[g]/2-(E<O?A:I)-m[g]/2<0,z=M?E<O?E-O:E-U:0;return{[p]:h[p]+z,data:{[p]:B,centerOffset:E-B-z,...M&&{alignmentOffset:z}},reset:M}}}),yY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=xa(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=ba(s),b=Si(l),w=ba(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!m?[Hg(l)]:cY(l)),_=g!=="none";!h&&_&&j.push(...hY(l,m,g,S));const N=[l,...j],k=await c.detectOverflow(t,v),C=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[y]),f){const E=lY(s,o,S);C.push(k[E[0]],k[E[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(E=>E<=0)){var I,O;const E=(((I=i.flip)==null?void 0:I.index)||0)+1,B=N[E];if(B&&(!(f==="alignment"?b!==Si(B):!1)||A.every(F=>Si(F.placement)===b?F.overflows[0]>0:!0)))return{data:{index:E,overflows:A},reset:{placement:B}};let M=(O=A.filter(z=>z.overflows[0]<=0).sort((z,F)=>z.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!M)switch(p){case"bestFit":{var U;const z=(U=A.filter(F=>{if(_){const T=Si(F.placement);return T===b||T==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(T=>T>0).reduce((T,R)=>T+R,0)]).sort((F,T)=>F[1]-T[1])[0])==null?void 0:U[0];z&&(M=z);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function KE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function GE(e){return sY.some(t=>e[t]>=0)}const xY=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...i}=xa(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...i,elementContext:"reference"}),l=KE(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:GE(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...i,altBoundary:!0}),l=KE(o,r.floating);return{data:{escapedOffsets:l,escaped:GE(l)}}}default:return{}}}}},$D=new Set(["left","top"]);async function bY(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=ba(r),l=Ed(r),c=Si(r)==="y",u=$D.has(o)?-1:1,d=i&&c?-1:1,f=xa(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const wY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await bY(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},jY=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:y=>{let{x:b,y:w}=y;return{x:b,y:w}}},...u}=xa(e,t),d={x:r,y:n},f=await i.detectOverflow(t,u),h=Si(ba(s)),p=RS(h);let g=d[p],m=d[h];if(o){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",w=g+f[y],S=g-f[b];g=fj(w,g,S)}if(l){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=m+f[y],S=m-f[b];m=fj(w,m,S)}const v=c.fn({...t,[p]:g,[h]:m});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[p]:o,[h]:l}}}}}},_Y=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=xa(e,t),d={x:r,y:n},f=Si(s),h=RS(f);let p=d[h],g=d[f];const m=xa(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",S=i.reference[h]-i.floating[w]+v.mainAxis,j=i.reference[h]+i.reference[w]-v.mainAxis;p<S?p=S:p>j&&(p=j)}if(u){var y,b;const w=h==="y"?"width":"height",S=$D.has(ba(s)),j=i.reference[f]-i.floating[w]+(S&&((y=o.offset)==null?void 0:y[f])||0)+(S?0:v.crossAxis),_=i.reference[f]+i.reference[w]+(S?0:((b=o.offset)==null?void 0:b[f])||0)-(S?v.crossAxis:0);g<j?g=j:g>_&&(g=_)}return{[h]:p,[f]:g}}}},SY=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=xa(e,t),d=await o.detectOverflow(t,u),f=ba(s),h=Ed(s),p=Si(s)==="y",{width:g,height:m}=i.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const b=m-d.top-d.bottom,w=g-d.left-d.right,S=Io(m-d[v],b),j=Io(g-d[y],w),_=!t.middlewareData.shift;let N=S,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=b),_&&!h){const A=Vn(d.left,0),I=Vn(d.right,0),O=Vn(d.top,0),U=Vn(d.bottom,0);p?k=g-2*(A!==0||I!==0?A+I:Vn(d.left,d.right)):N=m-2*(O!==0||U!==0?O+U:Vn(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const C=await o.getDimensions(l.floating);return g!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function Gy(){return typeof window<"u"}function Od(e){return MD(e)?(e.nodeName||"").toLowerCase():"#document"}function Jn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bi(e){var t;return(t=(MD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function MD(e){return Gy()?e instanceof Node||e instanceof Jn(e).Node:!1}function si(e){return Gy()?e instanceof Element||e instanceof Jn(e).Element:!1}function Mi(e){return Gy()?e instanceof HTMLElement||e instanceof Jn(e).HTMLElement:!1}function YE(e){return!Gy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jn(e).ShadowRoot}const NY=new Set(["inline","contents"]);function Op(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=ii(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!NY.has(s)}const kY=new Set(["table","td","th"]);function CY(e){return kY.has(Od(e))}const EY=[":popover-open",":modal"];function Yy(e){return EY.some(t=>{try{return e.matches(t)}catch{return!1}})}const OY=["transform","translate","scale","rotate","perspective"],PY=["transform","translate","scale","rotate","perspective","filter"],AY=["paint","layout","strict","content"];function IS(e){const t=DS(),r=si(e)?ii(e):e;return OY.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||PY.some(n=>(r.willChange||"").includes(n))||AY.some(n=>(r.contain||"").includes(n))}function TY(e){let t=Do(e);for(;Mi(t)&&!zu(t);){if(IS(t))return t;if(Yy(t))return null;t=Do(t)}return null}function DS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const RY=new Set(["html","body","#document"]);function zu(e){return RY.has(Od(e))}function ii(e){return Jn(e).getComputedStyle(e)}function Qy(e){return si(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Do(e){if(Od(e)==="html")return e;const t=e.assignedSlot||e.parentNode||YE(e)&&e.host||Bi(e);return YE(t)?t.host:t}function ID(e){const t=Do(e);return zu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mi(t)&&Op(t)?t:ID(t)}function kh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=ID(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Jn(s);if(i){const l=pj(o);return t.concat(o,o.visualViewport||[],Op(s)?s:[],l&&r?kh(l):[])}return t.concat(s,kh(s,[],r))}function pj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DD(e){const t=ii(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Mi(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Vg(r)!==i||Vg(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function LS(e){return si(e)?e:e.contextElement}function fu(e){const t=LS(e);if(!Mi(t))return Ai(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=DD(t);let o=(i?Vg(r.width):r.width)/n,l=(i?Vg(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const $Y=Ai(0);function LD(e){const t=Jn(e);return!DS()||!t.visualViewport?$Y:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MY(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Jn(e)?!1:t}function Xl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=LS(e);let o=Ai(1);t&&(n?si(n)&&(o=fu(n)):o=fu(e));const l=MY(i,r,n)?LD(i):Ai(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Jn(i),p=n&&si(n)?Jn(n):n;let g=h,m=pj(g);for(;m&&n&&p!==g;){const v=fu(m),y=m.getBoundingClientRect(),b=ii(m),w=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*v.x,S=y.top+(m.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=S,g=Jn(m),m=pj(g)}}return Kg({width:d,height:f,x:c,y:u})}function Xy(e,t){const r=Qy(e).scrollLeft;return t?t.left+r:Xl(Bi(e)).left+r}function FD(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Xy(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function IY(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Bi(n),l=t?Yy(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ai(1);const d=Ai(0),f=Mi(n);if((f||!f&&!i)&&((Od(n)!=="body"||Op(o))&&(c=Qy(n)),Mi(n))){const p=Xl(n);u=fu(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?FD(o,c):Ai(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function DY(e){return Array.from(e.getClientRects())}function LY(e){const t=Bi(e),r=Qy(e),n=e.ownerDocument.body,s=Vn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Vn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Xy(e);const l=-r.scrollTop;return ii(n).direction==="rtl"&&(o+=Vn(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const QE=25;function FY(e,t){const r=Jn(e),n=Bi(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=DS();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Xy(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-p);g<=QE&&(i-=g)}else u<=QE&&(i+=u);return{width:i,height:o,x:l,y:c}}const UY=new Set(["absolute","fixed"]);function BY(e,t){const r=Xl(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Mi(e)?fu(e):Ai(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function XE(e,t,r){let n;if(t==="viewport")n=FY(e,r);else if(t==="document")n=LY(Bi(e));else if(si(t))n=BY(t,r);else{const s=LD(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Kg(n)}function UD(e,t){const r=Do(e);return r===t||!si(r)||zu(r)?!1:ii(r).position==="fixed"||UD(r,t)}function zY(e,t){const r=t.get(e);if(r)return r;let n=kh(e,[],!1).filter(l=>si(l)&&Od(l)!=="body"),s=null;const i=ii(e).position==="fixed";let o=i?Do(e):e;for(;si(o)&&!zu(o);){const l=ii(o),c=IS(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&UY.has(s.position)||Op(o)&&!c&&UD(e,o))?n=n.filter(d=>d!==o):s=l,o=Do(o)}return t.set(e,n),n}function qY(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Yy(t)?[]:zY(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=XE(t,d,s);return u.top=Vn(f.top,u.top),u.right=Io(f.right,u.right),u.bottom=Io(f.bottom,u.bottom),u.left=Vn(f.left,u.left),u},XE(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function WY(e){const{width:t,height:r}=DD(e);return{width:t,height:r}}function VY(e,t,r){const n=Mi(t),s=Bi(t),i=r==="fixed",o=Xl(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ai(0);function u(){c.x=Xy(s)}if(n||!n&&!i)if((Od(t)!=="body"||Op(s))&&(l=Qy(t)),n){const p=Xl(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?FD(s,l):Ai(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Hb(e){return ii(e).position==="static"}function JE(e,t){if(!Mi(e)||ii(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Bi(e)===r&&(r=r.ownerDocument.body),r}function BD(e,t){const r=Jn(e);if(Yy(e))return r;if(!Mi(e)){let s=Do(e);for(;s&&!zu(s);){if(si(s)&&!Hb(s))return s;s=Do(s)}return r}let n=JE(e,t);for(;n&&CY(n)&&Hb(n);)n=JE(n,t);return n&&zu(n)&&Hb(n)&&!IS(n)?r:n||TY(e)||r}const HY=async function(e){const t=this.getOffsetParent||BD,r=this.getDimensions,n=await r(e.floating);return{reference:VY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function KY(e){return ii(e).direction==="rtl"}const GY={convertOffsetParentRelativeRectToViewportRelativeRect:IY,getDocumentElement:Bi,getClippingRect:qY,getOffsetParent:BD,getElementRects:HY,getClientRects:DY,getDimensions:WY,getScale:fu,isElement:si,isRTL:KY};function zD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function YY(e,t){let r=null,n;const s=Bi(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const g=Sm(f),m=Sm(s.clientWidth-(d+h)),v=Sm(s.clientHeight-(f+p)),y=Sm(d),w={rootMargin:-g+"px "+-m+"px "+-v+"px "+-y+"px",threshold:Vn(0,Io(1,c))||1};let S=!0;function j(_){const N=_[0].intersectionRatio;if(N!==c){if(!S)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!zD(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function QY(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=LS(e),d=s||i?[...u?kh(u):[],...kh(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=u&&l?YY(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?Xl(e):null;c&&v();function v(){const y=Xl(e);m&&!zD(m,y)&&r(),m=y,g=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(b=>{s&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const XY=wY,JY=jY,ZY=yY,eQ=SY,tQ=xY,ZE=vY,rQ=_Y,nQ=(e,t,r)=>{const n=new Map,s={platform:GY,...r},i={...s.platform,_c:n};return gY(e,t,{...s,platform:i})};var sQ=typeof document<"u",iQ=function(){},ag=sQ?x.useLayoutEffect:iQ;function Gg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Gg(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Gg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function qD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eO(e,t){const r=qD(e);return Math.round(t*r)/r}function Kb(e){const t=x.useRef(e);return ag(()=>{t.current=e}),t}function aQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(n);Gg(h,n)||p(n);const[g,m]=x.useState(null),[v,y]=x.useState(null),b=x.useCallback(F=>{F!==_.current&&(_.current=F,m(F))},[]),w=x.useCallback(F=>{F!==N.current&&(N.current=F,y(F))},[]),S=i||g,j=o||v,_=x.useRef(null),N=x.useRef(null),k=x.useRef(d),C=c!=null,A=Kb(c),I=Kb(s),O=Kb(u),U=x.useCallback(()=>{if(!_.current||!N.current)return;const F={placement:t,strategy:r,middleware:h};I.current&&(F.platform=I.current),nQ(_.current,N.current,F).then(T=>{const R={...T,isPositioned:O.current!==!1};E.current&&!Gg(k.current,R)&&(k.current=R,xd.flushSync(()=>{f(R)}))})},[h,t,r,I,O]);ag(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const E=x.useRef(!1);ag(()=>(E.current=!0,()=>{E.current=!1}),[]),ag(()=>{if(S&&(_.current=S),j&&(N.current=j),S&&j){if(A.current)return A.current(S,j,U);U()}},[S,j,U,A,C]);const B=x.useMemo(()=>({reference:_,floating:N,setReference:b,setFloating:w}),[b,w]),M=x.useMemo(()=>({reference:S,floating:j}),[S,j]),z=x.useMemo(()=>{const F={position:r,left:0,top:0};if(!M.floating)return F;const T=eO(M.floating,d.x),R=eO(M.floating,d.y);return l?{...F,transform:"translate("+T+"px, "+R+"px)",...qD(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:R}},[r,l,M.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:U,refs:B,elements:M,floatingStyles:z}),[d,U,B,M,z])}const oQ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ZE({element:n.current,padding:s}).fn(r):{}:n?ZE({element:n,padding:s}).fn(r):{}}}},lQ=(e,t)=>({...XY(e),options:[e,t]}),cQ=(e,t)=>({...JY(e),options:[e,t]}),uQ=(e,t)=>({...rQ(e),options:[e,t]}),dQ=(e,t)=>({...ZY(e),options:[e,t]}),fQ=(e,t)=>({...eQ(e),options:[e,t]}),hQ=(e,t)=>({...tQ(e),options:[e,t]}),pQ=(e,t)=>({...oQ(e),options:[e,t]});var mQ="Arrow",WD=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Xe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});WD.displayName=mQ;var gQ=WD;function VD(e){const[t,r]=x.useState(void 0);return kr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var FS="Popper",[HD,Jy]=Fi(FS),[vQ,KD]=HD(FS),GD=e=>{const{__scopePopper:t,children:r}=e,[n,s]=x.useState(null);return a.jsx(vQ,{scope:t,anchor:n,onAnchorChange:s,children:r})};GD.displayName=FS;var YD="PopperAnchor",QD=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=KD(YD,r),o=x.useRef(null),l=dt(t,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Xe.div,{...s,ref:l})});QD.displayName=YD;var US="PopperContent",[yQ,xQ]=HD(US),XD=x.forwardRef((e,t)=>{var ce,Me,te,pe,H,K;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,v=KD(US,r),[y,b]=x.useState(null),w=dt(t,Ye=>b(Ye)),[S,j]=x.useState(null),_=VD(S),N=(_==null?void 0:_.width)??0,k=(_==null?void 0:_.height)??0,C=n+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],O=I.length>0,U={padding:A,boundary:I.filter(wQ),altBoundary:O},{refs:E,floatingStyles:B,placement:M,isPositioned:z,middlewareData:F}=aQ({strategy:"fixed",placement:C,whileElementsMounted:(...Ye)=>QY(...Ye,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[lQ({mainAxis:s+k,alignmentAxis:o}),c&&cQ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?uQ():void 0,...U}),c&&dQ({...U}),fQ({...U,apply:({elements:Ye,rects:Ue,availableWidth:wt,availableHeight:yt})=>{const{width:Zt,height:tn}=Ue.reference,Sn=Ye.floating.style;Sn.setProperty("--radix-popper-available-width",`${wt}px`),Sn.setProperty("--radix-popper-available-height",`${yt}px`),Sn.setProperty("--radix-popper-anchor-width",`${Zt}px`),Sn.setProperty("--radix-popper-anchor-height",`${tn}px`)}}),S&&pQ({element:S,padding:l}),jQ({arrowWidth:N,arrowHeight:k}),h&&hQ({strategy:"referenceHidden",...U})]}),[T,R]=e4(M),J=zr(g);kr(()=>{z&&(J==null||J())},[z,J]);const G=(ce=F.arrow)==null?void 0:ce.x,ie=(Me=F.arrow)==null?void 0:Me.y,he=((te=F.arrow)==null?void 0:te.centerOffset)!==0,[Le,Fe]=x.useState();return kr(()=>{y&&Fe(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:z?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(pe=F.transformOrigin)==null?void 0:pe.x,(H=F.transformOrigin)==null?void 0:H.y].join(" "),...((K=F.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(yQ,{scope:r,placedSide:T,onArrowChange:j,arrowX:G,arrowY:ie,shouldHideArrow:he,children:a.jsx(Xe.div,{"data-side":T,"data-align":R,...m,ref:w,style:{...m.style,animation:z?void 0:"none"}})})})});XD.displayName=US;var JD="PopperArrow",bQ={top:"bottom",right:"left",bottom:"top",left:"right"},ZD=x.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=xQ(JD,n),o=bQ[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(gQ,{...s,ref:r,style:{...s.style,display:"block"}})})});ZD.displayName=JD;function wQ(e){return e!==null}var jQ=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:s}=t,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=e4(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=o?f:`${h}px`,m=`${-c}px`):u==="top"?(g=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:g,y:m}}}});function e4(e){const[t,r="center"]=e.split("-");return[t,r]}var t4=GD,r4=QD,n4=XD,s4=ZD,Gb="rovingFocusGroup.onEntryFocus",_Q={bubbles:!1,cancelable:!0},Pp="RovingFocusGroup",[mj,i4,SQ]=TS(Pp),[NQ,Zy]=Fi(Pp,[SQ]),[kQ,CQ]=NQ(Pp),a4=x.forwardRef((e,t)=>a.jsx(mj.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(mj.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(EQ,{...e,ref:t})})}));a4.displayName=Pp;var EQ=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),p=dt(t,h),g=Ep(i),[m,v]=Yl({prop:o,defaultProp:l??null,onChange:c,caller:Pp}),[y,b]=x.useState(!1),w=zr(u),S=i4(r),j=x.useRef(!1),[_,N]=x.useState(0);return x.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Gb,w),()=>k.removeEventListener(Gb,w)},[w]),a.jsx(kQ,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:m,onItemFocus:x.useCallback(k=>v(k),[v]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>N(k=>k-1),[]),children:a.jsx(Xe.div,{tabIndex:y||_===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ne(e.onMouseDown,()=>{j.current=!0}),onFocus:Ne(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!y){const A=new CustomEvent(Gb,_Q);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const I=S().filter(M=>M.focusable),O=I.find(M=>M.active),U=I.find(M=>M.id===m),B=[O,U,...I].filter(Boolean).map(M=>M.ref.current);c4(B,d)}}j.current=!1}),onBlur:Ne(e.onBlur,()=>b(!1))})})}),o4="RovingFocusGroupItem",l4=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Pi(),u=i||c,d=CQ(o4,r),f=d.currentTabStopId===u,h=i4(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return x.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),a.jsx(mj.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Xe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ne(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Ne(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ne(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=AQ(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const S=w.indexOf(v.currentTarget);w=d.loop?TQ(w,S+1):w.slice(S+1)}setTimeout(()=>c4(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});l4.displayName=o4;var OQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function PQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function AQ(e,t,r){const n=PQ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return OQ[n]}function c4(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function TQ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var u4=a4,d4=l4;function RQ(e){const t=$Q(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(IQ);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function $Q(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=LQ(s),l=DQ(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Aa(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var MQ=Symbol("radix.slottable");function IQ(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MQ}function DQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function LQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gj=["Enter"," "],FQ=["ArrowDown","PageUp","Home"],f4=["ArrowUp","PageDown","End"],UQ=[...FQ,...f4],BQ={ltr:[...gj,"ArrowRight"],rtl:[...gj,"ArrowLeft"]},zQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ap="Menu",[Ch,qQ,WQ]=TS(Ap),[fc,h4]=Fi(Ap,[WQ,Jy,Zy]),ex=Jy(),p4=Zy(),[VQ,hc]=fc(Ap),[HQ,Tp]=fc(Ap),m4=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=ex(t),[c,u]=x.useState(null),d=x.useRef(!1),f=zr(i),h=Ep(s);return x.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),a.jsx(t4,{...l,children:a.jsx(VQ,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(HQ,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};m4.displayName=Ap;var KQ="MenuAnchor",BS=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=ex(r);return a.jsx(r4,{...s,...n,ref:t})});BS.displayName=KQ;var zS="MenuPortal",[GQ,g4]=fc(zS,{forceMount:void 0}),v4=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=hc(zS,t);return a.jsx(GQ,{scope:t,forceMount:r,children:a.jsx(is,{present:r||i.open,children:a.jsx(Uy,{asChild:!0,container:s,children:n})})})};v4.displayName=zS;var ys="MenuContent",[YQ,qS]=fc(ys),y4=x.forwardRef((e,t)=>{const r=g4(ys,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=hc(ys,e.__scopeMenu),o=Tp(ys,e.__scopeMenu);return a.jsx(Ch.Provider,{scope:e.__scopeMenu,children:a.jsx(is,{present:n||i.open,children:a.jsx(Ch.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(QQ,{...s,ref:t}):a.jsx(XQ,{...s,ref:t})})})})}),QQ=x.forwardRef((e,t)=>{const r=hc(ys,e.__scopeMenu),n=x.useRef(null),s=dt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return xS(i)},[]),a.jsx(WS,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),XQ=x.forwardRef((e,t)=>{const r=hc(ys,e.__scopeMenu);return a.jsx(WS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),JQ=RQ("MenuContent.ScrollLock"),WS=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,v=hc(ys,r),y=Tp(ys,r),b=ex(r),w=p4(r),S=qQ(r),[j,_]=x.useState(null),N=x.useRef(null),k=dt(t,N,v.onContentChange),C=x.useRef(0),A=x.useRef(""),I=x.useRef(0),O=x.useRef(null),U=x.useRef("right"),E=x.useRef(0),B=g?zy:x.Fragment,M=g?{as:JQ,allowPinchZoom:!0}:void 0,z=T=>{var ce,Me;const R=A.current+T,J=S().filter(te=>!te.disabled),G=document.activeElement,ie=(ce=J.find(te=>te.ref.current===G))==null?void 0:ce.textValue,he=J.map(te=>te.textValue),Le=uX(he,R,ie),Fe=(Me=J.find(te=>te.textValue===Le))==null?void 0:Me.ref.current;(function te(pe){A.current=pe,window.clearTimeout(C.current),pe!==""&&(C.current=window.setTimeout(()=>te(""),1e3))})(R),Fe&&setTimeout(()=>Fe.focus())};x.useEffect(()=>()=>window.clearTimeout(C.current),[]),yS();const F=x.useCallback(T=>{var J,G;return U.current===((J=O.current)==null?void 0:J.side)&&fX(T,(G=O.current)==null?void 0:G.area)},[]);return a.jsx(YQ,{scope:r,searchRef:A,onItemEnter:x.useCallback(T=>{F(T)&&T.preventDefault()},[F]),onItemLeave:x.useCallback(T=>{var R;F(T)||((R=N.current)==null||R.focus(),_(null))},[F]),onTriggerLeave:x.useCallback(T=>{F(T)&&T.preventDefault()},[F]),pointerGraceTimerRef:I,onPointerGraceIntentChange:x.useCallback(T=>{O.current=T},[]),children:a.jsx(B,{...M,children:a.jsx(Fy,{asChild:!0,trapped:s,onMountAutoFocus:Ne(i,T=>{var R;T.preventDefault(),(R=N.current)==null||R.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Ly,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:a.jsx(u4,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:_,onEntryFocus:Ne(c,T=>{y.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(n4,{role:"menu","aria-orientation":"vertical","data-state":$4(v.open),"data-radix-menu-content":"",dir:y.dir,...b,...m,ref:k,style:{outline:"none",...m.style},onKeyDown:Ne(m.onKeyDown,T=>{const J=T.target.closest("[data-radix-menu-content]")===T.currentTarget,G=T.ctrlKey||T.altKey||T.metaKey,ie=T.key.length===1;J&&(T.key==="Tab"&&T.preventDefault(),!G&&ie&&z(T.key));const he=N.current;if(T.target!==he||!UQ.includes(T.key))return;T.preventDefault();const Fe=S().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);f4.includes(T.key)&&Fe.reverse(),lX(Fe)}),onBlur:Ne(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(C.current),A.current="")}),onPointerMove:Ne(e.onPointerMove,Eh(T=>{const R=T.target,J=E.current!==T.clientX;if(T.currentTarget.contains(R)&&J){const G=T.clientX>E.current?"right":"left";U.current=G,E.current=T.clientX}}))})})})})})})});y4.displayName=ys;var ZQ="MenuGroup",VS=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Xe.div,{role:"group",...n,ref:t})});VS.displayName=ZQ;var eX="MenuLabel",x4=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Xe.div,{...n,ref:t})});x4.displayName=eX;var Yg="MenuItem",tO="menu.itemSelect",tx=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=x.useRef(null),o=Tp(Yg,e.__scopeMenu),l=qS(Yg,e.__scopeMenu),c=dt(t,i),u=x.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(tO,{bubbles:!0,cancelable:!0});f.addEventListener(tO,p=>n==null?void 0:n(p),{once:!0}),CI(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(b4,{...s,ref:c,disabled:r,onClick:Ne(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ne(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ne(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||gj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});tx.displayName=Yg;var b4=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=qS(Yg,r),l=p4(r),c=x.useRef(null),u=dt(t,c),[d,f]=x.useState(!1),[h,p]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),a.jsx(Ch.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(d4,{asChild:!0,...l,focusable:!n,children:a.jsx(Xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ne(e.onPointerMove,Eh(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(e.onPointerLeave,Eh(g=>o.onItemLeave(g))),onFocus:Ne(e.onFocus,()=>f(!0)),onBlur:Ne(e.onBlur,()=>f(!1))})})})}),tX="MenuCheckboxItem",w4=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(k4,{scope:e.__scopeMenu,checked:r,children:a.jsx(tx,{role:"menuitemcheckbox","aria-checked":Qg(r)?"mixed":r,...s,ref:t,"data-state":KS(r),onSelect:Ne(s.onSelect,()=>n==null?void 0:n(Qg(r)?!0:!r),{checkForDefaultPrevented:!1})})})});w4.displayName=tX;var j4="MenuRadioGroup",[rX,nX]=fc(j4,{value:void 0,onValueChange:()=>{}}),_4=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=zr(n);return a.jsx(rX,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(VS,{...s,ref:t})})});_4.displayName=j4;var S4="MenuRadioItem",N4=x.forwardRef((e,t)=>{const{value:r,...n}=e,s=nX(S4,e.__scopeMenu),i=r===s.value;return a.jsx(k4,{scope:e.__scopeMenu,checked:i,children:a.jsx(tx,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":KS(i),onSelect:Ne(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});N4.displayName=S4;var HS="MenuItemIndicator",[k4,sX]=fc(HS,{checked:!1}),C4=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=sX(HS,r);return a.jsx(is,{present:n||Qg(i.checked)||i.checked===!0,children:a.jsx(Xe.span,{...s,ref:t,"data-state":KS(i.checked)})})});C4.displayName=HS;var iX="MenuSeparator",E4=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});E4.displayName=iX;var aX="MenuArrow",O4=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=ex(r);return a.jsx(s4,{...s,...n,ref:t})});O4.displayName=aX;var oX="MenuSub",[MAe,P4]=fc(oX),Cf="MenuSubTrigger",A4=x.forwardRef((e,t)=>{const r=hc(Cf,e.__scopeMenu),n=Tp(Cf,e.__scopeMenu),s=P4(Cf,e.__scopeMenu),i=qS(Cf,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(BS,{asChild:!0,...u,children:a.jsx(b4,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":$4(r.open),...e,ref:Aa(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ne(e.onPointerMove,Eh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ne(e.onPointerLeave,Eh(f=>{var p,g;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",y=v?-5:5,b=h[v?"left":"right"],w=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:b,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:b,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||BQ[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});A4.displayName=Cf;var T4="MenuSubContent",R4=x.forwardRef((e,t)=>{const r=g4(ys,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=hc(ys,e.__scopeMenu),o=Tp(ys,e.__scopeMenu),l=P4(T4,e.__scopeMenu),c=x.useRef(null),u=dt(t,c);return a.jsx(Ch.Provider,{scope:e.__scopeMenu,children:a.jsx(is,{present:n||i.open,children:a.jsx(Ch.Slot,{scope:e.__scopeMenu,children:a.jsx(WS,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ne(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ne(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=zQ[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});R4.displayName=T4;function $4(e){return e?"open":"closed"}function Qg(e){return e==="indeterminate"}function KS(e){return Qg(e)?"indeterminate":e?"checked":"unchecked"}function lX(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function cX(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function uX(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=cX(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function dX(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function fX(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return dX(r,t)}function Eh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var hX=m4,pX=BS,mX=v4,gX=y4,vX=VS,yX=x4,xX=tx,bX=w4,wX=_4,jX=N4,_X=C4,SX=E4,NX=O4,kX=A4,CX=R4,rx="DropdownMenu",[EX]=Fi(rx,[h4]),wn=h4(),[OX,M4]=EX(rx),I4=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=wn(t),u=x.useRef(null),[d,f]=Yl({prop:s,defaultProp:i??!1,onChange:o,caller:rx});return a.jsx(OX,{scope:t,triggerId:Pi(),triggerRef:u,contentId:Pi(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(hX,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};I4.displayName=rx;var D4="DropdownMenuTrigger",L4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=M4(D4,r),o=wn(r);return a.jsx(pX,{asChild:!0,...o,children:a.jsx(Xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Aa(t,i.triggerRef),onPointerDown:Ne(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ne(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});L4.displayName=D4;var PX="DropdownMenuPortal",F4=e=>{const{__scopeDropdownMenu:t,...r}=e,n=wn(t);return a.jsx(mX,{...n,...r})};F4.displayName=PX;var U4="DropdownMenuContent",B4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=M4(U4,r),i=wn(r),o=x.useRef(!1);return a.jsx(gX,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ne(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});B4.displayName=U4;var AX="DropdownMenuGroup",TX=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(vX,{...s,...n,ref:t})});TX.displayName=AX;var RX="DropdownMenuLabel",z4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(yX,{...s,...n,ref:t})});z4.displayName=RX;var $X="DropdownMenuItem",q4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(xX,{...s,...n,ref:t})});q4.displayName=$X;var MX="DropdownMenuCheckboxItem",W4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(bX,{...s,...n,ref:t})});W4.displayName=MX;var IX="DropdownMenuRadioGroup",DX=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(wX,{...s,...n,ref:t})});DX.displayName=IX;var LX="DropdownMenuRadioItem",V4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(jX,{...s,...n,ref:t})});V4.displayName=LX;var FX="DropdownMenuItemIndicator",H4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(_X,{...s,...n,ref:t})});H4.displayName=FX;var UX="DropdownMenuSeparator",K4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(SX,{...s,...n,ref:t})});K4.displayName=UX;var BX="DropdownMenuArrow",zX=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(NX,{...s,...n,ref:t})});zX.displayName=BX;var qX="DropdownMenuSubTrigger",G4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(kX,{...s,...n,ref:t})});G4.displayName=qX;var WX="DropdownMenuSubContent",Y4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(CX,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Y4.displayName=WX;var VX=I4,HX=L4,KX=F4,Q4=B4,X4=z4,J4=q4,Z4=W4,eL=V4,tL=H4,rL=K4,nL=G4,sL=Y4;const Lo=VX,Fo=HX,GX=x.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(nL,{ref:s,className:Z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(es,{className:"ml-auto h-4 w-4"})]}));GX.displayName=nL.displayName;const YX=x.forwardRef(({className:e,...t},r)=>a.jsx(sL,{ref:r,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));YX.displayName=sL.displayName;const wa=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(KX,{children:a.jsx(Q4,{ref:n,sideOffset:t,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));wa.displayName=Q4.displayName;const pr=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(J4,{ref:n,className:Z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));pr.displayName=J4.displayName;const QX=x.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(Z4,{ref:s,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(tL,{children:a.jsx(Np,{className:"h-4 w-4"})})}),t]}));QX.displayName=Z4.displayName;const XX=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(eL,{ref:n,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(tL,{children:a.jsx(yH,{className:"h-2 w-2 fill-current"})})}),t]}));XX.displayName=eL.displayName;const iL=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(X4,{ref:n,className:Z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));iL.displayName=X4.displayName;const vj=x.forwardRef(({className:e,...t},r)=>a.jsx(rL,{ref:r,className:Z("-mx-1 my-1 h-px bg-border",e),...t}));vj.displayName=rL.displayName;function JX({open:e,onOpenChange:t,onConfirm:r,isConfirming:n=!1,className:s}){const i=async()=>{await r(),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:Z("max-w-[640px] rounded-[10px] border border-border bg-card shadow-lg",s),"aria-describedby":"logout-confirm-description",children:[a.jsx(Ve,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-muted",children:a.jsx(fI,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(He,{children:"Sign out"}),a.jsx(Ke,{id:"logout-confirm-description",children:"Are you sure you want to sign out? You can sign in again anytime."})]})]})}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx($,{type:"button",variant:"default",onClick:i,disabled:n,className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-md",children:n?"Signing out":"Sign out"})]})]})})}function ZX({className:e}){var d;const{user:t,signOut:r,isLoading:n}=iS(),s=Vo(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),u=async()=>{c(!0),await r(),c(!1),o(!1),s("/",{replace:!0})};return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:Z("flex h-14 items-center gap-4 border-b border-border bg-card px-4",e),children:[a.jsx("div",{className:"flex flex-1 items-center gap-4",children:a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(gI,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(ge,{type:"search",placeholder:"Search...",className:"pl-9 rounded-md border-border","aria-label":"Search"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($,{variant:"ghost",size:"icon","aria-label":"Notifications",children:a.jsx(pH,{className:"h-4 w-4"})}),a.jsx($,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(me,{to:"/help","aria-label":"Help",children:a.jsx(Ry,{className:"h-4 w-4"})})}),!n&&(t?a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsx($,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all hover:scale-[1.02]","aria-label":"Account menu",children:a.jsxs(Hy,{className:"h-10 w-10",children:[a.jsx(AS,{src:(d=t.user_metadata)==null?void 0:d.avatar_url,alt:t.email??"User"}),a.jsx(Ky,{className:"bg-primary/20 text-primary",children:a.jsx(Dy,{className:"h-5 w-5"})})]})})}),a.jsxs(wa,{align:"end",className:"w-56 rounded-md border-border bg-card shadow-lg",children:[a.jsx(iL,{children:a.jsx("span",{className:"font-normal text-muted-foreground",children:t.email})}),a.jsx(vj,{}),a.jsx(pr,{asChild:!0,children:a.jsx(me,{to:"/profile",children:"Profile"})}),a.jsx(pr,{asChild:!0,children:a.jsx(me,{to:"/settings",children:"Settings"})}),a.jsx(vj,{}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onSelect:f=>{f.preventDefault(),o(!0)},children:[a.jsx(fI,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Log out"]})]})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx(me,{to:"/login",children:"Sign in"})}),a.jsx($,{size:"sm",asChild:!0,children:a.jsx(me,{to:"/signup",children:"Sign up"})})]}))]})]}),a.jsx(JX,{open:i,onOpenChange:o,onConfirm:u,isConfirming:l})]})}function eJ(){return a.jsxs("div",{className:"flex min-h-screen bg-background",children:[a.jsx($G,{}),a.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[a.jsx(ZX,{}),a.jsx("main",{className:Z("flex-1 overflow-auto p-4 md:p-6","max-w-content mx-auto w-full"),children:a.jsx(NM,{})})]})]})}const ee=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("rounded-[10px] border border-border bg-card text-card-foreground shadow-card transition-shadow hover:shadow-card-hover",e),...t}));ee.displayName="Card";const se=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("flex flex-col space-y-1.5 p-3 sm:p-6",e),...t}));se.displayName="CardHeader";const le=x.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));le.displayName="CardTitle";const xe=x.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));xe.displayName="CardDescription";const re=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));re.displayName="CardContent";const tJ=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("flex items-center p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));tJ.displayName="CardFooter";const rJ="reveal-visible";function Nm(e){const t=x.useRef(null),[r,n]=x.useState(!1);return x.useEffect(()=>{const s=t.current;if(!s)return;const i=new IntersectionObserver(([o])=>{o!=null&&o.isIntersecting&&(n(!0),s.classList.add(rJ))},{rootMargin:"0px 0px -60px 0px",threshold:.1,...e});return i.observe(s),()=>i.disconnect()},[e==null?void 0:e.rootMargin,e==null?void 0:e.threshold]),{ref:t,visible:r}}const nJ=[{id:"1",name:"Chat-native control",description:"Control your agent from WhatsApp, Telegram, Slack, and Discord. One gateway, all your channels.",iconName:"MessageSquare"},{id:"2",name:"Skills & tools",description:"Load skills from SKILL.md with gating checks, run tools with sandboxing and policy whitelists.",iconName:"Zap"},{id:"3",name:"Paired nodes",description:"Pair devices via QR or code. Manage exec allowlists, wake config, and approvals per node.",iconName:"Smartphone"},{id:"4",name:"Browser automation",description:"Managed Chromium profile, CDP abstraction, and capture tools for screenshots, PDF, and DOM.",iconName:"Globe"},{id:"5",name:"Security audit",description:"Automated checks for plaintext secrets, open binds, and risky permissions. Remediation and auto-fix.",iconName:"Shield"},{id:"6",name:"Cron & webhooks",description:"Schedule jobs and inbound webhooks with token auth, lifecycle hooks, and payload transforms.",iconName:"Clock"}],sJ=[{id:"tg",providerName:"Telegram",category:"chat"},{id:"wa",providerName:"WhatsApp",category:"chat"},{id:"slack",providerName:"Slack",category:"chat"},{id:"discord",providerName:"Discord",category:"chat"},{id:"openai",providerName:"OpenAI",category:"model"},{id:"anthropic",providerName:"Anthropic",category:"model"},{id:"ollama",providerName:"Ollama",category:"model"}],iJ=[{id:"free",planName:"Free",description:"Local gateway, core features",price:"$0",features:["Local-only mode","Control UI","1 channel","Community support"]},{id:"pro",planName:"Pro",description:"Cloud-linked, more channels",price:"TBD",features:["Everything in Free","Multiple channels","Skills registry","Email support"]},{id:"enterprise",planName:"Enterprise",description:"Multi-workspace, SSO, SLA",price:"Contact us",features:["Everything in Pro","Admin dashboard","RBAC","Dedicated support"]}],aJ={MessageSquare:kp,Zap:bI,Smartphone:AH,Globe:SH,Shield:Dn,Clock:vo};function oJ(){const[e,t]=x.useState(null),r=Nm(),n=Nm(),s=Nm(),i=Nm();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed left-0 right-0 top-0 z-40 border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(me,{to:"/",className:"text-xl font-semibold text-foreground",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-6",children:[a.jsx("a",{href:"#features",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Features"}),a.jsx("a",{href:"#quick-start",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Quick start"}),a.jsx("a",{href:"#pricing",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Pricing"}),a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Docs"}),a.jsx(me,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx($,{asChild:!0,size:"sm",children:a.jsx(me,{to:"/signup",children:"Sign up"})})]})]})}),a.jsxs("main",{children:[a.jsxs("section",{className:"relative overflow-hidden px-4 pt-32 pb-24 sm:px-6 sm:pt-40 sm:pb-32",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"landing-hero-blob absolute -left-32 top-20 h-80 w-80 rounded-full opacity-40",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.4) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-2 absolute right-0 top-1/3 h-96 w-96 rounded-full opacity-30",style:{background:"radial-gradient(circle, rgb(var(--accent) / 0.35) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-3 absolute bottom-20 left-1/3 h-64 w-64 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.3) 0%, transparent 70%)"}})]}),a.jsxs("div",{className:"relative mx-auto max-w-3xl text-center",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:"Local-first, chat-native personal agent"}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground sm:text-xl",children:"Run tools, schedule jobs, pair devices, and control your agent from the chat surfaces you already use."}),a.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-4",children:[a.jsx($,{size:"lg",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/download",className:"inline-flex items-center gap-2",children:[a.jsx(oi,{className:"h-5 w-5"}),"Install Gateway"]})}),a.jsx($,{size:"lg",variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/dashboard",className:"inline-flex items-center gap-2",children:[a.jsx(My,{className:"h-5 w-5"}),"Open Local UI"]})}),a.jsx($,{size:"lg",variant:"ghost",asChild:!0,className:"min-h-[44px] text-muted-foreground",children:a.jsxs(me,{to:"/help",className:"inline-flex items-center gap-2",children:[a.jsx(Wr,{className:"h-5 w-5"}),"Docs"]})})]})]})]}),a.jsxs("section",{id:"features",ref:r.ref,className:Z("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Features"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"One gateway for chat, skills, nodes, automation, and security."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:nJ.map((o,l)=>a.jsx(lJ,{feature:o,index:l},o.id))})]}),a.jsx("section",{id:"quick-start",ref:n.ref,className:Z("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Quick start"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Get running in a few steps."}),a.jsx("ol",{className:"mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:["Install and start the gateway (local-only or cloud-linked).","Open the Control UI at your local URL.","Add a channel (e.g. Telegram) and message your agent.","Try Summarize this URL with a link in chat."].map((o,l)=>a.jsxs("li",{className:"relative flex gap-4 rounded-lg border border-border bg-card p-6 shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground","aria-hidden":!0,children:l+1}),a.jsx("span",{className:"text-muted-foreground",children:o})]},l))})]})}),a.jsxs("section",{id:"integrations",ref:s.ref,className:Z("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Works with your stack"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Chat providers and model backends you can connect today."}),a.jsx("div",{className:"mt-12 flex flex-wrap items-center justify-center gap-8",children:sJ.map(o=>a.jsx("div",{className:"flex h-14 min-w-[120px] items-center justify-center rounded-lg border border-border bg-card/50 px-6 py-3 text-sm font-medium text-muted-foreground transition-colors hover:border-primary/50 hover:text-foreground",children:o.providerName},o.id))})]}),a.jsx("section",{id:"pricing",ref:i.ref,className:Z("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Plans"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Start free, scale when you need more."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-3",children:iJ.map(o=>a.jsxs(ee,{className:"cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",onClick:()=>t(o),children:[a.jsxs(se,{className:"pb-2",children:[a.jsx(le,{className:"text-lg",children:o.planName}),a.jsx(xe,{children:o.description}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:o.price})]}),a.jsxs(re,{children:[a.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.features.slice(0,3).map((l,c)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(es,{className:"h-4 w-4 text-accent"}),l]},c))}),a.jsx($,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:l=>{l.stopPropagation(),t(o)},children:"Learn more"})]})]},o.id))})]})}),a.jsx("footer",{className:"border-t border-border py-12",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Repository"}),a.jsx(me,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(me,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]}),a.jsx(Ge,{open:!!e,onOpenChange:o=>{o||t(null)},children:a.jsx(We,{className:"max-w-md",children:e&&a.jsxs(a.Fragment,{children:[a.jsxs(Ve,{children:[a.jsx(He,{children:e.planName}),a.jsx(Ke,{children:e.description})]}),a.jsx("p",{className:"text-2xl font-semibold text-foreground",children:e.price}),a.jsx("ul",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:e.features.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(es,{className:"h-4 w-4 text-accent"}),o]},l))}),a.jsx($,{asChild:!0,className:"mt-6 w-full",children:a.jsx(me,{to:"/signup",children:"Get started"})})]})})})]})}function lJ({feature:e,index:t}){const r=aJ[e.iconName]??bI;return a.jsx(ee,{className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",style:{transitionDelay:`${t*50}ms`},children:a.jsxs(se,{children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 text-primary",children:a.jsx(r,{className:"h-6 w-6"})}),a.jsx(le,{className:"text-lg",children:e.name}),a.jsx(xe,{children:e.description})]})})}var Rp=e=>e.type==="checkbox",jl=e=>e instanceof Date,En=e=>e==null;const aL=e=>typeof e=="object";var Sr=e=>!En(e)&&!Array.isArray(e)&&aL(e)&&!jl(e),cJ=e=>Sr(e)&&e.target?Rp(e.target)?e.target.checked:e.target.value:e,uJ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dJ=(e,t)=>e.has(uJ(t)),fJ=e=>{const t=e.constructor&&e.constructor.prototype;return Sr(t)&&t.hasOwnProperty("isPrototypeOf")},GS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Er(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(GS&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Sr(e)&&fJ(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Er(e[s]));return n}var nx=e=>/^\w*$/.test(e),nr=e=>e===void 0,YS=e=>Array.isArray(e)?e.filter(Boolean):[],QS=e=>YS(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ee=(e,t,r)=>{if(!t||!Sr(e))return r;const n=(nx(t)?[t]:QS(t)).reduce((s,i)=>En(s)?s:s[i],e);return nr(n)||n===e?nr(e[t])?r:e[t]:n},vi=e=>typeof e=="boolean",Gs=e=>typeof e=="function",Ft=(e,t,r)=>{let n=-1;const s=nx(t)?[t]:QS(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Sr(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const rO={BLUR:"blur",FOCUS_OUT:"focusout"},Ys={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hJ=P.createContext(null);hJ.displayName="HookFormControlContext";var pJ=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Ys.all&&(t._proxyFormState[o]=!n||Ys.all),e[o]}});return s};const mJ=typeof window<"u"?P.useLayoutEffect:P.useEffect;var Kn=e=>typeof e=="string",gJ=(e,t,r,n,s)=>Kn(e)?(n&&t.watch.add(e),Ee(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ee(r,i))):(n&&(t.watchAll=!0),r),yj=e=>En(e)||!aL(e);function ro(e,t,r=new WeakSet){if(yj(e)||yj(t))return Object.is(e,t);if(jl(e)&&jl(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(jl(o)&&jl(l)||Sr(o)&&Sr(l)||Array.isArray(o)&&Array.isArray(l)?!ro(o,l,r):!Object.is(o,l))return!1}}return!0}const vJ=P.createContext(null);vJ.displayName="HookFormContext";var oL=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},zf=e=>Array.isArray(e)?e:[e],nO=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function lL(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&Sr(s)&&i){const o=lL(s,i);Sr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var hn=e=>Sr(e)&&!Object.keys(e).length,XS=e=>e.type==="file",Xg=e=>{if(!GS)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},cL=e=>e.type==="select-multiple",JS=e=>e.type==="radio",yJ=e=>JS(e)||Rp(e),Yb=e=>Xg(e)&&e.isConnected;function xJ(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=nr(e)?n++:e[t[n++]];return e}function bJ(e){for(const t in e)if(e.hasOwnProperty(t)&&!nr(e[t]))return!1;return!0}function yr(e,t){const r=Array.isArray(t)?t:nx(t)?[t]:QS(t),n=r.length===1?e:xJ(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Sr(n)&&hn(n)||Array.isArray(n)&&bJ(n))&&yr(e,r.slice(0,-1)),e}var wJ=e=>{for(const t in e)if(Gs(e[t]))return!0;return!1};function uL(e){return Array.isArray(e)||Sr(e)&&!wJ(e)}function xj(e,t={}){for(const r in e){const n=e[r];uL(n)?(t[r]=Array.isArray(n)?[]:{},xj(n,t[r])):nr(n)||(t[r]=!0)}return t}function Fc(e,t,r){r||(r=xj(t));for(const n in e){const s=e[n];if(uL(s))nr(t)||yj(r[n])?r[n]=xj(s,Array.isArray(s)?[]:{}):Fc(s,En(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!ro(s,i)}}return r}const sO={value:!1,isValid:!1},iO={value:!0,isValid:!0};var dL=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!nr(e[0].attributes.value)?nr(e[0].value)||e[0].value===""?iO:{value:e[0].value,isValid:!0}:iO:sO}return sO},fL=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>nr(e)?e:t?e===""?NaN:e&&+e:r&&Kn(e)?new Date(e):n?n(e):e;const aO={isValid:!1,value:null};var hL=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,aO):aO;function oO(e){const t=e.ref;return XS(t)?t.files:JS(t)?hL(e.refs).value:cL(t)?[...t.selectedOptions].map(({value:r})=>r):Rp(t)?dL(e.refs).value:fL(nr(t.value)?e.ref.value:t.value,e)}var jJ=(e,t,r,n)=>{const s={};for(const i of e){const o=Ee(t,i);o&&Ft(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Jg=e=>e instanceof RegExp,of=e=>nr(e)?e:Jg(e)?e.source:Sr(e)?Jg(e.value)?e.value.source:e.value:e,lO=e=>({isOnSubmit:!e||e===Ys.onSubmit,isOnBlur:e===Ys.onBlur,isOnChange:e===Ys.onChange,isOnAll:e===Ys.all,isOnTouch:e===Ys.onTouched});const cO="AsyncFunction";var _J=e=>!!e&&!!e.validate&&!!(Gs(e.validate)&&e.validate.constructor.name===cO||Sr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===cO)),SJ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),uO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const qf=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Ee(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(qf(l,t))break}else if(Sr(l)&&qf(l,t))break}}};function dO(e,t,r){const n=Ee(e,r);if(n||nx(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Ee(t,i),l=Ee(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var NJ=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return hn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Ys.all))},kJ=(e,t,r)=>!e||!t||e===t||zf(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),CJ=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,EJ=(e,t)=>!YS(Ee(e,t)).length&&yr(e,t),OJ=(e,t,r)=>{const n=zf(Ee(e,r));return Ft(n,"root",t[r]),Ft(e,r,n),e};function fO(e,t,r="validate"){if(Kn(e)||Array.isArray(e)&&e.every(Kn)||vi(e)&&!e)return{type:r,message:Kn(e)?e:"",ref:t}}var Pc=e=>Sr(e)&&!Jg(e)?e:{value:e,message:""},hO=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:v,mount:y}=e._f,b=Ee(r,m);if(!y||t.has(m))return{};const w=l?l[0]:o,S=O=>{s&&w.reportValidity&&(w.setCustomValidity(vi(O)?"":O||""),w.reportValidity())},j={},_=JS(o),N=Rp(o),k=_||N,C=(v||XS(o))&&nr(o.value)&&nr(b)||Xg(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,A=oL.bind(null,m,n,j),I=(O,U,E,B=Hi.maxLength,M=Hi.minLength)=>{const z=O?U:E;j[m]={type:O?B:M,message:z,ref:o,...A(O?B:M,z)}};if(i?!Array.isArray(b)||!b.length:c&&(!k&&(C||En(b))||vi(b)&&!b||N&&!dL(l).isValid||_&&!hL(l).isValid)){const{value:O,message:U}=Kn(c)?{value:!!c,message:c}:Pc(c);if(O&&(j[m]={type:Hi.required,message:U,ref:w,...A(Hi.required,U)},!n))return S(U),j}if(!C&&(!En(f)||!En(h))){let O,U;const E=Pc(h),B=Pc(f);if(!En(b)&&!isNaN(b)){const M=o.valueAsNumber||b&&+b;En(E.value)||(O=M>E.value),En(B.value)||(U=M<B.value)}else{const M=o.valueAsDate||new Date(b),z=R=>new Date(new Date().toDateString()+" "+R),F=o.type=="time",T=o.type=="week";Kn(E.value)&&b&&(O=F?z(b)>z(E.value):T?b>E.value:M>new Date(E.value)),Kn(B.value)&&b&&(U=F?z(b)<z(B.value):T?b<B.value:M<new Date(B.value))}if((O||U)&&(I(!!O,E.message,B.message,Hi.max,Hi.min),!n))return S(j[m].message),j}if((u||d)&&!C&&(Kn(b)||i&&Array.isArray(b))){const O=Pc(u),U=Pc(d),E=!En(O.value)&&b.length>+O.value,B=!En(U.value)&&b.length<+U.value;if((E||B)&&(I(E,O.message,U.message),!n))return S(j[m].message),j}if(p&&!C&&Kn(b)){const{value:O,message:U}=Pc(p);if(Jg(O)&&!b.match(O)&&(j[m]={type:Hi.pattern,message:U,ref:o,...A(Hi.pattern,U)},!n))return S(U),j}if(g){if(Gs(g)){const O=await g(b,r),U=fO(O,w);if(U&&(j[m]={...U,...A(Hi.validate,U.message)},!n))return S(U.message),j}else if(Sr(g)){let O={};for(const U in g){if(!hn(O)&&!n)break;const E=fO(await g[U](b,r),w,U);E&&(O={...E,...A(U,E.message)},S(E.message),n&&(j[m]=O))}if(!hn(O)&&(j[m]={ref:w,...O},!n))return j}}return S(!0),j};const PJ={mode:Ys.onSubmit,reValidateMode:Ys.onChange,shouldFocusError:!0};function AJ(e={}){let t={...PJ,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Gs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Sr(t.defaultValues)||Sr(t.values)?Er(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Er(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:nO(),state:nO()},g=t.criteriaMode===Ys.all,m=D=>W=>{clearTimeout(u),u=setTimeout(D,W)},v=async D=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||D)){let W;t.resolver?(W=hn((await k()).errors),y()):W=await A(n,!0),W!==r.isValid&&p.state.next({isValid:W})}},y=(D,W)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((D||Array.from(l.mount)).forEach(Y=>{Y&&(W?Ft(r.validatingFields,Y,W):yr(r.validatingFields,Y))}),p.state.next({validatingFields:r.validatingFields,isValidating:!hn(r.validatingFields)}))},b=(D,W=[],Y,ve,fe=!0,ne=!0)=>{if(ve&&Y&&!t.disabled){if(o.action=!0,ne&&Array.isArray(Ee(n,D))){const Ae=Y(Ee(n,D),ve.argA,ve.argB);fe&&Ft(n,D,Ae)}if(ne&&Array.isArray(Ee(r.errors,D))){const Ae=Y(Ee(r.errors,D),ve.argA,ve.argB);fe&&Ft(r.errors,D,Ae),EJ(r.errors,D)}if((f.touchedFields||h.touchedFields)&&ne&&Array.isArray(Ee(r.touchedFields,D))){const Ae=Y(Ee(r.touchedFields,D),ve.argA,ve.argB);fe&&Ft(r.touchedFields,D,Ae)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Fc(s,i)),p.state.next({name:D,isDirty:O(D,W),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ft(i,D,W)},w=(D,W)=>{Ft(r.errors,D,W),p.state.next({errors:r.errors})},S=D=>{r.errors=D,p.state.next({errors:r.errors,isValid:!1})},j=(D,W,Y,ve)=>{const fe=Ee(n,D);if(fe){const ne=Ee(i,D,nr(Y)?Ee(s,D):Y);nr(ne)||ve&&ve.defaultChecked||W?Ft(i,D,W?ne:oO(fe._f)):B(D,ne),o.mount&&!o.action&&v()}},_=(D,W,Y,ve,fe)=>{let ne=!1,Ae=!1;const xt={name:D};if(!t.disabled){if(!Y||ve){(f.isDirty||h.isDirty)&&(Ae=r.isDirty,r.isDirty=xt.isDirty=O(),ne=Ae!==xt.isDirty);const bt=ro(Ee(s,D),W);Ae=!!Ee(r.dirtyFields,D),bt?yr(r.dirtyFields,D):Ft(r.dirtyFields,D,!0),xt.dirtyFields=r.dirtyFields,ne=ne||(f.dirtyFields||h.dirtyFields)&&Ae!==!bt}if(Y){const bt=Ee(r.touchedFields,D);bt||(Ft(r.touchedFields,D,Y),xt.touchedFields=r.touchedFields,ne=ne||(f.touchedFields||h.touchedFields)&&bt!==Y)}ne&&fe&&p.state.next(xt)}return ne?xt:{}},N=(D,W,Y,ve)=>{const fe=Ee(r.errors,D),ne=(f.isValid||h.isValid)&&vi(W)&&r.isValid!==W;if(t.delayError&&Y?(c=m(()=>w(D,Y)),c(t.delayError)):(clearTimeout(u),c=null,Y?Ft(r.errors,D,Y):yr(r.errors,D)),(Y?!ro(fe,Y):fe)||!hn(ve)||ne){const Ae={...ve,...ne&&vi(W)?{isValid:W}:{},errors:r.errors,name:D};r={...r,...Ae},p.state.next(Ae)}},k=async D=>(y(D,!0),await t.resolver(i,t.context,jJ(D||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async D=>{const{errors:W}=await k(D);if(y(D),D)for(const Y of D){const ve=Ee(W,Y);ve?Ft(r.errors,Y,ve):yr(r.errors,Y)}else r.errors=W;return W},A=async(D,W,Y={valid:!0})=>{for(const ve in D){const fe=D[ve];if(fe){const{_f:ne,...Ae}=fe;if(ne){const xt=l.array.has(ne.name),bt=fe._f&&_J(fe._f);bt&&f.validatingFields&&y([ne.name],!0);const vr=await hO(fe,l.disabled,i,g,t.shouldUseNativeValidation&&!W,xt);if(bt&&f.validatingFields&&y([ne.name]),vr[ne.name]&&(Y.valid=!1,W||e.shouldUseNativeValidation))break;!W&&(Ee(vr,ne.name)?xt?OJ(r.errors,vr,ne.name):Ft(r.errors,ne.name,vr[ne.name]):yr(r.errors,ne.name))}!hn(Ae)&&await A(Ae,W,Y)}}return Y.valid},I=()=>{for(const D of l.unMount){const W=Ee(n,D);W&&(W._f.refs?W._f.refs.every(Y=>!Yb(Y)):!Yb(W._f.ref))&&Me(D)}l.unMount=new Set},O=(D,W)=>!t.disabled&&(D&&W&&Ft(i,D,W),!ro(J(),s)),U=(D,W,Y)=>gJ(D,l,{...o.mount?i:nr(W)?s:Kn(D)?{[D]:W}:W},Y,W),E=D=>YS(Ee(o.mount?i:s,D,t.shouldUnregister?Ee(s,D,[]):[])),B=(D,W,Y={})=>{const ve=Ee(n,D);let fe=W;if(ve){const ne=ve._f;ne&&(!ne.disabled&&Ft(i,D,fL(W,ne)),fe=Xg(ne.ref)&&En(W)?"":W,cL(ne.ref)?[...ne.ref.options].forEach(Ae=>Ae.selected=fe.includes(Ae.value)):ne.refs?Rp(ne.ref)?ne.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(fe)?Ae.checked=!!fe.find(xt=>xt===Ae.value):Ae.checked=fe===Ae.value||!!fe)}):ne.refs.forEach(Ae=>Ae.checked=Ae.value===fe):XS(ne.ref)?ne.ref.value="":(ne.ref.value=fe,ne.ref.type||p.state.next({name:D,values:Er(i)})))}(Y.shouldDirty||Y.shouldTouch)&&_(D,fe,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&R(D)},M=(D,W,Y)=>{for(const ve in W){if(!W.hasOwnProperty(ve))return;const fe=W[ve],ne=D+"."+ve,Ae=Ee(n,ne);(l.array.has(D)||Sr(fe)||Ae&&!Ae._f)&&!jl(fe)?M(ne,fe,Y):B(ne,fe,Y)}},z=(D,W,Y={})=>{const ve=Ee(n,D),fe=l.array.has(D),ne=Er(W);Ft(i,D,ne),fe?(p.array.next({name:D,values:Er(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&Y.shouldDirty&&p.state.next({name:D,dirtyFields:Fc(s,i),isDirty:O(D,ne)})):ve&&!ve._f&&!En(ne)?M(D,ne,Y):B(D,ne,Y),uO(D,l)?p.state.next({...r,name:D,values:Er(i)}):p.state.next({name:o.mount?D:void 0,values:Er(i)})},F=async D=>{o.mount=!0;const W=D.target;let Y=W.name,ve=!0;const fe=Ee(n,Y),ne=bt=>{ve=Number.isNaN(bt)||jl(bt)&&isNaN(bt.getTime())||ro(bt,Ee(i,Y,bt))},Ae=lO(t.mode),xt=lO(t.reValidateMode);if(fe){let bt,vr;const Wi=W.type?oO(fe._f):cJ(D),Os=D.type===rO.BLUR||D.type===rO.FOCUS_OUT,Kd=!SJ(fe._f)&&!t.resolver&&!Ee(r.errors,Y)&&!fe._f.deps||CJ(Os,Ee(r.touchedFields,Y),r.isSubmitted,xt,Ae),hi=uO(Y,l,Os);Ft(i,Y,Wi),Os?(!W||!W.readOnly)&&(fe._f.onBlur&&fe._f.onBlur(D),c&&c(0)):fe._f.onChange&&fe._f.onChange(D);const xc=_(Y,Wi,Os),Da=!hn(xc)||hi;if(!Os&&p.state.next({name:Y,type:D.type,values:Er(i)}),Kd)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Os&&v():Os||v()),Da&&p.state.next({name:Y,...hi?{}:xc});if(!Os&&hi&&p.state.next({...r}),t.resolver){const{errors:Wp}=await k([Y]);if(y([Y]),ne(Wi),ve){const eb=dO(r.errors,n,Y),Gd=dO(Wp,n,eb.name||Y);bt=Gd.error,Y=Gd.name,vr=hn(Wp)}}else y([Y],!0),bt=(await hO(fe,l.disabled,i,g,t.shouldUseNativeValidation))[Y],y([Y]),ne(Wi),ve&&(bt?vr=!1:(f.isValid||h.isValid)&&(vr=await A(n,!0)));ve&&(fe._f.deps&&(!Array.isArray(fe._f.deps)||fe._f.deps.length>0)&&R(fe._f.deps),N(Y,vr,bt,xc))}},T=(D,W)=>{if(Ee(r.errors,W)&&D.focus)return D.focus(),1},R=async(D,W={})=>{let Y,ve;const fe=zf(D);if(t.resolver){const ne=await C(nr(D)?D:fe);Y=hn(ne),ve=D?!fe.some(Ae=>Ee(ne,Ae)):Y}else D?(ve=(await Promise.all(fe.map(async ne=>{const Ae=Ee(n,ne);return await A(Ae&&Ae._f?{[ne]:Ae}:Ae)}))).every(Boolean),!(!ve&&!r.isValid)&&v()):ve=Y=await A(n);return p.state.next({...!Kn(D)||(f.isValid||h.isValid)&&Y!==r.isValid?{}:{name:D},...t.resolver||!D?{isValid:Y}:{},errors:r.errors}),W.shouldFocus&&!ve&&qf(n,T,D?fe:l.mount),ve},J=(D,W)=>{let Y={...o.mount?i:s};return W&&(Y=lL(W.dirtyFields?r.dirtyFields:r.touchedFields,Y)),nr(D)?Y:Kn(D)?Ee(Y,D):D.map(ve=>Ee(Y,ve))},G=(D,W)=>({invalid:!!Ee((W||r).errors,D),isDirty:!!Ee((W||r).dirtyFields,D),error:Ee((W||r).errors,D),isValidating:!!Ee(r.validatingFields,D),isTouched:!!Ee((W||r).touchedFields,D)}),ie=D=>{D&&zf(D).forEach(W=>yr(r.errors,W)),p.state.next({errors:D?r.errors:{}})},he=(D,W,Y)=>{const ve=(Ee(n,D,{_f:{}})._f||{}).ref,fe=Ee(r.errors,D)||{},{ref:ne,message:Ae,type:xt,...bt}=fe;Ft(r.errors,D,{...bt,...W,ref:ve}),p.state.next({name:D,errors:r.errors,isValid:!1}),Y&&Y.shouldFocus&&ve&&ve.focus&&ve.focus()},Le=(D,W)=>Gs(D)?p.state.subscribe({next:Y=>"values"in Y&&D(U(void 0,W),Y)}):U(D,W,!0),Fe=D=>p.state.subscribe({next:W=>{kJ(D.name,W.name,D.exact)&&NJ(W,D.formState||f,tn,D.reRenderRoot)&&D.callback({values:{...i},...r,...W,defaultValues:s})}}).unsubscribe,ce=D=>(o.mount=!0,h={...h,...D.formState},Fe({...D,formState:{...d,...D.formState}})),Me=(D,W={})=>{for(const Y of D?zf(D):l.mount)l.mount.delete(Y),l.array.delete(Y),W.keepValue||(yr(n,Y),yr(i,Y)),!W.keepError&&yr(r.errors,Y),!W.keepDirty&&yr(r.dirtyFields,Y),!W.keepTouched&&yr(r.touchedFields,Y),!W.keepIsValidating&&yr(r.validatingFields,Y),!t.shouldUnregister&&!W.keepDefaultValue&&yr(s,Y);p.state.next({values:Er(i)}),p.state.next({...r,...W.keepDirty?{isDirty:O()}:{}}),!W.keepIsValid&&v()},te=({disabled:D,name:W})=>{if(vi(D)&&o.mount||D||l.disabled.has(W)){const fe=l.disabled.has(W)!==!!D;D?l.disabled.add(W):l.disabled.delete(W),fe&&o.mount&&!o.action&&v()}},pe=(D,W={})=>{let Y=Ee(n,D);const ve=vi(W.disabled)||vi(t.disabled);return Ft(n,D,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:D}},name:D,mount:!0,...W}}),l.mount.add(D),Y?te({disabled:vi(W.disabled)?W.disabled:t.disabled,name:D}):j(D,!0,W.value),{...ve?{disabled:W.disabled||t.disabled}:{},...t.progressive?{required:!!W.required,min:of(W.min),max:of(W.max),minLength:of(W.minLength),maxLength:of(W.maxLength),pattern:of(W.pattern)}:{},name:D,onChange:F,onBlur:F,ref:fe=>{if(fe){pe(D,W),Y=Ee(n,D);const ne=nr(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,Ae=yJ(ne),xt=Y._f.refs||[];if(Ae?xt.find(bt=>bt===ne):ne===Y._f.ref)return;Ft(n,D,{_f:{...Y._f,...Ae?{refs:[...xt.filter(Yb),ne,...Array.isArray(Ee(s,D))?[{}]:[]],ref:{type:ne.type,name:D}}:{ref:ne}}}),j(D,!1,void 0,ne)}else Y=Ee(n,D,{}),Y._f&&(Y._f.mount=!1),(t.shouldUnregister||W.shouldUnregister)&&!(dJ(l.array,D)&&o.action)&&l.unMount.add(D)}}},H=()=>t.shouldFocusError&&qf(n,T,l.mount),K=D=>{vi(D)&&(p.state.next({disabled:D}),qf(n,(W,Y)=>{const ve=Ee(n,Y);ve&&(W.disabled=ve._f.disabled||D,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(fe=>{fe.disabled=ve._f.disabled||D}))},0,!1))},Ye=(D,W)=>async Y=>{let ve;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let fe=Er(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:ne,values:Ae}=await k();y(),r.errors=ne,fe=Er(Ae)}else await A(n);if(l.disabled.size)for(const ne of l.disabled)yr(fe,ne);if(yr(r.errors,"root"),hn(r.errors)){p.state.next({errors:{}});try{await D(fe,Y)}catch(ne){ve=ne}}else W&&await W({...r.errors},Y),H(),setTimeout(H);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hn(r.errors)&&!ve,submitCount:r.submitCount+1,errors:r.errors}),ve)throw ve},Ue=(D,W={})=>{Ee(n,D)&&(nr(W.defaultValue)?z(D,Er(Ee(s,D))):(z(D,W.defaultValue),Ft(s,D,Er(W.defaultValue))),W.keepTouched||yr(r.touchedFields,D),W.keepDirty||(yr(r.dirtyFields,D),r.isDirty=W.defaultValue?O(D,Er(Ee(s,D))):O()),W.keepError||(yr(r.errors,D),f.isValid&&v()),p.state.next({...r}))},wt=(D,W={})=>{const Y=D?Er(D):s,ve=Er(Y),fe=hn(D),ne=fe?s:ve;if(W.keepDefaultValues||(s=Y),!W.keepValues){if(W.keepDirtyValues){const Ae=new Set([...l.mount,...Object.keys(Fc(s,i))]);for(const xt of Array.from(Ae)){const bt=Ee(r.dirtyFields,xt),vr=Ee(i,xt),Wi=Ee(ne,xt);bt&&!nr(vr)?Ft(ne,xt,vr):!bt&&!nr(Wi)&&z(xt,Wi)}}else{if(GS&&nr(D))for(const Ae of l.mount){const xt=Ee(n,Ae);if(xt&&xt._f){const bt=Array.isArray(xt._f.refs)?xt._f.refs[0]:xt._f.ref;if(Xg(bt)){const vr=bt.closest("form");if(vr){vr.reset();break}}}}if(W.keepFieldsRef)for(const Ae of l.mount)z(Ae,Ee(ne,Ae));else n={}}i=t.shouldUnregister?W.keepDefaultValues?Er(s):{}:Er(ne),p.array.next({values:{...ne}}),p.state.next({values:{...ne}})}l={mount:W.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!W.keepIsValid||!!W.keepDirtyValues||!t.shouldUnregister&&!hn(ne),o.watch=!!t.shouldUnregister,o.keepIsValid=!!W.keepIsValid,o.action=!1,W.keepErrors||(r.errors={}),p.state.next({submitCount:W.keepSubmitCount?r.submitCount:0,isDirty:fe?!1:W.keepDirty?r.isDirty:!!(W.keepDefaultValues&&!ro(D,s)),isSubmitted:W.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:fe?{}:W.keepDirtyValues?W.keepDefaultValues&&i?Fc(s,i):r.dirtyFields:W.keepDefaultValues&&D?Fc(s,D):W.keepDirty?r.dirtyFields:{},touchedFields:W.keepTouched?r.touchedFields:{},errors:W.keepErrors?r.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},yt=(D,W)=>wt(Gs(D)?D(i):D,{...t.resetOptions,...W}),Zt=(D,W={})=>{const Y=Ee(n,D),ve=Y&&Y._f;if(ve){const fe=ve.refs?ve.refs[0]:ve.ref;fe.focus&&setTimeout(()=>{fe.focus(),W.shouldSelect&&Gs(fe.select)&&fe.select()})}},tn=D=>{r={...r,...D}},fi={control:{register:pe,unregister:Me,getFieldState:G,handleSubmit:Ye,setError:he,_subscribe:Fe,_runSchema:k,_updateIsValidating:y,_focusError:H,_getWatch:U,_getDirty:O,_setValid:v,_setFieldArray:b,_setDisabledField:te,_setErrors:S,_getFieldArray:E,_reset:wt,_resetDefaultValues:()=>Gs(t.defaultValues)&&t.defaultValues().then(D=>{yt(D,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:K,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(D){o=D},get _defaultValues(){return s},get _names(){return l},set _names(D){l=D},get _formState(){return r},get _options(){return t},set _options(D){t={...t,...D}}},subscribe:ce,trigger:R,register:pe,handleSubmit:Ye,watch:Le,setValue:z,getValues:J,reset:yt,resetField:Ue,clearErrors:ie,unregister:Me,setError:he,setFocus:Zt,getFieldState:G};return{...fi,formControl:fi}}function kt(e={}){const t=P.useRef(void 0),r=P.useRef(void 0),[n,s]=P.useState({isDirty:!1,isValidating:!1,isLoading:Gs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Gs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Gs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=AJ(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,mJ(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),P.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),P.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),P.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),P.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),P.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),P.useEffect(()=>{var o;e.values&&!ro(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),P.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=P.useMemo(()=>pJ(n,i),[i,n]),t.current}const pO=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ee(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},pL=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?pO(n.ref,r,e):n.refs&&n.refs.forEach(s=>pO(s,r,e))}},TJ=(e,t)=>{t.shouldUseNativeValidation&&pL(e,t);const r={};for(const n in e){const s=Ee(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(RJ(t.names||Object.keys(e),n)){const o=Object.assign({},Ee(r,n));Ft(o,"root",i),Ft(r,n,o)}else Ft(r,n,i)}return r},RJ=(e,t)=>e.some(r=>r.startsWith(t+"."));var $J=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=oL(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},Ct=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&pL({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:TJ($J(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},gt;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(gt||(gt={}));var mO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(mO||(mO={}));const Oe=gt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xa=e=>{switch(typeof e){case"undefined":return Oe.undefined;case"string":return Oe.string;case"number":return Number.isNaN(e)?Oe.nan:Oe.number;case"boolean":return Oe.boolean;case"function":return Oe.function;case"bigint":return Oe.bigint;case"symbol":return Oe.symbol;case"object":return Array.isArray(e)?Oe.array:e===null?Oe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Oe.promise:typeof Map<"u"&&e instanceof Map?Oe.map:typeof Set<"u"&&e instanceof Set?Oe.set:typeof Date<"u"&&e instanceof Date?Oe.date:Oe.object;default:return Oe.unknown}},ue=gt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ja extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof ja))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,gt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ja.create=e=>new ja(e);const bj=(e,t)=>{let r;switch(e.code){case ue.invalid_type:e.received===Oe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ue.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,gt.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:r=`Unrecognized key(s) in object: ${gt.joinValues(e.keys,", ")}`;break;case ue.invalid_union:r="Invalid input";break;case ue.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${gt.joinValues(e.options)}`;break;case ue.invalid_enum_value:r=`Invalid enum value. Expected ${gt.joinValues(e.options)}, received '${e.received}'`;break;case ue.invalid_arguments:r="Invalid function arguments";break;case ue.invalid_return_type:r="Invalid function return type";break;case ue.invalid_date:r="Invalid date";break;case ue.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:gt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ue.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ue.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ue.custom:r="Invalid input";break;case ue.invalid_intersection_types:r="Intersection results could not be merged";break;case ue.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ue.not_finite:r="Number must be finite";break;default:r=t.defaultError,gt.assertNever(e)}return{message:r}};let MJ=bj;function IJ(){return MJ}const DJ=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function we(e,t){const r=IJ(),n=DJ({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===bj?void 0:bj].filter(s=>!!s)});e.common.issues.push(n)}class ts{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Je;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return ts.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Je;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Je=Object.freeze({status:"aborted"}),Ef=e=>({status:"dirty",value:e}),Ns=e=>({status:"valid",value:e}),gO=e=>e.status==="aborted",vO=e=>e.status==="dirty",qu=e=>e.status==="valid",Zg=e=>typeof Promise<"u"&&e instanceof Promise;var Te;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Te||(Te={}));class Uo{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yO=(e,t)=>{if(qu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ja(e.common.issues);return this._error=r,this._error}}};function it(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class ht{get description(){return this._def.description}_getType(t){return Xa(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ts,ctx:{common:t.parent.common,data:t.data,parsedType:Xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Zg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xa(t)},s=this._parseSync({data:t,path:n.path,parent:n});return yO(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xa(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return qu(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>qu(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xa(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Zg(s)?s:Promise.resolve(s));return yO(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:ue.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Hu({schema:this,typeName:Ze.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Po.create(this,this._def)}nullable(){return Ku.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ti.create(this)}promise(){return nv.create(this,this._def)}or(t){return tv.create([this,t],this._def)}and(t){return rv.create(this,t,this._def)}transform(t){return new Hu({...it(this._def),schema:this,typeName:Ze.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new _j({...it(this._def),innerType:this,defaultValue:r,typeName:Ze.ZodDefault})}brand(){return new aZ({typeName:Ze.ZodBranded,type:this,...it(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Sj({...it(this._def),innerType:this,catchValue:r,typeName:Ze.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ZS.create(this,t)}readonly(){return Nj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const LJ=/^c[^\s-]{8,}$/i,FJ=/^[0-9a-z]+$/,UJ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,BJ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zJ=/^[a-z0-9_-]{21}$/i,qJ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,WJ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,VJ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,HJ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qb;const KJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,GJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,YJ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,QJ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,XJ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,JJ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ZJ=new RegExp(`^${mL}$`);function gL(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function eZ(e){return new RegExp(`^${gL(e)}$`)}function tZ(e){let t=`${mL}T${gL(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function rZ(e,t){return!!((t==="v4"||!t)&&KJ.test(e)||(t==="v6"||!t)&&YJ.test(e))}function nZ(e,t){if(!qJ.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function sZ(e,t){return!!((t==="v4"||!t)&&GJ.test(e)||(t==="v6"||!t)&&QJ.test(e))}class sa extends ht{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Oe.string){const i=this._getOrReturnCtx(t);return we(i,{code:ue.invalid_type,expected:Oe.string,received:i.parsedType}),Je}const n=new ts;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),we(s,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),we(s,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?we(s,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&we(s,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")VJ.test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"email",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Qb||(Qb=new RegExp(HJ,"u")),Qb.test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"emoji",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")BJ.test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"uuid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")zJ.test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"nanoid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")LJ.test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"cuid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")FJ.test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"cuid2",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")UJ.test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"ulid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),we(s,{validation:"url",code:ue.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"regex",code:ue.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),we(s,{code:ue.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),we(s,{code:ue.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),we(s,{code:ue.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?tZ(i).test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{code:ue.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?ZJ.test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{code:ue.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?eZ(i).test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{code:ue.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?WJ.test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"duration",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?rZ(t.data,i.version)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"ip",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?nZ(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"jwt",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?sZ(t.data,i.version)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"cidr",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?XJ.test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"base64",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?JJ.test(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{validation:"base64url",code:ue.invalid_string,message:i.message}),n.dirty()):gt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:ue.invalid_string,...Te.errToObj(n)})}_addCheck(t){return new sa({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Te.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Te.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Te.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Te.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Te.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Te.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Te.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Te.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Te.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Te.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Te.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Te.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Te.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Te.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Te.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Te.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Te.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Te.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Te.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Te.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Te.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Te.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Te.errToObj(r)})}nonempty(t){return this.min(1,Te.errToObj(t))}trim(){return new sa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new sa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new sa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}sa.create=e=>new sa({checks:[],typeName:Ze.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...it(e)});function iZ(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class Jl extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Oe.number){const i=this._getOrReturnCtx(t);return we(i,{code:ue.invalid_type,expected:Oe.number,received:i.parsedType}),Je}let n;const s=new ts;for(const i of this._def.checks)i.kind==="int"?gt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),we(n,{code:ue.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),we(n,{code:ue.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),we(n,{code:ue.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?iZ(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),we(n,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),we(n,{code:ue.not_finite,message:i.message}),s.dirty()):gt.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Te.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Te.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Te.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Te.toString(r))}setLimit(t,r,n,s){return new Jl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Te.toString(s)}]})}_addCheck(t){return new Jl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Te.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Te.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&gt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Jl.create=e=>new Jl({checks:[],typeName:Ze.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...it(e)});class Zl extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Oe.bigint)return this._getInvalidInput(t);let n;const s=new ts;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),we(n,{code:ue.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),we(n,{code:ue.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),we(n,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):gt.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return we(r,{code:ue.invalid_type,expected:Oe.bigint,received:r.parsedType}),Je}gte(t,r){return this.setLimit("min",t,!0,Te.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Te.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Te.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Te.toString(r))}setLimit(t,r,n,s){return new Zl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Te.toString(s)}]})}_addCheck(t){return new Zl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zl.create=e=>new Zl({checks:[],typeName:Ze.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...it(e)});class ev extends ht{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Oe.boolean){const n=this._getOrReturnCtx(t);return we(n,{code:ue.invalid_type,expected:Oe.boolean,received:n.parsedType}),Je}return Ns(t.data)}}ev.create=e=>new ev({typeName:Ze.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...it(e)});class Wu extends ht{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Oe.date){const i=this._getOrReturnCtx(t);return we(i,{code:ue.invalid_type,expected:Oe.date,received:i.parsedType}),Je}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return we(i,{code:ue.invalid_date}),Je}const n=new ts;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),we(s,{code:ue.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),we(s,{code:ue.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):gt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Wu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Te.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Te.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Wu.create=e=>new Wu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ze.ZodDate,...it(e)});class xO extends ht{_parse(t){if(this._getType(t)!==Oe.symbol){const n=this._getOrReturnCtx(t);return we(n,{code:ue.invalid_type,expected:Oe.symbol,received:n.parsedType}),Je}return Ns(t.data)}}xO.create=e=>new xO({typeName:Ze.ZodSymbol,...it(e)});class bO extends ht{_parse(t){if(this._getType(t)!==Oe.undefined){const n=this._getOrReturnCtx(t);return we(n,{code:ue.invalid_type,expected:Oe.undefined,received:n.parsedType}),Je}return Ns(t.data)}}bO.create=e=>new bO({typeName:Ze.ZodUndefined,...it(e)});class wO extends ht{_parse(t){if(this._getType(t)!==Oe.null){const n=this._getOrReturnCtx(t);return we(n,{code:ue.invalid_type,expected:Oe.null,received:n.parsedType}),Je}return Ns(t.data)}}wO.create=e=>new wO({typeName:Ze.ZodNull,...it(e)});class jO extends ht{constructor(){super(...arguments),this._any=!0}_parse(t){return Ns(t.data)}}jO.create=e=>new jO({typeName:Ze.ZodAny,...it(e)});class _O extends ht{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ns(t.data)}}_O.create=e=>new _O({typeName:Ze.ZodUnknown,...it(e)});class Bo extends ht{_parse(t){const r=this._getOrReturnCtx(t);return we(r,{code:ue.invalid_type,expected:Oe.never,received:r.parsedType}),Je}}Bo.create=e=>new Bo({typeName:Ze.ZodNever,...it(e)});class SO extends ht{_parse(t){if(this._getType(t)!==Oe.undefined){const n=this._getOrReturnCtx(t);return we(n,{code:ue.invalid_type,expected:Oe.void,received:n.parsedType}),Je}return Ns(t.data)}}SO.create=e=>new SO({typeName:Ze.ZodVoid,...it(e)});class Ti extends ht{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Oe.array)return we(r,{code:ue.invalid_type,expected:Oe.array,received:r.parsedType}),Je;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(we(r,{code:o?ue.too_big:ue.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(we(r,{code:ue.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(we(r,{code:ue.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Uo(r,o,r.path,l)))).then(o=>ts.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new Uo(r,o,r.path,l)));return ts.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ti({...this._def,minLength:{value:t,message:Te.toString(r)}})}max(t,r){return new Ti({...this._def,maxLength:{value:t,message:Te.toString(r)}})}length(t,r){return new Ti({...this._def,exactLength:{value:t,message:Te.toString(r)}})}nonempty(t){return this.min(1,t)}}Ti.create=(e,t)=>new Ti({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ze.ZodArray,...it(t)});function Uc(e){if(e instanceof wr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Po.create(Uc(n))}return new wr({...e._def,shape:()=>t})}else return e instanceof Ti?new Ti({...e._def,type:Uc(e.element)}):e instanceof Po?Po.create(Uc(e.unwrap())):e instanceof Ku?Ku.create(Uc(e.unwrap())):e instanceof ec?ec.create(e.items.map(t=>Uc(t))):e}class wr extends ht{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=gt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Oe.object){const u=this._getOrReturnCtx(t);return we(u,{code:ue.invalid_type,expected:Oe.object,received:u.parsedType}),Je}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Bo&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Uo(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Bo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(we(s,{code:ue.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Uo(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ts.mergeObjectSync(n,u)):ts.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Te.errToObj,new wr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Te.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new wr({...this._def,unknownKeys:"strip"})}passthrough(){return new wr({...this._def,unknownKeys:"passthrough"})}extend(t){return new wr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new wr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ze.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new wr({...this._def,catchall:t})}pick(t){const r={};for(const n of gt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new wr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of gt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new wr({...this._def,shape:()=>r})}deepPartial(){return Uc(this)}partial(t){const r={};for(const n of gt.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new wr({...this._def,shape:()=>r})}required(t){const r={};for(const n of gt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Po;)i=i._def.innerType;r[n]=i}return new wr({...this._def,shape:()=>r})}keyof(){return vL(gt.objectKeys(this.shape))}}wr.create=(e,t)=>new wr({shape:()=>e,unknownKeys:"strip",catchall:Bo.create(),typeName:Ze.ZodObject,...it(t)});wr.strictCreate=(e,t)=>new wr({shape:()=>e,unknownKeys:"strict",catchall:Bo.create(),typeName:Ze.ZodObject,...it(t)});wr.lazycreate=(e,t)=>new wr({shape:e,unknownKeys:"strip",catchall:Bo.create(),typeName:Ze.ZodObject,...it(t)});class tv extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ja(l.ctx.common.issues));return we(r,{code:ue.invalid_union,unionErrors:o}),Je}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new ja(c));return we(r,{code:ue.invalid_union,unionErrors:l}),Je}}get options(){return this._def.options}}tv.create=(e,t)=>new tv({options:e,typeName:Ze.ZodUnion,...it(t)});function wj(e,t){const r=Xa(e),n=Xa(t);if(e===t)return{valid:!0,data:e};if(r===Oe.object&&n===Oe.object){const s=gt.objectKeys(t),i=gt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=wj(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Oe.array&&n===Oe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=wj(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Oe.date&&n===Oe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class rv extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(gO(i)||gO(o))return Je;const l=wj(i.value,o.value);return l.valid?((vO(i)||vO(o))&&r.dirty(),{status:r.value,value:l.data}):(we(n,{code:ue.invalid_intersection_types}),Je)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}rv.create=(e,t,r)=>new rv({left:e,right:t,typeName:Ze.ZodIntersection,...it(r)});class ec extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Oe.array)return we(n,{code:ue.invalid_type,expected:Oe.array,received:n.parsedType}),Je;if(n.data.length<this._def.items.length)return we(n,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Je;!this._def.rest&&n.data.length>this._def.items.length&&(we(n,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Uo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ts.mergeArray(r,o)):ts.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ec({...this._def,rest:t})}}ec.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ec({items:e,typeName:Ze.ZodTuple,rest:null,...it(t)})};class NO extends ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Oe.map)return we(n,{code:ue.invalid_type,expected:Oe.map,received:n.parsedType}),Je;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Uo(n,l,n.path,[u,"key"])),value:i._parse(new Uo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Je;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Je;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}NO.create=(e,t,r)=>new NO({valueType:t,keyType:e,typeName:Ze.ZodMap,...it(r)});class Oh extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Oe.set)return we(n,{code:ue.invalid_type,expected:Oe.set,received:n.parsedType}),Je;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(we(n,{code:ue.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(we(n,{code:ue.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Je;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Uo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Oh({...this._def,minSize:{value:t,message:Te.toString(r)}})}max(t,r){return new Oh({...this._def,maxSize:{value:t,message:Te.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Oh.create=(e,t)=>new Oh({valueType:e,minSize:null,maxSize:null,typeName:Ze.ZodSet,...it(t)});class kO extends ht{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}kO.create=(e,t)=>new kO({getter:e,typeName:Ze.ZodLazy,...it(t)});class jj extends ht{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return we(r,{received:r.data,code:ue.invalid_literal,expected:this._def.value}),Je}return{status:"valid",value:t.data}}get value(){return this._def.value}}jj.create=(e,t)=>new jj({value:e,typeName:Ze.ZodLiteral,...it(t)});function vL(e,t){return new Vu({values:e,typeName:Ze.ZodEnum,...it(t)})}class Vu extends ht{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return we(r,{expected:gt.joinValues(n),received:r.parsedType,code:ue.invalid_type}),Je}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return we(r,{received:r.data,code:ue.invalid_enum_value,options:n}),Je}return Ns(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Vu.create(t,{...this._def,...r})}exclude(t,r=this._def){return Vu.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Vu.create=vL;class CO extends ht{_parse(t){const r=gt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Oe.string&&n.parsedType!==Oe.number){const s=gt.objectValues(r);return we(n,{expected:gt.joinValues(s),received:n.parsedType,code:ue.invalid_type}),Je}if(this._cache||(this._cache=new Set(gt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=gt.objectValues(r);return we(n,{received:n.data,code:ue.invalid_enum_value,options:s}),Je}return Ns(t.data)}get enum(){return this._def.values}}CO.create=(e,t)=>new CO({values:e,typeName:Ze.ZodNativeEnum,...it(t)});class nv extends ht{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Oe.promise&&r.common.async===!1)return we(r,{code:ue.invalid_type,expected:Oe.promise,received:r.parsedType}),Je;const n=r.parsedType===Oe.promise?r.data:Promise.resolve(r.data);return Ns(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}nv.create=(e,t)=>new nv({type:e,typeName:Ze.ZodPromise,...it(t)});class Hu extends ht{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{we(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Je;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Je:c.status==="dirty"||r.value==="dirty"?Ef(c.value):c});{if(r.value==="aborted")return Je;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Je:l.status==="dirty"||r.value==="dirty"?Ef(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Je:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Je:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!qu(o))return Je;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>qu(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):Je);gt.assertNever(s)}}Hu.create=(e,t,r)=>new Hu({schema:e,typeName:Ze.ZodEffects,effect:t,...it(r)});Hu.createWithPreprocess=(e,t,r)=>new Hu({schema:t,effect:{type:"preprocess",transform:e},typeName:Ze.ZodEffects,...it(r)});class Po extends ht{_parse(t){return this._getType(t)===Oe.undefined?Ns(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Po.create=(e,t)=>new Po({innerType:e,typeName:Ze.ZodOptional,...it(t)});class Ku extends ht{_parse(t){return this._getType(t)===Oe.null?Ns(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ku.create=(e,t)=>new Ku({innerType:e,typeName:Ze.ZodNullable,...it(t)});class _j extends ht{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Oe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}_j.create=(e,t)=>new _j({innerType:e,typeName:Ze.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...it(t)});class Sj extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Zg(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ja(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ja(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Sj.create=(e,t)=>new Sj({innerType:e,typeName:Ze.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...it(t)});class EO extends ht{_parse(t){if(this._getType(t)!==Oe.nan){const n=this._getOrReturnCtx(t);return we(n,{code:ue.invalid_type,expected:Oe.nan,received:n.parsedType}),Je}return{status:"valid",value:t.data}}}EO.create=e=>new EO({typeName:Ze.ZodNaN,...it(e)});class aZ extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ZS extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Je:i.status==="dirty"?(r.dirty(),Ef(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Je:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new ZS({in:t,out:r,typeName:Ze.ZodPipeline})}}class Nj extends ht{_parse(t){const r=this._def.innerType._parse(t),n=s=>(qu(s)&&(s.value=Object.freeze(s.value)),s);return Zg(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Nj.create=(e,t)=>new Nj({innerType:e,typeName:Ze.ZodReadonly,...it(t)});var Ze;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ze||(Ze={}));const Pe=sa.create;Jl.create;Zl.create;const Ho=ev.create;Wu.create;Bo.create;Ti.create;const Et=wr.create;tv.create;rv.create;ec.create;const eN=jj.create,gr=Vu.create;nv.create;Po.create;Ku.create;const Xs={string:e=>sa.create({...e,coerce:!0}),number:e=>Jl.create({...e,coerce:!0}),boolean:e=>ev.create({...e,coerce:!0}),bigint:e=>Zl.create({...e,coerce:!0}),date:e=>Wu.create({...e,coerce:!0})};var oZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lZ=oZ.reduce((e,t)=>{const r=Cp(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),cZ="Label",yL=x.forwardRef((e,t)=>a.jsx(lZ.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));yL.displayName=cZ;var xL=yL;const uZ=_S("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Q=x.forwardRef(({className:e,...t},r)=>a.jsx(xL,{ref:r,className:Z(uZ(),e),...t}));Q.displayName=xL.displayName;var sx="Tabs",[dZ]=Fi(sx,[Zy]),bL=Zy(),[fZ,tN]=dZ(sx),wL=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Ep(l),[f,h]=Yl({prop:n,onChange:s,defaultProp:i??"",caller:sx});return a.jsx(fZ,{scope:r,baseId:Pi(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Xe.div,{dir:d,"data-orientation":o,...u,ref:t})})});wL.displayName=sx;var jL="TabsList",_L=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=tN(jL,r),o=bL(r);return a.jsx(u4,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});_L.displayName=jL;var SL="TabsTrigger",NL=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=tN(SL,r),l=bL(r),c=EL(o.baseId,n),u=OL(o.baseId,n),d=n===o.value;return a.jsx(d4,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Ne(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ne(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});NL.displayName=SL;var kL="TabsContent",CL=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=tN(kL,r),c=EL(l.baseId,n),u=OL(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(is,{present:s||d,children:({present:h})=>a.jsx(Xe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});CL.displayName=kL;function EL(e,t){return`${e}-trigger-${t}`}function OL(e,t){return`${e}-content-${t}`}var hZ=wL,PL=_L,AL=NL,TL=CL;const Ko=hZ,Ta=x.forwardRef(({className:e,...t},r)=>a.jsx(PL,{ref:r,className:Z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ta.displayName=PL.displayName;const Vt=x.forwardRef(({className:e,...t},r)=>a.jsx(AL,{ref:r,className:Z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Vt.displayName=AL.displayName;const Ht=x.forwardRef(({className:e,...t},r)=>a.jsx(TL,{ref:r,className:Z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ht.displayName=TL.displayName;const pZ=Et({email:Pe().email("Invalid email"),password:Pe().min(1,"Password required")});function mZ(){const e=Vo(),[t]=cq(),r=t.get("returnTo")??"/dashboard",{register:n,handleSubmit:s,formState:{errors:i,isSubmitting:o}}=kt({resolver:Ct(pZ)}),l=async u=>{const d=await Q9(u.email,u.password);d.success?(V.success("Signed in",{description:"Welcome back."}),e(r,{replace:!0})):V.error("Sign in failed",{description:d.error})},c=async u=>{const d=await eH(u,{redirectTo:r});d.success||V.error("Sign in failed",{description:d.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(ee,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Sign in"}),a.jsx(xe,{children:"Choose local-only or cloud-linked mode."})]}),a.jsx(re,{children:a.jsxs(Ko,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Ta,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(Vt,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(Vt,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Ht,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. Access the Control UI at your local URL and use QR or pairing code to connect devices."}),a.jsx($,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(me,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Ht,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:s(l),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"email",children:"Email"}),a.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...n("email"),"aria-invalid":!!i.email}),i.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"password",children:"Password"}),a.jsx(ge,{id:"password",type:"password",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"current-password",...n("password"),"aria-invalid":!!i.password}),i.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.password.message})]}),a.jsx("div",{className:"flex items-center justify-between text-sm",children:a.jsx(me,{to:"/forgot-password",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Forgot password?"})}),a.jsx($,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Signing in"]}):"Sign in"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("span",{className:"relative flex justify-center text-xs uppercase text-muted-foreground",children:"Or continue with"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs($,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("github"),children:[a.jsx(_H,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"GitHub"]}),a.jsxs($,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("google"),children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24","aria-hidden":!0,children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["No account?"," ",a.jsx(me,{to:"/signup",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign up"})]})]})]})})]})})}const gZ=Et({email:Pe().email("Invalid email"),password:Pe().min(8,"At least 8 characters"),confirmPassword:Pe()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function vZ(){const e=Vo(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:s}}=kt({resolver:Ct(gZ)}),i=async o=>{const l=await tH(o.email,o.password,{redirectTo:"/verify-email"});l.success?l.needsEmailVerification?(V.success("Check your email",{description:"We sent a verification link. Click it or enter the code on the next page."}),e("/verify-email",{replace:!0})):(V.success("Account created",{description:"You can sign in now."}),e("/dashboard",{replace:!0})):V.error("Sign up failed",{description:l.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(ee,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Create account"}),a.jsx(xe,{children:"Choose local-only or sign up for cloud-linked mode."})]}),a.jsx(re,{children:a.jsxs(Ko,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Ta,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(Vt,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(Vt,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Ht,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. No signup required. Open the Control UI and connect devices via QR or pairing code."}),a.jsx($,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(me,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Ht,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:r(i),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"email",children:"Email"}),a.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...t("email"),"aria-invalid":!!n.email}),n.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"password",children:"Password"}),a.jsx(ge,{id:"password",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("password"),"aria-invalid":!!n.password}),n.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"confirmPassword",children:"Confirm password"}),a.jsx(ge,{id:"confirmPassword",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("confirmPassword"),"aria-invalid":!!n.confirmPassword}),n.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.confirmPassword.message})]}),a.jsx($,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Creating account"]}):"Sign up"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx(me,{to:"/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Log in"})]})]})]})})]})})}const OO={empty:"",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"};function yZ(e){if(!e||e.length===0)return{level:"empty",score:0,label:OO.empty,minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1};const t=/[a-z]/.test(e),r=/[A-Z]/.test(e),n=/\d/.test(e),s=/[^A-Za-z0-9]/.test(e),i=e.length>=8;let o=0;e.length>=8&&(o+=1),e.length>=12&&(o+=1),t&&r&&(o+=1),n&&(o+=1),s&&(o+=1),o=Math.min(4,o);const l=o===0||o===1?"weak":o===2?"fair":o===3?"good":"strong";return{level:l,score:o,label:OO[l],minLength:i,hasLower:t,hasUpper:r,hasNumber:n,hasSpecial:s}}function xZ(e){switch(e){case"empty":return"bg-muted-foreground/30";case"weak":return"bg-destructive";case"fair":return"bg-warning";case"good":return"bg-accent";case"strong":return"bg-success";default:return"bg-muted-foreground/30"}}const bZ=Et({email:Pe().min(1,"Email is required").email("Enter a valid email address")}),wZ=Et({password:Pe().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must include a lowercase letter").regex(/[A-Z]/,"Password must include an uppercase letter").regex(/\d/,"Password must include a number"),confirmPassword:Pe().min(1,"Confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function jZ(){const[e,t]=x.useState("email"),[r,n]=x.useState(!0),s=kt({resolver:Ct(bZ),defaultValues:{email:""}}),i=kt({resolver:Ct(wZ),defaultValues:{password:"",confirmPassword:""}}),o=i.watch("password",""),l=yZ(o);x.useEffect(()=>{if(!sH()){n(!1);return}q.auth.getSession().then(({data:{session:d}})=>{d&&(t("set_password"),window.history.replaceState(null,"",window.location.pathname)),n(!1)})},[]);const c=async d=>{const f=await rH(d.email,"/forgot-password");f.success?(t("email_sent"),V.success("Check your email",{description:"If an account exists, we sent a reset link. Check spam if you dont see it."})):V.error("Could not send reset link",{description:f.error})},u=async d=>{const f=await nH(d.password);f.success?(t("success"),V.success("Password updated",{description:"You can now sign in with your new password."}),await q.auth.signOut()):V.error("Could not update password",{description:f.error})};return r?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(me,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md",children:[a.jsx(Fg,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsx("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Checking your reset link"})})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(me,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(Fg,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(me,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(ee,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(se,{className:"space-y-1",children:[a.jsx(le,{className:"text-xl font-semibold",children:e==="email"||e==="email_sent"?"Reset password":e==="set_password"?"Set new password":"Password updated"}),a.jsxs(xe,{children:[e==="email"&&"Enter your cloud account email and well send a secure reset link. For local-only mode, you dont need a password.",e==="email_sent"&&"If an account exists for that email, we sent a reset link. Check your inbox and spam folder.",e==="set_password"&&"Choose a strong password. Youll use it to sign in to your cloud-linked account.",e==="success"&&"Your password has been updated. You can now sign in with your new credentials."]})]}),a.jsxs(re,{className:"space-y-4",children:[(e==="email"||e==="email_sent")&&a.jsx(a.Fragment,{children:e==="email"?a.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"password-reset-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Du,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"password-reset-email",type:"email",placeholder:"you@example.com",className:"pl-9 rounded-md border-border py-3",autoComplete:"email",...s.register("email"),"aria-invalid":!!s.formState.errors.email})]}),s.formState.errors.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:s.formState.errors.email.message})]}),a.jsx($,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Sending":"Send reset link"})]}):a.jsxs("div",{className:"rounded-md border border-border bg-secondary/30 px-4 py-3 text-sm text-muted-foreground",children:[a.jsx("p",{children:"Check your email for the reset link. The link expires after a short time."}),a.jsx($,{type:"button",variant:"ghost",className:"mt-3 text-primary hover:text-primary",onClick:()=>t("email"),children:"Send another link"})]})}),e==="set_password"&&a.jsxs("form",{onSubmit:i.handleSubmit(u),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"new-password",children:"New password"}),a.jsxs("div",{className:"relative",children:[a.jsx(hS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"new-password",type:"password",placeholder:"",className:"pl-9 rounded-md border-border py-3",autoComplete:"new-password",...i.register("password"),"aria-invalid":!!i.formState.errors.password})]}),o.length>0&&a.jsxs("div",{className:"space-y-1","aria-live":"polite",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"Strength"}),a.jsx("span",{className:Z(l.level!=="empty"&&l.level!=="weak"?"text-success":l.level==="weak"?"text-destructive":"text-muted-foreground"),children:l.label})]}),a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-secondary",role:"progressbar","aria-valuenow":l.score*25,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Password strength",children:a.jsx("div",{className:Z("h-full rounded-full transition-all duration-300",xZ(l.level)),style:{width:`${l.score*25}%`}})})]}),i.formState.errors.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"confirm-password",children:"Confirm password"}),a.jsx(ge,{id:"confirm-password",type:"password",placeholder:"",className:"rounded-md border-border py-3",autoComplete:"new-password",...i.register("confirmPassword"),"aria-invalid":!!i.formState.errors.confirmPassword}),i.formState.errors.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.confirmPassword.message})]}),a.jsx($,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Updating":"Update password"})]}),e==="success"&&a.jsxs("div",{className:"animate-fade-in-up space-y-4 text-center",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"rounded-full bg-success/15 p-3",children:a.jsx(Mo,{className:"h-8 w-8 text-success","aria-hidden":!0})})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now sign in with your new password."}),a.jsx($,{asChild:!0,className:"w-full rounded-md py-3 font-medium",size:"lg",children:a.jsx(me,{to:"/login",children:"Sign in"})})]}),e!=="success"&&a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:a.jsx(me,{to:"/login",className:"font-medium text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Back to login"})})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(me,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Ry,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})})]})}const _Z=Et({token:Pe().min(1,"Enter the verification code from your email")});function SZ(){const e=Vo(),[t,r]=x.useState("checking"),[n,s]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=kt({resolver:Ct(_Z),defaultValues:{token:""}});x.useEffect(()=>{let p=!1;async function g(){const m=aH();if(m){const b=await gE(m);p||(b.success?(r("verified"),V.success("Email verified",{description:"Your email has been confirmed. You can continue to the dashboard."}),window.history.replaceState(null,"",window.location.pathname)):V.error("Verification failed",{description:b.error}));return}const v=await oH();if(p)return;if(v){r("verified");return}const{data:{user:y}}=await q.auth.getUser();p||(y!=null&&y.email&&c(y.email),r("pending"))}return g(),()=>{p=!0}},[]);const d=async p=>{const g=await gE(p.token);g.success?(r("verified"),u.reset(),V.success("Email verified",{description:"Your email has been confirmed."})):V.error("Verification failed",{description:g.error})},f=async()=>{o(!0);const p=await iH();o(!1),s(!1),p.success?V.success("Verification email sent",{description:"Check your inbox and spam folder for the link."}):V.error("Could not resend email",{description:p.error})},h=()=>{e("/dashboard",{replace:!0})};return t==="checking"?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(me,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md","aria-label":"Back to login",children:[a.jsx(Fg,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsxs("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:[a.jsx(Xn,{className:"mx-auto h-8 w-8 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking verification status"})]})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(me,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(Fg,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(me,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(ee,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(se,{className:"space-y-1",children:[a.jsxs(le,{className:"flex items-center gap-2 text-xl font-semibold",children:[a.jsx(Du,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Verify your email"]}),a.jsxs(xe,{children:["Required for signup and sensitive operations (e.g. skill install). We sent a link to",l?` ${l}`:" your email","."]})]}),a.jsxs(re,{className:"space-y-4",children:[a.jsx("div",{role:"status","aria-live":"polite",className:t==="verified"?"flex items-center gap-2 rounded-md border border-success/30 bg-success/10 px-3 py-2.5 text-sm text-success":"flex items-center gap-2 rounded-md border border-warning/30 bg-warning/10 px-3 py-2.5 text-sm text-warning",children:t==="verified"?a.jsxs(a.Fragment,{children:[a.jsx(aI,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Verified"]}):a.jsxs(a.Fragment,{children:[a.jsx(Du,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Pending"]})}),t==="verified"?a.jsxs("div",{className:"animate-fade-in-up space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Youre all set. Continue to your dashboard or complete your profile."}),a.jsx($,{onClick:h,className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md",size:"lg",children:"Continue to dashboard"}),a.jsx($,{asChild:!0,variant:"outline",className:"w-full rounded-md py-3",children:a.jsx(me,{to:"/profile",children:"Go to profile"})})]}):a.jsxs(a.Fragment,{children:[a.jsx($,{type:"button",variant:"outline",className:"w-full rounded-md py-3",onClick:()=>s(!0),children:"Resend verification email"}),a.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"verify-token",children:"Or enter code manually"}),a.jsxs("div",{className:"relative",children:[a.jsx(dS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"verify-token",type:"text",placeholder:"Paste verification code from email",className:"pl-9 rounded-md border-border py-3",autoComplete:"one-time-code",...u.register("token"),"aria-invalid":!!u.formState.errors.token})]}),u.formState.errors.token&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:u.formState.errors.token.message})]}),a.jsx($,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?a.jsxs(a.Fragment,{children:[a.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Verifying"]}):a.jsxs(a.Fragment,{children:[a.jsx(Lu,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Verify"]})})]})]})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(me,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Ry,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})}),a.jsx(Ge,{open:n,onOpenChange:s,children:a.jsxs(We,{className:"rounded-[10px] border border-border bg-card shadow-lg max-w-[640px]","aria-describedby":"resend-dialog-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Resend verification email"}),a.jsx(Ke,{id:"resend-dialog-description",children:"Well send another verification link to your email. Check your spam folder if you dont see the first one."})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx($,{type:"button",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Sending"]}):"Send again"})]})]})})]})}function be({className:e,...t}){return a.jsx("div",{className:Z("animate-pulse rounded-md bg-muted",e),...t})}function RL(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ix="Switch",[NZ]=Fi(ix),[kZ,CZ]=NZ(ix),$L=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=x.useState(null),g=dt(t,w=>p(w)),m=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,b]=Yl({prop:s,defaultProp:i??!1,onChange:u,caller:ix});return a.jsxs(kZ,{scope:r,checked:y,disabled:l,children:[a.jsx(Xe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":LL(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Ne(e.onClick,w=>{b(S=>!S),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&a.jsx(DL,{control:h,bubbles:!m.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});$L.displayName=ix;var ML="SwitchThumb",IL=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=CZ(ML,r);return a.jsx(Xe.span,{"data-state":LL(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});IL.displayName=ML;var EZ="SwitchBubbleInput",DL=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=x.useRef(null),l=dt(o,i),c=RL(r),u=VD(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});DL.displayName=EZ;function LL(e){return e?"checked":"unchecked"}var FL=$L,OZ=IL;const Zr=x.forwardRef(({className:e,...t},r)=>a.jsx(FL,{className:Z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),ref:r,...t,children:a.jsx(OZ,{className:Z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Zr.displayName=FL.displayName;const PZ="http://localhost:3000/api";async function lf(e,t={}){const r=`${PZ}${e}`,n={"Content-Type":"application/json",...t.headers},s=typeof window<"u"?localStorage.getItem("auth_token"):null;s&&(n.Authorization=`Bearer ${s}`);const i=await fetch(r,{...t,headers:n});if(!i.ok)throw i.status===401&&typeof window<"u"&&(localStorage.removeItem("auth_token"),window.location.href="/login"),new Error(`API Error: ${i.status}`);const o=await i.text();if(o)return JSON.parse(o)}const je={get:e=>lf(e),post:(e,t)=>lf(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>lf(e,{method:"PUT",body:JSON.stringify(t)}),patch:(e,t)=>lf(e,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>lf(e,{method:"DELETE"})},Ms="/profile",ci={getProfile:()=>je.get(`${Ms}`),updateProfile:e=>je.patch(`${Ms}`,e),getOAuthAccounts:()=>je.get(`${Ms}/oauth-accounts`),unlinkOAuthAccount:e=>je.delete(`${Ms}/oauth-accounts/${e}`),getDeviceSessions:()=>je.get(`${Ms}/sessions`),revokeSession:e=>je.delete(`${Ms}/sessions/${e}`),getApiKeys:()=>je.get(`${Ms}/api-keys`),createApiKey:e=>je.post(`${Ms}/api-keys`,e),revokeApiKey:e=>je.delete(`${Ms}/api-keys/${e}`),getSecuritySettings:()=>je.get(`${Ms}/security-settings`),updateSecuritySettings:e=>je.patch(`${Ms}/security-settings`,e)},un={all:["profile"],profile:()=>[...un.all,"detail"],oauthAccounts:()=>[...un.all,"oauth-accounts"],sessions:()=>[...un.all,"sessions"],apiKeys:()=>[...un.all,"api-keys"],securitySettings:()=>[...un.all,"security-settings"]};function $p(e,t){return e().catch(()=>t)}function ax(){return De({queryKey:un.profile(),queryFn:()=>$p(ci.getProfile,null)})}function AZ(){const e=_e();return Se({mutationFn:t=>ci.updateProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:un.profile()}),V.success("Profile updated")},onError:t=>{V.error(t.message||"Failed to update profile")}})}function TZ(){return De({queryKey:un.oauthAccounts(),queryFn:()=>$p(ci.getOAuthAccounts,[])})}function RZ(){const e=_e();return Se({mutationFn:t=>ci.unlinkOAuthAccount(t),onSuccess:()=>{e.invalidateQueries({queryKey:un.oauthAccounts()}),V.success("Account unlinked")},onError:t=>{V.error(t.message||"Failed to unlink account")}})}function $Z(){return De({queryKey:un.sessions(),queryFn:()=>$p(ci.getDeviceSessions,[])})}function MZ(){const e=_e();return Se({mutationFn:t=>ci.revokeSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:un.sessions()}),V.success("Session revoked")},onError:t=>{V.error(t.message||"Failed to revoke session")}})}function IZ(){return De({queryKey:un.apiKeys(),queryFn:()=>$p(ci.getApiKeys,[])})}function DZ(){const e=_e();return Se({mutationFn:t=>ci.createApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:un.apiKeys()}),V.success("API key created")},onError:t=>{V.error(t.message||"Failed to create API key")}})}function LZ(){const e=_e();return Se({mutationFn:t=>ci.revokeApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:un.apiKeys()}),V.success("API key revoked")},onError:t=>{V.error(t.message||"Failed to revoke API key")}})}function UL(){return De({queryKey:un.securitySettings(),queryFn:()=>$p(ci.getSecuritySettings,null)})}function BL(){const e=_e();return Se({mutationFn:t=>ci.updateSecuritySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:un.securitySettings()}),V.success("Security settings updated")},onError:t=>{V.error(t.message||"Failed to update security settings")}})}function Dt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _a(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function FZ(e,t){const r=Dt(e);return isNaN(t)?_a(e,NaN):(r.setDate(r.getDate()+t),r)}const zL=6048e5,UZ=864e5,km=43200,PO=1440;let BZ={};function Mp(){return BZ}function Ph(e,t){var l,c,u,d;const r=Mp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Dt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function sv(e){return Ph(e,{weekStartsOn:1})}function qL(e){const t=Dt(e),r=t.getFullYear(),n=_a(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=sv(n),i=_a(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=sv(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function AO(e){const t=Dt(e);return t.setHours(0,0,0,0),t}function iv(e){const t=Dt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function zZ(e,t){const r=AO(e),n=AO(t),s=+r-iv(r),i=+n-iv(n);return Math.round((s-i)/UZ)}function qZ(e){const t=qL(e),r=_a(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),sv(r)}function og(e,t){const r=Dt(e),n=Dt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function WZ(e){return _a(e,Date.now())}function VZ(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function HZ(e){if(!VZ(e)&&typeof e!="number")return!1;const t=Dt(e);return!isNaN(Number(t))}function KZ(e,t){const r=Dt(e),n=Dt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function GZ(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function YZ(e,t){return+Dt(e)-+Dt(t)}function QZ(e){const t=Dt(e);return t.setHours(23,59,59,999),t}function XZ(e){const t=Dt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function JZ(e){const t=Dt(e);return+QZ(t)==+XZ(t)}function ZZ(e,t){const r=Dt(e),n=Dt(t),s=og(r,n),i=Math.abs(KZ(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=og(r,n)===-s;JZ(Dt(e))&&i===1&&og(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function eee(e,t,r){const n=YZ(e,t)/1e3;return GZ(r==null?void 0:r.roundingMethod)(n)}function tee(e){const t=Dt(e),r=_a(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ree={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nee=(e,t,r)=>{let n;const s=ree[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Xb(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const see={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oee={date:Xb({formats:see,defaultWidth:"full"}),time:Xb({formats:iee,defaultWidth:"full"}),dateTime:Xb({formats:aee,defaultWidth:"full"})},lee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cee=(e,t,r,n)=>lee[e];function cf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const uee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gee=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},vee={ordinalNumber:gee,era:cf({values:uee,defaultWidth:"wide"}),quarter:cf({values:dee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:cf({values:fee,defaultWidth:"wide"}),day:cf({values:hee,defaultWidth:"wide"}),dayPeriod:cf({values:pee,defaultWidth:"wide",formattingValues:mee,defaultFormattingWidth:"wide"})};function uf(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?xee(l,f=>f.test(o)):yee(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function yee(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function xee(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function bee(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const wee=/^(\d+)(th|st|nd|rd)?/i,jee=/\d+/i,_ee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},See={any:[/^b/i,/^(a|c)/i]},Nee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kee={any:[/1/i,/2/i,/3/i,/4/i]},Cee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Eee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Oee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Pee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Aee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ree={ordinalNumber:bee({matchPattern:wee,parsePattern:jee,valueCallback:e=>parseInt(e,10)}),era:uf({matchPatterns:_ee,defaultMatchWidth:"wide",parsePatterns:See,defaultParseWidth:"any"}),quarter:uf({matchPatterns:Nee,defaultMatchWidth:"wide",parsePatterns:kee,defaultParseWidth:"any",valueCallback:e=>e+1}),month:uf({matchPatterns:Cee,defaultMatchWidth:"wide",parsePatterns:Eee,defaultParseWidth:"any"}),day:uf({matchPatterns:Oee,defaultMatchWidth:"wide",parsePatterns:Pee,defaultParseWidth:"any"}),dayPeriod:uf({matchPatterns:Aee,defaultMatchWidth:"any",parsePatterns:Tee,defaultParseWidth:"any"})},WL={code:"en-US",formatDistance:nee,formatLong:oee,formatRelative:cee,localize:vee,match:Ree,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $ee(e){const t=Dt(e);return zZ(t,tee(t))+1}function Mee(e){const t=Dt(e),r=+sv(t)-+qZ(t);return Math.round(r/zL)+1}function VL(e,t){var d,f,h,p;const r=Dt(e),n=r.getFullYear(),s=Mp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=_a(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Ph(o,t),c=_a(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Ph(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Iee(e,t){var l,c,u,d;const r=Mp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=VL(e,t),i=_a(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Ph(i,t)}function Dee(e,t){const r=Dt(e),n=+Ph(r,t)-+Iee(r,t);return Math.round(n/zL)+1}function Ot(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Wa={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ot(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ot(r+1,2)},d(e,t){return Ot(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ot(e.getHours()%12||12,t.length)},H(e,t){return Ot(e.getHours(),t.length)},m(e,t){return Ot(e.getMinutes(),t.length)},s(e,t){return Ot(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ot(s,t.length)}},Ac={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},TO={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Wa.y(e,t)},Y:function(e,t,r,n){const s=VL(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Ot(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ot(i,t.length)},R:function(e,t){const r=qL(e);return Ot(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ot(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ot(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ot(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Wa.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ot(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Dee(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ot(s,t.length)},I:function(e,t,r){const n=Mee(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ot(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Wa.d(e,t)},D:function(e,t,r){const n=$ee(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ot(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ot(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ot(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ot(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Ac.noon:n===0?s=Ac.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Ac.evening:n>=12?s=Ac.afternoon:n>=4?s=Ac.morning:s=Ac.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Wa.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Wa.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ot(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ot(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Wa.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Wa.s(e,t)},S:function(e,t){return Wa.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return $O(n);case"XXXX":case"XX":return ul(n);case"XXXXX":case"XXX":default:return ul(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return $O(n);case"xxxx":case"xx":return ul(n);case"xxxxx":case"xxx":default:return ul(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+RO(n,":");case"OOOO":default:return"GMT"+ul(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+RO(n,":");case"zzzz":default:return"GMT"+ul(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ot(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ot(n,t.length)}};function RO(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Ot(i,2)}function $O(e,t){return e%60===0?(e>0?"-":"+")+Ot(Math.abs(e)/60,2):ul(e,t)}function ul(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ot(Math.trunc(n/60),2),i=Ot(n%60,2);return r+s+t+i}const MO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},HL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Lee=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return MO(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",MO(n,t)).replace("{{time}}",HL(s,t))},Fee={p:HL,P:Lee},Uee=/^D+$/,Bee=/^Y+$/,zee=["D","DD","YY","YYYY"];function qee(e){return Uee.test(e)}function Wee(e){return Bee.test(e)}function Vee(e,t,r){const n=Hee(e,t,r);if(console.warn(n),zee.includes(e))throw new RangeError(n)}function Hee(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yee=/^'([^]*?)'?$/,Qee=/''/g,Xee=/[a-zA-Z]/;function KL(e,t,r){var d,f,h,p;const n=Mp(),s=n.locale??WL,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=Dt(e);if(!HZ(l))throw new RangeError("Invalid time value");let c=t.match(Gee).map(g=>{const m=g[0];if(m==="p"||m==="P"){const v=Fee[m];return v(g,s.formatLong)}return g}).join("").match(Kee).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const m=g[0];if(m==="'")return{isToken:!1,value:Jee(g)};if(TO[m])return{isToken:!0,value:g};if(m.match(Xee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const m=g.value;(Wee(m)||qee(m))&&Vee(m,t,String(e));const v=TO[m[0]];return v(l,m,s.localize,u)}).join("")}function Jee(e){const t=e.match(Yee);return t?t[1].replace(Qee,"'"):e}function Zee(e,t,r){const n=Mp(),s=(r==null?void 0:r.locale)??n.locale??WL,i=2520,o=og(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Dt(t),u=Dt(e)):(c=Dt(e),u=Dt(t));const d=eee(u,c),f=(iv(u)-iv(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<PO){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<km){const g=Math.round(h/PO);return s.formatDistance("xDays",g,l)}else if(h<km*2)return p=Math.round(h/km),s.formatDistance("aboutXMonths",p,l)}if(p=ZZ(u,c),p<12){const g=Math.round(h/km);return s.formatDistance("xMonths",g,l)}else{const g=p%12,m=Math.trunc(p/12);return g<3?s.formatDistance("aboutXYears",m,l):g<9?s.formatDistance("overXYears",m,l):s.formatDistance("almostXYears",m+1,l)}}function Dr(e,t){return Zee(e,WZ(e),t)}function ete(e,t){return FZ(e,-7)}const tte=Et({name:Pe().min(1,"Name is required").max(64),scope:Pe().min(1,"Scope is required").max(128)}),rte={github:"GitHub",google:"Google",discord:"Discord",slack:"Slack"};function nte(){const{data:e,isLoading:t}=ax(),r=AZ(),[n,s]=x.useState(!1),[i,o]=x.useState((e==null?void 0:e.display_name)??"");if(x.useEffect(()=>{!n&&(e==null?void 0:e.display_name)!==void 0&&o(e.display_name??"")},[e==null?void 0:e.display_name,n]),t)return a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(be,{className:"h-6 w-32"}),a.jsx(be,{className:"h-4 w-48 mt-2"})]}),a.jsxs(re,{className:"flex items-center gap-4",children:[a.jsx(be,{className:"h-16 w-16 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:"h-5 w-40"}),a.jsx(be,{className:"h-4 w-24"})]})]})]});const l=(e==null?void 0:e.display_name)||"User",c=(e==null?void 0:e.email)??"",u=(e==null?void 0:e.workspace_path)??"",d=l.slice(0,2).toUpperCase(),f=()=>{r.mutate({display_name:i||null},{onSuccess:()=>s(!1)})};return a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(Dy,{className:"h-5 w-5"}),"Profile summary"]}),a.jsx(xe,{children:"Account and avatar."})]}),a.jsxs(re,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-6",children:[a.jsxs(Hy,{className:"h-16 w-16 shrink-0",children:[a.jsx(AS,{src:(e==null?void 0:e.avatar_url)??void 0,alt:l}),a.jsx(Ky,{className:"text-lg bg-primary/20 text-primary",children:d})]}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[n?a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(ge,{value:i,onChange:h=>o(h.target.value),placeholder:"Display name",className:"max-w-xs","aria-label":"Display name"}),a.jsx($,{size:"sm",onClick:f,disabled:r.isPending,children:r.isPending?a.jsx(Xn,{className:"h-4 w-4 animate-spin"}):"Save"}),a.jsx($,{size:"sm",variant:"ghost",onClick:()=>{s(!1),o((e==null?void 0:e.display_name)??"")},children:"Cancel"})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium truncate",children:l}),a.jsx($,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",onClick:()=>{o((e==null?void 0:e.display_name)??""),s(!0)},"aria-label":"Edit display name",children:"Edit"})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Workspace: ",a.jsx("span",{className:"font-mono truncate",children:u})]})]})]})]})}function ste(){const{data:e,isLoading:t}=TZ(),r=RZ(),[n,s]=x.useState(null);if(t)return a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(be,{className:"h-6 w-40"}),a.jsx(be,{className:"h-4 w-56 mt-2"})]}),a.jsxs(re,{children:[a.jsx(be,{className:"h-12 w-full"}),a.jsx(be,{className:"h-12 w-full mt-2"})]})]});const i=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(MH,{className:"h-5 w-5"}),"Connected accounts"]}),a.jsx(xe,{children:"OAuth and linked accounts; unlink here."})]}),a.jsx(re,{children:i.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected accounts."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connect GitHub, Google, or other providers from Settings."})]}):a.jsx("ul",{className:"space-y-2",children:i.map(o=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsx("span",{className:"font-medium",children:rte[o.provider]??o.provider}),a.jsx($,{variant:"outline",size:"sm",onClick:()=>s(o.id),disabled:r.isPending,"aria-label":`Unlink ${o.provider}`,children:"Unlink"})]},o.id))})})]}),a.jsx(Ge,{open:!!n,onOpenChange:()=>s(null),children:a.jsxs(We,{showClose:!0,children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Unlink account"}),a.jsx(Ke,{children:"Are you sure you want to unlink this account? You may need to sign in again with this provider to reconnect."})]}),a.jsxs(Qe,{children:[a.jsx($,{variant:"outline",onClick:()=>s(null),children:"Cancel"}),a.jsx($,{variant:"destructive",onClick:()=>{n&&r.mutate(n,{onSuccess:()=>s(null)})},disabled:r.isPending,children:r.isPending?a.jsx(Xn,{className:"h-4 w-4 animate-spin"}):"Unlink"})]})]})})]})}function ite(){const{data:e,isLoading:t}=$Z(),{data:r,isLoading:n}=UL(),s=BL(),i=MZ(),[o,l]=x.useState(null),c=t||n,u=(r==null?void 0:r.two_factor_enabled)??!1;if(c)return a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(be,{className:"h-6 w-24"}),a.jsx(be,{className:"h-4 w-48 mt-2"})]}),a.jsxs(re,{className:"space-y-4",children:[a.jsx(be,{className:"h-10 w-32"}),a.jsx(be,{className:"h-6 w-full"})]})]});const d=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(Dn,{className:"h-5 w-5"}),"Security"]}),a.jsx(xe,{children:"Password, 2FA, active sessions."})]}),a.jsxs(re,{className:"space-y-4",children:[a.jsx($,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(me,{to:"/forgot-password",children:"Change password"})}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(Q,{htmlFor:"2fa",className:"cursor-pointer",children:"Two-factor authentication"}),a.jsx(Zr,{id:"2fa",checked:u,onCheckedChange:f=>s.mutate({two_factor_enabled:f}),disabled:s.isPending})]}),a.jsx(ES,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Active sessions"}),d.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No other sessions."}):a.jsx("ul",{className:"space-y-2",children:d.map(f=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Iy,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:f.device_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Dr(new Date(f.last_active_at),{addSuffix:!0})})]})]}),a.jsx($,{variant:"outline",size:"sm",onClick:()=>l(f.id),disabled:i.isPending,"aria-label":`Revoke ${f.device_name}`,children:"Revoke"})]},f.id))})]})]})]}),a.jsx(Ge,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(We,{showClose:!0,children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Revoke session"}),a.jsx(Ke,{children:"This device will be signed out. Are you sure?"})]}),a.jsxs(Qe,{children:[a.jsx($,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx($,{variant:"destructive",onClick:()=>{o&&i.mutate(o,{onSuccess:()=>l(null)})},disabled:i.isPending,children:i.isPending?a.jsx(Xn,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function ate(){const{data:e,isLoading:t}=IZ(),r=DZ(),n=LZ(),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(null),d=kt({resolver:Ct(tte),defaultValues:{name:"",scope:"read"}}),f=p=>{r.mutate(p,{onSuccess:g=>{u(g.key),d.reset()}})};if(t)return a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(be,{className:"h-6 w-24"}),a.jsx(be,{className:"h-4 w-40 mt-2"})]}),a.jsxs(re,{children:[a.jsx(be,{className:"h-10 w-28"}),a.jsx(be,{className:"h-12 w-full mt-4"})]})]});const h=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(jh,{className:"h-5 w-5"}),"API Keys"]}),a.jsx(xe,{children:"Create and manage scoped API keys for integrations."})]}),a.jsxs(re,{className:"space-y-4",children:[a.jsx($,{variant:"outline",size:"sm",onClick:()=>{i(!0),u(null)},children:"Create API key"}),h.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-6 text-center",children:[a.jsx(dS,{className:"mx-auto h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No API keys yet."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a key to use with external tools or scripts."})]}):a.jsx("ul",{className:"space-y-2",children:h.map(p=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:p.name}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[p.key_prefix,""]})]}),a.jsx($,{variant:"outline",size:"sm",onClick:()=>l(p.id),disabled:n.isPending,"aria-label":`Revoke key ${p.name}`,children:"Revoke"})]},p.id))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Keychain / 1Password integration can be enabled below."})]})]}),a.jsx(Ge,{open:s,onOpenChange:i,children:a.jsxs(We,{showClose:!0,children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Create API key"}),a.jsx(Ke,{children:"Choose a name and scope. The key value is shown only once."})]}),c?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Your new key (copy now)"}),a.jsx(ge,{readOnly:!0,value:c,className:"font-mono text-sm","aria-label":"API key value"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Store this securely; it won't be shown again."}),a.jsx(Qe,{children:a.jsx($,{onClick:()=>i(!1),children:"Done"})})]}):a.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"key-name",children:"Name"}),a.jsx(ge,{id:"key-name",...d.register("name"),placeholder:"e.g. CI pipeline","aria-invalid":!!d.formState.errors.name}),d.formState.errors.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"key-scope",children:"Scope"}),a.jsx(ge,{id:"key-scope",...d.register("scope"),placeholder:"e.g. read, write","aria-invalid":!!d.formState.errors.scope}),d.formState.errors.scope&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.scope.message})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsx($,{type:"submit",disabled:r.isPending,children:r.isPending?a.jsx(Xn,{className:"h-4 w-4 animate-spin"}):"Create"})]})]})]})}),a.jsx(Ge,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(We,{showClose:!0,children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Revoke API key"}),a.jsx(Ke,{children:"This key will stop working immediately. Any integrations using it will need a new key."})]}),a.jsxs(Qe,{children:[a.jsx($,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx($,{variant:"destructive",onClick:()=>{o&&n.mutate(o,{onSuccess:()=>l(null)})},disabled:n.isPending,children:n.isPending?a.jsx(Xn,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function ote(){const{data:e,isLoading:t}=UL(),r=BL(),n=(e==null?void 0:e.keychain_integration_enabled)??!1;return t?a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(be,{className:"h-6 w-48"}),a.jsx(be,{className:"h-4 w-64 mt-2"})]}),a.jsx(re,{children:a.jsx(be,{className:"h-6 w-full"})})]}):a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(dS,{className:"h-5 w-5"}),"Keychain / 1Password"]}),a.jsx(xe,{children:"Use 1Password or system keychain for secure login and autofill."})]}),a.jsx(re,{children:a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(Q,{htmlFor:"keychain",className:"cursor-pointer",children:"Enable 1Password integration"}),a.jsx(Zr,{id:"keychain",checked:n,onCheckedChange:s=>r.mutate({keychain_integration_enabled:s}),disabled:r.isPending})]})})]})}function lte(){return a.jsxs("div",{className:Z("mx-auto max-w-3xl space-y-6 animate-fade-in-up"),children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Profile"}),a.jsx(nte,{}),a.jsx(ste,{}),a.jsx(ite,{}),a.jsx(ate,{}),a.jsx(ote,{}),a.jsx("div",{className:"flex justify-end",children:a.jsx($,{asChild:!0,children:a.jsx(me,{to:"/settings",children:"Settings"})})})]})}function cte(){return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(ee,{className:"w-full max-w-md animate-fade-in-up",children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(oi,{className:"h-5 w-5"}),"Install Gateway"]}),a.jsx(xe,{children:"Download the Clawgate gateway for your platform."})]}),a.jsxs(re,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway binaries and installers will be available here. For now, use the Open Local UI button if you have the gateway running."}),a.jsx($,{asChild:!0,className:"w-full",children:a.jsx(me,{to:"/dashboard",children:"Open Local UI"})}),a.jsx($,{variant:"outline",asChild:!0,className:"w-full",children:a.jsx(me,{to:"/",children:"Back to home"})})]})]})})}const ute=_S("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-600/20 text-green-400",warning:"border-transparent bg-amber-600/20 text-amber-400"}},defaultVariants:{variant:"default"}});function nt({className:e,variant:t,...r}){return a.jsx("div",{className:Z(ute({variant:t}),e),...r})}const Gt="/dashboard",jn={getActivities:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return je.get(`${Gt}/activities${t?`?${t}`:""}`)},getActivity:e=>je.get(`${Gt}/activities/${e}`),createActivity:e=>je.post(`${Gt}/activities`,e),deleteActivity:e=>je.delete(`${Gt}/activities/${e}`),getRuns:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return je.get(`${Gt}/runs${t?`?${t}`:""}`)},getRun:e=>je.get(`${Gt}/runs/${e}`),createRun:e=>je.post(`${Gt}/runs`,e),updateRun:(e,t)=>je.patch(`${Gt}/runs/${e}`,t),abortRun:e=>je.post(`${Gt}/runs/${e}/abort`,{}),getCronJobs:()=>je.get(`${Gt}/cron-jobs`),getCronJob:e=>je.get(`${Gt}/cron-jobs/${e}`),createCronJob:e=>je.post(`${Gt}/cron-jobs`,e),updateCronJob:(e,t)=>je.patch(`${Gt}/cron-jobs/${e}`,t),deleteCronJob:e=>je.delete(`${Gt}/cron-jobs/${e}`),runCronJobNow:e=>je.post(`${Gt}/cron-jobs/${e}/run-now`,{}),getCronRunHistory:(e,t)=>{const r=t?new URLSearchParams(Object.fromEntries(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)]))).toString():"";return je.get(`${Gt}/cron-jobs/${e}/run-history${r?`?${r}`:""}`)},getNodes:()=>je.get(`${Gt}/nodes`),getNode:e=>je.get(`${Gt}/nodes/${e}`),createNode:e=>je.post(`${Gt}/nodes`,e),updateNode:(e,t)=>je.patch(`${Gt}/nodes/${e}`,t),deleteNode:e=>je.delete(`${Gt}/nodes/${e}`),getAlerts:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return je.get(`${Gt}/alerts${t?`?${t}`:""}`)},getAlert:e=>je.get(`${Gt}/alerts/${e}`),updateAlert:(e,t)=>je.patch(`${Gt}/alerts/${e}`,t),quickRun:e=>je.post(`${Gt}/quick-run`,e)};function Pd(e,t){return e().catch(()=>t)}const mt={all:["dashboard"],activities:e=>[...mt.all,"activities",e],activity:e=>[...mt.all,"activity",e],runs:e=>[...mt.all,"runs",e],run:e=>[...mt.all,"run",e],cronJobs:()=>[...mt.all,"cron-jobs"],cronJob:e=>[...mt.all,"cron-job",e],cronRunHistory:(e,t)=>[...mt.all,"cron-run-history",e,t],nodes:()=>[...mt.all,"nodes"],node:e=>[...mt.all,"node",e],alerts:e=>[...mt.all,"alerts",e],alert:e=>[...mt.all,"alert",e]};function dte(e){return De({queryKey:mt.activities(e),queryFn:()=>Pd(()=>jn.getActivities(e),[])})}function fte(){const e=_e();return Se({mutationFn:t=>jn.deleteActivity(t),onSuccess:()=>{e.invalidateQueries({queryKey:mt.activities()}),V.success("Activity removed")},onError:t=>{V.error(t.message||"Failed to remove activity")}})}function hte(e){return De({queryKey:mt.runs(e),queryFn:()=>Pd(()=>jn.getRuns(e),[])})}function pte(){const e=_e();return Se({mutationFn:t=>jn.abortRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:mt.runs()}),V.success("Run aborted")},onError:t=>{V.error(t.message||"Failed to abort run")}})}function GL(){return De({queryKey:mt.cronJobs(),queryFn:()=>Pd(()=>jn.getCronJobs(),[])})}function YL(){const e=_e();return Se({mutationFn:t=>jn.createCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:mt.cronJobs()}),V.success("Cron job created")},onError:t=>{V.error(t.message||"Failed to create cron job")}})}function mte(){const e=_e();return Se({mutationFn:({id:t,data:r})=>jn.updateCronJob(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:mt.cronJobs()}),e.invalidateQueries({queryKey:mt.cronJob(r)}),V.success("Cron job updated")},onError:t=>{V.error(t.message||"Failed to update cron job")}})}function gte(){const e=_e();return Se({mutationFn:t=>jn.deleteCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:mt.cronJobs()}),V.success("Cron job deleted")},onError:t=>{V.error(t.message||"Failed to delete cron job")}})}function vte(e,t){return De({queryKey:mt.cronRunHistory(e??"",t),queryFn:()=>e?Pd(()=>jn.getCronRunHistory(e,t),[]):Promise.resolve([]),enabled:!!e})}function yte(){const e=_e();return Se({mutationFn:t=>jn.runCronJobNow(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:mt.cronJobs()}),e.invalidateQueries({queryKey:mt.cronRunHistory(r)}),e.invalidateQueries({queryKey:mt.runs()}),V.success("Job started")},onError:t=>{V.error(t.message||"Failed to run job")}})}function QL(){return De({queryKey:mt.nodes(),queryFn:()=>Pd(()=>jn.getNodes(),[])})}function xte(){const e=_e();return Se({mutationFn:({id:t,data:r})=>jn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:mt.nodes()}),e.invalidateQueries({queryKey:mt.node(r)}),V.success("Node updated")},onError:t=>{V.error(t.message||"Failed to update node")}})}function bte(e){return De({queryKey:mt.alerts(e),queryFn:()=>Pd(()=>jn.getAlerts(e),[])})}function wte(){const e=_e();return Se({mutationFn:({id:t,data:r})=>jn.updateAlert(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:mt.alerts()}),e.invalidateQueries({queryKey:mt.alert(r)}),V.success("Alert updated")},onError:t=>{V.error(t.message||"Failed to update alert")}})}function jte(){const e=_e();return Se({mutationFn:t=>jn.quickRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:mt.activities()}),e.invalidateQueries({queryKey:mt.runs()}),V.success("Message sent")},onError:t=>{V.error(t.message||"Failed to send message")}})}const IO={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"};function _te({activity:e,open:t,onOpenChange:r,onDelete:n}){if(!e)return null;const s=()=>{n==null||n(e.id),r(!1)};return a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(We,{className:"max-w-lg","aria-describedby":"activity-detail-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Activity details"}),a.jsxs(Ke,{id:"activity-detail-description",children:[IO[e.activity_type]??e.activity_type," "," ",Dr(new Date(e.created_at),{addSuffix:!0})]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),a.jsx("p",{className:"text-sm",children:IO[e.activity_type]??e.activity_type})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Details"}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md border border-border bg-secondary/30 p-3 text-xs",children:JSON.stringify(e.details,null,2)})]})]}),a.jsxs(Qe,{children:[n&&a.jsx($,{variant:"destructive",onClick:s,children:"Remove"}),a.jsx($,{variant:"outline",onClick:()=>r(!1),children:"Close"})]})]})})}function Ste({run:e,open:t,onOpenChange:r,onConfirm:n,isAborting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(We,{"aria-describedby":"run-abort-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Abort run?"}),a.jsxs(Ke,{id:"run-abort-description",children:["This will stop the run that started"," ",Dr(new Date(e.start_time),{addSuffix:!0}),". This action cannot be undone."]})]}),a.jsxs(Qe,{children:[a.jsx($,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx($,{variant:"destructive",onClick:i,disabled:s,children:s?"Aborting":"Abort run"})]})]})})}function Nte(e){const t=kte(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(Ete);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function kte(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=Pte(s),l=Ote(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Aa(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cte=Symbol("radix.slottable");function Ete(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cte}function Ote(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Pte(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var XL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ate="VisuallyHidden",Tte=x.forwardRef((e,t)=>a.jsx(Xe.span,{...e,ref:t,style:{...XL,...e.style}}));Tte.displayName=Ate;var Rte=[" ","Enter","ArrowUp","ArrowDown"],$te=[" ","Enter"],tc="Select",[ox,lx,Mte]=TS(tc),[Ad]=Fi(tc,[Mte,Jy]),cx=Jy(),[Ite,Go]=Ad(tc),[Dte,Lte]=Ad(tc),JL=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=cx(t),[v,y]=x.useState(null),[b,w]=x.useState(null),[S,j]=x.useState(!1),_=Ep(u),[N,k]=Yl({prop:n,defaultProp:s??!1,onChange:i,caller:tc}),[C,A]=Yl({prop:o,defaultProp:l,onChange:c,caller:tc}),I=x.useRef(null),O=v?g||!!v.closest("form"):!0,[U,E]=x.useState(new Set),B=Array.from(U).map(M=>M.props.value).join(";");return a.jsx(t4,{...m,children:a.jsxs(Ite,{required:p,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Pi(),value:C,onValueChange:A,open:N,onOpenChange:k,dir:_,triggerPointerDownPosRef:I,disabled:h,children:[a.jsx(ox.Provider,{scope:t,children:a.jsx(Dte,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(M=>{E(z=>new Set(z).add(M))},[]),onNativeOptionRemove:x.useCallback(M=>{E(z=>{const F=new Set(z);return F.delete(M),F})},[]),children:r})}),O?a.jsxs(jF,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:M=>A(M.target.value),disabled:h,form:g,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(U)]},B):null]})})};JL.displayName=tc;var ZL="SelectTrigger",eF=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=cx(r),o=Go(ZL,r),l=o.disabled||n,c=dt(t,o.onTriggerChange),u=lx(r),d=x.useRef("touch"),[f,h,p]=SF(m=>{const v=u().filter(w=>!w.disabled),y=v.find(w=>w.value===o.value),b=NF(v,m,y);b!==void 0&&o.onValueChange(b.value)}),g=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(r4,{asChild:!0,...i,children:a.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":_F(o.value)?"":void 0,...s,ref:c,onClick:Ne(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:Ne(s.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:Ne(s.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&Rte.includes(m.key)&&(g(),m.preventDefault())})})})});eF.displayName=ZL;var tF="SelectValue",rF=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=Go(tF,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=dt(t,c.onValueNodeChange);return kr(()=>{u(d)},[u,d]),a.jsx(Xe.span,{...l,ref:f,style:{pointerEvents:"none"},children:_F(c.value)?a.jsx(a.Fragment,{children:o}):i})});rF.displayName=tF;var Fte="SelectIcon",nF=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Xe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});nF.displayName=Fte;var Ute="SelectPortal",sF=e=>a.jsx(Uy,{asChild:!0,...e});sF.displayName=Ute;var rc="SelectContent",iF=x.forwardRef((e,t)=>{const r=Go(rc,e.__scopeSelect),[n,s]=x.useState();if(kr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?xd.createPortal(a.jsx(aF,{scope:e.__scopeSelect,children:a.jsx(ox.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(oF,{...e,ref:t})});iF.displayName=rc;var Fs=10,[aF,Yo]=Ad(rc),Bte="SelectContentImpl",zte=Nte("SelectContent.RemoveScroll"),oF=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...y}=e,b=Go(rc,r),[w,S]=x.useState(null),[j,_]=x.useState(null),N=dt(t,ce=>S(ce)),[k,C]=x.useState(null),[A,I]=x.useState(null),O=lx(r),[U,E]=x.useState(!1),B=x.useRef(!1);x.useEffect(()=>{if(w)return xS(w)},[w]),yS();const M=x.useCallback(ce=>{const[Me,...te]=O().map(K=>K.ref.current),[pe]=te.slice(-1),H=document.activeElement;for(const K of ce)if(K===H||(K==null||K.scrollIntoView({block:"nearest"}),K===Me&&j&&(j.scrollTop=0),K===pe&&j&&(j.scrollTop=j.scrollHeight),K==null||K.focus(),document.activeElement!==H))return},[O,j]),z=x.useCallback(()=>M([k,w]),[M,k,w]);x.useEffect(()=>{U&&z()},[U,z]);const{onOpenChange:F,triggerPointerDownPosRef:T}=b;x.useEffect(()=>{if(w){let ce={x:0,y:0};const Me=pe=>{var H,K;ce={x:Math.abs(Math.round(pe.pageX)-(((H=T.current)==null?void 0:H.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((K=T.current)==null?void 0:K.y)??0))}},te=pe=>{ce.x<=10&&ce.y<=10?pe.preventDefault():w.contains(pe.target)||F(!1),document.removeEventListener("pointermove",Me),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",te,{capture:!0})}}},[w,F,T]),x.useEffect(()=>{const ce=()=>F(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[F]);const[R,J]=SF(ce=>{const Me=O().filter(H=>!H.disabled),te=Me.find(H=>H.ref.current===document.activeElement),pe=NF(Me,ce,te);pe&&setTimeout(()=>pe.ref.current.focus())}),G=x.useCallback((ce,Me,te)=>{const pe=!B.current&&!te;(b.value!==void 0&&b.value===Me||pe)&&(C(ce),pe&&(B.current=!0))},[b.value]),ie=x.useCallback(()=>w==null?void 0:w.focus(),[w]),he=x.useCallback((ce,Me,te)=>{const pe=!B.current&&!te;(b.value!==void 0&&b.value===Me||pe)&&I(ce)},[b.value]),Le=n==="popper"?kj:lF,Fe=Le===kj?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return a.jsx(aF,{scope:r,content:w,viewport:j,onViewportChange:_,itemRefCallback:G,selectedItem:k,onItemLeave:ie,itemTextRefCallback:he,focusSelectedItem:z,selectedItemText:A,position:n,isPositioned:U,searchRef:R,children:a.jsx(zy,{as:zte,allowPinchZoom:!0,children:a.jsx(Fy,{asChild:!0,trapped:b.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Ne(s,ce=>{var Me;(Me=b.trigger)==null||Me.focus({preventScroll:!0}),ce.preventDefault()}),children:a.jsx(Ly,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:a.jsx(Le,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ce=>ce.preventDefault(),...y,...Fe,onPlaced:()=>E(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ne(y.onKeyDown,ce=>{const Me=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Me&&ce.key.length===1&&J(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let pe=O().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const H=ce.target,K=pe.indexOf(H);pe=pe.slice(K+1)}setTimeout(()=>M(pe)),ce.preventDefault()}})})})})})})});oF.displayName=Bte;var qte="SelectItemAlignedPosition",lF=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Go(rc,r),o=Yo(rc,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=dt(t,N=>d(N)),h=lx(r),p=x.useRef(!1),g=x.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,w=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&v&&y){const N=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(i.dir!=="rtl"){const H=A.left-k.left,K=C.left-H,Ye=N.left-K,Ue=N.width+Ye,wt=Math.max(Ue,k.width),yt=window.innerWidth-Fs,Zt=dj(K,[Fs,Math.max(Fs,yt-wt)]);l.style.minWidth=Ue+"px",l.style.left=Zt+"px"}else{const H=k.right-A.right,K=window.innerWidth-C.right-H,Ye=window.innerWidth-N.right-K,Ue=N.width+Ye,wt=Math.max(Ue,k.width),yt=window.innerWidth-Fs,Zt=dj(K,[Fs,Math.max(Fs,yt-wt)]);l.style.minWidth=Ue+"px",l.style.right=Zt+"px"}const I=h(),O=window.innerHeight-Fs*2,U=m.scrollHeight,E=window.getComputedStyle(u),B=parseInt(E.borderTopWidth,10),M=parseInt(E.paddingTop,10),z=parseInt(E.borderBottomWidth,10),F=parseInt(E.paddingBottom,10),T=B+M+U+F+z,R=Math.min(v.offsetHeight*5,T),J=window.getComputedStyle(m),G=parseInt(J.paddingTop,10),ie=parseInt(J.paddingBottom,10),he=N.top+N.height/2-Fs,Le=O-he,Fe=v.offsetHeight/2,ce=v.offsetTop+Fe,Me=B+M+ce,te=T-Me;if(Me<=he){const H=I.length>0&&v===I[I.length-1].ref.current;l.style.bottom="0px";const K=u.clientHeight-m.offsetTop-m.offsetHeight,Ye=Math.max(Le,Fe+(H?ie:0)+K+z),Ue=Me+Ye;l.style.height=Ue+"px"}else{const H=I.length>0&&v===I[0].ref.current;l.style.top="0px";const Ye=Math.max(he,B+m.offsetTop+(H?G:0)+Fe)+te;l.style.height=Ye+"px",m.scrollTop=Me-he+m.offsetTop}l.style.margin=`${Fs}px 0`,l.style.minHeight=R+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,v,y,i.dir,n]);kr(()=>w(),[w]);const[S,j]=x.useState();kr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const _=x.useCallback(N=>{N&&g.current===!0&&(w(),b==null||b(),g.current=!1)},[w,b]);return a.jsx(Vte,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(Xe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});lF.displayName=qte;var Wte="SelectPopperPosition",kj=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Fs,...i}=e,o=cx(r);return a.jsx(n4,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kj.displayName=Wte;var[Vte,rN]=Ad(rc,{}),Cj="SelectViewport",cF=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Yo(Cj,r),o=rN(Cj,r),l=dt(t,i.onViewportChange),c=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(ox.Slot,{scope:r,children:a.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ne(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-Fs*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(m,v);if(y<g){const b=y+p,w=Math.min(g,b),S=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});cF.displayName=Cj;var uF="SelectGroup",[Hte,Kte]=Ad(uF),Gte=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Pi();return a.jsx(Hte,{scope:r,id:s,children:a.jsx(Xe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Gte.displayName=uF;var dF="SelectLabel",fF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Kte(dF,r);return a.jsx(Xe.div,{id:s.id,...n,ref:t})});fF.displayName=dF;var av="SelectItem",[Yte,hF]=Ad(av),pF=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Go(av,r),c=Yo(av,r),u=l.value===n,[d,f]=x.useState(i??""),[h,p]=x.useState(!1),g=dt(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,s)}),m=Pi(),v=x.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Yte,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:x.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:a.jsx(ox.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Xe.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Ne(o.onFocus,()=>p(!0)),onBlur:Ne(o.onBlur,()=>p(!1)),onClick:Ne(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Ne(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Ne(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Ne(o.onPointerMove,b=>{var w;v.current=b.pointerType,s?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ne(o.onKeyDown,b=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&b.key===" "||($te.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});pF.displayName=av;var Of="SelectItemText",mF=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Go(Of,r),l=Yo(Of,r),c=hF(Of,r),u=Lte(Of,r),[d,f]=x.useState(null),h=dt(t,y=>f(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=x.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return kr(()=>(m(g),()=>v(g)),[m,v,g]),a.jsxs(a.Fragment,{children:[a.jsx(Xe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?xd.createPortal(i.children,o.valueNode):null]})});mF.displayName=Of;var gF="SelectItemIndicator",vF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return hF(gF,r).isSelected?a.jsx(Xe.span,{"aria-hidden":!0,...n,ref:t}):null});vF.displayName=gF;var Ej="SelectScrollUpButton",yF=x.forwardRef((e,t)=>{const r=Yo(Ej,e.__scopeSelect),n=rN(Ej,e.__scopeSelect),[s,i]=x.useState(!1),o=dt(t,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(bF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});yF.displayName=Ej;var Oj="SelectScrollDownButton",xF=x.forwardRef((e,t)=>{const r=Yo(Oj,e.__scopeSelect),n=rN(Oj,e.__scopeSelect),[s,i]=x.useState(!1),o=dt(t,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(bF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});xF.displayName=Oj;var bF=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Yo("SelectScrollButton",r),o=x.useRef(null),l=lx(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),kr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Xe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ne(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ne(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ne(s.onPointerLeave,()=>{c()})})}),Qte="SelectSeparator",wF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Xe.div,{"aria-hidden":!0,...n,ref:t})});wF.displayName=Qte;var Pj="SelectArrow",Xte=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=cx(r),i=Go(Pj,r),o=Yo(Pj,r);return i.open&&o.position==="popper"?a.jsx(s4,{...s,...n,ref:t}):null});Xte.displayName=Pj;var Jte="SelectBubbleInput",jF=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=x.useRef(null),i=dt(n,s),o=RL(t);return x.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Xe.select,{...r,style:{...XL,...r.style},ref:i,defaultValue:t})});jF.displayName=Jte;function _F(e){return e===""||e===void 0}function SF(e){const t=zr(e),r=x.useRef(""),n=x.useRef(0),s=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function NF(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Zte(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Zte(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ere=JL,kF=eF,tre=rF,rre=nF,nre=sF,CF=iF,sre=cF,EF=fF,OF=pF,ire=mF,are=vF,PF=yF,AF=xF,TF=wF;const Tt=ere,Rt=tre,St=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(kF,{ref:n,className:Z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(rre,{asChild:!0,children:a.jsx(Nd,{className:"h-4 w-4 opacity-50"})})]}));St.displayName=kF.displayName;const RF=x.forwardRef(({className:e,...t},r)=>a.jsx(PF,{ref:r,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(iI,{className:"h-4 w-4"})}));RF.displayName=PF.displayName;const $F=x.forwardRef(({className:e,...t},r)=>a.jsx(AF,{ref:r,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Nd,{className:"h-4 w-4"})}));$F.displayName=AF.displayName;const Nt=x.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(nre,{children:a.jsxs(CF,{ref:s,className:Z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-card text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(RF,{}),a.jsx(sre,{className:Z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx($F,{})]})}));Nt.displayName=CF.displayName;const ore=x.forwardRef(({className:e,...t},r)=>a.jsx(EF,{ref:r,className:Z("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ore.displayName=EF.displayName;const Ie=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(OF,{ref:n,className:Z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(are,{children:a.jsx(Np,{className:"h-4 w-4"})})}),a.jsx(ire,{children:t})]}));Ie.displayName=OF.displayName;const lre=x.forwardRef(({className:e,...t},r)=>a.jsx(TF,{ref:r,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));lre.displayName=TF.displayName;const cre=Et({name:Pe().min(1,"Name is required").max(200,"Name too long"),schedule:Pe().min(1,"Schedule is required"),description:Pe().optional(),payload_json:Pe().optional(),session_target:Pe().optional(),isolation_setting:Ho().optional(),status:gr(["active","paused"]).optional()}),Cm={name:"",schedule:"",description:"",payload_json:"{}",session_target:"",isolation_setting:!1,status:"active"};function ure(e){if(!e||!e.trim())return{};try{const t=JSON.parse(e);return typeof t=="object"&&t!==null?t:{}}catch{return{}}}function MF({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,userId:s="",job:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=kt({resolver:Ct(cre),defaultValues:Cm}),p=d("status"),g=d("isolation_setting");x.useEffect(()=>{e&&i?f({name:i.name??i.description??"",schedule:i.schedule,description:i.description??"",payload_json:typeof i.payload=="object"&&Object.keys(i.payload||{}).length>0?JSON.stringify(i.payload,null,2):"{}",session_target:i.session_target??"",isolation_setting:i.isolation_setting??!1,status:i.status==="failed"?"paused":i.status}):e&&!i&&f(Cm)},[e,i,f]);const m=y=>{const b=ure(y.payload_json??"{}");r(o&&i?{name:y.name||null,schedule:y.schedule,description:y.description||null,payload:b,session_target:y.session_target||null,isolation_setting:y.isolation_setting??!1,status:y.status??"active"}:{user_id:s,name:y.name||null,schedule:y.schedule,description:y.description||null,payload:b,session_target:y.session_target||null,isolation_setting:y.isolation_setting??!1,status:y.status??"active"}),f(Cm),t(!1)},v=y=>{y||f(Cm),t(y)};return a.jsx(Ge,{open:e,onOpenChange:v,children:a.jsxs(We,{className:"max-w-[640px]","aria-describedby":"cron-job-form-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:o?"Edit cron job":"Create cron job"}),a.jsx(Ke,{id:"cron-job-form-description",children:o?"Update schedule, payload, session target, and isolation.":"Add a scheduled job with cron expression, payload, and session target."})]}),a.jsxs("form",{onSubmit:c(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"name",children:"Job name"}),a.jsx(ge,{id:"name",placeholder:"e.g. Daily backup",...l("name"),className:h.name?"border-destructive":""}),h.name&&a.jsx("p",{className:"text-xs text-destructive",children:h.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"schedule",children:"Schedule (cron expression)"}),a.jsx(ge,{id:"schedule",placeholder:"e.g. 0 * * * * (hourly)",...l("schedule"),className:h.schedule?"border-destructive":""}),h.schedule&&a.jsx("p",{className:"text-xs text-destructive",children:h.schedule.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"description",children:"Description (optional)"}),a.jsx(ge,{id:"description",placeholder:"Optional description",...l("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"payload_json",children:"Payload (JSON)"}),a.jsx("textarea",{id:"payload_json",rows:4,placeholder:'{"key": "value"}',...l("payload_json"),className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-mono"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"session_target",children:"Session target"}),a.jsx(ge,{id:"session_target",placeholder:"Target session or channel",...l("session_target")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"isolation_setting",children:"Isolation"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Run job in isolated environment (sandbox)"})]}),a.jsx(Zr,{id:"isolation_setting",checked:g??!1,onCheckedChange:y=>u("isolation_setting",y)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Status"}),a.jsxs(Tt,{value:p??"active",onValueChange:y=>u("status",y),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"active",children:"Active"}),a.jsx(Ie,{value:"paused",children:"Paused"})]})]})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>v(!1),disabled:n,children:"Cancel"}),a.jsx($,{type:"submit",disabled:n,children:n?"Saving":o?"Save changes":"Create job"})]})]})]})})}const Jb={healthy:"Healthy",degraded:"Degraded",unknown:"Unknown",offline:"Offline"},dre={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},fre={paired:"success",offline:"destructive",error:"warning"};function IF({node:e,open:t,onOpenChange:r,onUpdateHealth:n,isUpdating:s=!1}){var u;const[i,o]=x.useState((e==null?void 0:e.connection_health)??"unknown");if(x.useEffect(()=>{e&&o(e.connection_health)},[e,t]),!e)return null;const l=e.connection_health,c=()=>{n==null||n(e.id,i),r(!1)};return a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(We,{className:"max-w-md","aria-describedby":"node-health-description",children:[a.jsxs(Ve,{children:[a.jsxs(He,{className:"flex items-center gap-2",children:[a.jsx(Oi,{className:"h-5 w-5"}),e.name??"Node","  Connection health"]}),a.jsx(Ke,{id:"node-health-description",children:"View and update node connection health and capabilities."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),a.jsx(nt,{variant:fre[e.status],children:e.status})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Current health:"}),a.jsxs(nt,{variant:dre[l],children:[l==="healthy"&&a.jsx(mS,{className:"mr-1 h-3 w-3"}),l==="offline"&&a.jsx(xI,{className:"mr-1 h-3 w-3"}),Jb[l]]})]}),(u=e.capabilities)!=null&&u.length?a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Capabilities"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.capabilities.map(d=>a.jsx(nt,{variant:"outline",className:"text-xs",children:d},d))})]}):null,n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Update connection health"}),a.jsxs(Tt,{value:i,onValueChange:d=>o(d),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsx(Nt,{children:Object.keys(Jb).map(d=>a.jsx(Ie,{value:d,children:Jb[d]},d))})]})]})]}),n&&a.jsxs(Qe,{children:[a.jsx($,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx($,{onClick:c,disabled:s||i===l,children:s?"Saving":"Save"})]})]})})}const hre={low:"Low",medium:"Medium",high:"High",critical:"Critical"},pre=[{value:"open",label:"Open"},{value:"acknowledged",label:"Acknowledged"},{value:"resolved",label:"Resolved"}];function mre({alert:e,open:t,onOpenChange:r,onResolve:n,isUpdating:s=!1}){if(!e)return null;const i=o=>{n==null||n(e.id,o),r(!1)};return a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(We,{className:"max-w-lg","aria-describedby":"alert-resolution-description",children:[a.jsxs(Ve,{children:[a.jsxs(He,{className:"flex items-center gap-2",children:[a.jsx(dc,{className:Z("h-5 w-5",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning")}),"Alert  ",e.type]}),a.jsx(Ke,{id:"alert-resolution-description",children:"Update resolution status for this security or audit finding."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{className:"rounded-md border border-border bg-secondary/30 p-3",children:a.jsx("p",{className:"text-sm",children:e.description})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Severity:"}),a.jsx("span",{className:Z("text-sm font-medium",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning"),children:hre[e.severity]})]}),n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Resolution status"}),a.jsxs(Tt,{value:e.resolution_status,onValueChange:o=>i(o),disabled:s,children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsx(Nt,{children:pre.map(o=>a.jsx(Ie,{value:o.value,children:o.label},o.value))})]})]})]}),a.jsxs(Qe,{children:[a.jsx($,{variant:"outline",onClick:()=>r(!1),children:"Close"}),n&&a.jsx($,{onClick:()=>i("resolved"),disabled:s||e.resolution_status==="resolved",children:s?"Updating":"Mark resolved"})]})]})})}const DO={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"},gre={running:"default",completed:"secondary",failed:"destructive",aborted:"warning"},vre={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"};function yre(){const[e,t]=x.useState(""),[r,n]=x.useState(""),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,p]=x.useState(null),[g,m]=x.useState(null),{data:v}=ax(),y=(v==null?void 0:v.user_id)??"",{data:b=[],isLoading:w}=dte({limit:20,type:r||void 0}),{data:S=[],isLoading:j}=hte({status:"running",limit:10}),{data:_=[],isLoading:N}=GL(),{data:k=[],isLoading:C}=QL(),{data:A=[],isLoading:I}=bte({resolution_status:"open"}),O=jte(),U=pte(),E=YL(),B=fte(),M=wte(),z=xte(),F=()=>{const R=e.trim();R&&O.mutate({message:R},{onSuccess:()=>t("")})},T=r?b.filter(R=>R.activity_type===r):b;return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active runs",value:S.length,icon:ca,href:"/chat"},{title:"Cron jobs",value:_.length,icon:Ty,href:"/cron"},{title:"Nodes",value:k.length,icon:Oi,href:"/nodes"},{title:"Alerts",value:A.length,icon:Dn,href:"/security"}].map(({title:R,value:J,icon:G,href:ie})=>a.jsx(me,{to:ie,children:a.jsxs(ee,{className:"transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(se,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:R}),a.jsx(G,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(re,{children:a.jsx("div",{className:"text-2xl font-bold",children:J})})]})},R))}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(ee,{className:"flex flex-col",children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(aS,{className:"h-5 w-5"}),"Recent activity"]}),a.jsxs("select",{value:r,onChange:R=>n(R.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter activity type",children:[a.jsx("option",{value:"",children:"All"}),Object.entries(DO).map(([R,J])=>a.jsx("option",{value:R,children:J},R))]})]}),a.jsx(re,{className:"flex-1 overflow-hidden",children:a.jsx(Pt,{className:"h-[280px] pr-4",children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(R=>a.jsx(be,{className:"h-14 w-full rounded-lg"},R))}):T.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity."}):a.jsx("ul",{className:"space-y-2",children:T.map(R=>a.jsx("li",{children:a.jsxs("div",{className:Z("rounded-lg border border-border bg-secondary/30 p-3 transition-colors hover:bg-secondary/50",s===R.id&&"ring-2 ring-ring"),children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 text-left",onClick:()=>i(s===R.id?null:R.id),"aria-expanded":s===R.id,children:[s===R.id?a.jsx(Nd,{className:"h-4 w-4 shrink-0"}):a.jsx(es,{className:"h-4 w-4 shrink-0"}),a.jsx(nt,{variant:"secondary",className:"text-xs",children:DO[R.activity_type]??R.activity_type}),a.jsx("span",{className:"flex-1 truncate text-sm text-muted-foreground",children:Dr(new Date(R.created_at),{addSuffix:!0})})]}),s===R.id&&a.jsx("div",{className:"mt-2 flex items-center gap-2 border-t border-border pt-2",children:a.jsx($,{variant:"outline",size:"sm",onClick:()=>l(R),children:"View details"})})]})},R.id))})})})]}),a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(kp,{className:"h-5 w-5"}),"Quick Run"]}),a.jsx(xe,{children:"Send a message to the default session or channel."})]}),a.jsx(re,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{type:"text",placeholder:"Type a command or message...",className:"flex-1",value:e,onChange:R=>t(R.target.value),onKeyDown:R=>R.key==="Enter"&&F(),"aria-label":"Quick run message"}),a.jsx($,{onClick:F,disabled:!e.trim()||O.isPending,children:O.isPending?a.jsx("span",{className:"animate-pulse",children:"Sending"}):a.jsx(Lu,{className:"h-4 w-4"})})]})})]})]}),a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(le,{children:"Active runs"}),a.jsx(xe,{children:"Stream and abort running jobs."})]}),a.jsx(re,{children:j?a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:"h-12 w-full rounded-lg"}),a.jsx(be,{className:"h-12 w-full rounded-lg"})]}):S.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No active runs."}):a.jsx("ul",{className:"space-y-2",children:S.map(R=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{variant:gre[R.status],children:R.status}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started ",Dr(new Date(R.start_time),{addSuffix:!0})]})]}),a.jsxs($,{variant:"destructive",size:"sm",onClick:()=>u(R),disabled:R.status!=="running",children:[a.jsx(lS,{className:"mr-1 h-4 w-4"}),"Abort"]})]},R.id))})})]}),a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs(ee,{children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(le,{children:"Cron overview"}),a.jsxs($,{size:"sm",onClick:()=>f(!0),children:[a.jsx(ar,{className:"mr-1 h-4 w-4"}),"Create job"]})]}),a.jsx(re,{children:N?a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:"h-10 w-full rounded-lg"}),a.jsx(be,{className:"h-10 w-full rounded-lg"})]}):_.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No cron jobs."}),a.jsx($,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(me,{to:"/cron",children:"Manage cron"})})]}):a.jsxs("ul",{className:"space-y-2",children:[_.slice(0,5).map(R=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:R.description||R.schedule}),a.jsx("p",{className:"text-xs text-muted-foreground",children:R.schedule})]}),a.jsx(nt,{variant:R.status==="active"?"default":"secondary",children:R.status})]},R.id)),_.length>5&&a.jsx("li",{children:a.jsx($,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs(me,{to:"/cron",children:["View all (",_.length,")"]})})})]})})]}),a.jsxs(ee,{children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(le,{children:"Nodes status"}),a.jsx($,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(me,{to:"/nodes",children:"Pair node"})})]}),a.jsx(re,{children:C?a.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[a.jsx(be,{className:"h-20 rounded-lg"}),a.jsx(be,{className:"h-20 rounded-lg"})]}):k.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes."}),a.jsx($,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(me,{to:"/nodes",children:"Pair node"})})]}):a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:k.map(R=>a.jsxs("button",{type:"button",className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3 text-left transition-colors hover:bg-secondary/50",onClick:()=>p(R),children:[a.jsx(Oi,{className:"h-8 w-8 shrink-0 text-muted-foreground"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:R.name??"Node"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(nt,{variant:vre[R.connection_health],className:"text-xs",children:[R.connection_health==="healthy"&&a.jsx(mS,{className:"mr-0.5 h-3 w-3"}),R.connection_health==="offline"&&a.jsx(xI,{className:"mr-0.5 h-3 w-3"}),R.connection_health]})})]})]},R.id))})})]})]}),a.jsxs(ee,{children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(dc,{className:"h-5 w-5 text-warning"}),"Skill alerts / audit findings"]}),a.jsx($,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(me,{to:"/security",children:"Run audit"})})]}),a.jsx(re,{children:I?a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:"h-12 w-full rounded-lg"}),a.jsx(be,{className:"h-12 w-full rounded-lg"})]}):A.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No alerts."}),a.jsx($,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(me,{to:"/security",children:"Run audit"})})]}):a.jsx("ul",{className:"space-y-2",children:A.map(R=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:R.type}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",children:R.description})]}),a.jsx(nt,{variant:R.severity==="critical"?"destructive":R.severity==="high"?"warning":"secondary",className:"shrink-0",children:R.severity}),a.jsx($,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>m(R),children:"Fix"})]},R.id))})})]}),a.jsx(_te,{activity:o,open:!!o,onOpenChange:R=>!R&&l(null),onDelete:R=>{B.mutate(R),l(null)}}),a.jsx(Ste,{run:c,open:!!c,onOpenChange:R=>!R&&u(null),onConfirm:R=>{U.mutate(R),u(null)},isAborting:U.isPending}),a.jsx(MF,{open:d,onOpenChange:f,onSubmit:R=>{"user_id"in R&&R.user_id!==void 0&&E.mutate(R)},isSubmitting:E.isPending,userId:y}),a.jsx(IF,{node:h,open:!!h,onOpenChange:R=>!R&&p(null),onUpdateHealth:(R,J)=>z.mutate({id:R,data:{connection_health:J}}),isUpdating:z.isPending}),a.jsx(mre,{alert:g,open:!!g,onOpenChange:R=>!R&&m(null),onResolve:(R,J)=>M.mutate({id:R,data:{resolution_status:J}}),isUpdating:M.isPending})]})}const ai={getSessions:async()=>{const{data:e,error:t}=await q.from("chat_sessions").select("*").order("started_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSession:async e=>{const{data:t,error:r}=await q.from("chat_sessions").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSession:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("chat_sessions").insert(r).select().single();if(s)throw new Error(s.message);return n},updateSession:async(e,t)=>{const{data:r,error:n}=await q.from("chat_sessions").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteSession:async e=>{const{error:t}=await q.from("chat_sessions").delete().eq("id",e);if(t)throw new Error(t.message)},getMessages:async(e,t)=>{let r=q.from("chat_messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},sendMessage:async e=>{const{data:t,error:r}=await q.from("chat_messages").insert(e).select().single();if(r)throw new Error(r.message);return t},getToolInvocations:async(e,t)=>{let r=q.from("tool_invocations").select("*").eq("session_id",e).order("created_at",{ascending:!1});t!=null&&t.messageId&&(r=r.eq("message_id",t.messageId)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createToolInvocation:async e=>{const{data:t,error:r}=await q.from("tool_invocations").insert(e).select().single();if(r)throw new Error(r.message);return t},updateToolInvocation:async(e,t)=>{const{data:r,error:n}=await q.from("tool_invocations").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},approveToolInvocation:async e=>ai.updateToolInvocation(e,{status:"approved"}),denyToolInvocation:async e=>ai.updateToolInvocation(e,{status:"denied"})};function xre(e,t){return e().catch(()=>t)}const An={all:["chat"],sessions:()=>[...An.all,"sessions"],session:e=>[...An.all,"session",e],messages:(e,t)=>[...An.all,"messages",e,t],toolInvocations:(e,t)=>[...An.all,"toolInvocations",e,t]};function bre(){return De({queryKey:An.sessions(),queryFn:()=>xre(()=>ai.getSessions(),[])})}function wre(e){return De({queryKey:An.session(e??""),queryFn:()=>e?ai.getSession(e):Promise.resolve(null),enabled:!!e})}function jre(){const e=_e();return Se({mutationFn:t=>ai.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:An.sessions()}),V.success("Session created")},onError:t=>{V.error(t.message||"Failed to create session")}})}function _re(){const e=_e();return Se({mutationFn:({id:t,data:r})=>ai.updateSession(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:An.sessions()}),e.invalidateQueries({queryKey:An.session(r)}),V.success("Session updated")},onError:t=>{V.error(t.message||"Failed to update session")}})}function Sre(e,t){return De({queryKey:An.messages(e??"",{limit:t}),queryFn:()=>e?ai.getMessages(e,{limit:t}):Promise.resolve([]),enabled:!!e})}function Nre(){const e=_e();return Se({mutationFn:t=>ai.sendMessage(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:An.messages(r.session_id)}),V.success("Message sent")},onError:t=>{V.error(t.message||"Failed to send message")}})}function kre(e,t){return De({queryKey:An.toolInvocations(e??"",t),queryFn:()=>e?ai.getToolInvocations(e,t):Promise.resolve([]),enabled:!!e})}function Cre(){const e=_e();return Se({mutationFn:({id:t,sessionId:r})=>ai.approveToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:An.toolInvocations(r)}),V.success("Tool output approved")},onError:t=>{V.error(t.message||"Failed to approve")}})}function Ere(){const e=_e();return Se({mutationFn:({id:t,sessionId:r})=>ai.denyToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:An.toolInvocations(r)}),V.success("Tool output denied")},onError:t=>{V.error(t.message||"Failed to deny")}})}function Ore({message:e,currentUserId:t}){const r=e.role==="user"||e.sender_id===t,n=e.role==="assistant"?"Assistant":e.role==="system"?"System":"You",s=Array.isArray(e.attachment_links)&&e.attachment_links.length>0;return a.jsxs("div",{className:Z("flex gap-3 rounded-lg p-3 transition-colors duration-200 hover:bg-card/80",r&&"flex-row-reverse"),"data-message-id":e.id,children:[a.jsx(Hy,{className:"h-8 w-8 shrink-0 rounded-full border border-border bg-secondary",children:a.jsx(Ky,{className:"text-xs text-muted-foreground",children:e.role==="assistant"?a.jsx(rI,{className:"h-4 w-4"}):a.jsx(Dy,{className:"h-4 w-4"})})}),a.jsxs("div",{className:Z("flex min-w-0 flex-1 flex-col gap-1",r&&"items-end"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-foreground",children:n}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Dr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsx("p",{className:"whitespace-pre-wrap break-words text-sm text-foreground",children:e.text}),s&&a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.attachment_links.map((i,o)=>a.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"rounded border border-border bg-secondary px-2 py-1 text-xs text-primary hover:underline",children:i.name??"Attachment"},o))})]})]})}function Pre({messages:e,isLoading:t,currentUserId:r,className:n}){const s=x.useRef(null);return x.useEffect(()=>{var i;(i=s.current)==null||i.scrollIntoView({behavior:"smooth"})},[e.length]),a.jsx(Pt,{className:Z("flex-1",n),"data-testid":"message-thread",children:a.jsx("div",{className:"space-y-1 p-4",children:t?a.jsx("div",{className:"flex flex-col gap-4 py-8",children:[1,2,3].map(i=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-muted animate-pulse"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-24 rounded bg-muted animate-pulse"}),a.jsx("div",{className:"h-4 w-full max-w-md rounded bg-muted animate-pulse"})]})]},i))}):e.length===0?a.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No messages yet. Send a message or use a slash command."}):e.map((i,o)=>a.jsx("div",{ref:o===e.length-1?s:void 0,children:a.jsx(Ore,{message:i,currentUserId:r})},i.id))})})}function Are({sessionId:e,onSend:t,onAttachClick:r,onToolSelect:n,disabled:s,isSending:i,availableTools:o=[],className:l}){const[c,u]=x.useState(""),[d,f]=x.useState(null),h=x.useCallback(g=>{g.preventDefault();const m=c.trim();!m||!e||(t(m,{toolName:d??void 0}),u(""),f(null))},[c,e,t,d]),p=!!(e&&c.trim()&&!s&&!i);return a.jsx("form",{onSubmit:h,className:Z("flex flex-col gap-2 border-t border-border bg-card p-4 transition-shadow duration-200",l),children:a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx($,{type:"button",variant:"ghost",size:"icon",onClick:r,disabled:s||!e,"aria-label":"Attach file",className:"shrink-0",children:a.jsx(CH,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsx(ge,{value:c,onChange:g=>u(g.target.value),placeholder:"Type a message...",disabled:s||!e,className:"min-h-10 flex-1 rounded-md border-input bg-background px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Message input"}),o.length>0&&a.jsxs(Tt,{value:d??"",onValueChange:g=>{f(g||null),g&&n&&n(g)},disabled:s||!e,children:[a.jsxs(St,{className:"w-full sm:w-[140px]","aria-label":"Select tool",children:[a.jsx(gS,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),a.jsx(Rt,{placeholder:"Tool"})]}),a.jsx(Nt,{children:o.map(g=>a.jsx(Ie,{value:g.id,children:g.name},g.id))})]})]}),a.jsx($,{type:"submit",size:"icon",disabled:!p,"aria-label":"Send message",className:"shrink-0 transition-transform hover:scale-105 active:scale-95",children:i?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsx(Lu,{className:"h-4 w-4"})})]})})}function Tre(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=x.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Rre(s,...t)]}function Rre(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var $re=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DF=$re.reduce((e,t)=>{const r=Cp(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),nN="Progress",sN=100,[Mre]=Tre(nN),[Ire,Dre]=Mre(nN),LF=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Lre,...o}=e;(s||s===0)&&!LO(s)&&console.error(Fre(`${s}`,"Progress"));const l=LO(s)?s:sN;n!==null&&!FO(n,l)&&console.error(Ure(`${n}`,"Progress"));const c=FO(n,l)?n:null,u=ov(c)?i(c,l):void 0;return a.jsx(Ire,{scope:r,value:c,max:l,children:a.jsx(DF.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ov(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":BF(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});LF.displayName=nN;var FF="ProgressIndicator",UF=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Dre(FF,r);return a.jsx(DF.div,{"data-state":BF(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});UF.displayName=FF;function Lre(e,t){return`${Math.round(e/t*100)}%`}function BF(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ov(e){return typeof e=="number"}function LO(e){return ov(e)&&!isNaN(e)&&e>0}function FO(e,t){return ov(e)&&!isNaN(e)&&e<=t&&e>=0}function Fre(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${sN}\`.`}function Ure(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${sN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var zF=LF,Bre=UF;const qF=x.forwardRef(({className:e,value:t,...r},n)=>a.jsx(zF,{ref:n,className:Z("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(Bre,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));qF.displayName=zF.displayName;const zre={pending:"secondary",running:"default",completed:"outline",failed:"destructive",approved:"outline",denied:"destructive"};function qre({invocation:e,onApprove:t,onDeny:r,className:n}){const s=e.status==="running",i=e.status==="completed"||e.status==="running",o=e.output&&typeof e.output=="object"?JSON.stringify(e.output,null,2):e.output!=null?String(e.output):"";return a.jsxs(ee,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover",n),"data-invocation-id":e.id,children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gS,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-semibold",children:e.tool_name}),a.jsx(nt,{variant:zre[e.status],className:"text-xs",children:e.status})]}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Dr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsxs(re,{className:"p-4",children:[s&&a.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Xn,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Running"}),a.jsx(qF,{value:void 0,className:"h-1.5 flex-1"})]}),o&&a.jsx("pre",{className:"max-h-48 overflow-auto rounded border border-border bg-secondary/50 p-3 text-xs text-foreground",children:o}),i&&t&&r&&a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs($,{size:"sm",variant:"outline",className:"gap-1.5",onClick:()=>r(e.id),children:[a.jsx(Fu,{className:"h-4 w-4"}),"Deny"]}),a.jsxs($,{size:"sm",className:"gap-1.5",onClick:()=>t(e.id),children:[a.jsx(Np,{className:"h-4 w-4"}),"Approve"]})]})]})]})}function Wre({session:e,sessions:t,onSelectSession:r,currentSessionId:n,routingTargets:s=[],className:i}){return a.jsxs("aside",{className:Z("flex w-full flex-col gap-4 lg:w-72 lg:shrink-0",i),"aria-label":"Chat sidebar",children:[a.jsxs(ee,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(se,{className:"pb-2",children:a.jsx(le,{className:"text-sm font-semibold",children:"Session"})}),a.jsxs(re,{className:"text-sm text-muted-foreground",children:[e?a.jsx("p",{className:"font-medium text-foreground",children:e.title}):a.jsx("p",{children:"Main session (default)"}),e&&a.jsxs("p",{className:"mt-1 text-xs",children:["Status: ",a.jsx(nt,{variant:"outline",children:e.status})]})]})]}),t.length>1&&a.jsxs(ee,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(se,{className:"pb-2",children:a.jsx(le,{className:"text-sm font-semibold",children:"Sessions"})}),a.jsx(re,{children:a.jsx(Pt,{className:"h-32",children:a.jsx("ul",{className:"space-y-1",children:t.slice(0,10).map(o=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>r(o.id),className:Z("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors",n===o.id?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx(kp,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:o.title})]})},o.id))})})})]}),a.jsxs(ee,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(se,{className:"pb-2",children:a.jsx(le,{className:"text-sm font-semibold",children:"Routing targets"})}),a.jsx(re,{className:"text-sm text-muted-foreground",children:s.length===0?a.jsx("p",{children:"No channels configured."}):a.jsx("ul",{className:"space-y-1",children:s.map(o=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(hI,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:o.name}),a.jsx(nt,{variant:"secondary",className:"text-xs",children:o.type})]},o.id))})})]})]})}function Vre({traces:e,isLoading:t,onExport:r,className:n}){const[s,i]=x.useState(!1);return a.jsxs(ee,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",n),children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(le,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[r&&a.jsx($,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Export trace",children:a.jsx(oi,{className:"h-4 w-4"})}),a.jsx($,{variant:"ghost",size:"icon",onClick:()=>i(o=>!o),"aria-label":s?"Collapse":"Expand",children:s?a.jsx(Nd,{className:"h-4 w-4"}):a.jsx(iI,{className:"h-4 w-4"})})]})]}),s&&a.jsx(re,{className:"p-0",children:a.jsx(Pt,{className:"h-48",children:a.jsx("div",{className:"space-y-1 p-2",children:t?a.jsx("div",{className:"flex flex-col gap-2 py-4",children:[1,2,3].map(o=>a.jsx("div",{className:"h-8 w-full rounded bg-muted animate-pulse"},o))}):e.length===0?a.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No active run."}):e.map(o=>a.jsxs("div",{className:"rounded border border-border bg-secondary/30 px-3 py-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium",children:o.type}),a.jsx("span",{className:"text-muted-foreground",children:o.timestamp})]}),a.jsx("p",{className:"mt-1 text-muted-foreground",children:o.summary})]},o.id))})})})]})}function Hre({open:e,onOpenChange:t,attachments:r,onAdd:n,onRemove:s,onConfirm:i,maxAttachments:o=5,className:l}){const[c,u]=x.useState(""),[d,f]=x.useState(""),h=()=>{const g=c.trim();!g||r.length>=o||(n(g,d.trim()||void 0),u(""),f(""))},p=()=>{i(),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:Z("max-w-[640px]",l),"aria-describedby":"attachment-modal-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Manage attachments"}),a.jsxs(Ke,{id:"attachment-modal-description",children:["Add links or URLs to attach to your message. You can add up to"," ",o," attachments."]})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(Q,{htmlFor:"attach-url",children:"URL"}),a.jsx(ge,{id:"attach-url",type:"url",placeholder:"https://...",value:c,onChange:g=>u(g.target.value),className:"rounded-md border-input"})]}),a.jsxs("div",{className:"w-32 space-y-2",children:[a.jsx(Q,{htmlFor:"attach-name",children:"Name (optional)"}),a.jsx(ge,{id:"attach-name",placeholder:"Label",value:d,onChange:g=>f(g.target.value),className:"rounded-md border-input"})]}),a.jsx($,{type:"button",variant:"secondary",size:"icon",onClick:h,disabled:!c.trim()||r.length>=o,className:"mt-6 shrink-0","aria-label":"Add attachment",children:a.jsx(yI,{className:"h-4 w-4"})})]}),r.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{children:["Attachments (",r.length,"/",o,")"]}),a.jsx(Pt,{className:"h-32 rounded-md border border-border p-2",children:a.jsx("ul",{className:"space-y-1",children:r.map((g,m)=>a.jsxs("li",{className:"flex items-center justify-between rounded bg-secondary/50 px-2 py-1.5 text-sm",children:[a.jsx("span",{className:"truncate",children:g.name??g.url}),a.jsx($,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(m),"aria-label":"Remove attachment",children:a.jsx(Fu,{className:"h-4 w-4"})})]},m))})})]})]}),a.jsxs(Qe,{children:[a.jsx($,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx($,{onClick:p,children:"Done"})]})]})})}const Kre={new:"Start new session",reset:"Reset session",stop:"Stop session"},Gre={new:"Start a new chat session. Your current session will remain in the list.",reset:"Clear all messages in this session. This cannot be undone.",stop:"Pause the current session. You can resume later."};function Yre({open:e,onOpenChange:t,action:r,onConfirm:n,isLoading:s,className:i}){if(!r)return null;const o=()=>{n(r),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:Z("max-w-[640px]",i),"aria-describedby":"session-dialog-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:Kre[r]}),a.jsx(Ke,{id:"session-dialog-description",children:Gre[r]})]}),a.jsxs(Qe,{children:[a.jsx($,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx($,{onClick:o,disabled:s,children:s?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsxs(a.Fragment,{children:[r==="new"&&a.jsx(ar,{className:"mr-1.5 h-4 w-4"}),r==="reset"&&a.jsx(pI,{className:"mr-1.5 h-4 w-4"}),r==="stop"&&a.jsx(Nh,{className:"mr-1.5 h-4 w-4"}),"Confirm"]})})]})]})})}const Qre=[{id:"browser",name:"Browser",description:"Fetch and summarize URLs"},{id:"search",name:"Search",description:"Web search"},{id:"code",name:"Code",description:"Run code snippets"}];function Xre(){const{data:e}=ax(),t=(e==null?void 0:e.user_id)??null,[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState([]),[h,p]=x.useState([]),{data:g=[],isLoading:m}=bre(),{data:v}=wre(r),{data:y=[],isLoading:b}=Sre(r,200),{data:w=[]}=kre(r,{limit:20}),S=jre(),j=_re(),_=Nre(),N=Cre(),k=Ere();x.useEffect(()=>{if(!m){if(g.length>0&&!r){n(g[0].id);return}g.length===0&&S.mutate({title:"New session"},{onSuccess:E=>n(E.id)})}},[m,g.length,g,r,S]);const C=x.useCallback((E,B)=>{r&&_.mutate({session_id:r,sender_id:t??void 0,role:"user",text:E,attachment_links:(B==null?void 0:B.attachmentUrls)??d},{onSuccess:()=>f([])})},[r,t,d,_]),A=x.useCallback(E=>{E==="new"?S.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:B=>{n(B.id),l(!1),i(null)}}):E==="reset"&&r?S.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:B=>{n(B.id),l(!1),i(null)}}):E==="stop"&&r&&j.mutate({id:r,data:{status:"paused"}},{onSuccess:()=>{l(!1),i(null)}})},[r,S,j]),I=x.useCallback(E=>{r&&N.mutate({id:E,sessionId:r})},[r,N]),O=x.useCallback(E=>{r&&k.mutate({id:E,sessionId:r})},[r,k]),U=E=>{i(E),l(!0)};return a.jsxs("div",{className:"flex h-[calc(100vh-8rem)] flex-col gap-4 animate-fade-in-up",children:[a.jsxs("header",{className:"flex items-center justify-between gap-4",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Chat Session"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($,{variant:"outline",size:"sm",onClick:()=>U("new"),className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(ar,{className:"h-4 w-4"}),"/new"]}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>U("reset"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(pI,{className:"h-4 w-4"}),"/reset"]}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>U("stop"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(Nh,{className:"h-4 w-4"}),"/stop"]})]})]}),a.jsxs("div",{className:"grid flex-1 gap-4 overflow-hidden lg:grid-cols-3",children:[a.jsxs("div",{className:"flex min-h-0 flex-col lg:col-span-2",children:[a.jsxs(ee,{className:"flex flex-1 flex-col overflow-hidden rounded-lg border border-border bg-card shadow-card",children:[a.jsx(Pre,{messages:y,isLoading:b,currentUserId:t,className:"min-h-0"}),a.jsx(Are,{sessionId:r,onSend:C,onAttachClick:()=>u(!0),disabled:!r,isSending:_.isPending,availableTools:Qre})]}),w.length>0&&a.jsx(Pt,{className:"mt-4 max-h-64 rounded-lg border border-border bg-card p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Tool invocations"}),w.map(E=>a.jsx(qre,{invocation:E,onApprove:I,onDeny:O},E.id))]})})]}),a.jsxs("div",{className:"flex min-h-0 flex-col gap-4 overflow-auto",children:[a.jsx(Wre,{session:v??null,sessions:g,onSelectSession:n,currentSessionId:r,routingTargets:[]}),a.jsx(Vre,{traces:h,onExport:()=>p([])})]})]}),a.jsx(Hre,{open:c,onOpenChange:u,attachments:d,onAdd:(E,B)=>f(M=>[...M,{url:E,name:B}]),onRemove:E=>f(B=>B.filter((M,z)=>z!==E)),onConfirm:()=>{},maxAttachments:5}),a.jsx(Yre,{open:o,onOpenChange:l,action:s,onConfirm:A,isLoading:S.isPending||j.isPending})]})}const Qo={getChannels:async()=>{const{data:e,error:t}=await q.from("channels").select("*").order("last_event_at",{ascending:!1,nullsFirst:!1});if(t)throw new Error(t.message);return e??[]},getChannel:async e=>{const{data:t,error:r}=await q.from("channels").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createChannel:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("channels").insert(r).select().single();if(s)throw new Error(s.message);return n},updateChannel:async(e,t)=>{const{data:r,error:n}=await q.from("channels").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteChannel:async e=>{const{error:t}=await q.from("channels").delete().eq("id",e);if(t)throw new Error(t.message)},getAdapterConfig:async e=>{const{data:t,error:r}=await q.from("adapter_configurations").select("*").eq("channel_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertAdapterConfig:async e=>{const t=await Qo.getAdapterConfig(e.channel_id);if(t){const{data:i,error:o}=await q.from("adapter_configurations").update({dm_policy:e.dm_policy,group_policy:e.group_policy,mention_gating:e.mention_gating,webhook_url:e.webhook_url??t.webhook_url,polling_interval_seconds:e.polling_interval_seconds??t.polling_interval_seconds}).eq("channel_id",e.channel_id).select().single();if(o)throw new Error(o.message);return i}const r={channel_id:e.channel_id,dm_policy:e.dm_policy??"pairing",group_policy:e.group_policy??"mention",mention_gating:e.mention_gating??!0,webhook_url:e.webhook_url??null,polling_interval_seconds:e.polling_interval_seconds??null},{data:n,error:s}=await q.from("adapter_configurations").insert(r).select().single();if(s)throw new Error(s.message);return n},updateAdapterConfig:async(e,t)=>{const{data:r,error:n}=await q.from("adapter_configurations").update(t).eq("channel_id",e).select().single();if(n)throw new Error(n.message);return r},getDeliveryLogs:async(e,t)=>{if(!e)return[];let r=q.from("delivery_logs").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.eventType&&(r=r.eq("event_type",t.eventType)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createDeliveryLog:async e=>{const{data:t,error:r}=await q.from("delivery_logs").insert(e).select().single();if(r)throw new Error(r.message);return t}};function Jre(e,t){return e().catch(()=>t)}const ms={all:["channels"],list:()=>[...ms.all,"list"],detail:e=>[...ms.all,"detail",e],adapterConfig:e=>[...ms.all,"adapterConfig",e],deliveryLogs:(e,t)=>[...ms.all,"deliveryLogs",e,t]};function Zre(){return De({queryKey:ms.list(),queryFn:()=>Jre(()=>Qo.getChannels(),[])})}function ene(e){return De({queryKey:ms.detail(e??""),queryFn:()=>e?Qo.getChannel(e):Promise.resolve(null),enabled:!!e})}function tne(){const e=_e();return Se({mutationFn:t=>Qo.createChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:ms.list()}),V.success("Channel added")},onError:t=>{V.error(t.message||"Failed to add channel")}})}function rne(){const e=_e();return Se({mutationFn:t=>Qo.deleteChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:ms.list()}),V.success("Channel removed")},onError:t=>{V.error(t.message||"Failed to remove channel")}})}function nne(e){return De({queryKey:ms.adapterConfig(e??""),queryFn:()=>e?Qo.getAdapterConfig(e):Promise.resolve(null),enabled:!!e})}function sne(){const e=_e();return Se({mutationFn:t=>Qo.upsertAdapterConfig(t),onSuccess:(t,r)=>{const n=r.channel_id;e.invalidateQueries({queryKey:ms.adapterConfig(n)}),e.invalidateQueries({queryKey:ms.detail(n)}),V.success("Channel config saved")},onError:t=>{V.error(t.message||"Failed to save config")}})}function ine(e,t){return De({queryKey:ms.deliveryLogs(e,t),queryFn:()=>e?Qo.getDeliveryLogs(e,t):Promise.resolve([]),enabled:!!e})}const Zb={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},ane=Et({provider:gr(["whatsapp","telegram","slack","discord"]),display_name:Pe().optional()}),one=Et({retrieval_mode:gr(["webhook","polling"]),webhook_url:Pe().url().optional().or(eN("")),polling_interval_seconds:Xs.number().min(30).max(3600).optional()}),lne=[{id:1,title:"Provider",description:"Select chat provider"},{id:2,title:"Retrieval",description:"Webhook or polling"},{id:3,title:"Provision",description:"QR or code if needed"},{id:4,title:"Confirm",description:"Finish setup"}];function cne({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const[s,i]=x.useState(1),o=kt({resolver:Ct(ane),defaultValues:{provider:"telegram",display_name:""}}),l=kt({resolver:Ct(one),defaultValues:{retrieval_mode:"webhook",webhook_url:"",polling_interval_seconds:60}}),c=o.watch("provider"),u=l.watch("retrieval_mode"),d=async()=>{if(!(s===1&&!await o.trigger())&&!(s===2&&!await l.trigger())){if(s===4){const p=o.getValues(),g=l.getValues();r({provider:p.provider,display_name:p.display_name||null,webhook_url:u==="webhook"&&g.webhook_url?g.webhook_url:null,polling_interval_seconds:u==="polling"?g.polling_interval_seconds??60:null}),t(!1),i(1),o.reset(),l.reset();return}i(p=>p+1)}},f=()=>{s>1&&i(p=>p-1)},h=p=>{p||(i(1),o.reset(),l.reset()),t(p)};return a.jsx(Ge,{open:e,onOpenChange:h,children:a.jsxs(We,{className:"max-w-lg","aria-describedby":"add-channel-wizard-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Add channel"}),a.jsx(Ke,{id:"add-channel-wizard-description",children:"Connect a chat channel adapter. Follow the steps to complete setup."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:lne.map(p=>a.jsx("div",{className:Z("h-1 flex-1 rounded-full transition-colors",p.id<=s?"bg-primary":"bg-muted"),"aria-hidden":!0},p.id))}),s===1&&a.jsxs("form",{id:"wizard-step1",className:"space-y-4 py-4",onSubmit:o.handleSubmit(()=>i(2)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Provider"}),a.jsxs(Tt,{value:c,onValueChange:p=>o.setValue("provider",p),children:[a.jsx(St,{children:a.jsx(Rt,{placeholder:"Select provider"})}),a.jsx(Nt,{children:Object.keys(Zb).map(p=>a.jsx(Ie,{value:p,children:Zb[p]},p))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"display_name",children:"Display name (optional)"}),a.jsx(ge,{id:"display_name",placeholder:"e.g. Team Telegram",...o.register("display_name")})]})]}),s===2&&a.jsxs("form",{id:"wizard-step2",className:"space-y-4 py-4",onSubmit:l.handleSubmit(()=>i(3)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Message retrieval"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"webhook",checked:u==="webhook",onChange:()=>l.setValue("retrieval_mode","webhook"),className:"h-4 w-4 accent-primary"}),a.jsx(hI,{className:"h-4 w-4"}),"Webhook"]}),a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"polling",checked:u==="polling",onChange:()=>l.setValue("retrieval_mode","polling"),className:"h-4 w-4 accent-primary"}),a.jsx(ng,{className:"h-4 w-4"}),"Polling"]})]})]}),u==="webhook"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"webhook_url",children:"Webhook URL"}),a.jsx(ge,{id:"webhook_url",placeholder:"https://...",...l.register("webhook_url")}),l.formState.errors.webhook_url&&a.jsx("p",{className:"text-xs text-destructive",children:l.formState.errors.webhook_url.message})]}),u==="polling"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"polling_interval_seconds",children:"Polling interval (seconds)"}),a.jsx(ge,{id:"polling_interval_seconds",type:"number",min:30,max:3600,...l.register("polling_interval_seconds")})]})]}),s===3&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-border bg-card/50 p-8",children:[a.jsx(pS,{className:"mb-4 h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:c==="whatsapp"||c==="telegram"?"Scan the QR code with your app to link this channel. You can also use the pairing code shown in the next step.":"Complete OAuth in the provider dashboard if required, then continue."}),a.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Provisioning step is simulated. In production, QR and codes are generated by the gateway."})]})}),s===4&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4 text-sm",children:[a.jsx("p",{className:"font-medium",children:Zb[c]}),o.getValues("display_name")&&a.jsx("p",{className:"text-muted-foreground",children:o.getValues("display_name")}),a.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Retrieval: ",l.getValues("retrieval_mode")==="webhook"?"Webhook":"Polling"]})]})}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[s>1?a.jsxs($,{type:"button",variant:"outline",onClick:f,disabled:n,children:[a.jsx(sI,{className:"mr-2 h-4 w-4"}),"Back"]}):a.jsx("div",{}),a.jsx($,{type:"button",onClick:d,disabled:n,children:s===4?n?"Adding":"Add channel":a.jsxs(a.Fragment,{children:["Next",a.jsx(es,{className:"ml-2 h-4 w-4"})]})})]})]})})}const une=Et({dm_policy:gr(["pairing","allowlist","open","disabled"]),group_policy:gr(["mention","open","disabled"]),mention_gating:Ho()}),UO={pairing:"Pairing required",allowlist:"Allowlist only",open:"Open to all",disabled:"Disabled"},BO={mention:"Mention required",open:"Open to all",disabled:"Disabled"};function dne({open:e,onOpenChange:t,channelId:r,channelName:n,config:s,onSubmit:i,isSubmitting:o=!1}){const l={dm_policy:(s==null?void 0:s.dm_policy)??"pairing",group_policy:(s==null?void 0:s.group_policy)??"mention",mention_gating:(s==null?void 0:s.mention_gating)??!0},{handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h,isDirty:p}}=kt({resolver:Ct(une),defaultValues:l}),g=d("mention_gating");x.useEffect(()=>{e&&s&&f({dm_policy:s.dm_policy,group_policy:s.group_policy,mention_gating:s.mention_gating})},[e,s,f]);const m=y=>{i(y),f(y),t(!1)},v=y=>{y||f(l),t(y)};return a.jsx(Ge,{open:e,onOpenChange:v,children:a.jsxs(We,{className:"max-w-lg","aria-describedby":"channel-policy-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Channel policy"}),a.jsx(Ke,{id:"channel-policy-description",children:n?`DM and group policies for ${n}`:"Set DM policy, group policy, and mention gating for this channel."})]}),a.jsxs("form",{id:"channel-policy-form",onSubmit:c(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"DM policy"}),a.jsxs(Tt,{value:d("dm_policy"),onValueChange:y=>u("dm_policy",y,{shouldDirty:!0}),children:[a.jsx(St,{className:Z(h.dm_policy&&"border-destructive"),children:a.jsx(Rt,{placeholder:"Select DM policy"})}),a.jsx(Nt,{children:Object.keys(UO).map(y=>a.jsx(Ie,{value:y,children:UO[y]},y))})]}),h.dm_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.dm_policy.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Group policy"}),a.jsxs(Tt,{value:d("group_policy"),onValueChange:y=>u("group_policy",y,{shouldDirty:!0}),children:[a.jsx(St,{className:Z(h.group_policy&&"border-destructive"),children:a.jsx(Rt,{placeholder:"Select group policy"})}),a.jsx(Nt,{children:Object.keys(BO).map(y=>a.jsx(Ie,{value:y,children:BO[y]},y))})]}),h.group_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.group_policy.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"mention_gating",children:"Mention gating"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Require @mention in groups to trigger the agent"})]}),a.jsx(Zr,{id:"mention_gating",checked:g,onCheckedChange:y=>u("mention_gating",y,{shouldDirty:!0})})]})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),a.jsx($,{type:"submit",form:"channel-policy-form",disabled:!p||o,children:o?"Saving":"Save"})]})]})})}function fne({open:e,onOpenChange:t,log:r}){return r?a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-lg","aria-describedby":"delivery-error-description",children:[a.jsxs(Ve,{children:[a.jsxs(He,{className:"flex items-center gap-2",children:[a.jsx(uc,{className:"h-5 w-5 text-destructive"}),"Delivery error details"]}),a.jsxs(Ke,{id:"delivery-error-description",children:["Event: ",r.event_type,"  ",r.success?"Succeeded":"Failed"," "," ",KL(new Date(r.created_at),"PPp")]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Error details"}),a.jsx("pre",{className:"mt-2 max-h-48 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-sm",children:r.error_details??"No error message recorded."})]}),r.metadata&&Object.keys(r.metadata).length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Metadata"}),a.jsx("pre",{className:"mt-2 max-h-32 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-xs",children:JSON.stringify(r.metadata,null,2)})]})]})]})}):null}const zO={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},hne={active:"success",inactive:"secondary",error:"destructive",provisioning:"warning"};function pne(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,f]=x.useState(""),{data:h=[],isLoading:p}=Zre(),{data:g}=ene(r),{data:m}=nne(r),{data:v=[]}=ine(r,{limit:50}),y=tne(),b=rne(),w=sne(),S=async N=>{const k=await y.mutateAsync({provider:N.provider,display_name:N.display_name,status:"provisioning"});await w.mutateAsync({channel_id:k.id,dm_policy:"pairing",group_policy:"mention",mention_gating:!0,webhook_url:N.webhook_url??null,polling_interval_seconds:N.polling_interval_seconds??null}),n(k.id),t(!1)},j=N=>{r&&w.mutate({channel_id:r,dm_policy:N.dm_policy,group_policy:N.group_policy,mention_gating:N.mention_gating})},_=N=>{l(N),u(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Channels & Adapters"}),a.jsxs($,{onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}),a.jsxs(Ko,{defaultValue:"channels",className:"space-y-4",children:[a.jsxs(Ta,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsx(Vt,{value:"channels",children:"Channels"}),a.jsx(Vt,{value:"logs",children:"Delivery logs"}),a.jsx(Vt,{value:"test",children:"Test console"})]}),a.jsx(Ht,{value:"channels",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Channels list"}),a.jsx(xe,{children:"Manage chat channel adapters and per-channel policies."})]}),a.jsx(re,{children:p?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>a.jsx(be,{className:"h-16 w-full rounded-lg"},N))}):h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ng,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No channels added. Use Add Channel to connect WhatsApp, Telegram, Slack, or Discord."}),a.jsxs($,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}):a.jsx(Pt,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:h.map(N=>a.jsxs("div",{className:Z("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",r===N.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>n(N.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(ng,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.display_name||zO[N.provider]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[zO[N.provider],N.last_event_at&&`  Last event ${Dr(new Date(N.last_event_at),{addSuffix:!0})}`]})]}),a.jsx(nt,{variant:hne[N.status],className:"shrink-0",children:N.status}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.success_rate.toFixed(0),"% success"]})]}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsxs($,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(Gl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(wa,{align:"end",children:[a.jsxs(pr,{onClick:()=>{n(N.id),i(!0)},children:[a.jsx(ua,{className:"mr-2 h-4 w-4"}),"Configure policy"]}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this channel?")&&(b.mutate(N.id),r===N.id&&n(null))},children:[a.jsx(js,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},N.id))})})})]}),a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Channel config"}),a.jsx(xe,{children:"DM policy, group policy, mention gating."})]}),a.jsx(re,{children:r?a.jsx("div",{className:"space-y-4",children:m===void 0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:"h-10 w-full"}),a.jsx(be,{className:"h-10 w-full"}),a.jsx(be,{className:"h-12 w-full"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"DM policy"}),a.jsx("span",{className:"font-medium capitalize",children:(m==null?void 0:m.dm_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Group policy"}),a.jsx("span",{className:"font-medium capitalize",children:(m==null?void 0:m.group_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Mention gating"}),a.jsx("span",{className:"font-medium",children:m!=null&&m.mention_gating?"On":"Off"})]})]}),a.jsxs($,{variant:"outline",className:"w-full",onClick:()=>i(!0),children:[a.jsx(ua,{className:"mr-2 h-4 w-4"}),"Edit policy"]})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ua,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel to configure."})]})})]})]})}),a.jsx(Ht,{value:"logs",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(le,{children:"Delivery logs"}),a.jsxs(xe,{children:["Recent inbound/outbound events",r&&" for selected channel"]})]}),a.jsx(re,{children:r?v.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Mo,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No delivery logs yet."})]}):a.jsx(Pt,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-2",children:v.map(N=>a.jsx("div",{className:Z("flex items-center justify-between rounded-lg border p-3 text-sm",N.success?"border-border":"border-destructive/50 bg-destructive/5"),children:a.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[N.success?a.jsx(Mo,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx($y,{className:"h-4 w-4 shrink-0 text-destructive"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.event_type}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Dr(new Date(N.created_at),{addSuffix:!0})})]}),!N.success&&N.error_details&&a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>_(N),className:"shrink-0",children:[a.jsx(My,{className:"mr-1 h-4 w-4"}),"Details"]})]})},N.id))})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ng,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to view delivery logs."})]})})]})}),a.jsx(Ht,{value:"test",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(le,{children:"Test console"}),a.jsx(xe,{children:"Send test messages through the selected channel."})]}),a.jsx(re,{children:r?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{htmlFor:"test-message",className:"text-sm font-medium",children:"Test message"}),a.jsx(ge,{id:"test-message",placeholder:"Type a message to send...",value:d,onChange:N=>f(N.target.value),className:"min-h-[80px]"})]}),a.jsxs($,{disabled:!d.trim(),onClick:()=>{f("")},children:[a.jsx(Lu,{className:"mr-2 h-4 w-4"}),"Send test message"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Test messages are sent through the gateway. Roundtrip and errors appear in Delivery logs."})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Lu,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to test."})]})})]})})]}),a.jsx(cne,{open:e,onOpenChange:t,onSubmit:S,isSubmitting:y.isPending||w.isPending}),a.jsx(dne,{open:s,onOpenChange:i,channelId:r??"",channelName:(g==null?void 0:g.display_name)??(g==null?void 0:g.provider),config:m??null,onSubmit:j,isSubmitting:w.isPending}),a.jsx(fne,{open:c,onOpenChange:u,log:o})]})}function mne(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skills Library"}),a.jsx($,{variant:"outline",asChild:!0,children:a.jsxs(me,{to:"/skill-editor",children:[a.jsx(oS,{className:"mr-2 h-4 w-4"}),"Skill Editor"]})})]}),a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(le,{children:"Installed skills"}),a.jsx(xe,{children:"Enable/disable and manage local skills."})]}),a.jsx(re,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills installed. Browse the registry below."})})]}),a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(le,{children:"Registry browser"}),a.jsx(xe,{children:"Browse and install skills from the registry."})]}),a.jsxs(re,{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(gI,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{placeholder:"Search skills...",className:"pl-9"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No results. (Registry integration placeholder.)"})]})]}),a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(le,{children:"Skill detail"}),a.jsx(xe,{children:"SKILL.md render, frontmatter, permissions, provenance. Install flow: gating checks, env prompts."})]}),a.jsx(re,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to view details."})})]})]})}const Un="/skills",Ra={list:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return je.get(`${Un}${t?`?${t}`:""}`)},get:e=>je.get(`${Un}/${e}`),create:e=>je.post(Un,e),update:(e,t)=>je.patch(`${Un}/${e}`,t),delete:e=>je.delete(`${Un}/${e}`),getTestRuns:(e,t)=>{const r=t?new URLSearchParams(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)])).toString():"";return je.get(`${Un}/${e}/test-runs${r?`?${r}`:""}`)},getTestRun:(e,t)=>je.get(`${Un}/${e}/test-runs/${t}`),runTest:(e,t)=>je.post(`${Un}/${e}/test-run`,t??{}),abortTestRun:(e,t)=>je.post(`${Un}/${e}/test-runs/${t}/abort`,{}),checkRequirements:e=>je.get(`${Un}/${e}/check-requirements`),getVersions:e=>je.get(`${Un}/${e}/versions`),createVersion:(e,t)=>je.post(`${Un}/${e}/versions`,t),commit:(e,t)=>je.post(`${Un}/${e}/commit`,t)};function ux(e,t){return e().catch(()=>t)}const Qr={all:["skills"],list:e=>[...Qr.all,"list",e],detail:e=>[...Qr.all,"detail",e],testRuns:(e,t)=>[...Qr.all,"test-runs",e,t],testRun:(e,t)=>[...Qr.all,"test-run",e,t],versions:e=>[...Qr.all,"versions",e],gating:e=>[...Qr.all,"gating",e]};function gne(e){return De({queryKey:Qr.list(e),queryFn:()=>ux(()=>Ra.list(e),[])})}function vne(e){return De({queryKey:Qr.detail(e??""),queryFn:()=>e?ux(()=>Ra.get(e),null):Promise.resolve(null),enabled:!!e})}function yne(){const e=_e();return Se({mutationFn:t=>Ra.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.list()}),V.success("Skill created")},onError:t=>{V.error(t.message||"Failed to create skill")}})}function xne(){const e=_e();return Se({mutationFn:({id:t,data:r})=>Ra.update(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Qr.list()}),e.invalidateQueries({queryKey:Qr.detail(r)}),V.success("Skill saved")},onError:t=>{V.error(t.message||"Failed to save skill")}})}function bne(e,t){return De({queryKey:Qr.testRuns(e??"",t),queryFn:()=>e?ux(()=>Ra.getTestRuns(e,t),[]):Promise.resolve([]),enabled:!!e})}function wne(){const e=_e();return Se({mutationFn:({skillId:t,payload:r})=>Ra.runTest(t,r),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:Qr.testRuns(r)}),V.success("Test run started")},onError:t=>{V.error(t.message||"Failed to run skill test")}})}function jne(e){return De({queryKey:Qr.versions(e??""),queryFn:()=>e?ux(()=>Ra.getVersions(e),[]):Promise.resolve([]),enabled:!!e})}function _ne(e){return De({queryKey:Qr.gating(e??""),queryFn:()=>e?Ra.checkRequirements(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}function Sne(){const e=_e();return Se({mutationFn:({skillId:t,message:r,sign:n})=>Ra.commit(t,{message:r,sign:n}),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:Qr.detail(r)}),e.invalidateQueries({queryKey:Qr.versions(r)}),V.success("Changes committed")},onError:t=>{V.error(t.message||"Failed to commit")}})}const Nne=Et({name:Pe().min(1,"Name is required"),version:Pe().min(1,"Version is required"),description:Pe().optional(),permissions:Pe().optional(),env_keys:Pe().optional()}),ew={name:"",version:"1.0.0",description:"",permissions:"",env_keys:""};function kne({open:e,onOpenChange:t,initialValues:r,onSubmit:n,isSubmitting:s=!1}){const i=()=>({...ew,name:(r==null?void 0:r.name)??"",version:(r==null?void 0:r.version)??"1.0.0",description:(r==null?void 0:r.description)??"",permissions:Array.isArray(r==null?void 0:r.permissions)?r.permissions.join(", "):(r==null?void 0:r.permissions)??"",env_keys:r!=null&&r.env_keys?typeof r.env_keys=="object"?Object.keys(r.env_keys).join(", "):String(r.env_keys):""}),{register:o,handleSubmit:l,reset:c,formState:{errors:u}}=kt({resolver:Ct(Nne),defaultValues:i()});x.useEffect(()=>{e&&c(i())},[e]);const d=h=>{const p={name:h.name,version:h.version,description:h.description||void 0,permissions:h.permissions?h.permissions.split(",").map(g=>g.trim()).filter(Boolean):void 0,env_keys:h.env_keys?h.env_keys.split(",").map(g=>g.trim()).filter(Boolean):void 0};n(p),c(ew),t(!1)},f=h=>{h||c(ew),t(h)};return a.jsx(Ge,{open:e,onOpenChange:f,children:a.jsxs(We,{className:"max-w-lg","aria-describedby":"frontmatter-dialog-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Edit frontmatter"}),a.jsx(Ke,{id:"frontmatter-dialog-description",children:"YAML frontmatter fields for SKILL.md (name, version, permissions, env)."})]}),a.jsxs("form",{onSubmit:l(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"frontmatter-name",children:"Name"}),a.jsx(ge,{id:"frontmatter-name",placeholder:"skill-name",...o("name"),className:Z(u.name&&"border-destructive")}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"frontmatter-version",children:"Version"}),a.jsx(ge,{id:"frontmatter-version",placeholder:"1.0.0",...o("version"),className:Z(u.version&&"border-destructive")}),u.version&&a.jsx("p",{className:"text-xs text-destructive",children:u.version.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"frontmatter-description",children:"Description (optional)"}),a.jsx(ge,{id:"frontmatter-description",placeholder:"Short description",...o("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"frontmatter-permissions",children:"Permissions (comma-separated)"}),a.jsx(ge,{id:"frontmatter-permissions",placeholder:"network, exec, read",...o("permissions")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"frontmatter-env",children:"Env keys (comma-separated)"}),a.jsx(ge,{id:"frontmatter-env",placeholder:"API_KEY, GMAIL_CREDENTIALS",...o("env_keys")})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx($,{type:"submit",disabled:s,children:s?"Saving":"Save"})]})]})]})})}const Cne=Et({message:Pe().optional(),sign:Ho().optional()}),tw={message:"",sign:!1};function Ene({open:e,onOpenChange:t,skillName:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,watch:l,setValue:c,reset:u,formState:{errors:d}}=kt({resolver:Ct(Cne),defaultValues:tw}),f=l("sign"),h=g=>{n({message:g.message||void 0,sign:g.sign}),u(tw),t(!1)},p=g=>{g||u(tw),t(g)};return a.jsx(Ge,{open:e,onOpenChange:p,children:a.jsxs(We,{className:"max-w-lg","aria-describedby":"commit-dialog-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Commit changes"}),a.jsx(Ke,{id:"commit-dialog-description",children:r?`Finalize and commit changes for "${r}". Optionally sign the package.`:"Finalize and commit your skill. Optionally sign the package."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"commit-message",children:"Commit message (optional)"}),a.jsx(ge,{id:"commit-message",placeholder:"e.g. Add Gmail Pub/Sub gating",...i("message"),className:Z(d.message&&"border-destructive")}),d.message&&a.jsx("p",{className:"text-xs text-destructive",children:d.message.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"commit-sign",children:"Sign package"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally sign this version for provenance."})]}),a.jsx(Zr,{id:"commit-sign",checked:f,onCheckedChange:g=>c("sign",g)})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),a.jsx($,{type:"submit",disabled:s,children:s?"Committing":"Commit"})]})]})]})})}function One({open:e,onClose:t,requirements:r,passed:n,title:s="Gating checks",className:i}){return e?a.jsx("div",{className:Z("absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-background/95 p-6 backdrop-blur-sm",i),role:"dialog","aria-labelledby":"gating-overlay-title","aria-describedby":"gating-overlay-desc",children:a.jsxs("div",{className:"relative w-full max-w-md rounded-lg border border-border bg-card p-6 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("h2",{id:"gating-overlay-title",className:"text-lg font-semibold",children:s}),a.jsx($,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close",children:a.jsx(Fu,{className:"h-4 w-4"})})]}),a.jsx("p",{id:"gating-overlay-desc",className:"mt-1 text-sm text-muted-foreground",children:n?"All requirements are met. You can save and deploy.":"Resolve the items below before saving or deploying."}),a.jsx("ul",{className:"mt-4 space-y-2",role:"list",children:r.map(o=>a.jsxs("li",{className:Z("flex items-start gap-3 rounded-md border border-border px-3 py-2 text-sm",o.met?"bg-success/10 border-success/30":"bg-destructive/10 border-destructive/30"),children:[o.met?a.jsx(aI,{className:"h-5 w-5 shrink-0 text-success","aria-hidden":!0}):a.jsx(uc,{className:"h-5 w-5 shrink-0 text-destructive","aria-hidden":!0}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium",children:o.label}),o.message&&a.jsx("p",{className:"mt-0.5 text-muted-foreground",children:o.message})]})]},o.id))}),r.length===0&&a.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"No gating checks defined."}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx($,{onClick:t,children:"Close"})})]})}):null}const Tc=`# Skill name

Short description of what this skill does.

## Requirements

- List gating requirements (env vars, permissions, etc.)

## Usage

How to use this skill from chat or cron.
`;function Pne(){const{skillId:e}=Az(),t=Vo(),[r,n]=x.useState("editor"),[s,i]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(!1),{data:g=[],isLoading:m}=gne(),{data:v,isLoading:y}=vne(e??null),{data:b=[]}=bne(e??null,{limit:5}),{data:w=[]}=jne(e??null),{data:S}=_ne(e??null),j=xne(),_=wne(),N=Sne(),k=yne(),C=v??null,A=C&&(s!==C.content||o!==C.name),I=x.useCallback(()=>{C?(i(C.content||Tc),l(C.name||"")):(i(Tc),l(""))},[C]);x.useEffect(()=>{C?(i(C.content||Tc),l(C.name||"")):e||(i(Tc),l(""))},[e,C==null?void 0:C.id,C==null?void 0:C.content,C==null?void 0:C.name]);const O=R=>{t(`/skill-editor/${R}`)},U=()=>{!e||!C||j.mutate({id:e,data:{content:s,name:o||C.name}},{onSuccess:()=>I()})},E=()=>{e&&_.mutate({skillId:e})},B=R=>{e&&N.mutate({skillId:e,...R},{onSuccess:()=>f(!1)})},M=R=>{!e||!C||j.mutate({id:e,data:{frontmatter:{...C.frontmatter,...R}}},{onSuccess:()=>{u(!1)}})},z=b[0],F=S&&!S.passed,T=(S==null?void 0:S.requirements)??[];return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skill Editor"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs($,{variant:"outline",size:"sm",onClick:()=>t("/skill-editor"),"aria-label":"Clear selection",children:[a.jsx(wH,{className:"mr-1 h-4 w-4"}),"All skills"]}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>u(!0),disabled:!e,"aria-label":"Edit frontmatter",children:[a.jsx(OH,{className:"mr-1 h-4 w-4"}),"Frontmatter"]}),a.jsxs($,{variant:"outline",size:"sm",onClick:U,disabled:!e||!A||j.isPending,children:[a.jsx(mI,{className:"mr-1 h-4 w-4"}),j.isPending?"Saving":"Save"]}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>p(!0),className:F?"border-warning text-warning":"","aria-label":"Gating checks",children:[a.jsx(uc,{className:"mr-1 h-4 w-4"}),"Gating"]}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>f(!0),disabled:!e,children:[a.jsx(jH,{className:"mr-1 h-4 w-4"}),"Commit"]}),a.jsxs($,{size:"sm",onClick:E,disabled:!e||_.isPending,children:[a.jsx(ca,{className:"mr-1 h-4 w-4"}),_.isPending?"Running":"Test run"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[a.jsxs(ee,{className:"lg:col-span-1",children:[a.jsxs(se,{className:"pb-2",children:[a.jsx(le,{className:"text-sm",children:"Skills"}),a.jsx(xe,{children:"Select a skill to edit."})]}),a.jsxs(re,{className:"pt-0",children:[m?a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:"h-9 w-full"}),a.jsx(be,{className:"h-9 w-full"}),a.jsx(be,{className:"h-9 w-4/5"})]}):g.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet."}),a.jsxs($,{size:"sm",variant:"outline",className:"w-full",onClick:()=>k.mutate({user_id:"",name:"Untitled Skill",content:Tc},{onSuccess:R=>{t(`/skill-editor/${R.id}`)}}),disabled:k.isPending,children:[a.jsx(ar,{className:"mr-1 h-4 w-4"}),k.isPending?"Creating":"New skill"]})]}):a.jsx(Pt,{className:"h-[200px] pr-2",children:a.jsx("ul",{className:"space-y-0.5",role:"list",children:g.map(R=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>O(R.id),className:Z("flex w-full items-center gap-2 rounded-md px-3 py-2 text-left text-sm transition-colors hover:bg-secondary",e===R.id&&"bg-primary/15 text-primary"),children:[a.jsx(Wr,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:R.name}),a.jsx(es,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})},R.id))})}),a.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Versions"}),e&&a.jsx(Pt,{className:"h-[120px] pr-2",children:w.length===0?a.jsx("p",{className:"text-xs text-muted-foreground",children:"No versions yet."}):a.jsx("ul",{className:"space-y-1 text-xs",children:w.slice(0,5).map(R=>a.jsxs("li",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"truncate font-mono",children:R.version_number}),a.jsx("span",{className:"text-muted-foreground shrink-0",children:R.changes?"":""})]},R.id))})}),!e&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a skill to see versions."})]})]})]}),a.jsx("div",{className:"space-y-4 lg:col-span-1",children:y&&e?a.jsx(ee,{children:a.jsx(re,{className:"flex items-center justify-center py-12",children:a.jsx(be,{className:"h-8 w-48"})})}):a.jsxs(a.Fragment,{children:[a.jsxs(Ko,{value:r,onValueChange:n,className:"w-full",children:[a.jsxs(Ta,{className:"grid w-full grid-cols-3",children:[a.jsx(Vt,{value:"editor",children:"SKILL.md editor"}),a.jsx(Vt,{value:"preview",children:"Preview"}),a.jsx(Vt,{value:"frontmatter",children:"Frontmatter"})]}),a.jsx(Ht,{value:"editor",className:"mt-4",children:a.jsxs(ee,{className:"relative overflow-hidden",children:[h&&a.jsx(One,{open:h,onClose:()=>p(!1),requirements:T.map(R=>({id:R.id,label:R.label,met:R.met,message:R.message})),passed:(S==null?void 0:S.passed)??!0}),a.jsxs(re,{className:"pt-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(Q,{htmlFor:"skill-name",className:"text-muted-foreground",children:"Skill name"}),a.jsx(ge,{id:"skill-name",value:o,onChange:R=>l(R.target.value),placeholder:"my-skill",className:"mt-1 max-w-xs font-medium"})]}),a.jsx("textarea",{"aria-label":"SKILL.md content",className:"min-h-[300px] w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:Tc,value:s,onChange:R=>i(R.target.value)})]})]})}),a.jsx(Ht,{value:"preview",className:"mt-4",children:a.jsx(ee,{children:a.jsx(re,{className:"pt-6",children:a.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-semibold prose-p:text-muted-foreground prose-code:text-sm",children:a.jsx("pre",{className:"whitespace-pre-wrap rounded-md bg-muted/50 p-4 font-sans text-sm",children:s||"Nothing to preview."})})})})}),a.jsx(Ht,{value:"frontmatter",className:"mt-4",children:a.jsx(ee,{children:a.jsxs(re,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:'Edit YAML frontmatter (name, version, permissions, env) via the Frontmatter button in the header, or open the "Frontmatter" dialog.'}),(C==null?void 0:C.frontmatter)&&Object.keys(C.frontmatter).length>0&&a.jsx("pre",{className:"mt-4 rounded-md bg-muted/50 p-4 font-mono text-xs",children:JSON.stringify(C.frontmatter,null,2)})]})})})]}),a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(le,{className:"text-sm",children:"Test runner"}),a.jsx(xe,{children:"Run skill in sandbox and view logs."})]}),a.jsx(re,{children:z?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Status: ",z.status]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(z.created_at).toLocaleString()})]}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-muted p-4 text-xs text-muted-foreground",children:z.logs||"No logs."})]}):a.jsx("pre",{className:"rounded-md bg-muted p-4 text-xs text-muted-foreground",children:'No test runs yet. Click "Test run" to execute.'})})]})]})})]}),a.jsx(kne,{open:c,onOpenChange:u,initialValues:C==null?void 0:C.frontmatter,onSubmit:M,isSubmitting:j.isPending}),a.jsx(Ene,{open:d,onOpenChange:f,skillName:C==null?void 0:C.name,onSubmit:B,isSubmitting:N.isPending})]})}const Ane=10,rw=["voice_wake","talk_mode","remote_exec","browser_proxy","camera_capture"];function qO(e){return{voice_wake:"Wake word detection",talk_mode:"Voice conversation mode",remote_exec:"Remote command execution",browser_proxy:"Browser/CDP proxy",camera_capture:"Camera and screen capture"}[e]??e}const Ln={getNodes:async()=>{const{data:e,error:t}=await q.from("nodes").select("*").order("last_active_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getNode:async e=>{const{data:t,error:r}=await q.from("nodes").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createNode:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("nodes").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNode:async(e,t)=>{const{data:r,error:n}=await q.from("nodes").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteNode:async e=>{const{error:t}=await q.from("nodes").delete().eq("id",e);if(t)throw new Error(t.message)},getNodeCapabilities:async e=>{const{data:t,error:r}=await q.from("node_capabilities").select("*").eq("node_id",e).order("capability_key");if(r)throw new Error(r.message);return t??[]},getNodeCapability:async(e,t)=>{const{data:r,error:n}=await q.from("node_capabilities").select("*").eq("node_id",e).eq("capability_key",t).single();if(n){if(n.code==="PGRST116")return null;throw new Error(n.message)}return r},upsertNodeCapability:async e=>{const{data:t,error:r}=await q.from("node_capabilities").upsert({node_id:e.node_id,capability_key:e.capability_key,status:e.status??"enabled",description:e.description??null,configurations:e.configurations??{}},{onConflict:"node_id,capability_key"}).select().single();if(r)throw new Error(r.message);return t},updateNodeCapability:async(e,t)=>{const{data:r,error:n}=await q.from("node_capabilities").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getNodeApprovals:async e=>{let t=q.from("node_approvals").select("*").order("created_at",{ascending:!1});e!=null&&e.nodeId&&(t=t.eq("node_id",e.nodeId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},createNodeApproval:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,requester_id:t.id},{data:n,error:s}=await q.from("node_approvals").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNodeApproval:async(e,t)=>{const{data:r,error:n}=await q.from("node_approvals").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},startPairing:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const t=Tne(),r=new Date;r.setMinutes(r.getMinutes()+Ane);const n={user_id:e.id,pairing_code:t,expires_at:r.toISOString()},{data:s,error:i}=await q.from("pairing_requests").insert(n).select().single();if(i)throw new Error(i.message);return s},claimPairing:async(e,t)=>{const{data:{user:r}}=await q.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await q.from("pairing_requests").select("*").eq("pairing_code",e.trim()).eq("user_id",r.id).is("node_id",null).gt("expires_at",new Date().toISOString()).single();if(s||!n)throw new Error("Invalid or expired pairing code");const i=await Ln.createNode({name:t??`Node ${e.slice(-6)}`,status:"paired",connection_health:"healthy",capabilities:rw});await q.from("pairing_requests").update({node_id:i.id}).eq("id",n.id);for(const o of rw)await Ln.upsertNodeCapability({node_id:i.id,capability_key:o,status:"enabled",description:qO(o)});return i},getDefaultCapabilityKeys:()=>rw,getCapabilityDescription:qO};function Tne(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function WF(e,t){return e().catch(()=>t)}const $r={all:["nodes"],list:()=>[...$r.all,"list"],detail:e=>[...$r.all,"detail",e],capabilities:e=>[...$r.all,"capabilities",e],approvals:e=>[...$r.all,"approvals",e],pairing:()=>[...$r.all,"pairing"]};function Rne(){return De({queryKey:$r.list(),queryFn:()=>WF(()=>Ln.getNodes(),[])})}function $ne(e){return De({queryKey:$r.detail(e??""),queryFn:()=>e?Ln.getNode(e):Promise.resolve(null),enabled:!!e})}function Mne(){const e=_e();return Se({mutationFn:({id:t,data:r})=>Ln.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:$r.list()}),e.invalidateQueries({queryKey:$r.detail(r)}),V.success("Node updated")},onError:t=>{V.error(t.message||"Failed to update node")}})}function Ine(){const e=_e();return Se({mutationFn:t=>Ln.deleteNode(t),onSuccess:()=>{e.invalidateQueries({queryKey:$r.list()}),e.invalidateQueries({queryKey:$r.approvals()}),V.success("Node removed")},onError:t=>{V.error(t.message||"Failed to remove node")}})}function Dne(e){return De({queryKey:$r.capabilities(e??""),queryFn:()=>e?Ln.getNodeCapabilities(e):Promise.resolve([]),enabled:!!e})}function Lne(){const e=_e();return Se({mutationFn:t=>Ln.upsertNodeCapability(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:$r.capabilities(r.node_id)}),e.invalidateQueries({queryKey:$r.detail(r.node_id)}),V.success("Capability updated")},onError:t=>{V.error(t.message||"Failed to update capability")}})}function Fne(e){return De({queryKey:$r.approvals(e),queryFn:()=>WF(()=>Ln.getNodeApprovals(e),[])})}function Une(){const e=_e();return Se({mutationFn:({id:t,data:r})=>Ln.updateNodeApproval(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:$r.approvals()}),V.success("Approval updated")},onError:t=>{V.error(t.message||"Failed to update approval")}})}function Bne(){const e=_e();return Se({mutationFn:()=>Ln.startPairing(),onSuccess:()=>{e.invalidateQueries({queryKey:$r.pairing()})},onError:t=>{V.error(t.message||"Failed to start pairing")}})}function zne(){const e=_e();return Se({mutationFn:({code:t,nodeName:r})=>Ln.claimPairing(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:$r.list()}),e.invalidateQueries({queryKey:$r.pairing()}),V.success("Device paired")},onError:t=>{V.error(t.message||"Failed to pair device")}})}function qne(e){const t=new Date(e).getTime(),r=Date.now(),n=Math.max(0,Math.floor((t-r)/1e3)),s=Math.floor(n/60),i=n%60;return`${s}:${i.toString().padStart(2,"0")}`}function Wne({open:e,onOpenChange:t,pairingRequest:r,onStartPairing:n,isStartingPairing:s,onPaired:i}){const[o,l]=x.useState(""),[c,u]=x.useState(""),[d,f]=x.useState(!1),h=zne();x.useEffect(()=>{if(!r||!e)return;const v=()=>l(qne(r.expires_at));v();const y=setInterval(v,1e3);return()=>clearInterval(y)},[r,e]);const p=()=>{r&&(navigator.clipboard.writeText(r.pairing_code),f(!0),setTimeout(()=>f(!1),2e3))},g=async()=>{if(c.trim())try{await h.mutateAsync({code:c.trim()}),i==null||i(),t(!1),u("")}catch{}},m=r&&new Date(r.expires_at).getTime()<=Date.now();return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsx(We,{className:"max-w-[640px]","aria-describedby":"pairing-description",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Pair device"}),a.jsx(Ke,{id:"pairing-description",children:"Scan the QR code or enter the code on your device to pair. Code expires in 10 minutes."})]}),r?a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:Z("flex h-40 w-40 flex-col items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted/30",m&&"opacity-60"),children:[a.jsx(pS,{className:"h-16 w-16 text-muted-foreground"}),a.jsx("span",{className:"mt-2 text-xs text-muted-foreground",children:"QR code"}),a.jsx("p",{className:"mt-1 text-center text-xs text-muted-foreground",children:"Scan with your device app"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(vo,{className:"h-4 w-4"}),a.jsx("span",{children:m?"Expired":`Expires in ${o}`})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-muted-foreground",children:"One-time code"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("code",{className:"flex-1 rounded border border-border bg-muted/50 px-3 py-2 text-lg font-mono tracking-widest",children:r.pairing_code}),a.jsx($,{variant:"outline",size:"icon",onClick:p,"aria-label":"Copy code",children:d?a.jsx(Np,{className:"h-4 w-4 text-success"}):a.jsx(oI,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter this code on your device if you cannot scan the QR code."}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx(Q,{htmlFor:"manual-code",className:"text-muted-foreground",children:"Or enter a code from another device"}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx(ge,{id:"manual-code",placeholder:"e.g. ABCD1234",value:c,onChange:v=>u(v.target.value.toUpperCase().slice(0,12)),className:"font-mono uppercase tracking-wider"}),a.jsx($,{onClick:g,disabled:!c.trim()||h.isPending,children:h.isPending?"Pairing":"Pair"})]})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-8",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Start pairing to generate a QR code and one-time code."}),a.jsx($,{onClick:n,disabled:s,className:"min-w-[160px]",children:s?"Generating":"Start pairing"})]}),a.jsxs(Qe,{children:[a.jsx($,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r&&!m&&a.jsx($,{variant:"outline",onClick:n,disabled:s,children:"New code"})]})]})})})}const Vne={pending:{label:"Pending",variant:"secondary",icon:vo},approved:{label:"Approved",variant:"success",icon:Mo},denied:{label:"Denied",variant:"destructive",icon:$y}};function Hne({open:e,onOpenChange:t,approval:r,node:n,onApprove:s,onDeny:i,isUpdating:o=!1}){var f;if(!r)return null;const{label:l,variant:c,icon:u}=Vne[r.status],d=r.status==="pending";return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-md","aria-describedby":"approval-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Approval request"}),a.jsx(Ke,{id:"approval-description",children:"Review and approve or deny this capability or execution request."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(nt,{variant:c,className:"gap-1",children:[a.jsx(u,{className:"h-3 w-3"}),l]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:Dr(new Date(r.created_at),{addSuffix:!0})})]}),a.jsxs("dl",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Action"}),a.jsx("dd",{className:"font-medium capitalize",children:r.action_type.replace(/_/g," ")})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Node"}),a.jsx("dd",{className:"font-medium",children:(n==null?void 0:n.name)??((f=n==null?void 0:n.id)==null?void 0:f.slice(0,8))??""})]}),r.capability_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Capability"}),a.jsxs("dd",{className:"font-medium",children:[r.capability_id.slice(0,8),""]})]})]})]}),a.jsxs(Qe,{children:[a.jsx($,{variant:"outline",onClick:()=>t(!1),children:"Close"}),d&&a.jsxs(a.Fragment,{children:[a.jsx($,{variant:"outline",className:"text-destructive hover:bg-destructive/10 hover:text-destructive",onClick:()=>i(r.id),disabled:o,children:"Deny"}),a.jsx($,{onClick:()=>s(r.id),disabled:o,children:o?"Updating":"Approve"})]})]})]})})}const Kne=Et({status:gr(["enabled","disabled","pending_approval"]),description:Pe().optional()});function Gne({open:e,onOpenChange:t,node:r,capability:n,onSubmit:s,isSubmitting:i=!1}){const o=kt({resolver:Ct(Kne),defaultValues:{status:"enabled",description:""},values:n!=null?{status:n.status,description:n.description??""}:void 0});if(!r)return null;const l=n?Ln.getCapabilityDescription(n.capability_key):"";return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-md","aria-describedby":"capability-config-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Capability configuration"}),a.jsxs(Ke,{id:"capability-config-description",children:["Update status and description for this capability on"," ",a.jsx("span",{className:"font-medium",children:r.name??"node"}),"."]})]}),a.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[n&&a.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 px-3 py-2 text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Capability: "}),a.jsx("span",{className:"font-medium capitalize",children:n.capability_key.replace(/_/g," ")}),l&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:l})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"cap-status",children:"Status"}),a.jsxs(Tt,{value:o.watch("status"),onValueChange:c=>o.setValue("status",c),children:[a.jsx(St,{id:"cap-status",children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"enabled",children:"Enabled"}),a.jsx(Ie,{value:"disabled",children:"Disabled"}),a.jsx(Ie,{value:"pending_approval",children:"Pending approval"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"cap-description",children:"Description (optional)"}),a.jsx(ge,{id:"cap-description",placeholder:"e.g. Remote exec for backup scripts",...o.register("description"),className:Z(o.formState.errors.description&&"border-destructive")}),o.formState.errors.description&&a.jsx("p",{className:"text-xs text-destructive",children:o.formState.errors.description.message})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx($,{type:"submit",disabled:i,children:i?"Saving":"Save"})]})]})]})})}const Yne={paired:"success",offline:"destructive",error:"warning"},Qne={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},Xne={voice_wake:_h,talk_mode:_h,remote_exec:RH,browser_proxy:Iy,camera_capture:vH};function Jne(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,p]=x.useState(null),[g,m]=x.useState(!1),{data:v=[],isLoading:y}=Rne(),{data:b}=$ne(s),{data:w=[]}=Dne(s),{data:S=[]}=Fne({status:"pending",limit:20}),j=Bne(),_=Mne(),N=Ine(),k=Lne(),C=Une(),A=S.find(M=>M.id===c),I=async()=>{try{const M=await j.mutateAsync();n(M)}catch{}},O=M=>{!s||!h||(k.mutate({node_id:s,capability_key:h.capability_key,status:M.status,description:M.description??null}),f(!1),p(null))},U=M=>{C.mutate({id:M,data:{status:"approved"}}),l(!1),u(null)},E=M=>{C.mutate({id:M,data:{status:"denied"}}),l(!1),u(null)},B=(M,z)=>{_.mutate({id:M,data:{connection_health:z}})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Nodes (Paired Devices)"}),a.jsxs($,{onClick:()=>{n(null),t(!0)},children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Pair node"]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Nodes list"}),a.jsx(xe,{children:"Paired devices with capability badges. Select a node to manage capabilities and exec allowlist."})]}),a.jsx(re,{children:y?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(M=>a.jsx(be,{className:"h-16 w-full rounded-lg"},M))}):v.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Oi,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes. Use Pair node to add a device via QR or code."}),a.jsxs($,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Pair node"]})]}):a.jsx(Pt,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:v.map(M=>a.jsxs("div",{className:Z("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",s===M.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>i(M.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(Oi,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:M.name??`Node ${M.id.slice(0,8)}`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:M.last_active_at?`Last active ${Dr(new Date(M.last_active_at),{addSuffix:!0})}`:"Never"})]}),a.jsx(nt,{variant:Yne[M.status],className:"shrink-0",children:M.status}),a.jsx(nt,{variant:Qne[M.connection_health],className:"shrink-0",children:M.connection_health})]}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsxs($,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(Gl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(wa,{align:"end",children:[a.jsxs(pr,{onClick:()=>{i(M.id),m(!0)},children:[a.jsx(mS,{className:"mr-2 h-4 w-4"}),"Connection health"]}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Unpair this device? This cannot be undone.")&&(N.mutate(M.id),s===M.id&&i(null))},children:[a.jsx(js,{className:"mr-2 h-4 w-4"}),"Unpair"]})]})]})]},M.id))})})})]}),a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Pair node"}),a.jsx(xe,{children:"QR on left, code and instructions on right, expiry countdown."})]}),a.jsx(re,{children:a.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-border p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(pS,{className:"mx-auto h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start pairing to show QR and code."}),a.jsxs($,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Start pairing"]})]})})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Capabilities"}),a.jsx(xe,{children:"Enable or disable capabilities for the selected node."})]}),a.jsx(re,{children:s?w.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:"h-10 w-full"}),a.jsx(be,{className:"h-10 w-full"}),a.jsx(be,{className:"h-10 w-full"})]}):a.jsx("div",{className:"space-y-2",children:w.map(M=>{const z=Xne[M.capability_key]??Oi;return a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:M.capability_key.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Ln.getCapabilityDescription(M.capability_key)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{variant:M.status==="enabled"?"success":M.status==="pending_approval"?"warning":"secondary",children:M.status}),a.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{p(M),f(!0)},"aria-label":"Edit capability",children:a.jsx(ua,{className:"h-4 w-4"})})]})]},M.id)})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ua,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to manage capabilities."})]})})]}),a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Approval requests"}),a.jsx(xe,{children:"Pending capability or execution requests."})]}),a.jsx(re,{children:S.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(PH,{className:"mb-3 h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No pending approvals."})]}):a.jsx(Pt,{className:"h-[240px] pr-2",children:a.jsx("div",{className:"space-y-2",children:S.map(M=>a.jsxs("button",{type:"button",onClick:()=>{u(M.id),l(!0)},className:"flex w-full items-center justify-between rounded-lg border border-border p-3 text-left transition-colors hover:bg-card",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:M.action_type.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Dr(new Date(M.created_at),{addSuffix:!0})})]}),a.jsx(nt,{variant:"secondary",children:M.status})]},M.id))})})})]})]})]}),a.jsx(Wne,{open:e,onOpenChange:t,pairingRequest:r,onStartPairing:I,isStartingPairing:j.isPending,onPaired:()=>{n(null),t(!1)}}),a.jsx(Hne,{open:o,onOpenChange:l,approval:A??null,node:A?v.find(M=>M.id===A.node_id)??null:null,onApprove:U,onDeny:E,isUpdating:C.isPending}),a.jsx(Gne,{open:d,onOpenChange:f,node:b??null,capability:h,onSubmit:O,isSubmitting:k.isPending}),a.jsx(IF,{node:b??null,open:g,onOpenChange:m,onUpdateHealth:B,isUpdating:_.isPending})]})}function Zne({job:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=e.name||e.description||"Unnamed job",o=()=>{n(e.id),r(!1)};return a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(We,{"aria-describedby":"cron-delete-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Delete cron job?"}),a.jsxs(Ke,{id:"cron-delete-description",children:['This will permanently delete "',i,'" and its run history. This action cannot be undone.']})]}),a.jsxs(Qe,{children:[a.jsx($,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx($,{variant:"destructive",onClick:o,disabled:s,children:s?"Deleting":"Delete job"})]})]})})}const ese={running:{label:"Running",icon:Xn,variant:"secondary"},completed:{label:"Completed",icon:Mo,variant:"default"},failed:{label:"Failed",icon:$y,variant:"destructive"},aborted:{label:"Aborted",icon:hH,variant:"outline"}};function tse({jobId:e,runs:t,isLoading:r=!1,className:n}){return e?r?a.jsxs(ee,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(se,{children:[a.jsx(be,{className:"h-6 w-32"}),a.jsx(be,{className:"h-4 w-48"})]}),a.jsx(re,{className:"space-y-3",children:[1,2,3].map(s=>a.jsx(be,{className:"h-20 w-full rounded-lg"},s))})]}):t.length?a.jsxs(ee,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ym,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(xe,{children:"Past executions with output and logs. Newest first."})]}),a.jsx(re,{children:a.jsx(Pt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-3",children:t.map(s=>{const i=ese[s.status],o=i.icon;return a.jsxs("li",{className:"rounded-lg border border-border bg-secondary/30 p-4 transition-shadow hover:shadow-card",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(nt,{variant:i.variant,className:"gap-1",children:[s.status==="running"?a.jsx(o,{className:"h-3 w-3 animate-spin"}):a.jsx(o,{className:"h-3 w-3"}),i.label]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:Dr(new Date(s.execution_time),{addSuffix:!0})})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.execution_time).toLocaleString()})]}),s.output!=null&&s.output!==""||s.log!=null&&s.log!==""?a.jsxs("div",{className:"mt-3 space-y-2",children:[s.output!=null&&s.output!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Output"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono",children:s.output})]}),s.log!=null&&s.log!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Log"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono whitespace-pre-wrap",children:s.log})]})]}):null]},s.id)})})})})]}):a.jsxs(ee,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ym,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(xe,{children:"Past executions for this job. Run the job to see entries here."})]}),a.jsx(re,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ym,{className:"h-10 w-10 text-muted-foreground/50"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No runs yet"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'Use "Run now" on a job to execute it and record history.'})]})})]}):a.jsxs(ee,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ym,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(xe,{children:"Select a job to view its run history, or run a job to see entries here."})]}),a.jsx(re,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No job selected. Run a job from the list above to see execution logs and output."})})]})}function rse(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),{data:h}=ax(),p=(h==null?void 0:h.user_id)??"",{data:g=[],isLoading:m}=GL(),{data:v=[],isLoading:y}=vte(c??d,{limit:20}),b=YL(),w=mte(),S=gte(),j=yte(),_=()=>{i(null),t(!0)},N=E=>{i(E),t(!0)},k=E=>{s?w.mutate({id:s.id,data:E},{onSuccess:()=>{t(!1),i(null)}}):b.mutate(E,{onSuccess:()=>t(!1)})},C=E=>{l(E),n(!0)},A=E=>{S.mutate(E,{onSuccess:()=>{n(!1),l(null),c===E&&u(null)}})},I=E=>{f(E.id),j.mutate(E.id,{onSuccess:()=>{u(E.id),f(null)},onError:()=>f(null)})},O=E=>E.name||E.description||"Unnamed job",U=E=>E==="active"?"default":E==="paused"?"secondary":"destructive";return a.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Cron Jobs & Scheduler"}),a.jsxs($,{onClick:_,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Create job"]})]}),a.jsxs(ee,{className:"overflow-hidden rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Cron list"}),a.jsx(xe,{children:"Scheduled jobs with run now, edit, and delete. Select a job to view run history below."})]}),a.jsx(re,{className:"p-0",children:m?a.jsx("div",{className:"space-y-3 p-6",children:[1,2,3].map(E=>a.jsx(be,{className:"h-16 w-full rounded-lg"},E))}):g.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[a.jsx("th",{className:"sticky top-0 z-10 bg-secondary/50 px-6 py-4 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Schedule"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Next run"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Session target"}),a.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),a.jsx("tbody",{children:g.map(E=>a.jsxs("tr",{className:Z("border-b border-border transition-colors hover:bg-secondary/30",c===E.id&&"bg-primary/5"),children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:O(E)}),E.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Dn,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]})}),a.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:E.schedule}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(nt,{variant:U(E.status),children:E.status})}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:E.next_run_time?Dr(new Date(E.next_run_time),{addSuffix:!0}):""}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:E.session_target||""}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsxs($,{variant:"outline",size:"sm",onClick:()=>I(E),disabled:j.isPending&&d===E.id,className:"transition-transform hover:scale-[1.02]",children:[j.isPending&&d===E.id?a.jsx(vo,{className:"h-4 w-4 animate-spin"}):a.jsx(ca,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 hidden sm:inline",children:j.isPending&&d===E.id?"Running":"Run now"})]}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsx($,{variant:"outline",size:"icon",className:"h-8 w-8",children:a.jsx(Gl,{className:"h-4 w-4"})})}),a.jsxs(wa,{align:"end",children:[a.jsxs(pr,{onClick:()=>N(E),children:[a.jsx(Sh,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(pr,{onClick:()=>{u(E.id)},children:[a.jsx(vo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>C(E),children:[a.jsx(js,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},E.id))})]})}),a.jsx("div",{className:"space-y-3 p-4 md:hidden",children:g.map(E=>a.jsx(ee,{className:Z("rounded-lg border border-border bg-card shadow-card transition-all hover:shadow-card-hover",c===E.id&&"ring-2 ring-primary"),children:a.jsxs(re,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:O(E)}),E.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Dn,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]}),a.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:E.schedule}),a.jsx(nt,{variant:U(E.status),className:"mt-2",children:E.status}),E.next_run_time&&a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Next: ",Dr(new Date(E.next_run_time),{addSuffix:!0})]})]}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(Gl,{className:"h-4 w-4"})})}),a.jsxs(wa,{align:"end",children:[a.jsxs(pr,{onClick:()=>I(E),children:[a.jsx(ca,{className:"mr-2 h-4 w-4"}),"Run now"]}),a.jsxs(pr,{onClick:()=>N(E),children:[a.jsx(Sh,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(pr,{onClick:()=>u(E.id),children:[a.jsx(vo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>C(E),children:[a.jsx(js,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs($,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>I(E),disabled:j.isPending&&d===E.id,children:[j.isPending&&d===E.id?a.jsx(vo,{className:"mr-1 h-4 w-4 animate-spin"}):a.jsx(ca,{className:"mr-1 h-4 w-4"}),"Run now"]}),a.jsx($,{variant:"outline",size:"sm",onClick:()=>N(E),children:"Edit"})]})]})},E.id))})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center border-t border-border py-16 text-center",children:[a.jsx(Ty,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsx("p",{className:"mt-4 text-sm font-medium",children:"No cron jobs yet"}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create a job to run skills on a schedule. Use the cron builder, payload, and session target."}),a.jsxs($,{onClick:_,className:"mt-4",children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Create job"]})]})})]}),a.jsx(tse,{jobId:c??d,runs:v,isLoading:y}),a.jsx(MF,{open:e,onOpenChange:t,onSubmit:k,isSubmitting:b.isPending||w.isPending,userId:p,job:s}),a.jsx(Zne,{job:o,open:r,onOpenChange:n,onConfirm:A,isDeleting:S.isPending})]})}function nse(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="wh_";for(let r=0;r<12;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}const zi={getWebhooks:async()=>{const{data:e,error:t}=await q.from("webhooks").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWebhook:async e=>{const{data:t,error:r}=await q.from("webhooks").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWebhook:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r=nse(),s=`${typeof window<"u"?`${window.location.origin}/api/webhooks`:"/api/webhooks"}/${encodeURIComponent(e.route_name)}?token=${encodeURIComponent(r)}`,i={user_id:t.id,route_name:e.route_name,token_preview:r,token_hash:null,url:s,mapping_template:e.mapping_template??null,delivery_route:e.delivery_route??null},{data:o,error:l}=await q.from("webhooks").insert(i).select().single();if(l)throw new Error(l.message);return o},updateWebhook:async(e,t)=>{const{data:r,error:n}=await q.from("webhooks").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWebhook:async e=>{const{error:t}=await q.from("webhooks").delete().eq("id",e);if(t)throw new Error(t.message)},getHookScripts:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)return[];let r=q.from("hook_scripts").select("*").eq("user_id",t.id).order("event_trigger");e===null?r=r.is("webhook_id",null):e&&(r=r.or(`webhook_id.eq.${e},webhook_id.is.null`));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},getHookScript:async e=>{const{data:t,error:r}=await q.from("hook_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createHookScript:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("hook_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateHookScript:async(e,t)=>{const{data:r,error:n}=await q.from("hook_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteHookScript:async e=>{const{error:t}=await q.from("hook_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getPayloadTemplates:async e=>{if(!e)return[];const{data:t,error:r}=await q.from("payload_templates").select("*").eq("webhook_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getPayloadTemplate:async e=>{const{data:t,error:r}=await q.from("payload_templates").select("*").eq("webhook_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertPayloadTemplate:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r=await zi.getPayloadTemplate(e.webhook_id);if(r){const{data:o,error:l}=await q.from("payload_templates").update({template_content:e.template_content??r.template_content}).eq("webhook_id",e.webhook_id).select().single();if(l)throw new Error(l.message);return o}const n={user_id:t.id,webhook_id:e.webhook_id,template_content:e.template_content??""},{data:s,error:i}=await q.from("payload_templates").insert(n).select().single();if(i)throw new Error(i.message);return s},updatePayloadTemplate:async(e,t)=>{const{data:r,error:n}=await q.from("payload_templates").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}};function sse(e,t){return e().catch(()=>t)}const Tn={all:["webhooks"],list:()=>[...Tn.all,"list"],detail:e=>[...Tn.all,"detail",e],hookScripts:e=>[...Tn.all,"hookScripts",e],payloadTemplate:e=>[...Tn.all,"payloadTemplate",e]};function ise(){return De({queryKey:Tn.list(),queryFn:()=>sse(()=>zi.getWebhooks(),[])})}function ase(){const e=_e();return Se({mutationFn:t=>zi.createWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tn.list()}),V.success("Webhook created")},onError:t=>{V.error(t.message||"Failed to create webhook")}})}function ose(){const e=_e();return Se({mutationFn:t=>zi.deleteWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tn.list()}),V.success("Webhook removed")},onError:t=>{V.error(t.message||"Failed to remove webhook")}})}function lse(e){return De({queryKey:Tn.hookScripts(e),queryFn:()=>zi.getHookScripts(e)})}function cse(){const e=_e();return Se({mutationFn:t=>zi.createHookScript(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Tn.hookScripts(r.webhook_id??null)}),V.success("Hook script added")},onError:t=>{V.error(t.message||"Failed to add hook script")}})}function use(){const e=_e();return Se({mutationFn:({id:t,data:r})=>zi.updateHookScript(t,r),onSuccess:t=>{(t==null?void 0:t.webhook_id)!==void 0&&e.invalidateQueries({queryKey:Tn.hookScripts(t.webhook_id)}),e.invalidateQueries({queryKey:Tn.hookScripts(null)}),V.success("Hook script updated")},onError:t=>{V.error(t.message||"Failed to update hook script")}})}function dse(){const e=_e();return Se({mutationFn:t=>zi.deleteHookScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tn.all}),V.success("Hook script removed")},onError:t=>{V.error(t.message||"Failed to remove hook script")}})}function fse(e){return De({queryKey:Tn.payloadTemplate(e??""),queryFn:()=>e?zi.getPayloadTemplate(e):Promise.resolve(null),enabled:!!e})}function hse(){const e=_e();return Se({mutationFn:t=>zi.upsertPayloadTemplate(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Tn.payloadTemplate(r.webhook_id)}),V.success("Payload template saved")},onError:t=>{V.error(t.message||"Failed to save payload template")}})}const pse=Et({route_name:Pe().min(1,"Route name is required").regex(/^[a-z0-9_-]+$/i,"Use only letters, numbers, hyphens, and underscores"),mapping_template:Pe().optional(),delivery_route:Pe().optional()}),nw={route_name:"",mapping_template:"",delivery_route:""};function mse({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=kt({resolver:Ct(pse),defaultValues:nw}),c=d=>{var f,h;r({route_name:d.route_name.trim(),mapping_template:((f=d.mapping_template)==null?void 0:f.trim())||null,delivery_route:((h=d.delivery_route)==null?void 0:h.trim())||null}),o(nw)},u=d=>{d||o(nw),t(d)};return a.jsx(Ge,{open:e,onOpenChange:u,children:a.jsxs(We,{className:"max-w-lg","aria-describedby":"create-webhook-form-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Create webhook"}),a.jsx(Ke,{id:"create-webhook-form-description",children:"Add an inbound webhook endpoint. A token will be generated; configure delivery routing if needed."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"route_name",children:"Route name"}),a.jsx(ge,{id:"route_name",placeholder:"e.g. my-integration",...s("route_name"),className:l.route_name?"border-destructive":"",autoComplete:"off"}),l.route_name&&a.jsx("p",{className:"text-xs text-destructive",children:l.route_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"delivery_route",children:"Delivery route (optional)"}),a.jsx(ge,{id:"delivery_route",placeholder:"e.g. session or channel target",...s("delivery_route")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"mapping_template",children:"Mapping template (optional)"}),a.jsx("textarea",{id:"mapping_template",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"JSON or template for payload mapping",...s("mapping_template")})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"secondary",onClick:()=>u(!1),disabled:n,children:"Cancel"}),a.jsx($,{type:"submit",disabled:n,children:n?"Creating":"Create webhook"})]})]})]})})}const gse=Et({event_trigger:Pe().min(1,"Event trigger is required"),language:gr(["javascript","python"]),script_content:Pe(),webhook_id:Pe().nullable()}),vse=["/new","/reset","start","end","before_run","after_run"],Em={event_trigger:"/new",language:"javascript",script_content:"",webhook_id:null};function yse({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,script:s=null,webhooks:i}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=kt({resolver:Ct(gse),defaultValues:Em}),h=u("language"),p=u("webhook_id");x.useEffect(()=>{d(s?{event_trigger:s.event_trigger,language:s.language,script_content:s.script_content??"",webhook_id:s.webhook_id??null}:Em)},[s,e,d]);const g=v=>{r(v),s||d(Em),t(!1)},m=v=>{v||d(Em),t(v)};return a.jsx(Ge,{open:e,onOpenChange:m,children:a.jsxs(We,{className:"max-w-2xl max-h-[90vh] flex flex-col","aria-describedby":"hook-script-editor-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:s?"Edit hook script":"Add hook script"}),a.jsx(Ke,{id:"hook-script-editor-description",children:"Sandboxed script (JavaScript or Python) for lifecycle events. Runs in a restricted environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"flex flex-col flex-1 min-h-0 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"event_trigger",children:"Event trigger"}),a.jsxs(Tt,{value:u("event_trigger"),onValueChange:v=>c("event_trigger",v),children:[a.jsx(St,{id:"event_trigger",className:f.event_trigger?"border-destructive":"",children:a.jsx(Rt,{placeholder:"Select trigger"})}),a.jsx(Nt,{children:vse.map(v=>a.jsx(Ie,{value:v,children:v},v))})]}),f.event_trigger&&a.jsx("p",{className:"text-xs text-destructive",children:f.event_trigger.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"language",children:"Language"}),a.jsxs(Tt,{value:h,onValueChange:v=>c("language",v),children:[a.jsx(St,{id:"language",children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"javascript",children:"JavaScript"}),a.jsx(Ie,{value:"python",children:"Python"})]})]})]})]}),i.length>0&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"webhook_id",children:"Webhook (optional)"}),a.jsxs(Tt,{value:p??"none",onValueChange:v=>c("webhook_id",v==="none"?null:v),children:[a.jsx(St,{id:"webhook_id",children:a.jsx(Rt,{placeholder:"Global (all webhooks)"})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"none",children:"Global (all webhooks)"}),i.map(v=>a.jsx(Ie,{value:v.id,children:v.route_name},v.id))]})]})]}),a.jsxs("div",{className:"grid gap-2 flex-1 min-h-[200px]",children:[a.jsx(Q,{htmlFor:"script_content",children:"Script content"}),a.jsx("textarea",{id:"script_content",className:"flex w-full flex-1 min-h-[200px] rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:h==="javascript"?"// e.g. return { ...payload };":"# e.g. return { **payload }",...o("script_content"),spellCheck:!1})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"secondary",onClick:()=>m(!1),disabled:n,children:"Cancel"}),a.jsx($,{type:"submit",disabled:n,children:n?"Saving":s?"Save":"Add script"})]})]})]})})}function xse({webhooks:e,isLoadingWebhooks:t=!1}){const[r,n]=x.useState(null),[s,i]=x.useState(null),{data:o,isLoading:l}=fse(r),c=hse(),u=s!==null?s:(o==null?void 0:o.template_content)??"",d=()=>{r&&c.mutate({webhook_id:r,template_content:u},{onSuccess:()=>i(null)})},f=r&&u!==((o==null?void 0:o.template_content)??"");return a.jsxs(ee,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(xH,{className:"h-5 w-5 text-muted-foreground"}),"Payload transformer"]}),a.jsx(xe,{children:"Edit transformation templates per webhook. Preview and save to apply."})]}),a.jsxs(re,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"payload-webhook",children:"Webhook"}),t?a.jsx(be,{className:"h-10 w-full rounded-md"}):a.jsxs(Tt,{value:r??"",onValueChange:h=>{n(h||null),i(null)},children:[a.jsx(St,{id:"payload-webhook",children:a.jsx(Rt,{placeholder:"Select a webhook"})}),a.jsx(Nt,{children:e.length===0?a.jsx(Ie,{value:"_none",disabled:!0,children:"No webhooks  create one first"}):e.map(h=>a.jsx(Ie,{value:h.id,children:h.route_name},h.id))})]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"template_content",children:"Template content"}),l?a.jsx(be,{className:"h-[200px] w-full rounded-md"}):a.jsx("textarea",{id:"template_content",rows:10,className:Z("flex w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),placeholder:"JSON or template (e.g. Handlebars) for payload mapping",value:u,onChange:h=>i(h.target.value),spellCheck:!1})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx($,{onClick:d,disabled:c.isPending||!f&&!o,children:c.isPending?"Saving":a.jsxs(a.Fragment,{children:[a.jsx(mI,{className:"mr-2 h-4 w-4"}),"Save template"]})})})]}),!r&&e.length>0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a webhook above to edit its payload transformation template."}),!r&&e.length===0&&!t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a webhook in the Endpoints tab first, then select it here to add a transformation template."})]})]})}function bse(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState(null),{data:c=[],isLoading:u}=ise(),{data:d=[],isLoading:f}=lse(null),h=ase(),p=ose(),g=cse(),m=use(),v=dse(),y=async _=>{await h.mutateAsync(_),t(!1)},b=_=>{navigator.clipboard.writeText(_),l(_),V.success("URL copied"),setTimeout(()=>l(null),2e3)},w=_=>{s?m.mutate({id:s.id,data:{event_trigger:_.event_trigger,language:_.language,script_content:_.script_content,webhook_id:_.webhook_id}},{onSuccess:()=>{i(null),n(!1)}}):g.mutate({event_trigger:_.event_trigger,language:_.language,script_content:_.script_content,webhook_id:_.webhook_id},{onSuccess:()=>n(!1)})},S=_=>{i(_),n(!0)},j=()=>{i(null),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Webhooks & Hooks"}),a.jsxs($,{onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}),a.jsxs(Ko,{defaultValue:"endpoints",className:"space-y-4",children:[a.jsxs(Ta,{className:"grid w-full max-w-2xl grid-cols-4",children:[a.jsx(Vt,{value:"endpoints",children:"Endpoints"}),a.jsx(Vt,{value:"hooks",children:"Hook scripts"}),a.jsx(Vt,{value:"transform",children:"Payload transformer"}),a.jsx(Vt,{value:"gmail",children:"Gmail Pub/Sub"})]}),a.jsx(Ht,{value:"endpoints",className:"space-y-4",children:a.jsxs(ee,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(oj,{className:"h-5 w-5 text-muted-foreground"}),"Webhook endpoints"]}),a.jsx(xe,{children:"List (token), create webhook modal. URL, token preview, last received, mapping."})]}),a.jsx(re,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(_=>a.jsx(be,{className:"h-20 w-full rounded-lg"},_))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(oj,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No webhooks. Create one to receive inbound events."}),a.jsxs($,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}):a.jsx(Pt,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-3",children:c.map(_=>a.jsx("div",{className:"flex flex-col gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-card/80",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:_.route_name}),a.jsx("p",{className:"mt-1 truncate font-mono text-xs text-muted-foreground",children:_.url}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"font-mono",children:["Token: ",_.token_preview]}),_.last_received_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ty,{className:"h-3 w-3"}),"Last received"," ",Dr(new Date(_.last_received_at),{addSuffix:!0})]})]}),_.mapping_template&&a.jsx(nt,{variant:"secondary",className:"mt-2",children:"Mapping"})]}),a.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[a.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>b(_.url),"aria-label":"Copy URL",children:o===_.url?a.jsx(Np,{className:"h-4 w-4 text-success"}):a.jsx(oI,{className:"h-4 w-4"})}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsxs($,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(Gl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsx(wa,{align:"end",children:a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this webhook?")&&p.mutate(_.id)},children:[a.jsx(js,{className:"mr-2 h-4 w-4"}),"Remove"]})})]})]})]})},_.id))})})})]})}),a.jsx(Ht,{value:"hooks",className:"space-y-4",children:a.jsxs(ee,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(vE,{className:"h-5 w-5 text-muted-foreground"}),"Hook scripts editor"]}),a.jsx(xe,{children:"Sandbox environment for lifecycle hooks (restricted JS/Python). Event triggers: /new, /reset, start, end."})]}),a.jsxs(re,{children:[a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsxs($,{onClick:j,children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add hook script"]})}),f?a.jsx("div",{className:"space-y-3",children:[1,2].map(_=>a.jsx(be,{className:"h-16 w-full rounded-lg"},_))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(vE,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No hook scripts. Add one for lifecycle events (/new, /reset, start, end)."}),a.jsxs($,{className:"mt-4",variant:"outline",onClick:j,children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add hook script"]})]}):a.jsx(Pt,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"space-y-2",children:d.map(_=>{var N;return a.jsxs("div",{className:Z("flex items-center justify-between gap-2 rounded-lg border border-border p-3 transition-colors hover:bg-card/80"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:_.event_trigger}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.language,_.webhook_id?`  Webhook: ${((N=c.find(k=>k.id===_.webhook_id))==null?void 0:N.route_name)??_.webhook_id}`:"  Global"]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx($,{variant:"ghost",size:"sm",onClick:()=>S(_),children:"Edit"}),a.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>{window.confirm("Remove this hook script?")&&v.mutate(_.id)},"aria-label":"Remove script",children:a.jsx(js,{className:"h-4 w-4"})})]})]},_.id)})})})]})]})}),a.jsx(Ht,{value:"transform",className:"space-y-4",children:a.jsx(xse,{webhooks:c,isLoadingWebhooks:u})}),a.jsx(Ht,{value:"gmail",className:"space-y-4",children:a.jsxs(ee,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(Du,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub guided setup"]}),a.jsx(xe,{children:"Guided flow for Gmail Pub/Sub integration. Connect your Gmail account and configure webhook delivery."})]}),a.jsx(re,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Du,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gmail Pub/Sub setup will be available here. Create a webhook first, then link it to Gmail."}),a.jsx($,{className:"mt-4",variant:"outline",disabled:!0,children:"Coming soon"})]})})]})})]}),a.jsx(mse,{open:e,onOpenChange:t,onSubmit:y,isSubmitting:h.isPending}),a.jsx(yse,{open:r,onOpenChange:_=>{n(_),_||i(null)},onSubmit:w,isSubmitting:g.isPending||m.isPending,script:s,webhooks:c})]})}var wse=Array.isArray,Fn=wse,jse=typeof Hp=="object"&&Hp&&Hp.Object===Object&&Hp,VF=jse,_se=VF,Sse=typeof self=="object"&&self&&self.Object===Object&&self,Nse=_se||Sse||Function("return this")(),qi=Nse,kse=qi,Cse=kse.Symbol,Ip=Cse,WO=Ip,HF=Object.prototype,Ese=HF.hasOwnProperty,Ose=HF.toString,df=WO?WO.toStringTag:void 0;function Pse(e){var t=Ese.call(e,df),r=e[df];try{e[df]=void 0;var n=!0}catch{}var s=Ose.call(e);return n&&(t?e[df]=r:delete e[df]),s}var Ase=Pse,Tse=Object.prototype,Rse=Tse.toString;function $se(e){return Rse.call(e)}var Mse=$se,VO=Ip,Ise=Ase,Dse=Mse,Lse="[object Null]",Fse="[object Undefined]",HO=VO?VO.toStringTag:void 0;function Use(e){return e==null?e===void 0?Fse:Lse:HO&&HO in Object(e)?Ise(e):Dse(e)}var $a=Use;function Bse(e){return e!=null&&typeof e=="object"}var Ma=Bse,zse=$a,qse=Ma,Wse="[object Symbol]";function Vse(e){return typeof e=="symbol"||qse(e)&&zse(e)==Wse}var Td=Vse,Hse=Fn,Kse=Td,Gse=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yse=/^\w*$/;function Qse(e,t){if(Hse(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Kse(e)?!0:Yse.test(e)||!Gse.test(e)||t!=null&&e in Object(t)}var iN=Qse;function Xse(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xo=Xse;const Rd=Lt(Xo);var Jse=$a,Zse=Xo,eie="[object AsyncFunction]",tie="[object Function]",rie="[object GeneratorFunction]",nie="[object Proxy]";function sie(e){if(!Zse(e))return!1;var t=Jse(e);return t==tie||t==rie||t==eie||t==nie}var aN=sie;const rt=Lt(aN);var iie=qi,aie=iie["__core-js_shared__"],oie=aie,sw=oie,KO=function(){var e=/[^.]+$/.exec(sw&&sw.keys&&sw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function lie(e){return!!KO&&KO in e}var cie=lie,uie=Function.prototype,die=uie.toString;function fie(e){if(e!=null){try{return die.call(e)}catch{}try{return e+""}catch{}}return""}var KF=fie,hie=aN,pie=cie,mie=Xo,gie=KF,vie=/[\\^$.*+?()[\]{}|]/g,yie=/^\[object .+?Constructor\]$/,xie=Function.prototype,bie=Object.prototype,wie=xie.toString,jie=bie.hasOwnProperty,_ie=RegExp("^"+wie.call(jie).replace(vie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sie(e){if(!mie(e)||pie(e))return!1;var t=hie(e)?_ie:yie;return t.test(gie(e))}var Nie=Sie;function kie(e,t){return e==null?void 0:e[t]}var Cie=kie,Eie=Nie,Oie=Cie;function Pie(e,t){var r=Oie(e,t);return Eie(r)?r:void 0}var pc=Pie,Aie=pc,Tie=Aie(Object,"create"),dx=Tie,GO=dx;function Rie(){this.__data__=GO?GO(null):{},this.size=0}var $ie=Rie;function Mie(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Iie=Mie,Die=dx,Lie="__lodash_hash_undefined__",Fie=Object.prototype,Uie=Fie.hasOwnProperty;function Bie(e){var t=this.__data__;if(Die){var r=t[e];return r===Lie?void 0:r}return Uie.call(t,e)?t[e]:void 0}var zie=Bie,qie=dx,Wie=Object.prototype,Vie=Wie.hasOwnProperty;function Hie(e){var t=this.__data__;return qie?t[e]!==void 0:Vie.call(t,e)}var Kie=Hie,Gie=dx,Yie="__lodash_hash_undefined__";function Qie(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Gie&&t===void 0?Yie:t,this}var Xie=Qie,Jie=$ie,Zie=Iie,eae=zie,tae=Kie,rae=Xie;function $d(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$d.prototype.clear=Jie;$d.prototype.delete=Zie;$d.prototype.get=eae;$d.prototype.has=tae;$d.prototype.set=rae;var nae=$d;function sae(){this.__data__=[],this.size=0}var iae=sae;function aae(e,t){return e===t||e!==e&&t!==t}var oN=aae,oae=oN;function lae(e,t){for(var r=e.length;r--;)if(oae(e[r][0],t))return r;return-1}var fx=lae,cae=fx,uae=Array.prototype,dae=uae.splice;function fae(e){var t=this.__data__,r=cae(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():dae.call(t,r,1),--this.size,!0}var hae=fae,pae=fx;function mae(e){var t=this.__data__,r=pae(t,e);return r<0?void 0:t[r][1]}var gae=mae,vae=fx;function yae(e){return vae(this.__data__,e)>-1}var xae=yae,bae=fx;function wae(e,t){var r=this.__data__,n=bae(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var jae=wae,_ae=iae,Sae=hae,Nae=gae,kae=xae,Cae=jae;function Md(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Md.prototype.clear=_ae;Md.prototype.delete=Sae;Md.prototype.get=Nae;Md.prototype.has=kae;Md.prototype.set=Cae;var hx=Md,Eae=pc,Oae=qi,Pae=Eae(Oae,"Map"),lN=Pae,YO=nae,Aae=hx,Tae=lN;function Rae(){this.size=0,this.__data__={hash:new YO,map:new(Tae||Aae),string:new YO}}var $ae=Rae;function Mae(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Iae=Mae,Dae=Iae;function Lae(e,t){var r=e.__data__;return Dae(t)?r[typeof t=="string"?"string":"hash"]:r.map}var px=Lae,Fae=px;function Uae(e){var t=Fae(this,e).delete(e);return this.size-=t?1:0,t}var Bae=Uae,zae=px;function qae(e){return zae(this,e).get(e)}var Wae=qae,Vae=px;function Hae(e){return Vae(this,e).has(e)}var Kae=Hae,Gae=px;function Yae(e,t){var r=Gae(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Qae=Yae,Xae=$ae,Jae=Bae,Zae=Wae,eoe=Kae,toe=Qae;function Id(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Id.prototype.clear=Xae;Id.prototype.delete=Jae;Id.prototype.get=Zae;Id.prototype.has=eoe;Id.prototype.set=toe;var cN=Id,GF=cN,roe="Expected a function";function uN(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(roe);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(uN.Cache||GF),r}uN.Cache=GF;var YF=uN;const noe=Lt(YF);var soe=YF,ioe=500;function aoe(e){var t=soe(e,function(n){return r.size===ioe&&r.clear(),n}),r=t.cache;return t}var ooe=aoe,loe=ooe,coe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uoe=/\\(\\)?/g,doe=loe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(coe,function(r,n,s,i){t.push(s?i.replace(uoe,"$1"):n||r)}),t}),foe=doe;function hoe(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var dN=hoe,QO=Ip,poe=dN,moe=Fn,goe=Td,XO=QO?QO.prototype:void 0,JO=XO?XO.toString:void 0;function QF(e){if(typeof e=="string")return e;if(moe(e))return poe(e,QF)+"";if(goe(e))return JO?JO.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var voe=QF,yoe=voe;function xoe(e){return e==null?"":yoe(e)}var XF=xoe,boe=Fn,woe=iN,joe=foe,_oe=XF;function Soe(e,t){return boe(e)?e:woe(e,t)?[e]:joe(_oe(e))}var JF=Soe,Noe=Td;function koe(e){if(typeof e=="string"||Noe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var mx=koe,Coe=JF,Eoe=mx;function Ooe(e,t){t=Coe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Eoe(t[r++])];return r&&r==n?e:void 0}var fN=Ooe,Poe=fN;function Aoe(e,t,r){var n=e==null?void 0:Poe(e,t);return n===void 0?r:n}var ZF=Aoe;const xs=Lt(ZF);function Toe(e){return e==null}var Roe=Toe;const lt=Lt(Roe);var $oe=$a,Moe=Fn,Ioe=Ma,Doe="[object String]";function Loe(e){return typeof e=="string"||!Moe(e)&&Ioe(e)&&$oe(e)==Doe}var Foe=Loe;const nc=Lt(Foe);var e3={exports:{}},$t={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hN=Symbol.for("react.element"),pN=Symbol.for("react.portal"),gx=Symbol.for("react.fragment"),vx=Symbol.for("react.strict_mode"),yx=Symbol.for("react.profiler"),xx=Symbol.for("react.provider"),bx=Symbol.for("react.context"),Uoe=Symbol.for("react.server_context"),wx=Symbol.for("react.forward_ref"),jx=Symbol.for("react.suspense"),_x=Symbol.for("react.suspense_list"),Sx=Symbol.for("react.memo"),Nx=Symbol.for("react.lazy"),Boe=Symbol.for("react.offscreen"),t3;t3=Symbol.for("react.module.reference");function ks(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hN:switch(e=e.type,e){case gx:case yx:case vx:case jx:case _x:return e;default:switch(e=e&&e.$$typeof,e){case Uoe:case bx:case wx:case Nx:case Sx:case xx:return e;default:return t}}case pN:return t}}}$t.ContextConsumer=bx;$t.ContextProvider=xx;$t.Element=hN;$t.ForwardRef=wx;$t.Fragment=gx;$t.Lazy=Nx;$t.Memo=Sx;$t.Portal=pN;$t.Profiler=yx;$t.StrictMode=vx;$t.Suspense=jx;$t.SuspenseList=_x;$t.isAsyncMode=function(){return!1};$t.isConcurrentMode=function(){return!1};$t.isContextConsumer=function(e){return ks(e)===bx};$t.isContextProvider=function(e){return ks(e)===xx};$t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hN};$t.isForwardRef=function(e){return ks(e)===wx};$t.isFragment=function(e){return ks(e)===gx};$t.isLazy=function(e){return ks(e)===Nx};$t.isMemo=function(e){return ks(e)===Sx};$t.isPortal=function(e){return ks(e)===pN};$t.isProfiler=function(e){return ks(e)===yx};$t.isStrictMode=function(e){return ks(e)===vx};$t.isSuspense=function(e){return ks(e)===jx};$t.isSuspenseList=function(e){return ks(e)===_x};$t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gx||e===yx||e===vx||e===jx||e===_x||e===Boe||typeof e=="object"&&e!==null&&(e.$$typeof===Nx||e.$$typeof===Sx||e.$$typeof===xx||e.$$typeof===bx||e.$$typeof===wx||e.$$typeof===t3||e.getModuleId!==void 0)};$t.typeOf=ks;e3.exports=$t;var zoe=e3.exports,qoe=$a,Woe=Ma,Voe="[object Number]";function Hoe(e){return typeof e=="number"||Woe(e)&&qoe(e)==Voe}var r3=Hoe;const Koe=Lt(r3);var Goe=r3;function Yoe(e){return Goe(e)&&e!=+e}var Qoe=Yoe;const Dd=Lt(Qoe);var Js=function(t){return t===0?0:t>0?1:-1},_l=function(t){return nc(t)&&t.indexOf("%")===t.length-1},de=function(t){return Koe(t)&&!Dd(t)},Xoe=function(t){return lt(t)},Ir=function(t){return de(t)||nc(t)},Joe=0,Dp=function(t){var r=++Joe;return"".concat(t||"").concat(r)},sc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&!nc(t))return n;var i;if(_l(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Dd(i)&&(i=n),s&&i>r&&(i=r),i},no=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Zoe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},hs=function(t,r){return de(t)&&de(r)?function(n){return t+n*(r-t)}:function(){return r}};function lv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):xs(n,t))===r})}var ele=function(t,r){return de(t)&&de(r)?t-r:nc(t)&&nc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function hu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Aj(e){"@babel/helpers - typeof";return Aj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aj(e)}var tle=["viewBox","children"],rle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZO=["points","pathLength"],iw={svg:tle,polygon:ZO,polyline:ZO},mN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Rd(n))return null;var s={};return Object.keys(n).forEach(function(i){mN.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},nle=function(t,r,n){return function(s){return t(r,n,s),null}},uv=function(t,r,n){if(!Rd(t)||Aj(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];mN.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=nle(o,r,n))}),s},sle=["children"],ile=["children"];function eP(e,t){if(e==null)return{};var r=ale(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ale(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tj(e){"@babel/helpers - typeof";return Tj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tj(e)}var tP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},da=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},rP=null,aw=null,gN=function e(t){if(t===rP&&Array.isArray(aw))return aw;var r=[];return x.Children.forEach(t,function(n){lt(n)||(zoe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),aw=r,rP=t,r};function ri(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return da(s)}):n=[da(t)],gN(e).forEach(function(s){var i=xs(s,"type.displayName")||xs(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Wn(e,t){var r=ri(e,t);return r&&r[0]}var nP=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!de(n)||n<=0||!de(s)||s<=0)},ole=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lle=function(t){return t&&t.type&&nc(t.type)&&ole.indexOf(t.type)>=0},cle=function(t){return t&&Tj(t)==="object"&&"clipDot"in t},ule=function(t,r,n,s){var i,o=(i=iw==null?void 0:iw[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!rt(t)&&(s&&o.includes(r)||rle.includes(r))||n&&mN.includes(r)},at=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(x.isValidElement(t)&&(s=t.props),!Rd(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;ule((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},Rj=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return sP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!sP(i,o))return!1}return!0},sP=function(t,r){if(lt(t)&&lt(r))return!0;if(!lt(t)&&!lt(r)){var n=t.props||{},s=n.children,i=eP(n,sle),o=r.props||{},l=o.children,c=eP(o,ile);return s&&l?hu(i,c)&&Rj(s,l):!s&&!l?hu(i,c):!1}return!1},iP=function(t,r){var n=[],s={};return gN(t).forEach(function(i,o){if(lle(i))n.push(i);else if(i){var l=da(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},dle=function(t){var r=t&&t.type;return r&&tP[r]?tP[r]:null},fle=function(t,r){return gN(r).indexOf(t)},hle=["children","width","height","viewBox","className","style","title","desc"];function $j(){return $j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$j.apply(this,arguments)}function ple(e,t){if(e==null)return{};var r=mle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mj(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=ple(e,hle),d=s||{width:r,height:n,x:0,y:0},f=ut("recharts-surface",i);return P.createElement("svg",$j({},at(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),P.createElement("title",null,l),P.createElement("desc",null,c),t)}var gle=["children","className"];function Ij(){return Ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ij.apply(this,arguments)}function vle(e,t){if(e==null)return{};var r=yle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ir=P.forwardRef(function(e,t){var r=e.children,n=e.className,s=vle(e,gle),i=ut("recharts-layer",n);return P.createElement("g",Ij({className:i},at(s,!0),{ref:t}),r)}),fa=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function xle(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var ble=xle,wle=ble;function jle(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:wle(e,t,r)}var _le=jle,Sle="\\ud800-\\udfff",Nle="\\u0300-\\u036f",kle="\\ufe20-\\ufe2f",Cle="\\u20d0-\\u20ff",Ele=Nle+kle+Cle,Ole="\\ufe0e\\ufe0f",Ple="\\u200d",Ale=RegExp("["+Ple+Sle+Ele+Ole+"]");function Tle(e){return Ale.test(e)}var n3=Tle;function Rle(e){return e.split("")}var $le=Rle,s3="\\ud800-\\udfff",Mle="\\u0300-\\u036f",Ile="\\ufe20-\\ufe2f",Dle="\\u20d0-\\u20ff",Lle=Mle+Ile+Dle,Fle="\\ufe0e\\ufe0f",Ule="["+s3+"]",Dj="["+Lle+"]",Lj="\\ud83c[\\udffb-\\udfff]",Ble="(?:"+Dj+"|"+Lj+")",i3="[^"+s3+"]",a3="(?:\\ud83c[\\udde6-\\uddff]){2}",o3="[\\ud800-\\udbff][\\udc00-\\udfff]",zle="\\u200d",l3=Ble+"?",c3="["+Fle+"]?",qle="(?:"+zle+"(?:"+[i3,a3,o3].join("|")+")"+c3+l3+")*",Wle=c3+l3+qle,Vle="(?:"+[i3+Dj+"?",Dj,a3,o3,Ule].join("|")+")",Hle=RegExp(Lj+"(?="+Lj+")|"+Vle+Wle,"g");function Kle(e){return e.match(Hle)||[]}var Gle=Kle,Yle=$le,Qle=n3,Xle=Gle;function Jle(e){return Qle(e)?Xle(e):Yle(e)}var Zle=Jle,ece=_le,tce=n3,rce=Zle,nce=XF;function sce(e){return function(t){t=nce(t);var r=tce(t)?rce(t):void 0,n=r?r[0]:t.charAt(0),s=r?ece(r,1).join(""):t.slice(1);return n[e]()+s}}var ice=sce,ace=ice,oce=ace("toUpperCase"),lce=oce;const kx=Lt(lce);function qt(e){return function(){return e}}const u3=Math.cos,dv=Math.sin,ui=Math.sqrt,fv=Math.PI,Cx=2*fv,Fj=Math.PI,Uj=2*Fj,dl=1e-6,cce=Uj-dl;function d3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function uce(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return d3;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class dce{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?d3:uce(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>dl)if(!(Math.abs(f*c-u*d)>dl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=s-l,m=c*c+u*u,v=p*p+g*g,y=Math.sqrt(m),b=Math.sqrt(h),w=i*Math.tan((Fj-Math.acos((m+h-v)/(2*y*b)))/2),S=w/b,j=w/y;Math.abs(S-1)>dl&&this._append`L${t+S*d},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>dl||Math.abs(this._y1-d)>dl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Uj+Uj),h>cce?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>dl&&this._append`A${n},${n},0,${+(h>=Fj)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function vN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new dce(t)}function yN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function f3(e){this._context=e}f3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ex(e){return new f3(e)}function h3(e){return e[0]}function p3(e){return e[1]}function m3(e,t){var r=qt(!0),n=null,s=Ex,i=null,o=vN(l);e=typeof e=="function"?e:e===void 0?h3:qt(e),t=typeof t=="function"?t:t===void 0?p3:qt(t);function l(c){var u,d=(c=yN(c)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:qt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:qt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:qt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Om(e,t,r){var n=null,s=qt(!0),i=null,o=Ex,l=null,c=vN(u);e=typeof e=="function"?e:e===void 0?h3:qt(+e),t=typeof t=="function"?t:qt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?p3:qt(+r);function u(f){var h,p,g,m=(f=yN(f)).length,v,y=!1,b,w=new Array(m),S=new Array(m);for(i==null&&(l=o(b=c())),h=0;h<=m;++h){if(!(h<m&&s(v=f[h],h,f))===y)if(y=!y)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(w[g],S[g]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(v,h,f),S[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):S[h]))}if(b)return l=null,b+""||null}function d(){return m3().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:qt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class g3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function fce(e){return new g3(e,!0)}function hce(e){return new g3(e,!1)}const xN={draw(e,t){const r=ui(t/fv);e.moveTo(r,0),e.arc(0,0,r,0,Cx)}},pce={draw(e,t){const r=ui(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},v3=ui(1/3),mce=v3*2,gce={draw(e,t){const r=ui(t/mce),n=r*v3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},vce={draw(e,t){const r=ui(t),n=-r/2;e.rect(n,n,r,r)}},yce=.8908130915292852,y3=dv(fv/10)/dv(7*fv/10),xce=dv(Cx/10)*y3,bce=-u3(Cx/10)*y3,wce={draw(e,t){const r=ui(t*yce),n=xce*r,s=bce*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Cx*i/5,l=u3(o),c=dv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},ow=ui(3),jce={draw(e,t){const r=-ui(t/(ow*3));e.moveTo(0,r*2),e.lineTo(-ow*r,-r),e.lineTo(ow*r,-r),e.closePath()}},as=-.5,os=ui(3)/2,Bj=1/ui(12),_ce=(Bj/2+1)*3,Sce={draw(e,t){const r=ui(t/_ce),n=r/2,s=r*Bj,i=n,o=r*Bj+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(as*n-os*s,os*n+as*s),e.lineTo(as*i-os*o,os*i+as*o),e.lineTo(as*l-os*c,os*l+as*c),e.lineTo(as*n+os*s,as*s-os*n),e.lineTo(as*i+os*o,as*o-os*i),e.lineTo(as*l+os*c,as*c-os*l),e.closePath()}};function Nce(e,t){let r=null,n=vN(s);e=typeof e=="function"?e:qt(e||xN),t=typeof t=="function"?t:qt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:qt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:qt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function hv(){}function pv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function x3(e){this._context=e}x3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kce(e){return new x3(e)}function b3(e){this._context=e}b3.prototype={areaStart:hv,areaEnd:hv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:pv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cce(e){return new b3(e)}function w3(e){this._context=e}w3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:pv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ece(e){return new w3(e)}function j3(e){this._context=e}j3.prototype={areaStart:hv,areaEnd:hv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Oce(e){return new j3(e)}function aP(e){return e<0?-1:1}function oP(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(aP(i)+aP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function lP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function lw(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function mv(e){this._context=e}mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lw(this,this._t0,lP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,lw(this,lP(this,r=oP(this,e,t)),r);break;default:lw(this,this._t0,r=oP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _3(e){this._context=new S3(e)}(_3.prototype=Object.create(mv.prototype)).point=function(e,t){mv.prototype.point.call(this,t,e)};function S3(e){this._context=e}S3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function Pce(e){return new mv(e)}function Ace(e){return new _3(e)}function N3(e){this._context=e}N3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=cP(e),s=cP(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cP(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function Tce(e){return new N3(e)}function Ox(e,t){this._context=e,this._t=t}Ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Rce(e){return new Ox(e,.5)}function $ce(e){return new Ox(e,0)}function Mce(e){return new Ox(e,1)}function Gu(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function zj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Ice(e,t){return e[t]}function Dce(e){const t=[];return t.key=e,t}function Lce(){var e=qt([]),t=zj,r=Gu,n=Ice;function s(i){var o=Array.from(e.apply(this,arguments),Dce),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=yN(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:qt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:qt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?zj:typeof i=="function"?i:qt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Gu,s):r},s}function Fce(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Gu(e,t)}}function Uce(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Gu(e,t)}}function Bce(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;p+=v-y}c+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Gu(e,t)}}function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}var zce=["type","size","sizeType"];function qj(){return qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qj.apply(this,arguments)}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){qce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qce(e,t,r){return t=Wce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wce(e){var t=Vce(e,"string");return Ah(t)=="symbol"?t:t+""}function Vce(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hce(e,t){if(e==null)return{};var r=Kce(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var k3={symbolCircle:xN,symbolCross:pce,symbolDiamond:gce,symbolSquare:vce,symbolStar:wce,symbolTriangle:jce,symbolWye:Sce},Gce=Math.PI/180,Yce=function(t){var r="symbol".concat(kx(t));return k3[r]||xN},Qce=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Gce;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Xce=function(t,r){k3["symbol".concat(kx(t))]=r},bN=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=Hce(t,zce),u=dP(dP({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=Yce(n),y=Nce().type(v).size(Qce(i,l,n));return y()},f=u.className,h=u.cx,p=u.cy,g=at(u,!0);return h===+h&&p===+p&&i===+i?P.createElement("path",qj({},g,{className:ut("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};bN.registerSymbol=Xce;function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function Wj(){return Wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wj.apply(this,arguments)}function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){Th(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E3(n.key),n)}}function tue(e,t,r){return t&&eue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rue(e,t,r){return t=gv(t),nue(e,C3()?Reflect.construct(t,r||[],gv(e).constructor):t.apply(e,r))}function nue(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sue(e)}function sue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C3=function(){return!!e})()}function gv(e){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gv(e)}function iue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vj(e,t)}function Vj(e,t){return Vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Vj(e,t)}function Th(e,t,r){return t=E3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E3(e){var t=aue(e,"string");return Yu(t)=="symbol"?t:t+""}function aue(e,t){if(Yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ls=32,wN=function(e){function t(){return Zce(this,t),rue(this,t,arguments)}return iue(t,e),tue(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=ls/2,o=ls/6,l=ls/3,c=n.inactive?s:n.color;if(n.type==="plainline")return P.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ls,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ls,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return P.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ls/8,"h").concat(ls,"v").concat(ls*3/4,"h").concat(-ls,"z"),className:"recharts-legend-icon"});if(P.isValidElement(n.legendIcon)){var u=Jce({},n);return delete u.legendIcon,P.cloneElement(n.legendIcon,u)}return P.createElement(bN,{fill:c,cx:i,cy:i,size:ls,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:ls,height:ls},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||c,v=ut(Th(Th({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=rt(p.value)?null:p.value;fa(!rt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return P.createElement("li",Wj({className:v,style:f,key:"legend-item-".concat(g)},uv(n.props,p,g)),P.createElement(Mj,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),P.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Th(wN,"displayName","Legend");Th(wN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oue=hx;function lue(){this.__data__=new oue,this.size=0}var cue=lue;function uue(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var due=uue;function fue(e){return this.__data__.get(e)}var hue=fue;function pue(e){return this.__data__.has(e)}var mue=pue,gue=hx,vue=lN,yue=cN,xue=200;function bue(e,t){var r=this.__data__;if(r instanceof gue){var n=r.__data__;if(!vue||n.length<xue-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new yue(n)}return r.set(e,t),this.size=r.size,this}var wue=bue,jue=hx,_ue=cue,Sue=due,Nue=hue,kue=mue,Cue=wue;function Ld(e){var t=this.__data__=new jue(e);this.size=t.size}Ld.prototype.clear=_ue;Ld.prototype.delete=Sue;Ld.prototype.get=Nue;Ld.prototype.has=kue;Ld.prototype.set=Cue;var O3=Ld,Eue="__lodash_hash_undefined__";function Oue(e){return this.__data__.set(e,Eue),this}var Pue=Oue;function Aue(e){return this.__data__.has(e)}var Tue=Aue,Rue=cN,$ue=Pue,Mue=Tue;function vv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Rue;++t<r;)this.add(e[t])}vv.prototype.add=vv.prototype.push=$ue;vv.prototype.has=Mue;var P3=vv;function Iue(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var A3=Iue;function Due(e,t){return e.has(t)}var T3=Due,Lue=P3,Fue=A3,Uue=T3,Bue=1,zue=2;function que(e,t,r,n,s,i){var o=r&Bue,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&zue?new Lue:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var v=o?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Fue(t,function(y,b){if(!Uue(p,b)&&(g===y||s(g,y,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(g===m||s(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var R3=que,Wue=qi,Vue=Wue.Uint8Array,Hue=Vue;function Kue(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var Gue=Kue;function Yue(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var jN=Yue,hP=Ip,pP=Hue,Que=oN,Xue=R3,Jue=Gue,Zue=jN,ede=1,tde=2,rde="[object Boolean]",nde="[object Date]",sde="[object Error]",ide="[object Map]",ade="[object Number]",ode="[object RegExp]",lde="[object Set]",cde="[object String]",ude="[object Symbol]",dde="[object ArrayBuffer]",fde="[object DataView]",mP=hP?hP.prototype:void 0,cw=mP?mP.valueOf:void 0;function hde(e,t,r,n,s,i,o){switch(r){case fde:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case dde:return!(e.byteLength!=t.byteLength||!i(new pP(e),new pP(t)));case rde:case nde:case ade:return Que(+e,+t);case sde:return e.name==t.name&&e.message==t.message;case ode:case cde:return e==t+"";case ide:var l=Jue;case lde:var c=n&ede;if(l||(l=Zue),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=tde,o.set(e,t);var d=Xue(l(e),l(t),n,s,i,o);return o.delete(e),d;case ude:if(cw)return cw.call(e)==cw.call(t)}return!1}var pde=hde;function mde(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var $3=mde,gde=$3,vde=Fn;function yde(e,t,r){var n=t(e);return vde(e)?n:gde(n,r(e))}var xde=yde;function bde(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var wde=bde;function jde(){return[]}var _de=jde,Sde=wde,Nde=_de,kde=Object.prototype,Cde=kde.propertyIsEnumerable,gP=Object.getOwnPropertySymbols,Ede=gP?function(e){return e==null?[]:(e=Object(e),Sde(gP(e),function(t){return Cde.call(e,t)}))}:Nde,Ode=Ede;function Pde(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Ade=Pde,Tde=$a,Rde=Ma,$de="[object Arguments]";function Mde(e){return Rde(e)&&Tde(e)==$de}var Ide=Mde,vP=Ide,Dde=Ma,M3=Object.prototype,Lde=M3.hasOwnProperty,Fde=M3.propertyIsEnumerable,Ude=vP(function(){return arguments}())?vP:function(e){return Dde(e)&&Lde.call(e,"callee")&&!Fde.call(e,"callee")},_N=Ude,yv={exports:{}};function Bde(){return!1}var zde=Bde;yv.exports;(function(e,t){var r=qi,n=zde,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(yv,yv.exports);var I3=yv.exports,qde=9007199254740991,Wde=/^(?:0|[1-9]\d*)$/;function Vde(e,t){var r=typeof e;return t=t??qde,!!t&&(r=="number"||r!="symbol"&&Wde.test(e))&&e>-1&&e%1==0&&e<t}var SN=Vde,Hde=9007199254740991;function Kde(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Hde}var NN=Kde,Gde=$a,Yde=NN,Qde=Ma,Xde="[object Arguments]",Jde="[object Array]",Zde="[object Boolean]",efe="[object Date]",tfe="[object Error]",rfe="[object Function]",nfe="[object Map]",sfe="[object Number]",ife="[object Object]",afe="[object RegExp]",ofe="[object Set]",lfe="[object String]",cfe="[object WeakMap]",ufe="[object ArrayBuffer]",dfe="[object DataView]",ffe="[object Float32Array]",hfe="[object Float64Array]",pfe="[object Int8Array]",mfe="[object Int16Array]",gfe="[object Int32Array]",vfe="[object Uint8Array]",yfe="[object Uint8ClampedArray]",xfe="[object Uint16Array]",bfe="[object Uint32Array]",Qt={};Qt[ffe]=Qt[hfe]=Qt[pfe]=Qt[mfe]=Qt[gfe]=Qt[vfe]=Qt[yfe]=Qt[xfe]=Qt[bfe]=!0;Qt[Xde]=Qt[Jde]=Qt[ufe]=Qt[Zde]=Qt[dfe]=Qt[efe]=Qt[tfe]=Qt[rfe]=Qt[nfe]=Qt[sfe]=Qt[ife]=Qt[afe]=Qt[ofe]=Qt[lfe]=Qt[cfe]=!1;function wfe(e){return Qde(e)&&Yde(e.length)&&!!Qt[Gde(e)]}var jfe=wfe;function _fe(e){return function(t){return e(t)}}var D3=_fe,xv={exports:{}};xv.exports;(function(e,t){var r=VF,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(xv,xv.exports);var Sfe=xv.exports,Nfe=jfe,kfe=D3,yP=Sfe,xP=yP&&yP.isTypedArray,Cfe=xP?kfe(xP):Nfe,L3=Cfe,Efe=Ade,Ofe=_N,Pfe=Fn,Afe=I3,Tfe=SN,Rfe=L3,$fe=Object.prototype,Mfe=$fe.hasOwnProperty;function Ife(e,t){var r=Pfe(e),n=!r&&Ofe(e),s=!r&&!n&&Afe(e),i=!r&&!n&&!s&&Rfe(e),o=r||n||s||i,l=o?Efe(e.length,String):[],c=l.length;for(var u in e)(t||Mfe.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Tfe(u,c)))&&l.push(u);return l}var Dfe=Ife,Lfe=Object.prototype;function Ffe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Lfe;return e===r}var Ufe=Ffe;function Bfe(e,t){return function(r){return e(t(r))}}var F3=Bfe,zfe=F3,qfe=zfe(Object.keys,Object),Wfe=qfe,Vfe=Ufe,Hfe=Wfe,Kfe=Object.prototype,Gfe=Kfe.hasOwnProperty;function Yfe(e){if(!Vfe(e))return Hfe(e);var t=[];for(var r in Object(e))Gfe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Qfe=Yfe,Xfe=aN,Jfe=NN;function Zfe(e){return e!=null&&Jfe(e.length)&&!Xfe(e)}var Lp=Zfe,ehe=Dfe,the=Qfe,rhe=Lp;function nhe(e){return rhe(e)?ehe(e):the(e)}var Px=nhe,she=xde,ihe=Ode,ahe=Px;function ohe(e){return she(e,ahe,ihe)}var lhe=ohe,bP=lhe,che=1,uhe=Object.prototype,dhe=uhe.hasOwnProperty;function fhe(e,t,r,n,s,i){var o=r&che,l=bP(e),c=l.length,u=bP(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:dhe.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<c;){h=l[f];var y=e[h],b=t[h];if(n)var w=o?n(b,y,h,t,e,i):n(y,b,h,e,t,i);if(!(w===void 0?y===b||s(y,b,r,n,i):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var S=e.constructor,j=t.constructor;S!=j&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(m=!1)}return i.delete(e),i.delete(t),m}var hhe=fhe,phe=pc,mhe=qi,ghe=phe(mhe,"DataView"),vhe=ghe,yhe=pc,xhe=qi,bhe=yhe(xhe,"Promise"),whe=bhe,jhe=pc,_he=qi,She=jhe(_he,"Set"),U3=She,Nhe=pc,khe=qi,Che=Nhe(khe,"WeakMap"),Ehe=Che,Hj=vhe,Kj=lN,Gj=whe,Yj=U3,Qj=Ehe,B3=$a,Fd=KF,wP="[object Map]",Ohe="[object Object]",jP="[object Promise]",_P="[object Set]",SP="[object WeakMap]",NP="[object DataView]",Phe=Fd(Hj),Ahe=Fd(Kj),The=Fd(Gj),Rhe=Fd(Yj),$he=Fd(Qj),fl=B3;(Hj&&fl(new Hj(new ArrayBuffer(1)))!=NP||Kj&&fl(new Kj)!=wP||Gj&&fl(Gj.resolve())!=jP||Yj&&fl(new Yj)!=_P||Qj&&fl(new Qj)!=SP)&&(fl=function(e){var t=B3(e),r=t==Ohe?e.constructor:void 0,n=r?Fd(r):"";if(n)switch(n){case Phe:return NP;case Ahe:return wP;case The:return jP;case Rhe:return _P;case $he:return SP}return t});var Mhe=fl,uw=O3,Ihe=R3,Dhe=pde,Lhe=hhe,kP=Mhe,CP=Fn,EP=I3,Fhe=L3,Uhe=1,OP="[object Arguments]",PP="[object Array]",Pm="[object Object]",Bhe=Object.prototype,AP=Bhe.hasOwnProperty;function zhe(e,t,r,n,s,i){var o=CP(e),l=CP(t),c=o?PP:kP(e),u=l?PP:kP(t);c=c==OP?Pm:c,u=u==OP?Pm:u;var d=c==Pm,f=u==Pm,h=c==u;if(h&&EP(e)){if(!EP(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new uw),o||Fhe(e)?Ihe(e,t,r,n,s,i):Dhe(e,t,c,r,n,s,i);if(!(r&Uhe)){var p=d&&AP.call(e,"__wrapped__"),g=f&&AP.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return i||(i=new uw),s(m,v,r,n,i)}}return h?(i||(i=new uw),Lhe(e,t,r,n,s,i)):!1}var qhe=zhe,Whe=qhe,TP=Ma;function z3(e,t,r,n,s){return e===t?!0:e==null||t==null||!TP(e)&&!TP(t)?e!==e&&t!==t:Whe(e,t,r,n,z3,s)}var kN=z3,Vhe=O3,Hhe=kN,Khe=1,Ghe=2;function Yhe(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Vhe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Hhe(d,u,Khe|Ghe,n,f):h))return!1}}return!0}var Qhe=Yhe,Xhe=Xo;function Jhe(e){return e===e&&!Xhe(e)}var q3=Jhe,Zhe=q3,epe=Px;function tpe(e){for(var t=epe(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,Zhe(s)]}return t}var rpe=tpe;function npe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var W3=npe,spe=Qhe,ipe=rpe,ape=W3;function ope(e){var t=ipe(e);return t.length==1&&t[0][2]?ape(t[0][0],t[0][1]):function(r){return r===e||spe(r,e,t)}}var lpe=ope;function cpe(e,t){return e!=null&&t in Object(e)}var upe=cpe,dpe=JF,fpe=_N,hpe=Fn,ppe=SN,mpe=NN,gpe=mx;function vpe(e,t,r){t=dpe(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=gpe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&mpe(s)&&ppe(o,s)&&(hpe(e)||fpe(e)))}var ype=vpe,xpe=upe,bpe=ype;function wpe(e,t){return e!=null&&bpe(e,t,xpe)}var jpe=wpe,_pe=kN,Spe=ZF,Npe=jpe,kpe=iN,Cpe=q3,Epe=W3,Ope=mx,Ppe=1,Ape=2;function Tpe(e,t){return kpe(e)&&Cpe(t)?Epe(Ope(e),t):function(r){var n=Spe(r,e);return n===void 0&&n===t?Npe(r,e):_pe(t,n,Ppe|Ape)}}var Rpe=Tpe;function $pe(e){return e}var Ud=$pe;function Mpe(e){return function(t){return t==null?void 0:t[e]}}var Ipe=Mpe,Dpe=fN;function Lpe(e){return function(t){return Dpe(t,e)}}var Fpe=Lpe,Upe=Ipe,Bpe=Fpe,zpe=iN,qpe=mx;function Wpe(e){return zpe(e)?Upe(qpe(e)):Bpe(e)}var Vpe=Wpe,Hpe=lpe,Kpe=Rpe,Gpe=Ud,Ype=Fn,Qpe=Vpe;function Xpe(e){return typeof e=="function"?e:e==null?Gpe:typeof e=="object"?Ype(e)?Kpe(e[0],e[1]):Hpe(e):Qpe(e)}var Jo=Xpe;function Jpe(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var V3=Jpe;function Zpe(e){return e!==e}var eme=Zpe;function tme(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var rme=tme,nme=V3,sme=eme,ime=rme;function ame(e,t,r){return t===t?ime(e,t,r):nme(e,sme,r)}var ome=ame,lme=ome;function cme(e,t){var r=e==null?0:e.length;return!!r&&lme(e,t,0)>-1}var ume=cme;function dme(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var fme=dme;function hme(){}var pme=hme,dw=U3,mme=pme,gme=jN,vme=1/0,yme=dw&&1/gme(new dw([,-0]))[1]==vme?function(e){return new dw(e)}:mme,xme=yme,bme=P3,wme=ume,jme=fme,_me=T3,Sme=xme,Nme=jN,kme=200;function Cme(e,t,r){var n=-1,s=wme,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=jme;else if(i>=kme){var u=t?null:Sme(e);if(u)return Nme(u);o=!1,s=_me,c=new bme}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Eme=Cme,Ome=Jo,Pme=Eme;function Ame(e,t){return e&&e.length?Pme(e,Ome(t)):[]}var Tme=Ame;const RP=Lt(Tme);function H3(e,t,r){return t===!0?RP(e,r):rt(t)?RP(e,t):e}function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}var Rme=["ref"];function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){Ax(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G3(n.key),n)}}function Mme(e,t,r){return t&&MP(e.prototype,t),r&&MP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ime(e,t,r){return t=bv(t),Dme(e,K3()?Reflect.construct(t,r||[],bv(e).constructor):t.apply(e,r))}function Dme(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lme(e)}function Lme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K3=function(){return!!e})()}function bv(e){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bv(e)}function Fme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xj(e,t)}function Xj(e,t){return Xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xj(e,t)}function Ax(e,t,r){return t=G3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G3(e){var t=Ume(e,"string");return Qu(t)=="symbol"?t:t+""}function Ume(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Bme(e,t){if(e==null)return{};var r=zme(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qme(e){return e.value}function Wme(e,t){if(P.isValidElement(e))return P.cloneElement(e,t);if(typeof e=="function")return P.createElement(e,t);t.ref;var r=Bme(t,Rme);return P.createElement(wN,r)}var IP=1,pu=function(e){function t(){var r;$me(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Ime(this,t,[].concat(s)),Ax(r,"lastBoundingBox",{width:-1,height:-1}),r}return Fme(t,e),Mme(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>IP||Math.abs(s.height-this.lastBoundingBox.height)>IP)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ki({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ki(Ki({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Ki(Ki({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return P.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Wme(i,Ki(Ki({},this.props),{},{payload:H3(d,u,qme)})))}}],[{key:"getWithHeight",value:function(n,s){var i=Ki(Ki({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&de(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(x.PureComponent);Ax(pu,"displayName","Legend");Ax(pu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var DP=Ip,Vme=_N,Hme=Fn,LP=DP?DP.isConcatSpreadable:void 0;function Kme(e){return Hme(e)||Vme(e)||!!(LP&&e&&e[LP])}var Gme=Kme,Yme=$3,Qme=Gme;function Y3(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=Qme),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?Y3(l,t-1,r,n,s):Yme(s,l):n||(s[s.length]=l)}return s}var Q3=Y3;function Xme(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var Jme=Xme,Zme=Jme,ege=Zme(),tge=ege,rge=tge,nge=Px;function sge(e,t){return e&&rge(e,t,nge)}var X3=sge,ige=Lp;function age(e,t){return function(r,n){if(r==null)return r;if(!ige(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var oge=age,lge=X3,cge=oge,uge=cge(lge),CN=uge,dge=CN,fge=Lp;function hge(e,t){var r=-1,n=fge(e)?Array(e.length):[];return dge(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var J3=hge;function pge(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var mge=pge,FP=Td;function gge(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=FP(e),o=t!==void 0,l=t===null,c=t===t,u=FP(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var vge=gge,yge=vge;function xge(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=yge(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var bge=xge,fw=dN,wge=fN,jge=Jo,_ge=J3,Sge=mge,Nge=D3,kge=bge,Cge=Ud,Ege=Fn;function Oge(e,t,r){t.length?t=fw(t,function(i){return Ege(i)?function(o){return wge(o,i.length===1?i[0]:i)}:i}):t=[Cge];var n=-1;t=fw(t,Nge(jge));var s=_ge(e,function(i,o,l){var c=fw(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Sge(s,function(i,o){return kge(i,o,r)})}var Pge=Oge;function Age(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Tge=Age,Rge=Tge,UP=Math.max;function $ge(e,t,r){return t=UP(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=UP(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),Rge(e,this,l)}}var Mge=$ge;function Ige(e){return function(){return e}}var Dge=Ige,Lge=pc,Fge=function(){try{var e=Lge(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Z3=Fge,Uge=Dge,BP=Z3,Bge=Ud,zge=BP?function(e,t){return BP(e,"toString",{configurable:!0,enumerable:!1,value:Uge(t),writable:!0})}:Bge,qge=zge,Wge=800,Vge=16,Hge=Date.now;function Kge(e){var t=0,r=0;return function(){var n=Hge(),s=Vge-(n-r);if(r=n,s>0){if(++t>=Wge)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Gge=Kge,Yge=qge,Qge=Gge,Xge=Qge(Yge),Jge=Xge,Zge=Ud,eve=Mge,tve=Jge;function rve(e,t){return tve(eve(e,t,Zge),e+"")}var nve=rve,sve=oN,ive=Lp,ave=SN,ove=Xo;function lve(e,t,r){if(!ove(r))return!1;var n=typeof t;return(n=="number"?ive(r)&&ave(t,r.length):n=="string"&&t in r)?sve(r[t],e):!1}var Tx=lve,cve=Q3,uve=Pge,dve=nve,zP=Tx,fve=dve(function(e,t){if(e==null)return[];var r=t.length;return r>1&&zP(e,t[0],t[1])?t=[]:r>2&&zP(t[0],t[1],t[2])&&(t=[t[0]]),uve(e,cve(t,1),[])}),hve=fve;const EN=Lt(hve);function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function Jj(){return Jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jj.apply(this,arguments)}function pve(e,t){return yve(e)||vve(e,t)||gve(e,t)||mve()}function mve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gve(e,t){if(e){if(typeof e=="string")return qP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qP(e,t)}}function qP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function yve(e){if(Array.isArray(e))return e}function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){xve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xve(e,t,r){return t=bve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bve(e){var t=wve(e,"string");return Rh(t)=="symbol"?t:t+""}function wve(e,t){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jve(e){return Array.isArray(e)&&Ir(e[0])&&Ir(e[1])?e.join(" ~ "):e}var _ve=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(d&&d.length){var O={padding:0,margin:0},U=(h?EN(d,h):d).map(function(E,B){if(E.type==="none")return null;var M=hw({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},l),z=E.formatter||f||jve,F=E.value,T=E.name,R=F,J=T;if(z&&R!=null&&J!=null){var G=z(F,T,E,B,d);if(Array.isArray(G)){var ie=pve(G,2);R=ie[0],J=ie[1]}else R=G}return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:M},Ir(J)?P.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Ir(J)?P.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,P.createElement("span",{className:"recharts-tooltip-item-value"},R),P.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:O},U)}return null},S=hw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=hw({margin:0},u),_=!lt(m),N=_?m:"",k=ut("recharts-default-tooltip",p),C=ut("recharts-tooltip-label",g);_&&v&&d!==void 0&&d!==null&&(N=v(m,d));var A=b?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",Jj({className:k,style:S},A),P.createElement("p",{className:C,style:j},P.isValidElement(N)?N:"".concat(N)),w())};function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(e)}function Am(e,t,r){return t=Sve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sve(e){var t=Nve(e,"string");return $h(t)=="symbol"?t:t+""}function Nve(e,t){if($h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ff="recharts-tooltip-wrapper",kve={visibility:"hidden"};function Cve(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ut(ff,Am(Am(Am(Am({},"".concat(ff,"-right"),de(r)&&t&&de(t.x)&&r>=t.x),"".concat(ff,"-left"),de(r)&&t&&de(t.x)&&r<t.x),"".concat(ff,"-bottom"),de(n)&&t&&de(t.y)&&n>=t.y),"".concat(ff,"-top"),de(n)&&t&&de(t.y)&&n<t.y))}function VP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&de(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function Eve(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ove(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=VP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=VP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Eve({translateX:d,translateY:f,useTranslate3d:l})):u=kve,{cssProperties:u,cssClasses:Cve({translateX:d,translateY:f,coordinate:r})}}function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){e_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ave(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t5(n.key),n)}}function Tve(e,t,r){return t&&Ave(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rve(e,t,r){return t=wv(t),$ve(e,e5()?Reflect.construct(t,r||[],wv(e).constructor):t.apply(e,r))}function $ve(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mve(e)}function Mve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e5=function(){return!!e})()}function wv(e){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wv(e)}function Ive(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zj(e,t)}function Zj(e,t){return Zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Zj(e,t)}function e_(e,t,r){return t=t5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t5(e){var t=Dve(e,"string");return Xu(t)=="symbol"?t:t+""}function Dve(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GP=1,Lve=function(e){function t(){var r;Pve(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Rve(this,t,[].concat(s)),e_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),e_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Ive(t,e),Tve(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>GP||Math.abs(n.height-this.state.lastBoundingBox.height)>GP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,g=s.position,m=s.reverseDirection,v=s.useTranslate3d,y=s.viewBox,b=s.wrapperStyle,w=Ove({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),S=w.cssClasses,j=w.cssProperties,_=KP(KP({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return P.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(k){n.wrapperNode=k}},u)}}])}(x.PureComponent),Fve=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Bd={isSsr:Fve()};function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function QP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){ON(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n5(n.key),n)}}function zve(e,t,r){return t&&Bve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qve(e,t,r){return t=jv(t),Wve(e,r5()?Reflect.construct(t,r||[],jv(e).constructor):t.apply(e,r))}function Wve(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vve(e)}function Vve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r5=function(){return!!e})()}function jv(e){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jv(e)}function Hve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t_(e,t)}function t_(e,t){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},t_(e,t)}function ON(e,t,r){return t=n5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n5(e){var t=Kve(e,"string");return Ju(t)=="symbol"?t:t+""}function Kve(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gve(e){return e.dataKey}function Yve(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(_ve,t)}var yi=function(e){function t(){return Uve(this,t),qve(this,t,arguments)}return Hve(t,e),zve(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,g=s.payload,m=s.payloadUniqBy,v=s.position,y=s.reverseDirection,b=s.useTranslate3d,w=s.viewBox,S=s.wrapperStyle,j=g??[];f&&j.length&&(j=H3(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),m,Gve));var _=j.length>0;return P.createElement(Lve,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:_,offset:p,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:S},Yve(u,QP(QP({},this.props),{},{payload:j})))}}])}(x.PureComponent);ON(yi,"displayName","Tooltip");ON(yi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Bd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Qve=qi,Xve=function(){return Qve.Date.now()},Jve=Xve,Zve=/\s/;function eye(e){for(var t=e.length;t--&&Zve.test(e.charAt(t)););return t}var tye=eye,rye=tye,nye=/^\s+/;function sye(e){return e&&e.slice(0,rye(e)+1).replace(nye,"")}var iye=sye,aye=iye,XP=Xo,oye=Td,JP=NaN,lye=/^[-+]0x[0-9a-f]+$/i,cye=/^0b[01]+$/i,uye=/^0o[0-7]+$/i,dye=parseInt;function fye(e){if(typeof e=="number")return e;if(oye(e))return JP;if(XP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=XP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=aye(e);var r=cye.test(e);return r||uye.test(e)?dye(e.slice(2),r?2:8):lye.test(e)?JP:+e}var s5=fye,hye=Xo,pw=Jve,ZP=s5,pye="Expected a function",mye=Math.max,gye=Math.min;function vye(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(pye);t=ZP(t)||0,hye(r)&&(d=!!r.leading,f="maxWait"in r,i=f?mye(ZP(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(_){var N=n,k=s;return n=s=void 0,u=_,o=e.apply(k,N),o}function g(_){return u=_,l=setTimeout(y,t),d?p(_):o}function m(_){var N=_-c,k=_-u,C=t-N;return f?gye(C,i-k):C}function v(_){var N=_-c,k=_-u;return c===void 0||N>=t||N<0||f&&k>=i}function y(){var _=pw();if(v(_))return b(_);l=setTimeout(y,m(_))}function b(_){return l=void 0,h&&n?p(_):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function S(){return l===void 0?o:b(pw())}function j(){var _=pw(),N=v(_);if(n=arguments,s=this,c=_,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(y,t),p(c)}return l===void 0&&(l=setTimeout(y,t)),o}return j.cancel=w,j.flush=S,j}var yye=vye,xye=yye,bye=Xo,wye="Expected a function";function jye(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(wye);return bye(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),xye(e,t,{leading:n,maxWait:t,trailing:s})}var _ye=jye;const i5=Lt(_ye);function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){Sye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sye(e,t,r){return t=Nye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nye(e){var t=kye(e,"string");return Mh(t)=="symbol"?t:t+""}function kye(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cye(e,t){return Aye(e)||Pye(e,t)||Oye(e,t)||Eye()}function Eye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oye(e,t){if(e){if(typeof e=="string")return t2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t2(e,t)}}function t2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Aye(e){if(Array.isArray(e))return e}var Tye=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,b=e.onResize,w=e.style,S=w===void 0?{}:w,j=x.useRef(null),_=x.useRef();_.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=x.useState({containerWidth:s.width,containerHeight:s.height}),k=Cye(N,2),C=k[0],A=k[1],I=x.useCallback(function(U,E){A(function(B){var M=Math.round(U),z=Math.round(E);return B.containerWidth===M&&B.containerHeight===z?B:{containerWidth:M,containerHeight:z}})},[]);x.useEffect(function(){var U=function(T){var R,J=T[0].contentRect,G=J.width,ie=J.height;I(G,ie),(R=_.current)===null||R===void 0||R.call(_,G,ie)};m>0&&(U=i5(U,m,{trailing:!0,leading:!1}));var E=new ResizeObserver(U),B=j.current.getBoundingClientRect(),M=B.width,z=B.height;return I(M,z),E.observe(j.current),function(){E.disconnect()}},[I,m]);var O=x.useMemo(function(){var U=C.containerWidth,E=C.containerHeight;if(U<0||E<0)return null;fa(_l(o)||_l(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),fa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=_l(o)?U:o,M=_l(c)?E:c;r&&r>0&&(B?M=B/r:M&&(B=M*r),h&&M>h&&(M=h)),fa(B>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,M,o,c,d,f,r);var z=!Array.isArray(p)&&da(p.type).endsWith("Chart");return P.Children.map(p,function(F){return P.isValidElement(F)?x.cloneElement(F,Tm({width:B,height:M},z?{style:Tm({height:"100%",width:"100%",maxHeight:M,maxWidth:B},F.props.style)}:{})):F})},[r,p,c,h,f,d,C,o]);return P.createElement("div",{id:v?"".concat(v):void 0,className:ut("recharts-responsive-container",y),style:Tm(Tm({},S),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},O)}),a5=function(t){return null};a5.displayName="Cell";function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){Rye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rye(e,t,r){return t=$ye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ye(e){var t=Mye(e,"string");return Ih(t)=="symbol"?t:t+""}function Mye(e,t){if(Ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rc={widthCache:{},cacheCount:0},Iye=2e3,Dye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},n2="recharts_measurement_span";function Lye(e){var t=r_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Wf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Bd.isSsr)return{width:0,height:0};var n=Lye(r),s=JSON.stringify({text:t,copyStyle:n});if(Rc.widthCache[s])return Rc.widthCache[s];try{var i=document.getElementById(n2);i||(i=document.createElement("span"),i.setAttribute("id",n2),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=r_(r_({},Dye),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Rc.widthCache[s]=c,++Rc.cacheCount>Iye&&(Rc.cacheCount=0,Rc.widthCache={}),c}catch{return{width:0,height:0}}},Fye=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function _v(e,t){return qye(e)||zye(e,t)||Bye(e,t)||Uye()}function Uye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bye(e,t){if(e){if(typeof e=="string")return s2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s2(e,t)}}function s2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function qye(e){if(Array.isArray(e))return e}function Wye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hye(n.key),n)}}function Vye(e,t,r){return t&&i2(e.prototype,t),r&&i2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hye(e){var t=Kye(e,"string");return Dh(t)=="symbol"?t:t+""}function Kye(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Yye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,o5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qye=Object.keys(o5),eu="NaN";function Xye(e,t){return e*o5[t]}var Rm=function(){function e(t,r){Wye(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Gye.test(r)&&(this.num=NaN,this.unit=""),Qye.includes(r)&&(this.num=Xye(t,r),this.unit="px")}return Vye(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Yye.exec(r))!==null&&n!==void 0?n:[],i=_v(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function l5(e){if(e.includes(eu))return eu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=a2.exec(t))!==null&&r!==void 0?r:[],s=_v(n,4),i=s[1],o=s[2],l=s[3],c=Rm.parse(i??""),u=Rm.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return eu;t=t.replace(a2,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=o2.exec(t))!==null&&f!==void 0?f:[],p=_v(h,4),g=p[1],m=p[2],v=p[3],y=Rm.parse(g??""),b=Rm.parse(v??""),w=m==="+"?y.add(b):y.subtract(b);if(w.isNaN())return eu;t=t.replace(o2,w.toString())}return t}var l2=/\(([^()]*)\)/;function Jye(e){for(var t=e;t.includes("(");){var r=l2.exec(t),n=_v(r,2),s=n[1];t=t.replace(l2,l5(s))}return t}function Zye(e){var t=e.replace(/\s+/g,"");return t=Jye(t),t=l5(t),t}function exe(e){try{return Zye(e)}catch{return eu}}function mw(e){var t=exe(e.slice(5,-1));return t===eu?"":t}var txe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rxe=["dx","dy","angle","className","breakAll"];function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(this,arguments)}function c2(e,t){if(e==null)return{};var r=nxe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function u2(e,t){return oxe(e)||axe(e,t)||ixe(e,t)||sxe()}function sxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ixe(e,t){if(e){if(typeof e=="string")return d2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d2(e,t)}}function d2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function axe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function oxe(e){if(Array.isArray(e))return e}var c5=/[ \f\n\r\t\v\u2028\u2029]+/,u5=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];lt(r)||(n?i=r.toString().split(""):i=r.toString().split(c5));var o=i.map(function(c){return{word:c,width:Wf(c,s).width}}),l=n?0:Wf("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},lxe=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=de(o),f=l,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(M,z){var F=z.word,T=z.width,R=M[M.length-1];if(R&&(s==null||i||R.width+T+n<Number(s)))R.words.push(F),R.width+=T+n;else{var J={words:[F],width:T};M.push(J)}return M},[])},p=h(r),g=function(B){return B.reduce(function(M,z){return M.width>z.width?M:z})};if(!d)return p;for(var m="",v=function(B){var M=f.slice(0,B),z=u5({breakAll:u,style:c,children:M+m}).wordsWithComputedWidth,F=h(z),T=F.length>o||g(F).width>Number(s);return[T,F]},y=0,b=f.length-1,w=0,S;y<=b&&w<=f.length-1;){var j=Math.floor((y+b)/2),_=j-1,N=v(_),k=u2(N,2),C=k[0],A=k[1],I=v(j),O=u2(I,1),U=O[0];if(!C&&!U&&(y=j+1),C&&U&&(b=j-1),!C&&U){S=A;break}w++}return S||p},f2=function(t){var r=lt(t)?[]:t.toString().split(c5);return[{words:r}]},cxe=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Bd.isSsr){var c,u,d=u5({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return f2(s);return lxe({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return f2(s)},h2="#808080",Sv=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?h2:v,b=c2(t,txe),w=x.useMemo(function(){return cxe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),S=b.dx,j=b.dy,_=b.angle,N=b.className,k=b.breakAll,C=c2(b,rxe);if(!Ir(n)||!Ir(i))return null;var A=n+(de(S)?S:0),I=i+(de(j)?j:0),O;switch(m){case"start":O=mw("calc(".concat(u,")"));break;case"middle":O=mw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=mw("calc(".concat(w.length-1," * -").concat(l,")"));break}var U=[];if(f){var E=w[0].width,B=b.width;U.push("scale(".concat((de(B)?B/E:1)/E,")"))}return _&&U.push("rotate(".concat(_,", ").concat(A,", ").concat(I,")")),U.length&&(C.transform=U.join(" ")),P.createElement("text",n_({},at(C,!0),{x:A,y:I,className:ut("recharts-text",N),textAnchor:p,fill:y.includes("url")?h2:y}),w.map(function(M,z){var F=M.words.join(k?"":" ");return P.createElement("tspan",{x:A,dy:z===0?O:l,key:"".concat(F,"-").concat(z)},F)}))};function Ao(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uxe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function PN(e){let t,r,n;e.length!==2?(t=Ao,r=(l,c)=>Ao(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ao||e===uxe?e:dxe,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function dxe(){return 0}function d5(e){return e===null?NaN:+e}function*fxe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const hxe=PN(Ao),Fp=hxe.right;PN(d5).center;class p2 extends Map{constructor(t,r=gxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(m2(this,t))}has(t){return super.has(m2(this,t))}set(t,r){return super.set(pxe(this,t),r)}delete(t){return super.delete(mxe(this,t))}}function m2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function pxe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function mxe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function gxe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vxe(e=Ao){if(e===Ao)return f5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function f5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const yxe=Math.sqrt(50),xxe=Math.sqrt(10),bxe=Math.sqrt(2);function Nv(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=yxe?10:i>=xxe?5:i>=bxe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Nv(e,t,r*2):[l,c,u]}function s_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Nv(t,e,r):Nv(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function i_(e,t,r){return t=+t,e=+e,r=+r,Nv(e,t,r)[2]}function a_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?i_(t,e,r):i_(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function g2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function v2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function h5(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?f5:vxe(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));h5(e,t,p,g,s)}const i=e[t];let o=r,l=n;for(hf(e,r,t),s(e[n],i)>0&&hf(e,r,n);o<l;){for(hf(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?hf(e,r,l):(++l,hf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function hf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function wxe(e,t,r){if(e=Float64Array.from(fxe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return v2(e);if(t>=1)return g2(e);var n,s=(n-1)*t,i=Math.floor(s),o=g2(h5(e,i).subarray(0,i+1)),l=v2(e.subarray(i+1));return o+(l-o)*(s-i)}}function jxe(e,t,r=d5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function _xe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Cs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ia(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const o_=Symbol("implicit");function AN(){var e=new p2,t=[],r=[],n=o_;function s(i){let o=e.get(i);if(o===void 0){if(n!==o_)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new p2;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return AN(t,r).unknown(n)},Cs.apply(s,arguments),s}function Lh(){var e=AN().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,g=p?s:n,m=p?n:s;i=(m-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(m-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=_xe(h).map(function(y){return g+i*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Lh(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Cs.apply(f(),arguments)}function p5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return p5(t())},e}function Vf(){return p5(Lh.apply(null,arguments).paddingInner(1))}function TN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function m5(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Up(){}var Fh=.7,kv=1/Fh,mu="\\s*([+-]?\\d+)\\s*",Uh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sxe=/^#([0-9a-f]{3,8})$/,Nxe=new RegExp(`^rgb\\(${mu},${mu},${mu}\\)$`),kxe=new RegExp(`^rgb\\(${Ri},${Ri},${Ri}\\)$`),Cxe=new RegExp(`^rgba\\(${mu},${mu},${mu},${Uh}\\)$`),Exe=new RegExp(`^rgba\\(${Ri},${Ri},${Ri},${Uh}\\)$`),Oxe=new RegExp(`^hsl\\(${Uh},${Ri},${Ri}\\)$`),Pxe=new RegExp(`^hsla\\(${Uh},${Ri},${Ri},${Uh}\\)$`),y2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TN(Up,Bh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:x2,formatHex:x2,formatHex8:Axe,formatHsl:Txe,formatRgb:b2,toString:b2});function x2(){return this.rgb().formatHex()}function Axe(){return this.rgb().formatHex8()}function Txe(){return g5(this).formatHsl()}function b2(){return this.rgb().formatRgb()}function Bh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Sxe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?w2(t):r===3?new Rn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?$m(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?$m(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Nxe.exec(e))?new Rn(t[1],t[2],t[3],1):(t=kxe.exec(e))?new Rn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cxe.exec(e))?$m(t[1],t[2],t[3],t[4]):(t=Exe.exec(e))?$m(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Oxe.exec(e))?S2(t[1],t[2]/100,t[3]/100,1):(t=Pxe.exec(e))?S2(t[1],t[2]/100,t[3]/100,t[4]):y2.hasOwnProperty(e)?w2(y2[e]):e==="transparent"?new Rn(NaN,NaN,NaN,0):null}function w2(e){return new Rn(e>>16&255,e>>8&255,e&255,1)}function $m(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rn(e,t,r,n)}function Rxe(e){return e instanceof Up||(e=Bh(e)),e?(e=e.rgb(),new Rn(e.r,e.g,e.b,e.opacity)):new Rn}function l_(e,t,r,n){return arguments.length===1?Rxe(e):new Rn(e,t,r,n??1)}function Rn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}TN(Rn,l_,m5(Up,{brighter(e){return e=e==null?kv:Math.pow(kv,e),new Rn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fh:Math.pow(Fh,e),new Rn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rn(Fl(this.r),Fl(this.g),Fl(this.b),Cv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:j2,formatHex:j2,formatHex8:$xe,formatRgb:_2,toString:_2}));function j2(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}`}function $xe(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}${Sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function _2(){const e=Cv(this.opacity);return`${e===1?"rgb(":"rgba("}${Fl(this.r)}, ${Fl(this.g)}, ${Fl(this.b)}${e===1?")":`, ${e})`}`}function Cv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sl(e){return e=Fl(e),(e<16?"0":"")+e.toString(16)}function S2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Qs(e,t,r,n)}function g5(e){if(e instanceof Qs)return new Qs(e.h,e.s,e.l,e.opacity);if(e instanceof Up||(e=Bh(e)),!e)return new Qs;if(e instanceof Qs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Qs(o,l,c,e.opacity)}function Mxe(e,t,r,n){return arguments.length===1?g5(e):new Qs(e,t,r,n??1)}function Qs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}TN(Qs,Mxe,m5(Up,{brighter(e){return e=e==null?kv:Math.pow(kv,e),new Qs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fh:Math.pow(Fh,e),new Qs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Rn(gw(e>=240?e-240:e+120,s,n),gw(e,s,n),gw(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Qs(N2(this.h),Mm(this.s),Mm(this.l),Cv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cv(this.opacity);return`${e===1?"hsl(":"hsla("}${N2(this.h)}, ${Mm(this.s)*100}%, ${Mm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function N2(e){return e=(e||0)%360,e<0?e+360:e}function Mm(e){return Math.max(0,Math.min(1,e||0))}function gw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const RN=e=>()=>e;function Ixe(e,t){return function(r){return e+r*t}}function Dxe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Lxe(e){return(e=+e)==1?v5:function(t,r){return r-t?Dxe(t,r,e):RN(isNaN(t)?r:t)}}function v5(e,t){var r=t-e;return r?Ixe(e,r):RN(isNaN(e)?t:e)}const k2=function e(t){var r=Lxe(t);function n(s,i){var o=r((s=l_(s)).r,(i=l_(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=v5(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function Fxe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Uxe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Bxe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=zd(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function zxe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ev(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function qxe(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=zd(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var c_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vw=new RegExp(c_.source,"g");function Wxe(e){return function(){return e}}function Vxe(e){return function(t){return e(t)+""}}function Hxe(e,t){var r=c_.lastIndex=vw.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=c_.exec(e))&&(s=vw.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Ev(n,s)})),r=vw.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Vxe(c[0].x):Wxe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function zd(e,t){var r=typeof t,n;return t==null||r==="boolean"?RN(t):(r==="number"?Ev:r==="string"?(n=Bh(t))?(t=n,k2):Hxe:t instanceof Bh?k2:t instanceof Date?zxe:Uxe(t)?Fxe:Array.isArray(t)?Bxe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qxe:Ev)(e,t)}function $N(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Kxe(e,t){t===void 0&&(t=e,e=zd);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Gxe(e){return function(){return e}}function Ov(e){return+e}var C2=[0,1];function gn(e){return e}function u_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Gxe(isNaN(t)?NaN:.5)}function Yxe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Qxe(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=u_(s,n),i=r(o,i)):(n=u_(n,s),i=r(i,o)),function(l){return i(n(l))}}function Xxe(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=u_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Fp(e,l,1,n)-1;return i[c](s[c](l))}}function Bp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rx(){var e=C2,t=C2,r=zd,n,s,i,o=gn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==gn&&(o=Yxe(e[0],e[h-1])),l=h>2?Xxe:Qxe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),Ev)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Ov),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=$N,d()},f.clamp=function(h){return arguments.length?(o=h?!0:gn,d()):o!==gn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,d()}}function MN(){return Rx()(gn,gn)}function Jxe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Pv(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Zu(e){return e=Pv(Math.abs(e)),e?e[1]:NaN}function Zxe(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ebe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zh(e){if(!(t=tbe.exec(e)))throw new Error("invalid format: "+e);var t;return new IN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zh.prototype=IN.prototype;function IN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}IN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rbe(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var Av;function nbe(e,t){var r=Pv(e,t);if(!r)return Av=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(Av=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Pv(e,Math.max(0,t+i-1))[0]}function E2(e,t){var r=Pv(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const O2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Jxe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>E2(e*100,t),r:E2,s:nbe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function P2(e){return e}var A2=Array.prototype.map,T2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sbe(e){var t=e.grouping===void 0||e.thousands===void 0?P2:Zxe(A2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?P2:ebe(A2.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=zh(f);var p=f.fill,g=f.align,m=f.sign,v=f.symbol,y=f.zero,b=f.width,w=f.comma,S=f.precision,j=f.trim,_=f.type;_==="n"?(w=!0,_="g"):O2[_]||(S===void 0&&(S=12),j=!0,_="g"),(y||p==="0"&&g==="=")&&(y=!0,p="0",g="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():""),k=(v==="$"?n:/[%p]/.test(_)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),C=O2[_],A=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(O){var U=N,E=k,B,M,z;if(_==="c")E=C(O)+E,O="";else{O=+O;var F=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),S),j&&(O=rbe(O)),F&&+O==0&&m!=="+"&&(F=!1),U=(F?m==="("?m:l:m==="-"||m==="("?"":m)+U,E=(_==="s"&&!isNaN(O)&&Av!==void 0?T2[8+Av/3]:"")+E+(F&&m==="("?")":""),A){for(B=-1,M=O.length;++B<M;)if(z=O.charCodeAt(B),48>z||z>57){E=(z===46?s+O.slice(B+1):O.slice(B))+E,O=O.slice(0,B);break}}}w&&!y&&(O=t(O,1/0));var T=U.length+O.length+E.length,R=T<b?new Array(b-T+1).join(p):"";switch(w&&y&&(O=t(R+O,R.length?b-E.length:1/0),R=""),g){case"<":O=U+O+E+R;break;case"=":O=U+R+O+E;break;case"^":O=R.slice(0,T=R.length>>1)+U+O+E+R.slice(T);break;default:O=R+U+O+E;break}return i(O)}return I.toString=function(){return f+""},I}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(Zu(h)/3)))*3,g=Math.pow(10,-p),m=u((f=zh(f),f.type="f",f),{suffix:T2[8+p/3]});return function(v){return m(g*v)}}return{format:u,formatPrefix:d}}var Im,DN,y5;ibe({thousands:",",grouping:[3],currency:["$",""]});function ibe(e){return Im=sbe(e),DN=Im.format,y5=Im.formatPrefix,Im}function abe(e){return Math.max(0,-Zu(Math.abs(e)))}function obe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zu(t)/3)))*3-Zu(Math.abs(e)))}function lbe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zu(t)-Zu(e))+1}function x5(e,t,r,n){var s=a_(e,t,r),i;switch(n=zh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=obe(s,o))&&(n.precision=i),y5(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=lbe(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=abe(s))&&(n.precision=i-(n.type==="%")*2);break}}return DN(n)}function Zo(e){var t=e.domain;return e.ticks=function(r){var n=t();return s_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return x5(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=i_(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Tv(){var e=MN();return e.copy=function(){return Bp(e,Tv())},Cs.apply(e,arguments),Zo(e)}function b5(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ov),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return b5(e).unknown(t)},e=arguments.length?Array.from(e,Ov):[0,1],Zo(r)}function w5(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function R2(e){return Math.log(e)}function $2(e){return Math.exp(e)}function cbe(e){return-Math.log(-e)}function ube(e){return-Math.exp(-e)}function dbe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fbe(e){return e===10?dbe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hbe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function M2(e){return(t,r)=>-e(-t,r)}function LN(e){const t=e(R2,$2),r=t.domain;let n=10,s,i;function o(){return s=hbe(n),i=fbe(n),r()[0]<0?(s=M2(s),i=M2(i),e(cbe,ube)):e(R2,$2),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),g,m;const v=l==null?10:+l;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;y.push(m)}y.length*2<v&&(y=s_(u,d,v))}else y=s_(h,p,Math.min(p-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=zh(c)).precision==null&&(c.trim=!0),c=DN(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(w5(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function j5(){const e=LN(Rx()).domain([1,10]);return e.copy=()=>Bp(e,j5()).base(e.base()),Cs.apply(e,arguments),e}function I2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function D2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function FN(e){var t=1,r=e(I2(t),D2(t));return r.constant=function(n){return arguments.length?e(I2(t=+n),D2(t)):t},Zo(r)}function _5(){var e=FN(Rx());return e.copy=function(){return Bp(e,_5()).constant(e.constant())},Cs.apply(e,arguments)}function L2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pbe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function mbe(e){return e<0?-e*e:e*e}function UN(e){var t=e(gn,gn),r=1;function n(){return r===1?e(gn,gn):r===.5?e(pbe,mbe):e(L2(r),L2(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Zo(t)}function BN(){var e=UN(Rx());return e.copy=function(){return Bp(e,BN()).exponent(e.exponent())},Cs.apply(e,arguments),e}function gbe(){return BN.apply(null,arguments).exponent(.5)}function F2(e){return Math.sign(e)*e*e}function vbe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function S5(){var e=MN(),t=[0,1],r=!1,n;function s(i){var o=vbe(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(F2(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ov)).map(F2)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return S5(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Cs.apply(s,arguments),Zo(s)}function N5(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=jxe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Fp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ao),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return N5().domain(e).range(t).unknown(n)},Cs.apply(i,arguments)}function k5(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Fp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return k5().domain([e,t]).range(s).unknown(i)},Cs.apply(Zo(o),arguments)}function C5(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Fp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return C5().domain(e).range(t).unknown(r)},Cs.apply(s,arguments)}const yw=new Date,xw=new Date;function Lr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Lr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(yw.setTime(+i),xw.setTime(+o),e(yw),e(xw),Math.floor(r(yw,xw))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Rv=Lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Rv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Rv);Rv.range;const ia=1e3,gs=ia*60,aa=gs*60,Sa=aa*24,zN=Sa*7,U2=Sa*30,bw=Sa*365,Nl=Lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getUTCSeconds());Nl.range;const qN=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ia)},(e,t)=>{e.setTime(+e+t*gs)},(e,t)=>(t-e)/gs,e=>e.getMinutes());qN.range;const WN=Lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gs)},(e,t)=>(t-e)/gs,e=>e.getUTCMinutes());WN.range;const VN=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ia-e.getMinutes()*gs)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getHours());VN.range;const HN=Lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCHours());HN.range;const zp=Lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gs)/Sa,e=>e.getDate()-1);zp.range;const $x=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sa,e=>e.getUTCDate()-1);$x.range;const E5=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sa,e=>Math.floor(e/Sa));E5.range;function mc(e){return Lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gs)/zN)}const Mx=mc(0),$v=mc(1),ybe=mc(2),xbe=mc(3),ed=mc(4),bbe=mc(5),wbe=mc(6);Mx.range;$v.range;ybe.range;xbe.range;ed.range;bbe.range;wbe.range;function gc(e){return Lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/zN)}const Ix=gc(0),Mv=gc(1),jbe=gc(2),_be=gc(3),td=gc(4),Sbe=gc(5),Nbe=gc(6);Ix.range;Mv.range;jbe.range;_be.range;td.range;Sbe.range;Nbe.range;const KN=Lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());KN.range;const GN=Lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());GN.range;const Na=Lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Na.range;const ka=Lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ka.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ka.range;function O5(e,t,r,n,s,i){const o=[[Nl,1,ia],[Nl,5,5*ia],[Nl,15,15*ia],[Nl,30,30*ia],[i,1,gs],[i,5,5*gs],[i,15,15*gs],[i,30,30*gs],[s,1,aa],[s,3,3*aa],[s,6,6*aa],[s,12,12*aa],[n,1,Sa],[n,2,2*Sa],[r,1,zN],[t,1,U2],[t,3,3*U2],[e,1,bw]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=PN(([,,v])=>v).right(o,h);if(p===o.length)return e.every(a_(u/bw,d/bw,f));if(p===0)return Rv.every(Math.max(a_(u,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[kbe,Cbe]=O5(ka,GN,Ix,E5,HN,WN),[Ebe,Obe]=O5(Na,KN,Mx,zp,VN,qN);function ww(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Pbe(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=mf(s),d=gf(s),f=mf(i),h=gf(i),p=mf(o),g=gf(o),m=mf(l),v=gf(l),y=mf(c),b=gf(c),w={a:z,A:F,b:T,B:R,c:null,d:H2,e:H2,f:Zbe,g:cwe,G:dwe,H:Qbe,I:Xbe,j:Jbe,L:P5,m:ewe,M:twe,p:J,q:G,Q:Y2,s:Q2,S:rwe,u:nwe,U:swe,V:iwe,w:awe,W:owe,x:null,X:null,y:lwe,Y:uwe,Z:fwe,"%":G2},S={a:ie,A:he,b:Le,B:Fe,c:null,d:K2,e:K2,f:gwe,g:kwe,G:Ewe,H:hwe,I:pwe,j:mwe,L:T5,m:vwe,M:ywe,p:ce,q:Me,Q:Y2,s:Q2,S:xwe,u:bwe,U:wwe,V:jwe,w:_we,W:Swe,x:null,X:null,y:Nwe,Y:Cwe,Z:Owe,"%":G2},j={a:A,A:I,b:O,B:U,c:E,d:W2,e:W2,f:Hbe,g:q2,G:z2,H:V2,I:V2,j:zbe,L:Vbe,m:Bbe,M:qbe,p:C,q:Ube,Q:Gbe,s:Ybe,S:Wbe,u:Mbe,U:Ibe,V:Dbe,w:$be,W:Lbe,x:B,X:M,y:q2,Y:z2,Z:Fbe,"%":Kbe};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),S.x=_(r,S),S.X=_(n,S),S.c=_(t,S);function _(te,pe){return function(H){var K=[],Ye=-1,Ue=0,wt=te.length,yt,Zt,tn;for(H instanceof Date||(H=new Date(+H));++Ye<wt;)te.charCodeAt(Ye)===37&&(K.push(te.slice(Ue,Ye)),(Zt=B2[yt=te.charAt(++Ye)])!=null?yt=te.charAt(++Ye):Zt=yt==="e"?" ":"0",(tn=pe[yt])&&(yt=tn(H,Zt)),K.push(yt),Ue=Ye+1);return K.push(te.slice(Ue,Ye)),K.join("")}}function N(te,pe){return function(H){var K=pf(1900,void 0,1),Ye=k(K,te,H+="",0),Ue,wt;if(Ye!=H.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(pe&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Ue=jw(pf(K.y,0,1)),wt=Ue.getUTCDay(),Ue=wt>4||wt===0?Mv.ceil(Ue):Mv(Ue),Ue=$x.offset(Ue,(K.V-1)*7),K.y=Ue.getUTCFullYear(),K.m=Ue.getUTCMonth(),K.d=Ue.getUTCDate()+(K.w+6)%7):(Ue=ww(pf(K.y,0,1)),wt=Ue.getDay(),Ue=wt>4||wt===0?$v.ceil(Ue):$v(Ue),Ue=zp.offset(Ue,(K.V-1)*7),K.y=Ue.getFullYear(),K.m=Ue.getMonth(),K.d=Ue.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),wt="Z"in K?jw(pf(K.y,0,1)).getUTCDay():ww(pf(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(wt+5)%7:K.w+K.U*7-(wt+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,jw(K)):ww(K)}}function k(te,pe,H,K){for(var Ye=0,Ue=pe.length,wt=H.length,yt,Zt;Ye<Ue;){if(K>=wt)return-1;if(yt=pe.charCodeAt(Ye++),yt===37){if(yt=pe.charAt(Ye++),Zt=j[yt in B2?pe.charAt(Ye++):yt],!Zt||(K=Zt(te,H,K))<0)return-1}else if(yt!=H.charCodeAt(K++))return-1}return K}function C(te,pe,H){var K=u.exec(pe.slice(H));return K?(te.p=d.get(K[0].toLowerCase()),H+K[0].length):-1}function A(te,pe,H){var K=p.exec(pe.slice(H));return K?(te.w=g.get(K[0].toLowerCase()),H+K[0].length):-1}function I(te,pe,H){var K=f.exec(pe.slice(H));return K?(te.w=h.get(K[0].toLowerCase()),H+K[0].length):-1}function O(te,pe,H){var K=y.exec(pe.slice(H));return K?(te.m=b.get(K[0].toLowerCase()),H+K[0].length):-1}function U(te,pe,H){var K=m.exec(pe.slice(H));return K?(te.m=v.get(K[0].toLowerCase()),H+K[0].length):-1}function E(te,pe,H){return k(te,t,pe,H)}function B(te,pe,H){return k(te,r,pe,H)}function M(te,pe,H){return k(te,n,pe,H)}function z(te){return o[te.getDay()]}function F(te){return i[te.getDay()]}function T(te){return c[te.getMonth()]}function R(te){return l[te.getMonth()]}function J(te){return s[+(te.getHours()>=12)]}function G(te){return 1+~~(te.getMonth()/3)}function ie(te){return o[te.getUTCDay()]}function he(te){return i[te.getUTCDay()]}function Le(te){return c[te.getUTCMonth()]}function Fe(te){return l[te.getUTCMonth()]}function ce(te){return s[+(te.getUTCHours()>=12)]}function Me(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var pe=_(te+="",w);return pe.toString=function(){return te},pe},parse:function(te){var pe=N(te+="",!1);return pe.toString=function(){return te},pe},utcFormat:function(te){var pe=_(te+="",S);return pe.toString=function(){return te},pe},utcParse:function(te){var pe=N(te+="",!0);return pe.toString=function(){return te},pe}}}var B2={"-":"",_:" ",0:"0"},Vr=/^\s*\d+/,Abe=/^%/,Tbe=/[\\^$*+?|[\]().{}]/g;function vt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Rbe(e){return e.replace(Tbe,"\\$&")}function mf(e){return new RegExp("^(?:"+e.map(Rbe).join("|")+")","i")}function gf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function $be(e,t,r){var n=Vr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Mbe(e,t,r){var n=Vr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Ibe(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Dbe(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Lbe(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function z2(e,t,r){var n=Vr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function q2(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Fbe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ube(e,t,r){var n=Vr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Bbe(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function W2(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function zbe(e,t,r){var n=Vr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function V2(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function qbe(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Wbe(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Vbe(e,t,r){var n=Vr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Hbe(e,t,r){var n=Vr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Kbe(e,t,r){var n=Abe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Gbe(e,t,r){var n=Vr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Ybe(e,t,r){var n=Vr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function H2(e,t){return vt(e.getDate(),t,2)}function Qbe(e,t){return vt(e.getHours(),t,2)}function Xbe(e,t){return vt(e.getHours()%12||12,t,2)}function Jbe(e,t){return vt(1+zp.count(Na(e),e),t,3)}function P5(e,t){return vt(e.getMilliseconds(),t,3)}function Zbe(e,t){return P5(e,t)+"000"}function ewe(e,t){return vt(e.getMonth()+1,t,2)}function twe(e,t){return vt(e.getMinutes(),t,2)}function rwe(e,t){return vt(e.getSeconds(),t,2)}function nwe(e){var t=e.getDay();return t===0?7:t}function swe(e,t){return vt(Mx.count(Na(e)-1,e),t,2)}function A5(e){var t=e.getDay();return t>=4||t===0?ed(e):ed.ceil(e)}function iwe(e,t){return e=A5(e),vt(ed.count(Na(e),e)+(Na(e).getDay()===4),t,2)}function awe(e){return e.getDay()}function owe(e,t){return vt($v.count(Na(e)-1,e),t,2)}function lwe(e,t){return vt(e.getFullYear()%100,t,2)}function cwe(e,t){return e=A5(e),vt(e.getFullYear()%100,t,2)}function uwe(e,t){return vt(e.getFullYear()%1e4,t,4)}function dwe(e,t){var r=e.getDay();return e=r>=4||r===0?ed(e):ed.ceil(e),vt(e.getFullYear()%1e4,t,4)}function fwe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vt(t/60|0,"0",2)+vt(t%60,"0",2)}function K2(e,t){return vt(e.getUTCDate(),t,2)}function hwe(e,t){return vt(e.getUTCHours(),t,2)}function pwe(e,t){return vt(e.getUTCHours()%12||12,t,2)}function mwe(e,t){return vt(1+$x.count(ka(e),e),t,3)}function T5(e,t){return vt(e.getUTCMilliseconds(),t,3)}function gwe(e,t){return T5(e,t)+"000"}function vwe(e,t){return vt(e.getUTCMonth()+1,t,2)}function ywe(e,t){return vt(e.getUTCMinutes(),t,2)}function xwe(e,t){return vt(e.getUTCSeconds(),t,2)}function bwe(e){var t=e.getUTCDay();return t===0?7:t}function wwe(e,t){return vt(Ix.count(ka(e)-1,e),t,2)}function R5(e){var t=e.getUTCDay();return t>=4||t===0?td(e):td.ceil(e)}function jwe(e,t){return e=R5(e),vt(td.count(ka(e),e)+(ka(e).getUTCDay()===4),t,2)}function _we(e){return e.getUTCDay()}function Swe(e,t){return vt(Mv.count(ka(e)-1,e),t,2)}function Nwe(e,t){return vt(e.getUTCFullYear()%100,t,2)}function kwe(e,t){return e=R5(e),vt(e.getUTCFullYear()%100,t,2)}function Cwe(e,t){return vt(e.getUTCFullYear()%1e4,t,4)}function Ewe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?td(e):td.ceil(e),vt(e.getUTCFullYear()%1e4,t,4)}function Owe(){return"+0000"}function G2(){return"%"}function Y2(e){return+e}function Q2(e){return Math.floor(+e/1e3)}var $c,$5,M5;Pwe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Pwe(e){return $c=Pbe(e),$5=$c.format,$c.parse,M5=$c.utcFormat,$c.utcParse,$c}function Awe(e){return new Date(e)}function Twe(e){return e instanceof Date?+e:+new Date(+e)}function YN(e,t,r,n,s,i,o,l,c,u){var d=MN(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),w=u("%B"),S=u("%Y");function j(_){return(c(_)<_?p:l(_)<_?g:o(_)<_?m:i(_)<_?v:n(_)<_?s(_)<_?y:b:r(_)<_?w:S)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,Twe)):h().map(Awe)},d.ticks=function(_){var N=h();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?j:u(N)},d.nice=function(_){var N=h();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?h(w5(N,_)):d},d.copy=function(){return Bp(d,YN(e,t,r,n,s,i,o,l,c,u))},d}function Rwe(){return Cs.apply(YN(Ebe,Obe,Na,KN,Mx,zp,VN,qN,Nl,$5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $we(){return Cs.apply(YN(kbe,Cbe,ka,GN,Ix,$x,HN,WN,Nl,M5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dx(){var e=0,t=1,r,n,s,i,o=gn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(zd),u.rangeRound=d($N),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function el(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function I5(){var e=Zo(Dx()(gn));return e.copy=function(){return el(e,I5())},Ia.apply(e,arguments)}function D5(){var e=LN(Dx()).domain([1,10]);return e.copy=function(){return el(e,D5()).base(e.base())},Ia.apply(e,arguments)}function L5(){var e=FN(Dx());return e.copy=function(){return el(e,L5()).constant(e.constant())},Ia.apply(e,arguments)}function QN(){var e=UN(Dx());return e.copy=function(){return el(e,QN()).exponent(e.exponent())},Ia.apply(e,arguments)}function Mwe(){return QN.apply(null,arguments).exponent(.5)}function F5(){var e=[],t=gn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Fp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ao),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>wxe(e,i/n))},r.copy=function(){return F5(t).domain(e)},Ia.apply(r,arguments)}function Lx(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=gn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,u=Kxe(m,[y,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(zd),p.rangeRound=g($N),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),i=m(t),o=m(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function U5(){var e=Zo(Lx()(gn));return e.copy=function(){return el(e,U5())},Ia.apply(e,arguments)}function B5(){var e=LN(Lx()).domain([.1,1,10]);return e.copy=function(){return el(e,B5()).base(e.base())},Ia.apply(e,arguments)}function z5(){var e=FN(Lx());return e.copy=function(){return el(e,z5()).constant(e.constant())},Ia.apply(e,arguments)}function XN(){var e=UN(Lx());return e.copy=function(){return el(e,XN()).exponent(e.exponent())},Ia.apply(e,arguments)}function Iwe(){return XN.apply(null,arguments).exponent(.5)}const X2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lh,scaleDiverging:U5,scaleDivergingLog:B5,scaleDivergingPow:XN,scaleDivergingSqrt:Iwe,scaleDivergingSymlog:z5,scaleIdentity:b5,scaleImplicit:o_,scaleLinear:Tv,scaleLog:j5,scaleOrdinal:AN,scalePoint:Vf,scalePow:BN,scaleQuantile:N5,scaleQuantize:k5,scaleRadial:S5,scaleSequential:I5,scaleSequentialLog:D5,scaleSequentialPow:QN,scaleSequentialQuantile:F5,scaleSequentialSqrt:Mwe,scaleSequentialSymlog:L5,scaleSqrt:gbe,scaleSymlog:_5,scaleThreshold:C5,scaleTime:Rwe,scaleUtc:$we,tickFormat:x5},Symbol.toStringTag,{value:"Module"}));var Dwe=Td;function Lwe(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Dwe(o):r(o,l)))var l=o,c=i}return c}var q5=Lwe;function Fwe(e,t){return e>t}var Uwe=Fwe,Bwe=q5,zwe=Uwe,qwe=Ud;function Wwe(e){return e&&e.length?Bwe(e,qwe,zwe):void 0}var Vwe=Wwe;const yo=Lt(Vwe);function Hwe(e,t){return e<t}var Kwe=Hwe,Gwe=q5,Ywe=Kwe,Qwe=Ud;function Xwe(e){return e&&e.length?Gwe(e,Qwe,Ywe):void 0}var Jwe=Xwe;const Fx=Lt(Jwe);var Zwe=dN,e0e=Jo,t0e=J3,r0e=Fn;function n0e(e,t){var r=r0e(e)?Zwe:t0e;return r(e,e0e(t))}var s0e=n0e,i0e=Q3,a0e=s0e;function o0e(e,t){return i0e(a0e(e,t),1)}var l0e=o0e;const c0e=Lt(l0e);var u0e=kN;function d0e(e,t){return u0e(e,t)}var f0e=d0e;const qh=Lt(f0e);var qd=1e9,h0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZN,rr=!0,_s="[DecimalError] ",Ul=_s+"Invalid argument: ",JN=_s+"Exponent out of range: ",Wd=Math.floor,hl=Math.pow,p0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gn,Ur=1e7,Xt=7,W5=9007199254740991,Iv=Wd(W5/Xt),Ce={};Ce.absoluteValue=Ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ce.comparedTo=Ce.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(e){return ha(this,new this.constructor(e))};Ce.dividedToIntegerBy=Ce.idiv=function(e){var t=this,r=t.constructor;return Bt(ha(t,new r(e),0,1),r.precision)};Ce.equals=Ce.eq=function(e){return!this.cmp(e)};Ce.exponent=function(){return Nr(this)};Ce.greaterThan=Ce.gt=function(e){return this.cmp(e)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(e){return this.cmp(e)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(e){return this.cmp(e)<0};Ce.lessThanOrEqualTo=Ce.lte=function(e){return this.cmp(e)<1};Ce.logarithm=Ce.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Gn))throw Error(_s+"NaN");if(r.s<1)throw Error(_s+(r.s?"NaN":"-Infinity"));return r.eq(Gn)?new n(0):(rr=!1,t=ha(Wh(r,i),Wh(e,i),i),rr=!0,Bt(t,s))};Ce.minus=Ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?K5(t,e):V5(t,(e.s=-e.s,e))};Ce.modulo=Ce.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(_s+"NaN");return r.s?(rr=!1,t=ha(r,e,0,1).times(e),rr=!0,r.minus(t)):Bt(new n(r),s)};Ce.naturalExponential=Ce.exp=function(){return H5(this)};Ce.naturalLogarithm=Ce.ln=function(){return Wh(this)};Ce.negated=Ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ce.plus=Ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?V5(t,e):K5(t,(e.s=-e.s,e))};Ce.precision=Ce.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ul+e);if(t=Nr(s)+1,n=s.d.length-1,r=n*Xt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ce.squareRoot=Ce.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(_s+"NaN")}for(e=Nr(l),rr=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ni(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Wd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(ha(l,i,o+2)).times(.5),Ni(i.d).slice(0,o)===(t=Ni(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Bt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return rr=!0,Bt(n,r)};Ce.times=Ce.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%Ur|0,t=l/Ur|0;i[s]=(i[s]+t)%Ur|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,rr?Bt(e,f.precision):e};Ce.toDecimalPlaces=Ce.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ii(e,0,qd),t===void 0?t=n.rounding:Ii(t,0,8),Bt(r,e+Nr(r)+1,t))};Ce.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=ic(n,!0):(Ii(e,0,qd),t===void 0?t=s.rounding:Ii(t,0,8),n=Bt(new s(n),e+1,t),r=ic(n,!0,e+1)),r};Ce.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?ic(s):(Ii(e,0,qd),t===void 0?t=i.rounding:Ii(t,0,8),n=Bt(new i(s),e+Nr(s)+1,t),r=ic(n.abs(),!1,e+Nr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var e=this,t=e.constructor;return Bt(new t(e),Nr(e)+1,t.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Gn);if(l=new c(l),!l.s){if(e.s<1)throw Error(_s+"Infinity");return l}if(l.eq(Gn))return l;if(n=c.precision,e.eq(Gn))return Bt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=W5){for(s=new c(Gn),t=Math.ceil(n/Xt+4),rr=!1;r%2&&(s=s.times(l),Z2(s.d,t)),r=Wd(r/2),r!==0;)l=l.times(l),Z2(l.d,t);return rr=!0,e.s<0?new c(Gn).div(s):Bt(s,n)}}else if(i<0)throw Error(_s+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,rr=!1,s=e.times(Wh(l,n+u)),rr=!0,s=H5(s),s.s=i,s};Ce.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Nr(s),n=ic(s,r<=i.toExpNeg||r>=i.toExpPos)):(Ii(e,1,qd),t===void 0?t=i.rounding:Ii(t,0,8),s=Bt(new i(s),e,t),r=Nr(s),n=ic(s,e<=r||r<=i.toExpNeg,e)),n};Ce.toSignificantDigits=Ce.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ii(e,1,qd),t===void 0?t=n.rounding:Ii(t,0,8)),Bt(new n(r),e,t)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Nr(e),r=e.constructor;return ic(e,t<=r.toExpNeg||t>=r.toExpPos)};function V5(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),rr?Bt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Xt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ur|0,c[i]%=Ur;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,rr?Bt(t,f):t}function Ii(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ul+e)}function Ni(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Xt-n.length,r&&(i+=Ja(r)),i+=n;o=e[t],n=o+"",r=Xt-n.length,r&&(i+=Ja(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ha=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Ur|0,o=i/Ur|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Ur+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,p,g,m,v,y,b,w,S,j,_,N,k,C=n.constructor,A=n.s==s.s?1:-1,I=n.d,O=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(_s+"Division by zero");for(c=n.e-s.e,N=O.length,j=I.length,p=new C(A),g=p.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--c,i==null?b=i=C.precision:o?b=i+(Nr(n)-Nr(s))+1:b=i,b<0)return new C(0);if(b=b/Xt+2|0,u=0,N==1)for(d=0,O=O[0],b++;(u<j||d)&&b--;u++)w=d*Ur+(I[u]||0),g[u]=w/O|0,d=w%O|0;else{for(d=Ur/(O[0]+1)|0,d>1&&(O=e(O,d),I=e(I,d),N=O.length,j=I.length),S=N,m=I.slice(0,N),v=m.length;v<N;)m[v++]=0;k=O.slice(),k.unshift(0),_=O[0],O[1]>=Ur/2&&++_;do d=0,l=t(O,m,N,v),l<0?(y=m[0],N!=v&&(y=y*Ur+(m[1]||0)),d=y/_|0,d>1?(d>=Ur&&(d=Ur-1),f=e(O,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,N<h?k:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(O,m,N,v),l<1&&(d++,r(m,N<v?k:O,v))),v=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[v++]=I[S]||0:(m=[I[S]],v=1);while((S++<j||m[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=c,Bt(p,o?i+Nr(p)+1:i)}}();function H5(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Nr(e)>16)throw Error(JN+Nr(e));if(!e.s)return new d(Gn);for(rr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(hl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(Gn),d.precision=l;;){if(s=Bt(s.times(e),l),r=r.times(++c),o=i.plus(ha(s,r,l)),Ni(o.d).slice(0,l)===Ni(i.d).slice(0,l)){for(;u--;)i=Bt(i.times(i),l);return d.precision=f,t==null?(rr=!0,Bt(i,f)):i}i=o}}function Nr(e){for(var t=e.e*Xt,r=e.d[0];r>=10;r/=10)t++;return t}function _w(e,t,r){if(t>e.LN10.sd())throw rr=!0,r&&(e.precision=r),Error(_s+"LN10 precision limit exceeded");return Bt(new e(e.LN10),t)}function Ja(e){for(var t="";e--;)t+="0";return t}function Wh(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(_s+(p.s?"NaN":"-Infinity"));if(p.eq(Gn))return new m(0);if(t==null?(rr=!1,u=v):u=t,p.eq(10))return t==null&&(rr=!0),_w(m,u);if(u+=h,m.precision=u,r=Ni(g),n=r.charAt(0),i=Nr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ni(p.d),n=r.charAt(0),f++;i=Nr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=_w(m,u+2,v).times(i+""),p=Wh(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(rr=!0,Bt(p,v)):p;for(l=o=p=ha(p.minus(Gn),p.plus(Gn),u),d=Bt(p.times(p),u),s=3;;){if(o=Bt(o.times(d),u),c=l.plus(ha(o,new m(s),u)),Ni(c.d).slice(0,u)===Ni(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(_w(m,u+2,v).times(i+""))),l=ha(l,new m(f),u),m.precision=v,t==null?(rr=!0,Bt(l,v)):l;l=c,s+=2}}function J2(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Wd(r/Xt),e.d=[],n=(r+1)%Xt,r<0&&(n+=Xt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Xt;n<s;)e.d.push(+t.slice(n,n+=Xt));t=t.slice(n),n=Xt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),rr&&(e.e>Iv||e.e<-Iv))throw Error(JN+r)}else e.s=0,e.e=0,e.d=[0];return e}function Bt(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xt,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Xt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Xt,s=n-Xt+o}if(r!==void 0&&(i=hl(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/hl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Nr(e),f.length=1,t=t-i-1,f[0]=hl(10,(Xt-t%Xt)%Xt),e.e=Wd(-t/Xt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=hl(10,Xt-n),f[d]=s>0?(u/hl(10,o-s)%hl(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Ur&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Ur)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(rr&&(e.e>Iv||e.e<-Iv))throw Error(JN+Nr(e));return e}function K5(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),rr?Bt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(p/Xt),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Ur-1;--c[i],c[s]+=Ur}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,rr?Bt(t,p):t):new h(0)}function ic(e,t,r){var n,s=Nr(e),i=Ni(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ja(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Ja(-s-1)+i,r&&(n=r-o)>0&&(i+=Ja(n))):s>=o?(i+=Ja(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Ja(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Ja(n))),e.s<0?"-"+i:i}function Z2(e,t){if(e.length>t)return e.length=t,!0}function G5(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ul+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return J2(o,i.toString())}else if(typeof i!="string")throw Error(Ul+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,p0e.test(i))J2(o,i);else throw Error(Ul+i)}if(s.prototype=Ce,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=G5,s.config=s.set=m0e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function m0e(e){if(!e||typeof e!="object")throw Error(_s+"Object expected");var t,r,n,s=["precision",1,qd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Wd(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Ul+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ul+r+": "+n);return this}var ZN=G5(h0e);Gn=new ZN(1);const It=ZN;function g0e(e){return b0e(e)||x0e(e)||y0e(e)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y0e(e,t){if(e){if(typeof e=="string")return d_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d_(e,t)}}function x0e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function b0e(e){if(Array.isArray(e))return d_(e)}function d_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w0e=function(t){return t},Y5={},Q5=function(t){return t===Y5},eA=function(t){return function r(){return arguments.length===0||arguments.length===1&&Q5(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},j0e=function e(t,r){return t===1?r:eA(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==Y5}).length;return o>=t?r.apply(void 0,s):e(t-o,eA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return Q5(f)?c.shift():f});return r.apply(void 0,g0e(d).concat(c))}))})},Ux=function(t){return j0e(t.length,t)},f_=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},_0e=Ux(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),S0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return w0e;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},h_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},X5=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function N0e(e){var t;return e===0?t=1:t=Math.floor(new It(e).abs().log(10).toNumber())+1,t}function k0e(e,t,r){for(var n=new It(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var C0e=Ux(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),E0e=Ux(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),O0e=Ux(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Bx={rangeStep:k0e,getDigitCount:N0e,interpolateNumber:C0e,uninterpolateNumber:E0e,uninterpolateTruncation:O0e};function p_(e){return T0e(e)||A0e(e)||J5(e)||P0e()}function P0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A0e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function T0e(e){if(Array.isArray(e))return m_(e)}function Vh(e,t){return M0e(e)||$0e(e,t)||J5(e,t)||R0e()}function R0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J5(e,t){if(e){if(typeof e=="string")return m_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m_(e,t)}}function m_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $0e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function M0e(e){if(Array.isArray(e))return e}function Z5(e){var t=Vh(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function eU(e,t,r){if(e.lte(0))return new It(0);var n=Bx.getDigitCount(e.toNumber()),s=new It(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new It(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new It(Math.ceil(c))}function I0e(e,t,r){var n=1,s=new It(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new It(10).pow(Bx.getDigitCount(e)-1),s=new It(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new It(Math.floor(e)))}else e===0?s=new It(Math.floor((t-1)/2)):r||(s=new It(Math.floor(e)));var o=Math.floor((t-1)/2),l=S0e(_0e(function(c){return s.add(new It(c-o).mul(n)).toNumber()}),f_);return l(0,t)}function tU(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new It(0),tickMin:new It(0),tickMax:new It(0)};var i=eU(new It(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new It(0):(o=new It(e).add(t).div(2),o=o.sub(new It(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new It(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?tU(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new It(l).mul(i)),tickMax:o.add(new It(c).mul(i))})}function D0e(e){var t=Vh(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=Z5([r,n]),c=Vh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(p_(f_(0,s-1).map(function(){return 1/0}))):[].concat(p_(f_(0,s-1).map(function(){return-1/0})),[d]);return r>n?h_(f):f}if(u===d)return I0e(u,s,i);var h=tU(u,d,o,i),p=h.step,g=h.tickMin,m=h.tickMax,v=Bx.rangeStep(g,m.add(new It(.1).mul(p)),p);return r>n?h_(v):v}function L0e(e,t){var r=Vh(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Z5([n,s]),l=Vh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=eU(new It(u).sub(c).div(d-1),i,0),h=[].concat(p_(Bx.rangeStep(new It(c),new It(u).sub(new It(.99).mul(f)),f)),[u]);return n>s?h_(h):h}var F0e=X5(D0e),U0e=X5(L0e),B0e="Invariant failed";function ac(e,t){throw new Error(B0e)}var z0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(this,arguments)}function q0e(e,t){return K0e(e)||H0e(e,t)||V0e(e,t)||W0e()}function W0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0e(e,t){if(e){if(typeof e=="string")return tA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tA(e,t)}}function tA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function K0e(e){if(Array.isArray(e))return e}function G0e(e,t){if(e==null)return{};var r=Y0e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sU(n.key),n)}}function J0e(e,t,r){return t&&X0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z0e(e,t,r){return t=Lv(t),eje(e,rU()?Reflect.construct(t,r||[],Lv(e).constructor):t.apply(e,r))}function eje(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tje(e)}function tje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rU=function(){return!!e})()}function Lv(e){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(e)}function rje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g_(e,t)}function g_(e,t){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},g_(e,t)}function nU(e,t,r){return t=sU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sU(e){var t=nje(e,"string");return rd(t)=="symbol"?t:t+""}function nje(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zx=function(e){function t(){return Q0e(this,t),Z0e(this,t,arguments)}return rje(t,e),J0e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=G0e(n,z0e),p=at(h,!1);this.props.direction==="x"&&d.type!=="number"&&ac();var g=c.map(function(m){var v=u(m,l),y=v.x,b=v.y,w=v.value,S=v.errorVal;if(!S)return null;var j=[],_,N;if(Array.isArray(S)){var k=q0e(S,2);_=k[0],N=k[1]}else _=N=S;if(i==="vertical"){var C=d.scale,A=b+s,I=A+o,O=A-o,U=C(w-_),E=C(w+N);j.push({x1:E,y1:I,x2:E,y2:O}),j.push({x1:U,y1:A,x2:E,y2:A}),j.push({x1:U,y1:I,x2:U,y2:O})}else if(i==="horizontal"){var B=f.scale,M=y+s,z=M-o,F=M+o,T=B(w-_),R=B(w+N);j.push({x1:z,y1:R,x2:F,y2:R}),j.push({x1:M,y1:T,x2:M,y2:R}),j.push({x1:z,y1:T,x2:F,y2:T})}return P.createElement(ir,Dv({className:"recharts-errorBar",key:"bar-".concat(j.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),j.map(function(J){return P.createElement("line",Dv({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return P.createElement(ir,{className:"recharts-errorBars"},g)}}])}(P.Component);nU(zx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nU(zx,"displayName","ErrorBar");function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){sje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sje(e,t,r){return t=ije(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ije(e){var t=aje(e,"string");return Hh(t)=="symbol"?t:t+""}function aje(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iU=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Wn(r,pu);if(!o)return null;var l=pu.defaultProps,c=l!==void 0?al(al({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?al(al({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:c.iconType||v||"square",color:ek(f),value:m||g,payload:p}}),al(al(al({},c),pu.getWithHeight(o,s)),{},{payload:u,item:o})};function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function nA(e){return uje(e)||cje(e)||lje(e)||oje()}function oje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lje(e,t){if(e){if(typeof e=="string")return v_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v_(e,t)}}function cje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uje(e){if(Array.isArray(e))return v_(e)}function v_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){gu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gu(e,t,r){return t=dje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dje(e){var t=fje(e,"string");return Kh(t)=="symbol"?t:t+""}function fje(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rs(e,t,r){return lt(e)||lt(t)?r:Ir(t)?xs(e,t,r):rt(t)?t(e):r}function Hf(e,t,r,n){var s=c0e(e,function(l){return rs(l,t)});if(r==="number"){var i=s.filter(function(l){return de(l)||parseFloat(l)});return i.length?[Fx(i),yo(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!lt(l)}):s;return o.map(function(l){return Ir(l)||l instanceof Date?l:""})}var hje=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(Js(f-d)!==Js(h-f)){var g=[];if(Js(h-f)===Js(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},ek=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},pje=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(N){return da(N.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?hr(hr({},b),y[0].props):y[0].props,S=w.barSize,j=w[v];o[j]||(o[j]=[]);var _=lt(S)?r:S;o[j].push({item:y[0],stackList:y.slice(1),barSize:lt(_)?void 0:sc(_,n,0)})}}return o},mje=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=sc(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,g=o.reduce(function(S,j){return S+j.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&p>0&&(h=!0,p*=.9,g=c*p);var m=(s-g)/2>>0,v={offset:m-u,size:0};d=o.reduce(function(S,j){var _={item:j.item,position:{offset:v.offset+v.size+u,size:h?p:j.barSize}},N=[].concat(nA(S),[_]);return v=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:v})}),N},f)}else{var y=sc(n,s,0,!0);s-2*y-(c-1)*u<=0&&(u=0);var b=(s-2*y-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(S,j,_){var N=[].concat(nA(S),[{item:j.item,position:{offset:y+(b+u)*_+(b-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},gje=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=iU({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&de(t[p]))return hr(hr({},t),{},gu({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&de(t[g]))return hr(hr({},t),{},gu({},g,t[g]+(h||0)))}return t},vje=function(t,r,n){return lt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},aU=function(t,r,n,s,i){var o=r.props.children,l=ri(o,zx).filter(function(u){return vje(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=rs(d,n);if(lt(f))return u;var h=Array.isArray(f)?[Fx(f),yo(f)]:[f,f],p=c.reduce(function(g,m){var v=rs(d,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},yje=function(t,r,n,s,i){var o=r.map(function(l){return aU(t,l,n,i,s)}).filter(function(l){return!lt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},oU=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&aU(t,c,u,s)||Hf(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},lU=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},cU=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},oa=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Js(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Dd(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},Sw=new WeakMap,Dm=function(t,r){if(typeof r!="function")return t;Sw.has(t)||Sw.set(t,new WeakMap);var n=Sw.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},xje=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Lh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Tv(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Vf(),realScaleType:"point"}:i==="category"?{scale:Lh(),realScaleType:"band"}:{scale:Tv(),realScaleType:"linear"};if(nc(s)){var c="scale".concat(kx(s));return{scale:(X2[c]||Vf)(),realScaleType:X2[c]?c:"point"}}return rt(s)?{scale:s}:{scale:Vf(),realScaleType:"point"}},iA=1e-4,bje=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-iA,o=Math.max(s[0],s[1])+iA,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},wje=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},jje=function(t,r){if(!r||r.length!==2||!de(r[0])||!de(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!de(t[0])||t[0]<n)&&(i[0]=n),(!de(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},_je=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Dd(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Sje=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Dd(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Nje={sign:_je,expand:Fce,none:Gu,silhouette:Uce,wiggle:Bce,positive:Sje},kje=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=Nje[n],o=Lce().keys(s).value(function(l,c){return+rs(l,c,0)}).order(zj).offset(i);return o(t)},Cje=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?hr(hr({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var y=g[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(Ir(m)){var w=b.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[Dp("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return hr(hr({},f),{},gu({},y,b))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return hr(hr({},m),{},gu({},v,{numericAxisId:n,cateAxisId:s,items:y.items,stackedData:kje(t,y.items,i)}))},g)}return hr(hr({},f),{},gu({},h,p))},d)},Eje=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=F0e(u,i,l);return t.domain([Fx(d),yo(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=U0e(f,i,l);return{niceTicks:h}}return null};function aA(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!lt(s[t.dataKey])){var l=lv(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=rs(s,lt(o)?t.dataKey:o);return lt(c)?null:t.scale(c)}var oA=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=rs(o,r.dataKey,r.domain[l]);return lt(c)?null:r.scale(c)-i/2+s},Oje=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},Pje=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Ir(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Aje=function(t){return t.reduce(function(r,n){return[Fx(n.concat([r[0]]).filter(de)),yo(n.concat([r[1]]).filter(de))]},[1/0,-1/0])},uU=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Aje(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},lA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y_=function(t,r,n){if(rt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(de(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(lA.test(t[0])){var i=+lA.exec(t[0])[1];s[0]=r[0]-i}else rt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(de(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(cA.test(t[1])){var o=+cA.exec(t[1])[1];s[1]=r[1]+o}else rt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Fv=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=EN(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},uA=function(t,r,n){return!t||!t.length||qh(t,xs(n,"type.defaultProps.domain"))?r:t},dU=function(t,r){var n=t.type.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return hr(hr({},at(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:ek(t),value:rs(r,s),type:c,payload:r,chartType:u,hide:d})};function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function dA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(r),!0).forEach(function(n){Tje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tje(e,t,r){return t=Rje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rje(e){var t=$je(e,"string");return Gh(t)=="symbol"?t:t+""}function $je(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uv=Math.PI/180,Mje=function(t){return t*180/Math.PI},Xr=function(t,r,n,s){return{x:t+Math.cos(-Uv*s)*n,y:r+Math.sin(-Uv*s)*n}},Ije=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},Dje=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=Ije({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:Mje(u),angleInRadian:u}},Lje=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},Fje=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},hA=function(t,r){var n=t.x,s=t.y,i=Dje({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Lje(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?fA(fA({},r),{},{radius:o,angle:Fje(p,r)}):null};function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}var Uje=["offset"];function Bje(e){return Vje(e)||Wje(e)||qje(e)||zje()}function zje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qje(e,t){if(e){if(typeof e=="string")return x_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x_(e,t)}}function Wje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vje(e){if(Array.isArray(e))return x_(e)}function x_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hje(e,t){if(e==null)return{};var r=Kje(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){Gje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gje(e,t,r){return t=Yje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yje(e){var t=Qje(e,"string");return Yh(t)=="symbol"?t:t+""}function Qje(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qh.apply(this,arguments)}var Xje=function(t){var r=t.value,n=t.formatter,s=lt(t.children)?r:t.children;return rt(n)?n(s):s},Jje=function(t,r){var n=Js(r-t),s=Math.min(Math.abs(r-t),360);return n*s},Zje=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+h)/2,y=Jje(p,g),b=y>=0?1:-1,w,S;s==="insideStart"?(w=p+b*o,S=m):s==="insideEnd"?(w=g-b*o,S=!m):s==="end"&&(w=g+b*o,S=m),S=y<=0?S:!S;var j=Xr(u,d,v,w),_=Xr(u,d,v,w+(S?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),k=lt(t.id)?Dp("recharts-radial-line-"):t.id;return P.createElement("text",Qh({},n,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",l)}),P.createElement("defs",null,P.createElement("path",{id:k,d:N})),P.createElement("textPath",{xlinkHref:"#".concat(k)},r))},e_e=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var p=Xr(o,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Xr(o,l,v,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},t_e=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*s,y=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return Or(Or({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Or(Or({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Or(Or({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var _={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Or(Or({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?Or({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideRight"?Or({x:l+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):i==="insideTop"?Or({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?Or({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},N):i==="insideTopLeft"?Or({x:l+v,y:c+h,textAnchor:b,verticalAnchor:g},N):i==="insideTopRight"?Or({x:l+u-v,y:c+h,textAnchor:y,verticalAnchor:g},N):i==="insideBottomLeft"?Or({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:p},N):i==="insideBottomRight"?Or({x:l+u-v,y:c+d-h,textAnchor:y,verticalAnchor:p},N):Rd(i)&&(de(i.x)||_l(i.x))&&(de(i.y)||_l(i.y))?Or({x:l+sc(i.x,u),y:c+sc(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):Or({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},r_e=function(t){return"cx"in t&&de(t.cx)};function ln(e){var t=e.offset,r=t===void 0?5:t,n=Hje(e,Uje),s=Or({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||lt(l)&&lt(c)&&!x.isValidElement(u)&&!rt(u))return null;if(x.isValidElement(u))return x.cloneElement(u,s);var p;if(rt(u)){if(p=x.createElement(u,s),x.isValidElement(p))return p}else p=Xje(s);var g=r_e(i),m=at(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Zje(s,p,m);var v=g?e_e(s):t_e(s);return P.createElement(Sv,Qh({className:ut("recharts-label",f)},m,v,{breakAll:h}),p)}ln.displayName="Label";var fU=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(de(m)&&de(v)){if(de(f)&&de(h))return{x:f,y:h,width:m,height:v};if(de(p)&&de(g))return{x:p,y:g,width:m,height:v}}return de(f)&&de(h)?{x:f,y:h,width:0,height:0}:de(r)&&de(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},n_e=function(t,r){return t?t===!0?P.createElement(ln,{key:"label-implicit",viewBox:r}):Ir(t)?P.createElement(ln,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===ln?x.cloneElement(t,{key:"label-implicit",viewBox:r}):P.createElement(ln,{key:"label-implicit",content:t,viewBox:r}):rt(t)?P.createElement(ln,{key:"label-implicit",content:t,viewBox:r}):Rd(t)?P.createElement(ln,Qh({viewBox:r},t,{key:"label-implicit"})):null:null},s_e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=fU(t),o=ri(s,ln).map(function(c,u){return x.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=n_e(t.label,r||i);return[l].concat(Bje(o))};ln.parseViewBox=fU;ln.renderCallByParent=s_e;function i_e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var a_e=i_e;const o_e=Lt(a_e);function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}var l_e=["valueAccessor"],c_e=["data","dataKey","clockWise","id","textBreakAll"];function u_e(e){return p_e(e)||h_e(e)||f_e(e)||d_e()}function d_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f_e(e,t){if(e){if(typeof e=="string")return b_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b_(e,t)}}function h_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p_e(e){if(Array.isArray(e))return b_(e)}function b_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bv.apply(this,arguments)}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){m_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m_e(e,t,r){return t=g_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g_e(e){var t=v_e(e,"string");return Xh(t)=="symbol"?t:t+""}function v_e(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vA(e,t){if(e==null)return{};var r=y_e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var x_e=function(t){return Array.isArray(t.value)?o_e(t.value):t.value};function To(e){var t=e.valueAccessor,r=t===void 0?x_e:t,n=vA(e,l_e),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=vA(n,c_e);return!s||!s.length?null:P.createElement(ir,{className:"recharts-label-list"},s.map(function(d,f){var h=lt(i)?r(d,f):rs(d&&d.payload,i),p=lt(l)?{}:{id:"".concat(l,"-").concat(f)};return P.createElement(ln,Bv({},at(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:ln.parseViewBox(lt(o)?d:gA(gA({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}To.displayName="LabelList";function b_e(e,t){return e?e===!0?P.createElement(To,{key:"labelList-implicit",data:t}):P.isValidElement(e)||rt(e)?P.createElement(To,{key:"labelList-implicit",data:t,content:e}):Rd(e)?P.createElement(To,Bv({data:t},e,{key:"labelList-implicit"})):null:null}function w_e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=ri(n,To).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=b_e(e.label,t);return[i].concat(u_e(s))}To.renderCallByParent=w_e;function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w_.apply(this,arguments)}function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){j_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j_e(e,t,r){return t=__e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function __e(e){var t=S_e(e,"string");return Jh(t)=="symbol"?t:t+""}function S_e(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N_e=function(t,r){var n=Js(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Lm=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Uv,h=u?i:i+o*f,p=Xr(r,n,d,h),g=Xr(r,n,s,h),m=u?i-o*f:i,v=Xr(r,n,d*Math.cos(f*Uv),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},hU=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=N_e(o,l),u=o+c,d=Xr(r,n,i,o),f=Xr(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=Xr(r,n,s,o),g=Xr(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},k_e=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Js(d-u),h=Lm({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Lm({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,w=v.theta,S=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(S<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):hU({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var _=Lm({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=_.circleTangency,k=_.lineTangency,C=_.theta,A=Lm({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=A.circleTangency,O=A.lineTangency,U=A.theta,E=c?Math.abs(u-d):Math.abs(u-d)-C-U;if(E<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},C_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pU=function(t){var r=xA(xA({},C_e),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=ut("recharts-sector",h),g=o-i,m=sc(l,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=k_e({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=hU({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),P.createElement("path",w_({},at(r,!0),{className:p,d:v,role:"img"}))};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(this,arguments)}function bA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(r),!0).forEach(function(n){E_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E_e(e,t,r){return t=O_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O_e(e){var t=P_e(e,"string");return Zh(t)=="symbol"?t:t+""}function P_e(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jA={curveBasisClosed:Cce,curveBasisOpen:Ece,curveBasis:kce,curveBumpX:fce,curveBumpY:hce,curveLinearClosed:Oce,curveLinear:Ex,curveMonotoneX:Pce,curveMonotoneY:Ace,curveNatural:Tce,curveStep:Rce,curveStepAfter:Mce,curveStepBefore:$ce},Fm=function(t){return t.x===+t.x&&t.y===+t.y},vf=function(t){return t.x},yf=function(t){return t.y},A_e=function(t,r){if(rt(t))return t;var n="curve".concat(kx(t));return(n==="curveMonotone"||n==="curveBump")&&r?jA["".concat(n).concat(r==="vertical"?"Y":"X")]:jA[n]||Ex},T_e=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=A_e(n,l),f=u?i.filter(function(m){return Fm(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return Fm(m)}):o,g=f.map(function(m,v){return wA(wA({},m),{},{base:p[v]})});return l==="vertical"?h=Om().y(yf).x1(vf).x0(function(m){return m.base.x}):h=Om().x(vf).y1(yf).y0(function(m){return m.base.y}),h.defined(Fm).curve(d),h(g)}return l==="vertical"&&de(o)?h=Om().y(yf).x1(vf).x0(o):de(o)?h=Om().x(vf).y1(yf).y0(o):h=m3().x(vf).y(yf),h.defined(Fm).curve(d),h(f)},Kf=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?T_e(t):s;return x.createElement("path",j_({},at(t,!1),cv(t),{className:ut("recharts-curve",r),d:o,ref:i}))},mU={exports:{}},R_e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$_e=R_e,M_e=$_e;function gU(){}function vU(){}vU.resetWarningCache=gU;var I_e=function(){function e(n,s,i,o,l,c){if(c!==M_e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:vU,resetWarningCache:gU};return r.PropTypes=r,r};mU.exports=I_e();var D_e=mU.exports;const jt=Lt(D_e),{getOwnPropertyNames:L_e,getOwnPropertySymbols:F_e}=Object,{hasOwnProperty:U_e}=Object.prototype;function Nw(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Um(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function B_e(e){return e!=null?e[Symbol.toStringTag]:void 0}function _A(e){return L_e(e).concat(F_e(e))}const z_e=Object.hasOwn||((e,t)=>U_e.call(e,t));function vc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const q_e="__v",W_e="__o",V_e="_owner",{getOwnPropertyDescriptor:SA,keys:NA}=Object;function H_e(e,t){return e.byteLength===t.byteLength&&zv(new Uint8Array(e),new Uint8Array(t))}function K_e(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function G_e(e,t){return e.byteLength===t.byteLength&&zv(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Y_e(e,t){return vc(e.getTime(),t.getTime())}function Q_e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function X_e(e,t){return e===t}function kA(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const J_e=vc;function Z_e(e,t,r){const n=NA(e);let s=n.length;if(NA(t).length!==s)return!1;for(;s-- >0;)if(!yU(e,t,r,n[s]))return!1;return!0}function xf(e,t,r){const n=_A(e);let s=n.length;if(_A(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!yU(e,t,r,i)||(o=SA(e,i),l=SA(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function e1e(e,t){return vc(e.valueOf(),t.valueOf())}function t1e(e,t){return e.source===t.source&&e.flags===t.flags}function CA(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function zv(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function r1e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function yU(e,t,r,n){return(n===V_e||n===W_e||n===q_e)&&(e.$$typeof||t.$$typeof)?!0:z_e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const n1e="[object ArrayBuffer]",s1e="[object Arguments]",i1e="[object Boolean]",a1e="[object DataView]",o1e="[object Date]",l1e="[object Error]",c1e="[object Map]",u1e="[object Number]",d1e="[object Object]",f1e="[object RegExp]",h1e="[object Set]",p1e="[object String]",m1e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},g1e="[object URL]",v1e=Object.prototype.toString;function y1e({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(v,y,b){if(v===y)return!0;if(v==null||y==null)return!1;const w=typeof v;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?l(v,y,b):w==="function"?i(v,y,b):!1;const S=v.constructor;if(S!==y.constructor)return!1;if(S===Object)return c(v,y,b);if(Array.isArray(v))return t(v,y,b);if(S===Date)return n(v,y,b);if(S===RegExp)return d(v,y,b);if(S===Map)return o(v,y,b);if(S===Set)return f(v,y,b);const j=v1e.call(v);if(j===o1e)return n(v,y,b);if(j===f1e)return d(v,y,b);if(j===c1e)return o(v,y,b);if(j===h1e)return f(v,y,b);if(j===d1e)return typeof v.then!="function"&&typeof y.then!="function"&&c(v,y,b);if(j===g1e)return p(v,y,b);if(j===l1e)return s(v,y,b);if(j===s1e)return c(v,y,b);if(m1e[j])return h(v,y,b);if(j===n1e)return e(v,y,b);if(j===a1e)return r(v,y,b);if(j===i1e||j===u1e||j===p1e)return u(v,y,b);if(g){let _=g[j];if(!_){const N=B_e(v);N&&(_=g[N])}if(_)return _(v,y,b)}return!1}}function x1e({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:H_e,areArraysEqual:r?xf:K_e,areDataViewsEqual:G_e,areDatesEqual:Y_e,areErrorsEqual:Q_e,areFunctionsEqual:X_e,areMapsEqual:r?Nw(kA,xf):kA,areNumbersEqual:J_e,areObjectsEqual:r?xf:Z_e,arePrimitiveWrappersEqual:e1e,areRegExpsEqual:t1e,areSetsEqual:r?Nw(CA,xf):CA,areTypedArraysEqual:r?Nw(zv,xf):zv,areUrlsEqual:r1e,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=Um(n.areArraysEqual),i=Um(n.areMapsEqual),o=Um(n.areObjectsEqual),l=Um(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function b1e(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function w1e({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const j1e=tl();tl({strict:!0});tl({circular:!0});tl({circular:!0,strict:!0});tl({createInternalComparator:()=>vc});tl({strict:!0,createInternalComparator:()=>vc});tl({circular:!0,createInternalComparator:()=>vc});tl({circular:!0,createInternalComparator:()=>vc,strict:!0});function tl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=x1e(e),o=y1e(i),l=r?r(o):b1e(o);return w1e({circular:t,comparator:o,createState:n,equals:l,strict:s})}function _1e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function EA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):_1e(s)};requestAnimationFrame(n)}function __(e){"@babel/helpers - typeof";return __=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},__(e)}function S1e(e){return E1e(e)||C1e(e)||k1e(e)||N1e()}function N1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k1e(e,t){if(e){if(typeof e=="string")return OA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OA(e,t)}}function OA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E1e(e){if(Array.isArray(e))return e}function O1e(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=S1e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){EA(s.bind(null,u),c);return}s(c),EA(s.bind(null,u));return}__(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(n){xU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xU(e,t,r){return t=P1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P1e(e){var t=A1e(e,"string");return ep(t)==="symbol"?t:String(t)}function A1e(e,t){if(ep(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T1e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},R1e=function(t){return t},$1e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Gf=function(t,r){return Object.keys(r).reduce(function(n,s){return AA(AA({},n),{},xU({},s,t(s,r[s])))},{})},TA=function(t,r,n){return t.map(function(s){return"".concat($1e(s)," ").concat(r,"ms ").concat(n)}).join(",")};function M1e(e,t){return L1e(e)||D1e(e,t)||bU(e,t)||I1e()}function I1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function L1e(e){if(Array.isArray(e))return e}function F1e(e){return z1e(e)||B1e(e)||bU(e)||U1e()}function U1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bU(e,t){if(e){if(typeof e=="string")return S_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S_(e,t)}}function B1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z1e(e){if(Array.isArray(e))return S_(e)}function S_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qv=1e-4,wU=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},jU=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},RA=function(t,r){return function(n){var s=wU(t,r);return jU(s,n)}},q1e=function(t,r){return function(n){var s=wU(t,r),i=[].concat(F1e(s.map(function(o,l){return o*l}).slice(1)),[0]);return jU(i,n)}},$A=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=M1e(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=RA(s,o),h=RA(i,l),p=q1e(s,o),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,w=b,S=0;S<8;++S){var j=f(w)-b,_=p(w);if(Math.abs(j-b)<qv||_<qv)return h(w);w=g(w-j/_)}return h(w)};return m.isStepper=!1,m},W1e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,g=h*i,m=h+(p-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<qv&&Math.abs(m)<qv?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},V1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $A(s);case"spring":return W1e();default:if(s.split("(")[0]==="cubic-bezier")return $A(s)}return typeof s=="function"?s:null};function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function MA(e){return G1e(e)||K1e(e)||_U(e)||H1e()}function H1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G1e(e){if(Array.isArray(e))return k_(e)}function IA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(r),!0).forEach(function(n){N_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N_(e,t,r){return t=Y1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y1e(e){var t=Q1e(e,"string");return tp(t)==="symbol"?t:String(t)}function Q1e(e,t){if(tp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X1e(e,t){return eSe(e)||Z1e(e,t)||_U(e,t)||J1e()}function J1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _U(e,t){if(e){if(typeof e=="string")return k_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k_(e,t)}}function k_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function eSe(e){if(Array.isArray(e))return e}var Wv=function(t,r,n){return t+(r-t)*n},C_=function(t){var r=t.from,n=t.to;return r!==n},tSe=function e(t,r,n){var s=Gf(function(i,o){if(C_(o)){var l=t(o.from,o.to,o.velocity),c=X1e(l,2),u=c[0],d=c[1];return Gr(Gr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Gf(function(i,o){return C_(o)?Gr(Gr({},o),{},{velocity:Wv(o.velocity,s[i].velocity,n),from:Wv(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const rSe=function(e,t,r,n,s){var i=T1e(e,t),o=i.reduce(function(v,y){return Gr(Gr({},v),{},N_({},y,[e[y],t[y]]))},{}),l=i.reduce(function(v,y){return Gr(Gr({},v),{},N_({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Gf(function(y,b){return b.from},l)},p=function(){return!Object.values(l).filter(C_).length},g=function(y){u||(u=y);var b=y-u,w=b/r.dt;l=tSe(r,l,w),s(Gr(Gr(Gr({},e),t),h())),u=y,p()||(c=requestAnimationFrame(f))},m=function(y){d||(d=y);var b=(y-d)/n,w=Gf(function(j,_){return Wv.apply(void 0,MA(_).concat([r(b)]))},o);if(s(Gr(Gr(Gr({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var S=Gf(function(j,_){return Wv.apply(void 0,MA(_).concat([r(1)]))},o);s(Gr(Gr(Gr({},e),t),S))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}var nSe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function sSe(e,t){if(e==null)return{};var r=iSe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iSe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function kw(e){return cSe(e)||lSe(e)||oSe(e)||aSe()}function aSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oSe(e,t){if(e){if(typeof e=="string")return E_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E_(e,t)}}function lSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cSe(e){if(Array.isArray(e))return E_(e)}function E_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){Pf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pf(e,t,r){return t=SU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SU(n.key),n)}}function fSe(e,t,r){return t&&dSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SU(e){var t=hSe(e,"string");return nd(t)==="symbol"?t:String(t)}function hSe(e,t){if(nd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O_(e,t)}function O_(e,t){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},O_(e,t)}function mSe(e){var t=gSe();return function(){var n=Vv(e),s;if(t){var i=Vv(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return P_(this,s)}}function P_(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A_(e)}function A_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(e)}var Ca=function(e){pSe(r,e);var t=mSe(r);function r(n,s){var i;uSe(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(A_(i)),i.changeStyle=i.changeStyle.bind(A_(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),P_(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},P_(i);i.state={style:c?Pf({},c,u):u}}else i.state={style:{}};return i}return fSe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Pf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(j1e(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:s.to;if(this.state&&h){var v={style:c?Pf({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(Is(Is({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=rSe(o,l,V1e(u),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,y){if(y===0)return m;var b=v.duration,w=v.easing,S=w===void 0?"ease":w,j=v.style,_=v.properties,N=v.onAnimationEnd,k=y>0?o[y-1]:v,C=_||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(kw(m),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:b,easing:S}),b]);var A=TA(C,b,S),I=Is(Is(Is({},k.style),j),{},{transition:A});return[].concat(kw(m),[I,b,N]).filter(R1e)};return this.manager.start([c].concat(kw(o.reduce(p,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=O1e());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=l?Pf({},l,c):c,v=TA(Object.keys(m),o,u);g.start([d,i,Is(Is({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=sSe(s,nSe),u=x.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,b=x.cloneElement(p,Is(Is({},c),{},{style:Is(Is({},v),d),className:y}));return b};return u===1?f(x.Children.only(i)):P.createElement("div",null,x.Children.map(i,function(h){return f(h)}))}}]),r}(x.PureComponent);Ca.displayName="Animate";Ca.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ca.propTypes={from:jt.oneOfType([jt.object,jt.string]),to:jt.oneOfType([jt.object,jt.string]),attributeName:jt.string,duration:jt.number,begin:jt.number,easing:jt.oneOfType([jt.string,jt.func]),steps:jt.arrayOf(jt.shape({duration:jt.number.isRequired,style:jt.object.isRequired,easing:jt.oneOfType([jt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jt.func]),properties:jt.arrayOf("string"),onAnimationEnd:jt.func})),children:jt.oneOfType([jt.node,jt.func]),isActive:jt.bool,canBegin:jt.bool,onAnimationEnd:jt.func,shouldReAnimate:jt.bool,onAnimationStart:jt.func,onAnimationReStart:jt.func};function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hv.apply(this,arguments)}function vSe(e,t){return wSe(e)||bSe(e,t)||xSe(e,t)||ySe()}function ySe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xSe(e,t){if(e){if(typeof e=="string")return LA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LA(e,t)}}function LA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function wSe(e){if(Array.isArray(e))return e}function FA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function UA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(r),!0).forEach(function(n){jSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jSe(e,t,r){return t=_Se(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Se(e){var t=SSe(e,"string");return rp(t)=="symbol"?t:t+""}function SSe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BA=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},NSe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},kSe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tk=function(t){var r=UA(UA({},kSe),t),n=x.useRef(),s=x.useState(-1),i=vSe(s,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=ut("recharts-rectangle",p);return b?P.createElement(Ca,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(S){var j=S.width,_=S.height,N=S.x,k=S.y;return P.createElement(Ca,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},P.createElement("path",Hv({},at(r,!0),{className:w,d:BA(N,k,j,_,h),ref:n})))}):P.createElement("path",Hv({},at(r,!0),{className:w,d:BA(c,u,d,f,h)}))};function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(this,arguments)}var rk=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=ut("recharts-dot",i);return r===+r&&n===+n&&s===+s?x.createElement("circle",T_({},at(t,!1),cv(t),{className:o,cx:r,cy:n,r:s})):null};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}var CSe=["x","y","top","left","width","height","className"];function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R_.apply(this,arguments)}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ESe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){OSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OSe(e,t,r){return t=PSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PSe(e){var t=ASe(e,"string");return np(t)=="symbol"?t:t+""}function ASe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TSe(e,t){if(e==null)return{};var r=RSe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $Se=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},MSe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=TSe(t,CSe),v=ESe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!de(n)||!de(i)||!de(f)||!de(p)||!de(l)||!de(u)?null:P.createElement("path",R_({},at(v,!0),{className:ut("recharts-cross",g),d:$Se(n,i,f,p,l,u)}))},ISe=F3,DSe=ISe(Object.getPrototypeOf,Object),LSe=DSe,FSe=$a,USe=LSe,BSe=Ma,zSe="[object Object]",qSe=Function.prototype,WSe=Object.prototype,NU=qSe.toString,VSe=WSe.hasOwnProperty,HSe=NU.call(Object);function KSe(e){if(!BSe(e)||FSe(e)!=zSe)return!1;var t=USe(e);if(t===null)return!0;var r=VSe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&NU.call(r)==HSe}var GSe=KSe;const YSe=Lt(GSe);var QSe=$a,XSe=Ma,JSe="[object Boolean]";function ZSe(e){return e===!0||e===!1||XSe(e)&&QSe(e)==JSe}var eNe=ZSe;const tNe=Lt(eNe);function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(this,arguments)}function rNe(e,t){return aNe(e)||iNe(e,t)||sNe(e,t)||nNe()}function nNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sNe(e,t){if(e){if(typeof e=="string")return qA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qA(e,t)}}function qA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function aNe(e){if(Array.isArray(e))return e}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){oNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oNe(e,t,r){return t=lNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lNe(e){var t=cNe(e,"string");return sp(t)=="symbol"?t:t+""}function cNe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HA=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},uNe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dNe=function(t){var r=VA(VA({},uNe),t),n=x.useRef(),s=x.useState(-1),i=rNe(s,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=ut("recharts-trapezoid",p);return y?P.createElement(Ca,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:y},function(w){var S=w.upperWidth,j=w.lowerWidth,_=w.height,N=w.x,k=w.y;return P.createElement(Ca,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},P.createElement("path",Kv({},at(r,!0),{className:b,d:HA(N,k,S,j,_),ref:n})))}):P.createElement("g",null,P.createElement("path",Kv({},at(r,!0),{className:b,d:HA(c,u,d,f,h)})))},fNe=["option","shapeType","propTransformer","activeClassName","isActive"];function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function hNe(e,t){if(e==null)return{};var r=pNe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(r),!0).forEach(function(n){mNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mNe(e,t,r){return t=gNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gNe(e){var t=vNe(e,"string");return ip(t)=="symbol"?t:t+""}function vNe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yNe(e,t){return Gv(Gv({},t),e)}function xNe(e,t){return e==="symbols"}function GA(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return P.createElement(tk,r);case"trapezoid":return P.createElement(dNe,r);case"sector":return P.createElement(pU,r);case"symbols":if(xNe(t))return P.createElement(bN,r);break;default:return null}}function bNe(e){return x.isValidElement(e)?e.props:e}function wNe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?yNe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=hNe(e,fNe),u;if(x.isValidElement(t))u=x.cloneElement(t,Gv(Gv({},c),bNe(t)));else if(rt(t))u=t(c);else if(YSe(t)&&!tNe(t)){var d=s(t,c);u=P.createElement(GA,{shapeType:r,elementProps:d})}else{var f=c;u=P.createElement(GA,{shapeType:r,elementProps:f})}return l?P.createElement(ir,{className:o},u):u}function qx(e,t){return t!=null&&"trapezoids"in e.props}function Wx(e,t){return t!=null&&"sectors"in e.props}function ap(e,t){return t!=null&&"points"in e.props}function jNe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function _Ne(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function SNe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function NNe(e,t){var r;return qx(e,t)?r=jNe:Wx(e,t)?r=_Ne:ap(e,t)&&(r=SNe),r}function kNe(e,t){var r;return qx(e,t)?r="trapezoids":Wx(e,t)?r="sectors":ap(e,t)&&(r="points"),r}function CNe(e,t){if(qx(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Wx(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ap(e,t)?t.payload:{}}function ENe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=kNe(r,t),i=CNe(r,t),o=n.filter(function(c,u){var d=qh(i,c),f=r.props[s].filter(function(g){var m=NNe(r,t);return m(g,t)}),h=r.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var ONe=Math.ceil,PNe=Math.max;function ANe(e,t,r,n){for(var s=-1,i=PNe(ONe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var TNe=ANe,RNe=s5,YA=1/0,$Ne=17976931348623157e292;function MNe(e){if(!e)return e===0?e:0;if(e=RNe(e),e===YA||e===-YA){var t=e<0?-1:1;return t*$Ne}return e===e?e:0}var kU=MNe,INe=TNe,DNe=Tx,Cw=kU;function LNe(e){return function(t,r,n){return n&&typeof n!="number"&&DNe(t,r,n)&&(r=n=void 0),t=Cw(t),r===void 0?(r=t,t=0):r=Cw(r),n=n===void 0?t<r?1:-1:Cw(n),INe(t,r,n,e)}}var FNe=LNe,UNe=FNe,BNe=UNe(),zNe=BNe;const Yv=Lt(zNe);function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function QA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function XA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(r),!0).forEach(function(n){CU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CU(e,t,r){return t=qNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qNe(e){var t=WNe(e,"string");return op(t)=="symbol"?t:t+""}function WNe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VNe=["Webkit","Moz","O","ms"],HNe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=VNe.reduce(function(i,o){return XA(XA({},i),{},CU({},o+n,r))},{});return s[t]=r,s};function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(this,arguments)}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ew(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){zn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OU(n.key),n)}}function GNe(e,t,r){return t&&ZA(e.prototype,t),r&&ZA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YNe(e,t,r){return t=Xv(t),QNe(e,EU()?Reflect.construct(t,r||[],Xv(e).constructor):t.apply(e,r))}function QNe(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XNe(e)}function XNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EU=function(){return!!e})()}function Xv(e){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xv(e)}function JNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$_(e,t)}function $_(e,t){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$_(e,t)}function zn(e,t,r){return t=OU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OU(e){var t=ZNe(e,"string");return sd(t)=="symbol"?t:t+""}function ZNe(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eke=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Vf().domain(Yv(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},eT=function(t){return t.changedTouches&&!!t.changedTouches.length},id=function(e){function t(r){var n;return KNe(this,t),n=YNe(this,t,[r]),zn(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),zn(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),zn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),zn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),zn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),zn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),zn(n,"handleSlideDragStart",function(s){var i=eT(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return JNe(t,e),GNe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=rs(i[n],l,n);return rt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var v=this.getIndex({startX:o+m,endX:l+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=eT(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),y[o]=u+b;var w=this.getIndex(y),S=w.startIndex,j=w.endIndex,_=function(){var k=v.length-1;return o==="startX"&&(l>c?S%m===0:j%m===0)||l<c&&j===k||o==="endX"&&(l>c?j%m===0:S%m===0)||l>c&&j===k};this.setState(zn(zn({},o,u+b),"brushMoveStartX",n.pageX),function(){g&&_()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(zn({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return P.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?P.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=Ew(Ew({},at(this.props,!1)),{},{x:y,y:u,width:d,height:f}),w=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return P.createElement(ir,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return P.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return P.createElement(ir,{className:"recharts-brush-texts"},P.createElement(Sv,Qv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},g),this.getTextOfTick(s)),P.createElement(Sv,Qv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!s||!s.length||!de(l)||!de(c)||!de(u)||!de(d)||u<=0||d<=0)return null;var w=ut("recharts-brush",i),S=P.Children.count(o)===1,j=HNe("userSelect","none");return P.createElement(ir,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return P.createElement(P.Fragment,null,P.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),P.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),P.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return P.isValidElement(n)?i=P.cloneElement(n,s):rt(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Ew({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?eke({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(x.PureComponent);zn(id,"displayName","Brush");zn(id,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var tke=CN;function rke(e,t){var r;return tke(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var nke=rke,ske=A3,ike=Jo,ake=nke,oke=Fn,lke=Tx;function cke(e,t,r){var n=oke(e)?ske:ake;return r&&lke(e,t,r)&&(t=void 0),n(e,ike(t))}var uke=cke;const dke=Lt(uke);var $i=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},tT=Z3;function fke(e,t,r){t=="__proto__"&&tT?tT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var hke=fke,pke=hke,mke=X3,gke=Jo;function vke(e,t){var r={};return t=gke(t),mke(e,function(n,s,i){pke(r,s,t(n,s,i))}),r}var yke=vke;const xke=Lt(yke);function bke(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var wke=bke,jke=CN;function _ke(e,t){var r=!0;return jke(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var Ske=_ke,Nke=wke,kke=Ske,Cke=Jo,Eke=Fn,Oke=Tx;function Pke(e,t,r){var n=Eke(e)?Nke:kke;return r&&Oke(e,t,r)&&(t=void 0),n(e,Cke(t))}var Ake=Pke;const PU=Lt(Ake);var Tke=["x","y"];function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M_.apply(this,arguments)}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){Rke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rke(e,t,r){return t=$ke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ke(e){var t=Mke(e,"string");return lp(t)=="symbol"?t:t+""}function Mke(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ike(e,t){if(e==null)return{};var r=Dke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lke(e,t){var r=e.x,n=e.y,s=Ike(e,Tke),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return bf(bf(bf(bf(bf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function nT(e){return P.createElement(wNe,M_({shapeType:"rectangle",propTransformer:Lke,activeClassName:"recharts-active-bar"},e))}var Fke=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=de(n)||Xoe(n);return i?t(n,s):(i||ac(),r)}},Uke=["value","background"],AU;function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function Bke(e,t){if(e==null)return{};var r=zke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(this,arguments)}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RU(n.key),n)}}function Wke(e,t,r){return t&&iT(e.prototype,t),r&&iT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vke(e,t,r){return t=Zv(t),Hke(e,TU()?Reflect.construct(t,r||[],Zv(e).constructor):t.apply(e,r))}function Hke(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kke(e)}function Kke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TU=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(e)}function Gke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I_(e,t)}function I_(e,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},I_(e,t)}function xo(e,t,r){return t=RU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RU(e){var t=Yke(e,"string");return ad(t)=="symbol"?t:t+""}function Yke(e,t){if(ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qp=function(e){function t(){var r;qke(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Vke(this,t,[].concat(s)),xo(r,"state",{isAnimationFinished:!1}),xo(r,"id",Dp("recharts-bar-")),xo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),xo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Gke(t,e),Wke(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=at(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:o,m=xr(xr(xr({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return P.createElement(ir,Jv({className:"recharts-bar-rectangle"},uv(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),P.createElement(nT,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return P.createElement(Ca,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(v,y){var b=h&&h[y];if(b){var w=hs(b.x,v.x),S=hs(b.y,v.y),j=hs(b.width,v.width),_=hs(b.height,v.height);return xr(xr({},v),{},{x:w(g),y:S(g),width:j(g),height:_(g)})}if(o==="horizontal"){var N=hs(0,v.height),k=N(g);return xr(xr({},v),{},{y:v.y+v.height-k,height:k})}var C=hs(0,v.width),A=C(g);return xr(xr({},v),{},{width:A})});return P.createElement(ir,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!qh(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=at(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Bke(u,Uke);if(!f)return null;var p=xr(xr(xr(xr(xr({},h),{},{fill:"#eee"},f),c),uv(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return P.createElement(nT,Jv({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ri(d,zx);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:rs(v,y)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return P.createElement(ir,g,f.map(function(m){return P.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=ut("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,S=b||w,j=lt(m)?this.id:m;return P.createElement(ir,{className:y},b||w?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(j)},P.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,P.createElement(ir,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!p||v)&&To.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(x.PureComponent);AU=qp;xo(qp,"displayName","Bar");xo(qp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Bd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xo(qp,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=wje(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?xr(xr({},m),r.props):r.props,y=v.dataKey,b=v.children,w=v.minPointSize,S=g==="horizontal"?o:i,j=u?S.scale.domain():null,_=Oje({numericAxis:S}),N=ri(b,a5),k=f.map(function(C,A){var I,O,U,E,B,M;u?I=jje(u[d+A],j):(I=rs(C,y),Array.isArray(I)||(I=[_,I]));var z=Fke(w,AU.defaultProps.minPointSize)(I[1],A);if(g==="horizontal"){var F,T=[o.scale(I[0]),o.scale(I[1])],R=T[0],J=T[1];O=oA({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:C,index:A}),U=(F=J??R)!==null&&F!==void 0?F:void 0,E=p.size;var G=R-J;if(B=Number.isNaN(G)?0:G,M={x:O,y:o.y,width:E,height:o.height},Math.abs(z)>0&&Math.abs(B)<Math.abs(z)){var ie=Js(B||z)*(Math.abs(z)-Math.abs(B));U-=ie,B+=ie}}else{var he=[i.scale(I[0]),i.scale(I[1])],Le=he[0],Fe=he[1];if(O=Le,U=oA({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:C,index:A}),E=Fe-Le,B=p.size,M={x:i.x,y:U,width:i.width,height:B},Math.abs(z)>0&&Math.abs(E)<Math.abs(z)){var ce=Js(E||z)*(Math.abs(z)-Math.abs(E));E+=ce}}return xr(xr(xr({},C),{},{x:O,y:U,width:E,height:B,value:u?I:I[1],payload:C,background:M},N&&N[A]&&N[A].props),{},{tooltipPayload:[dU(r,C)],tooltipPosition:{x:O+E/2,y:U+B/2}})});return xr({data:k,layout:g},h)});function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function Qke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$U(n.key),n)}}function Xke(e,t,r){return t&&aT(e.prototype,t),r&&aT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){Vx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vx(e,t,r){return t=$U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=Jke(e,"string");return cp(t)=="symbol"?t:t+""}function Jke(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zke=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Wn(u,qp);return d.reduce(function(p,g){var m=r[g],v=m.orientation,y=m.domain,b=m.padding,w=b===void 0?{}:b,S=m.mirror,j=m.reversed,_="".concat(v).concat(S?"Mirror":""),N,k,C,A,I;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=y[1]-y[0],U=1/0,E=m.categoricalDomain.sort(ele);if(E.forEach(function(he,Le){Le>0&&(U=Math.min((he||0)-(E[Le-1]||0),U))}),Number.isFinite(U)){var B=U/O,M=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(N=B*M/2),m.padding==="no-gap"){var z=sc(t.barCategoryGap,B*M),F=B*M/2;N=F-z-(F-z)/M*z}}}s==="xAxis"?k=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:k=m.range,j&&(k=[k[1],k[0]]);var T=xje(m,i,h),R=T.scale,J=T.realScaleType;R.domain(y).range(k),bje(R);var G=Eje(R,Hs(Hs({},m),{},{realScaleType:J}));s==="xAxis"?(I=v==="top"&&!S||v==="bottom"&&S,C=n.left,A=f[_]-I*m.height):s==="yAxis"&&(I=v==="left"&&!S||v==="right"&&S,C=f[_]-I*m.width,A=n.top);var ie=Hs(Hs(Hs({},m),G),{},{realScaleType:J,x:C,y:A,scale:R,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return ie.bandSize=Fv(ie,G),!m.hide&&s==="xAxis"?f[_]+=(I?-1:1)*ie.height:m.hide||(f[_]+=(I?-1:1)*ie.width),Hs(Hs({},p),{},Vx({},g,ie))},{})},MU=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},eCe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return MU({x:r,y:n},{x:s,y:i})},IU=function(){function e(t){Qke(this,e),this.scale=t}return Xke(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Vx(IU,"EPS",1e-4);var nk=function(t){var r=Object.keys(t).reduce(function(n,s){return Hs(Hs({},n),{},Vx({},s,IU.create(t[s])))},{});return Hs(Hs({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return xke(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return PU(s,function(i,o){return r[o].isInRange(i)})}})};function tCe(e){return(e%180+180)%180}var rCe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=tCe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},nCe=Jo,sCe=Lp,iCe=Px;function aCe(e){return function(t,r,n){var s=Object(t);if(!sCe(t)){var i=nCe(r);t=iCe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var oCe=aCe,lCe=kU;function cCe(e){var t=lCe(e),r=t%1;return t===t?r?t-r:t:0}var uCe=cCe,dCe=V3,fCe=Jo,hCe=uCe,pCe=Math.max;function mCe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:hCe(r);return s<0&&(s=pCe(n+s,0)),dCe(e,fCe(t),s)}var gCe=mCe,vCe=oCe,yCe=gCe,xCe=vCe(yCe),bCe=xCe;const wCe=Lt(bCe);var jCe=noe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),sk=x.createContext(void 0),ik=x.createContext(void 0),DU=x.createContext(void 0),LU=x.createContext({}),FU=x.createContext(void 0),UU=x.createContext(0),BU=x.createContext(0),lT=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=jCe(i);return P.createElement(sk.Provider,{value:n},P.createElement(ik.Provider,{value:s},P.createElement(LU.Provider,{value:i},P.createElement(DU.Provider,{value:d},P.createElement(FU.Provider,{value:o},P.createElement(UU.Provider,{value:u},P.createElement(BU.Provider,{value:c},l)))))))},_Ce=function(){return x.useContext(FU)},zU=function(t){var r=x.useContext(sk);r==null&&ac();var n=r[t];return n==null&&ac(),n},SCe=function(){var t=x.useContext(sk);return no(t)},NCe=function(){var t=x.useContext(ik),r=wCe(t,function(n){return PU(n.domain,Number.isFinite)});return r||no(t)},qU=function(t){var r=x.useContext(ik);r==null&&ac();var n=r[t];return n==null&&ac(),n},kCe=function(){var t=x.useContext(DU);return t},CCe=function(){return x.useContext(LU)},ak=function(){return x.useContext(BU)},ok=function(){return x.useContext(UU)};function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function ECe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VU(n.key),n)}}function PCe(e,t,r){return t&&OCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ACe(e,t,r){return t=ey(t),TCe(e,WU()?Reflect.construct(t,r||[],ey(e).constructor):t.apply(e,r))}function TCe(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RCe(e)}function RCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WU=function(){return!!e})()}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ey(e)}function $Ce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D_(e,t)}function D_(e,t){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},D_(e,t)}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){lk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lk(e,t,r){return t=VU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VU(e){var t=MCe(e,"string");return od(t)=="symbol"?t:t+""}function MCe(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ICe(e,t){return UCe(e)||FCe(e,t)||LCe(e,t)||DCe()}function DCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LCe(e,t){if(e){if(typeof e=="string")return dT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dT(e,t)}}function dT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function UCe(e){if(Array.isArray(e))return e}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L_.apply(this,arguments)}var BCe=function(t,r){var n;return P.isValidElement(t)?n=P.cloneElement(t,r):rt(t)?n=t(r):n=P.createElement("line",L_({},r,{className:"recharts-reference-line-line"})),n},zCe=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,m=t.y.apply(g,{position:o});if($i(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var y=u.x,b=t.x.apply(y,{position:o});if($i(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+p},{x:b,y:f}];return l==="top"?w.reverse():w}if(s){var S=u.segment,j=S.map(function(_){return t.apply(_,{position:o})});return $i(u,"discard")&&dke(j,function(_){return!t.isInRange(_)})?null:j}return null};function qCe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=_Ce(),d=zU(s),f=qU(i),h=kCe();if(!u||!h)return null;fa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=nk({x:d.scale,y:f.scale}),g=Ir(t),m=Ir(r),v=n&&n.length===2,y=zCe(p,g,m,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=ICe(y,2),w=b[0],S=w.x,j=w.y,_=b[1],N=_.x,k=_.y,C=$i(e,"hidden")?"url(#".concat(u,")"):void 0,A=uT(uT({clipPath:C},at(e,!0)),{},{x1:S,y1:j,x2:N,y2:k});return P.createElement(ir,{className:ut("recharts-reference-line",l)},BCe(o,A),ln.renderCallByParent(e,eCe({x1:S,y1:j,x2:N,y2:k})))}var ck=function(e){function t(){return ECe(this,t),ACe(this,t,arguments)}return $Ce(t,e),PCe(t,[{key:"render",value:function(){return P.createElement(qCe,this.props)}}])}(P.Component);lk(ck,"displayName","ReferenceLine");lk(ck,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F_.apply(this,arguments)}function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){Hx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KU(n.key),n)}}function HCe(e,t,r){return t&&VCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KCe(e,t,r){return t=ty(t),GCe(e,HU()?Reflect.construct(t,r||[],ty(e).constructor):t.apply(e,r))}function GCe(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YCe(e)}function YCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HU=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(e)}function QCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U_(e,t)}function U_(e,t){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},U_(e,t)}function Hx(e,t,r){return t=KU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KU(e){var t=XCe(e,"string");return ld(t)=="symbol"?t:t+""}function XCe(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JCe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=nk({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return $i(t,"discard")&&!o.isInRange(l)?null:l},Kx=function(e){function t(){return WCe(this,t),KCe(this,t,arguments)}return QCe(t,e),HCe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ir(s),d=Ir(i);if(fa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=JCe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,y=$i(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=hT(hT({clipPath:y},at(this.props,!0)),{},{cx:h,cy:p});return P.createElement(ir,{className:ut("recharts-reference-dot",v)},t.renderDot(m,b),ln.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(P.Component);Hx(Kx,"displayName","ReferenceDot");Hx(Kx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Hx(Kx,"renderDot",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):rt(e)?r=e(t):r=P.createElement(rk,F_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function B_(){return B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B_.apply(this,arguments)}function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(n){Gx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YU(n.key),n)}}function tEe(e,t,r){return t&&eEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rEe(e,t,r){return t=ry(t),nEe(e,GU()?Reflect.construct(t,r||[],ry(e).constructor):t.apply(e,r))}function nEe(e,t){if(t&&(cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sEe(e)}function sEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GU=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ry(e)}function iEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z_(e,t)}function z_(e,t){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},z_(e,t)}function Gx(e,t,r){return t=YU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YU(e){var t=aEe(e,"string");return cd(t)=="symbol"?t:t+""}function aEe(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oEe=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=nk({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return $i(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:MU(p,g)},Yx=function(e){function t(){return ZCe(this,t),rEe(this,t,arguments)}return iEe(t,e),tEe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;fa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ir(s),h=Ir(i),p=Ir(o),g=Ir(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=oEe(f,h,p,g,this.props);if(!v&&!m)return null;var y=$i(this.props,"hidden")?"url(#".concat(d,")"):void 0;return P.createElement(ir,{className:ut("recharts-reference-area",c)},t.renderRect(m,mT(mT({clipPath:y},at(this.props,!0)),v)),ln.renderCallByParent(this.props,v))}}])}(P.Component);Gx(Yx,"displayName","ReferenceArea");Gx(Yx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Gx(Yx,"renderRect",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):rt(e)?r=e(t):r=P.createElement(tk,B_({},t,{className:"recharts-reference-area-rect"})),r});function QU(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function lEe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return rCe(n,r)}function cEe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function ny(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function uEe(e,t){return QU(e,t+1)}function dEe(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:QU(n,u)};var m=c,v,y=function(){return v===void 0&&(v=r(g,m)),v},b=g.coordinate,w=c===0||ny(e,b,y,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(y()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){fEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fEe(e,t,r){return t=hEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hEe(e){var t=pEe(e,"string");return up(t)=="symbol"?t:t+""}function pEe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mEe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var v=e*(p.coordinate+e*m()/2-c);i[h]=p=an(an({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=an(an({},p),{},{tickCoord:p.coordinate});var y=ny(e,p.tickCoord,m,l,c);y&&(c=p.tickCoord-e*(m()/2+s),i[h]=an(an({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function gEe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=an(an({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=ny(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+s),o[l-1]=an(an({},d),{},{isShow:!0}))}for(var g=i?l-1:l,m=function(b){var w=o[b],S,j=function(){return S===void 0&&(S=r(w,b)),S};if(b===0){var _=e*(w.coordinate-e*j()/2-c);o[b]=w=an(an({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else o[b]=w=an(an({},w),{},{tickCoord:w.coordinate});var N=ny(e,w.tickCoord,j,c,u);N&&(c=w.tickCoord+e*(j()/2+s),o[b]=an(an({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return o}function uk(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(de(c)||Bd.isSsr)return uEe(s,typeof c=="number"&&de(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?Wf(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,S){var j=rt(u)?u(w.value,S):w.value;return p==="width"?lEe(Wf(j,{fontSize:t,letterSpacing:r}),g,f):Wf(j,{fontSize:t,letterSpacing:r})[p]},v=s.length>=2?Js(s[1].coordinate-s[0].coordinate):1,y=cEe(i,v,p);return c==="equidistantPreserveStart"?dEe(v,y,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=gEe(v,y,m,s,o,c==="preserveStartEnd"):h=mEe(v,y,m,s,o),h.filter(function(b){return b.isShow}))}var vEe=["viewBox"],yEe=["viewBox"],xEe=["ticks"];function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(this,arguments)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){dk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ow(e,t){if(e==null)return{};var r=bEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JU(n.key),n)}}function jEe(e,t,r){return t&&yT(e.prototype,t),r&&yT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Ee(e,t,r){return t=sy(t),SEe(e,XU()?Reflect.construct(t,r||[],sy(e).constructor):t.apply(e,r))}function SEe(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NEe(e)}function NEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XU=function(){return!!e})()}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sy(e)}function kEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q_(e,t)}function q_(e,t){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},q_(e,t)}function dk(e,t,r){return t=JU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JU(e){var t=CEe(e,"string");return ud(t)=="symbol"?t:t+""}function CEe(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vd=function(e){function t(r){var n;return wEe(this,t),n=_Ee(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return kEe(t,e),jEe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=Ow(n,vEe),l=this.props,c=l.viewBox,u=Ow(l,yEe);return!hu(i,c)||!hu(o,u)||!hu(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,g,m,v,y,b,w=f?-1:1,S=n.tickSize||d,j=de(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=o+ +!f*c,m=v-w*S,b=m-w*h,y=j;break;case"left":m=v=n.coordinate,g=i+ +!f*l,p=g-w*S,y=p-w*h,b=j;break;case"right":m=v=n.coordinate,g=i+ +f*l,p=g+w*S,y=p+w*h,b=j;break;default:p=g=n.coordinate,v=o+ +f*c,m=v+w*S,b=m+w*h,y=j;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Cr(Cr(Cr({},at(this.props,!1)),at(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Cr(Cr({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Cr(Cr({},f),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return P.createElement("line",tu({},f,{className:ut("recharts-cartesian-axis-line",xs(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=uk(Cr(Cr({},this.props),{},{ticks:n}),s,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=at(this.props,!1),y=at(d,!1),b=Cr(Cr({},v),{},{fill:"none"},at(c,!1)),w=p.map(function(S,j){var _=o.getTickLineCoord(S),N=_.line,k=_.tick,C=Cr(Cr(Cr(Cr({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},y),k),{},{index:j,payload:S,visibleTicksCount:p.length,tickFormatter:f});return P.createElement(ir,tu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},uv(o.props,S,j)),c&&P.createElement("line",tu({},b,N,{className:ut("recharts-cartesian-axis-tick-line",xs(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(rt(f)?f(S.value,j):S.value).concat(h||"")))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=Ow(f,xEe),g=h;return rt(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:P.createElement(ir,{className:ut("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ln.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=ut(s.className,"recharts-cartesian-axis-tick-value");return P.isValidElement(n)?o=P.cloneElement(n,Cr(Cr({},s),{},{className:l})):rt(n)?o=n(Cr(Cr({},s),{},{className:l})):o=P.createElement(Sv,tu({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(x.Component);dk(Vd,"displayName","CartesianAxis");dk(Vd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var EEe=["x1","y1","x2","y2","key"],OEe=["offset"];function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function xT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(r),!0).forEach(function(n){PEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PEe(e,t,r){return t=AEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AEe(e){var t=TEe(e,"string");return oc(t)=="symbol"?t:t+""}function TEe(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}function bT(e,t){if(e==null)return{};var r=REe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function REe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $Ee=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return P.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ZU(e,t){var r;if(P.isValidElement(e))r=P.cloneElement(e,t);else if(rt(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=bT(t,EEe),u=at(c,!1);u.offset;var d=bT(u,OEe);r=P.createElement("line",kl({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function MEe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=cn(cn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return ZU(s,u)});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function IEe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=cn(cn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return ZU(s,u)});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function DEe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+o-h:d[p+1]-h;if(m<=0)return null;var v=p%t.length;return P.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function LEe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+l-h:d[p+1]-h;if(m<=0)return null;var v=p%n.length;return P.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var FEe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return cU(uk(cn(cn(cn({},Vd.defaultProps),n),{},{ticks:oa(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},UEe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return cU(uk(cn(cn(cn({},Vd.defaultProps),n),{},{ticks:oa(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Mc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function eB(e){var t,r,n,s,i,o,l=ak(),c=ok(),u=CCe(),d=cn(cn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Mc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Mc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Mc.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Mc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Mc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Mc.verticalFill,x:de(e.x)?e.x:u.left,y:de(e.y)?e.y:u.top,width:de(e.width)?e.width:u.width,height:de(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=SCe(),w=NCe();if(!de(p)||p<=0||!de(g)||g<=0||!de(f)||f!==+f||!de(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||FEe,j=d.horizontalCoordinatesGenerator||UEe,_=d.horizontalPoints,N=d.verticalPoints;if((!_||!_.length)&&rt(j)){var k=v&&v.length,C=j({yAxis:w?cn(cn({},w),{},{ticks:k?v:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);fa(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oc(C),"]")),Array.isArray(C)&&(_=C)}if((!N||!N.length)&&rt(S)){var A=y&&y.length,I=S({xAxis:b?cn(cn({},b),{},{ticks:A?y:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:m);fa(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oc(I),"]")),Array.isArray(I)&&(N=I)}return P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement($Ee,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),P.createElement(MEe,kl({},d,{offset:u,horizontalPoints:_,xAxis:b,yAxis:w})),P.createElement(IEe,kl({},d,{offset:u,verticalPoints:N,xAxis:b,yAxis:w})),P.createElement(DEe,kl({},d,{horizontalPoints:_})),P.createElement(LEe,kl({},d,{verticalPoints:N})))}eB.displayName="CartesianGrid";var BEe=["layout","type","stroke","connectNulls","isRange","ref"],zEe=["key"],tB;function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function rB(e,t){if(e==null)return{};var r=qEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cl.apply(this,arguments)}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){ki(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sB(n.key),n)}}function VEe(e,t,r){return t&&jT(e.prototype,t),r&&jT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HEe(e,t,r){return t=iy(t),KEe(e,nB()?Reflect.construct(t,r||[],iy(e).constructor):t.apply(e,r))}function KEe(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GEe(e)}function GEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nB=function(){return!!e})()}function iy(e){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iy(e)}function YEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W_(e,t)}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},W_(e,t)}function ki(e,t,r){return t=sB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sB(e){var t=QEe(e,"string");return dd(t)=="symbol"?t:t+""}function QEe(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rl=function(e){function t(){var r;WEe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=HEe(this,t,[].concat(s)),ki(r,"state",{isAnimationFinished:!0}),ki(r,"id",Dp("recharts-area-")),ki(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),rt(o)&&o()}),ki(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),rt(o)&&o()}),r}return YEe(t,e),VEe(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=at(this.props,!1),p=at(u,!0),g=d.map(function(v,y){var b=Ka(Ka(Ka({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,b)}),m={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return P.createElement(ir,Cl({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=yo(o.map(function(h){return h.y||0}));return de(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(yo(i.map(function(h){return h.y||0})),f)),de(f)?P.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=yo(o.map(function(h){return h.x||0}));return de(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(yo(i.map(function(h){return h.x||0})),f)),de(f)?P.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=rB(l,BEe);return P.createElement(ir,{clipPath:i?"url(#clipPath-".concat(o,")"):null},P.createElement(Kf,Cl({},at(p,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&P.createElement(Kf,Cl({},at(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&P.createElement(Kf,Cl({},at(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return P.createElement(Ca,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(m){var w=m.length/l.length,S=l.map(function(k,C){var A=Math.floor(C*w);if(m[A]){var I=m[A],O=hs(I.x,k.x),U=hs(I.y,k.y);return Ka(Ka({},k),{},{x:O(b),y:U(b)})}return k}),j;if(de(c)&&typeof c=="number"){var _=hs(v,c);j=_(b)}else if(lt(c)||Dd(c)){var N=hs(v,0);j=N(b)}else j=c.map(function(k,C){var A=Math.floor(C*w);if(v[A]){var I=v[A],O=hs(I.x,k.x),U=hs(I.y,k.y);return Ka(Ka({},k),{},{x:O(b),y:U(b)})}return k});return i.renderAreaStatically(S,j,n,s)}return P.createElement(ir,null,P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(b))),P.createElement(ir,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!qh(d,o)||!qh(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,p=s.width,g=s.height,m=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=ut("recharts-area",c),S=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,_=S||j,N=lt(v)?this.id:v,k=(n=at(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,A=C===void 0?3:C,I=k.strokeWidth,O=I===void 0?2:I,U=cle(o)?o:{},E=U.clipDot,B=E===void 0?!0:E,M=A*2+O;return P.createElement(ir,{className:w},S||j?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(N)},P.createElement("rect",{x:S?d:d-p/2,y:j?u:u-g/2,width:S?p:p*2,height:j?g:g*2})),!B&&P.createElement("clipPath",{id:"clipPath-dots-".concat(N)},P.createElement("rect",{x:d-M/2,y:u-M/2,width:p+M,height:g+M}))):null,b?null:this.renderArea(_,N),(o||b)&&this.renderDots(_,B,N),(!m||y)&&To.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);tB=rl;ki(rl,"displayName","Area");ki(rl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Bd.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ki(rl,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(de(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ki(rl,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,g=u&&u.length,m=tB.getBaseValue(t,r,n,s),v=p==="horizontal",y=!1,b=f.map(function(S,j){var _;g?_=u[d+j]:(_=rs(S,c),Array.isArray(_)?y=!0:_=[m,_]);var N=_[1]==null||g&&rs(S,c)==null;return v?{x:aA({axis:n,ticks:i,bandSize:l,entry:S,index:j}),y:N?null:s.scale(_[1]),value:_,payload:S}:{x:N?null:n.scale(_[1]),y:aA({axis:s,ticks:o,bandSize:l,entry:S,index:j}),value:_,payload:S}}),w;return g||y?w=b.map(function(S){var j=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:j!=null&&S.y!=null?s.scale(j):null}:{x:j!=null?n.scale(j):null,y:S.y}}):w=v?s.scale(m):n.scale(m),Ka({points:b,baseLine:w,layout:p,isRange:y},h)});ki(rl,"renderDotItem",function(e,t){var r;if(P.isValidElement(e))r=P.cloneElement(e,t);else if(rt(e))r=e(t);else{var n=ut("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=rB(t,zEe);r=P.createElement(rk,Cl({},i,{key:s,className:n}))}return r});function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function XEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oB(n.key),n)}}function ZEe(e,t,r){return t&&JEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eOe(e,t,r){return t=ay(t),tOe(e,iB()?Reflect.construct(t,r||[],ay(e).constructor):t.apply(e,r))}function tOe(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rOe(e)}function rOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iB=function(){return!!e})()}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ay(e)}function nOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V_(e,t)}function V_(e,t){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},V_(e,t)}function aB(e,t,r){return t=oB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oB(e){var t=sOe(e,"string");return fd(t)=="symbol"?t:t+""}function sOe(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H_.apply(this,arguments)}function iOe(e){var t=e.xAxisId,r=ak(),n=ok(),s=zU(t);return s==null?null:x.createElement(Vd,H_({},s,{className:ut("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return oa(o,!0)}}))}var Qx=function(e){function t(){return XEe(this,t),eOe(this,t,arguments)}return nOe(t,e),ZEe(t,[{key:"render",value:function(){return x.createElement(iOe,this.props)}}])}(x.Component);aB(Qx,"displayName","XAxis");aB(Qx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function aOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uB(n.key),n)}}function lOe(e,t,r){return t&&oOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cOe(e,t,r){return t=oy(t),uOe(e,lB()?Reflect.construct(t,r||[],oy(e).constructor):t.apply(e,r))}function uOe(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dOe(e)}function dOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lB=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oy(e)}function fOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K_(e,t)}function K_(e,t){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},K_(e,t)}function cB(e,t,r){return t=uB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uB(e){var t=hOe(e,"string");return hd(t)=="symbol"?t:t+""}function hOe(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G_.apply(this,arguments)}var pOe=function(t){var r=t.yAxisId,n=ak(),s=ok(),i=qU(r);return i==null?null:x.createElement(Vd,G_({},i,{className:ut("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return oa(l,!0)}}))},Xx=function(e){function t(){return aOe(this,t),cOe(this,t,arguments)}return fOe(t,e),lOe(t,[{key:"render",value:function(){return x.createElement(pOe,this.props)}}])}(x.Component);cB(Xx,"displayName","YAxis");cB(Xx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _T(e){return yOe(e)||vOe(e)||gOe(e)||mOe()}function mOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gOe(e,t){if(e){if(typeof e=="string")return Y_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y_(e,t)}}function vOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yOe(e){if(Array.isArray(e))return Y_(e)}function Y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Q_=function(t,r,n,s,i){var o=ri(t,ck),l=ri(t,Kx),c=[].concat(_T(o),_T(l)),u=ri(t,Yx),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&$i(v.props,"extendDomain")&&de(v.props[f])){var y=v.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&$i(v.props,"extendDomain")&&de(v.props[p])&&de(v.props[g])){var y=v.props[p],b=v.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return de(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},dB={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var S=v.length,j;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(j=1,b=new Array(y-1);j<y;j++)b[j-1]=arguments[j];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(dB);var xOe=dB.exports;const bOe=Lt(xOe);var Pw=new bOe,Aw="recharts.syncMouseEvents";function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function wOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fB(n.key),n)}}function _Oe(e,t,r){return t&&jOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tw(e,t,r){return t=fB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fB(e){var t=SOe(e,"string");return dp(t)=="symbol"?t:t+""}function SOe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NOe=function(){function e(){wOe(this,e),Tw(this,"activeIndex",0),Tw(this,"coordinateList",[]),Tw(this,"layout","horizontal")}return _Oe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function kOe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&de(n)&&de(s))return!0}return!1}function COe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function hB(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Xr(t,r,n,s),l=Xr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function EOe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Xr(l,c,u,f),p=Xr(l,c,d,f);n=h.x,s=h.y,i=p.x,o=p.y}else return hB(t);return[{x:n,y:s},{x:i,y:o}]}function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){OOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OOe(e,t,r){return t=POe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function POe(e){var t=AOe(e,"string");return fp(t)=="symbol"?t:t+""}function AOe(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TOe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,m=Kf;if(h==="ScatterChart")g=o,m=MSe;else if(h==="BarChart")g=COe(f,o,c,d),m=tk;else if(f==="radial"){var v=hB(o),y=v.cx,b=v.cy,w=v.radius,S=v.startAngle,j=v.endAngle;g={cx:y,cy:b,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},m=pU}else g={points:EOe(f,o,c)},m=Kf;var _=Bm(Bm(Bm(Bm({stroke:"#ccc",pointerEvents:"none"},c),g),at(p,!1)),{},{payload:l,payloadIndex:u,className:ut("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,_):x.createElement(m,_)}var ROe=["item"],$Oe=["children","className","width","height","style","compact","title","desc"];function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(this,arguments)}function NT(e,t){return DOe(e)||IOe(e,t)||mB(e,t)||MOe()}function MOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function DOe(e){if(Array.isArray(e))return e}function kT(e,t){if(e==null)return{};var r=LOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gB(n.key),n)}}function BOe(e,t,r){return t&&UOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zOe(e,t,r){return t=ly(t),qOe(e,pB()?Reflect.construct(t,r||[],ly(e).constructor):t.apply(e,r))}function qOe(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WOe(e)}function WOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pB=function(){return!!e})()}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ly(e)}function VOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X_(e,t)}function X_(e,t){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},X_(e,t)}function md(e){return GOe(e)||KOe(e)||mB(e)||HOe()}function HOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mB(e,t){if(e){if(typeof e=="string")return J_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J_(e,t)}}function KOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GOe(e){if(Array.isArray(e))return J_(e)}function J_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){Be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Be(e,t,r){return t=gB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gB(e){var t=YOe(e,"string");return pd(t)=="symbol"?t:t+""}function YOe(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QOe={xAxis:["bottom","top"],yAxis:["left","right"]},XOe={width:"100%",height:"100%"},vB={x:0,y:0};function zm(e){return e}var JOe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ZOe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return X(X(X({},s),Xr(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return X(X(X({},s),Xr(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return vB},Jx=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(md(l),md(u)):l},[]);return o.length>0?o:t&&t.length&&de(s)&&de(i)?t.slice(s,i+1):[]};function yB(e){return e==="number"?[0,"auto"]:void 0}var Z_=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Jx(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=lv(p,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(md(c),[dU(u,h)]):c},[])},ET=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=JOe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=hje(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Z_(t,r,d,f),p=ZOe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},ePe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=lU(d,i);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?X(X({},m.type.defaultProps),m.props):m.props,b=y.type,w=y.dataKey,S=y.allowDataOverflow,j=y.allowDuplicatedCategory,_=y.scale,N=y.ticks,k=y.includeHidden,C=y[o];if(g[C])return g;var A=Jx(t.data,{graphicalItems:s.filter(function(G){var ie,he=o in G.props?G.props[o]:(ie=G.type.defaultProps)===null||ie===void 0?void 0:ie[o];return he===C}),dataStartIndex:c,dataEndIndex:u}),I=A.length,O,U,E;kOe(y.domain,S,b)&&(O=y_(y.domain,null,S),p&&(b==="number"||_!=="auto")&&(E=Hf(A,w,"category")));var B=yB(b);if(!O||O.length===0){var M,z=(M=y.domain)!==null&&M!==void 0?M:B;if(w){if(O=Hf(A,w,b),b==="category"&&p){var F=Zoe(O);j&&F?(U=O,O=Yv(0,I)):j||(O=uA(z,O,m).reduce(function(G,ie){return G.indexOf(ie)>=0?G:[].concat(md(G),[ie])},[]))}else if(b==="category")j?O=O.filter(function(G){return G!==""&&!lt(G)}):O=uA(z,O,m).reduce(function(G,ie){return G.indexOf(ie)>=0||ie===""||lt(ie)?G:[].concat(md(G),[ie])},[]);else if(b==="number"){var T=yje(A,s.filter(function(G){var ie,he,Le=o in G.props?G.props[o]:(ie=G.type.defaultProps)===null||ie===void 0?void 0:ie[o],Fe="hide"in G.props?G.props.hide:(he=G.type.defaultProps)===null||he===void 0?void 0:he.hide;return Le===C&&(k||!Fe)}),w,i,d);T&&(O=T)}p&&(b==="number"||_!=="auto")&&(E=Hf(A,w,"category"))}else p?O=Yv(0,I):l&&l[C]&&l[C].hasStack&&b==="number"?O=h==="expand"?[0,1]:uU(l[C].stackGroups,c,u):O=oU(A,s.filter(function(G){var ie=o in G.props?G.props[o]:G.type.defaultProps[o],he="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ie===C&&(k||!he)}),b,d,!0);if(b==="number")O=Q_(f,O,C,i,N),z&&(O=y_(z,O,S));else if(b==="category"&&z){var R=z,J=O.every(function(G){return R.indexOf(G)>=0});J&&(O=R)}}return X(X({},g),{},Be({},C,X(X({},y),{},{axisType:i,domain:O,categoricalDomain:E,duplicateDomain:U,originalDomain:(v=y.domain)!==null&&v!==void 0?v:B,isCategorical:p,layout:d})))},{})},tPe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Jx(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=lU(d,i),m=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?X(X({},y.type.defaultProps),y.props):y.props,w=b[o],S=yB("number");if(!v[w]){m++;var j;return g?j=Yv(0,p):l&&l[w]&&l[w].hasStack?(j=uU(l[w].stackGroups,c,u),j=Q_(f,j,w,i)):(j=y_(S,oU(h,n.filter(function(_){var N,k,C=o in _.props?_.props[o]:(N=_.type.defaultProps)===null||N===void 0?void 0:N[o],A="hide"in _.props?_.props.hide:(k=_.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!A}),"number",d),s.defaultProps.allowDataOverflow),j=Q_(f,j,w,i)),X(X({},v),{},Be({},w,X(X({axisType:i},s.defaultProps),{},{hide:!0,orientation:xs(QOe,"".concat(i,".").concat(m%2),null),domain:j,originalDomain:S,isCategorical:g,layout:d})))}return v},{})},rPe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=ri(d,i),p={};return h&&h.length?p=ePe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=tPe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},nPe=function(t){var r=no(t),n=oa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:EN(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Fv(r,n)}},OT=function(t){var r=t.children,n=t.defaultShowTooltip,s=Wn(r,id),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},sPe=function(t){return!t||!t.length?!1:t.some(function(r){var n=da(r&&r.type);return n&&n.indexOf("Bar")>=0})},PT=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},iPe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Wn(f,id),g=Wn(f,pu),m=Object.keys(c).reduce(function(j,_){var N=c[_],k=N.orientation;return!N.mirror&&!N.hide?X(X({},j),{},Be({},k,j[k]+N.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,_){var N=o[_],k=N.orientation;return!N.mirror&&!N.hide?X(X({},j),{},Be({},k,xs(j,"".concat(k))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),y=X(X({},v),m),b=y.bottom;p&&(y.bottom+=p.props.height||id.defaultProps.height),g&&r&&(y=gje(y,s,n,r));var w=u-y.left-y.right,S=d-y.top-y.bottom;return X(X({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(S,0)})},aPe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},oPe=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var w=b.graphicalItems,S=b.stackGroups,j=b.offset,_=b.updateId,N=b.dataStartIndex,k=b.dataEndIndex,C=y.barSize,A=y.layout,I=y.barGap,O=y.barCategoryGap,U=y.maxBarSize,E=PT(A),B=E.numericAxisName,M=E.cateAxisName,z=sPe(w),F=[];return w.forEach(function(T,R){var J=Jx(y.data,{graphicalItems:[T],dataStartIndex:N,dataEndIndex:k}),G=T.type.defaultProps!==void 0?X(X({},T.type.defaultProps),T.props):T.props,ie=G.dataKey,he=G.maxBarSize,Le=G["".concat(B,"Id")],Fe=G["".concat(M,"Id")],ce={},Me=c.reduce(function(D,W){var Y=b["".concat(W.axisType,"Map")],ve=G["".concat(W.axisType,"Id")];Y&&Y[ve]||W.axisType==="zAxis"||ac();var fe=Y[ve];return X(X({},D),{},Be(Be({},W.axisType,fe),"".concat(W.axisType,"Ticks"),oa(fe)))},ce),te=Me[M],pe=Me["".concat(M,"Ticks")],H=S&&S[Le]&&S[Le].hasStack&&Pje(T,S[Le].stackGroups),K=da(T.type).indexOf("Bar")>=0,Ye=Fv(te,pe),Ue=[],wt=z&&pje({barSize:C,stackGroups:S,totalSize:aPe(Me,M)});if(K){var yt,Zt,tn=lt(he)?U:he,Sn=(yt=(Zt=Fv(te,pe,!0))!==null&&Zt!==void 0?Zt:tn)!==null&&yt!==void 0?yt:0;Ue=mje({barGap:I,barCategoryGap:O,bandSize:Sn!==Ye?Sn:Ye,sizeList:wt[Fe],maxBarSize:tn}),Sn!==Ye&&(Ue=Ue.map(function(D){return X(X({},D),{},{position:X(X({},D.position),{},{offset:D.position.offset-Sn/2})})}))}var fi=T&&T.type&&T.type.getComposedData;fi&&F.push({props:X(X({},fi(X(X({},Me),{},{displayedData:J,props:y,dataKey:ie,item:T,bandSize:Ye,barPosition:Ue,offset:j,stackedData:H,layout:A,dataStartIndex:N,dataEndIndex:k}))),{},Be(Be(Be({key:T.key||"item-".concat(R)},B,Me[B]),M,Me[M]),"animationId",_)),childIndex:fle(T,y.children),item:T})}),F},p=function(y,b){var w=y.props,S=y.dataStartIndex,j=y.dataEndIndex,_=y.updateId;if(!nP({props:w}))return null;var N=w.children,k=w.layout,C=w.stackOffset,A=w.data,I=w.reverseStackOrder,O=PT(k),U=O.numericAxisName,E=O.cateAxisName,B=ri(N,n),M=Cje(A,B,"".concat(U,"Id"),"".concat(E,"Id"),C,I),z=c.reduce(function(G,ie){var he="".concat(ie.axisType,"Map");return X(X({},G),{},Be({},he,rPe(w,X(X({},ie),{},{graphicalItems:B,stackGroups:ie.axisType===U&&M,dataStartIndex:S,dataEndIndex:j}))))},{}),F=iPe(X(X({},z),{},{props:w,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(z).forEach(function(G){z[G]=d(w,z[G],F,G.replace("Map",""),r)});var T=z["".concat(E,"Map")],R=nPe(T),J=h(w,X(X({},z),{},{dataStartIndex:S,dataEndIndex:j,updateId:_,graphicalItems:B,stackGroups:M,offset:F}));return X(X({formattedGraphicalItems:J,graphicalItems:B,offset:F,stackGroups:M},R),z)},g=function(v){function y(b){var w,S,j;return FOe(this,y),j=zOe(this,y,[b]),Be(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(j,"accessibilityManager",new NOe),Be(j,"handleLegendBBoxUpdate",function(_){if(_){var N=j.state,k=N.dataStartIndex,C=N.dataEndIndex,A=N.updateId;j.setState(X({legendBBox:_},p({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:A},X(X({},j.state),{},{legendBBox:_}))))}}),Be(j,"handleReceiveSyncEvent",function(_,N,k){if(j.props.syncId===_){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),Be(j,"handleBrushChange",function(_){var N=_.startIndex,k=_.endIndex;if(N!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return X({dataStartIndex:N,dataEndIndex:k},p({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),Be(j,"handleMouseEnter",function(_){var N=j.getMouseInfo(_);if(N){var k=X(X({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;rt(C)&&C(k,_)}}),Be(j,"triggeredAfterMouseMove",function(_){var N=j.getMouseInfo(_),k=N?X(X({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;rt(C)&&C(k,_)}),Be(j,"handleItemMouseEnter",function(_){j.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Be(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Be(j,"handleMouseMove",function(_){_.persist(),j.throttleTriggeredAfterMouseMove(_)}),Be(j,"handleMouseLeave",function(_){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseLeave;rt(k)&&k(N,_)}),Be(j,"handleOuterEvent",function(_){var N=dle(_),k=xs(j.props,"".concat(N));if(N&&rt(k)){var C,A;/.*touch.*/i.test(N)?A=j.getMouseInfo(_.changedTouches[0]):A=j.getMouseInfo(_),k((C=A)!==null&&C!==void 0?C:{},_)}}),Be(j,"handleClick",function(_){var N=j.getMouseInfo(_);if(N){var k=X(X({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;rt(C)&&C(k,_)}}),Be(j,"handleMouseDown",function(_){var N=j.props.onMouseDown;if(rt(N)){var k=j.getMouseInfo(_);N(k,_)}}),Be(j,"handleMouseUp",function(_){var N=j.props.onMouseUp;if(rt(N)){var k=j.getMouseInfo(_);N(k,_)}}),Be(j,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Be(j,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseDown(_.changedTouches[0])}),Be(j,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseUp(_.changedTouches[0])}),Be(j,"handleDoubleClick",function(_){var N=j.props.onDoubleClick;if(rt(N)){var k=j.getMouseInfo(_);N(k,_)}}),Be(j,"handleContextMenu",function(_){var N=j.props.onContextMenu;if(rt(N)){var k=j.getMouseInfo(_);N(k,_)}}),Be(j,"triggerSyncEvent",function(_){j.props.syncId!==void 0&&Pw.emit(Aw,j.props.syncId,_,j.eventEmitterSymbol)}),Be(j,"applySyncEvent",function(_){var N=j.props,k=N.layout,C=N.syncMethod,A=j.state.updateId,I=_.dataStartIndex,O=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)j.setState(X({dataStartIndex:I,dataEndIndex:O},p({props:j.props,dataStartIndex:I,dataEndIndex:O,updateId:A},j.state)));else if(_.activeTooltipIndex!==void 0){var U=_.chartX,E=_.chartY,B=_.activeTooltipIndex,M=j.state,z=M.offset,F=M.tooltipTicks;if(!z)return;if(typeof C=="function")B=C(F,_);else if(C==="value"){B=-1;for(var T=0;T<F.length;T++)if(F[T].value===_.activeLabel){B=T;break}}var R=X(X({},z),{},{x:z.left,y:z.top}),J=Math.min(U,R.x+R.width),G=Math.min(E,R.y+R.height),ie=F[B]&&F[B].value,he=Z_(j.state,j.props.data,B),Le=F[B]?{x:k==="horizontal"?F[B].coordinate:J,y:k==="horizontal"?G:F[B].coordinate}:vB;j.setState(X(X({},_),{},{activeLabel:ie,activeCoordinate:Le,activePayload:he,activeTooltipIndex:B}))}else j.setState(_)}),Be(j,"renderCursor",function(_){var N,k=j.state,C=k.isTooltipActive,A=k.activeCoordinate,I=k.activePayload,O=k.offset,U=k.activeTooltipIndex,E=k.tooltipAxisBandSize,B=j.getTooltipEventType(),M=(N=_.props.active)!==null&&N!==void 0?N:C,z=j.props.layout,F=_.key||"_recharts-cursor";return P.createElement(TOe,{key:F,activeCoordinate:A,activePayload:I,activeTooltipIndex:U,chartName:r,element:_,isActive:M,layout:z,offset:O,tooltipAxisBandSize:E,tooltipEventType:B})}),Be(j,"renderPolarAxis",function(_,N,k){var C=xs(_,"type.axisType"),A=xs(j.state,"".concat(C,"Map")),I=_.type.defaultProps,O=I!==void 0?X(X({},I),_.props):_.props,U=A&&A[O["".concat(C,"Id")]];return x.cloneElement(_,X(X({},U),{},{className:ut(C,U.className),key:_.key||"".concat(N,"-").concat(k),ticks:oa(U,!0)}))}),Be(j,"renderPolarGrid",function(_){var N=_.props,k=N.radialLines,C=N.polarAngles,A=N.polarRadius,I=j.state,O=I.radiusAxisMap,U=I.angleAxisMap,E=no(O),B=no(U),M=B.cx,z=B.cy,F=B.innerRadius,T=B.outerRadius;return x.cloneElement(_,{polarAngles:Array.isArray(C)?C:oa(B,!0).map(function(R){return R.coordinate}),polarRadius:Array.isArray(A)?A:oa(E,!0).map(function(R){return R.coordinate}),cx:M,cy:z,innerRadius:F,outerRadius:T,key:_.key||"polar-grid",radialLines:k})}),Be(j,"renderLegend",function(){var _=j.state.formattedGraphicalItems,N=j.props,k=N.children,C=N.width,A=N.height,I=j.props.margin||{},O=C-(I.left||0)-(I.right||0),U=iU({children:k,formattedGraphicalItems:_,legendWidth:O,legendContent:u});if(!U)return null;var E=U.item,B=kT(U,ROe);return x.cloneElement(E,X(X({},B),{},{chartWidth:C,chartHeight:A,margin:I,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Be(j,"renderTooltip",function(){var _,N=j.props,k=N.children,C=N.accessibilityLayer,A=Wn(k,yi);if(!A)return null;var I=j.state,O=I.isTooltipActive,U=I.activeCoordinate,E=I.activePayload,B=I.activeLabel,M=I.offset,z=(_=A.props.active)!==null&&_!==void 0?_:O;return x.cloneElement(A,{viewBox:X(X({},M),{},{x:M.left,y:M.top}),active:z,label:B,payload:z?E:[],coordinate:U,accessibilityLayer:C})}),Be(j,"renderBrush",function(_){var N=j.props,k=N.margin,C=N.data,A=j.state,I=A.offset,O=A.dataStartIndex,U=A.dataEndIndex,E=A.updateId;return x.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Dm(j.handleBrushChange,_.props.onChange),data:C,x:de(_.props.x)?_.props.x:I.left,y:de(_.props.y)?_.props.y:I.top+I.height+I.brushBottom-(k.bottom||0),width:de(_.props.width)?_.props.width:I.width,startIndex:O,endIndex:U,updateId:"brush-".concat(E)})}),Be(j,"renderReferenceElement",function(_,N,k){if(!_)return null;var C=j,A=C.clipPathId,I=j.state,O=I.xAxisMap,U=I.yAxisMap,E=I.offset,B=_.type.defaultProps||{},M=_.props,z=M.xAxisId,F=z===void 0?B.xAxisId:z,T=M.yAxisId,R=T===void 0?B.yAxisId:T;return x.cloneElement(_,{key:_.key||"".concat(N,"-").concat(k),xAxis:O[F],yAxis:U[R],viewBox:{x:E.left,y:E.top,width:E.width,height:E.height},clipPathId:A})}),Be(j,"renderActivePoints",function(_){var N=_.item,k=_.activePoint,C=_.basePoint,A=_.childIndex,I=_.isRange,O=[],U=N.props.key,E=N.item.type.defaultProps!==void 0?X(X({},N.item.type.defaultProps),N.item.props):N.item.props,B=E.activeDot,M=E.dataKey,z=X(X({index:A,dataKey:M,cx:k.x,cy:k.y,r:4,fill:ek(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},at(B,!1)),cv(B));return O.push(y.renderActiveDot(B,z,"".concat(U,"-activePoint-").concat(A))),C?O.push(y.renderActiveDot(B,X(X({},z),{},{cx:C.x,cy:C.y}),"".concat(U,"-basePoint-").concat(A))):I&&O.push(null),O}),Be(j,"renderGraphicChild",function(_,N,k){var C=j.filterFormatItem(_,N,k);if(!C)return null;var A=j.getTooltipEventType(),I=j.state,O=I.isTooltipActive,U=I.tooltipAxis,E=I.activeTooltipIndex,B=I.activeLabel,M=j.props.children,z=Wn(M,yi),F=C.props,T=F.points,R=F.isRange,J=F.baseLine,G=C.item.type.defaultProps!==void 0?X(X({},C.item.type.defaultProps),C.item.props):C.item.props,ie=G.activeDot,he=G.hide,Le=G.activeBar,Fe=G.activeShape,ce=!!(!he&&O&&z&&(ie||Le||Fe)),Me={};A!=="axis"&&z&&z.props.trigger==="click"?Me={onClick:Dm(j.handleItemMouseEnter,_.props.onClick)}:A!=="axis"&&(Me={onMouseLeave:Dm(j.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Dm(j.handleItemMouseEnter,_.props.onMouseEnter)});var te=x.cloneElement(_,X(X({},C.props),Me));function pe(W){return typeof U.dataKey=="function"?U.dataKey(W.payload):null}if(ce)if(E>=0){var H,K;if(U.dataKey&&!U.allowDuplicatedCategory){var Ye=typeof U.dataKey=="function"?pe:"payload.".concat(U.dataKey.toString());H=lv(T,Ye,B),K=R&&J&&lv(J,Ye,B)}else H=T==null?void 0:T[E],K=R&&J&&J[E];if(Fe||Le){var Ue=_.props.activeIndex!==void 0?_.props.activeIndex:E;return[x.cloneElement(_,X(X(X({},C.props),Me),{},{activeIndex:Ue})),null,null]}if(!lt(H))return[te].concat(md(j.renderActivePoints({item:C,activePoint:H,basePoint:K,childIndex:E,isRange:R})))}else{var wt,yt=(wt=j.getItemByXY(j.state.activeCoordinate))!==null&&wt!==void 0?wt:{graphicalItem:te},Zt=yt.graphicalItem,tn=Zt.item,Sn=tn===void 0?_:tn,fi=Zt.childIndex,D=X(X(X({},C.props),Me),{},{activeIndex:fi});return[x.cloneElement(Sn,D),null,null]}return R?[te,null,null]:[te,null]}),Be(j,"renderCustomized",function(_,N,k){return x.cloneElement(_,X(X({key:"recharts-customized-".concat(k)},j.props),j.state))}),Be(j,"renderMap",{CartesianGrid:{handler:zm,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:zm},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:zm},YAxis:{handler:zm},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Dp("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=i5(j.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return VOe(y,v),BOe(y,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,j=w.data,_=w.height,N=w.layout,k=Wn(S,yi);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=Z_(this.state,j,C,A),O=this.state.tooltipTicks[C].coordinate,U=(this.state.offset.top+_)/2,E=N==="horizontal",B=E?{x:O,y:U}:{y:O,x:U},M=this.state.formattedGraphicalItems.find(function(F){var T=F.item;return T.type.name==="Scatter"});M&&(B=X(X({},B),M.props.points[C].tooltipPosition),I=M.props.points[C].tooltipPayload);var z={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:A,activePayload:I,activeCoordinate:B};this.setState(z),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,_;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(w){Rj([Wn(w.children,yi)],[Wn(this.props.children,yi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Wn(this.props.children,yi);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),_=Fye(j),N={chartX:Math.round(w.pageX-_.left),chartY:Math.round(w.pageY-_.top)},k=j.width/S.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,k);if(!C)return null;var A=this.state,I=A.xAxisMap,O=A.yAxisMap,U=this.getTooltipEventType(),E=ET(this.state,this.props.data,this.props.layout,C);if(U!=="axis"&&I&&O){var B=no(I).scale,M=no(O).scale,z=B&&B.invert?B.invert(N.chartX):null,F=M&&M.invert?M.invert(N.chartY):null;return X(X({},N),{},{xValue:z,yValue:F},E)}return E?X(X({},N),E):null}},{key:"inRange",value:function(w,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,N=w/j,k=S/j;if(_==="horizontal"||_==="vertical"){var C=this.state.offset,A=N>=C.left&&N<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return A?{x:N,y:k}:null}var I=this.state,O=I.angleAxisMap,U=I.radiusAxisMap;if(O&&U){var E=no(O);return hA({x:N,y:k},E)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),j=Wn(w,yi),_={};j&&S==="axis"&&(j.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=cv(this.props,this.handleOuterEvent);return X(X({},N),_)}},{key:"addListener",value:function(){Pw.on(Aw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Pw.removeListener(Aw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,j){for(var _=this.state.formattedGraphicalItems,N=0,k=_.length;N<k;N++){var C=_[N];if(C.item===w||C.props.key===w.key||S===da(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,j=S.left,_=S.top,N=S.height,k=S.width;return P.createElement("defs",null,P.createElement("clipPath",{id:w},P.createElement("rect",{x:j,y:_,height:N,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,j){var _=NT(j,2),N=_[0],k=_[1];return X(X({},S),{},Be({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,j){var _=NT(j,2),N=_[0],k=_[1];return X(X({},S),{},Be({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,j=S.formattedGraphicalItems,_=S.activeItem;if(j&&j.length)for(var N=0,k=j.length;N<k;N++){var C=j[N],A=C.props,I=C.item,O=I.type.defaultProps!==void 0?X(X({},I.type.defaultProps),I.props):I.props,U=da(I.type);if(U==="Bar"){var E=(A.data||[]).find(function(F){return NSe(w,F)});if(E)return{graphicalItem:C,payload:E}}else if(U==="RadialBar"){var B=(A.data||[]).find(function(F){return hA(w,F)});if(B)return{graphicalItem:C,payload:B}}else if(qx(C,_)||Wx(C,_)||ap(C,_)){var M=ENe({graphicalItem:C,activeTooltipItem:_,itemData:O.data}),z=O.activeIndex===void 0?M:O.activeIndex;return{graphicalItem:X(X({},C),{},{childIndex:z}),payload:ap(C,_)?O.data[M]:C.props.data[M]}}}return null}},{key:"render",value:function(){var w=this;if(!nP(this))return null;var S=this.props,j=S.children,_=S.className,N=S.width,k=S.height,C=S.style,A=S.compact,I=S.title,O=S.desc,U=kT(S,$Oe),E=at(U,!1);if(A)return P.createElement(lT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement(Mj,ru({},E,{width:N,height:k,title:I,desc:O}),this.renderClipPath(),iP(j,this.renderMap)));if(this.props.accessibilityLayer){var B,M;E.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,E.role=(M=this.props.role)!==null&&M!==void 0?M:"application",E.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},E.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return P.createElement(lT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement("div",ru({className:ut("recharts-wrapper",_),style:X({position:"relative",cursor:"default",width:N,height:k},C)},z,{ref:function(T){w.container=T}}),P.createElement(Mj,ru({},E,{width:N,height:k,title:I,desc:O,style:XOe}),this.renderClipPath(),iP(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);Be(g,"displayName",r),Be(g,"defaultProps",X({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Be(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,S=v.children,j=v.width,_=v.height,N=v.layout,k=v.stackOffset,C=v.margin,A=y.dataStartIndex,I=y.dataEndIndex;if(y.updateId===void 0){var O=OT(v);return X(X(X({},O),{},{updateId:0},p(X(X({props:v},O),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:_,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(b!==y.prevDataKey||w!==y.prevData||j!==y.prevWidth||_!==y.prevHeight||N!==y.prevLayout||k!==y.prevStackOffset||!hu(C,y.prevMargin)){var U=OT(v),E={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},B=X(X({},ET(y,w,N)),{},{updateId:y.updateId+1}),M=X(X(X({},U),E),B);return X(X(X({},M),p(X({props:v},M),y)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:_,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(!Rj(S,y.prevChildren)){var z,F,T,R,J=Wn(S,id),G=J&&(z=(F=J.props)===null||F===void 0?void 0:F.startIndex)!==null&&z!==void 0?z:A,ie=J&&(T=(R=J.props)===null||R===void 0?void 0:R.endIndex)!==null&&T!==void 0?T:I,he=G!==A||ie!==I,Le=!lt(w),Fe=Le&&!he?y.updateId:y.updateId+1;return X(X({updateId:Fe},p(X(X({props:v},y),{},{updateId:Fe,dataStartIndex:G,dataEndIndex:ie}),y)),{},{prevChildren:S,dataStartIndex:G,dataEndIndex:ie})}return null}),Be(g,"renderActiveDot",function(v,y,b){var w;return x.isValidElement(v)?w=x.cloneElement(v,y):rt(v)?w=v(y):w=P.createElement(rk,y),P.createElement(ir,{className:"recharts-active-dot",key:b},w)});var m=x.forwardRef(function(y,b){return P.createElement(g,ru({},y,{ref:b}))});return m.displayName=g.displayName,m},lPe=oPe({chartName:"AreaChart",GraphicalChild:rl,axisComponents:[{axisType:"xAxis",AxisComp:Qx},{axisType:"yAxis",AxisComp:Xx}],formatAxisMap:Zke});const di={getProviders:async()=>{const{data:e,error:t}=await q.from("model_providers").select("*").order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProvider:async e=>{const{data:t,error:r}=await q.from("model_providers").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProvider:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("model_providers").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProvider:async(e,t)=>{const{data:r,error:n}=await q.from("model_providers").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProvider:async e=>{const{error:t}=await q.from("model_providers").delete().eq("id",e);if(t)throw new Error(t.message)},getRequests:async e=>{let t=q.from("model_requests").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getRequest:async e=>{const{data:t,error:r}=await q.from("model_requests").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createRequest:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("model_requests").insert(r).select().single();if(s)throw new Error(s.message);return n},updateRequest:async(e,t)=>{const{data:r,error:n}=await q.from("model_requests").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getUsageMetrics:async e=>{let t=q.from("usage_metrics").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.since&&(t=t.gte("created_at",e.since)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getUsageSummary:async e=>{const t=await di.getUsageMetrics({limit:1e4,providerId:e==null?void 0:e.providerId,since:e==null?void 0:e.since}),r=t.reduce((i,o)=>i+o.token_count_input,0),n=t.reduce((i,o)=>i+o.token_count_output,0),s=new Set(t.map(i=>i.request_id));return{totalInputTokens:r,totalOutputTokens:n,requestCount:s.size}},createUsageMetric:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("usage_metrics").insert(r).select().single();if(s)throw new Error(s.message);return n},getConfigurationOverrides:async e=>{if(!e)return null;const{data:t,error:r}=await q.from("configuration_overrides").select("*").eq("request_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},getConfigurationOverridesByRequestIds:async e=>{if(e.length===0)return[];const{data:t,error:r}=await q.from("configuration_overrides").select("*").in("request_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},upsertConfigurationOverride:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("configuration_overrides").upsert({request_id:r.request_id,user_id:r.user_id,model_name:r.model_name??null,temperature:r.temperature??null,max_tokens:r.max_tokens??null,parameters:r.parameters??{}},{onConflict:"request_id"}).select().single();if(s)throw new Error(s.message);return n},updateConfigurationOverride:async(e,t)=>{const{data:r,error:n}=await q.from("configuration_overrides").update(t).eq("request_id",e).select().single();if(n)throw new Error(n.message);return r}};function fk(e,t){return e().catch(()=>t)}const jr={all:["model-providers"],providers:()=>[...jr.all,"providers"],provider:e=>[...jr.all,"provider",e],requests:e=>[...jr.all,"requests",e],request:e=>[...jr.all,"request",e],usageMetrics:e=>[...jr.all,"usage-metrics",e],usageSummary:e=>[...jr.all,"usage-summary",e],configOverride:e=>[...jr.all,"config-override",e]};function cPe(){return De({queryKey:jr.providers(),queryFn:()=>fk(()=>di.getProviders(),[])})}function uPe(){const e=_e();return Se({mutationFn:t=>di.createProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:jr.providers()}),V.success("Provider added")},onError:t=>{V.error(t.message||"Failed to add provider")}})}function dPe(){const e=_e();return Se({mutationFn:({id:t,data:r})=>di.updateProvider(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:jr.providers()}),e.invalidateQueries({queryKey:jr.provider(r)}),V.success("Provider updated")},onError:t=>{V.error(t.message||"Failed to update provider")}})}function fPe(){const e=_e();return Se({mutationFn:t=>di.deleteProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:jr.providers()}),e.invalidateQueries({queryKey:jr.requests()}),V.success("Provider removed")},onError:t=>{V.error(t.message||"Failed to remove provider")}})}function hPe(e){return De({queryKey:jr.requests(e),queryFn:()=>fk(()=>di.getRequests(e),[])})}function pPe(){const e=_e();return Se({mutationFn:t=>di.createRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:jr.requests()}),V.success("Request logged")},onError:t=>{V.error(t.message||"Failed to log request")}})}function mPe(e){return De({queryKey:jr.usageMetrics(e),queryFn:()=>fk(()=>di.getUsageMetrics(e),[])})}function gPe(e){return De({queryKey:jr.usageSummary(e),queryFn:()=>di.getUsageSummary(e)})}function vPe(){const e=_e();return Se({mutationFn:t=>di.createUsageMetric(t),onSuccess:()=>{e.invalidateQueries({queryKey:jr.usageMetrics()}),e.invalidateQueries({queryKey:jr.usageSummary()})},onError:t=>{V.error(t.message||"Failed to record usage")}})}function yPe(){const e=_e();return Se({mutationFn:t=>di.upsertConfigurationOverride(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:jr.configOverride(r.request_id)}),V.success("Configuration saved")},onError:t=>{V.error(t.message||"Failed to save configuration")}})}const AT={openai:"OpenAI",anthropic:"Anthropic",local:"Local",ollama:"Ollama",vllm:"vLLM",custom:"Custom"},xPe=Et({name:Pe().min(1,"Name is required").max(128),slug:gr(["openai","anthropic","local","ollama","vllm","custom"]),api_endpoint_base:Pe().url().optional().or(eN("")),priority:Xs.number().int().min(0).max(999),is_default:Ho(),status:gr(["active","inactive","error"])});function bPe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,provider:s}){const i=!!s,o=kt({resolver:Ct(xPe),defaultValues:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"}});x.useEffect(()=>{e&&o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"})},[e,s,o]);const l=o.handleSubmit(u=>{r({name:u.name,slug:u.slug,api_endpoint_base:u.api_endpoint_base||null,priority:u.priority,is_default:u.is_default,status:u.status}),o.reset()}),c=u=>{u||o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:void 0),t(u)};return a.jsx(Ge,{open:e,onOpenChange:c,children:a.jsxs(We,{className:"max-w-md",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:i?"Edit provider":"Add provider"}),a.jsx(Ke,{children:i?"Update model provider settings and priority.":"Register a new AI model provider (OpenAI, Anthropic, local, etc.)."})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"name",children:"Name"}),a.jsx(ge,{id:"name",placeholder:"e.g. OpenAI GPT-4",...o.register("name"),className:Z(o.formState.errors.name&&"border-destructive")}),o.formState.errors.name&&a.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Provider type"}),a.jsxs(Tt,{value:o.watch("slug"),onValueChange:u=>o.setValue("slug",u),disabled:i,children:[a.jsx(St,{children:a.jsx(Rt,{placeholder:"Select type"})}),a.jsx(Nt,{children:Object.keys(AT).map(u=>a.jsx(Ie,{value:u,children:AT[u]},u))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"api_endpoint_base",children:"API endpoint (optional)"}),a.jsx(ge,{id:"api_endpoint_base",placeholder:"https://api.openai.com/v1",...o.register("api_endpoint_base")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"priority",children:"Priority (higher = preferred)"}),a.jsx(ge,{id:"priority",type:"number",min:0,max:999,...o.register("priority")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsx(Q,{htmlFor:"is_default",className:"cursor-pointer",children:"Default provider"}),a.jsx(Zr,{id:"is_default",checked:o.watch("is_default"),onCheckedChange:u=>o.setValue("is_default",u)})]}),i&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Status"}),a.jsxs(Tt,{value:o.watch("status"),onValueChange:u=>o.setValue("status",u),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"active",children:"Active"}),a.jsx(Ie,{value:"inactive",children:"Inactive"}),a.jsx(Ie,{value:"error",children:"Error"})]})]})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),a.jsx($,{type:"submit",disabled:n,children:n?"Saving":i?"Update":"Add"})]})]})]})})}const wPe=Et({provider_id:Pe().uuid().optional().nullable(),model_name:Pe().max(128).optional(),temperature:Xs.number().min(0).max(2).optional(),max_tokens:Xs.number().int().min(1).max(128e3).optional()}),jPe={pending:"secondary",running:"default",completed:"secondary",failed:"destructive"},_Pe={active:"success",inactive:"secondary",error:"destructive"};function SPe(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s]=x.useState(()=>ete(new Date).toISOString()),{data:i=[],isLoading:o}=cPe(),{data:l=[],isLoading:c}=hPe({limit:50}),{data:u,isLoading:d}=gPe({since:s}),{data:f=[]}=mPe({limit:100,since:s}),h=uPe(),p=dPe(),g=fPe(),m=pPe(),v=vPe(),y=yPe(),b=kt({resolver:Ct(wPe),defaultValues:{provider_id:null,model_name:"",temperature:.7,max_tokens:4096}}),w=_=>{r?p.mutate({id:r.id,data:{name:_.name,slug:_.slug,api_endpoint_base:_.api_endpoint_base??void 0,priority:_.priority,is_default:_.is_default,status:_.status}},{onSettled:()=>{n(null),t(!1)}}):h.mutate({name:_.name,slug:_.slug,api_endpoint_base:_.api_endpoint_base??null,priority:_.priority,is_default:_.is_default,status:_.status},{onSuccess:()=>t(!1)})},S=b.handleSubmit(async _=>{var C,A;const N=_.provider_id??((C=i.find(I=>I.is_default))==null?void 0:C.id)??((A=i[0])==null?void 0:A.id)??null,k=await m.mutateAsync({provider_id:N,status:"pending"});await y.mutateAsync({request_id:k.id,model_name:_.model_name??null,temperature:_.temperature??null,max_tokens:_.max_tokens??null}),await v.mutateAsync({request_id:k.id,provider_id:N,token_count_input:0,token_count_output:0}),b.reset()}),j=f.slice().reverse().reduce((_,N)=>{const k=KL(N.created_at,"yyyy-MM-dd");_.find(A=>A.date===k)||_.push({date:k,tokens:0,requests:0});const C=_.find(A=>A.date===k);return C&&(C.tokens+=N.token_count_input+N.token_count_output,C.requests+=1),_},[]);return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Model Providers"})}),a.jsxs(Ko,{defaultValue:"request",className:"space-y-4",children:[a.jsxs(Ta,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsxs(Vt,{value:"request",className:"gap-2",children:[a.jsx(Lu,{className:"h-4 w-4"}),"Request"]}),a.jsxs(Vt,{value:"usage",className:"gap-2",children:[a.jsx(nI,{className:"h-4 w-4"}),"Usage"]}),a.jsxs(Vt,{value:"providers",className:"gap-2",children:[a.jsx(Oi,{className:"h-4 w-4"}),"Providers"]})]}),a.jsxs(Ht,{value:"request",className:"space-y-4",children:[a.jsxs(ee,{className:"shadow-card",children:[a.jsxs(se,{children:[a.jsx(le,{children:"New request"}),a.jsx(xe,{children:"Select provider and optional overrides. Request will be logged for usage and history."})]}),a.jsx(re,{children:a.jsxs("form",{onSubmit:S,className:"flex flex-col gap-4 sm:max-w-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Provider"}),a.jsxs(Tt,{value:b.watch("provider_id")??"",onValueChange:_=>b.setValue("provider_id",_||null),children:[a.jsx(St,{children:a.jsx(Rt,{placeholder:"Default provider"})}),a.jsxs(Nt,{children:[i.map(_=>a.jsxs(Ie,{value:_.id,children:[_.name," ",_.is_default&&"(default)"]},_.id)),i.length===0&&a.jsx(Ie,{value:"_none",disabled:!0,children:"Add a provider first"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"model_name",children:"Model (optional)"}),a.jsx(ge,{id:"model_name",placeholder:"e.g. gpt-4o",...b.register("model_name")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"temperature",children:"Temperature"}),a.jsx(ge,{id:"temperature",type:"number",step:.1,min:0,max:2,...b.register("temperature")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"max_tokens",children:"Max tokens"}),a.jsx(ge,{id:"max_tokens",type:"number",...b.register("max_tokens")})]})]}),a.jsx($,{type:"submit",disabled:m.isPending||i.length===0,children:m.isPending?"Submitting":"Log request"})]})})]}),a.jsxs(ee,{className:"shadow-card",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Recent requests"}),a.jsx(xe,{children:"Last 50 model requests"})]}),a.jsx(re,{children:c?a.jsx(be,{className:"h-32 w-full rounded-lg"}):l.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No requests yet. Submit a request above or run from chat/skills."}):a.jsx(Pt,{className:"h-64",children:a.jsx("ul",{className:"space-y-2",children:l.map(_=>{var N;return a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border p-3 transition-colors hover:bg-secondary/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(aS,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:_.provider_id?((N=i.find(k=>k.id===_.provider_id))==null?void 0:N.name)??"Unknown":"No provider"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Dr(_.created_at,{addSuffix:!0})})]})]}),a.jsx(nt,{variant:jPe[_.status],children:_.status})]},_.id)})})})})]})]}),a.jsxs(Ht,{value:"usage",className:"space-y-4",children:[d?a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsx(be,{className:"h-24 rounded-lg"}),a.jsx(be,{className:"h-24 rounded-lg"}),a.jsx(be,{className:"h-24 rounded-lg"})]}):a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(le,{className:"text-sm font-medium",children:"Total input tokens"}),a.jsx(yE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(re,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalInputTokens)??0})})]}),a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(le,{className:"text-sm font-medium",children:"Total output tokens"}),a.jsx(yE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(re,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalOutputTokens)??0})})]}),a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(le,{className:"text-sm font-medium",children:"Requests (period)"}),a.jsx($H,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(re,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.requestCount)??0})})]})]}),a.jsxs(ee,{className:"shadow-card",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Usage over time"}),a.jsx(xe,{children:"Tokens and request count (last 7 days by default)"})]}),a.jsx(re,{children:j.length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-8 text-center",children:"No usage data in this period."}):a.jsx(Tye,{width:"100%",height:280,children:a.jsxs(lPe,{data:j,children:[a.jsx(eB,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Qx,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Xx,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(yi,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"}}),a.jsx(rl,{type:"monotone",dataKey:"tokens",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Tokens"})]})})})]})]}),a.jsxs(Ht,{value:"providers",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure AI model providers (OpenAI, Anthropic, local). Priority and default control routing and failover."}),a.jsxs($,{onClick:()=>{n(null),t(!0)},children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add provider"]})]}),o?a.jsx(be,{className:"h-48 w-full rounded-lg"}):i.length===0?a.jsx(ee,{className:"shadow-card",children:a.jsxs(re,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Oi,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"No providers yet. Add one to start logging requests and usage."}),a.jsxs($,{onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add provider"]})]})}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.map(_=>a.jsxs(ee,{className:"shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",children:[a.jsxs(se,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(le,{className:"text-base flex items-center gap-2",children:[_.name,_.is_default&&a.jsx(nt,{variant:"secondary",className:"text-xs",children:"Default"})]}),a.jsxs(xe,{className:"text-xs mt-1",children:[_.api_endpoint_base??_.slug," Priority ",_.priority]})]}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(Gl,{className:"h-4 w-4"})})}),a.jsxs(wa,{align:"end",children:[a.jsxs(pr,{onClick:()=>{n(_),t(!0)},children:[a.jsx(Sh,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>g.mutate(_.id),children:[a.jsx(js,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]}),a.jsx(re,{children:a.jsx(nt,{variant:_Pe[_.status],children:_.status})})]},_.id))})]})]}),a.jsx(bPe,{open:e,onOpenChange:t,onSubmit:w,isSubmitting:h.isPending||p.isPending,provider:r})]})}const _n={getProfiles:async()=>{const{data:e,error:t}=await q.from("browser_profiles").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProfile:async e=>{const{data:t,error:r}=await q.from("browser_profiles").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProfile:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("browser_profiles").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProfile:async(e,t)=>{const{data:r,error:n}=await q.from("browser_profiles").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProfile:async e=>{const{error:t}=await q.from("browser_profiles").delete().eq("id",e);if(t)throw new Error(t.message)},getTabs:async e=>{if(!e)return[];const{data:t,error:r}=await q.from("browser_tabs").select("*").eq("browser_profile_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getTab:async e=>{const{data:t,error:r}=await q.from("browser_tabs").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertTabs:async(e,t)=>{const r=t.map(i=>({...i,browser_profile_id:e})),{data:n,error:s}=await q.from("browser_tabs").upsert(r,{onConflict:"id"}).select();if(s)throw new Error(s.message);return n??[]},updateTab:async(e,t)=>{const{data:r,error:n}=await q.from("browser_tabs").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteTab:async e=>{const{error:t}=await q.from("browser_tabs").delete().eq("id",e);if(t)throw new Error(t.message)},getScripts:async()=>{const{data:e,error:t}=await q.from("browser_scripts").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getScript:async e=>{const{data:t,error:r}=await q.from("browser_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createScript:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("browser_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateScript:async(e,t)=>{const{data:r,error:n}=await q.from("browser_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteScript:async e=>{const{error:t}=await q.from("browser_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getCaptureRecords:async(e,t)=>{if(!e)return[];let r=q.from("browser_capture_records").select("*").eq("browser_profile_id",e).order("created_at",{ascending:!1});t!=null&&t.type&&(r=r.eq("capture_type",t.type)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createCaptureRecord:async e=>{const{data:t,error:r}=await q.from("browser_capture_records").insert(e).select().single();if(r)throw new Error(r.message);return t},getCommands:async e=>{if(!e)return[];const{data:t,error:r}=await q.from("browser_commands").select("*").eq("browser_profile_id",e).order("sequence_order",{ascending:!0}).order("created_at",{ascending:!0});if(r)throw new Error(r.message);return t??[]},getCommand:async e=>{const{data:t,error:r}=await q.from("browser_commands").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCommand:async e=>{const{data:t,error:r}=await q.from("browser_commands").insert(e).select().single();if(r)throw new Error(r.message);return t},updateCommand:async(e,t)=>{const{data:r,error:n}=await q.from("browser_commands").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCommand:async e=>{const{error:t}=await q.from("browser_commands").delete().eq("id",e);if(t)throw new Error(t.message)},deleteCaptureRecord:async e=>{const{error:t}=await q.from("browser_capture_records").delete().eq("id",e);if(t)throw new Error(t.message)},getCdpTokens:async()=>{const{data:e,error:t}=await q.from("browser_cdp_tokens").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getCdpToken:async e=>{const{data:t,error:r}=await q.from("browser_cdp_tokens").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCdpToken:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("browser_cdp_tokens").insert(r).select().single();if(s)throw new Error(s.message);return n},updateCdpToken:async(e,t)=>{const{data:r,error:n}=await q.from("browser_cdp_tokens").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCdpToken:async e=>{const{error:t}=await q.from("browser_cdp_tokens").delete().eq("id",e);if(t)throw new Error(t.message)}};function hk(e,t){return e().catch(()=>t)}const Ut={all:["browser"],profiles:()=>[...Ut.all,"profiles"],profile:e=>[...Ut.all,"profile",e??""],tabs:e=>[...Ut.all,"tabs",e??""],tab:e=>[...Ut.all,"tab",e??""],scripts:()=>[...Ut.all,"scripts"],script:e=>[...Ut.all,"script",e??""],captures:(e,t)=>[...Ut.all,"captures",e??"",t],commands:e=>[...Ut.all,"commands",e??""],command:e=>[...Ut.all,"command",e??""],cdpTokens:()=>[...Ut.all,"cdpTokens"],cdpToken:e=>[...Ut.all,"cdpToken",e??""]};function NPe(){return De({queryKey:Ut.profiles(),queryFn:()=>hk(()=>_n.getProfiles(),[])})}function kPe(e){return De({queryKey:Ut.profile(e),queryFn:()=>e?_n.getProfile(e):Promise.resolve(null),enabled:!!e})}function CPe(){const e=_e();return Se({mutationFn:t=>_n.createProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ut.profiles()}),V.success("Profile created")},onError:t=>{V.error(t.message||"Failed to create profile")}})}function EPe(){const e=_e();return Se({mutationFn:({id:t,data:r})=>_n.updateProfile(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ut.profiles()}),e.invalidateQueries({queryKey:Ut.profile(r)}),V.success("Profile updated")},onError:t=>{V.error(t.message||"Failed to update profile")}})}function OPe(e){return De({queryKey:Ut.tabs(e),queryFn:()=>_n.getTabs(e),enabled:!!e})}function PPe(){return De({queryKey:Ut.scripts(),queryFn:()=>hk(()=>_n.getScripts(),[])})}function APe(){const e=_e();return Se({mutationFn:t=>_n.createScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ut.scripts()}),V.success("Script added")},onError:t=>{V.error(t.message||"Failed to add script")}})}function TPe(e,t){return De({queryKey:Ut.captures(e,t),queryFn:()=>_n.getCaptureRecords(e,t),enabled:!!e})}function RPe(){const e=_e();return Se({mutationFn:t=>_n.createCaptureRecord(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ut.captures(r.browser_profile_id)}),V.success("Capture saved")},onError:t=>{V.error(t.message||"Failed to save capture")}})}function $Pe(){const e=_e();return Se({mutationFn:t=>_n.deleteCaptureRecord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ut.all}),V.success("Capture removed")},onError:t=>{V.error(t.message||"Failed to remove capture")}})}function MPe(e){return De({queryKey:Ut.commands(e),queryFn:()=>_n.getCommands(e),enabled:!!e})}function IPe(){const e=_e();return Se({mutationFn:t=>_n.createCommand(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ut.commands(r.browser_profile_id)}),V.success("Command added to queue")},onError:t=>{V.error(t.message||"Failed to add command")}})}function DPe(){const e=_e();return Se({mutationFn:t=>_n.deleteCommand(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ut.all}),V.success("Command removed")},onError:t=>{V.error(t.message||"Failed to remove command")}})}function LPe(){return De({queryKey:Ut.cdpTokens(),queryFn:()=>hk(()=>_n.getCdpTokens(),[])})}function FPe(){const e=_e();return Se({mutationFn:t=>_n.createCdpToken(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ut.cdpTokens()}),V.success("CDP token added")},onError:t=>{V.error(t.message||"Failed to add CDP token")}})}function UPe({open:e,onOpenChange:t,action:r,onConfirm:n,isPending:s=!1,profilePath:i,isIsolated:o=!0}){const l=r==="start";return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Ve,{children:[a.jsx(He,{children:l?"Start managed profile":"Stop managed profile"}),a.jsx(Ke,{children:l?"Start the managed Chromium profile. The profile will run in an isolated environment.":"Stop the managed Chromium profile. Any open tabs and automation will be terminated."})]}),(i!=null||o!=null)&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm text-muted-foreground",children:[i&&a.jsxs("p",{className:"truncate",title:i,children:[a.jsx("span",{className:"font-medium text-foreground",children:"Path:"})," ",i]}),o!=null&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-foreground",children:"Isolation:"})," ",o?"Enabled":"Disabled"]})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx($,{variant:l?"default":"destructive",onClick:()=>{n(),t(!1)},disabled:s,children:s?"Please wait":l?a.jsxs(a.Fragment,{children:[a.jsx(ca,{className:"mr-2 h-4 w-4"}),"Start profile"]}):a.jsxs(a.Fragment,{children:[a.jsx(Nh,{className:"mr-2 h-4 w-4"}),"Stop profile"]})})]})]})})}function BPe({open:e,onOpenChange:t,tab:r}){if(!r)return null;const n=r.url||"about:blank",s=r.title||n;return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Ve,{children:[a.jsx(He,{className:"flex items-center gap-2 truncate pr-8",children:s}),a.jsx(Ke,{className:"break-all",children:n})]}),a.jsxs("div",{className:"space-y-4",children:[r.snapshot_url&&a.jsx("div",{className:"rounded-lg border border-border overflow-hidden bg-secondary/30",children:a.jsx("img",{src:r.snapshot_url,alt:`Snapshot of ${s}`,className:"w-full h-auto max-h-48 object-cover object-top"})}),a.jsxs("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"URL"}),a.jsx("dd",{className:"min-w-0 truncate text-right font-mono text-xs",title:r.url,children:r.url||""})]}),r.external_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"External ID"}),a.jsx("dd",{className:"font-mono text-xs",children:r.external_id})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Updated"}),a.jsx("dd",{children:new Date(r.updated_at).toLocaleString()})]})]}),n.startsWith("http")&&a.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:Z("inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium","bg-primary/10 text-primary hover:bg-primary/20 transition-colors"),children:[a.jsx(My,{className:"h-4 w-4"}),"Open in new tab"]})]})]})})}const zPe=Et({name:Pe().min(1,"Name is required").max(200,"Name too long"),script_content:Pe().optional()}),TT={name:"",script_content:""};function qPe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=kt({resolver:Ct(zPe),defaultValues:TT}),c=u=>{var d;r({name:u.name.trim(),script_content:((d=u.script_content)==null?void 0:d.trim())||null,execution_status:"pending"}),o(TT),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Add automation script"}),a.jsx(Ke,{children:"Upload or paste an automation script. It will appear in the Automation Runner and can be executed against the managed profile."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"script-name",children:"Script name"}),a.jsx(ge,{id:"script-name",placeholder:"e.g. login-flow.js",...s("name"),className:l.name?"border-destructive":""}),l.name&&a.jsx("p",{className:"text-sm text-destructive",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"script-content",children:"Content (optional)"}),a.jsx("textarea",{id:"script-content",placeholder:"Paste script content or leave empty to upload later",...s("script_content"),rows:6,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx($,{type:"submit",disabled:n,children:n?"Adding":"Add script"})]})]})]})})}const WPe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},VPe={screenshot:wh,pdf:Wr,dom:Ug};function HPe({open:e,onOpenChange:t,captureType:r,fileUrl:n,filePath:s,onDownload:i,onClose:o}){const l=VPe[r],c=WPe[r],u=!!n,d=()=>{o==null||o(),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Ve,{children:[a.jsxs(He,{className:"flex items-center gap-2",children:[a.jsx(l,{className:"h-5 w-5 text-accent"}),c," captured"]}),a.jsxs(Ke,{children:["Your ",c.toLowerCase()," has been saved. You can download it or continue capturing."]})]}),s&&a.jsx("p",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm font-mono text-muted-foreground truncate",title:s,children:s}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{variant:"outline",onClick:d,children:"Close"}),u&&a.jsxs($,{onClick:()=>{if(i==null||i(),n){const f=document.createElement("a");f.href=n,f.download=`capture-${r}-${Date.now()}`,f.click()}d()},children:[a.jsx(oi,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})}const KPe=Et({connection_type:gr(["local","node_proxy"]),token_preview:Pe().max(20).optional(),config_json:Pe().optional()}),Rw={connection_type:"local",token_preview:"",config_json:"{}"};function GPe({open:e,onOpenChange:t,existing:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=kt({resolver:Ct(KPe),defaultValues:r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:Rw}),f=c("connection_type");x.useEffect(()=>{e&&u(r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:Rw)},[e,r,u]);const h=p=>{let g={};try{g=p.config_json?JSON.parse(p.config_json):{}}catch{g={}}n(r?{connection_type:p.connection_type,token_preview:p.token_preview||null,config_json:g}:{connection_type:p.connection_type,token_preview:p.token_preview||null,config_json:g}),u(Rw),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Ve,{children:[a.jsx(He,{children:r?"Edit CDP connector":"Add CDP connector"}),a.jsx(Ke,{children:"Configure local or node proxy CDP connection. Sensitive token data is stored securely and only a redacted preview is shown here."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Connection type"}),a.jsxs(Tt,{value:f,onValueChange:p=>l("connection_type",p),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"local",children:"Local"}),a.jsx(Ie,{value:"node_proxy",children:"Node proxy"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"token-preview",className:"flex items-center gap-2",children:[a.jsx(lI,{className:"h-4 w-4 text-muted-foreground"}),"Token preview (redacted)"]}),a.jsx(ge,{id:"token-preview",placeholder:"e.g. ws://***...***",...i("token_preview")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional label or redacted preview for this token. The actual token is never stored in plain text."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"config-json",children:"Config (JSON, optional)"}),a.jsx("textarea",{id:"config-json",placeholder:'{"host": "localhost", "port": 9222}',...i("config_json"),rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),d.config_json&&a.jsx("p",{className:"text-sm text-destructive",children:d.config_json.message})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx($,{type:"submit",disabled:s,children:s?"Saving":r?"Save changes":"Add connector"})]})]})]})})}const YPe=[{value:"click",label:"Click"},{value:"type",label:"Type"},{value:"select",label:"Select"},{value:"navigate",label:"Navigate"},{value:"scroll",label:"Scroll"},{value:"wait",label:"Wait"},{value:"screenshot",label:"Screenshot"}],QPe=Et({command_type:gr(["click","type","select","navigate","scroll","wait","screenshot"]),selector:Pe().optional(),text:Pe().optional(),url:Pe().url().optional().or(eN("")),value:Pe().optional(),x:Xs.number().optional(),y:Xs.number().optional(),ms:Xs.number().min(0).optional(),sequence_order:Xs.number().min(0).optional()}),$w={command_type:"click",selector:"",text:"",url:"",value:"",sequence_order:0};function XPe({open:e,onOpenChange:t,browserProfileId:r,nextSequenceOrder:n,onSubmit:s,isSubmitting:i=!1}){const{register:o,handleSubmit:l,watch:c,setValue:u,reset:d,formState:{errors:f}}=kt({resolver:Ct(QPe),defaultValues:{...$w,sequence_order:n}}),h=c("command_type");x.useEffect(()=>{e&&r&&d({...$w,sequence_order:n})},[e,r,n,d]);const p=m=>{var y,b;const v={};return(y=m.selector)!=null&&y.trim()&&(v.selector=m.selector.trim()),m.text!==void 0&&m.text!==""&&(v.text=m.text),(b=m.url)!=null&&b.trim()&&(v.url=m.url.trim()),m.value!==void 0&&m.value!==""&&(v.value=m.value),m.x!==void 0&&(v.x=m.x),m.y!==void 0&&(v.y=m.y),m.ms!==void 0&&(v.ms=m.ms),v},g=m=>{if(!r)return;const v=p(m);s({browser_profile_id:r,command_type:m.command_type,parameters:v,sequence_order:m.sequence_order??n,status:"pending"}),d({...$w,sequence_order:n+1}),t(!1)};return r?a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-[480px]",showClose:!0,children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Add command to queue"}),a.jsx(Ke,{children:"Add an automation command. Commands run in sequence within the deterministic tab control environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Command type"}),a.jsxs(Tt,{value:h,onValueChange:m=>u("command_type",m),children:[a.jsx(St,{className:"w-full",children:a.jsx(Rt,{placeholder:"Select type"})}),a.jsx(Nt,{children:YPe.map(({value:m,label:v})=>a.jsx(Ie,{value:m,children:v},m))})]})]}),(h==="click"||h==="type"||h==="select"||h==="wait")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"selector",children:"Selector (CSS or XPath)"}),a.jsx(ge,{id:"selector",placeholder:"e.g. #submit-btn or //button[text()='OK']",...o("selector"),className:f.selector?"border-destructive":""}),f.selector&&a.jsx("p",{className:"text-sm text-destructive",children:f.selector.message})]}),h==="type"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"text",children:"Text to type"}),a.jsx(ge,{id:"text",placeholder:"Text to enter",...o("text"),className:f.text?"border-destructive":""})]}),h==="select"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"value",children:"Option value"}),a.jsx(ge,{id:"value",placeholder:"Value to select",...o("value")})]}),h==="navigate"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"url",children:"URL"}),a.jsx(ge,{id:"url",type:"url",placeholder:"https://example.com",...o("url"),className:f.url?"border-destructive":""}),f.url&&a.jsx("p",{className:"text-sm text-destructive",children:f.url.message})]}),h==="scroll"&&a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"scroll-x",children:"X (px)"}),a.jsx(ge,{id:"scroll-x",type:"number",placeholder:"0",...o("x")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"scroll-y",children:"Y (px)"}),a.jsx(ge,{id:"scroll-y",type:"number",placeholder:"0",...o("y")})]})]}),h==="wait"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"ms",children:"Delay (ms)"}),a.jsx(ge,{id:"ms",type:"number",min:0,placeholder:"1000",...o("ms"),className:f.ms?"border-destructive":""}),f.ms&&a.jsx("p",{className:"text-sm text-destructive",children:f.ms.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"sequence_order",children:"Order in queue"}),a.jsx(ge,{id:"sequence_order",type:"number",min:0,...o("sequence_order"),className:f.sequence_order?"border-destructive":""}),f.sequence_order&&a.jsx("p",{className:"text-sm text-destructive",children:f.sequence_order.message})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsx($,{type:"submit",disabled:i,className:"transition-transform hover:scale-[1.02]",children:i?"Adding":"Add command"})]})]})]})}):null}const JPe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},ZPe={screenshot:wh,pdf:Wr,dom:Ug};function e2e({open:e,onOpenChange:t,captures:r,onDownload:n,onDelete:s,isDeleting:i=!1}){const o=l=>{l.file_url&&window.open(l.file_url,"_blank","noopener,noreferrer")};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-[640px] max-h-[85vh] flex flex-col",showClose:!0,children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Captured outputs"}),a.jsx(Ke,{children:"View, download, or delete captured screenshots, PDFs, and DOM snapshots from this session."})]}),a.jsx(Pt,{className:"flex-1 min-h-[200px] rounded-lg border border-border",children:r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[a.jsx(wh,{className:"h-12 w-12 mb-3 opacity-50"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No captures yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Capture a screenshot, PDF, or DOM snapshot from the session to see them here."})]}):a.jsx("ul",{className:"p-2 space-y-2",children:r.map(l=>{const c=ZPe[l.capture_type],u=JPe[l.capture_type],d=new Date(l.created_at).toLocaleString(),f=!!l.file_url;return a.jsxs("li",{className:Z("flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3","transition-shadow hover:shadow-md"),children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-md bg-primary/10 text-primary",children:a.jsx(c,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:u}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",title:l.file_path??l.file_url??"",children:l.file_path??l.file_url??d}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f&&a.jsx($,{variant:"ghost",size:"icon",onClick:()=>o(l),"aria-label":"View in new tab",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(My,{className:"h-4 w-4"})}),a.jsx($,{variant:"ghost",size:"icon",onClick:()=>n(l),"aria-label":"Download",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(oi,{className:"h-4 w-4"})}),a.jsx($,{variant:"ghost",size:"icon",onClick:()=>s(l.id),disabled:i,"aria-label":"Delete",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:a.jsx(js,{className:"h-4 w-4"})})]})]},l.id)})})})]})})}const t2e={running:"Running",stopped:"Stopped",starting:"Starting",stopping:"Stopping",error:"Error"},RT={click:"Click",type:"Type",select:"Select",navigate:"Navigate",scroll:"Scroll",wait:"Wait",screenshot:"Screenshot"};function r2e(){const[e,t]=x.useState(null),[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(null),[h,p]=x.useState(!1),[g,m]=x.useState(!1),[v,y]=x.useState(!1),{data:b=[],isLoading:w}=NPe(),S=x.useMemo(()=>b.find(H=>H.status==="running")??b[0]??null,[b]),j=r??(S==null?void 0:S.id)??null,{data:_}=kPe(j),{data:N=[],isLoading:k,refetch:C}=OPe(j),{data:A=[],isLoading:I}=PPe(),{data:O=[]}=TPe(j,{limit:20}),{data:U=[]}=LPe(),{data:E=[],isLoading:B}=MPe(j),M=EPe(),z=CPe(),F=APe(),T=RPe(),R=$Pe(),J=FPe(),G=IPe(),ie=DPe(),he=(_==null?void 0:_.status)==="running",Le=x.useMemo(()=>E.length===0?0:Math.max(...E.map(H=>H.sequence_order),0)+1,[E]),Fe=H=>{j&&t({open:!0,action:H})},ce=()=>{if(!e||!j)return;const H=e.action==="start"?"running":"stopped";M.mutate({id:j,data:{status:H}},{onSettled:()=>t(null)})},Me=H=>{j&&T.mutate({browser_profile_id:j,capture_type:H,file_path:null,file_url:`/api/browser/captures/${H}-${Date.now()}`,tab_id:null},{onSuccess:K=>{f({open:!0,type:H,fileUrl:K.file_url,filePath:K.file_path})}})},te=H=>{if(H.file_url){const K=document.createElement("a");K.href=H.file_url,K.download=`capture-${H.capture_type}-${Date.now()}`,K.click()}},pe=x.useMemo(()=>{const H=[];return E.slice(0,5).forEach(K=>{H.push({id:K.id,label:`${RT[K.command_type]}  ${K.status}`,time:new Date(K.created_at).toLocaleTimeString(),createdAt:K.created_at})}),O.slice(0,3).forEach(K=>{H.push({id:K.id,label:`Capture: ${K.capture_type}`,time:new Date(K.created_at).toLocaleTimeString(),createdAt:K.created_at})}),H.sort((K,Ye)=>Ye.createdAt.localeCompare(K.createdAt)).slice(0,8).map(({id:K,label:Ye,time:Ue})=>({id:K,label:Ye,time:Ue}))},[E,O]);return a.jsxs("div",{className:"flex flex-col h-full animate-fade-in-up",children:[a.jsxs("header",{className:"shrink-0 mb-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Browser Automation Console"}),a.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Managed Chromium profile, command queue, and capture tools. Control your session from the footer."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0",children:[a.jsxs(ee,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(se,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[a.jsx(uI,{className:"h-5 w-5 text-primary"}),"Command Queue"]}),a.jsxs($,{size:"sm",onClick:()=>m(!0),disabled:!j||G.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(ar,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(xe,{children:"Add and manage automation commands. They run in sequence."})]}),a.jsx(re,{className:"flex-1 flex flex-col min-h-0",children:j?B?a.jsx("ul",{className:"space-y-2",children:[1,2,3].map(H=>a.jsx(be,{className:"h-10 rounded-md"},H))}):E.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(kH,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No commands in queue"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a command to run automations."}),a.jsxs($,{className:"mt-3 transition-transform hover:scale-[1.02]",variant:"outline",size:"sm",onClick:()=>m(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add command"]})]}):a.jsx(Pt,{className:"flex-1 -mx-1 px-1",children:a.jsx("ul",{className:"space-y-1",children:E.map(H=>a.jsxs("li",{className:"flex items-center gap-2 rounded-md border border-border bg-secondary/30 px-2 py-1.5 group",children:[a.jsx("span",{className:"text-xs text-muted-foreground w-6 shrink-0",children:H.sequence_order+1}),a.jsx("span",{className:"truncate text-sm flex-1",children:RT[H.command_type]}),a.jsx(nt,{variant:"secondary",className:"text-xs shrink-0",children:H.status}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>ie.mutate(H.id),disabled:ie.isPending,"aria-label":"Remove command",children:a.jsx(js,{className:"h-3 w-3"})})]},H.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select or create a profile to add commands."})})]}),a.jsxs(ee,{className:"lg:col-span-6 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(se,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Iy,{className:"h-5 w-5 text-primary"}),"Browser Viewport"]}),j&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:j,onChange:H=>n(H.target.value||null),children:b.map(H=>a.jsxs("option",{value:H.id,children:["Profile  ",t2e[H.status]??H.status]},H.id))}),a.jsxs($,{size:"sm",onClick:()=>Fe("start"),disabled:he||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(ca,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>Fe("stop"),disabled:!he||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Nh,{className:"h-4 w-4 mr-1"}),"Stop"]}),a.jsx($,{variant:"ghost",size:"sm",onClick:()=>C(),disabled:k||!he,children:a.jsx(kd,{className:Z("h-4 w-4",k&&"animate-spin")})})]})]}),a.jsx(xe,{children:"Tab inspector and active session. Start the profile to see tabs."})]}),a.jsx(re,{className:"flex-1 flex flex-col min-h-0",children:j?k?a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:[1,2,3,4].map(H=>a.jsx(be,{className:"h-24 rounded-lg"},H))}):N.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(xE,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No tabs"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:he?"Open pages in the managed browser or refresh.":"Start the profile to see tabs."})]}):a.jsx(Pt,{className:"flex-1",children:a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:N.map(H=>a.jsxs("button",{type:"button",onClick:()=>{i(H),l(!0)},className:"flex flex-col overflow-hidden rounded-lg border border-border bg-secondary/30 text-left transition-all hover:border-primary/50 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[H.snapshot_url?a.jsx("img",{src:H.snapshot_url,alt:"",className:"h-20 w-full object-cover object-top"}):a.jsx("div",{className:"flex h-20 w-full items-center justify-center bg-muted",children:a.jsx(xE,{className:"h-8 w-8 text-muted-foreground"})}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"truncate text-sm font-medium",title:H.title??H.url,children:H.title||H.url||"Untitled"}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",title:H.url,children:H.url||""})]})]},H.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a profile to start."})})]}),a.jsxs(ee,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(se,{className:"pb-2",children:[a.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[a.jsx(wh,{className:"h-5 w-5 text-primary"}),"Output Capture"]}),a.jsx(xe,{children:"Screenshot, PDF, or DOM snapshot. View and manage captures below."})]}),a.jsxs(re,{className:"flex-1 flex flex-col gap-3 min-h-0",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs($,{variant:"outline",size:"sm",onClick:()=>Me("screenshot"),disabled:!j||!he||T.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(wh,{className:"h-4 w-4 mr-1"}),"Screenshot"]}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>Me("pdf"),disabled:!j||!he||T.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Wr,{className:"h-4 w-4 mr-1"}),"PDF"]}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>Me("dom"),disabled:!j||!he||T.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ug,{className:"h-4 w-4 mr-1"}),"DOM"]})]}),a.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recent"}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>y(!0),className:"text-primary hover:text-primary",children:["Manage",a.jsx(es,{className:"h-4 w-4 ml-0.5"})]})]}),O.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No captures yet."}):a.jsx(Pt,{className:"flex-1",children:a.jsx("ul",{className:"space-y-1",children:O.slice(0,5).map(H=>a.jsxs("li",{className:"flex items-center justify-between rounded-md border border-border bg-secondary/30 px-2 py-1.5 text-sm",children:[a.jsx("span",{children:H.capture_type}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(H.created_at).toLocaleDateString()})]},H.id))})})]})]})]})]}),a.jsx("footer",{className:"shrink-0 mt-4 pt-4 border-t border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Session"}),b.length>0&&j&&a.jsxs(a.Fragment,{children:[a.jsxs($,{size:"sm",onClick:()=>Fe("start"),disabled:he||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(ca,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>Fe("stop"),disabled:!he||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Nh,{className:"h-4 w-4 mr-1"}),"Stop"]})]}),b.length===0&&a.jsx($,{size:"sm",variant:"outline",onClick:()=>z.mutate({status:"stopped",is_isolated:!0}),disabled:z.isPending,children:z.isPending?"Creating":"Create profile"})]}),a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(aS,{className:"h-4 w-4 text-muted-foreground shrink-0"}),a.jsx(Pt,{className:"max-w-full",children:a.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground",children:pe.length===0?a.jsx("span",{children:"No activity yet"}):pe.map(H=>a.jsx("span",{className:"shrink-0 whitespace-nowrap",title:H.time,children:H.label},H.id))})})]})]})}),!w&&b.length===0&&a.jsx(ee,{className:"mt-4 shadow-card",children:a.jsxs(re,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No profile yet. Create a default profile to start the managed browser."}),a.jsx($,{size:"sm",variant:"outline",onClick:()=>z.mutate({status:"stopped",is_isolated:!0}),disabled:z.isPending,className:"transition-transform hover:scale-[1.02]",children:z.isPending?"Creating":"Create profile"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(le,{className:"flex items-center gap-2 text-base",children:[a.jsx(Ug,{className:"h-4 w-4 text-primary"}),"Automation Runner"]}),a.jsxs($,{size:"sm",onClick:()=>u(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(yI,{className:"h-4 w-4 mr-1"}),"Add script"]})]}),a.jsx(xe,{children:"Upload and run automation scripts."})]}),a.jsx(re,{children:I?a.jsx(be,{className:"h-10 rounded-md"}):A.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No scripts. Add one to run automations."}):a.jsx("ul",{className:"space-y-1",children:A.slice(0,3).map(H=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"truncate",children:H.name}),a.jsx(nt,{variant:"secondary",children:H.execution_status})]},H.id))})})]}),a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(le,{className:"flex items-center gap-2 text-base",children:[a.jsx(ua,{className:"h-4 w-4 text-primary"}),"CDP Connector"]}),a.jsxs($,{size:"sm",variant:"outline",onClick:()=>p(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(ar,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(xe,{children:"Local or node proxy CDP settings."})]}),a.jsx(re,{children:U.length===0?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(lI,{className:"h-4 w-4"}),"No CDP connectors. Add one for remote CDP."]}):a.jsx("ul",{className:"space-y-1",children:U.slice(0,3).map(H=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-mono truncate",children:H.token_preview||H.connection_type}),a.jsx(nt,{variant:"secondary",children:H.connection_type})]},H.id))})})]})]}),e&&a.jsx(UPe,{open:e.open,onOpenChange:H=>!H&&t(null),action:e.action,onConfirm:ce,isPending:M.isPending,profilePath:_==null?void 0:_.footprint_path,isIsolated:_==null?void 0:_.is_isolated}),a.jsx(BPe,{open:o,onOpenChange:l,tab:s}),a.jsx(qPe,{open:c,onOpenChange:u,onSubmit:H=>F.mutate(H),isSubmitting:F.isPending}),d&&a.jsx(HPe,{open:d.open,onOpenChange:H=>!H&&f(null),captureType:d.type,fileUrl:d.fileUrl,filePath:d.filePath}),a.jsx(GPe,{open:h,onOpenChange:p,existing:null,onSubmit:H=>J.mutate(H),isSubmitting:J.isPending}),a.jsx(XPe,{open:g,onOpenChange:m,browserProfileId:j,nextSequenceOrder:Le,onSubmit:H=>G.mutate(H),isSubmitting:G.isPending}),a.jsx(e2e,{open:v,onOpenChange:y,captures:O,onDownload:te,onDelete:H=>R.mutate(H),isDeleting:R.isPending})]})}const Es={getWakeWords:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("wake_words").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createWakeWord:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("wake_words").insert(r).select().single();if(s)throw new Error(s.message);return n},updateWakeWord:async(e,t)=>{const{data:r,error:n}=await q.from("wake_words").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWakeWord:async e=>{const{error:t}=await q.from("wake_words").delete().eq("id",e);if(t)throw new Error(t.message)},getTalkModeSettings:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("talk_mode_settings").select("*").eq("user_id",e.id).order("node_id",{ascending:!0,nullsFirst:!0});if(r)throw new Error(r.message);return t??[]},getTalkModeSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");let r=q.from("talk_mode_settings").select("*").eq("user_id",t.id);e===null?r=r.is("node_id",null):r=r.eq("node_id",e);const{data:n,error:s}=await r.maybeSingle();if(s)throw new Error(s.message);return n},upsertTalkModeSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id,node_id:e.node_id??null},{data:n,error:s}=await q.from("talk_mode_settings").upsert(r,{onConflict:"user_id,node_id"}).select().single();if(s)throw new Error(s.message);return n},updateTalkModeSetting:async(e,t)=>{const{data:r,error:n}=await q.from("talk_mode_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getTranscriptionBackends:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("transcription_backends").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTranscriptionBackends:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("transcription_backends").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTranscriptionBackends:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await q.from("transcription_backends").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getTtsProviderSetting:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("tts_provider_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTtsProviderSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("tts_provider_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTtsProviderSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await q.from("tts_provider_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getMediaSetting:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("media_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertMediaSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("media_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateMediaSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await q.from("media_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r}};function xB(e,t){return e().catch(()=>t)}const Rr={all:["voice"],wakeWords:()=>[...Rr.all,"wakeWords"],talkModeSettings:()=>[...Rr.all,"talkModeSettings"],talkModeSetting:e=>[...Rr.all,"talkModeSetting",e],transcriptionBackends:()=>[...Rr.all,"transcriptionBackends"],ttsProviderSetting:()=>[...Rr.all,"ttsProviderSetting"],mediaSetting:()=>[...Rr.all,"mediaSetting"]};function n2e(){return De({queryKey:Rr.wakeWords(),queryFn:()=>xB(()=>Es.getWakeWords(),[])})}function s2e(){const e=_e();return Se({mutationFn:t=>Es.createWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.wakeWords()}),V.success("Wake word added")},onError:t=>{V.error(t.message||"Failed to add wake word")}})}function i2e(){const e=_e();return Se({mutationFn:({id:t,data:r})=>Es.updateWakeWord(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.wakeWords()}),V.success("Wake word updated")},onError:t=>{V.error(t.message||"Failed to update wake word")}})}function a2e(){const e=_e();return Se({mutationFn:t=>Es.deleteWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.wakeWords()}),V.success("Wake word removed")},onError:t=>{V.error(t.message||"Failed to remove wake word")}})}function o2e(){return De({queryKey:Rr.talkModeSettings(),queryFn:()=>xB(()=>Es.getTalkModeSettings(),[])})}function l2e(){const e=_e();return Se({mutationFn:t=>Es.upsertTalkModeSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.talkModeSettings()}),e.invalidateQueries({queryKey:Rr.all}),V.success("Talk mode saved")},onError:t=>{V.error(t.message||"Failed to save talk mode")}})}function c2e(){return De({queryKey:Rr.transcriptionBackends(),queryFn:()=>Es.getTranscriptionBackends()})}function u2e(){const e=_e();return Se({mutationFn:t=>Es.upsertTranscriptionBackends(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.transcriptionBackends()}),V.success("Transcription backends saved")},onError:t=>{V.error(t.message||"Failed to save transcription backends")}})}function d2e(){return De({queryKey:Rr.ttsProviderSetting(),queryFn:()=>Es.getTtsProviderSetting()})}function f2e(){const e=_e();return Se({mutationFn:t=>Es.upsertTtsProviderSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.ttsProviderSetting()}),V.success("TTS provider saved")},onError:t=>{V.error(t.message||"Failed to save TTS provider")}})}function h2e(){return De({queryKey:Rr.mediaSetting(),queryFn:()=>Es.getMediaSetting()})}function p2e(){const e=_e();return Se({mutationFn:t=>Es.upsertMediaSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.mediaSetting()}),V.success("Media settings saved")},onError:t=>{V.error(t.message||"Failed to save media settings")}})}const m2e=Et({word:Pe().min(1,"Wake word is required").max(64),status:gr(["active","inactive"]),propagate_to_nodes:Ho()}),Mw={word:"",status:"active",propagate_to_nodes:!0};function g2e({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initial:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=kt({resolver:Ct(m2e),defaultValues:Mw}),f=c("propagate_to_nodes"),h=c("status"),p=m=>{r(m),u(Mw),t(!1)},g=m=>{m&&s?u({word:s.word,status:s.status,propagate_to_nodes:s.propagate_to_nodes}):m||u(Mw),t(m)};return a.jsx(Ge,{open:e,onOpenChange:g,children:a.jsxs(We,{className:"max-w-md","aria-describedby":"wake-word-form-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:s?"Edit wake word":"Add wake word"}),a.jsx(Ke,{id:"wake-word-form-description",children:"Configure a voice wake word. Optionally propagate to connected nodes."})]}),a.jsxs("form",{onSubmit:o(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"wake-word-input",children:"Wake word"}),a.jsx(ge,{id:"wake-word-input",placeholder:"e.g. Hey Clawgate",...i("word"),className:"transition-colors focus-visible:ring-2"}),d.word&&a.jsx("p",{className:"text-sm text-destructive",children:d.word.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Status"}),a.jsxs(Tt,{value:h,onValueChange:m=>l("status",m),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"active",children:"Active"}),a.jsx(Ie,{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"propagate-nodes",children:"Propagate to nodes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this wake word to paired devices"})]}),a.jsx(Zr,{id:"propagate-nodes",checked:f,onCheckedChange:m=>l("propagate_to_nodes",m)})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx($,{type:"submit",disabled:n,children:n?"Saving":s?"Update":"Add"})]})]})]})})}const v2e=Et({node_id:Pe().nullable(),enabled:Ho(),interrupt_sensitivity:gr(["low","medium","high"])});function y2e({nodes:e,settings:t,defaultSetting:r,onSave:n,isSubmitting:s=!1}){const i="",o={node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"},{handleSubmit:l,setValue:c,watch:u,reset:d}=kt({resolver:Ct(v2e),defaultValues:o});x.useEffect(()=>{d({node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"})},[r,d]);const f=u("node_id"),h=u("enabled"),p=u("interrupt_sensitivity"),g=m=>{const v=m.node_id===""||!m.node_id?null:m.node_id;n({node_id:v,enabled:m.enabled,interrupt_sensitivity:m.interrupt_sensitivity}),d({node_id:m.node_id,enabled:m.enabled,interrupt_sensitivity:m.interrupt_sensitivity})};return a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Talk mode"}),a.jsx(xe,{children:"Enable or disable voice interaction per node and set interrupt sensitivity."})]}),a.jsx(re,{className:"space-y-6",children:a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Node"}),a.jsxs(Tt,{value:f||i,onValueChange:m=>{const v=m===i?null:m,y=v===null?r:t.find(b=>b.node_id===v);c("node_id",m||i),c("enabled",(y==null?void 0:y.enabled)??!1),c("interrupt_sensitivity",(y==null?void 0:y.interrupt_sensitivity)??"medium")},children:[a.jsx(St,{children:a.jsx(Rt,{placeholder:"Default (all nodes)"})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"",children:"Default (all nodes)"}),e.map(m=>a.jsx(Ie,{value:m.id,children:m.name||m.id.slice(0,8)},m.id))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"talk-enabled",children:"Talk mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Enable for this node":"Enable for all nodes by default"})]}),a.jsx(Zr,{id:"talk-enabled",checked:h,onCheckedChange:m=>c("enabled",m)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Interrupt sensitivity"}),a.jsxs(Tt,{value:p,onValueChange:m=>c("interrupt_sensitivity",m),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"low",children:"Low"}),a.jsx(Ie,{value:"medium",children:"Medium"}),a.jsx(Ie,{value:"high",children:"High"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How quickly the agent stops when you start speaking"})]}),a.jsx($,{type:"submit",disabled:s,children:s?"Saving":"Save talk mode"})]})})]})}const $T=["whisper","google","assemblyai","deepgram","local-cli"];function x2e({open:e,onOpenChange:t,providerList:r,cliFallback:n,onSave:s,isSubmitting:i=!1}){const[o,l]=x.useState(r.length>0?[...r]:[...$T]),[c,u]=x.useState(n??"");x.useEffect(()=>{e&&(l(r.length>0?[...r]:[...$T]),u(n??""))},[e,r,n]);const d=g=>{if(g<=0)return;const m=[...o];[m[g-1],m[g]]=[m[g],m[g-1]],l(m)},f=g=>{if(g>=o.length-1)return;const m=[...o];[m[g],m[g+1]]=[m[g+1],m[g]],l(m)},h=g=>{l(m=>m.filter((v,y)=>y!==g))},p=()=>{s(o,c.trim()||null),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-lg","aria-describedby":"transcription-backend-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Transcription backends"}),a.jsx(Ke,{id:"transcription-backend-description",children:"Set the order of preference for transcription providers. First available is used."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Provider order (first = preferred)"}),a.jsx("ul",{className:"flex flex-col gap-2 rounded-lg border border-border p-2",children:o.map((g,m)=>a.jsxs("li",{className:Z("flex items-center gap-2 rounded-md border border-border bg-card px-3 py-2 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsx("span",{className:"text-muted-foreground","aria-hidden":!0,children:a.jsx(uI,{className:"h-4 w-4"})}),a.jsx("span",{className:"flex-1 font-medium",children:g}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx($,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(m),disabled:m===0,"aria-label":"Move up",children:""}),a.jsx($,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(m),disabled:m===o.length-1,"aria-label":"Move down",children:""}),a.jsx($,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h(m),"aria-label":"Remove",children:a.jsx(js,{className:"h-4 w-4"})})]})]},`${g}-${m}`))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"cli-fallback",children:"CLI fallback command"}),a.jsx(ge,{id:"cli-fallback",placeholder:"e.g. /usr/bin/whisper-cli",value:c,onChange:g=>u(g.target.value),className:"transition-colors focus-visible:ring-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional local CLI used when cloud providers are unavailable"})]})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx($,{onClick:p,disabled:i,children:i?"Saving":"Save order"})]})]})})}const b2e=Et({provider:Pe().min(1,"Provider is required"),model:Pe().optional()}),w2e=[{id:"default",label:"Default (system)"},{id:"openai",label:"OpenAI"},{id:"google",label:"Google Cloud TTS"},{id:"amazon",label:"Amazon Polly"},{id:"elevenlabs",label:"ElevenLabs"},{id:"azure",label:"Azure Speech"},{id:"local",label:"Local / Ollama"}],MT={provider:"default",model:""};function j2e({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s="default",initialModel:i=null}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=kt({resolver:Ct(b2e),defaultValues:{provider:s,model:i??""}}),h=u("provider"),p=m=>{var v;r({provider:m.provider,model:((v=m.model)==null?void 0:v.trim())||null}),d(MT),t(!1)},g=m=>{d(m?{provider:s,model:i??""}:MT),t(m)};return a.jsx(Ge,{open:e,onOpenChange:g,children:a.jsxs(We,{className:"max-w-md","aria-describedby":"tts-provider-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"TTS provider"}),a.jsx(Ke,{id:"tts-provider-description",children:"Choose the text-to-speech provider and model for voice output."})]}),a.jsxs("form",{onSubmit:l(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Provider"}),a.jsxs(Tt,{value:h,onValueChange:m=>c("provider",m),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsx(Nt,{children:w2e.map(m=>a.jsx(Ie,{value:m.id,children:m.label},m.id))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"tts-model",children:"Model (optional)"}),a.jsx(ge,{id:"tts-model",placeholder:"e.g. tts-1, en-US-Standard-D",...o("model"),className:"transition-colors focus-visible:ring-2"}),f.model&&a.jsx("p",{className:"text-sm text-destructive",children:f.model.message})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx($,{type:"submit",disabled:n,children:n?"Saving":"Save"})]})]})]})})}const _2e=Et({retention_days:Xs.number().min(1).max(3650),size_cap_mb:Xs.number().min(1).max(1048576),fallback_strategy:gr(["local","cloud","none"]),audio_note_handling:gr(["store","transcribe_and_store","transcribe_only","discard"])}),IT={retention_days:30,size_cap_mb:1024,fallback_strategy:"local",audio_note_handling:"store"};function S2e({initial:e,onSave:t,isSubmitting:r=!1}){const{register:n,handleSubmit:s,setValue:i,watch:o,reset:l,formState:{errors:c}}=kt({resolver:Ct(_2e),defaultValues:e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:IT}),u=o("fallback_strategy"),d=o("audio_note_handling");return x.useEffect(()=>{l(e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:IT)},[e,l]),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Media storage"}),a.jsx(xe,{children:"Retention, size caps, and fallback for audio notes and media capture."})]}),a.jsx(re,{children:a.jsxs("form",{onSubmit:s(t),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"retention-days",children:"Retention (days)"}),a.jsx(ge,{id:"retention-days",type:"number",min:1,max:3650,...n("retention_days"),className:"transition-colors focus-visible:ring-2"}),c.retention_days&&a.jsx("p",{className:"text-sm text-destructive",children:c.retention_days.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep media before cleanup (13650)"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"size-cap-mb",children:"Size cap (MB)"}),a.jsx(ge,{id:"size-cap-mb",type:"number",min:1,...n("size_cap_mb"),className:"transition-colors focus-visible:ring-2"}),c.size_cap_mb&&a.jsx("p",{className:"text-sm text-destructive",children:c.size_cap_mb.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum storage for media; oldest items are removed when exceeded"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Fallback strategy"}),a.jsxs(Tt,{value:u,onValueChange:f=>i("fallback_strategy",f),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"local",children:"Local only"}),a.jsx(Ie,{value:"cloud",children:"Cloud when local full"}),a.jsx(Ie,{value:"none",children:"No fallback (fail when full)"})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Audio note handling"}),a.jsxs(Tt,{value:d,onValueChange:f=>i("audio_note_handling",f),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"store",children:"Store only"}),a.jsx(Ie,{value:"transcribe_and_store",children:"Transcribe and store"}),a.jsx(Ie,{value:"transcribe_only",children:"Transcribe only"}),a.jsx(Ie,{value:"discard",children:"Discard"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"What to do with captured audio notes"})]}),a.jsx($,{type:"submit",disabled:r,children:r?"Saving":"Save media settings"})]})})]})}function N2e(){var F;const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,i]=x.useState(!1),[o,l]=x.useState(!1),{data:c=[],isLoading:u}=n2e(),d=s2e(),f=i2e(),h=a2e(),{data:p=[],isLoading:g}=o2e(),m=l2e(),v=p.find(T=>T.node_id===null)??null,{data:y=[]}=QL(),{data:b,isLoading:w}=c2e(),S=u2e(),{data:j,isLoading:_}=d2e(),N=f2e(),{data:k,isLoading:C}=h2e(),A=p2e(),I=()=>{n(null),t(!0)},O=T=>{n(T),t(!0)},U=T=>{r?f.mutate({id:r.id,data:{word:T.word,status:T.status,propagate_to_nodes:T.propagate_to_nodes}},{onSuccess:()=>t(!1)}):d.mutate({word:T.word,status:T.status,propagate_to_nodes:T.propagate_to_nodes},{onSuccess:()=>t(!1)})},E=T=>{m.mutate({node_id:T.node_id,enabled:T.enabled,interrupt_sensitivity:T.interrupt_sensitivity})},B=(T,R)=>{S.mutate({provider_list:T,cli_fallback:R})},M=T=>{N.mutate({provider:T.provider,model:T.model})},z=T=>{A.mutate(T)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(me,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(es,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Voice & Media"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(_h,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Voice & Media"]}),a.jsx("p",{className:"text-muted-foreground",children:"Configure wake words, talk mode, transcription, TTS, and media storage."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_240px]",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(le,{children:"Wake words"}),a.jsx(xe,{children:"Voice activation phrases; optionally propagated to nodes."})]}),a.jsxs($,{type:"button",size:"sm",onClick:I,className:"shrink-0 transition-transform hover:scale-[1.02]",children:[a.jsx(ar,{className:"h-4 w-4 mr-2"}),"Add"]})]}),a.jsx(re,{children:u?a.jsx(be,{className:"h-24 w-full rounded-lg"}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(_h,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No wake words configured"}),a.jsx($,{type:"button",variant:"outline",size:"sm",onClick:I,children:"Add wake word"})]}):a.jsx("ul",{className:"space-y-2",children:c.map(T=>a.jsxs("li",{className:Z("flex items-center justify-between rounded-lg border border-border bg-card px-4 py-3 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium",children:T.word}),a.jsx(nt,{variant:T.status==="active"?"success":"secondary",children:T.status}),T.propagate_to_nodes&&a.jsx("span",{className:"text-muted-foreground text-xs",children:" nodes"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>O(T),"aria-label":"Edit wake word",children:a.jsx(Sh,{className:"h-4 w-4"})}),a.jsx($,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h.mutate(T.id),"aria-label":"Delete wake word",children:a.jsx(js,{className:"h-4 w-4"})})]})]},T.id))})})]}),g?a.jsx(be,{className:"h-64 w-full rounded-lg"}):a.jsx(y2e,{nodes:y,settings:p,defaultSetting:v,onSave:E,isSubmitting:m.isPending}),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(NH,{className:"h-5 w-5 text-primary"}),"Transcription backends"]}),a.jsx(xe,{children:"Provider order and CLI fallback for voice-to-text."})]}),a.jsx($,{type:"button",size:"sm",variant:"outline",onClick:()=>i(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Edit order"})]}),a.jsx(re,{children:w?a.jsx(be,{className:"h-16 w-full rounded-lg"}):b?a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-muted-foreground",children:["Order: ",(F=b.provider_list)!=null&&F.length?b.provider_list.join("  "):"default"]}),b.cli_fallback&&a.jsxs("p",{className:"text-muted-foreground",children:["CLI fallback: ",a.jsx("code",{className:"rounded bg-secondary px-1",children:b.cli_fallback})]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No backends configured. Use default order or set your preference."})})]}),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(TH,{className:"h-5 w-5 text-primary"}),"TTS provider"]}),a.jsx(xe,{children:"Text-to-speech provider and model for voice output."})]}),a.jsx($,{type:"button",size:"sm",variant:"outline",onClick:()=>l(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Configure"})]}),a.jsx(re,{children:_?a.jsx(be,{className:"h-12 w-full rounded-lg"}):j?a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:j.provider}),j.model&&a.jsxs("span",{className:"text-muted-foreground",children:[" / ",j.model]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default (system)"})})]}),C?a.jsx(be,{className:"h-80 w-full rounded-lg"}):a.jsx(S2e,{initial:k??null,onSave:z,isSubmitting:A.isPending})]}),a.jsxs("aside",{className:"space-y-4 lg:order-last",children:[a.jsxs(ee,{className:"border-border bg-card/80",children:[a.jsx(se,{className:"pb-2",children:a.jsx(le,{className:"text-base",children:"Related"})}),a.jsxs(re,{className:"space-y-2",children:[a.jsxs(me,{to:"/settings",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[a.jsx(ua,{className:"h-4 w-4 shrink-0"}),"Settings"]}),a.jsx(me,{to:"/nodes",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:"Nodes"})]})]}),a.jsxs(ee,{className:"border-border bg-card/80",children:[a.jsx(se,{className:"pb-2",children:a.jsxs(le,{className:"text-base flex items-center gap-2",children:[a.jsx(Ry,{className:"h-4 w-4"}),"Help"]})}),a.jsx(re,{children:a.jsx(me,{to:"/help",className:"text-sm text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Docs & quick start"})})]})]})]}),a.jsx(g2e,{open:e,onOpenChange:t,onSubmit:U,isSubmitting:d.isPending||f.isPending,initial:r}),a.jsx(x2e,{open:s,onOpenChange:i,providerList:(b==null?void 0:b.provider_list)??[],cliFallback:(b==null?void 0:b.cli_fallback)??null,onSave:B,isSubmitting:S.isPending}),a.jsx(j2e,{open:o,onOpenChange:l,onSubmit:M,isSubmitting:N.isPending,initialProvider:(j==null?void 0:j.provider)??"default",initialModel:(j==null?void 0:j.model)??null})]})}function k2e(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Settings / Preferences"}),a.jsxs(Ko,{defaultValue:"network",children:[a.jsxs(Ta,{children:[a.jsx(Vt,{value:"network",children:"Network"}),a.jsx(Vt,{value:"remote",children:"Remote access"}),a.jsx(Vt,{value:"secrets",children:"Secrets"}),a.jsx(Vt,{value:"tools",children:"Tool policies"}),a.jsx(Vt,{value:"model",children:"Model defaults"})]}),a.jsx(Ht,{value:"network",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(le,{children:"Network binding / TLS"}),a.jsx(xe,{children:"Bind address and TLS certificate."})]}),a.jsx(re,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Bind address"}),a.jsx(ge,{placeholder:"0.0.0.0:3000"})]})})]})}),a.jsx(Ht,{value:"remote",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsx(se,{children:a.jsx(le,{children:"Remote access (tailnet / proxy)"})}),a.jsx(re,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure Tailscale or proxy for remote access."})})]})}),a.jsx(Ht,{value:"secrets",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(le,{children:"Secrets management"}),a.jsx(xe,{children:"Keychain, 1Password CLI, encrypted fallback."})]}),a.jsxs(re,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Never write long-lived tokens to plaintext. Manage secrets and keychain configuration in the dedicated Secrets & Keychain page."}),a.jsx($,{asChild:!0,variant:"secondary",children:a.jsx(me,{to:"/secrets",children:"Open Secrets & Keychain"})})]})]})}),a.jsx(Ht,{value:"tools",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(le,{children:"Tool policies"}),a.jsx(xe,{children:"Exec allowlist, sandbox toggle."})]}),a.jsx(re,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Q,{htmlFor:"sandbox",children:"Sandbox tools"}),a.jsx(Zr,{id:"sandbox"})]})})]})}),a.jsx(Ht,{value:"model",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(le,{children:"Model defaults"}),a.jsx(xe,{children:"Default provider and model for runs."})]}),a.jsx(re,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Default model"}),a.jsx(ge,{placeholder:"gpt-4"})]})})]})})]}),a.jsx(ee,{children:a.jsxs(re,{className:"pt-6",children:[a.jsx($,{children:"Restart / Apply"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Restart gateway to apply some settings."})]})})]})}const DT="[ENCRYPTED]";async function bB(){const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");return e.id}async function qm(e,t,r={}){const s={user_id:await bB(),secret_id:t,action:e,details:r};await q.from("secret_audit_logs").insert(s)}const yc={getSecrets:async()=>{const{data:e,error:t}=await q.from("secrets").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSecret:async e=>{const{data:t,error:r}=await q.from("secrets").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSecret:async e=>{const t=await bB(),r=e.storage_method==="encrypted_fallback"&&e.value!=null?DT:null,n={user_id:t,name:e.name.trim(),storage_method:e.storage_method,encrypted_value:r,key_reference:e.key_reference??null},{data:s,error:i}=await q.from("secrets").insert(n).select().single();if(i)throw new Error(i.message);const o=s;return await qm("secret_created",o.id,{name:o.name}),o},updateSecret:async(e,t)=>{const{data:r,error:n}=await q.from("secrets").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);const s=r;return await qm("secret_updated",e,{name:s.name}),s},rotateSecret:async(e,t)=>{const r=t.value!=null?DT:void 0,{data:n,error:s}=await q.from("secrets").update({encrypted_value:r}).eq("id",e).select().single();if(s)throw new Error(s.message);return await qm("secret_rotated",e),n},deleteSecret:async e=>{const t=await yc.getSecret(e),{error:r}=await q.from("secrets").delete().eq("id",e);if(r)throw new Error(r.message);t&&await qm("secret_deleted",null,{name:t.name})},getAuditLogs:async(e=50)=>{const{data:t,error:r}=await q.from("secret_audit_logs").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}};function C2e(e,t){return e().catch(()=>t)}const yn={all:["secrets"],list:()=>[...yn.all,"list"],detail:e=>[...yn.all,"detail",e],auditLogs:e=>[...yn.all,"auditLogs",e]};function E2e(){return De({queryKey:yn.list(),queryFn:()=>C2e(()=>yc.getSecrets(),[])})}function O2e(){const e=_e();return Se({mutationFn:t=>yc.createSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:yn.list()}),e.invalidateQueries({queryKey:yn.auditLogs()}),V.success("Secret created")},onError:t=>{V.error(t.message||"Failed to create secret")}})}function P2e(){const e=_e();return Se({mutationFn:({id:t,data:r})=>yc.updateSecret(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:yn.list()}),e.invalidateQueries({queryKey:yn.detail(r)}),e.invalidateQueries({queryKey:yn.auditLogs()}),V.success("Secret updated")},onError:t=>{V.error(t.message||"Failed to update secret")}})}function A2e(){const e=_e();return Se({mutationFn:({id:t,value:r})=>yc.rotateSecret(t,{value:r}),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:yn.list()}),e.invalidateQueries({queryKey:yn.detail(r)}),e.invalidateQueries({queryKey:yn.auditLogs()}),V.success("Secret rotated")},onError:t=>{V.error(t.message||"Failed to rotate secret")}})}function T2e(){const e=_e();return Se({mutationFn:t=>yc.deleteSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:yn.list()}),e.invalidateQueries({queryKey:yn.auditLogs()}),V.success("Secret removed")},onError:t=>{V.error(t.message||"Failed to remove secret")}})}function R2e(e=50){return De({queryKey:yn.auditLogs(e),queryFn:()=>yc.getAuditLogs(e)})}const $2e=Et({name:Pe().min(1,"Name is required").max(128,"Name too long"),storage_method:gr(["os_keychain","onepassword","encrypted_fallback"]),value:Pe().optional(),key_reference:Pe().optional()}),Iw={name:"",storage_method:"encrypted_fallback",value:"",key_reference:""};function M2e({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,watch:l,setValue:c,formState:{errors:u}}=kt({resolver:Ct($2e),defaultValues:Iw}),d=l("storage_method"),f=p=>{var g,m;r({name:p.name.trim(),storage_method:p.storage_method,value:((g=p.value)==null?void 0:g.trim())||void 0,key_reference:((m=p.key_reference)==null?void 0:m.trim())||null}),o(Iw)},h=p=>{p||o(Iw),t(p)};return a.jsx(Ge,{open:e,onOpenChange:h,children:a.jsxs(We,{className:"max-w-lg","aria-describedby":"add-secret-form-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Add secret"}),a.jsx(Ke,{id:"add-secret-form-description",children:"Store a secret securely. Choose where it will be stored; value is never stored in plaintext."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"name",children:"Name"}),a.jsx(ge,{id:"name",placeholder:"e.g. API_KEY_GITHUB",...s("name"),className:u.name?"border-destructive":"",autoComplete:"off"}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Storage method"}),a.jsxs(Tt,{value:d,onValueChange:p=>c("storage_method",p),children:[a.jsx(St,{className:u.storage_method?"border-destructive":"",children:a.jsx(Rt,{placeholder:"Select storage"})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Ie,{value:"onepassword",children:"1Password"}),a.jsx(Ie,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"OS Keychain (macOS/Windows/Linux), 1Password CLI, or encrypted fallback when keychain is unavailable."})]}),d==="encrypted_fallback"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"value",children:"Value"}),a.jsx(ge,{id:"value",type:"password",placeholder:"Enter secret value",autoComplete:"new-password",...s("value")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value is encrypted before storage; never stored in plaintext."})]}),(d==="os_keychain"||d==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"key_reference",children:"Key reference (optional)"}),a.jsx(ge,{id:"key_reference",placeholder:"e.g. service/account/key",...s("key_reference"),autoComplete:"off"})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"secondary",onClick:()=>h(!1),disabled:n,children:"Cancel"}),a.jsx($,{type:"submit",disabled:n,children:n?"Adding":"Add secret"})]})]})]})})}const I2e=Et({name:Pe().min(1,"Name is required").max(128,"Name too long"),storage_method:gr(["os_keychain","onepassword","encrypted_fallback"]),key_reference:Pe().optional()});function D2e({open:e,onOpenChange:t,secret:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,reset:l,watch:c,setValue:u,formState:{errors:d}}=kt({resolver:Ct(I2e),defaultValues:{name:(r==null?void 0:r.name)??"",storage_method:(r==null?void 0:r.storage_method)??"encrypted_fallback",key_reference:(r==null?void 0:r.key_reference)??""}}),f=c("storage_method");x.useEffect(()=>{e&&r&&l({name:r.name,storage_method:r.storage_method,key_reference:r.key_reference??""})},[e,r,l]);const h=g=>{var m;n({name:g.name.trim(),storage_method:g.storage_method,key_reference:((m=g.key_reference)==null?void 0:m.trim())||null}),t(!1)},p=g=>{g||t(!1)};return r?a.jsx(Ge,{open:e,onOpenChange:p,children:a.jsxs(We,{className:"max-w-lg","aria-describedby":"edit-secret-form-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Edit secret"}),a.jsx(Ke,{id:"edit-secret-form-description",children:"Update name or storage method. The secret value is never displayed; use Rotate to set a new value."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"edit-name",children:"Name"}),a.jsx(ge,{id:"edit-name",placeholder:"e.g. API_KEY_GITHUB",...i("name"),className:d.name?"border-destructive":"",autoComplete:"off"}),d.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Storage method"}),a.jsxs(Tt,{value:f,onValueChange:g=>u("storage_method",g),children:[a.jsx(St,{className:d.storage_method?"border-destructive":"",children:a.jsx(Rt,{placeholder:"Select storage"})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Ie,{value:"onepassword",children:"1Password"}),a.jsx(Ie,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]})]}),(f==="os_keychain"||f==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"edit-key_reference",children:"Key reference (optional)"}),a.jsx(ge,{id:"edit-key_reference",placeholder:"e.g. service/account/key",...i("key_reference"),autoComplete:"off"})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"secondary",onClick:()=>p(!1),disabled:s,children:"Cancel"}),a.jsx($,{type:"submit",disabled:s,children:s?"Saving":"Save changes"})]})]})]})}):null}function L2e({values:e,onChange:t,disabled:r=!1,className:n}){return a.jsxs(ee,{className:Z("shadow-card transition-shadow hover:shadow-card-hover",n),children:[a.jsxs(se,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jh,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(le,{children:"Setup & configuration"})]}),a.jsx(xe,{children:"Choose where secrets are stored. OS keychain and 1Password keep credentials out of the database; encrypted fallback is used when keychain is unavailable."})]}),a.jsxs(re,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"keychain",className:"text-base font-medium",children:"OS Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"macOS Keychain, Windows Credential Manager, or Linux secret store"})]}),a.jsx(Zr,{id:"keychain",checked:e.keychainEnabled,onCheckedChange:s=>t({...e,keychainEnabled:s}),disabled:r,"aria-label":"Toggle OS keychain"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"onepassword",className:"text-base font-medium",children:"1Password integration"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Store and retrieve secrets via 1Password CLI"})]}),a.jsx(Zr,{id:"onepassword",checked:e.onepasswordEnabled,onCheckedChange:s=>t({...e,onepasswordEnabled:s}),disabled:r,"aria-label":"Toggle 1Password"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"fallback",className:"text-base font-medium",children:"Encrypted fallback"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Encrypt and store in database when keychain is unavailable"})]}),a.jsx(Zr,{id:"fallback",checked:e.encryptedFallbackEnabled,onCheckedChange:s=>t({...e,encryptedFallbackEnabled:s}),disabled:r,"aria-label":"Toggle encrypted fallback"})]}),a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Dn,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Long-lived tokens are never written to plaintext. Runtime retrieval uses least-privilege scoping."]})]})]})}const LT={os_keychain:"OS Keychain",onepassword:"1Password",encrypted_fallback:"Encrypted fallback"};function F2e(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState({keychainEnabled:!0,onepasswordEnabled:!1,encryptedFallbackEnabled:!0}),{data:c=[],isLoading:u}=E2e(),{data:d=[],isLoading:f}=R2e(50),h=O2e(),p=P2e(),g=T2e(),m=A2e(),v=async j=>{await h.mutateAsync(j),t(!1)},y=async j=>{s&&(await p.mutateAsync({id:s.id,data:j}),n(!1),i(null))},b=j=>{i(j),n(!0)},w=j=>{m.mutate({id:j.id},{onSuccess:()=>n(!1)})},S=j=>{window.confirm(`Remove secret "${j.name}"? This cannot be undone.`)&&g.mutate(j.id)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Secrets & Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Store and manage secrets securely. No plaintext on disk."})]}),a.jsxs($,{onClick:()=>t(!0),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(ar,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}),a.jsxs(ee,{className:"border-border shadow-card",children:[a.jsxs(se,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(le,{className:"text-base",children:"Keychain status"})]}),a.jsx(xe,{children:o.keychainEnabled||o.onepasswordEnabled?"Keychain or 1Password is configured. Secrets can be stored in the vault.":"Using encrypted fallback only. Enable OS keychain or 1Password for stronger isolation."})]}),a.jsxs(re,{className:"flex flex-wrap gap-2",children:[o.keychainEnabled&&a.jsxs(nt,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Mo,{className:"h-3 w-3 mr-1"}),"OS Keychain"]}),o.onepasswordEnabled&&a.jsxs(nt,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Mo,{className:"h-3 w-3 mr-1"}),"1Password"]}),!o.keychainEnabled&&!o.onepasswordEnabled&&a.jsxs(nt,{variant:"secondary",className:"bg-warning/15 text-warning border-0",children:[a.jsx(uc,{className:"h-3 w-3 mr-1"}),"Fallback only"]})]})]}),a.jsxs(Ko,{defaultValue:"secrets",className:"space-y-4",children:[a.jsxs(Ta,{children:[a.jsx(Vt,{value:"secrets",children:"Secrets management"}),a.jsx(Vt,{value:"setup",children:"Setup & configuration"}),a.jsx(Vt,{value:"audit",children:"Audit logs"})]}),a.jsx(Ht,{value:"secrets",className:"space-y-4",children:a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsx(le,{className:"text-lg",children:"Stored secrets"}),a.jsx(xe,{children:"Add, edit, or rotate secrets. Values are never shown after save."})]}),a.jsx(re,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>a.jsx(be,{className:"h-14 w-full rounded-lg"},j))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(jh,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No secrets yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Add a secret to store API keys, tokens, or other credentials securely."}),a.jsxs($,{variant:"default",className:"mt-4 transition-transform hover:scale-[1.02]",onClick:()=>t(!0),children:[a.jsx(ar,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}):a.jsx(Pt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:c.map(j=>a.jsxs("li",{className:Z("flex items-center justify-between rounded-lg border border-border p-4","transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:a.jsx(jh,{className:"h-5 w-5 text-primary","aria-hidden":!0})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:j.name}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[LT[j.storage_method]??j.storage_method,"  Updated"," ",Dr(new Date(j.updated_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(nt,{variant:"secondary",className:"text-xs",children:LT[j.storage_method]??j.storage_method}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsx($,{variant:"ghost",size:"icon","aria-label":"Actions",children:a.jsx(Gl,{className:"h-4 w-4"})})}),a.jsxs(wa,{align:"end",children:[a.jsxs(pr,{onClick:()=>b(j),children:[a.jsx(Sh,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(pr,{onClick:()=>w(j),children:[a.jsx(kd,{className:"h-4 w-4 mr-2"}),"Rotate secret"]}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>S(j),children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})]})]},j.id))})})})]})}),a.jsx(Ht,{value:"setup",className:"space-y-4",children:a.jsx(L2e,{values:o,onChange:l})}),a.jsx(Ht,{value:"audit",className:"space-y-4",children:a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wr,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(le,{className:"text-lg",children:"Audit logs"})]}),a.jsx(xe,{children:"Recent secret access, rotation, and configuration changes."})]}),a.jsx(re,{children:f?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(j=>a.jsx(be,{className:"h-12 w-full rounded-lg"},j))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Wr,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No audit entries yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Actions on secrets will appear here."})]}):a.jsx(Pt,{className:"h-[360px] pr-4",children:a.jsx("ul",{className:"space-y-2",role:"list",children:d.map(j=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3 text-sm",children:[a.jsx("span",{className:"font-medium capitalize",children:j.action.replace(/_/g," ")}),a.jsx("span",{className:"text-muted-foreground",children:Dr(new Date(j.created_at),{addSuffix:!0})})]},j.id))})})})]})})]}),a.jsx(M2e,{open:e,onOpenChange:t,onSubmit:v,isSubmitting:h.isPending}),a.jsx(D2e,{open:r,onOpenChange:n,secret:s,onSubmit:y,isSubmitting:p.isPending})]})}const mi="/security",Hd={runAudit:()=>je.post(`${mi}/audit/run`,{}),getAudits:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return je.get(`${mi}/audits${t?`?${t}`:""}`)},getAudit:e=>je.get(`${mi}/audits/${e}`),createAudit:e=>je.post(`${mi}/audits`,e),getIssuesByAuditId:e=>je.get(`${mi}/audits/${e}/issues`),createIssue:e=>je.post(`${mi}/issues`,e),applyAutoFix:e=>je.post(`${mi}/issues/${e}/auto-fix`,{}),getIncidentActions:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return je.get(`${mi}/incident-actions${t?`?${t}`:""}`)},createIncidentAction:e=>je.post(`${mi}/incident-actions`,e),exportAuditLogs:e=>je.post(`${mi}/export`,e)};function wB(e,t){return e().catch(()=>t)}const Zs={all:["security"],audits:e=>[...Zs.all,"audits",e],audit:e=>[...Zs.all,"audit",e??""],issues:e=>[...Zs.all,"issues",e??""],incidentActions:e=>[...Zs.all,"incident-actions",e]};function U2e(e){return De({queryKey:Zs.audits(e),queryFn:()=>wB(()=>Hd.getAudits(e),[])})}function B2e(e){return De({queryKey:Zs.issues(e),queryFn:()=>e?wB(()=>Hd.getIssuesByAuditId(e),[]):Promise.resolve([]),enabled:!!e})}function z2e(){const e=_e();return Se({mutationFn:()=>Hd.runAudit(),onSuccess:t=>{var r;e.invalidateQueries({queryKey:Zs.all}),(r=t==null?void 0:t.audit)!=null&&r.id&&(e.invalidateQueries({queryKey:Zs.audit(t.audit.id)}),e.invalidateQueries({queryKey:Zs.issues(t.audit.id)})),V.success("Security audit completed")},onError:t=>{V.error(t.message||"Audit failed")}})}function q2e(){const e=_e();return Se({mutationFn:t=>Hd.applyAutoFix(t),onSuccess:()=>{e.invalidateQueries({queryKey:Zs.all}),V.success("Auto-fix applied")},onError:t=>{V.error(t.message||"Auto-fix failed")}})}function W2e(){const e=_e();return Se({mutationFn:t=>Hd.createIncidentAction(t),onSuccess:()=>{e.invalidateQueries({queryKey:Zs.all}),V.success("Action submitted")},onError:t=>{V.error(t.message||"Action failed")}})}function V2e(){return Se({mutationFn:e=>Hd.exportAuditLogs(e),onSuccess:e=>{e!=null&&e.download_url&&window.open(e.download_url,"_blank"),V.success("Export started")},onError:e=>{V.error(e.message||"Export failed")}})}const FT={critical:{label:"Critical",icon:uc,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:dc,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:cS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:uS,className:"text-accent bg-accent/15 border-accent/30"}};function H2e({issue:e,open:t,onOpenChange:r,autoFixEnabled:n=!1,onAutoFixChange:s,onApplyAutoFix:i,isApplyingAutoFix:o=!1}){if(!e)return null;const l=FT[e.severity]??FT.medium,c=l.icon;return a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(We,{className:"max-w-[640px] max-h-[85vh] flex flex-col","aria-describedby":"audit-issue-description",children:[a.jsxs(Ve,{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(c,{className:Z("h-5 w-5 shrink-0",l.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(nt,{variant:"secondary",className:Z("border text-xs font-medium",l.className),children:l.label})]}),a.jsx(He,{className:"text-left pt-1",children:"Security finding"}),a.jsx(Ke,{id:"audit-issue-description",className:"text-left",children:"Details, affected files, and remediation for this issue."})]}),a.jsx(Pt,{className:"flex-1 max-h-[50vh] rounded-md border border-border px-3 py-2",children:a.jsxs("div",{className:"space-y-4 pr-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-foreground",children:e.description})]}),e.remediation&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Recommended fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap",children:e.remediation})]}),e.affected_files&&e.affected_files.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Affected files / configs"}),a.jsx("ul",{className:"text-sm font-mono text-foreground list-disc list-inside space-y-0.5",children:e.affected_files.map((u,d)=>a.jsx("li",{children:u},d))})]}),e.auto_fix_available&&a.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border border-border p-3 bg-card/50",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"audit-autofix-toggle",className:"text-sm font-medium",children:"Auto-fix available"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Apply safe automated remediation for this issue."})]}),a.jsx(Zr,{id:"audit-autofix-toggle",checked:n,onCheckedChange:s,disabled:o,"aria-label":"Enable auto-fix for this issue"})]})]})}),e.auto_fix_available&&a.jsx("div",{className:"flex justify-end pt-2 border-t border-border",children:a.jsx("button",{type:"button",onClick:()=>i==null?void 0:i(e.id),disabled:o||!n,className:"text-sm font-medium text-primary hover:underline disabled:opacity-50 disabled:pointer-events-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded px-2 py-1",children:o?"Applying":"Apply auto-fix now"})})]})})}const K2e={revoke_sessions:{label:"Revoke sessions",description:"This will revoke all active sessions except the current one. Users will need to sign in again on other devices.",icon:hS,variant:"destructive"},rotate_secrets:{label:"Rotate secrets",description:"This will rotate API keys and tokens. Any integrations using old credentials will need to be updated.",icon:kd,variant:"destructive"},export_logs:{label:"Export security logs",description:"Export audit and security logs for external analysis or compliance. Redaction will be applied by default.",icon:oi,variant:"default"},stop_blast_radius:{label:"Stop blast radius",description:"Contain the impact of a potential incident by stopping affected runs and isolating resources.",icon:lS,variant:"destructive"},quarantine_skill:{label:"Quarantine skill",description:"Disable and isolate a skill that may be risky until you review and approve it.",icon:vI,variant:"destructive"}};function G2e({actionType:e,open:t,onOpenChange:r,onConfirm:n,isSubmitting:s=!1}){if(!e)return null;const i=K2e[e]??{label:e.replace(/_/g," "),description:"This action will be logged and may have side effects.",icon:vI,variant:"default"},o=i.icon,l=()=>{n(e),r(!1)};return a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(We,{"aria-describedby":"incident-action-description",children:[a.jsxs(Ve,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(He,{children:i.label})]}),a.jsx(Ke,{id:"incident-action-description",children:i.description})]}),a.jsxs(Qe,{children:[a.jsx($,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx($,{variant:i.variant==="destructive"?"destructive":"default",onClick:l,disabled:s,children:s?"Processing":"Confirm"})]})]})})}const Y2e=Et({format:gr(["json","csv"]),applyRedaction:Ho(),from:Pe().optional(),to:Pe().optional()});function Q2e({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const{register:s,handleSubmit:i,setValue:o,watch:l}=kt({resolver:Ct(Y2e),defaultValues:{format:"json",applyRedaction:!0,from:"",to:""}}),c=l("applyRedaction"),u=l("format"),d=f=>{const h={format:f.format,apply_redaction:f.applyRedaction,from:f.from||void 0,to:f.to||void 0};r(h),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-[480px]","aria-describedby":"security-export-desc",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Export security logs"}),a.jsx(Ke,{id:"security-export-desc",children:"Configure format, date range, and redaction. Export will download audit and security logs for compliance or analysis."})]}),a.jsxs("form",{onSubmit:i(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"security-export-format",children:"Format"}),a.jsxs(Tt,{value:u,onValueChange:f=>o("format",f),children:[a.jsx(St,{id:"security-export-format",children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"json",children:"JSON"}),a.jsx(Ie,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"security-export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Redact sensitive data in exported logs (recommended)."})]}),a.jsx(Zr,{id:"security-export-redaction",checked:c,onCheckedChange:f=>o("applyRedaction",f)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"security-export-from",children:"From (optional)"}),a.jsx(ge,{id:"security-export-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"security-export-to",children:"To (optional)"}),a.jsx(ge,{id:"security-export-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx($,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const UT={critical:{label:"Critical",icon:uc,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:dc,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:cS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:uS,className:"text-accent bg-accent/15 border-accent/30"}};function X2e(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function J2e(e){return e>=70?"High risk":e>=40?"Medium risk":e>=10?"Low risk":"No critical issues"}function BT(e){return e>=70?"text-destructive":e>=40?"text-warning":e>=10?"text-accent":"text-success"}function Z2e({issue:e,isSelected:t,onSelect:r}){const n=UT[e.severity]??UT.medium,s=n.icon,i=e.description.length>120?e.description.slice(0,120)+"":e.description;return a.jsxs("button",{type:"button",onClick:r,className:Z("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View details for issue: ${e.description.slice(0,50)}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(s,{className:Z("h-4 w-4 shrink-0",n.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(nt,{variant:"secondary",className:Z("text-xs font-medium border shrink-0",n.className),children:n.label}),e.auto_fix_available&&a.jsx(nt,{variant:"outline",className:"text-xs shrink-0",children:"Auto-fix"})]}),a.jsx("p",{className:"mt-1.5 text-sm text-foreground line-clamp-2",children:i})]})}const eAe=[{type:"revoke_sessions",label:"Revoke sessions",icon:hS},{type:"rotate_secrets",label:"Rotate secrets",icon:kd},{type:"export_logs",label:"Export logs",icon:oi},{type:"stop_blast_radius",label:"Stop blast radius",icon:lS}];function tAe(){const{user:e}=iS(),[t,r]=x.useState(null),[n,s]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(!1),{data:p=[],isLoading:g}=U2e({limit:10}),m=p[0]??null,v=(m==null?void 0:m.id)??null,{data:y=[],isLoading:b}=B2e(v),w=z2e(),S=W2e(),j=V2e(),_=q2e(),N={critical:y.filter(E=>E.severity==="critical").length,high:y.filter(E=>E.severity==="high").length,medium:y.filter(E=>E.severity==="medium").length,low:y.filter(E=>E.severity==="low").length},k=(m==null?void 0:m.risk_score)??0,C=E=>{r(E),s(!1),o(!0)},A=E=>{if(E==="export_logs"){h(!0);return}d(E),c(!0)},I=E=>{S.mutate({user_id:(e==null?void 0:e.id)??"",audit_id:v??void 0,action_type:E},{onSuccess:()=>{d(null)}})},O=E=>{j.mutate(E,{onSuccess:B=>{B!=null&&B.download_url&&window.open(B.download_url,"_blank")}})},U=E=>{_.mutate(E,{onSuccess:()=>{o(!1),r(null)}})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(me,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(es,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Security Audit"})]}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Dn,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Security Audit"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Run automated security checks and manage remediation. Review issues and use incident response actions when needed."})]}),a.jsxs($,{onClick:()=>w.mutate(),disabled:w.isPending,className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(ca,{className:"mr-2 h-4 w-4"}),w.isPending?"Running":"Run audit"]})]})]}),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Audit summary"}),a.jsx(xe,{children:"Overall risk score and issue counts from the latest audit."})]}),a.jsx(re,{children:g?a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(be,{className:"h-14 w-14 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:"h-6 w-32"}),a.jsx(be,{className:"h-4 w-48"})]})]}):m?a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:Z("flex h-14 w-14 items-center justify-center rounded-full border-2 font-semibold text-xl",BT(k),k>=70&&"border-destructive bg-destructive/10",k>=40&&k<70&&"border-warning bg-warning/10",k<40&&"border-success bg-success/10"),children:k}),a.jsxs("div",{children:[a.jsx("p",{className:Z("font-semibold text-lg",BT(k)),children:J2e(k)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last run: ",X2e(m.created_at)]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[N.critical>0&&a.jsxs(nt,{variant:"secondary",className:"border-destructive/50 text-destructive",children:[N.critical," critical"]}),N.high>0&&a.jsxs(nt,{variant:"secondary",className:"border-warning/50 text-warning",children:[N.high," high"]}),N.medium>0&&a.jsxs(nt,{variant:"secondary",className:"text-muted-foreground",children:[N.medium," medium"]}),N.low>0&&a.jsxs(nt,{variant:"secondary",className:"border-accent/50 text-accent",children:[N.low," low"]}),y.length===0&&a.jsx(nt,{variant:"secondary",className:"text-success",children:"No issues"})]})]}):a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Dn,{className:"h-10 w-10 text-muted-foreground","aria-hidden":!0}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:"No audit yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Run audit" to get your current risk score and issues.'})]})]})})]}),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Issue list"}),a.jsx(xe,{children:"Findings from the audit. Click an issue for details and remediation. Auto-fix is available where marked."})]}),a.jsx(re,{children:a.jsx(Pt,{className:"h-[360px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:b?[1,2,3,4].map(E=>a.jsx(be,{className:"h-20 w-full rounded-lg"},E)):y.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(cS,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No issues"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Checks include plaintext secrets, open binds, and risky skill permissions. Run an audit to see results."})]}):y.map(E=>a.jsx(Z2e,{issue:E,isSelected:(t==null?void 0:t.id)===E.id,onSelect:()=>C(E)},E.id))})})})]}),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(se,{children:[a.jsx(le,{children:"Incident response"}),a.jsx(xe,{children:"Quick actions to contain threats: revoke sessions, rotate secrets, export logs, or stop blast radius."})]}),a.jsx(re,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:eAe.map(({type:E,label:B,icon:M})=>a.jsxs($,{variant:"outline",size:"sm",onClick:()=>A(E),disabled:S.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(M,{className:"mr-2 h-4 w-4"}),B]},E))})})]}),a.jsx(H2e,{issue:t,open:i,onOpenChange:o,autoFixEnabled:n,onAutoFixChange:s,onApplyAutoFix:U,isApplyingAutoFix:_.isPending}),a.jsx(G2e,{actionType:u,open:l,onOpenChange:c,onConfirm:I,isSubmitting:S.isPending}),a.jsx(Q2e,{open:f,onOpenChange:h,onExport:O,isExporting:j.isPending})]})}const Ds="/logs",pk={getLogs:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&r!=="").map(([r,n])=>[r,Array.isArray(n)?n.join(","):String(n)])).toString():"";return je.get(`${Ds}${t?`?${t}`:""}`)},getLog:e=>je.get(`${Ds}/${e}`),createLog:e=>je.post(`${Ds}`,e),getTraceByLogId:e=>je.get(`${Ds}/${e}/trace`),getTrace:e=>je.get(`${Ds}/traces/${e}`),createTrace:e=>je.post(`${Ds}/traces`,e),updateTrace:(e,t)=>je.patch(`${Ds}/traces/${e}`,t),exportLogs:e=>je.post(`${Ds}/export`,e),getRetentionSettings:()=>je.get(`${Ds}/retention`),updateRetentionSettings:e=>je.patch(`${Ds}/retention`,e),createRetentionSettings:e=>je.post(`${Ds}/retention`,e)};function jB(e,t){return e().catch(()=>t)}const gl={all:["logs"],list:e=>[...gl.all,"list",e],detail:e=>[...gl.all,"detail",e],traceByLogId:e=>[...gl.all,"trace",e],trace:e=>[...gl.all,"trace-id",e],retention:()=>[...gl.all,"retention"]};function rAe(e){return De({queryKey:gl.list(e),queryFn:()=>jB(()=>pk.getLogs(e),[])})}function nAe(e){return De({queryKey:gl.traceByLogId(e??""),queryFn:()=>e?jB(()=>pk.getTraceByLogId(e),null):Promise.resolve(null),enabled:!!e})}function sAe(){return Se({mutationFn:e=>pk.exportLogs(e),onSuccess:()=>{V.success("Export started")},onError:e=>{V.error(e.message||"Export failed")}})}const _B=["debug","info","warning","error","critical"],iAe=Et({severity:gr(_B).optional(),from:Pe().optional(),to:Pe().optional(),search:Pe().optional(),limit:Xs.number().min(10).max(500).optional()});function aAe({open:e,onOpenChange:t,currentFilters:r,onApply:n}){const{register:s,handleSubmit:i,setValue:o,watch:l,reset:c,formState:{isDirty:u}}=kt({resolver:Ct(iAe),defaultValues:{severity:void 0,from:(r==null?void 0:r.from)??"",to:(r==null?void 0:r.to)??"",search:(r==null?void 0:r.search)??"",limit:(r==null?void 0:r.limit)??100}}),d=l("severity"),f=p=>{const g={limit:p.limit,search:p.search||void 0,from:p.from||void 0,to:p.to||void 0};p.severity&&(g.severity=p.severity),n(g),t(!1)},h=()=>{c({severity:void 0,from:"",to:"",search:"",limit:100}),n({limit:100}),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-[480px]","aria-describedby":"filter-desc",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Filter logs"}),a.jsx(Ke,{id:"filter-desc",children:"Refine the log stream by severity, date range, and keywords."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"filter-severity",children:"Severity"}),a.jsxs(Tt,{value:d??"",onValueChange:p=>o("severity",p||void 0,{shouldDirty:!0}),children:[a.jsx(St,{id:"filter-severity",children:a.jsx(Rt,{placeholder:"All severities"})}),a.jsx(Nt,{children:_B.map(p=>a.jsx(Ie,{value:p,children:p},p))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"filter-from",children:"From (ISO date)"}),a.jsx(ge,{id:"filter-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"filter-to",children:"To (ISO date)"}),a.jsx(ge,{id:"filter-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"filter-search",children:"Keyword search"}),a.jsx(ge,{id:"filter-search",placeholder:"Search in message",...s("search"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"filter-limit",children:"Max results"}),a.jsx(ge,{id:"filter-limit",type:"number",min:10,max:500,...s("limit"),className:"font-mono"})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{type:"button",variant:"outline",onClick:h,children:"Clear"}),a.jsx($,{type:"submit",disabled:!u,children:"Apply"})]})]})]})})}const SB=["debug","info","warning","error","critical"],oAe=Et({format:gr(["json","csv"]),applyRedaction:Ho(),from:Pe().optional(),to:Pe().optional(),severity:gr(SB).optional()});function lAe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const[s,i]=x.useState("json"),{register:o,handleSubmit:l,setValue:c,watch:u}=kt({resolver:Ct(oAe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:"",severity:void 0}}),d=u("applyRedaction"),f=u("severity"),h=p=>{const g={format:p.format,applyRedaction:p.applyRedaction,from:p.from||void 0,to:p.to||void 0,severity:p.severity};r(g),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{className:"max-w-[480px]","aria-describedby":"export-desc",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Export logs"}),a.jsx(Ke,{id:"export-desc",children:"Choose format, date range, and redaction. Export will download with your settings."})]}),a.jsxs("form",{onSubmit:l(h),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"export-format",children:"Format"}),a.jsxs(Tt,{value:s,onValueChange:p=>{i(p),c("format",p)},children:[a.jsx(St,{id:"export-format",children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"json",children:"JSON"}),a.jsx(Ie,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use redacted message content in export"})]}),a.jsx(Zr,{id:"export-redaction",checked:d,onCheckedChange:p=>c("applyRedaction",p)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"export-from",children:"From (optional)"}),a.jsx(ge,{id:"export-from",type:"datetime-local",...o("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"export-to",children:"To (optional)"}),a.jsx(ge,{id:"export-to",type:"datetime-local",...o("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"export-severity",children:"Severity filter (optional)"}),a.jsxs(Tt,{value:f??"",onValueChange:p=>c("severity",p||void 0),children:[a.jsx(St,{id:"export-severity",children:a.jsx(Rt,{placeholder:"All severities"})}),a.jsx(Nt,{children:SB.map(p=>a.jsx(Ie,{value:p,children:p},p))})]})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx($,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}function cAe(e){return e==null?"":e<1e3?`${e} ms`:`${(e/1e3).toFixed(2)} s`}function zT({label:e,icon:t,children:r,defaultOpen:n=!0}){const[s,i]=x.useState(n);return a.jsxs("div",{className:"rounded border border-border bg-secondary/30 overflow-hidden",children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 px-3 py-2 text-left text-sm font-medium hover:bg-secondary/50 transition-colors",onClick:()=>i(o=>!o),"aria-expanded":s,children:[s?a.jsx(Nd,{className:"h-4 w-4 shrink-0"}):a.jsx(es,{className:"h-4 w-4 shrink-0"}),a.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),e]}),s&&a.jsx("div",{className:"border-t border-border px-3 py-2 font-mono text-xs text-muted-foreground",children:r})]})}function uAe({trace:e,isLoading:t,onClose:r,onExport:n,className:s}){if(t)return a.jsxs(ee,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsx(se,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:a.jsxs(le,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]})}),a.jsx(re,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(be,{className:"h-10 w-full"}),a.jsx(be,{className:"h-24 w-full"}),a.jsx(be,{className:"h-24 w-full"})]})})]});if(!e)return a.jsxs(ee,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(le,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),r&&a.jsx($,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(Fu,{className:"h-4 w-4"})})]}),a.jsx(re,{className:"p-6",children:a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a log entry to view its trace."})})]});const i=Array.isArray(e.tool_invocation)?e.tool_invocation:[],o=Array.isArray(e.model_calls)?e.model_calls:[];return a.jsxs(ee,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(le,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[n&&a.jsx($,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Export trace",children:a.jsx(oi,{className:"h-4 w-4"})}),r&&a.jsx($,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(Fu,{className:"h-4 w-4"})})]})]}),a.jsxs(re,{className:"p-0",children:[a.jsxs("div",{className:"flex items-center gap-2 border-b border-border px-4 py-2 text-xs text-muted-foreground",children:[a.jsx(vo,{className:"h-3.5 w-3.5"}),"Duration: ",cAe(e.duration_ms)]}),a.jsx(Pt,{className:"h-[320px]",children:a.jsxs("div",{className:"space-y-2 p-3",children:[a.jsx(zT,{label:"Tool invocations",icon:gS,defaultOpen:!0,children:i.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(i,null,2)})}),a.jsx(zT,{label:"Model calls",icon:Oi,defaultOpen:!0,children:o.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(o,null,2)})})]})})]})]})}const qT={debug:{label:"debug",icon:mH,className:"text-muted-foreground"},info:{label:"info",icon:uS,className:"text-primary"},warning:{label:"warning",icon:dc,className:"text-warning"},error:{label:"error",icon:uc,className:"text-destructive"},critical:{label:"critical",icon:$y,className:"text-destructive font-semibold"}};function dAe(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function fAe({log:e,isSelected:t,onSelect:r}){const n=qT[e.severity]??qT.info,s=n.icon,i=e.redacted_message??e.message,o=i.length>200?i.slice(0,200)+"":i;return a.jsxs("button",{type:"button",onClick:r,className:Z("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View trace for log ${e.id}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(s,{className:Z("h-4 w-4 shrink-0",n.className),"aria-hidden":!0}),a.jsx(nt,{variant:"secondary",className:Z("text-xs font-mono shrink-0",n.className),children:n.label}),a.jsx("span",{className:"text-xs font-mono text-muted-foreground shrink-0",children:dAe(e.timestamp)})]}),a.jsx("p",{className:"mt-1.5 font-mono text-xs text-foreground break-words line-clamp-2",children:o})]})}function hAe(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState({limit:100}),[o,l]=x.useState(null),{data:c=[],isLoading:u}=rAe(s),{data:d,isLoading:f}=nAe(o),h=sAe(),p=m=>{i(m)},g=m=>{h.mutate(m,{onSuccess:v=>{v!=null&&v.download_url&&window.open(v.download_url,"_blank")}})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(me,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(es,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Logs & Tracing"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Wr,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Logs & Tracing"]}),a.jsx("p",{className:"text-muted-foreground",children:"Structured logs and per-run traces. Filter, view traces, and export with redaction."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(le,{children:"Log stream"}),a.jsx(xe,{children:"Real-time logs with severity. Select a row to view its run trace."})]})}),a.jsx(re,{children:a.jsx(Pt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:u?a.jsx(a.Fragment,{children:[1,2,3,4,5].map(m=>a.jsx(be,{className:"h-20 w-full rounded-lg"},m))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Wr,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Connect the gateway to stream logs, or logs will appear here once available."})]}):c.map(m=>a.jsx(fAe,{log:m,isSelected:o===m.id,onSelect:()=>l(v=>v===m.id?null:m.id)},m.id))})})})]}),a.jsx(uAe,{trace:d??null,isLoading:f,onClose:()=>l(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(ee,{className:"transition-shadow duration-200",children:[a.jsxs(se,{className:"pb-2",children:[a.jsx(le,{className:"text-base",children:"Filters & export"}),a.jsx(xe,{children:"Refine the log view and export with redaction options."})]}),a.jsxs(re,{className:"space-y-3",children:[a.jsxs($,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(bH,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs($,{variant:"outline",className:"w-full justify-start",onClick:()=>n(!0),children:[a.jsx(oi,{className:"mr-2 h-4 w-4"}),"Export logs"]})]})]})})]}),a.jsx("footer",{className:"pt-4 border-t border-border",children:a.jsxs(me,{to:"/settings",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:[a.jsx(ua,{className:"h-4 w-4"}),"Manage retention settings"]})}),a.jsx(aAe,{open:e,onOpenChange:t,currentFilters:s,onApply:p}),a.jsx(lAe,{open:r,onOpenChange:n,onExport:g,isExporting:h.isPending})]})}function pAe(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Admin Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Enterprise / admin management. Cloud-only."}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2 text-base",children:[a.jsx(IH,{className:"h-4 w-4"}),"User management"]}),a.jsx(xe,{children:"Users table and roles."})]}),a.jsx(re,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No users (demo)."})})]}),a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2 text-base",children:[a.jsx(gH,{className:"h-4 w-4"}),"Workspace settings"]}),a.jsx(xe,{children:"Multi-workspace controls."})]}),a.jsx(re,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default workspace."})})]}),a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2 text-base",children:[a.jsx(nI,{className:"h-4 w-4"}),"Licensing summary"]}),a.jsx(xe,{children:"Seats and entitlements."})]}),a.jsx(re,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No licensing (self-hosted)."})})]})]}),a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsx(le,{children:"Analytics panels"}),a.jsx(xe,{children:"Sessions, run success rates, skill installs."})]}),a.jsx(re,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics placeholder."})})]})]})}function mAe(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"About / Help"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(oS,{className:"h-5 w-5"}),"Quick start"]}),a.jsx(xe,{children:"Get started with Clawgate."})]}),a.jsxs(re,{children:[a.jsxs("ol",{className:"list-decimal space-y-2 pl-4 text-sm text-muted-foreground",children:[a.jsx("li",{children:"Install and start the gateway."}),a.jsx("li",{children:"Open Control UI and add a channel."}),a.jsx("li",{children:"Message your agent from chat."})]}),a.jsx($,{variant:"outline",size:"sm",className:"mt-4",asChild:!0,children:a.jsx(me,{to:"/",children:"Landing"})})]})]}),a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(cI,{className:"h-5 w-5"}),"Docs"]}),a.jsx(xe,{children:"Documentation links."})]}),a.jsx(re,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Documentation (external link placeholder)."})})]}),a.jsxs(ee,{children:[a.jsxs(se,{children:[a.jsxs(le,{className:"flex items-center gap-2",children:[a.jsx(Du,{className:"h-5 w-5"}),"Support"]}),a.jsx(xe,{children:"Contact support with context."})]}),a.jsx(re,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Support form with context autofill."})})]})]})]})}const Zx={getPrivacySettings:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)return null;const{data:t,error:r}=await q.from("privacy_policy_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t??null},updatePrivacySettings:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,...e},{data:n,error:s}=await q.from("privacy_policy_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},ensurePrivacySettings:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const t=await Zx.getPrivacySettings();if(t)return t;const r={user_id:e.id},{data:n,error:s}=await q.from("privacy_policy_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},getCurrentPolicyDocument:async(e="privacy")=>{const{data:t,error:r}=await q.from("policy_documents").select("*").eq("document_type",e).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(r)throw new Error(r.message);return t??null}},hp={all:["privacy"],settings:()=>[...hp.all,"settings"],policyDocument:e=>[...hp.all,"policy",e]};function NB(e,t){return e().catch(()=>t)}function gAe(){return De({queryKey:hp.settings(),queryFn:()=>NB(Zx.getPrivacySettings,null)})}function vAe(){const e=_e();return Se({mutationFn:t=>Zx.updatePrivacySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:hp.settings()}),V.success("Privacy preferences updated")},onError:t=>{V.error(t.message||"Failed to update privacy preferences")}})}function yAe(e="privacy"){return De({queryKey:hp.policyDocument(e),queryFn:()=>NB(()=>Zx.getCurrentPolicyDocument(e),null)})}function xAe({open:e,onOpenChange:t,telemetryOptOut:r,onConfirm:n,isUpdating:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{"aria-describedby":"preferences-modal-description",children:[a.jsxs(Ve,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(He,{children:"Confirm privacy preference"})]}),a.jsx(Ke,{id:"preferences-modal-description",children:r?a.jsx(a.Fragment,{children:"You are opting out of telemetry and optional usage data collection. We will not send diagnostic or usage data from this account. This preference will be saved and can be changed anytime in Settings or on this page."}):a.jsx(a.Fragment,{children:"You are opting in to optional telemetry. We may collect anonymous usage and diagnostic data to improve the product. No personal data is shared. You can opt out anytime in Settings or on this page."})})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx($,{onClick:i,disabled:s,className:"transition-transform hover:scale-[1.02]",children:s?"Saving":"Save preference"})]})]})})}function bAe({open:e,onOpenChange:t,onDownload:r,onOpenInNewTab:n,title:s="Download Privacy Policy",description:i="Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."}){const o=()=>{r(),t(!1)},l=()=>{n==null||n(),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(We,{"aria-describedby":"download-confirmation-description",children:[a.jsxs(Ve,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(He,{children:s})]}),a.jsx(Ke,{id:"download-confirmation-description",children:i})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx($,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n&&a.jsx($,{variant:"outline",onClick:l,className:"transition-transform hover:scale-[1.02]",children:"Open in new tab"}),a.jsxs($,{onClick:o,className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(oi,{className:"h-4 w-4","aria-hidden":!0}),"Download"]})]})]})})}const WT=[{id:"intro",title:"Introduction",content:"Clawgate is a local-first, chat-native personal agent platform. This policy explains how we handle your data when you use the Control UI and optional cloud-linked features. We are committed to transparency and putting you in control."},{id:"data-collection",title:"Data collection",content:"When you use local-only mode, data stays on your devices. We do not collect or transmit personal data from your gateway. If you link a cloud account, we store only what is necessary to provide that service (e.g. profile, session tokens). Optional telemetryanonymous usage and diagnostic datamay be collected only if you have not opted out. We do not sell your data."},{id:"storage",title:"Storage and local-first",content:"Session transcripts, skill definitions, cron jobs, and node pairings are stored locally by default. Cloud-backed features (e.g. sync, backup) store only what you explicitly enable. Credentials and long-lived tokens are stored in your system keychain or an encrypted fallback when available."},{id:"retention",title:"Retention",content:"Local data is retained according to your settings (e.g. log retention, media caps). Cloud-stored data is retained only as long as your account is active and in line with our terms. You can request deletion of cloud data at any time."},{id:"third-party",title:"Third-party services and APIs",content:"Channel adapters (e.g. Telegram, Slack) and model providers (e.g. OpenAI, Anthropic) process data according to their policies when you use those integrations. We pass only the minimum data required. We recommend reviewing each providers privacy policy."}];function wAe({id:e,title:t,content:r,defaultOpen:n=!1}){const[s,i]=x.useState(n);return a.jsxs("details",{id:e,open:s,onToggle:o=>i(o.target.open),className:"group border-b border-border last:border-b-0",children:[a.jsxs("summary",{className:"flex cursor-pointer list-none items-center gap-2 py-4 text-left font-medium text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-md px-1 -mx-1",children:[s?a.jsx(Nd,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}):a.jsx(es,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{children:t})]}),a.jsx("div",{className:"prose prose-invert prose-sm max-w-none pb-4 pl-6 text-muted-foreground",children:a.jsx("p",{className:"m-0 leading-relaxed",children:r})})]})}function jAe(){const{data:e,isLoading:t}=gAe(),r=vAe(),{data:n}=yAe("privacy"),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),d=(e==null?void 0:e.telemetry_opt_out)??!1,f=x.useCallback(y=>{l(y),i(!0)},[]),h=x.useCallback(()=>{o!==null&&r.mutate({telemetry_opt_out:o},{onSuccess:()=>l(null)})},[o,r]),p=(n==null?void 0:n.content)??WT.map(y=>`${y.title}

${y.content}`).join(`

`),g=n!=null&&n.content?[{id:"policy",title:"Full policy",content:n.content}]:WT,m=x.useCallback(()=>{const y=new Blob([p],{type:"text/plain;charset=utf-8"}),b=URL.createObjectURL(y),w=document.createElement("a");w.href=b,w.download="privacy-policy.txt",w.click(),URL.revokeObjectURL(b)},[p]),v=x.useCallback(()=>{const y=new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Privacy Policy - Clawgate</title><style>body{font-family:Inter,sans-serif;max-width:720px;margin:2rem auto;padding:0 1rem;line-height:1.6;color:#e2e8f0;} h1{font-size:1.75rem;} h2{font-size:1.25rem;margin-top:1.5rem;} p{white-space:pre-wrap;}</style></head><body><h1>Privacy Policy</h1><p>${p.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}</p></body></html>`],{type:"text/html;charset=utf-8"}),b=URL.createObjectURL(y);window.open(b,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(b),5e3)},[p]);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8 sm:px-6 animate-fade-in-up",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-[28px] font-semibold leading-tight text-foreground",children:"Privacy Policy"}),a.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"How we collect, store, and use your data. Clawgate is local-first; your data stays on your devices unless you use cloud-linked features."})]}),a.jsxs(ee,{className:"mb-8",children:[a.jsxs(se,{children:[a.jsx(le,{className:"text-lg",children:"Policy sections"}),a.jsx(xe,{children:"Expand each section for details on data collection, storage, retention, and third-party services."})]}),a.jsx(re,{className:"px-0 sm:px-6",children:a.jsx("div",{className:"divide-y-0",children:g.map((y,b)=>a.jsx(wAe,{id:y.id,title:y.title,content:y.content,defaultOpen:b===0},y.id))})})]}),a.jsxs(ee,{className:"mb-8",children:[a.jsxs(se,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(le,{className:"text-lg",children:"Opt-out controls"})]}),a.jsx(xe,{children:"Manage your data collection preferences. Changes are saved to your account and reflected in Settings."})]}),a.jsxs(re,{children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Q,{htmlFor:"telemetry-opt-out",className:"text-sm font-medium text-foreground",children:"Opt out of telemetry"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"When on, we do not send anonymous usage or diagnostic data from your account."})]}),a.jsx(Zr,{id:"telemetry-opt-out",checked:d,onCheckedChange:f,disabled:t,"aria-describedby":"telemetry-opt-out-description"})]}),t&&a.jsx("p",{id:"telemetry-opt-out-description",className:"mt-2 text-xs text-muted-foreground",children:"Loading preferences"})]})]}),a.jsxs(ee,{className:"mb-8",children:[a.jsxs(se,{children:[a.jsx(le,{className:"text-lg",children:"Download policy"}),a.jsx(xe,{children:"Save a copy for your records or open in a new tab to print or save as PDF."})]}),a.jsx(re,{children:a.jsxs($,{variant:"outline",onClick:()=>u(!0),className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(oi,{className:"h-4 w-4","aria-hidden":!0}),"Download Privacy Policy"]})})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx($,{variant:"outline",asChild:!0,children:a.jsx(me,{to:"/",children:"Back to home"})}),a.jsxs("nav",{className:"flex flex-wrap gap-6",children:[a.jsx(me,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms of Service"}),a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Help & support"})]})]})})]}),a.jsx(xAe,{open:s,onOpenChange:i,telemetryOptOut:o??d,onConfirm:h,isUpdating:r.isPending}),a.jsx(bAe,{open:c,onOpenChange:u,onDownload:m,onOpenInNewTab:v,title:"Download Privacy Policy",description:"Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."})]})}function _Ae(){return a.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 animate-fade-in-up py-8",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Terms of Service"}),a.jsxs(ee,{children:[a.jsx(se,{children:a.jsx(le,{children:"Terms of Service"})}),a.jsx(re,{className:"prose prose-invert max-w-none text-sm text-muted-foreground",children:a.jsx("p",{children:"Full terms text. Accept/decline controls for cloud features. Document download."})})]}),a.jsx($,{variant:"outline",asChild:!0,children:a.jsx(me,{to:"/",children:"Back"})})]})}async function SAe(e,t,r){try{const{data:{user:n}}=await q.auth.getUser(),s={error_code:"404",url_attempted:e,user_id:(n==null?void 0:n.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null)};await q.from("error_logs").insert(s)}catch{}}async function NAe(e,t,r,n){try{const{data:{user:s}}=await q.auth.getUser(),i={error_code:"500",url_attempted:e,user_id:(s==null?void 0:s.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null),metadata:n??{}};await q.from("error_logs").insert(i)}catch{}}function VT(){const e=Li(),t=e.pathname+e.search;x.useEffect(()=>{SAe(t,typeof document<"u"&&document.referrer||null,typeof navigator<"u"?navigator.userAgent:null)},[t]);const r=()=>{window.location.reload()};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(me,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-4",children:[a.jsx(me,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx($,{asChild:!0,size:"sm",children:a.jsx(me,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:Z("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-muted/50",children:a.jsx(cI,{className:"h-12 w-12 text-muted-foreground","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"Oops! Page Not Found"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."}),t!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Attempted: ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:t})]})]}),a.jsx(ee,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(re,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs($,{onClick:r,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(kd,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx($,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/",children:[a.jsx(dI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsx($,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/dashboard",children:[a.jsx(fS,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsxs(me,{to:"/help",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(Wr,{className:"h-4 w-4"}),"Docs & support"]}),a.jsx("span",{className:"mx-2 text-muted-foreground/60",children:""}),a.jsx(me,{to:"/logs",className:"inline-flex items-center text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Logs & tracing"})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(me,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(me,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]})}async function kAe(e){var i;const{data:{user:t}}=await q.auth.getUser(),r={user_id:(t==null?void 0:t.id)??null,error_type:e.error_type.trim(),description:e.description.trim(),contact_email:((i=e.contact_email)==null?void 0:i.trim())||null,context:e.context??{}},{data:n,error:s}=await q.from("user_reports").insert(r).select("id").single();if(s)throw new Error(s.message);return{id:n.id}}const CAe=Et({description:Pe().min(10,"Please provide at least 10 characters describing what happened").max(2e3,"Description must be 2000 characters or less"),contact_email:Pe().max(255).optional().refine(e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),"Enter a valid email address"),comments:Pe().max(1e3).optional()}),Dw={description:"",contact_email:"",comments:""};function EAe({open:e,onOpenChange:t,onSubmit:r,errorType:n="500",errorContext:s}){const{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=kt({resolver:Ct(CAe),defaultValues:Dw}),d=async h=>{var p,g;await r({error_type:n,description:h.description.trim(),contact_email:((p=h.contact_email)==null?void 0:p.trim())||null,context:{...s,comments:((g=h.comments)==null?void 0:g.trim())||void 0}}),l(Dw),t(!1)},f=h=>{h||l(Dw),t(h)};return a.jsx(Ge,{open:e,onOpenChange:f,children:a.jsxs(We,{className:"max-w-lg","aria-describedby":"report-issue-form-description",children:[a.jsxs(Ve,{children:[a.jsx(He,{children:"Report an issue"}),a.jsx(Ke,{id:"report-issue-form-description",children:"Describe what happened so we can investigate. Your report helps us improve reliability."})]}),a.jsxs("form",{onSubmit:o(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"report-description",children:"What happened?"}),a.jsx("textarea",{id:"report-description",rows:4,placeholder:"e.g. I was on the dashboard and clicked Save; the page showed an error.",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("description"),"aria-invalid":!!c.description}),c.description&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.description.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"report-contact",children:"Contact email (optional)"}),a.jsx(ge,{id:"report-contact",type:"email",placeholder:"you@example.com",...i("contact_email"),className:c.contact_email?"border-destructive":"",autoComplete:"email","aria-invalid":!!c.contact_email}),c.contact_email&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.contact_email.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"report-comments",children:"Additional details (optional)"}),a.jsx("textarea",{id:"report-comments",rows:2,placeholder:"Any other context that might help",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("comments")})]}),a.jsxs(Qe,{children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:u,children:"Cancel"}),a.jsx($,{type:"submit",disabled:u,children:u?"Sending":"Send report"})]})]})]})})}function OAe(){const e=Li(),[t,r]=x.useState(!1),n=e.pathname+e.search,s=typeof document<"u"&&document.referrer||null,i=typeof navigator<"u"?navigator.userAgent:null;x.useEffect(()=>{NAe(n,s,i,{path:n,referrer:s??void 0})},[n,s,i]);const o=()=>{window.location.reload()},l=async c=>{await kAe(c),V.success("Report sent",{description:"Thank you. Well use this to improve reliability."})};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(me,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex gap-4",children:[a.jsx(me,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx($,{asChild:!0,size:"sm",children:a.jsx(me,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:Z("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(dc,{className:"h-12 w-12 text-destructive","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"500 Server Error"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"Something went wrong on our side. Weve been notified and are looking into it. You can retry, go back home, or report more details below."}),n!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Page:"," ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:n})]})]}),a.jsx(ee,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(re,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs($,{onClick:o,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(kd,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx($,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/",children:[a.jsx(dI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsxs($,{variant:"default",onClick:()=>r(!0),className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Report this issue to support",children:[a.jsx(kp,{className:"mr-2 h-4 w-4"}),"Report issue"]}),a.jsx($,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/dashboard",children:[a.jsx(fS,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Logs & security"}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-1 text-sm",children:[a.jsxs(me,{to:"/logs",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(Wr,{className:"h-4 w-4"}),"Logs & tracing"]}),a.jsxs(me,{to:"/security",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(Dn,{className:"h-4 w-4"}),"Security audit"]})]})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(me,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(me,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})}),a.jsx(EAe,{open:t,onOpenChange:r,onSubmit:l,errorType:"500",errorContext:{url:n,referrer:s??void 0}})]})}const PAe=new $q({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});function AAe(){return a.jsxs(Mq,{client:PAe,children:[a.jsx(nq,{children:a.jsx(lH,{children:a.jsx(hG,{children:a.jsxs(Gz,{children:[a.jsx(pt,{path:"/",element:a.jsx(oJ,{})}),a.jsx(pt,{path:"/login",element:a.jsx(mZ,{})}),a.jsx(pt,{path:"/signup",element:a.jsx(vZ,{})}),a.jsx(pt,{path:"/forgot-password",element:a.jsx(jZ,{})}),a.jsx(pt,{path:"/verify-email",element:a.jsx(SZ,{})}),a.jsx(pt,{path:"/download",element:a.jsx(cte,{})}),a.jsx(pt,{path:"/privacy",element:a.jsx(jAe,{})}),a.jsx(pt,{path:"/terms",element:a.jsx(_Ae,{})}),a.jsx(pt,{path:"/500",element:a.jsx(OAe,{})}),a.jsxs(pt,{element:a.jsx(eJ,{}),children:[a.jsx(pt,{path:"/dashboard",element:a.jsx(yre,{})}),a.jsx(pt,{path:"/profile",element:a.jsx(cH,{}),children:a.jsx(pt,{index:!0,element:a.jsx(lte,{})})}),a.jsx(pt,{path:"/chat",element:a.jsx(Xre,{})}),a.jsx(pt,{path:"/channels",element:a.jsx(pne,{})}),a.jsx(pt,{path:"/skills",element:a.jsx(mne,{})}),a.jsx(pt,{path:"/skill-editor/:skillId?",element:a.jsx(Pne,{})}),a.jsx(pt,{path:"/nodes",element:a.jsx(Jne,{})}),a.jsx(pt,{path:"/cron",element:a.jsx(rse,{})}),a.jsx(pt,{path:"/webhooks",element:a.jsx(bse,{})}),a.jsx(pt,{path:"/model-providers",element:a.jsx(SPe,{})}),a.jsx(pt,{path:"/browser",element:a.jsx(r2e,{})}),a.jsx(pt,{path:"/voice",element:a.jsx(N2e,{})}),a.jsx(pt,{path:"/secrets",element:a.jsx(F2e,{})}),a.jsx(pt,{path:"/settings",element:a.jsx(k2e,{})}),a.jsx(pt,{path:"/security",element:a.jsx(tAe,{})}),a.jsx(pt,{path:"/logs",element:a.jsx(hAe,{})}),a.jsx(pt,{path:"/admin",element:a.jsx(pAe,{})}),a.jsx(pt,{path:"/help",element:a.jsx(mAe,{})})]}),a.jsx(pt,{path:"/404",element:a.jsx(VT,{})}),a.jsx(pt,{path:"*",element:a.jsx(VT,{})})]})})})}),a.jsx(xW,{position:"top-right",richColors:!0,closeButton:!0})]})}const kB=document.getElementById("root");if(!kB)throw new Error("Root element not found");Lw.createRoot(kB).render(a.jsx(P.StrictMode,{children:a.jsx(AAe,{})}));

var IC=e=>{throw TypeError(e)};var aw=(e,t,r)=>t.has(e)||IC("Cannot "+r);var W=(e,t,r)=>(aw(e,t,"read from private field"),r?r.call(e):t.get(e)),Ve=(e,t,r)=>t.has(e)?IC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Te=(e,t,r,n)=>(aw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),dt=(e,t,r)=>(aw(e,t,"access private method"),r);var qp=(e,t,r,n)=>({set _(s){Te(e,t,s,r)},get _(){return W(e,t,n)}});function U6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var DM={exports:{}},dx={},LM={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp=Symbol.for("react.element"),q6=Symbol.for("react.portal"),B6=Symbol.for("react.fragment"),z6=Symbol.for("react.strict_mode"),W6=Symbol.for("react.profiler"),V6=Symbol.for("react.provider"),K6=Symbol.for("react.context"),H6=Symbol.for("react.forward_ref"),G6=Symbol.for("react.suspense"),Y6=Symbol.for("react.memo"),Q6=Symbol.for("react.lazy"),DC=Symbol.iterator;function X6(e){return e===null||typeof e!="object"?null:(e=DC&&e[DC]||e["@@iterator"],typeof e=="function"?e:null)}var FM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UM=Object.assign,qM={};function ef(e,t,r){this.props=e,this.context=t,this.refs=qM,this.updater=r||FM}ef.prototype.isReactComponent={};ef.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ef.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function BM(){}BM.prototype=ef.prototype;function hS(e,t,r){this.props=e,this.context=t,this.refs=qM,this.updater=r||FM}var mS=hS.prototype=new BM;mS.constructor=hS;UM(mS,ef.prototype);mS.isPureReactComponent=!0;var LC=Array.isArray,zM=Object.prototype.hasOwnProperty,pS={current:null},WM={key:!0,ref:!0,__self:!0,__source:!0};function VM(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)zM.call(t,n)&&!WM.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:cp,type:e,key:i,ref:o,props:s,_owner:pS.current}}function J6(e,t){return{$$typeof:cp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gS(e){return typeof e=="object"&&e!==null&&e.$$typeof===cp}function Z6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var FC=/\/+/g;function iw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Z6(""+e.key):t.toString(36)}function zg(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case cp:case q6:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+iw(o,0):n,LC(s)?(r="",e!=null&&(r=e.replace(FC,"$&/")+"/"),zg(s,t,r,"",function(u){return u})):s!=null&&(gS(s)&&(s=J6(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(FC,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",LC(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+iw(i,l);o+=zg(i,t,r,c,s)}else if(c=X6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+iw(i,l++),o+=zg(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zp(e,t,r){if(e==null)return e;var n=[],s=0;return zg(e,n,"","",function(i){return t.call(r,i,s++)}),n}function e8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dn={current:null},Wg={transition:null},t8={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:Wg,ReactCurrentOwner:pS};function KM(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:zp,forEach:function(e,t,r){zp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zp(e,function(){t++}),t},toArray:function(e){return zp(e,function(t){return t})||[]},only:function(e){if(!gS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vt.Component=ef;vt.Fragment=B6;vt.Profiler=W6;vt.PureComponent=hS;vt.StrictMode=z6;vt.Suspense=G6;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t8;vt.act=KM;vt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=UM({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=pS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)zM.call(t,c)&&!WM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:cp,type:e.type,key:s,ref:i,props:n,_owner:o}};vt.createContext=function(e){return e={$$typeof:K6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:V6,_context:e},e.Consumer=e};vt.createElement=VM;vt.createFactory=function(e){var t=VM.bind(null,e);return t.type=e,t};vt.createRef=function(){return{current:null}};vt.forwardRef=function(e){return{$$typeof:H6,render:e}};vt.isValidElement=gS;vt.lazy=function(e){return{$$typeof:Q6,_payload:{_status:-1,_result:e},_init:e8}};vt.memo=function(e,t){return{$$typeof:Y6,type:e,compare:t===void 0?null:t}};vt.startTransition=function(e){var t=Wg.transition;Wg.transition={};try{e()}finally{Wg.transition=t}};vt.unstable_act=KM;vt.useCallback=function(e,t){return Dn.current.useCallback(e,t)};vt.useContext=function(e){return Dn.current.useContext(e)};vt.useDebugValue=function(){};vt.useDeferredValue=function(e){return Dn.current.useDeferredValue(e)};vt.useEffect=function(e,t){return Dn.current.useEffect(e,t)};vt.useId=function(){return Dn.current.useId()};vt.useImperativeHandle=function(e,t,r){return Dn.current.useImperativeHandle(e,t,r)};vt.useInsertionEffect=function(e,t){return Dn.current.useInsertionEffect(e,t)};vt.useLayoutEffect=function(e,t){return Dn.current.useLayoutEffect(e,t)};vt.useMemo=function(e,t){return Dn.current.useMemo(e,t)};vt.useReducer=function(e,t,r){return Dn.current.useReducer(e,t,r)};vt.useRef=function(e){return Dn.current.useRef(e)};vt.useState=function(e){return Dn.current.useState(e)};vt.useSyncExternalStore=function(e,t,r){return Dn.current.useSyncExternalStore(e,t,r)};vt.useTransition=function(){return Dn.current.useTransition()};vt.version="18.3.1";LM.exports=vt;var v=LM.exports;const M=zt(v),fx=U6({__proto__:null,default:M},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r8=v,n8=Symbol.for("react.element"),s8=Symbol.for("react.fragment"),a8=Object.prototype.hasOwnProperty,i8=r8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o8={key:!0,ref:!0,__self:!0,__source:!0};function HM(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)a8.call(t,n)&&!o8.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:n8,type:e,key:i,ref:o,props:s,_owner:i8.current}}dx.Fragment=s8;dx.jsx=HM;dx.jsxs=HM;DM.exports=dx;var a=DM.exports,G0={},GM={exports:{}},ws={},YM={exports:{}},QM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,I){var D=R.length;R.push(I);e:for(;0<D;){var te=D-1>>>1,A=R[te];if(0<s(A,I))R[te]=I,R[D]=A,D=te;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var I=R[0],D=R.pop();if(D!==I){R[0]=D;e:for(var te=0,A=R.length,re=A>>>1;te<re;){var ye=2*(te+1)-1,We=R[ye],Ke=ye+1,pe=R[Ke];if(0>s(We,D))Ke<A&&0>s(pe,We)?(R[te]=pe,R[Ke]=D,te=Ke):(R[te]=We,R[ye]=D,te=ye);else if(Ke<A&&0>s(pe,D))R[te]=pe,R[Ke]=D,te=Ke;else break e}}return I}function s(R,I){var D=R.sortIndex-I.sortIndex;return D!==0?D:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=R)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function _(R){if(p=!1,w(R),!g)if(r(c)!==null)g=!0,T(j);else{var I=r(u);I!==null&&V(_,I.startTime-R)}}function j(R,I){g=!1,p&&(p=!1,b(k),k=-1),m=!0;var D=h;try{for(w(I),f=r(c);f!==null&&(!(f.expirationTime>I)||R&&!L());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var A=te(f.expirationTime<=I);I=e.unstable_now(),typeof A=="function"?f.callback=A:f===r(c)&&n(c),w(I)}else n(c);f=r(c)}if(f!==null)var re=!0;else{var ye=r(u);ye!==null&&V(_,ye.startTime-I),re=!1}return re}finally{f=null,h=D,m=!1}}var S=!1,N=null,k=-1,C=5,O=-1;function L(){return!(e.unstable_now()-O<C)}function E(){if(N!==null){var R=e.unstable_now();O=R;var I=!0;try{I=N(!0,R)}finally{I?F():(S=!1,N=null)}}else S=!1}var F;if(typeof y=="function")F=function(){y(E)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=E,F=function(){K.postMessage(null)}}else F=function(){x(E,0)};function T(R){N=R,S||(S=!0,F())}function V(R,I){k=x(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,T(j))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var D=h;h=I;try{return R()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var D=h;h=R;try{return I()}finally{h=D}},e.unstable_scheduleCallback=function(R,I,D){var te=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?te+D:te):D=te,R){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=D+A,R={id:d++,callback:I,priorityLevel:R,startTime:D,expirationTime:A,sortIndex:-1},D>te?(R.sortIndex=D,t(u,R),r(c)===null&&R===r(u)&&(p?(b(k),k=-1):p=!0,V(_,D-te))):(R.sortIndex=A,t(c,R),g||m||(g=!0,T(j))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var I=h;return function(){var D=h;h=I;try{return R.apply(this,arguments)}finally{h=D}}}})(QM);YM.exports=QM;var l8=YM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c8=v,vs=l8;function be(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XM=new Set,qh={};function Fc(e,t){ud(e,t),ud(e+"Capture",t)}function ud(e,t){for(qh[e]=t,e=0;e<t.length;e++)XM.add(t[e])}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Y0=Object.prototype.hasOwnProperty,u8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UC={},qC={};function d8(e){return Y0.call(qC,e)?!0:Y0.call(UC,e)?!1:u8.test(e)?qC[e]=!0:(UC[e]=!0,!1)}function f8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function h8(e,t,r,n){if(t===null||typeof t>"u"||f8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ln(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hn[e]=new Ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hn[t]=new Ln(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hn[e]=new Ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hn[e]=new Ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hn[e]=new Ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hn[e]=new Ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hn[e]=new Ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hn[e]=new Ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hn[e]=new Ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var vS=/[\-:]([a-z])/g;function yS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vS,yS);hn[t]=new Ln(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vS,yS);hn[t]=new Ln(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vS,yS);hn[t]=new Ln(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hn[e]=new Ln(e,1,!1,e.toLowerCase(),null,!1,!1)});hn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hn[e]=new Ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function xS(e,t,r,n){var s=hn.hasOwnProperty(t)?hn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(h8(t,r,s,n)&&(r=null),n||s===null?d8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var eo=c8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wp=Symbol.for("react.element"),wu=Symbol.for("react.portal"),ju=Symbol.for("react.fragment"),bS=Symbol.for("react.strict_mode"),Q0=Symbol.for("react.profiler"),JM=Symbol.for("react.provider"),ZM=Symbol.for("react.context"),wS=Symbol.for("react.forward_ref"),X0=Symbol.for("react.suspense"),J0=Symbol.for("react.suspense_list"),jS=Symbol.for("react.memo"),No=Symbol.for("react.lazy"),e$=Symbol.for("react.offscreen"),BC=Symbol.iterator;function If(e){return e===null||typeof e!="object"?null:(e=BC&&e[BC]||e["@@iterator"],typeof e=="function"?e:null)}var gr=Object.assign,ow;function dh(e){if(ow===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ow=t&&t[1]||""}return`
`+ow+e}var lw=!1;function cw(e,t){if(!e||lw)return"";lw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{lw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?dh(e):""}function m8(e){switch(e.tag){case 5:return dh(e.type);case 16:return dh("Lazy");case 13:return dh("Suspense");case 19:return dh("SuspenseList");case 0:case 2:case 15:return e=cw(e.type,!1),e;case 11:return e=cw(e.type.render,!1),e;case 1:return e=cw(e.type,!0),e;default:return""}}function Z0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ju:return"Fragment";case wu:return"Portal";case Q0:return"Profiler";case bS:return"StrictMode";case X0:return"Suspense";case J0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ZM:return(e.displayName||"Context")+".Consumer";case JM:return(e._context.displayName||"Context")+".Provider";case wS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jS:return t=e.displayName||null,t!==null?t:Z0(e.type)||"Memo";case No:t=e._payload,e=e._init;try{return Z0(e(t))}catch{}}return null}function p8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z0(t);case 8:return t===bS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ll(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function t$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function g8(e){var t=t$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vp(e){e._valueTracker||(e._valueTracker=g8(e))}function r$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=t$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ov(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ej(e,t){var r=t.checked;return gr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ll(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function n$(e,t){t=t.checked,t!=null&&xS(e,"checked",t,!1)}function tj(e,t){n$(e,t);var r=ll(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rj(e,t.type,r):t.hasOwnProperty("defaultValue")&&rj(e,t.type,ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function WC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function rj(e,t,r){(t!=="number"||ov(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var fh=Array.isArray;function Lu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ll(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function nj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(be(91));return gr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function VC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(be(92));if(fh(r)){if(1<r.length)throw Error(be(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ll(r)}}function s$(e,t){var r=ll(t.value),n=ll(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function KC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function a$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?a$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kp,i$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Kp=Kp||document.createElement("div"),Kp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v8=["Webkit","ms","Moz","O"];Object.keys(jh).forEach(function(e){v8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jh[t]=jh[e]})});function o$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jh.hasOwnProperty(e)&&jh[e]?(""+t).trim():t+"px"}function l$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=o$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var y8=gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aj(e,t){if(t){if(y8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(be(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(be(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(be(61))}if(t.style!=null&&typeof t.style!="object")throw Error(be(62))}}function ij(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oj=null;function _S(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lj=null,Fu=null,Uu=null;function HC(e){if(e=fp(e)){if(typeof lj!="function")throw Error(be(280));var t=e.stateNode;t&&(t=vx(t),lj(e.stateNode,e.type,t))}}function c$(e){Fu?Uu?Uu.push(e):Uu=[e]:Fu=e}function u$(){if(Fu){var e=Fu,t=Uu;if(Uu=Fu=null,HC(e),t)for(e=0;e<t.length;e++)HC(t[e])}}function d$(e,t){return e(t)}function f$(){}var uw=!1;function h$(e,t,r){if(uw)return e(t,r);uw=!0;try{return d$(e,t,r)}finally{uw=!1,(Fu!==null||Uu!==null)&&(f$(),u$())}}function zh(e,t){var r=e.stateNode;if(r===null)return null;var n=vx(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(be(231,t,typeof r));return r}var cj=!1;if(qi)try{var Df={};Object.defineProperty(Df,"passive",{get:function(){cj=!0}}),window.addEventListener("test",Df,Df),window.removeEventListener("test",Df,Df)}catch{cj=!1}function x8(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var _h=!1,lv=null,cv=!1,uj=null,b8={onError:function(e){_h=!0,lv=e}};function w8(e,t,r,n,s,i,o,l,c){_h=!1,lv=null,x8.apply(b8,arguments)}function j8(e,t,r,n,s,i,o,l,c){if(w8.apply(this,arguments),_h){if(_h){var u=lv;_h=!1,lv=null}else throw Error(be(198));cv||(cv=!0,uj=u)}}function Uc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function m$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function GC(e){if(Uc(e)!==e)throw Error(be(188))}function _8(e){var t=e.alternate;if(!t){if(t=Uc(e),t===null)throw Error(be(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return GC(s),e;if(i===n)return GC(s),t;i=i.sibling}throw Error(be(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(be(189))}}if(r.alternate!==n)throw Error(be(190))}if(r.tag!==3)throw Error(be(188));return r.stateNode.current===r?e:t}function p$(e){return e=_8(e),e!==null?g$(e):null}function g$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=g$(e);if(t!==null)return t;e=e.sibling}return null}var v$=vs.unstable_scheduleCallback,YC=vs.unstable_cancelCallback,S8=vs.unstable_shouldYield,N8=vs.unstable_requestPaint,_r=vs.unstable_now,k8=vs.unstable_getCurrentPriorityLevel,SS=vs.unstable_ImmediatePriority,y$=vs.unstable_UserBlockingPriority,uv=vs.unstable_NormalPriority,C8=vs.unstable_LowPriority,x$=vs.unstable_IdlePriority,hx=null,Za=null;function E8(e){if(Za&&typeof Za.onCommitFiberRoot=="function")try{Za.onCommitFiberRoot(hx,e,void 0,(e.current.flags&128)===128)}catch{}}var ja=Math.clz32?Math.clz32:A8,P8=Math.log,O8=Math.LN2;function A8(e){return e>>>=0,e===0?32:31-(P8(e)/O8|0)|0}var Hp=64,Gp=4194304;function hh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=hh(l):(i&=o,i!==0&&(n=hh(i)))}else o=r&~s,o!==0?n=hh(o):i!==0&&(n=hh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ja(t),s=1<<r,n|=e[r],t&=~s;return n}function T8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ja(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=T8(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function dj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function b$(){var e=Hp;return Hp<<=1,!(Hp&4194240)&&(Hp=64),e}function dw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function up(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ja(t),e[t]=r}function M8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ja(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function NS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ja(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Lt=0;function w$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var j$,kS,_$,S$,N$,fj=!1,Yp=[],Yo=null,Qo=null,Xo=null,Wh=new Map,Vh=new Map,Oo=[],$8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QC(e,t){switch(e){case"focusin":case"focusout":Yo=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":Xo=null;break;case"pointerover":case"pointerout":Wh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vh.delete(t.pointerId)}}function Lf(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=fp(t),t!==null&&kS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function I8(e,t,r,n,s){switch(t){case"focusin":return Yo=Lf(Yo,e,t,r,n,s),!0;case"dragenter":return Qo=Lf(Qo,e,t,r,n,s),!0;case"mouseover":return Xo=Lf(Xo,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Wh.set(i,Lf(Wh.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Vh.set(i,Lf(Vh.get(i)||null,e,t,r,n,s)),!0}return!1}function k$(e){var t=ql(e.target);if(t!==null){var r=Uc(t);if(r!==null){if(t=r.tag,t===13){if(t=m$(r),t!==null){e.blockedOn=t,N$(e.priority,function(){_$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);oj=n,r.target.dispatchEvent(n),oj=null}else return t=fp(r),t!==null&&kS(t),e.blockedOn=r,!1;t.shift()}return!0}function XC(e,t,r){Vg(e)&&r.delete(t)}function D8(){fj=!1,Yo!==null&&Vg(Yo)&&(Yo=null),Qo!==null&&Vg(Qo)&&(Qo=null),Xo!==null&&Vg(Xo)&&(Xo=null),Wh.forEach(XC),Vh.forEach(XC)}function Ff(e,t){e.blockedOn===t&&(e.blockedOn=null,fj||(fj=!0,vs.unstable_scheduleCallback(vs.unstable_NormalPriority,D8)))}function Kh(e){function t(s){return Ff(s,e)}if(0<Yp.length){Ff(Yp[0],e);for(var r=1;r<Yp.length;r++){var n=Yp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yo!==null&&Ff(Yo,e),Qo!==null&&Ff(Qo,e),Xo!==null&&Ff(Xo,e),Wh.forEach(t),Vh.forEach(t),r=0;r<Oo.length;r++)n=Oo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Oo.length&&(r=Oo[0],r.blockedOn===null);)k$(r),r.blockedOn===null&&Oo.shift()}var qu=eo.ReactCurrentBatchConfig,fv=!0;function L8(e,t,r,n){var s=Lt,i=qu.transition;qu.transition=null;try{Lt=1,CS(e,t,r,n)}finally{Lt=s,qu.transition=i}}function F8(e,t,r,n){var s=Lt,i=qu.transition;qu.transition=null;try{Lt=4,CS(e,t,r,n)}finally{Lt=s,qu.transition=i}}function CS(e,t,r,n){if(fv){var s=hj(e,t,r,n);if(s===null)ww(e,t,n,hv,r),QC(e,n);else if(I8(s,e,t,r,n))n.stopPropagation();else if(QC(e,n),t&4&&-1<$8.indexOf(e)){for(;s!==null;){var i=fp(s);if(i!==null&&j$(i),i=hj(e,t,r,n),i===null&&ww(e,t,n,hv,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ww(e,t,n,null,r)}}var hv=null;function hj(e,t,r,n){if(hv=null,e=_S(n),e=ql(e),e!==null)if(t=Uc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=m$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hv=e,null}function C$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k8()){case SS:return 1;case y$:return 4;case uv:case C8:return 16;case x$:return 536870912;default:return 16}default:return 16}}var Wo=null,ES=null,Kg=null;function E$(){if(Kg)return Kg;var e,t=ES,r=t.length,n,s="value"in Wo?Wo.value:Wo.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Kg=s.slice(e,1<n?1-n:void 0)}function Hg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qp(){return!0}function JC(){return!1}function js(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qp:JC,this.isPropagationStopped=JC,this}return gr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qp)},persist:function(){},isPersistent:Qp}),t}var tf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PS=js(tf),dp=gr({},tf,{view:0,detail:0}),U8=js(dp),fw,hw,Uf,mx=gr({},dp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:OS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uf&&(Uf&&e.type==="mousemove"?(fw=e.screenX-Uf.screenX,hw=e.screenY-Uf.screenY):hw=fw=0,Uf=e),fw)},movementY:function(e){return"movementY"in e?e.movementY:hw}}),ZC=js(mx),q8=gr({},mx,{dataTransfer:0}),B8=js(q8),z8=gr({},dp,{relatedTarget:0}),mw=js(z8),W8=gr({},tf,{animationName:0,elapsedTime:0,pseudoElement:0}),V8=js(W8),K8=gr({},tf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),H8=js(K8),G8=gr({},tf,{data:0}),e2=js(G8),Y8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=X8[e])?!!t[e]:!1}function OS(){return J8}var Z8=gr({},dp,{key:function(e){if(e.key){var t=Y8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Q8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:OS,charCode:function(e){return e.type==="keypress"?Hg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ez=js(Z8),tz=gr({},mx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t2=js(tz),rz=gr({},dp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:OS}),nz=js(rz),sz=gr({},tf,{propertyName:0,elapsedTime:0,pseudoElement:0}),az=js(sz),iz=gr({},mx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oz=js(iz),lz=[9,13,27,32],AS=qi&&"CompositionEvent"in window,Sh=null;qi&&"documentMode"in document&&(Sh=document.documentMode);var cz=qi&&"TextEvent"in window&&!Sh,P$=qi&&(!AS||Sh&&8<Sh&&11>=Sh),r2=" ",n2=!1;function O$(e,t){switch(e){case"keyup":return lz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _u=!1;function uz(e,t){switch(e){case"compositionend":return A$(t);case"keypress":return t.which!==32?null:(n2=!0,r2);case"textInput":return e=t.data,e===r2&&n2?null:e;default:return null}}function dz(e,t){if(_u)return e==="compositionend"||!AS&&O$(e,t)?(e=E$(),Kg=ES=Wo=null,_u=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return P$&&t.locale!=="ko"?null:t.data;default:return null}}var fz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fz[e.type]:t==="textarea"}function T$(e,t,r,n){c$(n),t=mv(t,"onChange"),0<t.length&&(r=new PS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Nh=null,Hh=null;function hz(e){z$(e,0)}function px(e){var t=ku(e);if(r$(t))return e}function mz(e,t){if(e==="change")return t}var R$=!1;if(qi){var pw;if(qi){var gw="oninput"in document;if(!gw){var a2=document.createElement("div");a2.setAttribute("oninput","return;"),gw=typeof a2.oninput=="function"}pw=gw}else pw=!1;R$=pw&&(!document.documentMode||9<document.documentMode)}function i2(){Nh&&(Nh.detachEvent("onpropertychange",M$),Hh=Nh=null)}function M$(e){if(e.propertyName==="value"&&px(Hh)){var t=[];T$(t,Hh,e,_S(e)),h$(hz,t)}}function pz(e,t,r){e==="focusin"?(i2(),Nh=t,Hh=r,Nh.attachEvent("onpropertychange",M$)):e==="focusout"&&i2()}function gz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return px(Hh)}function vz(e,t){if(e==="click")return px(t)}function yz(e,t){if(e==="input"||e==="change")return px(t)}function xz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ea=typeof Object.is=="function"?Object.is:xz;function Gh(e,t){if(Ea(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Y0.call(t,s)||!Ea(e[s],t[s]))return!1}return!0}function o2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function l2(e,t){var r=o2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=o2(r)}}function $$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function I$(){for(var e=window,t=ov();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ov(e.document)}return t}function TS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bz(e){var t=I$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&$$(r.ownerDocument.documentElement,r)){if(n!==null&&TS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=l2(r,i);var o=l2(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wz=qi&&"documentMode"in document&&11>=document.documentMode,Su=null,mj=null,kh=null,pj=!1;function c2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pj||Su==null||Su!==ov(n)||(n=Su,"selectionStart"in n&&TS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kh&&Gh(kh,n)||(kh=n,n=mv(mj,"onSelect"),0<n.length&&(t=new PS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Su)))}function Xp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Nu={animationend:Xp("Animation","AnimationEnd"),animationiteration:Xp("Animation","AnimationIteration"),animationstart:Xp("Animation","AnimationStart"),transitionend:Xp("Transition","TransitionEnd")},vw={},D$={};qi&&(D$=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function gx(e){if(vw[e])return vw[e];if(!Nu[e])return e;var t=Nu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in D$)return vw[e]=t[r];return e}var L$=gx("animationend"),F$=gx("animationiteration"),U$=gx("animationstart"),q$=gx("transitionend"),B$=new Map,u2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ml(e,t){B$.set(e,t),Fc(t,[e])}for(var yw=0;yw<u2.length;yw++){var xw=u2[yw],jz=xw.toLowerCase(),_z=xw[0].toUpperCase()+xw.slice(1);ml(jz,"on"+_z)}ml(L$,"onAnimationEnd");ml(F$,"onAnimationIteration");ml(U$,"onAnimationStart");ml("dblclick","onDoubleClick");ml("focusin","onFocus");ml("focusout","onBlur");ml(q$,"onTransitionEnd");ud("onMouseEnter",["mouseout","mouseover"]);ud("onMouseLeave",["mouseout","mouseover"]);ud("onPointerEnter",["pointerout","pointerover"]);ud("onPointerLeave",["pointerout","pointerover"]);Fc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sz=new Set("cancel close invalid load scroll toggle".split(" ").concat(mh));function d2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,j8(n,t,void 0,e),e.currentTarget=null}function z$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;d2(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;d2(s,l,u),i=c}}}if(cv)throw e=uj,cv=!1,uj=null,e}function er(e,t){var r=t[bj];r===void 0&&(r=t[bj]=new Set);var n=e+"__bubble";r.has(n)||(W$(t,e,2,!1),r.add(n))}function bw(e,t,r){var n=0;t&&(n|=4),W$(r,e,n,t)}var Jp="_reactListening"+Math.random().toString(36).slice(2);function Yh(e){if(!e[Jp]){e[Jp]=!0,XM.forEach(function(r){r!=="selectionchange"&&(Sz.has(r)||bw(r,!1,e),bw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jp]||(t[Jp]=!0,bw("selectionchange",!1,t))}}function W$(e,t,r,n){switch(C$(t)){case 1:var s=L8;break;case 4:s=F8;break;default:s=CS}r=s.bind(null,t,r,e),s=void 0,!cj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ww(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ql(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}h$(function(){var u=i,d=_S(r),f=[];e:{var h=B$.get(e);if(h!==void 0){var m=PS,g=e;switch(e){case"keypress":if(Hg(r)===0)break e;case"keydown":case"keyup":m=ez;break;case"focusin":g="focus",m=mw;break;case"focusout":g="blur",m=mw;break;case"beforeblur":case"afterblur":m=mw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ZC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=B8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=nz;break;case L$:case F$:case U$:m=V8;break;case q$:m=az;break;case"scroll":m=U8;break;case"wheel":m=oz;break;case"copy":case"cut":case"paste":m=H8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=t2}var p=(t&4)!==0,x=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=zh(y,b),_!=null&&p.push(Qh(y,_,w)))),x)break;y=y.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==oj&&(g=r.relatedTarget||r.fromElement)&&(ql(g)||g[Bi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?ql(g):null,g!==null&&(x=Uc(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=ZC,_="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=t2,_="onPointerLeave",b="onPointerEnter",y="pointer"),x=m==null?h:ku(m),w=g==null?h:ku(g),h=new p(_,y+"leave",m,r,d),h.target=x,h.relatedTarget=w,_=null,ql(d)===u&&(p=new p(b,y+"enter",g,r,d),p.target=w,p.relatedTarget=x,_=p),x=_,m&&g)t:{for(p=m,b=g,y=0,w=p;w;w=Zc(w))y++;for(w=0,_=b;_;_=Zc(_))w++;for(;0<y-w;)p=Zc(p),y--;for(;0<w-y;)b=Zc(b),w--;for(;y--;){if(p===b||b!==null&&p===b.alternate)break t;p=Zc(p),b=Zc(b)}p=null}else p=null;m!==null&&f2(f,h,m,p,!1),g!==null&&x!==null&&f2(f,x,g,p,!0)}}e:{if(h=u?ku(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=mz;else if(s2(h))if(R$)j=yz;else{j=gz;var S=pz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=vz);if(j&&(j=j(e,u))){T$(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&rj(h,"number",h.value)}switch(S=u?ku(u):window,e){case"focusin":(s2(S)||S.contentEditable==="true")&&(Su=S,mj=u,kh=null);break;case"focusout":kh=mj=Su=null;break;case"mousedown":pj=!0;break;case"contextmenu":case"mouseup":case"dragend":pj=!1,c2(f,r,d);break;case"selectionchange":if(wz)break;case"keydown":case"keyup":c2(f,r,d)}var N;if(AS)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else _u?O$(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(P$&&r.locale!=="ko"&&(_u||k!=="onCompositionStart"?k==="onCompositionEnd"&&_u&&(N=E$()):(Wo=d,ES="value"in Wo?Wo.value:Wo.textContent,_u=!0)),S=mv(u,k),0<S.length&&(k=new e2(k,e,null,r,d),f.push({event:k,listeners:S}),N?k.data=N:(N=A$(r),N!==null&&(k.data=N)))),(N=cz?uz(e,r):dz(e,r))&&(u=mv(u,"onBeforeInput"),0<u.length&&(d=new e2("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}z$(f,t)})}function Qh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mv(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zh(e,r),i!=null&&n.unshift(Qh(e,i,s)),i=zh(e,t),i!=null&&n.push(Qh(e,i,s))),e=e.return}return n}function Zc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function f2(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=zh(r,i),c!=null&&o.unshift(Qh(r,c,l))):s||(c=zh(r,i),c!=null&&o.push(Qh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Nz=/\r\n?/g,kz=/\u0000|\uFFFD/g;function h2(e){return(typeof e=="string"?e:""+e).replace(Nz,`
`).replace(kz,"")}function Zp(e,t,r){if(t=h2(t),h2(e)!==t&&r)throw Error(be(425))}function pv(){}var gj=null,vj=null;function yj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xj=typeof setTimeout=="function"?setTimeout:void 0,Cz=typeof clearTimeout=="function"?clearTimeout:void 0,m2=typeof Promise=="function"?Promise:void 0,Ez=typeof queueMicrotask=="function"?queueMicrotask:typeof m2<"u"?function(e){return m2.resolve(null).then(e).catch(Pz)}:xj;function Pz(e){setTimeout(function(){throw e})}function jw(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Kh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Kh(t)}function Jo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function p2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rf=Math.random().toString(36).slice(2),Ha="__reactFiber$"+rf,Xh="__reactProps$"+rf,Bi="__reactContainer$"+rf,bj="__reactEvents$"+rf,Oz="__reactListeners$"+rf,Az="__reactHandles$"+rf;function ql(e){var t=e[Ha];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Bi]||r[Ha]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=p2(e);e!==null;){if(r=e[Ha])return r;e=p2(e)}return t}e=r,r=e.parentNode}return null}function fp(e){return e=e[Ha]||e[Bi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ku(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(be(33))}function vx(e){return e[Xh]||null}var wj=[],Cu=-1;function pl(e){return{current:e}}function nr(e){0>Cu||(e.current=wj[Cu],wj[Cu]=null,Cu--)}function Xt(e,t){Cu++,wj[Cu]=e.current,e.current=t}var cl={},kn=pl(cl),Qn=pl(!1),hc=cl;function dd(e,t){var r=e.type.contextTypes;if(!r)return cl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xn(e){return e=e.childContextTypes,e!=null}function gv(){nr(Qn),nr(kn)}function g2(e,t,r){if(kn.current!==cl)throw Error(be(168));Xt(kn,t),Xt(Qn,r)}function V$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(be(108,p8(e)||"Unknown",s));return gr({},r,n)}function vv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cl,hc=kn.current,Xt(kn,e),Xt(Qn,Qn.current),!0}function v2(e,t,r){var n=e.stateNode;if(!n)throw Error(be(169));r?(e=V$(e,t,hc),n.__reactInternalMemoizedMergedChildContext=e,nr(Qn),nr(kn),Xt(kn,e)):nr(Qn),Xt(Qn,r)}var bi=null,yx=!1,_w=!1;function K$(e){bi===null?bi=[e]:bi.push(e)}function Tz(e){yx=!0,K$(e)}function gl(){if(!_w&&bi!==null){_w=!0;var e=0,t=Lt;try{var r=bi;for(Lt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bi=null,yx=!1}catch(s){throw bi!==null&&(bi=bi.slice(e+1)),v$(SS,gl),s}finally{Lt=t,_w=!1}}return null}var Eu=[],Pu=0,yv=null,xv=0,Os=[],As=0,mc=null,ki=1,Ci="";function Al(e,t){Eu[Pu++]=xv,Eu[Pu++]=yv,yv=e,xv=t}function H$(e,t,r){Os[As++]=ki,Os[As++]=Ci,Os[As++]=mc,mc=e;var n=ki;e=Ci;var s=32-ja(n)-1;n&=~(1<<s),r+=1;var i=32-ja(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ki=1<<32-ja(t)+s|r<<s|n,Ci=i+e}else ki=1<<i|r<<s|n,Ci=e}function RS(e){e.return!==null&&(Al(e,1),H$(e,1,0))}function MS(e){for(;e===yv;)yv=Eu[--Pu],Eu[Pu]=null,xv=Eu[--Pu],Eu[Pu]=null;for(;e===mc;)mc=Os[--As],Os[As]=null,Ci=Os[--As],Os[As]=null,ki=Os[--As],Os[As]=null}var ms=null,hs=null,lr=!1,ga=null;function G$(e,t){var r=Ms(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function y2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ms=e,hs=Jo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ms=e,hs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mc!==null?{id:ki,overflow:Ci}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ms(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ms=e,hs=null,!0):!1;default:return!1}}function jj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _j(e){if(lr){var t=hs;if(t){var r=t;if(!y2(e,t)){if(jj(e))throw Error(be(418));t=Jo(r.nextSibling);var n=ms;t&&y2(e,t)?G$(n,r):(e.flags=e.flags&-4097|2,lr=!1,ms=e)}}else{if(jj(e))throw Error(be(418));e.flags=e.flags&-4097|2,lr=!1,ms=e}}}function x2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ms=e}function eg(e){if(e!==ms)return!1;if(!lr)return x2(e),lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yj(e.type,e.memoizedProps)),t&&(t=hs)){if(jj(e))throw Y$(),Error(be(418));for(;t;)G$(e,t),t=Jo(t.nextSibling)}if(x2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(be(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){hs=Jo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}hs=null}}else hs=ms?Jo(e.stateNode.nextSibling):null;return!0}function Y$(){for(var e=hs;e;)e=Jo(e.nextSibling)}function fd(){hs=ms=null,lr=!1}function $S(e){ga===null?ga=[e]:ga.push(e)}var Rz=eo.ReactCurrentBatchConfig;function qf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(be(309));var n=r.stateNode}if(!n)throw Error(be(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(be(284));if(!r._owner)throw Error(be(290,e))}return e}function tg(e,t){throw e=Object.prototype.toString.call(t),Error(be(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function b2(e){var t=e._init;return t(e._payload)}function Q$(e){function t(b,y){if(e){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=rl(b,y),b.index=0,b.sibling=null,b}function i(b,y,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,y,w,_){return y===null||y.tag!==6?(y=Ow(w,b.mode,_),y.return=b,y):(y=s(y,w),y.return=b,y)}function c(b,y,w,_){var j=w.type;return j===ju?d(b,y,w.props.children,_,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===No&&b2(j)===y.type)?(_=s(y,w.props),_.ref=qf(b,y,w),_.return=b,_):(_=ev(w.type,w.key,w.props,null,b.mode,_),_.ref=qf(b,y,w),_.return=b,_)}function u(b,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Aw(w,b.mode,_),y.return=b,y):(y=s(y,w.children||[]),y.return=b,y)}function d(b,y,w,_,j){return y===null||y.tag!==7?(y=cc(w,b.mode,_,j),y.return=b,y):(y=s(y,w),y.return=b,y)}function f(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ow(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wp:return w=ev(y.type,y.key,y.props,null,b.mode,w),w.ref=qf(b,null,y),w.return=b,w;case wu:return y=Aw(y,b.mode,w),y.return=b,y;case No:var _=y._init;return f(b,_(y._payload),w)}if(fh(y)||If(y))return y=cc(y,b.mode,w,null),y.return=b,y;tg(b,y)}return null}function h(b,y,w,_){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wp:return w.key===j?c(b,y,w,_):null;case wu:return w.key===j?u(b,y,w,_):null;case No:return j=w._init,h(b,y,j(w._payload),_)}if(fh(w)||If(w))return j!==null?null:d(b,y,w,_,null);tg(b,w)}return null}function m(b,y,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,l(y,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wp:return b=b.get(_.key===null?w:_.key)||null,c(y,b,_,j);case wu:return b=b.get(_.key===null?w:_.key)||null,u(y,b,_,j);case No:var S=_._init;return m(b,y,w,S(_._payload),j)}if(fh(_)||If(_))return b=b.get(w)||null,d(y,b,_,j,null);tg(y,_)}return null}function g(b,y,w,_){for(var j=null,S=null,N=y,k=y=0,C=null;N!==null&&k<w.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var O=h(b,N,w[k],_);if(O===null){N===null&&(N=C);break}e&&N&&O.alternate===null&&t(b,N),y=i(O,y,k),S===null?j=O:S.sibling=O,S=O,N=C}if(k===w.length)return r(b,N),lr&&Al(b,k),j;if(N===null){for(;k<w.length;k++)N=f(b,w[k],_),N!==null&&(y=i(N,y,k),S===null?j=N:S.sibling=N,S=N);return lr&&Al(b,k),j}for(N=n(b,N);k<w.length;k++)C=m(N,b,k,w[k],_),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),y=i(C,y,k),S===null?j=C:S.sibling=C,S=C);return e&&N.forEach(function(L){return t(b,L)}),lr&&Al(b,k),j}function p(b,y,w,_){var j=If(w);if(typeof j!="function")throw Error(be(150));if(w=j.call(w),w==null)throw Error(be(151));for(var S=j=null,N=y,k=y=0,C=null,O=w.next();N!==null&&!O.done;k++,O=w.next()){N.index>k?(C=N,N=null):C=N.sibling;var L=h(b,N,O.value,_);if(L===null){N===null&&(N=C);break}e&&N&&L.alternate===null&&t(b,N),y=i(L,y,k),S===null?j=L:S.sibling=L,S=L,N=C}if(O.done)return r(b,N),lr&&Al(b,k),j;if(N===null){for(;!O.done;k++,O=w.next())O=f(b,O.value,_),O!==null&&(y=i(O,y,k),S===null?j=O:S.sibling=O,S=O);return lr&&Al(b,k),j}for(N=n(b,N);!O.done;k++,O=w.next())O=m(N,b,k,O.value,_),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?k:O.key),y=i(O,y,k),S===null?j=O:S.sibling=O,S=O);return e&&N.forEach(function(E){return t(b,E)}),lr&&Al(b,k),j}function x(b,y,w,_){if(typeof w=="object"&&w!==null&&w.type===ju&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wp:e:{for(var j=w.key,S=y;S!==null;){if(S.key===j){if(j=w.type,j===ju){if(S.tag===7){r(b,S.sibling),y=s(S,w.props.children),y.return=b,b=y;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===No&&b2(j)===S.type){r(b,S.sibling),y=s(S,w.props),y.ref=qf(b,S,w),y.return=b,b=y;break e}r(b,S);break}else t(b,S);S=S.sibling}w.type===ju?(y=cc(w.props.children,b.mode,_,w.key),y.return=b,b=y):(_=ev(w.type,w.key,w.props,null,b.mode,_),_.ref=qf(b,y,w),_.return=b,b=_)}return o(b);case wu:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(b,y.sibling),y=s(y,w.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=Aw(w,b.mode,_),y.return=b,b=y}return o(b);case No:return S=w._init,x(b,y,S(w._payload),_)}if(fh(w))return g(b,y,w,_);if(If(w))return p(b,y,w,_);tg(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(b,y.sibling),y=s(y,w),y.return=b,b=y):(r(b,y),y=Ow(w,b.mode,_),y.return=b,b=y),o(b)):r(b,y)}return x}var hd=Q$(!0),X$=Q$(!1),bv=pl(null),wv=null,Ou=null,IS=null;function DS(){IS=Ou=wv=null}function LS(e){var t=bv.current;nr(bv),e._currentValue=t}function Sj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Bu(e,t){wv=e,IS=Ou=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gn=!0),e.firstContext=null)}function zs(e){var t=e._currentValue;if(IS!==e)if(e={context:e,memoizedValue:t,next:null},Ou===null){if(wv===null)throw Error(be(308));Ou=e,wv.dependencies={lanes:0,firstContext:e}}else Ou=Ou.next=e;return t}var Bl=null;function FS(e){Bl===null?Bl=[e]:Bl.push(e)}function J$(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,FS(t)):(r.next=s.next,s.next=r),t.interleaved=r,zi(e,n)}function zi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ko=!1;function US(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Nt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,zi(e,r)}return s=n.interleaved,s===null?(t.next=t,FS(n)):(t.next=s.next,s.next=t),n.interleaved=t,zi(e,r)}function Gg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,NS(e,r)}}function w2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function jv(e,t,r,n){var s=e.updateQueue;ko=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=gr({},f,h);break e;case 2:ko=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);gc|=o,e.lanes=o,e.memoizedState=f}}function j2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(be(191,s));s.call(n)}}}var hp={},ei=pl(hp),Jh=pl(hp),Zh=pl(hp);function zl(e){if(e===hp)throw Error(be(174));return e}function qS(e,t){switch(Xt(Zh,t),Xt(Jh,e),Xt(ei,hp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sj(t,e)}nr(ei),Xt(ei,t)}function md(){nr(ei),nr(Jh),nr(Zh)}function e4(e){zl(Zh.current);var t=zl(ei.current),r=sj(t,e.type);t!==r&&(Xt(Jh,e),Xt(ei,r))}function BS(e){Jh.current===e&&(nr(ei),nr(Jh))}var dr=pl(0);function _v(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sw=[];function zS(){for(var e=0;e<Sw.length;e++)Sw[e]._workInProgressVersionPrimary=null;Sw.length=0}var Yg=eo.ReactCurrentDispatcher,Nw=eo.ReactCurrentBatchConfig,pc=0,mr=null,qr=null,Zr=null,Sv=!1,Ch=!1,em=0,Mz=0;function pn(){throw Error(be(321))}function WS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ea(e[r],t[r]))return!1;return!0}function VS(e,t,r,n,s,i){if(pc=i,mr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yg.current=e===null||e.memoizedState===null?Lz:Fz,e=r(n,s),Ch){i=0;do{if(Ch=!1,em=0,25<=i)throw Error(be(301));i+=1,Zr=qr=null,t.updateQueue=null,Yg.current=Uz,e=r(n,s)}while(Ch)}if(Yg.current=Nv,t=qr!==null&&qr.next!==null,pc=0,Zr=qr=mr=null,Sv=!1,t)throw Error(be(300));return e}function KS(){var e=em!==0;return em=0,e}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?mr.memoizedState=Zr=e:Zr=Zr.next=e,Zr}function Ws(){if(qr===null){var e=mr.alternate;e=e!==null?e.memoizedState:null}else e=qr.next;var t=Zr===null?mr.memoizedState:Zr.next;if(t!==null)Zr=t,qr=e;else{if(e===null)throw Error(be(310));qr=e,e={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},Zr===null?mr.memoizedState=Zr=e:Zr=Zr.next=e}return Zr}function tm(e,t){return typeof t=="function"?t(e):t}function kw(e){var t=Ws(),r=t.queue;if(r===null)throw Error(be(311));r.lastRenderedReducer=e;var n=qr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((pc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,mr.lanes|=d,gc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Ea(n,t.memoizedState)||(Gn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,mr.lanes|=i,gc|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Cw(e){var t=Ws(),r=t.queue;if(r===null)throw Error(be(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ea(i,t.memoizedState)||(Gn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function t4(){}function r4(e,t){var r=mr,n=Ws(),s=t(),i=!Ea(n.memoizedState,s);if(i&&(n.memoizedState=s,Gn=!0),n=n.queue,HS(a4.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Zr!==null&&Zr.memoizedState.tag&1){if(r.flags|=2048,rm(9,s4.bind(null,r,n,s,t),void 0,null),tn===null)throw Error(be(349));pc&30||n4(r,t,s)}return s}function n4(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function s4(e,t,r,n){t.value=r,t.getSnapshot=n,i4(t)&&o4(e)}function a4(e,t,r){return r(function(){i4(t)&&o4(e)})}function i4(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ea(e,r)}catch{return!0}}function o4(e){var t=zi(e,1);t!==null&&_a(t,e,1,-1)}function _2(e){var t=Ba();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tm,lastRenderedState:e},t.queue=e,e=e.dispatch=Dz.bind(null,mr,e),[t.memoizedState,e]}function rm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function l4(){return Ws().memoizedState}function Qg(e,t,r,n){var s=Ba();mr.flags|=e,s.memoizedState=rm(1|t,r,void 0,n===void 0?null:n)}function xx(e,t,r,n){var s=Ws();n=n===void 0?null:n;var i=void 0;if(qr!==null){var o=qr.memoizedState;if(i=o.destroy,n!==null&&WS(n,o.deps)){s.memoizedState=rm(t,r,i,n);return}}mr.flags|=e,s.memoizedState=rm(1|t,r,i,n)}function S2(e,t){return Qg(8390656,8,e,t)}function HS(e,t){return xx(2048,8,e,t)}function c4(e,t){return xx(4,2,e,t)}function u4(e,t){return xx(4,4,e,t)}function d4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function f4(e,t,r){return r=r!=null?r.concat([e]):null,xx(4,4,d4.bind(null,t,e),r)}function GS(){}function h4(e,t){var r=Ws();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&WS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function m4(e,t){var r=Ws();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&WS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function p4(e,t,r){return pc&21?(Ea(r,t)||(r=b$(),mr.lanes|=r,gc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gn=!0),e.memoizedState=r)}function $z(e,t){var r=Lt;Lt=r!==0&&4>r?r:4,e(!0);var n=Nw.transition;Nw.transition={};try{e(!1),t()}finally{Lt=r,Nw.transition=n}}function g4(){return Ws().memoizedState}function Iz(e,t,r){var n=tl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},v4(e))y4(t,r);else if(r=J$(e,t,r,n),r!==null){var s=Mn();_a(r,e,n,s),x4(r,t,n)}}function Dz(e,t,r){var n=tl(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(v4(e))y4(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Ea(l,o)){var c=t.interleaved;c===null?(s.next=s,FS(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=J$(e,t,s,n),r!==null&&(s=Mn(),_a(r,e,n,s),x4(r,t,n))}}function v4(e){var t=e.alternate;return e===mr||t!==null&&t===mr}function y4(e,t){Ch=Sv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function x4(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,NS(e,r)}}var Nv={readContext:zs,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},Lz={readContext:zs,useCallback:function(e,t){return Ba().memoizedState=[e,t===void 0?null:t],e},useContext:zs,useEffect:S2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qg(4194308,4,d4.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qg(4,2,e,t)},useMemo:function(e,t){var r=Ba();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ba();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Iz.bind(null,mr,e),[n.memoizedState,e]},useRef:function(e){var t=Ba();return e={current:e},t.memoizedState=e},useState:_2,useDebugValue:GS,useDeferredValue:function(e){return Ba().memoizedState=e},useTransition:function(){var e=_2(!1),t=e[0];return e=$z.bind(null,e[1]),Ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=mr,s=Ba();if(lr){if(r===void 0)throw Error(be(407));r=r()}else{if(r=t(),tn===null)throw Error(be(349));pc&30||n4(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,S2(a4.bind(null,n,i,e),[e]),n.flags|=2048,rm(9,s4.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ba(),t=tn.identifierPrefix;if(lr){var r=Ci,n=ki;r=(n&~(1<<32-ja(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=em++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Mz++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fz={readContext:zs,useCallback:h4,useContext:zs,useEffect:HS,useImperativeHandle:f4,useInsertionEffect:c4,useLayoutEffect:u4,useMemo:m4,useReducer:kw,useRef:l4,useState:function(){return kw(tm)},useDebugValue:GS,useDeferredValue:function(e){var t=Ws();return p4(t,qr.memoizedState,e)},useTransition:function(){var e=kw(tm)[0],t=Ws().memoizedState;return[e,t]},useMutableSource:t4,useSyncExternalStore:r4,useId:g4,unstable_isNewReconciler:!1},Uz={readContext:zs,useCallback:h4,useContext:zs,useEffect:HS,useImperativeHandle:f4,useInsertionEffect:c4,useLayoutEffect:u4,useMemo:m4,useReducer:Cw,useRef:l4,useState:function(){return Cw(tm)},useDebugValue:GS,useDeferredValue:function(e){var t=Ws();return qr===null?t.memoizedState=e:p4(t,qr.memoizedState,e)},useTransition:function(){var e=Cw(tm)[0],t=Ws().memoizedState;return[e,t]},useMutableSource:t4,useSyncExternalStore:r4,useId:g4,unstable_isNewReconciler:!1};function ca(e,t){if(e&&e.defaultProps){t=gr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Nj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:gr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bx={isMounted:function(e){return(e=e._reactInternals)?Uc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mn(),s=tl(e),i=Ri(n,s);i.payload=t,r!=null&&(i.callback=r),t=Zo(e,i,s),t!==null&&(_a(t,e,s,n),Gg(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mn(),s=tl(e),i=Ri(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Zo(e,i,s),t!==null&&(_a(t,e,s,n),Gg(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mn(),n=tl(e),s=Ri(r,n);s.tag=2,t!=null&&(s.callback=t),t=Zo(e,s,n),t!==null&&(_a(t,e,n,r),Gg(t,e,n))}};function N2(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Gh(r,n)||!Gh(s,i):!0}function b4(e,t,r){var n=!1,s=cl,i=t.contextType;return typeof i=="object"&&i!==null?i=zs(i):(s=Xn(t)?hc:kn.current,n=t.contextTypes,i=(n=n!=null)?dd(e,s):cl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function k2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bx.enqueueReplaceState(t,t.state,null)}function kj(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},US(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=zs(i):(i=Xn(t)?hc:kn.current,s.context=dd(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Nj(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&bx.enqueueReplaceState(s,s.state,null),jv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pd(e,t){try{var r="",n=t;do r+=m8(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ew(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Cj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var qz=typeof WeakMap=="function"?WeakMap:Map;function w4(e,t,r){r=Ri(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cv||(Cv=!0,Dj=n),Cj(e,t)},r}function j4(e,t,r){r=Ri(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Cj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Cj(e,t),typeof n!="function"&&(el===null?el=new Set([this]):el.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function C2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new qz;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=tW.bind(null,e,t,r),t.then(e,e))}function E2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function P2(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ri(-1,1),t.tag=2,Zo(r,t,1))),r.lanes|=1),e)}var Bz=eo.ReactCurrentOwner,Gn=!1;function On(e,t,r,n){t.child=e===null?X$(t,null,r,n):hd(t,e.child,r,n)}function O2(e,t,r,n,s){r=r.render;var i=t.ref;return Bu(t,s),n=VS(e,t,r,n,i,s),r=KS(),e!==null&&!Gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wi(e,t,s)):(lr&&r&&RS(t),t.flags|=1,On(e,t,n,s),t.child)}function A2(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!rN(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,_4(e,t,i,n,s)):(e=ev(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Gh,r(o,n)&&e.ref===t.ref)return Wi(e,t,s)}return t.flags|=1,e=rl(i,n),e.ref=t.ref,e.return=t,t.child=e}function _4(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Gh(i,n)&&e.ref===t.ref)if(Gn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Gn=!0);else return t.lanes=e.lanes,Wi(e,t,s)}return Ej(e,t,r,n,s)}function S4(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Tu,is),is|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xt(Tu,is),is|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Xt(Tu,is),is|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Xt(Tu,is),is|=n;return On(e,t,s,r),t.child}function N4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ej(e,t,r,n,s){var i=Xn(r)?hc:kn.current;return i=dd(t,i),Bu(t,s),r=VS(e,t,r,n,i,s),n=KS(),e!==null&&!Gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wi(e,t,s)):(lr&&n&&RS(t),t.flags|=1,On(e,t,r,s),t.child)}function T2(e,t,r,n,s){if(Xn(r)){var i=!0;vv(t)}else i=!1;if(Bu(t,s),t.stateNode===null)Xg(e,t),b4(t,r,n),kj(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=zs(u):(u=Xn(r)?hc:kn.current,u=dd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&k2(t,o,n,u),ko=!1;var h=t.memoizedState;o.state=h,jv(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Qn.current||ko?(typeof d=="function"&&(Nj(t,r,d,n),c=t.memoizedState),(l=ko||N2(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Z$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ca(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=zs(c):(c=Xn(r)?hc:kn.current,c=dd(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&k2(t,o,n,c),ko=!1,h=t.memoizedState,o.state=h,jv(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||Qn.current||ko?(typeof m=="function"&&(Nj(t,r,m,n),g=t.memoizedState),(u=ko||N2(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Pj(e,t,r,n,i,s)}function Pj(e,t,r,n,s,i){N4(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&v2(t,r,!1),Wi(e,t,i);n=t.stateNode,Bz.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=hd(t,e.child,null,i),t.child=hd(t,null,l,i)):On(e,t,l,i),t.memoizedState=n.state,s&&v2(t,r,!0),t.child}function k4(e){var t=e.stateNode;t.pendingContext?g2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&g2(e,t.context,!1),qS(e,t.containerInfo)}function R2(e,t,r,n,s){return fd(),$S(s),t.flags|=256,On(e,t,r,n),t.child}var Oj={dehydrated:null,treeContext:null,retryLane:0};function Aj(e){return{baseLanes:e,cachePool:null,transitions:null}}function C4(e,t,r){var n=t.pendingProps,s=dr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Xt(dr,s&1),e===null)return _j(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=_x(o,n,0,null),e=cc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Aj(r),t.memoizedState=Oj,e):YS(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return zz(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=rl(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=rl(l,i):(i=cc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Aj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Oj,n}return i=e.child,e=i.sibling,n=rl(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function YS(e,t){return t=_x({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rg(e,t,r,n){return n!==null&&$S(n),hd(t,e.child,null,r),e=YS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zz(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ew(Error(be(422))),rg(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=_x({mode:"visible",children:n.children},s,0,null),i=cc(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&hd(t,e.child,null,o),t.child.memoizedState=Aj(o),t.memoizedState=Oj,i);if(!(t.mode&1))return rg(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(be(419)),n=Ew(i,n,void 0),rg(e,t,o,n)}if(l=(o&e.childLanes)!==0,Gn||l){if(n=tn,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zi(e,s),_a(n,e,s,-1))}return tN(),n=Ew(Error(be(421))),rg(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rW.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,hs=Jo(s.nextSibling),ms=t,lr=!0,ga=null,e!==null&&(Os[As++]=ki,Os[As++]=Ci,Os[As++]=mc,ki=e.id,Ci=e.overflow,mc=t),t=YS(t,n.children),t.flags|=4096,t)}function M2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Sj(e.return,t,r)}function Pw(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function E4(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(On(e,t,n.children,r),n=dr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&M2(e,r,t);else if(e.tag===19)M2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Xt(dr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&_v(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Pw(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_v(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Pw(t,!0,r,null,i);break;case"together":Pw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(be(153));if(t.child!==null){for(e=t.child,r=rl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=rl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Wz(e,t,r){switch(t.tag){case 3:k4(t),fd();break;case 5:e4(t);break;case 1:Xn(t.type)&&vv(t);break;case 4:qS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Xt(bv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Xt(dr,dr.current&1),t.flags|=128,null):r&t.child.childLanes?C4(e,t,r):(Xt(dr,dr.current&1),e=Wi(e,t,r),e!==null?e.sibling:null);Xt(dr,dr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return E4(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xt(dr,dr.current),n)break;return null;case 22:case 23:return t.lanes=0,S4(e,t,r)}return Wi(e,t,r)}var P4,Tj,O4,A4;P4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Tj=function(){};O4=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,zl(ei.current);var i=null;switch(r){case"input":s=ej(e,s),n=ej(e,n),i=[];break;case"select":s=gr({},s,{value:void 0}),n=gr({},n,{value:void 0}),i=[];break;case"textarea":s=nj(e,s),n=nj(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pv)}aj(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&er("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};A4=function(e,t,r,n){r!==n&&(t.flags|=4)};function Bf(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function gn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Vz(e,t,r){var n=t.pendingProps;switch(MS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(t),null;case 1:return Xn(t.type)&&gv(),gn(t),null;case 3:return n=t.stateNode,md(),nr(Qn),nr(kn),zS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(eg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ga!==null&&(Uj(ga),ga=null))),Tj(e,t),gn(t),null;case 5:BS(t);var s=zl(Zh.current);if(r=t.type,e!==null&&t.stateNode!=null)O4(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(be(166));return gn(t),null}if(e=zl(ei.current),eg(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ha]=t,n[Xh]=i,e=(t.mode&1)!==0,r){case"dialog":er("cancel",n),er("close",n);break;case"iframe":case"object":case"embed":er("load",n);break;case"video":case"audio":for(s=0;s<mh.length;s++)er(mh[s],n);break;case"source":er("error",n);break;case"img":case"image":case"link":er("error",n),er("load",n);break;case"details":er("toggle",n);break;case"input":zC(n,i),er("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},er("invalid",n);break;case"textarea":VC(n,i),er("invalid",n)}aj(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Zp(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Zp(n.textContent,l,e),s=["children",""+l]):qh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&er("scroll",n)}switch(r){case"input":Vp(n),WC(n,i,!0);break;case"textarea":Vp(n),KC(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=pv)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ha]=t,e[Xh]=n,P4(e,t,!1,!1),t.stateNode=e;e:{switch(o=ij(r,n),r){case"dialog":er("cancel",e),er("close",e),s=n;break;case"iframe":case"object":case"embed":er("load",e),s=n;break;case"video":case"audio":for(s=0;s<mh.length;s++)er(mh[s],e);s=n;break;case"source":er("error",e),s=n;break;case"img":case"image":case"link":er("error",e),er("load",e),s=n;break;case"details":er("toggle",e),s=n;break;case"input":zC(e,n),s=ej(e,n),er("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=gr({},n,{value:void 0}),er("invalid",e);break;case"textarea":VC(e,n),s=nj(e,n),er("invalid",e);break;default:s=n}aj(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?l$(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&i$(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bh(e,c):typeof c=="number"&&Bh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&er("scroll",e):c!=null&&xS(e,i,c,o))}switch(r){case"input":Vp(e),WC(e,n,!1);break;case"textarea":Vp(e),KC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ll(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Lu(e,!!n.multiple,i,!1):n.defaultValue!=null&&Lu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=pv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gn(t),null;case 6:if(e&&t.stateNode!=null)A4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(be(166));if(r=zl(Zh.current),zl(ei.current),eg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ha]=t,(i=n.nodeValue!==r)&&(e=ms,e!==null))switch(e.tag){case 3:Zp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zp(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ha]=t,t.stateNode=n}return gn(t),null;case 13:if(nr(dr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lr&&hs!==null&&t.mode&1&&!(t.flags&128))Y$(),fd(),t.flags|=98560,i=!1;else if(i=eg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(be(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(be(317));i[Ha]=t}else fd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gn(t),i=!1}else ga!==null&&(Uj(ga),ga=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||dr.current&1?Kr===0&&(Kr=3):tN())),t.updateQueue!==null&&(t.flags|=4),gn(t),null);case 4:return md(),Tj(e,t),e===null&&Yh(t.stateNode.containerInfo),gn(t),null;case 10:return LS(t.type._context),gn(t),null;case 17:return Xn(t.type)&&gv(),gn(t),null;case 19:if(nr(dr),i=t.memoizedState,i===null)return gn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Bf(i,!1);else{if(Kr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_v(e),o!==null){for(t.flags|=128,Bf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xt(dr,dr.current&1|2),t.child}e=e.sibling}i.tail!==null&&_r()>gd&&(t.flags|=128,n=!0,Bf(i,!1),t.lanes=4194304)}else{if(!n)if(e=_v(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Bf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lr)return gn(t),null}else 2*_r()-i.renderingStartTime>gd&&r!==1073741824&&(t.flags|=128,n=!0,Bf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_r(),t.sibling=null,r=dr.current,Xt(dr,n?r&1|2:r&1),t):(gn(t),null);case 22:case 23:return eN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?is&1073741824&&(gn(t),t.subtreeFlags&6&&(t.flags|=8192)):gn(t),null;case 24:return null;case 25:return null}throw Error(be(156,t.tag))}function Kz(e,t){switch(MS(t),t.tag){case 1:return Xn(t.type)&&gv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return md(),nr(Qn),nr(kn),zS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return BS(t),null;case 13:if(nr(dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(be(340));fd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nr(dr),null;case 4:return md(),null;case 10:return LS(t.type._context),null;case 22:case 23:return eN(),null;case 24:return null;default:return null}}var ng=!1,bn=!1,Hz=typeof WeakSet=="function"?WeakSet:Set,De=null;function Au(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){br(e,t,n)}else r.current=null}function Rj(e,t,r){try{r()}catch(n){br(e,t,n)}}var $2=!1;function Gz(e,t){if(gj=fv,e=I$(),TS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(vj={focusedElem:e,selectionRange:r},fv=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){t=De;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:ca(t.type,p),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(_){br(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}return g=$2,$2=!1,g}function Eh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Rj(t,r,i)}s=s.next}while(s!==n)}}function wx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Mj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function T4(e){var t=e.alternate;t!==null&&(e.alternate=null,T4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ha],delete t[Xh],delete t[bj],delete t[Oz],delete t[Az])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function R4(e){return e.tag===5||e.tag===3||e.tag===4}function I2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $j(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pv));else if(n!==4&&(e=e.child,e!==null))for($j(e,t,r),e=e.sibling;e!==null;)$j(e,t,r),e=e.sibling}function Ij(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ij(e,t,r),e=e.sibling;e!==null;)Ij(e,t,r),e=e.sibling}var ln=null,ha=!1;function vo(e,t,r){for(r=r.child;r!==null;)M4(e,t,r),r=r.sibling}function M4(e,t,r){if(Za&&typeof Za.onCommitFiberUnmount=="function")try{Za.onCommitFiberUnmount(hx,r)}catch{}switch(r.tag){case 5:bn||Au(r,t);case 6:var n=ln,s=ha;ln=null,vo(e,t,r),ln=n,ha=s,ln!==null&&(ha?(e=ln,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ln.removeChild(r.stateNode));break;case 18:ln!==null&&(ha?(e=ln,r=r.stateNode,e.nodeType===8?jw(e.parentNode,r):e.nodeType===1&&jw(e,r),Kh(e)):jw(ln,r.stateNode));break;case 4:n=ln,s=ha,ln=r.stateNode.containerInfo,ha=!0,vo(e,t,r),ln=n,ha=s;break;case 0:case 11:case 14:case 15:if(!bn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rj(r,t,o),s=s.next}while(s!==n)}vo(e,t,r);break;case 1:if(!bn&&(Au(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){br(r,t,l)}vo(e,t,r);break;case 21:vo(e,t,r);break;case 22:r.mode&1?(bn=(n=bn)||r.memoizedState!==null,vo(e,t,r),bn=n):vo(e,t,r);break;default:vo(e,t,r)}}function D2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Hz),t.forEach(function(n){var s=nW.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function na(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ln=l.stateNode,ha=!1;break e;case 3:ln=l.stateNode.containerInfo,ha=!0;break e;case 4:ln=l.stateNode.containerInfo,ha=!0;break e}l=l.return}if(ln===null)throw Error(be(160));M4(i,o,s),ln=null,ha=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){br(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$4(t,e),t=t.sibling}function $4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(na(t,e),qa(e),n&4){try{Eh(3,e,e.return),wx(3,e)}catch(p){br(e,e.return,p)}try{Eh(5,e,e.return)}catch(p){br(e,e.return,p)}}break;case 1:na(t,e),qa(e),n&512&&r!==null&&Au(r,r.return);break;case 5:if(na(t,e),qa(e),n&512&&r!==null&&Au(r,r.return),e.flags&32){var s=e.stateNode;try{Bh(s,"")}catch(p){br(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&n$(s,i),ij(l,o);var u=ij(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?l$(s,f):d==="dangerouslySetInnerHTML"?i$(s,f):d==="children"?Bh(s,f):xS(s,d,f,u)}switch(l){case"input":tj(s,i);break;case"textarea":s$(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Lu(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Lu(s,!!i.multiple,i.defaultValue,!0):Lu(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xh]=i}catch(p){br(e,e.return,p)}}break;case 6:if(na(t,e),qa(e),n&4){if(e.stateNode===null)throw Error(be(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){br(e,e.return,p)}}break;case 3:if(na(t,e),qa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Kh(t.containerInfo)}catch(p){br(e,e.return,p)}break;case 4:na(t,e),qa(e);break;case 13:na(t,e),qa(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(JS=_r())),n&4&&D2(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(bn=(u=bn)||d,na(t,e),bn=u):na(t,e),qa(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(De=e,d=e.child;d!==null;){for(f=De=d;De!==null;){switch(h=De,m=h.child,h.tag){case 0:case 11:case 14:case 15:Eh(4,h,h.return);break;case 1:Au(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){br(n,r,p)}}break;case 5:Au(h,h.return);break;case 22:if(h.memoizedState!==null){F2(f);continue}}m!==null?(m.return=h,De=m):F2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=o$("display",o))}catch(p){br(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){br(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:na(t,e),qa(e),n&4&&D2(e);break;case 21:break;default:na(t,e),qa(e)}}function qa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(R4(r)){var n=r;break e}r=r.return}throw Error(be(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Bh(s,""),n.flags&=-33);var i=I2(e);Ij(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=I2(e);$j(e,l,o);break;default:throw Error(be(161))}}catch(c){br(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yz(e,t,r){De=e,I4(e)}function I4(e,t,r){for(var n=(e.mode&1)!==0;De!==null;){var s=De,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ng;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||bn;l=ng;var u=bn;if(ng=o,(bn=c)&&!u)for(De=s;De!==null;)o=De,c=o.child,o.tag===22&&o.memoizedState!==null?U2(s):c!==null?(c.return=o,De=c):U2(s);for(;i!==null;)De=i,I4(i),i=i.sibling;De=s,ng=l,bn=u}L2(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,De=i):L2(e)}}function L2(e){for(;De!==null;){var t=De;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bn||wx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!bn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ca(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&j2(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}j2(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Kh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}bn||t.flags&512&&Mj(t)}catch(h){br(t,t.return,h)}}if(t===e){De=null;break}if(r=t.sibling,r!==null){r.return=t.return,De=r;break}De=t.return}}function F2(e){for(;De!==null;){var t=De;if(t===e){De=null;break}var r=t.sibling;if(r!==null){r.return=t.return,De=r;break}De=t.return}}function U2(e){for(;De!==null;){var t=De;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{wx(4,t)}catch(c){br(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){br(t,s,c)}}var i=t.return;try{Mj(t)}catch(c){br(t,i,c)}break;case 5:var o=t.return;try{Mj(t)}catch(c){br(t,o,c)}}}catch(c){br(t,t.return,c)}if(t===e){De=null;break}var l=t.sibling;if(l!==null){l.return=t.return,De=l;break}De=t.return}}var Qz=Math.ceil,kv=eo.ReactCurrentDispatcher,QS=eo.ReactCurrentOwner,Is=eo.ReactCurrentBatchConfig,Nt=0,tn=null,Mr=null,fn=0,is=0,Tu=pl(0),Kr=0,nm=null,gc=0,jx=0,XS=0,Ph=null,Hn=null,JS=0,gd=1/0,yi=null,Cv=!1,Dj=null,el=null,sg=!1,Vo=null,Ev=0,Oh=0,Lj=null,Jg=-1,Zg=0;function Mn(){return Nt&6?_r():Jg!==-1?Jg:Jg=_r()}function tl(e){return e.mode&1?Nt&2&&fn!==0?fn&-fn:Rz.transition!==null?(Zg===0&&(Zg=b$()),Zg):(e=Lt,e!==0||(e=window.event,e=e===void 0?16:C$(e.type)),e):1}function _a(e,t,r,n){if(50<Oh)throw Oh=0,Lj=null,Error(be(185));up(e,r,n),(!(Nt&2)||e!==tn)&&(e===tn&&(!(Nt&2)&&(jx|=r),Kr===4&&Ao(e,fn)),Jn(e,n),r===1&&Nt===0&&!(t.mode&1)&&(gd=_r()+500,yx&&gl()))}function Jn(e,t){var r=e.callbackNode;R8(e,t);var n=dv(e,e===tn?fn:0);if(n===0)r!==null&&YC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&YC(r),t===1)e.tag===0?Tz(q2.bind(null,e)):K$(q2.bind(null,e)),Ez(function(){!(Nt&6)&&gl()}),r=null;else{switch(w$(n)){case 1:r=SS;break;case 4:r=y$;break;case 16:r=uv;break;case 536870912:r=x$;break;default:r=uv}r=W4(r,D4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function D4(e,t){if(Jg=-1,Zg=0,Nt&6)throw Error(be(327));var r=e.callbackNode;if(zu()&&e.callbackNode!==r)return null;var n=dv(e,e===tn?fn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Pv(e,n);else{t=n;var s=Nt;Nt|=2;var i=F4();(tn!==e||fn!==t)&&(yi=null,gd=_r()+500,lc(e,t));do try{Zz();break}catch(l){L4(e,l)}while(!0);DS(),kv.current=i,Nt=s,Mr!==null?t=0:(tn=null,fn=0,t=Kr)}if(t!==0){if(t===2&&(s=dj(e),s!==0&&(n=s,t=Fj(e,s))),t===1)throw r=nm,lc(e,0),Ao(e,n),Jn(e,_r()),r;if(t===6)Ao(e,n);else{if(s=e.current.alternate,!(n&30)&&!Xz(s)&&(t=Pv(e,n),t===2&&(i=dj(e),i!==0&&(n=i,t=Fj(e,i))),t===1))throw r=nm,lc(e,0),Ao(e,n),Jn(e,_r()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(be(345));case 2:Tl(e,Hn,yi);break;case 3:if(Ao(e,n),(n&130023424)===n&&(t=JS+500-_r(),10<t)){if(dv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Mn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=xj(Tl.bind(null,e,Hn,yi),t);break}Tl(e,Hn,yi);break;case 4:if(Ao(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ja(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=_r()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qz(n/1960))-n,10<n){e.timeoutHandle=xj(Tl.bind(null,e,Hn,yi),n);break}Tl(e,Hn,yi);break;case 5:Tl(e,Hn,yi);break;default:throw Error(be(329))}}}return Jn(e,_r()),e.callbackNode===r?D4.bind(null,e):null}function Fj(e,t){var r=Ph;return e.current.memoizedState.isDehydrated&&(lc(e,t).flags|=256),e=Pv(e,t),e!==2&&(t=Hn,Hn=r,t!==null&&Uj(t)),e}function Uj(e){Hn===null?Hn=e:Hn.push.apply(Hn,e)}function Xz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ea(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ao(e,t){for(t&=~XS,t&=~jx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ja(t),n=1<<r;e[r]=-1,t&=~n}}function q2(e){if(Nt&6)throw Error(be(327));zu();var t=dv(e,0);if(!(t&1))return Jn(e,_r()),null;var r=Pv(e,t);if(e.tag!==0&&r===2){var n=dj(e);n!==0&&(t=n,r=Fj(e,n))}if(r===1)throw r=nm,lc(e,0),Ao(e,t),Jn(e,_r()),r;if(r===6)throw Error(be(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tl(e,Hn,yi),Jn(e,_r()),null}function ZS(e,t){var r=Nt;Nt|=1;try{return e(t)}finally{Nt=r,Nt===0&&(gd=_r()+500,yx&&gl())}}function vc(e){Vo!==null&&Vo.tag===0&&!(Nt&6)&&zu();var t=Nt;Nt|=1;var r=Is.transition,n=Lt;try{if(Is.transition=null,Lt=1,e)return e()}finally{Lt=n,Is.transition=r,Nt=t,!(Nt&6)&&gl()}}function eN(){is=Tu.current,nr(Tu)}function lc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Cz(r)),Mr!==null)for(r=Mr.return;r!==null;){var n=r;switch(MS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gv();break;case 3:md(),nr(Qn),nr(kn),zS();break;case 5:BS(n);break;case 4:md();break;case 13:nr(dr);break;case 19:nr(dr);break;case 10:LS(n.type._context);break;case 22:case 23:eN()}r=r.return}if(tn=e,Mr=e=rl(e.current,null),fn=is=t,Kr=0,nm=null,XS=jx=gc=0,Hn=Ph=null,Bl!==null){for(t=0;t<Bl.length;t++)if(r=Bl[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Bl=null}return e}function L4(e,t){do{var r=Mr;try{if(DS(),Yg.current=Nv,Sv){for(var n=mr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Sv=!1}if(pc=0,Zr=qr=mr=null,Ch=!1,em=0,QS.current=null,r===null||r.return===null){Kr=1,nm=t,Mr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=fn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=E2(o);if(m!==null){m.flags&=-257,P2(m,o,l,i,t),m.mode&1&&C2(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){C2(i,u,t),tN();break e}c=Error(be(426))}}else if(lr&&l.mode&1){var x=E2(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),P2(x,o,l,i,t),$S(pd(c,l));break e}}i=c=pd(c,l),Kr!==4&&(Kr=2),Ph===null?Ph=[i]:Ph.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=w4(i,c,t);w2(i,b);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(el===null||!el.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=j4(i,l,t);w2(i,_);break e}}i=i.return}while(i!==null)}q4(r)}catch(j){t=j,Mr===r&&r!==null&&(Mr=r=r.return);continue}break}while(!0)}function F4(){var e=kv.current;return kv.current=Nv,e===null?Nv:e}function tN(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),tn===null||!(gc&268435455)&&!(jx&268435455)||Ao(tn,fn)}function Pv(e,t){var r=Nt;Nt|=2;var n=F4();(tn!==e||fn!==t)&&(yi=null,lc(e,t));do try{Jz();break}catch(s){L4(e,s)}while(!0);if(DS(),Nt=r,kv.current=n,Mr!==null)throw Error(be(261));return tn=null,fn=0,Kr}function Jz(){for(;Mr!==null;)U4(Mr)}function Zz(){for(;Mr!==null&&!S8();)U4(Mr)}function U4(e){var t=z4(e.alternate,e,is);e.memoizedProps=e.pendingProps,t===null?q4(e):Mr=t,QS.current=null}function q4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Kz(r,t),r!==null){r.flags&=32767,Mr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Kr=6,Mr=null;return}}else if(r=Vz(r,t,is),r!==null){Mr=r;return}if(t=t.sibling,t!==null){Mr=t;return}Mr=t=e}while(t!==null);Kr===0&&(Kr=5)}function Tl(e,t,r){var n=Lt,s=Is.transition;try{Is.transition=null,Lt=1,eW(e,t,r,n)}finally{Is.transition=s,Lt=n}return null}function eW(e,t,r,n){do zu();while(Vo!==null);if(Nt&6)throw Error(be(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(be(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(M8(e,i),e===tn&&(Mr=tn=null,fn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sg||(sg=!0,W4(uv,function(){return zu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Is.transition,Is.transition=null;var o=Lt;Lt=1;var l=Nt;Nt|=4,QS.current=null,Gz(e,r),$4(r,e),bz(vj),fv=!!gj,vj=gj=null,e.current=r,Yz(r),N8(),Nt=l,Lt=o,Is.transition=i}else e.current=r;if(sg&&(sg=!1,Vo=e,Ev=s),i=e.pendingLanes,i===0&&(el=null),E8(r.stateNode),Jn(e,_r()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Cv)throw Cv=!1,e=Dj,Dj=null,e;return Ev&1&&e.tag!==0&&zu(),i=e.pendingLanes,i&1?e===Lj?Oh++:(Oh=0,Lj=e):Oh=0,gl(),null}function zu(){if(Vo!==null){var e=w$(Ev),t=Is.transition,r=Lt;try{if(Is.transition=null,Lt=16>e?16:e,Vo===null)var n=!1;else{if(e=Vo,Vo=null,Ev=0,Nt&6)throw Error(be(331));var s=Nt;for(Nt|=4,De=e.current;De!==null;){var i=De,o=i.child;if(De.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(De=u;De!==null;){var d=De;switch(d.tag){case 0:case 11:case 15:Eh(8,d,i)}var f=d.child;if(f!==null)f.return=d,De=f;else for(;De!==null;){d=De;var h=d.sibling,m=d.return;if(T4(d),d===u){De=null;break}if(h!==null){h.return=m,De=h;break}De=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}De=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,De=o;else e:for(;De!==null;){if(i=De,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Eh(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,De=b;break e}De=i.return}}var y=e.current;for(De=y;De!==null;){o=De;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,De=w;else e:for(o=y;De!==null;){if(l=De,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wx(9,l)}}catch(j){br(l,l.return,j)}if(l===o){De=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,De=_;break e}De=l.return}}if(Nt=s,gl(),Za&&typeof Za.onPostCommitFiberRoot=="function")try{Za.onPostCommitFiberRoot(hx,e)}catch{}n=!0}return n}finally{Lt=r,Is.transition=t}}return!1}function B2(e,t,r){t=pd(r,t),t=w4(e,t,1),e=Zo(e,t,1),t=Mn(),e!==null&&(up(e,1,t),Jn(e,t))}function br(e,t,r){if(e.tag===3)B2(e,e,r);else for(;t!==null;){if(t.tag===3){B2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(el===null||!el.has(n))){e=pd(r,e),e=j4(t,e,1),t=Zo(t,e,1),e=Mn(),t!==null&&(up(t,1,e),Jn(t,e));break}}t=t.return}}function tW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mn(),e.pingedLanes|=e.suspendedLanes&r,tn===e&&(fn&r)===r&&(Kr===4||Kr===3&&(fn&130023424)===fn&&500>_r()-JS?lc(e,0):XS|=r),Jn(e,t)}function B4(e,t){t===0&&(e.mode&1?(t=Gp,Gp<<=1,!(Gp&130023424)&&(Gp=4194304)):t=1);var r=Mn();e=zi(e,t),e!==null&&(up(e,t,r),Jn(e,r))}function rW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),B4(e,r)}function nW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(be(314))}n!==null&&n.delete(t),B4(e,r)}var z4;z4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qn.current)Gn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gn=!1,Wz(e,t,r);Gn=!!(e.flags&131072)}else Gn=!1,lr&&t.flags&1048576&&H$(t,xv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xg(e,t),e=t.pendingProps;var s=dd(t,kn.current);Bu(t,r),s=VS(null,t,n,e,s,r);var i=KS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xn(n)?(i=!0,vv(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,US(t),s.updater=bx,t.stateNode=s,s._reactInternals=t,kj(t,n,e,r),t=Pj(null,t,n,!0,i,r)):(t.tag=0,lr&&i&&RS(t),On(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xg(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=aW(n),e=ca(n,e),s){case 0:t=Ej(null,t,n,e,r);break e;case 1:t=T2(null,t,n,e,r);break e;case 11:t=O2(null,t,n,e,r);break e;case 14:t=A2(null,t,n,ca(n.type,e),r);break e}throw Error(be(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ca(n,s),Ej(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ca(n,s),T2(e,t,n,s,r);case 3:e:{if(k4(t),e===null)throw Error(be(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Z$(e,t),jv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=pd(Error(be(423)),t),t=R2(e,t,n,r,s);break e}else if(n!==s){s=pd(Error(be(424)),t),t=R2(e,t,n,r,s);break e}else for(hs=Jo(t.stateNode.containerInfo.firstChild),ms=t,lr=!0,ga=null,r=X$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fd(),n===s){t=Wi(e,t,r);break e}On(e,t,n,r)}t=t.child}return t;case 5:return e4(t),e===null&&_j(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,yj(n,s)?o=null:i!==null&&yj(n,i)&&(t.flags|=32),N4(e,t),On(e,t,o,r),t.child;case 6:return e===null&&_j(t),null;case 13:return C4(e,t,r);case 4:return qS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hd(t,null,n,r):On(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ca(n,s),O2(e,t,n,s,r);case 7:return On(e,t,t.pendingProps,r),t.child;case 8:return On(e,t,t.pendingProps.children,r),t.child;case 12:return On(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Xt(bv,n._currentValue),n._currentValue=o,i!==null)if(Ea(i.value,o)){if(i.children===s.children&&!Qn.current){t=Wi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ri(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Sj(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(be(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Sj(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}On(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Bu(t,r),s=zs(s),n=n(s),t.flags|=1,On(e,t,n,r),t.child;case 14:return n=t.type,s=ca(n,t.pendingProps),s=ca(n.type,s),A2(e,t,n,s,r);case 15:return _4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ca(n,s),Xg(e,t),t.tag=1,Xn(n)?(e=!0,vv(t)):e=!1,Bu(t,r),b4(t,n,s),kj(t,n,s,r),Pj(null,t,n,!0,e,r);case 19:return E4(e,t,r);case 22:return S4(e,t,r)}throw Error(be(156,t.tag))};function W4(e,t){return v$(e,t)}function sW(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(e,t,r,n){return new sW(e,t,r,n)}function rN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aW(e){if(typeof e=="function")return rN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wS)return 11;if(e===jS)return 14}return 2}function rl(e,t){var r=e.alternate;return r===null?(r=Ms(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ev(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")rN(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ju:return cc(r.children,s,i,t);case bS:o=8,s|=8;break;case Q0:return e=Ms(12,r,t,s|2),e.elementType=Q0,e.lanes=i,e;case X0:return e=Ms(13,r,t,s),e.elementType=X0,e.lanes=i,e;case J0:return e=Ms(19,r,t,s),e.elementType=J0,e.lanes=i,e;case e$:return _x(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case JM:o=10;break e;case ZM:o=9;break e;case wS:o=11;break e;case jS:o=14;break e;case No:o=16,n=null;break e}throw Error(be(130,e==null?e:typeof e,""))}return t=Ms(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function cc(e,t,r,n){return e=Ms(7,e,n,t),e.lanes=r,e}function _x(e,t,r,n){return e=Ms(22,e,n,t),e.elementType=e$,e.lanes=r,e.stateNode={isHidden:!1},e}function Ow(e,t,r){return e=Ms(6,e,null,t),e.lanes=r,e}function Aw(e,t,r){return t=Ms(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iW(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dw(0),this.expirationTimes=dw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dw(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nN(e,t,r,n,s,i,o,l,c){return e=new iW(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ms(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},US(i),e}function oW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function V4(e){if(!e)return cl;e=e._reactInternals;e:{if(Uc(e)!==e||e.tag!==1)throw Error(be(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(be(171))}if(e.tag===1){var r=e.type;if(Xn(r))return V$(e,r,t)}return t}function K4(e,t,r,n,s,i,o,l,c){return e=nN(r,n,!0,e,s,i,o,l,c),e.context=V4(null),r=e.current,n=Mn(),s=tl(r),i=Ri(n,s),i.callback=t??null,Zo(r,i,s),e.current.lanes=s,up(e,s,n),Jn(e,n),e}function Sx(e,t,r,n){var s=t.current,i=Mn(),o=tl(s);return r=V4(r),t.context===null?t.context=r:t.pendingContext=r,t=Ri(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Zo(s,t,o),e!==null&&(_a(e,s,o,i),Gg(e,s,o)),o}function Ov(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function z2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sN(e,t){z2(e,t),(e=e.alternate)&&z2(e,t)}function lW(){return null}var H4=typeof reportError=="function"?reportError:function(e){console.error(e)};function aN(e){this._internalRoot=e}Nx.prototype.render=aN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(be(409));Sx(e,t,null,null)};Nx.prototype.unmount=aN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vc(function(){Sx(null,e,null,null)}),t[Bi]=null}};function Nx(e){this._internalRoot=e}Nx.prototype.unstable_scheduleHydration=function(e){if(e){var t=S$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Oo.length&&t!==0&&t<Oo[r].priority;r++);Oo.splice(r,0,e),r===0&&k$(e)}};function iN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function W2(){}function cW(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ov(o);i.call(u)}}var o=K4(t,n,e,0,null,!1,!1,"",W2);return e._reactRootContainer=o,e[Bi]=o.current,Yh(e.nodeType===8?e.parentNode:e),vc(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Ov(c);l.call(u)}}var c=nN(e,0,!1,null,null,!1,!1,"",W2);return e._reactRootContainer=c,e[Bi]=c.current,Yh(e.nodeType===8?e.parentNode:e),vc(function(){Sx(t,c,r,n)}),c}function Cx(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Ov(o);l.call(c)}}Sx(t,o,e,s)}else o=cW(r,t,e,s,n);return Ov(o)}j$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=hh(t.pendingLanes);r!==0&&(NS(t,r|1),Jn(t,_r()),!(Nt&6)&&(gd=_r()+500,gl()))}break;case 13:vc(function(){var n=zi(e,1);if(n!==null){var s=Mn();_a(n,e,1,s)}}),sN(e,1)}};kS=function(e){if(e.tag===13){var t=zi(e,134217728);if(t!==null){var r=Mn();_a(t,e,134217728,r)}sN(e,134217728)}};_$=function(e){if(e.tag===13){var t=tl(e),r=zi(e,t);if(r!==null){var n=Mn();_a(r,e,t,n)}sN(e,t)}};S$=function(){return Lt};N$=function(e,t){var r=Lt;try{return Lt=e,t()}finally{Lt=r}};lj=function(e,t,r){switch(t){case"input":if(tj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=vx(n);if(!s)throw Error(be(90));r$(n),tj(n,s)}}}break;case"textarea":s$(e,r);break;case"select":t=r.value,t!=null&&Lu(e,!!r.multiple,t,!1)}};d$=ZS;f$=vc;var uW={usingClientEntryPoint:!1,Events:[fp,ku,vx,c$,u$,ZS]},zf={findFiberByHostInstance:ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dW={bundleType:zf.bundleType,version:zf.version,rendererPackageName:zf.rendererPackageName,rendererConfig:zf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=p$(e),e===null?null:e.stateNode},findFiberByHostInstance:zf.findFiberByHostInstance||lW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ag=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ag.isDisabled&&ag.supportsFiber)try{hx=ag.inject(dW),Za=ag}catch{}}ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uW;ws.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iN(t))throw Error(be(200));return oW(e,t,null,r)};ws.createRoot=function(e,t){if(!iN(e))throw Error(be(299));var r=!1,n="",s=H4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=nN(e,1,!1,null,null,r,!1,n,s),e[Bi]=t.current,Yh(e.nodeType===8?e.parentNode:e),new aN(t)};ws.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(be(188)):(e=Object.keys(e).join(","),Error(be(268,e)));return e=p$(t),e=e===null?null:e.stateNode,e};ws.flushSync=function(e){return vc(e)};ws.hydrate=function(e,t,r){if(!kx(t))throw Error(be(200));return Cx(null,e,t,!0,r)};ws.hydrateRoot=function(e,t,r){if(!iN(e))throw Error(be(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=H4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=K4(t,null,e,1,r??null,s,!1,i,o),e[Bi]=t.current,Yh(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Nx(t)};ws.render=function(e,t,r){if(!kx(t))throw Error(be(200));return Cx(null,e,t,!1,r)};ws.unmountComponentAtNode=function(e){if(!kx(e))throw Error(be(40));return e._reactRootContainer?(vc(function(){Cx(null,null,e,!1,function(){e._reactRootContainer=null,e[Bi]=null})}),!0):!1};ws.unstable_batchedUpdates=ZS;ws.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kx(r))throw Error(be(200));if(e==null||e._reactInternals===void 0)throw Error(be(38));return Cx(e,t,r,!1,n)};ws.version="18.3.1-next-f1338f8080-20240426";function G4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G4)}catch(e){console.error(e)}}G4(),GM.exports=ws;var nf=GM.exports;const Y4=zt(nf);var V2=nf;G0.createRoot=V2.createRoot,G0.hydrateRoot=V2.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(this,arguments)}var Ko;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ko||(Ko={}));const K2="popstate";function fW(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return qj("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Av(s)}return mW(t,r,null,e)}function pr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function oN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hW(){return Math.random().toString(36).substr(2,8)}function H2(e,t){return{usr:e.state,key:e.key,idx:t}}function qj(e,t,r,n){return r===void 0&&(r=null),sm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sf(t):t,{state:r,key:t&&t.key||n||hW()})}function Av(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function mW(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Ko.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(sm({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ko.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:b})}function h(x,b){l=Ko.Push;let y=qj(p.location,x,b);u=d()+1;let w=H2(y,u),_=p.createHref(y);try{o.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function m(x,b){l=Ko.Replace;let y=qj(p.location,x,b);u=d();let w=H2(y,u),_=p.createHref(y);o.replaceState(w,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function g(x){let b=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:Av(x);return y=y.replace(/ $/,"%20"),pr(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let p={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(K2,f),c=x,()=>{s.removeEventListener(K2,f),c=null}},createHref(x){return t(s,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(x){return o.go(x)}};return p}var G2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(G2||(G2={}));function pW(e,t,r){return r===void 0&&(r="/"),gW(e,t,r)}function gW(e,t,r,n){let s=typeof t=="string"?sf(t):t,i=vd(s.pathname||"/",r);if(i==null)return null;let o=Q4(e);vW(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=EW(i);l=kW(o[c],u)}return l}function Q4(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(pr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=nl([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(pr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Q4(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:SW(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of X4(i.path))s(i,o,c)}),t}function X4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=X4(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function vW(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:NW(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const yW=/^:[\w-]+$/,xW=3,bW=2,wW=1,jW=10,_W=-2,Y2=e=>e==="*";function SW(e,t){let r=e.split("/"),n=r.length;return r.some(Y2)&&(n+=_W),t&&(n+=bW),r.filter(s=>!Y2(s)).reduce((s,i)=>s+(yW.test(i)?xW:i===""?wW:jW),n)}function NW(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function kW(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Bj({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:nl([i,f.pathname]),pathnameBase:RW(nl([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=nl([i,f.pathnameBase]))}return o}function Bj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=CW(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function CW(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),oN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function EW(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const PW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OW=e=>PW.test(e);function AW(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?sf(e):e,i;if(r)if(OW(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),oN(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Q2(r.substring(1),"/"):i=Q2(r,t)}else i=t;return{pathname:i,search:MW(n),hash:$W(s)}}function Q2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Tw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TW(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lN(e,t){let r=TW(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function cN(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=sf(e):(s=sm({},e),pr(!s.pathname||!s.pathname.includes("?"),Tw("?","pathname","search",s)),pr(!s.pathname||!s.pathname.includes("#"),Tw("#","pathname","hash",s)),pr(!s.search||!s.search.includes("#"),Tw("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=AW(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const nl=e=>e.join("/").replace(/\/\/+/g,"/"),RW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),MW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$W=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const J4=["post","put","patch","delete"];new Set(J4);const DW=["get",...J4];new Set(DW);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},am.apply(this,arguments)}const Ex=v.createContext(null),Z4=v.createContext(null),to=v.createContext(null),Px=v.createContext(null),li=v.createContext({outlet:null,matches:[],isDataRoute:!1}),eI=v.createContext(null);function LW(e,t){let{relative:r}=t===void 0?{}:t;af()||pr(!1);let{basename:n,navigator:s}=v.useContext(to),{hash:i,pathname:o,search:l}=Ox(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:nl([n,o])),s.createHref({pathname:c,search:l,hash:i})}function af(){return v.useContext(Px)!=null}function ci(){return af()||pr(!1),v.useContext(Px).location}function tI(e){v.useContext(to).static||v.useLayoutEffect(e)}function ro(){let{isDataRoute:e}=v.useContext(li);return e?eV():FW()}function FW(){af()||pr(!1);let e=v.useContext(Ex),{basename:t,future:r,navigator:n}=v.useContext(to),{matches:s}=v.useContext(li),{pathname:i}=ci(),o=JSON.stringify(lN(s,r.v7_relativeSplatPath)),l=v.useRef(!1);return tI(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=cN(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:nl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const UW=v.createContext(null);function qW(e){let t=v.useContext(li).outlet;return t&&v.createElement(UW.Provider,{value:e},t)}function BW(){let{matches:e}=v.useContext(li),t=e[e.length-1];return t?t.params:{}}function Ox(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(to),{matches:s}=v.useContext(li),{pathname:i}=ci(),o=JSON.stringify(lN(s,n.v7_relativeSplatPath));return v.useMemo(()=>cN(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function zW(e,t){return WW(e,t)}function WW(e,t,r,n){af()||pr(!1);let{navigator:s}=v.useContext(to),{matches:i}=v.useContext(li),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ci(),d;if(t){var f;let x=typeof t=="string"?sf(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||pr(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=pW(e,{pathname:m}),p=YW(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:nl([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:nl([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&p?v.createElement(Px.Provider,{value:{location:am({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ko.Pop}},p):p}function VW(){let e=ZW(),t=IW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,null)}const KW=v.createElement(VW,null);class HW extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(li.Provider,{value:this.props.routeContext},v.createElement(eI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GW(e){let{routeContext:t,match:r,children:n}=e,s=v.useContext(Ex);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(li.Provider,{value:t},n)}function YW(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||pr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,x=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||KW,c&&(u<0&&h===0?(tV("route-fallback"),g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),y=()=>{let w;return m?w=p:g?w=x:f.route.Component?w=v.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,v.createElement(GW,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(HW,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var rI=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rI||{}),nI=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nI||{});function QW(e){let t=v.useContext(Ex);return t||pr(!1),t}function XW(e){let t=v.useContext(Z4);return t||pr(!1),t}function JW(e){let t=v.useContext(li);return t||pr(!1),t}function sI(e){let t=JW(),r=t.matches[t.matches.length-1];return r.route.id||pr(!1),r.route.id}function ZW(){var e;let t=v.useContext(eI),r=XW(),n=sI();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function eV(){let{router:e}=QW(rI.UseNavigateStable),t=sI(nI.UseNavigateStable),r=v.useRef(!1);return tI(()=>{r.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,am({fromRouteId:t},i)))},[e,t])}const X2={};function tV(e,t,r){X2[e]||(X2[e]=!0)}function rV(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function nV(e){let{to:t,replace:r,state:n,relative:s}=e;af()||pr(!1);let{future:i,static:o}=v.useContext(to),{matches:l}=v.useContext(li),{pathname:c}=ci(),u=ro(),d=cN(t,lN(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function aI(e){return qW(e.context)}function yt(e){pr(!1)}function sV(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ko.Pop,navigator:i,static:o=!1,future:l}=e;af()&&pr(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:o,future:am({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=sf(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=v.useMemo(()=>{let x=vd(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:g},navigationType:s}},[c,d,f,h,m,g,s]);return p==null?null:v.createElement(to.Provider,{value:u},v.createElement(Px.Provider,{children:r,value:p}))}function aV(e){let{children:t,location:r}=e;return zW(zj(t),r)}new Promise(()=>{});function zj(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let i=[...t,s];if(n.type===v.Fragment){r.push.apply(r,zj(n.props.children,i));return}n.type!==yt&&pr(!1),!n.props.index||!n.props.children||pr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=zj(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(this,arguments)}function iI(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function iV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oV(e,t){return e.button===0&&(!t||t==="_self")&&!iV(e)}function Wj(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function lV(e,t){let r=Wj(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const cV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uV=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],dV="6";try{window.__reactRouterVersion=dV}catch{}const fV=v.createContext({isTransitioning:!1}),hV="startTransition",J2=fx[hV];function mV(e){let{basename:t,children:r,future:n,window:s}=e,i=v.useRef();i.current==null&&(i.current=fW({window:s,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=v.useCallback(f=>{u&&J2?J2(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>rV(n),[n]),v.createElement(sV,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const pV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe=v.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=iI(t,cV),{basename:m}=v.useContext(to),g,p=!1;if(typeof u=="string"&&gV.test(u)&&(g=u,pV))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=vd(_.pathname,m);_.origin===w.origin&&j!=null?u=j+_.search+_.hash:p=!0}catch{}let x=LW(u,{relative:s}),b=yV(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||b(w)}return v.createElement("a",Tv({},h,{href:g||x,onClick:p||i?n:y,ref:r,target:c}))}),oI=v.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=iI(t,uV),h=Ox(c,{relative:f.relative}),m=ci(),g=v.useContext(Z4),{navigator:p,basename:x}=v.useContext(to),b=g!=null&&xV(h)&&u===!0,y=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,w=m.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(w=w.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&x&&(_=vd(_,x)||_);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=w===y||!o&&w.startsWith(y)&&w.charAt(j)==="/",N=_!=null&&(_===y||!o&&_.startsWith(y)&&_.charAt(y.length)==="/"),k={isActive:S,isPending:N,isTransitioning:b},C=S?n:void 0,O;typeof i=="function"?O=i(k):O=[i,S?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(k):l;return v.createElement(fe,Tv({},f,{"aria-current":C,className:O,ref:r,style:L,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var Vj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vj||(Vj={}));var Z2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Z2||(Z2={}));function vV(e){let t=v.useContext(Ex);return t||pr(!1),t}function yV(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ro(),u=ci(),d=Ox(e,{relative:o});return v.useCallback(f=>{if(oV(f,r)){f.preventDefault();let h=n!==void 0?n:Av(u)===Av(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function lI(e){let t=v.useRef(Wj(e)),r=v.useRef(!1),n=ci(),s=v.useMemo(()=>lV(n.search,r.current?null:t.current),[n.search]),i=ro(),o=v.useCallback((l,c)=>{const u=Wj(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function xV(e,t){t===void 0&&(t={});let r=v.useContext(fV);r==null&&pr(!1);let{basename:n}=vV(Vj.useViewTransitionState),s=Ox(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=vd(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=vd(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Bj(s.pathname,o)!=null||Bj(s.pathname,i)!=null}var of=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bV={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},$o,fS,kM,wV=(kM=class{constructor(){Ve(this,$o,bV);Ve(this,fS,!1)}setTimeoutProvider(e){Te(this,$o,e)}setTimeout(e,t){return W(this,$o).setTimeout(e,t)}clearTimeout(e){W(this,$o).clearTimeout(e)}setInterval(e,t){return W(this,$o).setInterval(e,t)}clearInterval(e){W(this,$o).clearInterval(e)}},$o=new WeakMap,fS=new WeakMap,kM),Wl=new wV;function jV(e){setTimeout(e,0)}var yc=typeof window>"u"||"Deno"in globalThis;function An(){}function _V(e,t){return typeof e=="function"?e(t):e}function Kj(e){return typeof e=="number"&&e>=0&&e!==1/0}function cI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sl(e,t){return typeof e=="function"?e(t):e}function Es(e,t){return typeof e=="function"?e(t):e}function eE(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==uN(o,t.options))return!1}else if(!im(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function tE(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(xc(t.options.mutationKey)!==xc(i))return!1}else if(!im(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function uN(e,t){return((t==null?void 0:t.queryKeyHashFn)||xc)(e)}function xc(e){return JSON.stringify(e,(t,r)=>Hj(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function im(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>im(e[r],t[r])):!1}var SV=Object.prototype.hasOwnProperty;function uI(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=rE(e)&&rE(t);if(!n&&!(Hj(e)&&Hj(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:o[d],h=e[f],m=t[f];if(h===m){c[f]=h,(n?d<i:SV.call(e,f))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){c[f]=m;continue}const g=uI(h,m,r+1);c[f]=g,g===h&&u++}return i===l&&u===i?e:c}function Rv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function rE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Hj(e){if(!nE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!nE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function nE(e){return Object.prototype.toString.call(e)==="[object Object]"}function NV(e){return new Promise(t=>{Wl.setTimeout(t,e)})}function Gj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?uI(e,t):t}function kV(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function CV(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var dN=Symbol();function dI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===dN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function fN(e,t){return typeof e=="function"?e(...t):!!e}function EV(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var Zl,Io,Ju,CM,PV=(CM=class extends of{constructor(){super();Ve(this,Zl);Ve(this,Io);Ve(this,Ju);Te(this,Ju,t=>{if(!yc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){W(this,Io)||this.setEventListener(W(this,Ju))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Io))==null||t.call(this),Te(this,Io,void 0))}setEventListener(t){var r;Te(this,Ju,t),(r=W(this,Io))==null||r.call(this),Te(this,Io,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){W(this,Zl)!==t&&(Te(this,Zl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof W(this,Zl)=="boolean"?W(this,Zl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Zl=new WeakMap,Io=new WeakMap,Ju=new WeakMap,CM),hN=new PV;function Yj(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var OV=jV;function AV(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=OV;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var zr=AV(),Zu,Do,ed,EM,TV=(EM=class extends of{constructor(){super();Ve(this,Zu,!0);Ve(this,Do);Ve(this,ed);Te(this,ed,t=>{if(!yc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){W(this,Do)||this.setEventListener(W(this,ed))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Do))==null||t.call(this),Te(this,Do,void 0))}setEventListener(t){var r;Te(this,ed,t),(r=W(this,Do))==null||r.call(this),Te(this,Do,t(this.setOnline.bind(this)))}setOnline(t){W(this,Zu)!==t&&(Te(this,Zu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return W(this,Zu)}},Zu=new WeakMap,Do=new WeakMap,ed=new WeakMap,EM),Mv=new TV;function RV(e){return Math.min(1e3*2**e,3e4)}function fI(e){return(e??"online")==="online"?Mv.isOnline():!0}var Qj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function hI(e){let t=!1,r=0,n;const s=Yj(),i=()=>s.status!=="pending",o=p=>{var x;if(!i()){const b=new Qj(p);h(b),(x=e.onCancel)==null||x.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>hN.isFocused()&&(e.networkMode==="always"||Mv.isOnline())&&e.canRun(),d=()=>fI(e.networkMode)&&e.canRun(),f=p=>{i()||(n==null||n(),s.resolve(p))},h=p=>{i()||(n==null||n(),s.reject(p))},m=()=>new Promise(p=>{var x;n=b=>{(i()||u())&&p(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;n=void 0,i()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(i())return;let p;const x=r===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var S;if(i())return;const y=e.retry??(yc?0:3),w=e.retryDelay??RV,_=typeof w=="function"?w(r,b):w,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(t||!j){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),NV(_).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var ec,PM,mI=(PM=class{constructor(){Ve(this,ec)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kj(this.gcTime)&&Te(this,ec,Wl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yc?1/0:5*60*1e3))}clearGcTimeout(){W(this,ec)&&(Wl.clearTimeout(W(this,ec)),Te(this,ec,void 0))}},ec=new WeakMap,PM),tc,td,Cs,rc,Xr,sp,nc,da,vi,OM,MV=(OM=class extends mI{constructor(t){super();Ve(this,da);Ve(this,tc);Ve(this,td);Ve(this,Cs);Ve(this,rc);Ve(this,Xr);Ve(this,sp);Ve(this,nc);Te(this,nc,!1),Te(this,sp,t.defaultOptions),this.setOptions(t.options),this.observers=[],Te(this,rc,t.client),Te(this,Cs,W(this,rc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Te(this,tc,aE(this.options)),this.state=t.state??W(this,tc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,Xr))==null?void 0:t.promise}setOptions(t){if(this.options={...W(this,sp),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=aE(this.options);r.data!==void 0&&(this.setState(sE(r.data,r.dataUpdatedAt)),Te(this,tc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Cs).remove(this)}setData(t,r){const n=Gj(this.state.data,t,this.options);return dt(this,da,vi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){dt(this,da,vi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=W(this,Xr))==null?void 0:n.promise;return(s=W(this,Xr))==null||s.cancel(t),r?r.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,tc))}isActive(){return this.observers.some(t=>Es(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>sl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cI(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,Xr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,Xr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,Cs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(W(this,Xr)&&(W(this,nc)?W(this,Xr).cancel({revert:!0}):W(this,Xr).cancelRetry()),this.scheduleGc()),W(this,Cs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||dt(this,da,vi).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,g,p,x,b,y,w;if(this.state.fetchStatus!=="idle"&&((c=W(this,Xr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,Xr))return W(this,Xr).continueRetry(),W(this,Xr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(j=>j.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Te(this,nc,!0),n.signal)})},i=()=>{const _=dI(this.options,r),S=(()=>{const N={client:W(this,rc),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return Te(this,nc,!1),this.options.persister?this.options.persister(_,S,this):_(S)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:W(this,rc),state:this.state,fetchFn:i};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Te(this,td,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&dt(this,da,vi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Te(this,Xr,hI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof Qj&&_.revert&&this.setState({...W(this,td),fetchStatus:"idle"}),n.abort()},onFail:(_,j)=>{dt(this,da,vi).call(this,{type:"failed",failureCount:_,error:j})},onPause:()=>{dt(this,da,vi).call(this,{type:"pause"})},onContinue:()=>{dt(this,da,vi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await W(this,Xr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(m=(h=W(this,Cs).config).onSuccess)==null||m.call(h,_,this),(p=(g=W(this,Cs).config).onSettled)==null||p.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof Qj){if(_.silent)return W(this,Xr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw dt(this,da,vi).call(this,{type:"error",error:_}),(b=(x=W(this,Cs).config).onError)==null||b.call(x,_,this),(w=(y=W(this,Cs).config).onSettled)==null||w.call(y,this.state.data,_,this),_}finally{this.scheduleGc()}}},tc=new WeakMap,td=new WeakMap,Cs=new WeakMap,rc=new WeakMap,Xr=new WeakMap,sp=new WeakMap,nc=new WeakMap,da=new WeakSet,vi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...pI(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...sE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Te(this,td,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),zr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),W(this,Cs).notify({query:this,type:"updated",action:t})})},OM);function pI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function sE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function aE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zn,wt,ap,En,sc,rd,wi,Lo,ip,nd,sd,ac,ic,Fo,ad,$t,ph,Xj,Jj,Zj,e_,t_,r_,n_,gI,AM,$V=(AM=class extends of{constructor(t,r){super();Ve(this,$t);Ve(this,zn);Ve(this,wt);Ve(this,ap);Ve(this,En);Ve(this,sc);Ve(this,rd);Ve(this,wi);Ve(this,Lo);Ve(this,ip);Ve(this,nd);Ve(this,sd);Ve(this,ac);Ve(this,ic);Ve(this,Fo);Ve(this,ad,new Set);this.options=r,Te(this,zn,t),Te(this,Lo,null),Te(this,wi,Yj()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,wt).addObserver(this),iE(W(this,wt),this.options)?dt(this,$t,ph).call(this):this.updateResult(),dt(this,$t,e_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return s_(W(this,wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return s_(W(this,wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,dt(this,$t,t_).call(this),dt(this,$t,r_).call(this),W(this,wt).removeObserver(this)}setOptions(t){const r=this.options,n=W(this,wt);if(this.options=W(this,zn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Es(this.options.enabled,W(this,wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");dt(this,$t,n_).call(this),W(this,wt).setOptions(this.options),r._defaulted&&!Rv(this.options,r)&&W(this,zn).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,wt),observer:this});const s=this.hasListeners();s&&oE(W(this,wt),n,this.options,r)&&dt(this,$t,ph).call(this),this.updateResult(),s&&(W(this,wt)!==n||Es(this.options.enabled,W(this,wt))!==Es(r.enabled,W(this,wt))||sl(this.options.staleTime,W(this,wt))!==sl(r.staleTime,W(this,wt)))&&dt(this,$t,Xj).call(this);const i=dt(this,$t,Jj).call(this);s&&(W(this,wt)!==n||Es(this.options.enabled,W(this,wt))!==Es(r.enabled,W(this,wt))||i!==W(this,Fo))&&dt(this,$t,Zj).call(this,i)}getOptimisticResult(t){const r=W(this,zn).getQueryCache().build(W(this,zn),t),n=this.createResult(r,t);return DV(this,n)&&(Te(this,En,n),Te(this,rd,this.options),Te(this,sc,W(this,wt).state)),n}getCurrentResult(){return W(this,En)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&W(this,wi).status==="pending"&&W(this,wi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){W(this,ad).add(t)}getCurrentQuery(){return W(this,wt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=W(this,zn).defaultQueryOptions(t),n=W(this,zn).getQueryCache().build(W(this,zn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return dt(this,$t,ph).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,En)))}createResult(t,r){var C;const n=W(this,wt),s=this.options,i=W(this,En),o=W(this,sc),l=W(this,rd),u=t!==n?t.state:W(this,ap),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const O=this.hasListeners(),L=!O&&iE(t,r),E=O&&oE(t,n,r,s);(L||E)&&(f={...f,...pI(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:x}=f;m=f.data;let b=!1;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let O;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(O=i.data,b=!0):O=typeof r.placeholderData=="function"?r.placeholderData((C=W(this,sd))==null?void 0:C.state.data,W(this,sd)):r.placeholderData,O!==void 0&&(x="success",m=Gj(i==null?void 0:i.data,O,r),h=!0)}if(r.select&&m!==void 0&&!b)if(i&&m===(o==null?void 0:o.data)&&r.select===W(this,ip))m=W(this,nd);else try{Te(this,ip,r.select),m=r.select(m),m=Gj(i==null?void 0:i.data,m,r),Te(this,nd,m),Te(this,Lo,null)}catch(O){Te(this,Lo,O)}W(this,Lo)&&(g=W(this,Lo),m=W(this,nd),p=Date.now(),x="error");const y=f.fetchStatus==="fetching",w=x==="pending",_=x==="error",j=w&&y,S=m!==void 0,k={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:_,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:_&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:mN(t,r),refetch:this.refetch,promise:W(this,wi),isEnabled:Es(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=k.data!==void 0,L=k.status==="error"&&!O,E=K=>{L?K.reject(k.error):O&&K.resolve(k.data)},F=()=>{const K=Te(this,wi,k.promise=Yj());E(K)},$=W(this,wi);switch($.status){case"pending":t.queryHash===n.queryHash&&E($);break;case"fulfilled":(L||k.data!==$.value)&&F();break;case"rejected":(!L||k.error!==$.reason)&&F();break}}return k}updateResult(){const t=W(this,En),r=this.createResult(W(this,wt),this.options);if(Te(this,sc,W(this,wt).state),Te(this,rd,this.options),W(this,sc).data!==void 0&&Te(this,sd,W(this,wt)),Rv(r,t))return;Te(this,En,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!W(this,ad).size)return!0;const o=new Set(i??W(this,ad));return this.options.throwOnError&&o.add("error"),Object.keys(W(this,En)).some(l=>{const c=l;return W(this,En)[c]!==t[c]&&o.has(c)})};dt(this,$t,gI).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&dt(this,$t,e_).call(this)}},zn=new WeakMap,wt=new WeakMap,ap=new WeakMap,En=new WeakMap,sc=new WeakMap,rd=new WeakMap,wi=new WeakMap,Lo=new WeakMap,ip=new WeakMap,nd=new WeakMap,sd=new WeakMap,ac=new WeakMap,ic=new WeakMap,Fo=new WeakMap,ad=new WeakMap,$t=new WeakSet,ph=function(t){dt(this,$t,n_).call(this);let r=W(this,wt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(An)),r},Xj=function(){dt(this,$t,t_).call(this);const t=sl(this.options.staleTime,W(this,wt));if(yc||W(this,En).isStale||!Kj(t))return;const n=cI(W(this,En).dataUpdatedAt,t)+1;Te(this,ac,Wl.setTimeout(()=>{W(this,En).isStale||this.updateResult()},n))},Jj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,wt)):this.options.refetchInterval)??!1},Zj=function(t){dt(this,$t,r_).call(this),Te(this,Fo,t),!(yc||Es(this.options.enabled,W(this,wt))===!1||!Kj(W(this,Fo))||W(this,Fo)===0)&&Te(this,ic,Wl.setInterval(()=>{(this.options.refetchIntervalInBackground||hN.isFocused())&&dt(this,$t,ph).call(this)},W(this,Fo)))},e_=function(){dt(this,$t,Xj).call(this),dt(this,$t,Zj).call(this,dt(this,$t,Jj).call(this))},t_=function(){W(this,ac)&&(Wl.clearTimeout(W(this,ac)),Te(this,ac,void 0))},r_=function(){W(this,ic)&&(Wl.clearInterval(W(this,ic)),Te(this,ic,void 0))},n_=function(){const t=W(this,zn).getQueryCache().build(W(this,zn),this.options);if(t===W(this,wt))return;const r=W(this,wt);Te(this,wt,t),Te(this,ap,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},gI=function(t){zr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(W(this,En))}),W(this,zn).getQueryCache().notify({query:W(this,wt),type:"observerResultsUpdated"})})},AM);function IV(e,t){return Es(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function iE(e,t){return IV(e,t)||e.state.data!==void 0&&s_(e,t,t.refetchOnMount)}function s_(e,t,r){if(Es(t.enabled,e)!==!1&&sl(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&mN(e,t)}return!1}function oE(e,t,r,n){return(e!==t||Es(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&mN(e,r)}function mN(e,t){return Es(t.enabled,e)!==!1&&e.isStaleByTime(sl(t.staleTime,e))}function DV(e,t){return!Rv(e.getCurrentResult(),t)}function lE(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=w=>{EV(w,()=>t.signal,()=>p=!0)},b=dI(t.options,t.fetchOptions),y=async(w,_,j)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return x(L),L})(),k=await b(N),{maxPages:C}=t.options,O=j?CV:kV;return{pages:O(w.pages,k,C),pageParams:O(w.pageParams,_,C)}};if(s&&i.length){const w=s==="backward",_=w?LV:cE,j={pages:i,pageParams:o},S=_(n,j);l=await y(j,S,w)}else{const w=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:cE(n,l);if(c>0&&_==null)break;l=await y(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function cE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function LV(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var op,Wa,yn,oc,Va,jo,TM,FV=(TM=class extends mI{constructor(t){super();Ve(this,Va);Ve(this,op);Ve(this,Wa);Ve(this,yn);Ve(this,oc);Te(this,op,t.client),this.mutationId=t.mutationId,Te(this,yn,t.mutationCache),Te(this,Wa,[]),this.state=t.state||vI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,Wa).includes(t)||(W(this,Wa).push(t),this.clearGcTimeout(),W(this,yn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Te(this,Wa,W(this,Wa).filter(r=>r!==t)),this.scheduleGc(),W(this,yn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,Wa).length||(this.state.status==="pending"?this.scheduleGc():W(this,yn).remove(this))}continue(){var t;return((t=W(this,oc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,g,p,x,b,y,w,_,j,S,N;const r=()=>{dt(this,Va,jo).call(this,{type:"continue"})},n={client:W(this,op),meta:this.options.meta,mutationKey:this.options.mutationKey};Te(this,oc,hI({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{dt(this,Va,jo).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{dt(this,Va,jo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,yn).canRun(this)}));const s=this.state.status==="pending",i=!W(this,oc).canStart();try{if(s)r();else{dt(this,Va,jo).call(this,{type:"pending",variables:t,isPaused:i}),W(this,yn).config.onMutate&&await W(this,yn).config.onMutate(t,this,n);const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));C!==this.state.context&&dt(this,Va,jo).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const k=await W(this,oc).start();return await((u=(c=W(this,yn).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,n)),await((m=(h=W(this,yn).config).onSettled)==null?void 0:m.call(h,k,null,this.state.variables,this.state.context,this,n)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,k,null,t,this.state.context,n)),dt(this,Va,jo).call(this,{type:"success",data:k}),k}catch(k){try{await((b=(x=W(this,yn).config).onError)==null?void 0:b.call(x,k,t,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((w=(y=this.options).onError)==null?void 0:w.call(y,k,t,this.state.context,n))}catch(C){Promise.reject(C)}try{await((j=(_=W(this,yn).config).onSettled)==null?void 0:j.call(_,void 0,k,this.state.variables,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((N=(S=this.options).onSettled)==null?void 0:N.call(S,void 0,k,t,this.state.context,n))}catch(C){Promise.reject(C)}throw dt(this,Va,jo).call(this,{type:"error",error:k}),k}finally{W(this,yn).runNext(this)}}},op=new WeakMap,Wa=new WeakMap,yn=new WeakMap,oc=new WeakMap,Va=new WeakSet,jo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zr.batch(()=>{W(this,Wa).forEach(n=>{n.onMutationUpdate(t)}),W(this,yn).notify({mutation:this,type:"updated",action:t})})},TM);function vI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ji,fa,lp,RM,UV=(RM=class extends of{constructor(t={}){super();Ve(this,ji);Ve(this,fa);Ve(this,lp);this.config=t,Te(this,ji,new Set),Te(this,fa,new Map),Te(this,lp,0)}build(t,r,n){const s=new FV({client:t,mutationCache:this,mutationId:++qp(this,lp)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){W(this,ji).add(t);const r=ig(t);if(typeof r=="string"){const n=W(this,fa).get(r);n?n.push(t):W(this,fa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(W(this,ji).delete(t)){const r=ig(t);if(typeof r=="string"){const n=W(this,fa).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&W(this,fa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ig(t);if(typeof r=="string"){const n=W(this,fa).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=ig(t);if(typeof r=="string"){const s=(n=W(this,fa).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zr.batch(()=>{W(this,ji).forEach(t=>{this.notify({type:"removed",mutation:t})}),W(this,ji).clear(),W(this,fa).clear()})}getAll(){return Array.from(W(this,ji))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>tE(r,n))}findAll(t={}){return this.getAll().filter(r=>tE(t,r))}notify(t){zr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return zr.batch(()=>Promise.all(t.map(r=>r.continue().catch(An))))}},ji=new WeakMap,fa=new WeakMap,lp=new WeakMap,RM);function ig(e){var t;return(t=e.options.scope)==null?void 0:t.id}var _i,Uo,Wn,Si,Ui,tv,a_,MM,qV=(MM=class extends of{constructor(r,n){super();Ve(this,Ui);Ve(this,_i);Ve(this,Uo);Ve(this,Wn);Ve(this,Si);Te(this,_i,r),this.setOptions(n),this.bindMethods(),dt(this,Ui,tv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=W(this,_i).defaultMutationOptions(r),Rv(this.options,n)||W(this,_i).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,Wn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&xc(n.mutationKey)!==xc(this.options.mutationKey)?this.reset():((s=W(this,Wn))==null?void 0:s.state.status)==="pending"&&W(this,Wn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=W(this,Wn))==null||r.removeObserver(this)}onMutationUpdate(r){dt(this,Ui,tv).call(this),dt(this,Ui,a_).call(this,r)}getCurrentResult(){return W(this,Uo)}reset(){var r;(r=W(this,Wn))==null||r.removeObserver(this),Te(this,Wn,void 0),dt(this,Ui,tv).call(this),dt(this,Ui,a_).call(this)}mutate(r,n){var s;return Te(this,Si,n),(s=W(this,Wn))==null||s.removeObserver(this),Te(this,Wn,W(this,_i).getMutationCache().build(W(this,_i),this.options)),W(this,Wn).addObserver(this),W(this,Wn).execute(r)}},_i=new WeakMap,Uo=new WeakMap,Wn=new WeakMap,Si=new WeakMap,Ui=new WeakSet,tv=function(){var n;const r=((n=W(this,Wn))==null?void 0:n.state)??vI();Te(this,Uo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},a_=function(r){zr.batch(()=>{var n,s,i,o,l,c,u,d;if(W(this,Si)&&this.hasListeners()){const f=W(this,Uo).variables,h=W(this,Uo).context,m={client:W(this,_i),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=W(this,Si)).onSuccess)==null||s.call(n,r.data,f,h,m)}catch(g){Promise.reject(g)}try{(o=(i=W(this,Si)).onSettled)==null||o.call(i,r.data,null,f,h,m)}catch(g){Promise.reject(g)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=W(this,Si)).onError)==null||c.call(l,r.error,f,h,m)}catch(g){Promise.reject(g)}try{(d=(u=W(this,Si)).onSettled)==null||d.call(u,void 0,r.error,f,h,m)}catch(g){Promise.reject(g)}}}this.listeners.forEach(f=>{f(W(this,Uo))})})},MM),Ka,$M,BV=($M=class extends of{constructor(t={}){super();Ve(this,Ka);this.config=t,Te(this,Ka,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??uN(s,r);let o=this.get(i);return o||(o=new MV({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){W(this,Ka).has(t.queryHash)||(W(this,Ka).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=W(this,Ka).get(t.queryHash);r&&(t.destroy(),r===t&&W(this,Ka).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,Ka).get(t)}getAll(){return[...W(this,Ka).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>eE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>eE(t,n)):r}notify(t){zr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){zr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ka=new WeakMap,$M),yr,qo,Bo,id,od,zo,ld,cd,IM,zV=(IM=class{constructor(e={}){Ve(this,yr);Ve(this,qo);Ve(this,Bo);Ve(this,id);Ve(this,od);Ve(this,zo);Ve(this,ld);Ve(this,cd);Te(this,yr,e.queryCache||new BV),Te(this,qo,e.mutationCache||new UV),Te(this,Bo,e.defaultOptions||{}),Te(this,id,new Map),Te(this,od,new Map),Te(this,zo,0)}mount(){qp(this,zo)._++,W(this,zo)===1&&(Te(this,ld,hN.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,yr).onFocus())})),Te(this,cd,Mv.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,yr).onOnline())})))}unmount(){var e,t;qp(this,zo)._--,W(this,zo)===0&&((e=W(this,ld))==null||e.call(this),Te(this,ld,void 0),(t=W(this,cd))==null||t.call(this),Te(this,cd,void 0))}isFetching(e){return W(this,yr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,qo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,yr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=W(this,yr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(sl(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return W(this,yr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=W(this,yr).get(n.queryHash),i=s==null?void 0:s.state.data,o=_V(t,i);if(o!==void 0)return W(this,yr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return zr.batch(()=>W(this,yr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,yr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=W(this,yr);zr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=W(this,yr);return zr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=zr.batch(()=>W(this,yr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(An).catch(An)}invalidateQueries(e,t={}){return zr.batch(()=>(W(this,yr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=zr.batch(()=>W(this,yr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(An)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(An)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=W(this,yr).build(this,t);return r.isStaleByTime(sl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(An).catch(An)}fetchInfiniteQuery(e){return e.behavior=lE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(An).catch(An)}ensureInfiniteQueryData(e){return e.behavior=lE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mv.isOnline()?W(this,qo).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,yr)}getMutationCache(){return W(this,qo)}getDefaultOptions(){return W(this,Bo)}setDefaultOptions(e){Te(this,Bo,e)}setQueryDefaults(e,t){W(this,id).set(xc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,id).values()],r={};return t.forEach(n=>{im(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){W(this,od).set(xc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,od).values()],r={};return t.forEach(n=>{im(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,Bo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=uN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===dN&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,Bo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,yr).clear(),W(this,qo).clear()}},yr=new WeakMap,qo=new WeakMap,Bo=new WeakMap,id=new WeakMap,od=new WeakMap,zo=new WeakMap,ld=new WeakMap,cd=new WeakMap,IM),yI=v.createContext(void 0),ue=e=>{const t=v.useContext(yI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},WV=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(yI.Provider,{value:e,children:t})),xI=v.createContext(!1),VV=()=>v.useContext(xI);xI.Provider;function KV(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var HV=v.createContext(KV()),GV=()=>v.useContext(HV),YV=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?fN(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},QV=e=>{v.useEffect(()=>{e.clearReset()},[e])},XV=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||fN(r,[e.error,n])),JV=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ZV=(e,t)=>e.isLoading&&e.isFetching&&!t,e9=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,uE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function t9(e,t,r){var h,m,g,p;const n=VV(),s=GV(),i=ue(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",JV(o),YV(o,s,l),QV(s);const c=!i.getQueryCache().get(o.queryHash),[u]=v.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(x=>{const b=f?u.subscribe(zr.batchCalls(x)):An;return u.updateResult(),b},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),v.useEffect(()=>{u.setOptions(o)},[o,u]),e9(o,d))throw uE(o,u,s);if(XV({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((p=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||p.call(g,o,d),o.experimental_prefetchInRender&&!yc&&ZV(d,n)){const x=c?uE(o,u,s):l==null?void 0:l.promise;x==null||x.catch(An).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function Se(e,t){return t9(e,$V)}function ce(e,t){const r=ue(),[n]=v.useState(()=>new qV(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const s=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(zr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,l)=>{n.mutate(o,l).catch(An)},[n]);if(s.error&&fN(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var r9=e=>{switch(e){case"success":return a9;case"info":return o9;case"warning":return i9;case"error":return l9;default:return null}},n9=Array(12).fill(0),s9=({visible:e,className:t})=>M.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},M.createElement("div",{className:"sonner-spinner"},n9.map((r,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),a9=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),i9=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),o9=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),l9=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),c9=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),u9=()=>{let[e,t]=M.useState(document.hidden);return M.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},i_=1,d9=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:i_++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],M.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(h9(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||i_++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Vn=new d9,f9=(e,t)=>{let r=(t==null?void 0:t.id)||i_++;return Vn.addToast({title:e,...t,id:r}),r},h9=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",m9=f9,p9=()=>Vn.toasts,g9=()=>Vn.getActiveToasts(),q=Object.assign(m9,{success:Vn.success,info:Vn.info,warning:Vn.warning,error:Vn.error,custom:Vn.custom,message:Vn.message,promise:Vn.promise,dismiss:Vn.dismiss,loading:Vn.loading},{getHistory:p9,getToasts:g9});function v9(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}v9(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function og(e){return e.label!==void 0}var y9=3,x9="32px",b9="16px",dE=4e3,w9=356,j9=14,_9=20,S9=200;function sa(...e){return e.filter(Boolean).join(" ")}function N9(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var k9=e=>{var t,r,n,s,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:x,visibleToasts:b,heights:y,index:w,toasts:_,expanded:j,removeToast:S,defaultRichColors:N,closeButton:k,style:C,cancelButtonStyle:O,actionButtonStyle:L,className:E="",descriptionClassName:F="",duration:$,position:K,gap:T,loadingIcon:V,expandByDefault:R,classNames:I,icons:D,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:A}=e,[re,ye]=M.useState(null),[We,Ke]=M.useState(null),[pe,Ne]=M.useState(!1),[se,ve]=M.useState(!1),[Y,Q]=M.useState(!1),[Xe,He]=M.useState(!1),[bt,ft]=M.useState(!1),[Wt,Cr]=M.useState(0),[mn,_s]=M.useState(0),B=M.useRef(m.duration||$||dE),G=M.useRef(null),z=M.useRef(null),me=w===0,xe=w+1<=b,ie=m.type,Ce=m.dismissible!==!1,Ot=m.className||"",At=m.descriptionClassName||"",Er=M.useMemo(()=>y.findIndex(st=>st.toastId===m.id)||0,[y,m.id]),hi=M.useMemo(()=>{var st;return(st=m.closeButton)!=null?st:k},[m.closeButton,k]),Zs=M.useMemo(()=>m.duration||$||dE,[m.duration,$]),Mf=M.useRef(0),Ua=M.useRef(0),Jc=M.useRef(0),ho=M.useRef(null),[Up,nw]=K.split("-"),$f=M.useMemo(()=>y.reduce((st,Ut,or)=>or>=Er?st:st+Ut.height,0),[y,Er]),$C=u9(),L6=m.invert||h,sw=ie==="loading";Ua.current=M.useMemo(()=>Er*T+$f,[Er,$f]),M.useEffect(()=>{B.current=Zs},[Zs]),M.useEffect(()=>{Ne(!0)},[]),M.useEffect(()=>{let st=z.current;if(st){let Ut=st.getBoundingClientRect().height;return _s(Ut),x(or=>[{toastId:m.id,height:Ut,position:m.position},...or]),()=>x(or=>or.filter(ea=>ea.toastId!==m.id))}},[x,m.id]),M.useLayoutEffect(()=>{if(!pe)return;let st=z.current,Ut=st.style.height;st.style.height="auto";let or=st.getBoundingClientRect().height;st.style.height=Ut,_s(or),x(ea=>ea.find(ta=>ta.toastId===m.id)?ea.map(ta=>ta.toastId===m.id?{...ta,height:or}:ta):[{toastId:m.id,height:or,position:m.position},...ea])},[pe,m.title,m.description,x,m.id]);let mo=M.useCallback(()=>{ve(!0),Cr(Ua.current),x(st=>st.filter(Ut=>Ut.toastId!==m.id)),setTimeout(()=>{S(m)},S9)},[m,S,x,Ua]);M.useEffect(()=>{if(m.promise&&ie==="loading"||m.duration===1/0||m.type==="loading")return;let st;return j||p||A&&$C?(()=>{if(Jc.current<Mf.current){let Ut=new Date().getTime()-Mf.current;B.current=B.current-Ut}Jc.current=new Date().getTime()})():B.current!==1/0&&(Mf.current=new Date().getTime(),st=setTimeout(()=>{var Ut;(Ut=m.onAutoClose)==null||Ut.call(m,m),mo()},B.current)),()=>clearTimeout(st)},[j,p,m,ie,A,$C,mo]),M.useEffect(()=>{m.delete&&mo()},[mo,m.delete]);function F6(){var st,Ut,or;return D!=null&&D.loading?M.createElement("div",{className:sa(I==null?void 0:I.loader,(st=m==null?void 0:m.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":ie==="loading"},D.loading):V?M.createElement("div",{className:sa(I==null?void 0:I.loader,(Ut=m==null?void 0:m.classNames)==null?void 0:Ut.loader,"sonner-loader"),"data-visible":ie==="loading"},V):M.createElement(s9,{className:sa(I==null?void 0:I.loader,(or=m==null?void 0:m.classNames)==null?void 0:or.loader),visible:ie==="loading"})}return M.createElement("li",{tabIndex:0,ref:z,className:sa(E,Ot,I==null?void 0:I.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[ie],(r=m==null?void 0:m.classNames)==null?void 0:r[ie]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":pe,"data-promise":!!m.promise,"data-swiped":bt,"data-removed":se,"data-visible":xe,"data-y-position":Up,"data-x-position":nw,"data-index":w,"data-front":me,"data-swiping":Y,"data-dismissible":Ce,"data-type":ie,"data-invert":L6,"data-swipe-out":Xe,"data-swipe-direction":We,"data-expanded":!!(j||R&&pe),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${se?Wt:Ua.current}px`,"--initial-height":R?"auto":`${mn}px`,...C,...m.style},onDragEnd:()=>{Q(!1),ye(null),ho.current=null},onPointerDown:st=>{sw||!Ce||(G.current=new Date,Cr(Ua.current),st.target.setPointerCapture(st.pointerId),st.target.tagName!=="BUTTON"&&(Q(!0),ho.current={x:st.clientX,y:st.clientY}))},onPointerUp:()=>{var st,Ut,or,ea;if(Xe||!Ce)return;ho.current=null;let ta=Number(((st=z.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),po=Number(((Ut=z.current)==null?void 0:Ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),kl=new Date().getTime()-((or=G.current)==null?void 0:or.getTime()),ra=re==="x"?ta:po,go=Math.abs(ra)/kl;if(Math.abs(ra)>=_9||go>.11){Cr(Ua.current),(ea=m.onDismiss)==null||ea.call(m,m),Ke(re==="x"?ta>0?"right":"left":po>0?"down":"up"),mo(),He(!0),ft(!1);return}Q(!1),ye(null)},onPointerMove:st=>{var Ut,or,ea,ta;if(!ho.current||!Ce||((Ut=window.getSelection())==null?void 0:Ut.toString().length)>0)return;let po=st.clientY-ho.current.y,kl=st.clientX-ho.current.x,ra=(or=e.swipeDirections)!=null?or:N9(K);!re&&(Math.abs(kl)>1||Math.abs(po)>1)&&ye(Math.abs(kl)>Math.abs(po)?"x":"y");let go={x:0,y:0};re==="y"?(ra.includes("top")||ra.includes("bottom"))&&(ra.includes("top")&&po<0||ra.includes("bottom")&&po>0)&&(go.y=po):re==="x"&&(ra.includes("left")||ra.includes("right"))&&(ra.includes("left")&&kl<0||ra.includes("right")&&kl>0)&&(go.x=kl),(Math.abs(go.x)>0||Math.abs(go.y)>0)&&ft(!0),(ea=z.current)==null||ea.style.setProperty("--swipe-amount-x",`${go.x}px`),(ta=z.current)==null||ta.style.setProperty("--swipe-amount-y",`${go.y}px`)}},hi&&!m.jsx?M.createElement("button",{"aria-label":te,"data-disabled":sw,"data-close-button":!0,onClick:sw||!Ce?()=>{}:()=>{var st;mo(),(st=m.onDismiss)==null||st.call(m,m)},className:sa(I==null?void 0:I.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=D==null?void 0:D.close)!=null?i:c9):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:M.createElement(M.Fragment,null,ie||m.icon||m.promise?M.createElement("div",{"data-icon":"",className:sa(I==null?void 0:I.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||F6():null,m.type!=="loading"?m.icon||(D==null?void 0:D[ie])||r9(ie):null):null,M.createElement("div",{"data-content":"",className:sa(I==null?void 0:I.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},M.createElement("div",{"data-title":"",className:sa(I==null?void 0:I.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?M.createElement("div",{"data-description":"",className:sa(F,At,I==null?void 0:I.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&og(m.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||O,onClick:st=>{var Ut,or;og(m.cancel)&&Ce&&((or=(Ut=m.cancel).onClick)==null||or.call(Ut,st),mo())},className:sa(I==null?void 0:I.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&og(m.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||L,onClick:st=>{var Ut,or;og(m.action)&&((or=(Ut=m.action).onClick)==null||or.call(Ut,st),!st.defaultPrevented&&mo())},className:sa(I==null?void 0:I.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function fE(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function C9(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?b9:x9;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var E9=v.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=y9,toastOptions:p,dir:x=fE(),gap:b=j9,loadingIcon:y,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[S,N]=M.useState([]),k=M.useMemo(()=>Array.from(new Set([n].concat(S.filter(A=>A.position).map(A=>A.position)))),[S,n]),[C,O]=M.useState([]),[L,E]=M.useState(!1),[F,$]=M.useState(!1),[K,T]=M.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=M.useRef(null),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=M.useRef(null),D=M.useRef(!1),te=M.useCallback(A=>{N(re=>{var ye;return(ye=re.find(We=>We.id===A.id))!=null&&ye.delete||Vn.dismiss(A.id),re.filter(({id:We})=>We!==A.id)})},[]);return M.useEffect(()=>Vn.subscribe(A=>{if(A.dismiss){N(re=>re.map(ye=>ye.id===A.id?{...ye,delete:!0}:ye));return}setTimeout(()=>{Y4.flushSync(()=>{N(re=>{let ye=re.findIndex(We=>We.id===A.id);return ye!==-1?[...re.slice(0,ye),{...re[ye],...A},...re.slice(ye+1)]:[A,...re]})})})}),[]),M.useEffect(()=>{if(d!=="system"){T(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;let A=window.matchMedia("(prefers-color-scheme: dark)");try{A.addEventListener("change",({matches:re})=>{T(re?"dark":"light")})}catch{A.addListener(({matches:ye})=>{try{T(ye?"dark":"light")}catch(We){console.error(We)}})}},[d]),M.useEffect(()=>{S.length<=1&&E(!1)},[S]),M.useEffect(()=>{let A=re=>{var ye,We;s.every(Ke=>re[Ke]||re.code===Ke)&&(E(!0),(ye=V.current)==null||ye.focus()),re.code==="Escape"&&(document.activeElement===V.current||(We=V.current)!=null&&We.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[s]),M.useEffect(()=>{if(V.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,D.current=!1)}},[V.current]),M.createElement("section",{ref:t,"aria-label":`${_} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((A,re)=>{var ye;let[We,Ke]=A.split("-");return S.length?M.createElement("ol",{key:A,dir:x==="auto"?fE():x,tabIndex:-1,ref:V,className:l,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":We,"data-lifted":L&&S.length>1&&!i,"data-x-position":Ke,style:{"--front-toast-height":`${((ye=C[0])==null?void 0:ye.height)||0}px`,"--width":`${w9}px`,"--gap":`${b}px`,...m,...C9(c,u)},onBlur:pe=>{D.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(D.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||D.current||(D.current=!0,I.current=pe.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{F||E(!1)},onDragEnd:()=>E(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},S.filter(pe=>!pe.position&&re===0||pe.position===A).map((pe,Ne)=>{var se,ve;return M.createElement(k9,{key:pe.id,icons:w,index:Ne,toast:pe,defaultRichColors:f,duration:(se=p==null?void 0:p.duration)!=null?se:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(ve=p==null?void 0:p.closeButton)!=null?ve:o,interacting:F,position:A,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:te,toasts:S.filter(Y=>Y.position==pe.position),heights:C.filter(Y=>Y.position==pe.position),setHeights:O,expandByDefault:i,gap:b,loadingIcon:y,expanded:L,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))}),Ga=function(){return Ga=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ga.apply(this,arguments)};function lf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function P9(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function O9(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const A9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class pN extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class T9 extends pN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hE extends pN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class mE extends pN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var o_;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(o_||(o_={}));class R9{constructor(t,{headers:r={},customFetch:n,region:s=o_.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=A9(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return P9(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let x=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:x}).catch(j=>{throw new T9(j)}),y=b.headers.get("x-relay-error");if(y&&y==="true")throw new hE(b);if(!b.ok)throw new mE(b);let w=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof mE||l instanceof hE?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var M9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},$9=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new M9(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},I9=class extends $9{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const pE=new RegExp("[,()]");var gu=class extends I9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&pE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&pE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},D9=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new gu({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new gu({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new gu({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new gu({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new gu({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},L9=class bI{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new D9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new bI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new gu({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class F9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const U9="2.93.3",q9=`realtime-js/${U9}`,B9="1.0.0",wI="2.0.0",gE=wI,l_=1e4,z9=1e3,W9=100;var Co;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Co||(Co={}));var Ur;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ur||(Ur={}));var ma;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ma||(ma={}));var c_;(function(e){e.websocket="websocket"})(c_||(c_={}));var Ll;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ll||(Ll={}));class V9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,o.length),g.setUint8(p++,u.length),g.setUint8(p++,f.length),g.setUint8(p++,r),Array.from(c,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(p++,b.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class jI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Gt||(Gt={}));const vE=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=K9(o,e,t,s),i),{}):{}},K9=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?_I(i,o):u_(o)},_I=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Q9(t,r)}switch(e){case Gt.bool:return H9(t);case Gt.float4:case Gt.float8:case Gt.int2:case Gt.int4:case Gt.int8:case Gt.numeric:case Gt.oid:return G9(t);case Gt.json:case Gt.jsonb:return Y9(t);case Gt.timestamp:return X9(t);case Gt.abstime:case Gt.date:case Gt.daterange:case Gt.int4range:case Gt.int8range:case Gt.money:case Gt.reltime:case Gt.text:case Gt.time:case Gt.timestamptz:case Gt.timetz:case Gt.tsrange:case Gt.tstzrange:return u_(t);default:return u_(t)}},u_=e=>e,H9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},G9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Y9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Q9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>_I(t,l))}return e},X9=e=>typeof e=="string"?e.replace(" ","T"):e,SI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Rw{constructor(t,r,n={},s=l_){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(yE||(yE={}));class Ah{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ah.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ah.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ah.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),g=d.filter(x=>m.indexOf(x.presence_ref)<0),p=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xE||(xE={}));var Th;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Th||(Th={}));var xi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xi||(xi={}));class Ru{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ur.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rw(this,ma.join,this.params,this.timeout),this.rejoinTimer=new jI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ur.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ur.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ma.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Ah(this),this.broadcastEndpointURL=SI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ur.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Th.PRESENCE]&&this.bindings[Th.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(xi.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(xi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(xi.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,b=[];for(let y=0;y<x;y++){const w=p[y],{filter:{event:_,schema:j,table:S,filter:N}}=w,k=m&&m[y];if(k&&k.event===_&&Ru.isFilterValueEqual(k.schema,j)&&Ru.isFilterValueEqual(k.table,S)&&Ru.isFilterValueEqual(k.filter,N))b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Ur.errored,t==null||t(xi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(xi.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ur.errored,t==null||t(xi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ur.joined&&t===Th.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ur.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ma.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Rw(this,ma.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ur.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Rw(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>W9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ma;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,x;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,x,b,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(y=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:x,commit_timestamp:b,type:y,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Ur.closed}_isJoined(){return this.state===Ur.joined}_isJoining(){return this.state===Ur.joining}_isLeaving(){return this.state===Ur.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ru.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ma.close,{},t)}_onError(t){this._on(ma.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ur.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=vE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=vE(t.columns,t.old_record)),r}}const Mw=()=>{},lg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},J9=[1e3,2e3,5e3,1e4],Z9=1e4,eK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tK{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=l_,this.transport=null,this.heartbeatIntervalMs=lg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mw,this.ref=0,this.reconnectTimer=null,this.vsn=gE,this.logger=Mw,this.conn=null,this.sendBuffer=[],this.serializer=new V9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${c_.websocket}`,this.httpEndpoint=SI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=F9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Co.connecting:return Ll.Connecting;case Co.open:return Ll.Open;case Co.closing:return Ll.Closing;default:return Ll.Closed}}isConnected(){return this.connectionState()===Ll.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ru(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(z9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},lg.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Co.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Co.open||this.conn.readyState===Co.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ma.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([eK],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:q9};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ma.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new jI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:l_,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:lg.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Mw,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:gE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>J9[g-1]||Z9,this.vsn){case B9:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,p)=>p(JSON.parse(g));break;case wI:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var om=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rK(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function nK(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function sK(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=rK(e.baseUrl,n,s),c=await nK(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new om((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function cg(e){return e.join("")}var aK=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:cg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cg(e.namespace)}`}),!0}catch(t){if(t instanceof om&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof om&&r.status===409)return;throw r}}};function eu(e){return e.join("")}var iK=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${eu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${eu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${eu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${eu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${eu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${eu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof om&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof om&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},oK=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=sK({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new aK(this.client,t),this.tableOps=new iK(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ax=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Tx(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ug=class extends Ax{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},NI=class extends Ax{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const lK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},d_=e=>{if(Array.isArray(e))return e.map(r=>d_(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=d_(n)}),t},uK=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function dK(e,t){if(lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fK(e){var t=dK(e,"string");return lm(t)=="symbol"?t:t+""}function hK(e,t,r){return(t=fK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(r),!0).forEach(function(n){hK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const wE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},mK=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new ug(wE(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new ug(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new ug(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new ug(s.statusText||`HTTP ${i} error`,i,o,n))}}else t(new NI(wE(e),e,n))},pK=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Je(Je({},s),r):(cK(n)?(s.headers=Je({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Je(Je({},s),r))};async function Wf(e,t,r,n,s,i,o){return new Promise((l,c)=>{e(r,pK(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>mK(u,c,n,o))})}function kI(e="storage"){return{get:async(t,r,n,s)=>Wf(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>Wf(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>Wf(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>Wf(t,"HEAD",r,Je(Je({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>Wf(t,"DELETE",r,s,i,n,e)}}const gK=kI("storage"),{get:cm,post:ua,put:f_,head:vK,remove:gN}=gK,cs=kI("vectors");var cf=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=lK(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tx(r))return{data:null,error:r};throw r}}},yK=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tx(t))return{data:null,error:t};throw t}}};let CI;CI=Symbol.toStringTag;var xK=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[CI]="BlobDownloadBuilder",this.promise=null}asStream(){return new yK(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tx(t))return{data:null,error:t};throw t}}};const bK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var wK=class extends cf{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=Je(Je({},jE),n);let l=Je(Je({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Je(Je({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?f_:ua)(s.fetch,`${s.url}/object/${d}`,i,Je({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=Je({upsert:jE.upsert},n),d=Je(Je({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await f_(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=Je({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await ua(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ax("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ua(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ua(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await ua(n.fetch,`${n.url}/object/sign/${s}`,Je({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await ua(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>Je(Je({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>cm(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new xK(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>d_(await cm(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await vK(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tx(n)&&n instanceof NI){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await gN(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=Je(Je(Je({},bK),t),{},{prefix:e||""});return await ua(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Je({},e);return await ua(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const jK="2.93.3",mp={"X-Client-Info":`storage-js/${jK}`};var _K=class extends cf{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=Je(Je({},mp),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await cm(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await cm(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ua(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await f_(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ua(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await gN(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},SK=class extends cf{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},mp),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ua(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await cm(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await gN(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!uK(e))throw new Ax("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new oK({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},NK=class extends cf{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},mp),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await cs.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await cs.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await cs.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await cs.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},kK=class extends cf{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},mp),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await cs.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await cs.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await cs.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await cs.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await cs.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},CK=class extends cf{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},mp),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await cs.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await cs.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await cs.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await cs.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},EK=class extends CK{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new PK(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},PK=class extends NK{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new OK(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},OK=class extends kK{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},AK=class extends _K{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new wK(this.url,this.headers,e,this.fetch)}get vectors(){return new EK(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new SK(this.url+"/iceberg",this.headers,this.fetch)}};const EI="2.93.3",vu=30*1e3,h_=3,$w=h_*vu,TK="http://localhost:9999",RK="supabase.auth.token",MK={"X-Client-Info":`gotrue-js/${EI}`},m_="X-Supabase-Api-Version",PI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$K=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IK=10*60*1e3;class um extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class DK extends um{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function LK(e){return Be(e)&&e.name==="AuthApiError"}class Fl extends um{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class no extends um{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ss extends no{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Iw(e){return Be(e)&&e.name==="AuthSessionMissingError"}class tu extends no{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dg extends no{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fg extends no{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FK(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class _E extends no{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class UK extends no{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class p_ extends no{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Dw(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class SE extends no{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class g_ extends no{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),NE=` 	
\r=`.split(""),qK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<NE.length;t+=1)e[NE[t].charCodeAt(0)]=-2;for(let t=0;t<$v.length;t+=1)e[$v[t].charCodeAt(0)]=t;return e})();function kE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($v[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($v[n]),t.queuedBits-=6}}function OI(e,t,r){const n=qK[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function CE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{WK(o,n,r)};for(let o=0;o<e.length;o+=1)OI(e.charCodeAt(o),s,i);return t.join("")}function BK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function zK(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}BK(n,t)}}function WK(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Wu(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)OI(e.charCodeAt(s),r,n);return new Uint8Array(t)}function VK(e){const t=[];return zK(e,r=>t.push(r)),new Uint8Array(t)}function Vl(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>kE(s,r,n)),kE(null,r,n),t.join("")}function KK(e){return Math.round(Date.now()/1e3)+e}function HK(){return Symbol("auth-callback")}const an=()=>typeof window<"u"&&typeof document<"u",Cl={tested:!1,writable:!1},AI=()=>{if(!an())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cl.tested)return Cl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Cl.tested=!0,Cl.writable=!0}catch{Cl.tested=!0,Cl.writable=!1}return Cl.writable};function GK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const TI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),YK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",yu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},El=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},sn=async(e,t)=>{await e.removeItem(t)};class Rx{constructor(){this.promise=new Rx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Rx.promiseConstructor=Promise;function hg(e){const t=e.split(".");if(t.length!==3)throw new g_("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!$K.test(t[n]))throw new g_("JWT not in base64url format");return{header:JSON.parse(CE(t[0])),payload:JSON.parse(CE(t[1])),signature:Wu(t[2]),raw:{header:t[0],payload:t[1]}}}async function QK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XK(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function JK(e){return("0"+e.toString(16)).substr(-2)}function ZK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,JK).join("")}async function e7(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function t7(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await e7(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ru(e,t,r=!1){const n=ZK();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await yu(e,`${t}-code-verifier`,s);const i=await t7(n);return[i,n===i?"plain":"s256"]}const r7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function n7(e){const t=e.headers.get(m_);if(!t||!t.match(r7))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function s7(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function a7(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nu(e){if(!i7.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function o7(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function EE(e){return JSON.parse(JSON.stringify(e))}const Rl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),l7=[502,503,504];async function PE(e){var t;if(!YK(e))throw new p_(Rl(e),0);if(l7.includes(e.status))throw new p_(Rl(e),e.status);let r;try{r=await e.json()}catch(i){throw new Fl(Rl(i),i)}let n;const s=n7(e);if(s&&s.getTime()>=PI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new SE(Rl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ss}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new SE(Rl(r),e.status,r.weak_password.reasons);throw new DK(Rl(r),e.status||500,n)}const c7=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ye(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[m_]||(i[m_]=PI["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await u7(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function u7(e,t,r,n,s,i){const o=c7(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new p_(Rl(c),0)}if(l.ok||await PE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await PE(c)}}function oa(e){var t;let r=null;h7(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=KK(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function OE(e){const t=oa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function To(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function d7(e){return{data:e,error:null}}function f7(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=lf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function AE(e){return e}function h7(e){return e.access_token&&e.refresh_token&&e.expires_in}const Fw=["global","local","others"];class m7{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=TI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Fw[0]){if(Fw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fw.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:To})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=lf(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:f7,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:To})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:AE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){nu(t);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:To})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){nu(t);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:To})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){nu(t);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:To})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){nu(t.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){nu(t.userId),nu(t.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:AE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Be(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function TE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const su={debug:!!(globalThis&&AI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class RI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class p7 extends RI{}async function g7(e,t,r){su.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),su.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){su.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{su.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw su.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new p7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(su.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function v7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function MI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function y7(e){return parseInt(e,16)}function x7(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function b7(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=MI(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}b+=y}return`${x}
${b}`}class Ar extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Iv extends Ar{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function w7({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ar({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ar({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ar({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ar({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ar({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ar({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ar({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ar({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if($I(o)){if(i.rp.id!==o)return new Ar({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ar({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function j7({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ar({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ar({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if($I(n)){if(r.rpId!==n)return new Ar({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class _7{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const S7=new _7;function N7(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=lf(e,["challenge","user","excludeCredentials"]),i=Wu(t).buffer,o=Object.assign(Object.assign({},r),{id:Wu(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Wu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function k7(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=lf(e,["challenge","allowCredentials"]),s=Wu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Wu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function C7(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Vl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Vl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function E7(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Vl(new Uint8Array(s.authenticatorData)),clientDataJSON:Vl(new Uint8Array(s.clientDataJSON)),signature:Vl(new Uint8Array(s.signature)),userHandle:s.userHandle?Vl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $I(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function RE(){var e,t;return!!(an()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function P7(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Iv("Browser returned unexpected credential type",t)}:{data:null,error:new Iv("Empty credential response",t)}}catch(t){return{data:null,error:w7({error:t,options:e})}}}async function O7(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Iv("Browser returned unexpected credential type",t)}:{data:null,error:new Iv("Empty credential response",t)}}catch(t){return{data:null,error:j7({error:t,options:e})}}}const A7={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},T7={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Dv(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Dv(l,o):n[i]=Dv(o)}else n[i]=o}return n}function R7(e,t){return Dv(A7,e,t||{})}function M7(e,t){return Dv(T7,e,t||{})}class $7{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??S7.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const m=(await this.client.getUser()).data.user,g=((o=m==null?void 0:m.user_metadata)===null||o===void 0?void 0:o.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=R7(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await P7({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=M7(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await O7(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return Be(l)?{data:null,error:l}:{data:null,error:new Fl("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new um("rpId is required for WebAuthn authentication")};try{if(!RE())return{data:null,error:new Fl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new Fl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new um("rpId is required for WebAuthn registration")};try{if(!RE())return{data:null,error:new Fl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new Fl("Unexpected error in register",o)}}}}v7();const I7={url:TK,storageKey:RK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:MK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ME(e,t,r){return await r()}const au={};class dm{get jwks(){var t,r;return(r=(t=au[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){au[this.storageKey]=Object.assign(Object.assign({},au[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=au[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){au[this.storageKey]=Object.assign(Object.assign({},au[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},I7),t);if(this.storageKey=i.storageKey,this.instanceID=(r=dm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,dm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&an()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new m7({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=TI(i.fetch),this.lock=i.lock||ME,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&an()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=g7:this.lock=ME,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $7(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:AI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=TE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=TE(this.memoryStorage)),an()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${EI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(an()&&(r=GK(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),an()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),FK(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?this._returnResult({error:r}):this._returnResult({error:new Fl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:oa}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await ru(this.storage,this.storageKey)),i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:oa})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:oa})}else throw new dg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await sn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:OE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:OE})}else throw new dg("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new tu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:x,statement:b,options:y}=t;let w;if(an())if(typeof x=="object")w=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=MI(j[0]);let N=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await w.request({method:"eth_chainId"});N=y7(C)}const k={domain:_.host,address:S,statement:b,uri:_.href,version:"1",chainId:N,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=b7(k),g=await w.request({method:"personal_sign",params:[x7(m),S]})}try{const{data:p,error:x}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:oa});if(x)throw x;if(!p||!p.session||!p.user){const b=new tu;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(Be(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:x,wallet:b,statement:y,options:w}=t;let _;if(an())if(typeof b=="object")_=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:x,error:b}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Vl(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:oa});if(b)throw b;if(!x||!x.session||!x.user){const y=new tu;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(Be(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await El(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new UK;const{data:i,error:o}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:oa});if(await sn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new tu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:oa}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new tu;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ru(this.storage,this.storageKey));const{error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new dg("You must provide either an email or phone number.")}catch(l){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:oa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ru(this.storage,this.storageKey));const u=await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:d7});return!((i=u.data)===null||i===void 0)&&i.url&&an()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Be(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ss;const{error:s}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new dg("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await El(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<$w:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await El(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Lw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=o7(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:To}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ss}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:To})})}catch(r){if(Be(r))return Iw(r)&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ss;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ru(this.storage,this.storageKey));const{data:u,error:d}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:To});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Be(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ss;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=hg(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ss;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!an())throw new fg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _E("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _E("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new fg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=vu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const b={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Be(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await El(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Iw(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(LK(l)&&(l.status===404||l.status===401||l.status===403)||Iw(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=HK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ru(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return an()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Be(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:oa}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new tu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XK(async s=>(s>0&&await QK(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:oa})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Dw(i)&&Date.now()+o-n<vu})}catch(n){if(this._debug(r,"error",n),Be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),an()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await El(this.storage,this.storageKey);if(s&&this.userStorage){let o=await El(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await yu(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Lw()}else if(s&&!s.user&&!s.user){const o=await El(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await sn(this.storage,this.storageKey+"-user"),await yu(this.storage,this.storageKey,s)):s.user=Lw()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$w;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${$w}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Dw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ss;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Rx;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ss;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Be(i)){const o={data:null,error:i};return Dw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await sn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await yu(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=EE(s);await yu(this.storage,this.storageKey,i)}else{const s=EE(r);await yu(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await sn(this.storage,this.storageKey),await sn(this.storage,this.storageKey+"-code-verifier"),await sn(this.storage,this.storageKey+"-user"),this.userStorage&&await sn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&an()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/vu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vu}ms, refresh threshold is ${h_} ticks`),s<=h_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof RI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!an()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ru(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?C7(t.webauthn.credential_response):E7(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:N7(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:k7(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:m}=hg(t);let g=null;m.aal&&(g=m.aal);let p=g;const{data:{user:x},error:b}=await this.getUser(t);if(b)return this._returnResult({data:null,error:b});((n=(r=x==null?void 0:x.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:w},error:null}}catch(m){if(Be(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=hg(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ss})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ss});const o=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&an()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ss});const o=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&an()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ss})})}catch(t){if(Be(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ss})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+IK>s)return n;const{data:i,error:o}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=hg(n);r!=null&&r.allowExpired||s7(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=a7(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,VK(`${l}.${c}`)))throw new g_("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}}dm.nextInstanceID={};const D7=dm,L7="2.93.3";let gh="";typeof Deno<"u"?gh="deno":typeof document<"u"?gh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gh="react-native":gh="node";const F7={"X-Client-Info":`supabase-js-${gh}/${L7}`},U7={headers:F7},q7={schema:"public"},B7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},z7={};function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function W7(e,t){if(fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V7(e){var t=W7(e,"string");return fm(t)=="symbol"?t:t+""}function K7(e,t,r){return(t=V7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(n){K7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const H7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),G7=()=>Headers,Y7=(e,t,r)=>{const n=H7(r),s=G7();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,xr(xr({},o),{},{headers:u}))}};function Q7(e){return e.endsWith("/")?e:e+"/"}function X7(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:xr(xr({},c),s),auth:xr(xr({},u),i),realtime:xr(xr({},d),o),storage:{},global:xr(xr(xr({},f),l),{},{headers:xr(xr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function J7(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Q7(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Z7=class extends D7{constructor(e){super(e)}},eH=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=J7(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:q7,realtime:z7,auth:xr(xr({},B7),{},{storageKey:o}),global:U7},c=X7(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Y7(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(xr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new L9(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new AK(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new R9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z7({url:this.authUrl.href,headers:xr(xr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new tK(this.realtimeUrl.href,xr(xr({},e),{},{params:xr(xr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const tH=(e,t,r)=>new eH(e,t,r);function rH(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}rH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nH="https://prqmzdstrfmahymkekef.supabase.co",sH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycW16ZHN0cmZtYWh5bWtla2VmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDEwNjI5NiwiZXhwIjoyMDg1NjgyMjk2fQ.EE1JucZWP0ov1l93KyprUqoVMrLoNAUiJbl6xoHRSNs",U=tH(nH,sH);async function aH(e,t){const{error:r}=await U.auth.signInWithPassword({email:e,password:t});return r?{success:!1,error:r.message}:{success:!0}}async function iH(){const{error:e}=await U.auth.signOut({scope:"local"});return e?{success:!1,error:e.message}:{success:!0}}async function oH(){const{data:{session:e}}=await U.auth.getSession();return{user:(e==null?void 0:e.user)??null,session:e}}function lH(e){const{data:{subscription:t}}=U.auth.onAuthStateChange((r,n)=>{e(r,n)});return()=>t.unsubscribe()}async function cH(e,t){const r=typeof window<"u"?window.location.origin:"",n=t!=null&&t.redirectTo?`${r}${t.redirectTo.startsWith("/")?t.redirectTo:`/${t.redirectTo}`}`:`${r}/dashboard`,{error:s}=await U.auth.signInWithOAuth({provider:e,options:{redirectTo:n}});return s?{success:!1,error:s.message}:{success:!0}}async function uH(e,t,r){var c,u,d;const n=typeof window<"u"?window.location.origin:"",s=r!=null&&r.redirectTo?`${n}${r.redirectTo.startsWith("/")?r.redirectTo:`/${r.redirectTo}`}`:`${n}/verify-email`,{data:i,error:o}=await U.auth.signUp({email:e,password:t,options:{emailRedirectTo:s}});return o?{success:!1,error:o.message}:{success:!0,needsEmailVerification:!!(i.user&&!((u=(c=i.session)==null?void 0:c.user)!=null&&u.email_confirmed_at)&&((d=i.user.identities)==null?void 0:d.length))}}async function dH(e,t){const n=`${typeof window<"u"?window.location.origin:""}${t.startsWith("/")?t:`/${t}`}`,{error:s}=await U.auth.resetPasswordForEmail(e,{redirectTo:n});return s?{success:!1,error:s.message}:{success:!0}}async function fH(e){const{error:t}=await U.auth.updateUser({password:e});return t?{success:!1,error:t.message}:{success:!0}}function hH(){return typeof window>"u"?!1:window.location.hash.includes("type=recovery")}async function mH(){const{data:{user:e}}=await U.auth.getUser();if(!(e!=null&&e.email))return{success:!1,error:"You must be signed in to resend the verification email."};const r=`${typeof window<"u"?window.location.origin:""}/verify-email`,{error:n}=await U.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:r}});return n?{success:!1,error:n.message}:{success:!0}}async function IE(e){const t=e.trim();if(!t)return{success:!1,error:"Verification token is required."};const{error:r}=await U.auth.verifyOtp({token_hash:t,type:"email"});return r?{success:!1,error:r.message}:{success:!0}}function pH(){if(typeof window>"u")return null;const t=new URLSearchParams(window.location.search).get("token_hash");if(t)return t;const r=window.location.hash;return r?new URLSearchParams(r.replace(/^#/,"")).get("token_hash"):null}async function gH(){const{data:{user:e}}=await U.auth.getUser();return e?!!e.email_confirmed_at:!1}const II=v.createContext(null);function vH({children:e}){const[t,r]=v.useState({user:null,session:null,isLoading:!0});v.useEffect(()=>{let i=!1;oH().then(({user:l,session:c})=>{i||r({user:l,session:c,isLoading:!1})});const o=lH((l,c)=>{i||r(u=>({...u,user:(c==null?void 0:c.user)??null,session:c,isLoading:!1}))});return()=>{i=!0,o()}},[]);const n=v.useCallback(async()=>{await iH(),r({user:null,session:null,isLoading:!1})},[]),s=v.useMemo(()=>({...t,signOut:n}),[t.user,t.session,t.isLoading,n]);return a.jsx(II.Provider,{value:s,children:e})}function pp(){const e=v.useContext(II);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function yH(){const{user:e,isLoading:t}=pp(),r=ci();if(t)return a.jsxs("div",{className:"flex flex-1 items-center justify-center p-8",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent","aria-hidden":!0}),a.jsx("span",{className:"sr-only",children:"Loading"})]});if(!e){const n=encodeURIComponent(r.pathname+r.search);return a.jsx(nV,{to:`/login?returnTo=${n}`,state:{from:r},replace:!0})}return a.jsx(aI,{})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...bH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:DI("lucide",s),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const r=v.forwardRef(({className:n,...s},i)=>v.createElement(wH,{ref:i,iconNode:t,className:DI(`lucide-${xH(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=le("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=le("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=le("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=le("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=le("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=le("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=le("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=le("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=le("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=le("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=le("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=le("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=le("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=le("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=le("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=le("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=le("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=le("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=le("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=le("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=le("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=le("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=le("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=le("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=le("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=le("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=le("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=le("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=le("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=le("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=le("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=le("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=le("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=le("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=le("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=le("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=le("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=le("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=le("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=le("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=le("Slash",[["path",{d:"M22 2 2 22",key:"y4kqgn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=le("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=le("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=le("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=le("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=le("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=le("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=le("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=le("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=le("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=le("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=le("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=le("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=le("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function eD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=eD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function St(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=eD(e))&&(n&&(n+=" "),n+=t);return n}const EN="-",VH=e=>{const t=HH(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(EN);return l[0]===""&&l.length!==1&&l.shift(),tD(l,t)||KH(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},tD=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?tD(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(EN);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},BE=/^\[(.+)\]$/,KH=e=>{if(BE.test(e)){const t=BE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},HH=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return YH(Object.entries(e.classGroups),r).forEach(([i,o])=>{y_(o,n,i,t)}),n},y_=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:zE(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(GH(s)){y_(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{y_(o,zE(t,i),r,n)})})},zE=(e,t)=>{let r=e;return t.split(EN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},GH=e=>e.isThemeGetter,YH=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,QH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},rD="!",XH=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===s&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(rD),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},JH=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ZH=e=>({cache:QH(e.cacheSize),parseClassName:XH(e),...VH(e)}),eG=/\s+/,tG=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(eG);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=JH(d).join(":"),b=f?x+rD:x,y=b+p;if(i.includes(y))continue;i.push(y);const w=s(p,g);for(let _=0;_<w.length;++_){const j=w[_];i.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function rG(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=nD(t))&&(n&&(n+=" "),n+=r);return n}const nD=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=nD(e[n]))&&(r&&(r+=" "),r+=t);return r};function nG(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=ZH(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=tG(c,r);return s(c,d),d}return function(){return i(rG.apply(null,arguments))}}const Jt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},sD=/^\[(?:([a-z-]+):)?(.+)\]$/i,sG=/^\d+\/\d+$/,aG=new Set(["px","full","screen"]),iG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mi=e=>Vu(e)||aG.has(e)||sG.test(e),yo=e=>mf(e,"length",yG),Vu=e=>!!e&&!Number.isNaN(Number(e)),qw=e=>mf(e,"number",Vu),Vf=e=>!!e&&Number.isInteger(Number(e)),dG=e=>e.endsWith("%")&&Vu(e.slice(0,-1)),ct=e=>sD.test(e),xo=e=>iG.test(e),fG=new Set(["length","size","percentage"]),hG=e=>mf(e,fG,aD),mG=e=>mf(e,"position",aD),pG=new Set(["image","url"]),gG=e=>mf(e,pG,bG),vG=e=>mf(e,"",xG),Kf=()=>!0,mf=(e,t,r)=>{const n=sD.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},yG=e=>oG.test(e)&&!lG.test(e),aD=()=>!1,xG=e=>cG.test(e),bG=e=>uG.test(e),wG=()=>{const e=Jt("colors"),t=Jt("spacing"),r=Jt("blur"),n=Jt("brightness"),s=Jt("borderColor"),i=Jt("borderRadius"),o=Jt("borderSpacing"),l=Jt("borderWidth"),c=Jt("contrast"),u=Jt("grayscale"),d=Jt("hueRotate"),f=Jt("invert"),h=Jt("gap"),m=Jt("gradientColorStops"),g=Jt("gradientColorStopPositions"),p=Jt("inset"),x=Jt("margin"),b=Jt("opacity"),y=Jt("padding"),w=Jt("saturate"),_=Jt("scale"),j=Jt("sepia"),S=Jt("skew"),N=Jt("space"),k=Jt("translate"),C=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ct,t],E=()=>[ct,t],F=()=>["",mi,yo],$=()=>["auto",Vu,ct],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",ct],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[Vu,ct];return{cacheSize:500,separator:":",theme:{colors:[Kf],spacing:[mi,yo],blur:["none","",xo,ct],brightness:te(),borderColor:[e],borderRadius:["none","","full",xo,ct],borderSpacing:E(),borderWidth:F(),contrast:te(),grayscale:I(),hueRotate:te(),invert:I(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[dG,yo],inset:L(),margin:L(),opacity:te(),padding:E(),saturate:te(),scale:te(),sepia:I(),skew:te(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",ct]}],container:["container"],columns:[{columns:[xo]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),ct]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vf,ct]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ct]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Vf,ct]}],"grid-cols":[{"grid-cols":[Kf]}],"col-start-end":[{col:["auto",{span:["full",Vf,ct]},ct]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Kf]}],"row-start-end":[{row:["auto",{span:[Vf,ct]},ct]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ct]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ct,t]}],"min-w":[{"min-w":[ct,t,"min","max","fit"]}],"max-w":[{"max-w":[ct,t,"none","full","min","max","fit","prose",{screen:[xo]},xo]}],h:[{h:[ct,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ct,t,"auto","min","max","fit"]}],"font-size":[{text:["base",xo,yo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qw]}],"font-family":[{font:[Kf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ct]}],"line-clamp":[{"line-clamp":["none",Vu,qw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mi,ct]}],"list-image":[{"list-image":["none",ct]}],"list-style-type":[{list:["none","disc","decimal",ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mi,yo]}],"underline-offset":[{"underline-offset":["auto",mi,ct]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),mG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gG]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[mi,ct]}],"outline-w":[{outline:[mi,yo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[mi,yo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xo,vG]}],"shadow-color":[{shadow:[Kf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",xo,ct]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ct]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",ct]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Vf,ct]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ct]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mi,yo,qw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jG=nG(wG);function J(...e){return jG(St(e))}function _G({visible:e,message:t="Processing",className:r}){return e?a.jsxs("div",{role:"status","aria-live":"polite","aria-label":t,className:J("fixed inset-0 z-[100] flex flex-col items-center justify-center gap-4","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200",r),children:[a.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-xl bg-card p-8 shadow-card-hover",children:[a.jsx(ar,{className:"h-10 w-10 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:t})]}),a.jsx("span",{className:"sr-only",children:t})]}):null}function Ie(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function WE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function io(...e){return t=>{let r=!1;const n=e.map(s=>{const i=WE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():WE(e[s],null)}}}}function gt(...e){return v.useCallback(io(...e),e)}function SG(e,t){const r=v.createContext(t),n=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Ks(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=v.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,NG(s,...t)]}function NG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var kr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},kG=fx[" useId ".trim().toString()]||(()=>{}),CG=0;function Ls(e){const[t,r]=v.useState(kG());return kr(()=>{r(n=>n??String(CG++))},[e]),t?`radix-${t}`:""}var EG=fx[" useInsertionEffect ".trim().toString()]||kr;function ai({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=PG({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=v.useCallback(d=>{var f;if(l){const h=OG(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function PG({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),i=v.useRef(t);return EG(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function OG(e){return typeof e=="function"}function AG(e){const t=TG(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(MG);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function TG(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=IG(s),l=$G(i,s.props);return s.type!==v.Fragment&&(l.ref=n?io(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RG=Symbol("radix.slottable");function MG(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RG}function $G(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function IG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var DG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=DG.reduce((e,t)=>{const r=AG(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function iD(e,t){e&&nf.flushSync(()=>e.dispatchEvent(t))}function en(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function LG(e,t=globalThis==null?void 0:globalThis.document){const r=en(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var FG="DismissableLayer",x_="dismissableLayer.update",UG="dismissableLayer.pointerDownOutside",qG="dismissableLayer.focusOutside",VE,oD=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lx=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(oD),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),g=gt(t,N=>f(N)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(x),y=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=b,j=WG(N=>{const k=N.target,C=[...u.branches].some(O=>O.contains(k));!_||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),S=VG(N=>{const k=N.target;[...u.branches].some(O=>O.contains(k))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return LG(N=>{y===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(VE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),KE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=VE)}},[d,h,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),KE())},[d,u]),v.useEffect(()=>{const N=()=>m({});return document.addEventListener(x_,N),()=>document.removeEventListener(x_,N)},[]),a.jsx(Qe.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,j.onPointerDownCapture)})});Lx.displayName=FG;var BG="DismissableLayerBranch",zG=v.forwardRef((e,t)=>{const r=v.useContext(oD),n=v.useRef(null),s=gt(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Qe.div,{...e,ref:s})});zG.displayName=BG;function WG(e,t=globalThis==null?void 0:globalThis.document){const r=en(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){lD(UG,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function VG(e,t=globalThis==null?void 0:globalThis.document){const r=en(e),n=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!n.current&&lD(qG,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function KE(){const e=new CustomEvent(x_);document.dispatchEvent(e)}function lD(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?iD(s,i):s.dispatchEvent(i)}var Bw="focusScope.autoFocusOnMount",zw="focusScope.autoFocusOnUnmount",HE={bubbles:!1,cancelable:!0},KG="FocusScope",Fx=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),u=en(s),d=en(i),f=v.useRef(null),h=gt(t,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:_o(f.current,{select:!0})},x=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||_o(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&_o(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),y.disconnect()}}},[n,l,m.paused]),v.useEffect(()=>{if(l){YE.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(Bw,HE);l.addEventListener(Bw,u),l.dispatchEvent(b),b.defaultPrevented||(HG(JG(cD(l)),{select:!0}),document.activeElement===p&&_o(l))}return()=>{l.removeEventListener(Bw,u),setTimeout(()=>{const b=new CustomEvent(zw,HE);l.addEventListener(zw,d),l.dispatchEvent(b),b.defaultPrevented||_o(p??document.body,{select:!0}),l.removeEventListener(zw,d),YE.remove(m)},0)}}},[l,u,d,m]);const g=v.useCallback(p=>{if(!r&&!n||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(x&&b){const y=p.currentTarget,[w,_]=GG(y);w&&_?!p.shiftKey&&b===_?(p.preventDefault(),r&&_o(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&_o(_,{select:!0})):b===y&&p.preventDefault()}},[r,n,m.paused]);return a.jsx(Qe.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Fx.displayName=KG;function HG(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(_o(n,{select:t}),document.activeElement!==r)return}function GG(e){const t=cD(e),r=GE(t,e),n=GE(t.reverse(),e);return[r,n]}function cD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function GE(e,t){for(const r of e)if(!YG(r,{upTo:t}))return r}function YG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QG(e){return e instanceof HTMLInputElement&&"select"in e}function _o(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&QG(e)&&t&&e.select()}}var YE=XG();function XG(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=QE(e,t),e.unshift(t)},remove(t){var r;e=QE(e,t),(r=e[0])==null||r.resume()}}}function QE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function JG(e){return e.filter(t=>t.tagName!=="A")}var ZG="Portal",Ux=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=v.useState(!1);kr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Y4.createPortal(a.jsx(Qe.div,{...n,ref:t}),o):null});Ux.displayName=ZG;function eY(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var es=e=>{const{present:t,children:r}=e,n=tY(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=gt(n.ref,rY(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:i}):null};es.displayName="Presence";function tY(e){const[t,r]=v.useState(),n=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=eY(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=mg(n.current);i.current=l==="mounted"?u:"none"},[l]),kr(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=mg(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),kr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=mg(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(i.current=mg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function mg(e){return(e==null?void 0:e.animationName)||"none"}function rY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ww=0;function PN(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??XE()),document.body.insertAdjacentElement("beforeend",e[1]??XE()),Ww++,()=>{Ww===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ww--}},[])}function XE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nv="right-scroll-bar-position",sv="width-before-scroll-bar",nY="with-scroll-bars-hidden",sY="--removed-body-scroll-bar-size";function Vw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aY(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var iY=typeof window<"u"?v.useLayoutEffect:v.useEffect,JE=new WeakMap;function oY(e,t){var r=aY(null,function(n){return e.forEach(function(s){return Vw(s,n)})});return iY(function(){var n=JE.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||Vw(l,null)}),i.forEach(function(l){s.has(l)||Vw(l,o)})}JE.set(r,e)},[e]),r}function lY(e){return e}function cY(e,t){t===void 0&&(t=lY);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function uY(e){e===void 0&&(e={});var t=cY(null);return t.options=Ga({async:!0,ssr:!1},e),t}var uD=function(e){var t=e.sideCar,r=lf(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Ga({},r))};uD.isSideCarExport=!0;function dY(e,t){return e.useMedium(t),uD}var dD=uY(),Kw=function(){},qx=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Kw,onWheelCapture:Kw,onTouchMoveCapture:Kw}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,x=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,w=e.gapMode,_=lf(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=oY([r,t]),N=Ga(Ga({},_),s);return v.createElement(v.Fragment,null,d&&v.createElement(j,{sideCar:dD,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:w}),o?v.cloneElement(v.Children.only(l),Ga(Ga({},N),{ref:S})):v.createElement(y,Ga({},N,{className:c,ref:S}),l))});qx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qx.classNames={fullWidth:sv,zeroRight:nv};var fY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hY(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fY();return t&&e.setAttribute("nonce",t),e}function mY(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function pY(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var gY=function(){var e=0,t=null;return{add:function(r){e==0&&(t=hY())&&(mY(t,r),pY(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},vY=function(){var e=gY();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},fD=function(){var e=vY(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},yY={left:0,top:0,right:0,gap:0},Hw=function(e){return parseInt(e||"",10)||0},xY=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Hw(r),Hw(n),Hw(s)]},bY=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return yY;var t=xY(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},wY=fD(),Ku="data-scroll-locked",jY=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(nY,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ku,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(sv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(nv," .").concat(nv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(sv," .").concat(sv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ku,`] {
    `).concat(sY,": ").concat(l,`px;
  }
`)},ZE=function(){var e=parseInt(document.body.getAttribute(Ku)||"0",10);return isFinite(e)?e:0},_Y=function(){v.useEffect(function(){return document.body.setAttribute(Ku,(ZE()+1).toString()),function(){var e=ZE()-1;e<=0?document.body.removeAttribute(Ku):document.body.setAttribute(Ku,e.toString())}},[])},SY=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;_Y();var i=v.useMemo(function(){return bY(s)},[s]);return v.createElement(wY,{styles:jY(i,!t,s,r?"":"!important")})},b_=!1;if(typeof window<"u")try{var pg=Object.defineProperty({},"passive",{get:function(){return b_=!0,!0}});window.addEventListener("test",pg,pg),window.removeEventListener("test",pg,pg)}catch{b_=!1}var iu=b_?{passive:!1}:!1,NY=function(e){return e.tagName==="TEXTAREA"},hD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!NY(e)&&r[t]==="visible")},kY=function(e){return hD(e,"overflowY")},CY=function(e){return hD(e,"overflowX")},eP=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=mD(e,n);if(s){var i=pD(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},EY=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},PY=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},mD=function(e,t){return e==="v"?kY(t):CY(t)},pD=function(e,t){return e==="v"?EY(t):PY(t)},OY=function(e,t){return e==="h"&&t==="rtl"?-1:1},AY=function(e,t,r,n,s){var i=OY(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=pD(e,l),g=m[0],p=m[1],x=m[2],b=p-x-i*g;(g||b)&&mD(e,l)&&(f+=b,h+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},gg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tP=function(e){return[e.deltaX,e.deltaY]},rP=function(e){return e&&"current"in e?e.current:e},TY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},RY=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},MY=0,ou=[];function $Y(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(MY++)[0],i=v.useState(fD)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=O9([e.lockRef.current],(e.shards||[]).map(rP),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=gg(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-b[0],_="deltaY"in p?p.deltaY:y[1]-b[1],j,S=p.target,N=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&N==="h"&&S.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,O=C?C===S||C.contains(S):!1;if(O)return!1;var L=eP(N,S);if(!L)return!0;if(L?j=N:(j=N==="v"?"h":"v",L=eP(N,S)),!L)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=j),!j)return!0;var E=n.current||j;return AY(E,x,p,E==="h"?w:_)},[]),c=v.useCallback(function(p){var x=p;if(!(!ou.length||ou[ou.length-1]!==i)){var b="deltaY"in x?tP(x):gg(x),y=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&TY(j.delta,b)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(rP).filter(Boolean).filter(function(j){return j.contains(x.target)}),_=w.length>0?l(x,w[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=v.useCallback(function(p,x,b,y){var w={name:p,delta:x,target:b,should:y,shadowParent:IY(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=v.useCallback(function(p){r.current=gg(p),n.current=void 0},[]),f=v.useCallback(function(p){u(p.type,tP(p),p.target,l(p,e.lockRef.current))},[]),h=v.useCallback(function(p){u(p.type,gg(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return ou.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,iu),document.addEventListener("touchmove",c,iu),document.addEventListener("touchstart",d,iu),function(){ou=ou.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,iu),document.removeEventListener("touchmove",c,iu),document.removeEventListener("touchstart",d,iu)}},[]);var m=e.removeScrollBar,g=e.inert;return v.createElement(v.Fragment,null,g?v.createElement(i,{styles:RY(s)}):null,m?v.createElement(SY,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function IY(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const DY=dY(dD,$Y);var Bx=v.forwardRef(function(e,t){return v.createElement(qx,Ga({},e,{ref:t,sideCar:DY}))});Bx.classNames=qx.classNames;var LY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},lu=new WeakMap,vg=new WeakMap,yg={},Gw=0,gD=function(e){return e&&(e.host||gD(e.parentNode))},FY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=gD(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},UY=function(e,t,r,n){var s=FY(t,Array.isArray(e)?e:[e]);yg[r]||(yg[r]=new WeakMap);var i=yg[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(lu.get(h)||0)+1,x=(i.get(h)||0)+1;lu.set(h,p),i.set(h,x),o.push(h),p===1&&g&&vg.set(h,!0),x===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),Gw++,function(){o.forEach(function(f){var h=lu.get(f)-1,m=i.get(f)-1;lu.set(f,h),i.set(f,m),h||(vg.has(f)||f.removeAttribute(n),vg.delete(f)),m||f.removeAttribute(r)}),Gw--,Gw||(lu=new WeakMap,lu=new WeakMap,vg=new WeakMap,yg={})}},ON=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=LY(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),UY(n,s,r,"aria-hidden")):function(){return null}};function qY(e){const t=BY(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(WY);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function BY(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=KY(s),l=VY(i,s.props);return s.type!==v.Fragment&&(l.ref=n?io(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zY=Symbol("radix.slottable");function WY(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zY}function VY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function KY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zx="Dialog",[vD]=Ks(zx),[HY,Ta]=vD(zx),yD=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,d]=ai({prop:n,defaultProp:s??!1,onChange:i,caller:zx});return a.jsx(HY,{scope:t,triggerRef:l,contentRef:c,contentId:Ls(),titleId:Ls(),descriptionId:Ls(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};yD.displayName=zx;var xD="DialogTrigger",GY=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ta(xD,r),i=gt(t,s.triggerRef);return a.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":RN(s.open),...n,ref:i,onClick:Ie(e.onClick,s.onOpenToggle)})});GY.displayName=xD;var AN="DialogPortal",[YY,bD]=vD(AN,{forceMount:void 0}),wD=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Ta(AN,t);return a.jsx(YY,{scope:t,forceMount:r,children:v.Children.map(n,o=>a.jsx(es,{present:r||i.open,children:a.jsx(Ux,{asChild:!0,container:s,children:o})}))})};wD.displayName=AN;var qv="DialogOverlay",jD=v.forwardRef((e,t)=>{const r=bD(qv,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Ta(qv,e.__scopeDialog);return i.modal?a.jsx(es,{present:n||i.open,children:a.jsx(XY,{...s,ref:t})}):null});jD.displayName=qv;var QY=qY("DialogOverlay.RemoveScroll"),XY=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ta(qv,r);return a.jsx(Bx,{as:QY,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Qe.div,{"data-state":RN(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Nc="DialogContent",_D=v.forwardRef((e,t)=>{const r=bD(Nc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Ta(Nc,e.__scopeDialog);return a.jsx(es,{present:n||i.open,children:i.modal?a.jsx(JY,{...s,ref:t}):a.jsx(ZY,{...s,ref:t})})});_D.displayName=Nc;var JY=v.forwardRef((e,t)=>{const r=Ta(Nc,e.__scopeDialog),n=v.useRef(null),s=gt(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return ON(i)},[]),a.jsx(SD,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,i=>i.preventDefault())})}),ZY=v.forwardRef((e,t)=>{const r=Ta(Nc,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return a.jsx(SD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),SD=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Ta(Nc,r),c=v.useRef(null),u=gt(t,c);return PN(),a.jsxs(a.Fragment,{children:[a.jsx(Fx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Lx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":RN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(eQ,{titleId:l.titleId}),a.jsx(rQ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),TN="DialogTitle",ND=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ta(TN,r);return a.jsx(Qe.h2,{id:s.titleId,...n,ref:t})});ND.displayName=TN;var kD="DialogDescription",CD=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ta(kD,r);return a.jsx(Qe.p,{id:s.descriptionId,...n,ref:t})});CD.displayName=kD;var ED="DialogClose",PD=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ta(ED,r);return a.jsx(Qe.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,()=>s.onOpenChange(!1))})});PD.displayName=ED;function RN(e){return e?"open":"closed"}var OD="DialogTitleWarning",[iIe,AD]=SG(OD,{contentName:Nc,titleName:TN,docsSlug:"dialog"}),eQ=({titleId:e})=>{const t=AD(OD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},tQ="DialogDescriptionWarning",rQ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AD(tQ).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},nQ=yD,sQ=wD,TD=jD,RD=_D,MD=ND,$D=CD,aQ=PD;const Re=nQ,iQ=sQ,ID=v.forwardRef(({className:e,...t},r)=>a.jsx(TD,{ref:r,className:J("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ID.displayName=TD.displayName;const Ee=v.forwardRef(({className:e,children:t,showClose:r=!0,...n},s)=>a.jsxs(iQ,{children:[a.jsx(ID,{}),a.jsxs(RD,{ref:s,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[640px] translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",e),...n,children:[t,r&&a.jsxs(aQ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(jd,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ee.displayName=RD.displayName;const Pe=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Pe.displayName="DialogHeader";const $e=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$e.displayName="DialogFooter";const Oe=v.forwardRef(({className:e,...t},r)=>a.jsx(MD,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));Oe.displayName=MD.displayName;const Ae=v.forwardRef(({className:e,...t},r)=>a.jsx($D,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Ae.displayName=$D.displayName;var oQ=Symbol.for("react.lazy"),Bv=fx[" use ".trim().toString()];function lQ(e){return typeof e=="object"&&e!==null&&"then"in e}function DD(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===oQ&&"_payload"in e&&lQ(e._payload)}function xp(e){const t=uQ(e),r=v.forwardRef((n,s)=>{let{children:i,...o}=n;DD(i)&&typeof Bv=="function"&&(i=Bv(i._payload));const l=v.Children.toArray(i),c=l.find(fQ);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var cQ=xp("Slot");function uQ(e){const t=v.forwardRef((r,n)=>{let{children:s,...i}=r;if(DD(s)&&typeof Bv=="function"&&(s=Bv(s._payload)),v.isValidElement(s)){const o=mQ(s),l=hQ(i,s.props);return s.type!==v.Fragment&&(l.ref=n?io(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dQ=Symbol("radix.slottable");function fQ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dQ}function hQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function mQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const nP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sP=St,MN=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return sP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=nP(d)||nP(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...u,f,h]:u},[]);return sP(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},pQ=MN("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow hover:opacity-90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:opacity-90",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),P=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?cQ:"button";return a.jsx(o,{className:J(pQ({variant:t,size:r,className:e})),ref:i,...s})});P.displayName="Button";function gQ({open:e,onOpenChange:t,message:r="Operation completed successfully.",nextSteps:n,onClose:s,className:i}){const o=l=>{l||s==null||s(),t(l)};return a.jsx(Re,{open:e,onOpenChange:o,children:a.jsxs(Ee,{showClose:!0,className:J("max-w-[640px]",i),"aria-describedby":"operation-success-description",children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15",children:a.jsx(Pa,{className:"h-6 w-6 text-success","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Oe,{children:"Success"}),a.jsx(Ae,{id:"operation-success-description",children:r})]})]})}),n&&n.length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/30 p-4",children:[a.jsx("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Next steps"}),a.jsx("ul",{className:"flex flex-col gap-2",children:n.map((l,c)=>a.jsx("li",{children:l.href?a.jsx(P,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",asChild:!0,children:a.jsx("a",{href:l.href,children:l.label})}):a.jsx(P,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",onClick:()=>{var u;(u=l.onClick)==null||u.call(l),o(!1)},children:l.label})},c))})]}),a.jsx($e,{children:a.jsx(P,{onClick:()=>o(!1),className:"transition-transform hover:scale-[1.02]",children:"Done"})})]})})}function vQ({open:e,onOpenChange:t,message:r="Are you sure you want to cancel this operation? Progress may be lost.",confirmLabel:n="Yes, cancel",onConfirm:s,onCancel:i,isConfirming:o=!1,className:l}){const c=()=>{s==null||s(),t(!1)},u=()=>{i==null||i(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{showClose:!0,className:J("max-w-[640px]",l),"aria-describedby":"abort-confirm-description",children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-warning/15",children:a.jsx(ao,{className:"h-6 w-6 text-warning","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Oe,{children:"Cancel operation?"}),a.jsx(Ae,{id:"abort-confirm-description",children:r})]})]})}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:u,disabled:o,className:"transition-transform hover:scale-[1.02]",children:"No, continue"}),a.jsx(P,{variant:"destructive",onClick:c,disabled:o,className:"transition-transform hover:scale-[1.02]",children:o?"Cancelling":n})]})]})})}const aP={visible:!1},iP={visible:!1},oP={visible:!1},LD=v.createContext(null);function yQ({children:e}){const[t,r]=v.useState(aP),[n,s]=v.useState(iP),[i,o]=v.useState(oP),l=v.useCallback(g=>{r({visible:!0,message:g})},[]),c=v.useCallback(()=>{r(aP)},[]),u=v.useCallback((g,p)=>{s({visible:!0,message:g,nextSteps:p})},[]),d=v.useCallback(()=>{s(iP)},[]),f=v.useCallback(g=>{o({visible:!0,message:g.message,onConfirm:g.onConfirm,onCancel:g.onCancel,confirmLabel:g.confirmLabel})},[]),h=v.useCallback(()=>{o(oP)},[]),m=v.useMemo(()=>({loading:t,success:n,abortConfirm:i,showLoading:l,hideLoading:c,showSuccess:u,hideSuccess:d,showAbortConfirm:f,hideAbortConfirm:h}),[t,n,i,l,c,u,d,f,h]);return a.jsx(LD.Provider,{value:m,children:e})}function xQ(){const e=v.useContext(LD);if(!e)throw new Error("useOperationStateContext must be used within OperationStateProvider");return e}function bQ(){const{loading:e,success:t,abortConfirm:r,hideSuccess:n,hideAbortConfirm:s}=xQ();return a.jsxs(a.Fragment,{children:[a.jsx(_G,{visible:e.visible,message:e.message}),a.jsx(gQ,{open:t.visible,onOpenChange:i=>!i&&n(),message:t.message,nextSteps:t.nextSteps,onClose:n}),a.jsx(vQ,{open:r.visible,onOpenChange:i=>!i&&s(),message:r.message,confirmLabel:r.confirmLabel??"Yes, cancel",onConfirm:r.onConfirm,onCancel:r.onCancel})]})}function wQ({children:e}){return a.jsxs(yQ,{children:[a.jsx(bQ,{}),e]})}var jQ=v.createContext(void 0);function pf(e){const t=v.useContext(jQ);return e||t||"ltr"}function w_(e,[t,r]){return Math.min(r,Math.max(t,e))}function _Q(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var $N="ScrollArea",[FD]=Ks($N),[SQ,Hs]=FD($N),UD=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(null),[m,g]=v.useState(null),[p,x]=v.useState(null),[b,y]=v.useState(0),[w,_]=v.useState(0),[j,S]=v.useState(!1),[N,k]=v.useState(!1),C=gt(t,L=>c(L)),O=pf(s);return a.jsx(SQ,{scope:r,type:n,dir:O,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:_,children:a.jsx(Qe.div,{dir:O,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});UD.displayName=$N;var qD="ScrollAreaViewport",BD=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=Hs(qD,r),l=v.useRef(null),c=gt(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Qe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});BD.displayName=qD;var ui="ScrollAreaScrollbar",IN=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Hs(ui,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(NQ,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(kQ,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(zD,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(DN,{...n,ref:t}):null});IN.displayName=ui;var NQ=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Hs(ui,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(es,{present:r||i,children:a.jsx(zD,{"data-state":i?"visible":"hidden",...n,ref:t})})}),kQ=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Hs(ui,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Vx(()=>c("SCROLL_END"),100),[l,c]=_Q("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),v.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(es,{present:r||l!=="hidden",children:a.jsx(DN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ie(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ie(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),zD=v.forwardRef((e,t)=>{const r=Hs(ui,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=Vx(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return _d(r.viewport,c),_d(r.content,c),a.jsx(es,{present:n||i,children:a.jsx(DN,{"data-state":i?"visible":"hidden",...s,ref:t})})}),DN=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Hs(ui,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=GD(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return TQ(h,o.current,l,m)}return r==="horizontal"?a.jsx(CQ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=lP(h,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(EQ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=lP(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),CQ=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Hs(ui,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=gt(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(VD,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Wx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),QD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Wv(o.paddingLeft),paddingEnd:Wv(o.paddingRight)}})}})}),EQ=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Hs(ui,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=gt(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(VD,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Wx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),QD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Wv(o.paddingTop),paddingEnd:Wv(o.paddingBottom)}})}})}),[PQ,WD]=FD(ui),VD=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Hs(ui,r),[g,p]=v.useState(null),x=gt(t,C=>p(C)),b=v.useRef(null),y=v.useRef(""),w=m.viewport,_=n.content-n.viewport,j=en(d),S=en(c),N=Vx(f,10);function k(C){if(b.current){const O=C.clientX-b.current.left,L=C.clientY-b.current.top;u({x:O,y:L})}}return v.useEffect(()=>{const C=O=>{const L=O.target;(g==null?void 0:g.contains(L))&&j(O,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,_,j]),v.useEffect(S,[n,S]),_d(g,N),_d(m.content,N),a.jsx(PQ,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:en(i),onThumbPointerUp:en(o),onThumbPositionChange:S,onThumbPointerDown:en(l),children:a.jsx(Qe.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:Ie(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:Ie(e.onPointerMove,k),onPointerUp:Ie(e.onPointerUp,C=>{const O=C.target;O.hasPointerCapture(C.pointerId)&&O.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),zv="ScrollAreaThumb",KD=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=WD(zv,e.__scopeScrollArea);return a.jsx(es,{present:r||s.hasThumb,children:a.jsx(OQ,{ref:t,...n})})}),OQ=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Hs(zv,r),o=WD(zv,r),{onThumbPositionChange:l}=o,c=gt(t,f=>o.onThumbChange(f)),u=v.useRef(void 0),d=Vx(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=RQ(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Qe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ie(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:Ie(e.onPointerUp,o.onThumbPointerUp)})});KD.displayName=zv;var LN="ScrollAreaCorner",HD=v.forwardRef((e,t)=>{const r=Hs(LN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(AQ,{...e,ref:t}):null});HD.displayName=LN;var AQ=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Hs(LN,r),[i,o]=v.useState(0),[l,c]=v.useState(0),u=!!(i&&l);return _d(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),_d(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Qe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Wv(e){return e?parseInt(e,10):0}function GD(e,t){const r=e/t;return isNaN(r)?0:r}function Wx(e){const t=GD(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function TQ(e,t,r,n="ltr"){const s=Wx(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return YD([c,u],f)(e)}function lP(e,t,r="ltr"){const n=Wx(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=w_(e,c);return YD([0,o],[0,l])(u)}function YD(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function QD(e,t){return e>0&&e<t}var RQ=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Vx(e,t){const r=en(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function _d(e,t){const r=en(t);kr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var XD=UD,MQ=BD,$Q=HD;const ht=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(XD,{ref:n,className:J("relative overflow-hidden",e),...r,children:[a.jsx(MQ,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(JD,{}),a.jsx($Q,{})]}));ht.displayName=XD.displayName;const JD=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(IN,{ref:n,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(KD,{className:"relative flex-1 rounded-full bg-border"})}));JD.displayName=IN.displayName;var IQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DQ=IQ.reduce((e,t)=>{const r=xp(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),LQ="Separator",cP="horizontal",FQ=["horizontal","vertical"],ZD=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=cP,...s}=e,i=UQ(n)?n:cP,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(DQ.div,{"data-orientation":i,...l,...s,ref:t})});ZD.displayName=LQ;function UQ(e){return FQ.includes(e)}var eL=ZD;const FN=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(eL,{ref:s,decorative:r,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));FN.displayName=eL.displayName;const qQ=[{to:"/dashboard",label:"Dashboard",icon:bN},{to:"/profile",label:"Profile",icon:vp},{to:"/chat",label:"Chat Session",icon:ff},{to:"/channels",label:"Channels & Adapters",icon:$H},{to:"/skills",label:"Skills Library",icon:bc},{to:"/skill-editor",label:"Skill Editor",icon:sr},{to:"/tool-skill-runtime",label:"Tool & Skill Runtime",icon:Sc},{to:"/marketplace",label:"Marketplace",icon:Dx},{to:"/nodes",label:"Nodes",icon:Sa},{to:"/cron",label:"Cron Jobs",icon:vl},{to:"/webhooks",label:"Webhooks & Hooks",icon:Uv},{to:"/model-providers",label:"Model Providers",icon:LI},{to:"/browser",label:"Browser Automation",icon:Ix},{to:"/voice",label:"Voice & Media",icon:bd},{to:"/secrets",label:"Secrets & Keychain",icon:xd},{to:"/settings",label:"Settings",icon:$n},{to:"/security",label:"Security Audit",icon:Sr},{to:"/logs",label:"Logs & Tracing",icon:sr},{to:"/admin",label:"Admin",icon:Sr}];function BQ(){const[e,t]=v.useState(!1);return a.jsxs("aside",{className:J("flex flex-col border-r border-border bg-card transition-[width] duration-200",e?"w-[72px]":"w-56"),children:[a.jsxs("div",{className:"flex h-14 items-center justify-between border-b border-border px-3",children:[!e&&a.jsx("span",{className:"truncate text-sm font-semibold",children:"Clawgate"}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>t(r=>!r),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(jr,{className:"h-4 w-4"}):a.jsx(Lv,{className:"h-4 w-4"})})]}),a.jsx(ht,{className:"flex-1 py-2",children:a.jsx("nav",{className:"flex flex-col gap-0.5 px-2",children:qQ.map(({to:r,label:n,icon:s})=>a.jsxs(oI,{to:r,className:({isActive:i})=>J("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",e&&"justify-center px-2"),children:[a.jsx(s,{className:"h-5 w-5 shrink-0"}),!e&&a.jsx("span",{className:"truncate",children:n})]},r))})}),a.jsx(FN,{})]})}const ge=v.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ge.displayName="Input";function zQ(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=v.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,WQ(s,...t)]}function WQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var VQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],UN=VQ.reduce((e,t)=>{const r=xp(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),tL={exports:{}},rL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd=v;function KQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HQ=typeof Object.is=="function"?Object.is:KQ,GQ=Sd.useState,YQ=Sd.useEffect,QQ=Sd.useLayoutEffect,XQ=Sd.useDebugValue;function JQ(e,t){var r=t(),n=GQ({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return QQ(function(){s.value=r,s.getSnapshot=t,Yw(s)&&i({inst:s})},[e,r,t]),YQ(function(){return Yw(s)&&i({inst:s}),e(function(){Yw(s)&&i({inst:s})})},[e]),XQ(r),r}function Yw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!HQ(e,r)}catch{return!0}}function ZQ(e,t){return t()}var eX=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ZQ:JQ;rL.useSyncExternalStore=Sd.useSyncExternalStore!==void 0?Sd.useSyncExternalStore:eX;tL.exports=rL;var tX=tL.exports;function rX(){return tX.useSyncExternalStore(nX,()=>!0,()=>!1)}function nX(){return()=>{}}var qN="Avatar",[sX]=zQ(qN),[aX,nL]=sX(qN),sL=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=v.useState("idle");return a.jsx(aX,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(UN.span,{...n,ref:t})})});sL.displayName=qN;var aL="AvatarImage",iL=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=nL(aL,r),l=iX(n,i),c=en(u=>{s(u),o.onImageLoadingStatusChange(u)});return kr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(UN.img,{...i,ref:t,src:n}):null});iL.displayName=aL;var oL="AvatarFallback",lL=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=nL(oL,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(UN.span,{...s,ref:t}):null});lL.displayName=oL;function uP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function iX(e,{referrerPolicy:t,crossOrigin:r}){const n=rX(),s=v.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=v.useState(()=>uP(i,e));return kr(()=>{l(uP(i,e))},[i,e]),kr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var cL=sL,uL=iL,dL=lL;const Kx=v.forwardRef(({className:e,...t},r)=>a.jsx(cL,{ref:r,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Kx.displayName=cL.displayName;const BN=v.forwardRef(({className:e,...t},r)=>a.jsx(uL,{ref:r,className:J("aspect-square h-full w-full",e),...t}));BN.displayName=uL.displayName;const Hx=v.forwardRef(({className:e,...t},r)=>a.jsx(dL,{ref:r,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted text-sm font-medium",e),...t}));Hx.displayName=dL.displayName;function dP(e){const t=oX(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(cX);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function oX(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=dX(s),l=uX(i,s.props);return s.type!==v.Fragment&&(l.ref=n?io(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lX=Symbol("radix.slottable");function cX(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lX}function uX(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function dX(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Gx(e){const t=e+"CollectionProvider",[r,n]=Ks(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:b}=p,y=M.useRef(null),w=M.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:w,collectionRef:y,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=dP(l),u=M.forwardRef((p,x)=>{const{scope:b,children:y}=p,w=i(l,b),_=gt(x,w.collectionRef);return a.jsx(c,{ref:_,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=dP(d),m=M.forwardRef((p,x)=>{const{scope:b,children:y,...w}=p,_=M.useRef(null),j=gt(x,_),S=i(d,b);return M.useEffect(()=>(S.itemMap.set(_,{ref:_,...w}),()=>void S.itemMap.delete(_))),a.jsx(h,{[f]:"",ref:j,children:y})});m.displayName=d;function g(p){const x=i(e+"CollectionConsumer",p);return M.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((S,N)=>w.indexOf(S.ref.current)-w.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}const fX=["top","right","bottom","left"],ul=Math.min,ls=Math.max,Vv=Math.round,xg=Math.floor,ti=e=>({x:e,y:e}),hX={left:"right",right:"left",bottom:"top",top:"bottom"},mX={start:"end",end:"start"};function j_(e,t,r){return ls(e,ul(t,r))}function Vi(e,t){return typeof e=="function"?e(t):e}function Ki(e){return e.split("-")[0]}function gf(e){return e.split("-")[1]}function zN(e){return e==="x"?"y":"x"}function WN(e){return e==="y"?"height":"width"}const pX=new Set(["top","bottom"]);function Ya(e){return pX.has(Ki(e))?"y":"x"}function VN(e){return zN(Ya(e))}function gX(e,t,r){r===void 0&&(r=!1);const n=gf(e),s=VN(e),i=WN(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Kv(o)),[o,Kv(o)]}function vX(e){const t=Kv(e);return[__(e),t,__(t)]}function __(e){return e.replace(/start|end/g,t=>mX[t])}const fP=["left","right"],hP=["right","left"],yX=["top","bottom"],xX=["bottom","top"];function bX(e,t,r){switch(e){case"top":case"bottom":return r?t?hP:fP:t?fP:hP;case"left":case"right":return t?yX:xX;default:return[]}}function wX(e,t,r,n){const s=gf(e);let i=bX(Ki(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(__)))),i}function Kv(e){return e.replace(/left|right|bottom|top/g,t=>hX[t])}function jX(e){return{top:0,right:0,bottom:0,left:0,...e}}function fL(e){return typeof e!="number"?jX(e):{top:e,right:e,bottom:e,left:e}}function Hv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function mP(e,t,r){let{reference:n,floating:s}=e;const i=Ya(t),o=VN(t),l=WN(o),c=Ki(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(gf(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}async function _X(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Vi(t,e),g=fL(m),x=l[h?f==="floating"?"reference":"floating":f],b=Hv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Hv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(b.top-j.top+g.top)/_.y,bottom:(j.bottom-b.bottom+g.bottom)/_.y,left:(b.left-j.left+g.left)/_.x,right:(j.right-b.right+g.right)/_.x}}const SX=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=mP(u,n,c),h=n,m={},g=0;for(let x=0;x<l.length;x++){var p;const{name:b,fn:y}=l[x],{x:w,y:_,data:j,reset:S}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:{...o,detectOverflow:(p=o.detectOverflow)!=null?p:_X},elements:{reference:e,floating:t}});d=w??d,f=_??f,m={...m,[b]:{...m[b],...j}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=mP(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}},NX=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Vi(e,t)||{};if(u==null)return{};const f=fL(d),h={x:r,y:n},m=VN(s),g=WN(m),p=await o.getDimensions(u),x=m==="y",b=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[m]-h[m]-i.floating[g],j=h[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[w]||i.floating[g]);const k=_/2-j/2,C=N/2-p[g]/2-1,O=ul(f[b],C),L=ul(f[y],C),E=O,F=N-p[g]-L,$=N/2-p[g]/2+k,K=j_(E,$,F),T=!c.arrow&&gf(s)!=null&&$!==K&&i.reference[g]/2-($<E?O:L)-p[g]/2<0,V=T?$<E?$-E:$-F:0;return{[m]:h[m]+V,data:{[m]:K,centerOffset:$-K-V,...T&&{alignmentOffset:V}},reset:T}}}),kX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=Vi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Ki(s),y=Ya(l),w=Ki(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[Kv(l)]:vX(l)),S=g!=="none";!h&&S&&j.push(...wX(l,p,g,_));const N=[l,...j],k=await c.detectOverflow(t,x),C=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[b]),f){const $=gX(s,o,_);C.push(k[$[0]],k[$[1]])}if(O=[...O,{placement:s,overflows:C}],!C.every($=>$<=0)){var L,E;const $=(((L=i.flip)==null?void 0:L.index)||0)+1,K=N[$];if(K&&(!(f==="alignment"?y!==Ya(K):!1)||O.every(R=>Ya(R.placement)===y?R.overflows[0]>0:!0)))return{data:{index:$,overflows:O},reset:{placement:K}};let T=(E=O.filter(V=>V.overflows[0]<=0).sort((V,R)=>V.overflows[1]-R.overflows[1])[0])==null?void 0:E.placement;if(!T)switch(m){case"bestFit":{var F;const V=(F=O.filter(R=>{if(S){const I=Ya(R.placement);return I===y||I==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(I=>I>0).reduce((I,D)=>I+D,0)]).sort((R,I)=>R[1]-I[1])[0])==null?void 0:F[0];V&&(T=V);break}case"initialPlacement":T=l;break}if(s!==T)return{reset:{placement:T}}}return{}}}};function pP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gP(e){return fX.some(t=>e[t]>=0)}const CX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...i}=Vi(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...i,elementContext:"reference"}),l=pP(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:gP(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...i,altBoundary:!0}),l=pP(o,r.floating);return{data:{escapedOffsets:l,escaped:gP(l)}}}default:return{}}}}},hL=new Set(["left","top"]);async function EX(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ki(r),l=gf(r),c=Ya(r)==="y",u=hL.has(o)?-1:1,d=i&&c?-1:1,f=Vi(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const PX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await EX(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},OX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:y,y:w}=b;return{x:y,y:w}}},...u}=Vi(e,t),d={x:r,y:n},f=await i.detectOverflow(t,u),h=Ya(Ki(s)),m=zN(h);let g=d[m],p=d[h];if(o){const b=m==="y"?"top":"left",y=m==="y"?"bottom":"right",w=g+f[b],_=g-f[y];g=j_(w,g,_)}if(l){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=p+f[b],_=p-f[y];p=j_(w,p,_)}const x=c.fn({...t,[m]:g,[h]:p});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:o,[h]:l}}}}}},AX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Vi(e,t),d={x:r,y:n},f=Ya(s),h=zN(f);let m=d[h],g=d[f];const p=Vi(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+x.mainAxis,j=i.reference[h]+i.reference[w]-x.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var b,y;const w=h==="y"?"width":"height",_=hL.has(Ki(s)),j=i.reference[f]-i.floating[w]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:x.crossAxis),S=i.reference[f]+i.reference[w]+(_?0:((y=o.offset)==null?void 0:y[f])||0)-(_?x.crossAxis:0);g<j?g=j:g>S&&(g=S)}return{[h]:m,[f]:g}}}},TX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Vi(e,t),d=await o.detectOverflow(t,u),f=Ki(s),h=gf(s),m=Ya(s)==="y",{width:g,height:p}=i.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,x=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,w=g-d.left-d.right,_=ul(p-d[x],y),j=ul(g-d[b],w),S=!t.middlewareData.shift;let N=_,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=y),S&&!h){const O=ls(d.left,0),L=ls(d.right,0),E=ls(d.top,0),F=ls(d.bottom,0);m?k=g-2*(O!==0||L!==0?O+L:ls(d.left,d.right)):N=p-2*(E!==0||F!==0?E+F:ls(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function Yx(){return typeof window<"u"}function vf(e){return mL(e)?(e.nodeName||"").toLowerCase():"#document"}function ps(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function di(e){var t;return(t=(mL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mL(e){return Yx()?e instanceof Node||e instanceof ps(e).Node:!1}function Oa(e){return Yx()?e instanceof Element||e instanceof ps(e).Element:!1}function ii(e){return Yx()?e instanceof HTMLElement||e instanceof ps(e).HTMLElement:!1}function vP(e){return!Yx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ps(e).ShadowRoot}const RX=new Set(["inline","contents"]);function bp(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Aa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!RX.has(s)}const MX=new Set(["table","td","th"]);function $X(e){return MX.has(vf(e))}const IX=[":popover-open",":modal"];function Qx(e){return IX.some(t=>{try{return e.matches(t)}catch{return!1}})}const DX=["transform","translate","scale","rotate","perspective"],LX=["transform","translate","scale","rotate","perspective","filter"],FX=["paint","layout","strict","content"];function KN(e){const t=HN(),r=Oa(e)?Aa(e):e;return DX.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||LX.some(n=>(r.willChange||"").includes(n))||FX.some(n=>(r.contain||"").includes(n))}function UX(e){let t=dl(e);for(;ii(t)&&!Nd(t);){if(KN(t))return t;if(Qx(t))return null;t=dl(t)}return null}function HN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qX=new Set(["html","body","#document"]);function Nd(e){return qX.has(vf(e))}function Aa(e){return ps(e).getComputedStyle(e)}function Xx(e){return Oa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function dl(e){if(vf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vP(e)&&e.host||di(e);return vP(t)?t.host:t}function pL(e){const t=dl(e);return Nd(t)?e.ownerDocument?e.ownerDocument.body:e.body:ii(t)&&bp(t)?t:pL(t)}function gm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=pL(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=ps(s);if(i){const l=S_(o);return t.concat(o,o.visualViewport||[],bp(s)?s:[],l&&r?gm(l):[])}return t.concat(s,gm(s,[],r))}function S_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gL(e){const t=Aa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ii(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Vv(r)!==i||Vv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function GN(e){return Oa(e)?e:e.contextElement}function Hu(e){const t=GN(e);if(!ii(t))return ti(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=gL(t);let o=(i?Vv(r.width):r.width)/n,l=(i?Vv(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const BX=ti(0);function vL(e){const t=ps(e);return!HN()||!t.visualViewport?BX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ps(e)?!1:t}function kc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=GN(e);let o=ti(1);t&&(n?Oa(n)&&(o=Hu(n)):o=Hu(e));const l=zX(i,r,n)?vL(i):ti(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=ps(i),m=n&&Oa(n)?ps(n):n;let g=h,p=S_(g);for(;p&&n&&m!==g;){const x=Hu(p),b=p.getBoundingClientRect(),y=Aa(p),w=b.left+(p.clientLeft+parseFloat(y.paddingLeft))*x.x,_=b.top+(p.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=w,u+=_,g=ps(p),p=S_(g)}}return Hv({width:d,height:f,x:c,y:u})}function Jx(e,t){const r=Xx(e).scrollLeft;return t?t.left+r:kc(di(e)).left+r}function yL(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Jx(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function WX(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=di(n),l=t?Qx(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=ti(1);const d=ti(0),f=ii(n);if((f||!f&&!i)&&((vf(n)!=="body"||bp(o))&&(c=Xx(n)),ii(n))){const m=kc(n);u=Hu(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?yL(o,c):ti(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function VX(e){return Array.from(e.getClientRects())}function KX(e){const t=di(e),r=Xx(e),n=e.ownerDocument.body,s=ls(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ls(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Jx(e);const l=-r.scrollTop;return Aa(n).direction==="rtl"&&(o+=ls(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const yP=25;function HX(e,t){const r=ps(e),n=di(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=HN();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Jx(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-m);g<=yP&&(i-=g)}else u<=yP&&(i+=u);return{width:i,height:o,x:l,y:c}}const GX=new Set(["absolute","fixed"]);function YX(e,t){const r=kc(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=ii(e)?Hu(e):ti(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function xP(e,t,r){let n;if(t==="viewport")n=HX(e,r);else if(t==="document")n=KX(di(e));else if(Oa(t))n=YX(t,r);else{const s=vL(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Hv(n)}function xL(e,t){const r=dl(e);return r===t||!Oa(r)||Nd(r)?!1:Aa(r).position==="fixed"||xL(r,t)}function QX(e,t){const r=t.get(e);if(r)return r;let n=gm(e,[],!1).filter(l=>Oa(l)&&vf(l)!=="body"),s=null;const i=Aa(e).position==="fixed";let o=i?dl(e):e;for(;Oa(o)&&!Nd(o);){const l=Aa(o),c=KN(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&GX.has(s.position)||bp(o)&&!c&&xL(e,o))?n=n.filter(d=>d!==o):s=l,o=dl(o)}return t.set(e,n),n}function XX(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Qx(t)?[]:QX(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=xP(t,d,s);return u.top=ls(f.top,u.top),u.right=ul(f.right,u.right),u.bottom=ul(f.bottom,u.bottom),u.left=ls(f.left,u.left),u},xP(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JX(e){const{width:t,height:r}=gL(e);return{width:t,height:r}}function ZX(e,t,r){const n=ii(t),s=di(t),i=r==="fixed",o=kc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ti(0);function u(){c.x=Jx(s)}if(n||!n&&!i)if((vf(t)!=="body"||bp(s))&&(l=Xx(t)),n){const m=kc(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?yL(s,l):ti(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Qw(e){return Aa(e).position==="static"}function bP(e,t){if(!ii(e)||Aa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return di(e)===r&&(r=r.ownerDocument.body),r}function bL(e,t){const r=ps(e);if(Qx(e))return r;if(!ii(e)){let s=dl(e);for(;s&&!Nd(s);){if(Oa(s)&&!Qw(s))return s;s=dl(s)}return r}let n=bP(e,t);for(;n&&$X(n)&&Qw(n);)n=bP(n,t);return n&&Nd(n)&&Qw(n)&&!KN(n)?r:n||UX(e)||r}const eJ=async function(e){const t=this.getOffsetParent||bL,r=this.getDimensions,n=await r(e.floating);return{reference:ZX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tJ(e){return Aa(e).direction==="rtl"}const rJ={convertOffsetParentRelativeRectToViewportRelativeRect:WX,getDocumentElement:di,getClippingRect:XX,getOffsetParent:bL,getElementRects:eJ,getClientRects:VX,getDimensions:JX,getScale:Hu,isElement:Oa,isRTL:tJ};function wL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nJ(e,t){let r=null,n;const s=di(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=xg(f),p=xg(s.clientWidth-(d+h)),x=xg(s.clientHeight-(f+m)),b=xg(d),w={rootMargin:-g+"px "+-p+"px "+-x+"px "+-b+"px",threshold:ls(0,ul(1,c))||1};let _=!0;function j(S){const N=S[0].intersectionRatio;if(N!==c){if(!_)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!wL(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function sJ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=GN(e),d=s||i?[...u?gm(u):[],...gm(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?nJ(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?kc(e):null;c&&x();function x(){const b=kc(e);p&&!wL(p,b)&&r(),p=b,g=requestAnimationFrame(x)}return r(),()=>{var b;d.forEach(y=>{s&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const aJ=PX,iJ=OX,oJ=kX,lJ=TX,cJ=CX,wP=NX,uJ=AX,dJ=(e,t,r)=>{const n=new Map,s={platform:rJ,...r},i={...s.platform,_c:n};return SX(e,t,{...s,platform:i})};var fJ=typeof document<"u",hJ=function(){},av=fJ?v.useLayoutEffect:hJ;function Gv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Gv(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Gv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function jL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jP(e,t){const r=jL(e);return Math.round(t*r)/r}function Xw(e){const t=v.useRef(e);return av(()=>{t.current=e}),t}function mJ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=v.useState(n);Gv(h,n)||m(n);const[g,p]=v.useState(null),[x,b]=v.useState(null),y=v.useCallback(R=>{R!==S.current&&(S.current=R,p(R))},[]),w=v.useCallback(R=>{R!==N.current&&(N.current=R,b(R))},[]),_=i||g,j=o||x,S=v.useRef(null),N=v.useRef(null),k=v.useRef(d),C=c!=null,O=Xw(c),L=Xw(s),E=Xw(u),F=v.useCallback(()=>{if(!S.current||!N.current)return;const R={placement:t,strategy:r,middleware:h};L.current&&(R.platform=L.current),dJ(S.current,N.current,R).then(I=>{const D={...I,isPositioned:E.current!==!1};$.current&&!Gv(k.current,D)&&(k.current=D,nf.flushSync(()=>{f(D)}))})},[h,t,r,L,E]);av(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const $=v.useRef(!1);av(()=>($.current=!0,()=>{$.current=!1}),[]),av(()=>{if(_&&(S.current=_),j&&(N.current=j),_&&j){if(O.current)return O.current(_,j,F);F()}},[_,j,F,O,C]);const K=v.useMemo(()=>({reference:S,floating:N,setReference:y,setFloating:w}),[y,w]),T=v.useMemo(()=>({reference:_,floating:j}),[_,j]),V=v.useMemo(()=>{const R={position:r,left:0,top:0};if(!T.floating)return R;const I=jP(T.floating,d.x),D=jP(T.floating,d.y);return l?{...R,transform:"translate("+I+"px, "+D+"px)",...jL(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:D}},[r,l,T.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:F,refs:K,elements:T,floatingStyles:V}),[d,F,K,T,V])}const pJ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?wP({element:n.current,padding:s}).fn(r):{}:n?wP({element:n,padding:s}).fn(r):{}}}},gJ=(e,t)=>({...aJ(e),options:[e,t]}),vJ=(e,t)=>({...iJ(e),options:[e,t]}),yJ=(e,t)=>({...uJ(e),options:[e,t]}),xJ=(e,t)=>({...oJ(e),options:[e,t]}),bJ=(e,t)=>({...lJ(e),options:[e,t]}),wJ=(e,t)=>({...cJ(e),options:[e,t]}),jJ=(e,t)=>({...pJ(e),options:[e,t]});var _J="Arrow",_L=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Qe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});_L.displayName=_J;var SJ=_L;function SL(e){const[t,r]=v.useState(void 0);return kr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var YN="Popper",[NL,Zx]=Ks(YN),[NJ,kL]=NL(YN),CL=e=>{const{__scopePopper:t,children:r}=e,[n,s]=v.useState(null);return a.jsx(NJ,{scope:t,anchor:n,onAnchorChange:s,children:r})};CL.displayName=YN;var EL="PopperAnchor",PL=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=kL(EL,r),o=v.useRef(null),l=gt(t,o),c=v.useRef(null);return v.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Qe.div,{...s,ref:l})});PL.displayName=EL;var QN="PopperContent",[kJ,CJ]=NL(QN),OL=v.forwardRef((e,t)=>{var pe,Ne,se,ve,Y,Q;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,x=kL(QN,r),[b,y]=v.useState(null),w=gt(t,Xe=>y(Xe)),[_,j]=v.useState(null),S=SL(_),N=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,C=n+(i!=="center"?"-"+i:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],E=L.length>0,F={padding:O,boundary:L.filter(PJ),altBoundary:E},{refs:$,floatingStyles:K,placement:T,isPositioned:V,middlewareData:R}=mJ({strategy:"fixed",placement:C,whileElementsMounted:(...Xe)=>sJ(...Xe,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[gJ({mainAxis:s+k,alignmentAxis:o}),c&&vJ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?yJ():void 0,...F}),c&&xJ({...F}),bJ({...F,apply:({elements:Xe,rects:He,availableWidth:bt,availableHeight:ft})=>{const{width:Wt,height:Cr}=He.reference,mn=Xe.floating.style;mn.setProperty("--radix-popper-available-width",`${bt}px`),mn.setProperty("--radix-popper-available-height",`${ft}px`),mn.setProperty("--radix-popper-anchor-width",`${Wt}px`),mn.setProperty("--radix-popper-anchor-height",`${Cr}px`)}}),_&&jJ({element:_,padding:l}),OJ({arrowWidth:N,arrowHeight:k}),h&&wJ({strategy:"referenceHidden",...F})]}),[I,D]=RL(T),te=en(g);kr(()=>{V&&(te==null||te())},[V,te]);const A=(pe=R.arrow)==null?void 0:pe.x,re=(Ne=R.arrow)==null?void 0:Ne.y,ye=((se=R.arrow)==null?void 0:se.centerOffset)!==0,[We,Ke]=v.useState();return kr(()=>{b&&Ke(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:V?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:We,"--radix-popper-transform-origin":[(ve=R.transformOrigin)==null?void 0:ve.x,(Y=R.transformOrigin)==null?void 0:Y.y].join(" "),...((Q=R.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(kJ,{scope:r,placedSide:I,onArrowChange:j,arrowX:A,arrowY:re,shouldHideArrow:ye,children:a.jsx(Qe.div,{"data-side":I,"data-align":D,...p,ref:w,style:{...p.style,animation:V?void 0:"none"}})})})});OL.displayName=QN;var AL="PopperArrow",EJ={top:"bottom",right:"left",bottom:"top",left:"right"},TL=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=CJ(AL,n),o=EJ[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(SJ,{...s,ref:r,style:{...s.style,display:"block"}})})});TL.displayName=AL;function PJ(e){return e!==null}var OJ=e=>({name:"transformOrigin",options:e,fn(t){var x,b,y;const{placement:r,rects:n,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=RL(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function RL(e){const[t,r="center"]=e.split("-");return[t,r]}var ML=CL,$L=PL,IL=OL,DL=TL,Jw="rovingFocusGroup.onEntryFocus",AJ={bubbles:!1,cancelable:!0},wp="RovingFocusGroup",[N_,LL,TJ]=Gx(wp),[RJ,eb]=Ks(wp,[TJ]),[MJ,$J]=RJ(wp),FL=v.forwardRef((e,t)=>a.jsx(N_.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(N_.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(IJ,{...e,ref:t})})}));FL.displayName=wp;var IJ=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),m=gt(t,h),g=pf(i),[p,x]=ai({prop:o,defaultProp:l??null,onChange:c,caller:wp}),[b,y]=v.useState(!1),w=en(u),_=LL(r),j=v.useRef(!1),[S,N]=v.useState(0);return v.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Jw,w),()=>k.removeEventListener(Jw,w)},[w]),a.jsx(MJ,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:p,onItemFocus:v.useCallback(k=>x(k),[x]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:v.useCallback(()=>N(k=>k-1),[]),children:a.jsx(Qe.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{j.current=!0}),onFocus:Ie(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!b){const O=new CustomEvent(Jw,AJ);if(k.currentTarget.dispatchEvent(O),!O.defaultPrevented){const L=_().filter(T=>T.focusable),E=L.find(T=>T.active),F=L.find(T=>T.id===p),K=[E,F,...L].filter(Boolean).map(T=>T.ref.current);BL(K,d)}}j.current=!1}),onBlur:Ie(e.onBlur,()=>y(!1))})})}),UL="RovingFocusGroupItem",qL=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Ls(),u=i||c,d=$J(UL,r),f=d.currentTabStopId===u,h=LL(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return v.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),a.jsx(N_.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Qe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ie(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:Ie(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ie(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=FJ(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(x.currentTarget);w=d.loop?UJ(w,_+1):w.slice(_+1)}setTimeout(()=>BL(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});qL.displayName=UL;var DJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function LJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function FJ(e,t,r){const n=LJ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return DJ[n]}function BL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function UJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var zL=FL,WL=qL;function qJ(e){const t=BJ(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(WJ);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function BJ(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=KJ(s),l=VJ(i,s.props);return s.type!==v.Fragment&&(l.ref=n?io(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zJ=Symbol("radix.slottable");function WJ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zJ}function VJ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function KJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var k_=["Enter"," "],HJ=["ArrowDown","PageUp","Home"],VL=["ArrowUp","PageDown","End"],GJ=[...HJ,...VL],YJ={ltr:[...k_,"ArrowRight"],rtl:[...k_,"ArrowLeft"]},QJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jp="Menu",[vm,XJ,JJ]=Gx(jp),[Bc,KL]=Ks(jp,[JJ,Zx,eb]),tb=Zx(),HL=eb(),[ZJ,zc]=Bc(jp),[eZ,_p]=Bc(jp),GL=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=tb(t),[c,u]=v.useState(null),d=v.useRef(!1),f=en(i),h=pf(s);return v.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),a.jsx(ML,{...l,children:a.jsx(ZJ,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(eZ,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};GL.displayName=jp;var tZ="MenuAnchor",XN=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=tb(r);return a.jsx($L,{...s,...n,ref:t})});XN.displayName=tZ;var JN="MenuPortal",[rZ,YL]=Bc(JN,{forceMount:void 0}),QL=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=zc(JN,t);return a.jsx(rZ,{scope:t,forceMount:r,children:a.jsx(es,{present:r||i.open,children:a.jsx(Ux,{asChild:!0,container:s,children:n})})})};QL.displayName=JN;var Fs="MenuContent",[nZ,ZN]=Bc(Fs),XL=v.forwardRef((e,t)=>{const r=YL(Fs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=zc(Fs,e.__scopeMenu),o=_p(Fs,e.__scopeMenu);return a.jsx(vm.Provider,{scope:e.__scopeMenu,children:a.jsx(es,{present:n||i.open,children:a.jsx(vm.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(sZ,{...s,ref:t}):a.jsx(aZ,{...s,ref:t})})})})}),sZ=v.forwardRef((e,t)=>{const r=zc(Fs,e.__scopeMenu),n=v.useRef(null),s=gt(t,n);return v.useEffect(()=>{const i=n.current;if(i)return ON(i)},[]),a.jsx(ek,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ie(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),aZ=v.forwardRef((e,t)=>{const r=zc(Fs,e.__scopeMenu);return a.jsx(ek,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),iZ=qJ("MenuContent.ScrollLock"),ek=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,x=zc(Fs,r),b=_p(Fs,r),y=tb(r),w=HL(r),_=XJ(r),[j,S]=v.useState(null),N=v.useRef(null),k=gt(t,N,x.onContentChange),C=v.useRef(0),O=v.useRef(""),L=v.useRef(0),E=v.useRef(null),F=v.useRef("right"),$=v.useRef(0),K=g?Bx:v.Fragment,T=g?{as:iZ,allowPinchZoom:!0}:void 0,V=I=>{var pe,Ne;const D=O.current+I,te=_().filter(se=>!se.disabled),A=document.activeElement,re=(pe=te.find(se=>se.ref.current===A))==null?void 0:pe.textValue,ye=te.map(se=>se.textValue),We=yZ(ye,D,re),Ke=(Ne=te.find(se=>se.textValue===We))==null?void 0:Ne.ref.current;(function se(ve){O.current=ve,window.clearTimeout(C.current),ve!==""&&(C.current=window.setTimeout(()=>se(""),1e3))})(D),Ke&&setTimeout(()=>Ke.focus())};v.useEffect(()=>()=>window.clearTimeout(C.current),[]),PN();const R=v.useCallback(I=>{var te,A;return F.current===((te=E.current)==null?void 0:te.side)&&bZ(I,(A=E.current)==null?void 0:A.area)},[]);return a.jsx(nZ,{scope:r,searchRef:O,onItemEnter:v.useCallback(I=>{R(I)&&I.preventDefault()},[R]),onItemLeave:v.useCallback(I=>{var D;R(I)||((D=N.current)==null||D.focus(),S(null))},[R]),onTriggerLeave:v.useCallback(I=>{R(I)&&I.preventDefault()},[R]),pointerGraceTimerRef:L,onPointerGraceIntentChange:v.useCallback(I=>{E.current=I},[]),children:a.jsx(K,{...T,children:a.jsx(Fx,{asChild:!0,trapped:s,onMountAutoFocus:Ie(i,I=>{var D;I.preventDefault(),(D=N.current)==null||D.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Lx,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:a.jsx(zL,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:Ie(c,I=>{b.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(IL,{role:"menu","aria-orientation":"vertical","data-state":h3(x.open),"data-radix-menu-content":"",dir:b.dir,...y,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:Ie(p.onKeyDown,I=>{const te=I.target.closest("[data-radix-menu-content]")===I.currentTarget,A=I.ctrlKey||I.altKey||I.metaKey,re=I.key.length===1;te&&(I.key==="Tab"&&I.preventDefault(),!A&&re&&V(I.key));const ye=N.current;if(I.target!==ye||!GJ.includes(I.key))return;I.preventDefault();const Ke=_().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);VL.includes(I.key)&&Ke.reverse(),gZ(Ke)}),onBlur:Ie(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(C.current),O.current="")}),onPointerMove:Ie(e.onPointerMove,ym(I=>{const D=I.target,te=$.current!==I.clientX;if(I.currentTarget.contains(D)&&te){const A=I.clientX>$.current?"right":"left";F.current=A,$.current=I.clientX}}))})})})})})})});XL.displayName=Fs;var oZ="MenuGroup",tk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{role:"group",...n,ref:t})});tk.displayName=oZ;var lZ="MenuLabel",JL=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{...n,ref:t})});JL.displayName=lZ;var Yv="MenuItem",_P="menu.itemSelect",rb=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=v.useRef(null),o=_p(Yv,e.__scopeMenu),l=ZN(Yv,e.__scopeMenu),c=gt(t,i),u=v.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(_P,{bubbles:!0,cancelable:!0});f.addEventListener(_P,m=>n==null?void 0:n(m),{once:!0}),iD(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(ZL,{...s,ref:c,disabled:r,onClick:Ie(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ie(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ie(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||k_.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});rb.displayName=Yv;var ZL=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=ZN(Yv,r),l=HL(r),c=v.useRef(null),u=gt(t,c),[d,f]=v.useState(!1),[h,m]=v.useState("");return v.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),a.jsx(vm.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(WL,{asChild:!0,...l,focusable:!n,children:a.jsx(Qe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ie(e.onPointerMove,ym(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(e.onPointerLeave,ym(g=>o.onItemLeave(g))),onFocus:Ie(e.onFocus,()=>f(!0)),onBlur:Ie(e.onBlur,()=>f(!1))})})})}),cZ="MenuCheckboxItem",e3=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(a3,{scope:e.__scopeMenu,checked:r,children:a.jsx(rb,{role:"menuitemcheckbox","aria-checked":Qv(r)?"mixed":r,...s,ref:t,"data-state":nk(r),onSelect:Ie(s.onSelect,()=>n==null?void 0:n(Qv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});e3.displayName=cZ;var t3="MenuRadioGroup",[uZ,dZ]=Bc(t3,{value:void 0,onValueChange:()=>{}}),r3=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=en(n);return a.jsx(uZ,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(tk,{...s,ref:t})})});r3.displayName=t3;var n3="MenuRadioItem",s3=v.forwardRef((e,t)=>{const{value:r,...n}=e,s=dZ(n3,e.__scopeMenu),i=r===s.value;return a.jsx(a3,{scope:e.__scopeMenu,checked:i,children:a.jsx(rb,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":nk(i),onSelect:Ie(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});s3.displayName=n3;var rk="MenuItemIndicator",[a3,fZ]=Bc(rk,{checked:!1}),i3=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=fZ(rk,r);return a.jsx(es,{present:n||Qv(i.checked)||i.checked===!0,children:a.jsx(Qe.span,{...s,ref:t,"data-state":nk(i.checked)})})});i3.displayName=rk;var hZ="MenuSeparator",o3=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});o3.displayName=hZ;var mZ="MenuArrow",l3=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=tb(r);return a.jsx(DL,{...s,...n,ref:t})});l3.displayName=mZ;var pZ="MenuSub",[oIe,c3]=Bc(pZ),yh="MenuSubTrigger",u3=v.forwardRef((e,t)=>{const r=zc(yh,e.__scopeMenu),n=_p(yh,e.__scopeMenu),s=c3(yh,e.__scopeMenu),i=ZN(yh,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(XN,{asChild:!0,...u,children:a.jsx(ZL,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":h3(r.open),...e,ref:io(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ie(e.onPointerMove,ym(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ie(e.onPointerLeave,ym(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,x=p==="right",b=x?-5:5,y=h[x?"left":"right"],w=h[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||YJ[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});u3.displayName=yh;var d3="MenuSubContent",f3=v.forwardRef((e,t)=>{const r=YL(Fs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=zc(Fs,e.__scopeMenu),o=_p(Fs,e.__scopeMenu),l=c3(d3,e.__scopeMenu),c=v.useRef(null),u=gt(t,c);return a.jsx(vm.Provider,{scope:e.__scopeMenu,children:a.jsx(es,{present:n||i.open,children:a.jsx(vm.Slot,{scope:e.__scopeMenu,children:a.jsx(ek,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ie(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ie(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ie(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=QJ[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});f3.displayName=d3;function h3(e){return e?"open":"closed"}function Qv(e){return e==="indeterminate"}function nk(e){return Qv(e)?"indeterminate":e?"checked":"unchecked"}function gZ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function vZ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function yZ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=vZ(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function xZ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function bZ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return xZ(r,t)}function ym(e){return t=>t.pointerType==="mouse"?e(t):void 0}var wZ=GL,jZ=XN,_Z=QL,SZ=XL,NZ=tk,kZ=JL,CZ=rb,EZ=e3,PZ=r3,OZ=s3,AZ=i3,TZ=o3,RZ=l3,MZ=u3,$Z=f3,nb="DropdownMenu",[IZ]=Ks(nb,[KL]),Fn=KL(),[DZ,m3]=IZ(nb),p3=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Fn(t),u=v.useRef(null),[d,f]=ai({prop:s,defaultProp:i??!1,onChange:o,caller:nb});return a.jsx(DZ,{scope:t,triggerId:Ls(),triggerRef:u,contentId:Ls(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(wZ,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};p3.displayName=nb;var g3="DropdownMenuTrigger",v3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=m3(g3,r),o=Fn(r);return a.jsx(jZ,{asChild:!0,...o,children:a.jsx(Qe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:io(t,i.triggerRef),onPointerDown:Ie(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ie(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});v3.displayName=g3;var LZ="DropdownMenuPortal",y3=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Fn(t);return a.jsx(_Z,{...n,...r})};y3.displayName=LZ;var x3="DropdownMenuContent",b3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=m3(x3,r),i=Fn(r),o=v.useRef(!1);return a.jsx(SZ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ie(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ie(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});b3.displayName=x3;var FZ="DropdownMenuGroup",UZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Fn(r);return a.jsx(NZ,{...s,...n,ref:t})});UZ.displayName=FZ;var qZ="DropdownMenuLabel",w3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Fn(r);return a.jsx(kZ,{...s,...n,ref:t})});w3.displayName=qZ;var BZ="DropdownMenuItem",j3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Fn(r);return a.jsx(CZ,{...s,...n,ref:t})});j3.displayName=BZ;var zZ="DropdownMenuCheckboxItem",_3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Fn(r);return a.jsx(EZ,{...s,...n,ref:t})});_3.displayName=zZ;var WZ="DropdownMenuRadioGroup",VZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Fn(r);return a.jsx(PZ,{...s,...n,ref:t})});VZ.displayName=WZ;var KZ="DropdownMenuRadioItem",S3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Fn(r);return a.jsx(OZ,{...s,...n,ref:t})});S3.displayName=KZ;var HZ="DropdownMenuItemIndicator",N3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Fn(r);return a.jsx(AZ,{...s,...n,ref:t})});N3.displayName=HZ;var GZ="DropdownMenuSeparator",k3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Fn(r);return a.jsx(TZ,{...s,...n,ref:t})});k3.displayName=GZ;var YZ="DropdownMenuArrow",QZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Fn(r);return a.jsx(RZ,{...s,...n,ref:t})});QZ.displayName=YZ;var XZ="DropdownMenuSubTrigger",C3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Fn(r);return a.jsx(MZ,{...s,...n,ref:t})});C3.displayName=XZ;var JZ="DropdownMenuSubContent",E3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Fn(r);return a.jsx($Z,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});E3.displayName=JZ;var ZZ=p3,eee=v3,tee=y3,P3=b3,O3=w3,A3=j3,T3=_3,R3=S3,M3=N3,$3=k3,I3=C3,D3=E3;const Us=ZZ,qs=eee,ree=v.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(I3,{ref:s,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(jr,{className:"ml-auto h-4 w-4"})]}));ree.displayName=I3.displayName;const nee=v.forwardRef(({className:e,...t},r)=>a.jsx(D3,{ref:r,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));nee.displayName=D3.displayName;const gs=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(tee,{children:a.jsx(P3,{ref:n,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));gs.displayName=P3.displayName;const Mt=v.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(A3,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Mt.displayName=A3.displayName;const see=v.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(T3,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(M3,{children:a.jsx(uf,{className:"h-4 w-4"})})}),t]}));see.displayName=T3.displayName;const aee=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(R3,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(M3,{children:a.jsx(v_,{className:"h-2 w-2 fill-current"})})}),t]}));aee.displayName=R3.displayName;const L3=v.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(O3,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));L3.displayName=O3.displayName;const C_=v.forwardRef(({className:e,...t},r)=>a.jsx($3,{ref:r,className:J("-mx-1 my-1 h-px bg-border",e),...t}));C_.displayName=$3.displayName;function iee({open:e,onOpenChange:t,onConfirm:r,isConfirming:n=!1,className:s}){const i=async()=>{await r(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:J("max-w-[640px] rounded-[10px] border border-border bg-card shadow-lg",s),"aria-describedby":"logout-confirm-description",children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-muted",children:a.jsx(KI,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Oe,{children:"Sign out"}),a.jsx(Ae,{id:"logout-confirm-description",children:"Are you sure you want to sign out? You can sign in again anytime."})]})]})}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"button",variant:"default",onClick:i,disabled:n,className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-md",children:n?"Signing out":"Sign out"})]})]})})}function oee({className:e}){var d;const{user:t,signOut:r,isLoading:n}=pp(),s=ro(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),u=async()=>{c(!0),await r(),c(!1),o(!1),s("/",{replace:!0})};return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:J("flex h-14 items-center gap-4 border-b border-border bg-card px-4",e),children:[a.jsx("div",{className:"flex flex-1 items-center gap-4",children:a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(_c,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(ge,{type:"search",placeholder:"Search...",className:"pl-9 rounded-md border-border","aria-label":"Search"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P,{variant:"ghost",size:"icon","aria-label":"Notifications",children:a.jsx(_H,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(fe,{to:"/help","aria-label":"Help",children:a.jsx(df,{className:"h-4 w-4"})})}),!n&&(t?a.jsxs(Us,{children:[a.jsx(qs,{asChild:!0,children:a.jsx(P,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all hover:scale-[1.02]","aria-label":"Account menu",children:a.jsxs(Kx,{className:"h-10 w-10",children:[a.jsx(BN,{src:(d=t.user_metadata)==null?void 0:d.avatar_url,alt:t.email??"User"}),a.jsx(Hx,{className:"bg-primary/20 text-primary",children:a.jsx(vp,{className:"h-5 w-5"})})]})})}),a.jsxs(gs,{align:"end",className:"w-56 rounded-md border-border bg-card shadow-lg",children:[a.jsx(L3,{children:a.jsx("span",{className:"font-normal text-muted-foreground",children:t.email})}),a.jsx(C_,{}),a.jsx(Mt,{asChild:!0,children:a.jsx(fe,{to:"/profile",children:"Profile"})}),a.jsx(Mt,{asChild:!0,children:a.jsx(fe,{to:"/settings",children:"Settings"})}),a.jsx(C_,{}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onSelect:f=>{f.preventDefault(),o(!0)},children:[a.jsx(KI,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Log out"]})]})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx(fe,{to:"/login",children:"Sign in"})}),a.jsx(P,{size:"sm",asChild:!0,children:a.jsx(fe,{to:"/signup",children:"Sign up"})})]}))]})]}),a.jsx(iee,{open:i,onOpenChange:o,onConfirm:u,isConfirming:l})]})}function lee(){return a.jsxs("div",{className:"flex min-h-screen bg-background",children:[a.jsx(BQ,{}),a.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[a.jsx(oee,{}),a.jsx("main",{className:J("flex-1 overflow-auto p-4 md:p-6","max-w-content mx-auto w-full"),children:a.jsx(aI,{})})]})]})}const X=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("rounded-[10px] border border-border bg-card text-card-foreground shadow-card transition-shadow hover:shadow-card-hover",e),...t}));X.displayName="Card";const ee=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-3 sm:p-6",e),...t}));ee.displayName="CardHeader";const ne=v.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));ne.displayName="CardTitle";const he=v.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));he.displayName="CardDescription";const Z=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));Z.displayName="CardContent";const cee=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex items-center p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));cee.displayName="CardFooter";const uee="reveal-visible";function bg(e){const t=v.useRef(null),[r,n]=v.useState(!1);return v.useEffect(()=>{const s=t.current;if(!s)return;const i=new IntersectionObserver(([o])=>{o!=null&&o.isIntersecting&&(n(!0),s.classList.add(uee))},{rootMargin:"0px 0px -60px 0px",threshold:.1,...e});return i.observe(s),()=>i.disconnect()},[e==null?void 0:e.rootMargin,e==null?void 0:e.threshold]),{ref:t,visible:r}}const dee=[{id:"1",name:"Chat-native control",description:"Control your agent from WhatsApp, Telegram, Slack, and Discord. One gateway, all your channels.",iconName:"MessageSquare"},{id:"2",name:"Skills & tools",description:"Load skills from SKILL.md with gating checks, run tools with sandboxing and policy whitelists.",iconName:"Zap"},{id:"3",name:"Paired nodes",description:"Pair devices via QR or code. Manage exec allowlists, wake config, and approvals per node.",iconName:"Smartphone"},{id:"4",name:"Browser automation",description:"Managed Chromium profile, CDP abstraction, and capture tools for screenshots, PDF, and DOM.",iconName:"Globe"},{id:"5",name:"Security audit",description:"Automated checks for plaintext secrets, open binds, and risky permissions. Remediation and auto-fix.",iconName:"Shield"},{id:"6",name:"Cron & webhooks",description:"Schedule jobs and inbound webhooks with token auth, lifecycle hooks, and payload transforms.",iconName:"Clock"}],fee=[{id:"tg",providerName:"Telegram",category:"chat"},{id:"wa",providerName:"WhatsApp",category:"chat"},{id:"slack",providerName:"Slack",category:"chat"},{id:"discord",providerName:"Discord",category:"chat"},{id:"openai",providerName:"OpenAI",category:"model"},{id:"anthropic",providerName:"Anthropic",category:"model"},{id:"ollama",providerName:"Ollama",category:"model"}],hee=[{id:"free",planName:"Free",description:"Local gateway, core features",price:"$0",features:["Local-only mode","Control UI","1 channel","Community support"]},{id:"pro",planName:"Pro",description:"Cloud-linked, more channels",price:"TBD",features:["Everything in Free","Multiple channels","Skills registry","Email support"]},{id:"enterprise",planName:"Enterprise",description:"Multi-workspace, SSO, SLA",price:"Contact us",features:["Everything in Pro","Admin dashboard","RBAC","Dedicated support"]}],mee={MessageSquare:ff,Zap:ZI,Smartphone:LH,Globe:zI,Shield:Sr,Clock:Ei};function pee(){const[e,t]=v.useState(null),r=bg(),n=bg(),s=bg(),i=bg();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed left-0 right-0 top-0 z-40 border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(fe,{to:"/",className:"text-xl font-semibold text-foreground",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-6",children:[a.jsx("a",{href:"#features",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Features"}),a.jsx("a",{href:"#quick-start",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Quick start"}),a.jsx("a",{href:"#pricing",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Pricing"}),a.jsx(fe,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Docs"}),a.jsx(fe,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(P,{asChild:!0,size:"sm",children:a.jsx(fe,{to:"/signup",children:"Sign up"})})]})]})}),a.jsxs("main",{children:[a.jsxs("section",{className:"relative overflow-hidden px-4 pt-32 pb-24 sm:px-6 sm:pt-40 sm:pb-32",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"landing-hero-blob absolute -left-32 top-20 h-80 w-80 rounded-full opacity-40",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.4) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-2 absolute right-0 top-1/3 h-96 w-96 rounded-full opacity-30",style:{background:"radial-gradient(circle, rgb(var(--accent) / 0.35) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-3 absolute bottom-20 left-1/3 h-64 w-64 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.3) 0%, transparent 70%)"}})]}),a.jsxs("div",{className:"relative mx-auto max-w-3xl text-center",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:"Local-first, chat-native personal agent"}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground sm:text-xl",children:"Run tools, schedule jobs, pair devices, and control your agent from the chat surfaces you already use."}),a.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-4",children:[a.jsx(P,{size:"lg",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(fe,{to:"/download",className:"inline-flex items-center gap-2",children:[a.jsx(Nr,{className:"h-5 w-5"}),"Install Gateway"]})}),a.jsx(P,{size:"lg",variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(fe,{to:"/dashboard",className:"inline-flex items-center gap-2",children:[a.jsx(Mi,{className:"h-5 w-5"}),"Open Local UI"]})}),a.jsx(P,{size:"lg",variant:"ghost",asChild:!0,className:"min-h-[44px] text-muted-foreground",children:a.jsxs(fe,{to:"/help",className:"inline-flex items-center gap-2",children:[a.jsx(sr,{className:"h-5 w-5"}),"Docs"]})})]})]})]}),a.jsxs("section",{id:"features",ref:r.ref,className:J("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Features"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"One gateway for chat, skills, nodes, automation, and security."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:dee.map((o,l)=>a.jsx(gee,{feature:o,index:l},o.id))})]}),a.jsx("section",{id:"quick-start",ref:n.ref,className:J("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Quick start"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Get running in a few steps."}),a.jsx("ol",{className:"mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:["Install and start the gateway (local-only or cloud-linked).","Open the Control UI at your local URL.","Add a channel (e.g. Telegram) and message your agent.","Try Summarize this URL with a link in chat."].map((o,l)=>a.jsxs("li",{className:"relative flex gap-4 rounded-lg border border-border bg-card p-6 shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground","aria-hidden":!0,children:l+1}),a.jsx("span",{className:"text-muted-foreground",children:o})]},l))})]})}),a.jsxs("section",{id:"integrations",ref:s.ref,className:J("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Works with your stack"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Chat providers and model backends you can connect today."}),a.jsx("div",{className:"mt-12 flex flex-wrap items-center justify-center gap-8",children:fee.map(o=>a.jsx("div",{className:"flex h-14 min-w-[120px] items-center justify-center rounded-lg border border-border bg-card/50 px-6 py-3 text-sm font-medium text-muted-foreground transition-colors hover:border-primary/50 hover:text-foreground",children:o.providerName},o.id))})]}),a.jsx("section",{id:"pricing",ref:i.ref,className:J("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Plans"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Start free, scale when you need more."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-3",children:hee.map(o=>a.jsxs(X,{className:"cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",onClick:()=>t(o),children:[a.jsxs(ee,{className:"pb-2",children:[a.jsx(ne,{className:"text-lg",children:o.planName}),a.jsx(he,{children:o.description}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:o.price})]}),a.jsxs(Z,{children:[a.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.features.slice(0,3).map((l,c)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(jr,{className:"h-4 w-4 text-accent"}),l]},c))}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:l=>{l.stopPropagation(),t(o)},children:"Learn more"})]})]},o.id))})]})}),a.jsx("footer",{className:"border-t border-border py-12",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(fe,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Repository"}),a.jsx(fe,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(fe,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]}),a.jsx(Re,{open:!!e,onOpenChange:o=>{o||t(null)},children:a.jsx(Ee,{className:"max-w-md",children:e&&a.jsxs(a.Fragment,{children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:e.planName}),a.jsx(Ae,{children:e.description})]}),a.jsx("p",{className:"text-2xl font-semibold text-foreground",children:e.price}),a.jsx("ul",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:e.features.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(jr,{className:"h-4 w-4 text-accent"}),o]},l))}),a.jsx(P,{asChild:!0,className:"mt-6 w-full",children:a.jsx(fe,{to:"/signup",children:"Get started"})})]})})})]})}function gee({feature:e,index:t}){const r=mee[e.iconName]??ZI;return a.jsx(X,{className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",style:{transitionDelay:`${t*50}ms`},children:a.jsxs(ee,{children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 text-primary",children:a.jsx(r,{className:"h-6 w-6"})}),a.jsx(ne,{className:"text-lg",children:e.name}),a.jsx(he,{children:e.description})]})})}var Sp=e=>e.type==="checkbox",Hl=e=>e instanceof Date,Kn=e=>e==null;const F3=e=>typeof e=="object";var $r=e=>!Kn(e)&&!Array.isArray(e)&&F3(e)&&!Hl(e),vee=e=>$r(e)&&e.target?Sp(e.target)?e.target.checked:e.target.value:e,yee=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,xee=(e,t)=>e.has(yee(t)),bee=e=>{const t=e.constructor&&e.constructor.prototype;return $r(t)&&t.hasOwnProperty("isPrototypeOf")},sk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(sk&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!($r(e)&&bee(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Lr(e[s]));return n}var sb=e=>/^\w*$/.test(e),ur=e=>e===void 0,ak=e=>Array.isArray(e)?e.filter(Boolean):[],ik=e=>ak(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(e,t,r)=>{if(!t||!$r(e))return r;const n=(sb(t)?[t]:ik(t)).reduce((s,i)=>Kn(s)?s:s[i],e);return ur(n)||n===e?ur(e[t])?r:e[t]:n},za=e=>typeof e=="boolean",va=e=>typeof e=="function",Vt=(e,t,r)=>{let n=-1;const s=sb(t)?[t]:ik(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=$r(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const SP={BLUR:"blur",FOCUS_OUT:"focusout"},ya={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wee=M.createContext(null);wee.displayName="HookFormControlContext";var jee=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ya.all&&(t._proxyFormState[o]=!n||ya.all),e[o]}});return s};const _ee=typeof window<"u"?M.useLayoutEffect:M.useEffect;var us=e=>typeof e=="string",See=(e,t,r,n,s)=>us(e)?(n&&t.watch.add(e),Fe(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Fe(r,i))):(n&&(t.watchAll=!0),r),E_=e=>Kn(e)||!F3(e);function Ro(e,t,r=new WeakSet){if(E_(e)||E_(t))return Object.is(e,t);if(Hl(e)&&Hl(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Hl(o)&&Hl(l)||$r(o)&&$r(l)||Array.isArray(o)&&Array.isArray(l)?!Ro(o,l,r):!Object.is(o,l))return!1}}return!0}const Nee=M.createContext(null);Nee.displayName="HookFormContext";var U3=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Mh=e=>Array.isArray(e)?e:[e],NP=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function q3(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&$r(s)&&i){const o=q3(s,i);$r(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var Pn=e=>$r(e)&&!Object.keys(e).length,ok=e=>e.type==="file",Xv=e=>{if(!sk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},B3=e=>e.type==="select-multiple",lk=e=>e.type==="radio",kee=e=>lk(e)||Sp(e),Zw=e=>Xv(e)&&e.isConnected;function Cee(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ur(e)?n++:e[t[n++]];return e}function Eee(e){for(const t in e)if(e.hasOwnProperty(t)&&!ur(e[t]))return!1;return!0}function Pr(e,t){const r=Array.isArray(t)?t:sb(t)?[t]:ik(t),n=r.length===1?e:Cee(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&($r(n)&&Pn(n)||Array.isArray(n)&&Eee(n))&&Pr(e,r.slice(0,-1)),e}var Pee=e=>{for(const t in e)if(va(e[t]))return!0;return!1};function z3(e){return Array.isArray(e)||$r(e)&&!Pee(e)}function P_(e,t={}){for(const r in e){const n=e[r];z3(n)?(t[r]=Array.isArray(n)?[]:{},P_(n,t[r])):ur(n)||(t[r]=!0)}return t}function xu(e,t,r){r||(r=P_(t));for(const n in e){const s=e[n];if(z3(s))ur(t)||E_(r[n])?r[n]=P_(s,Array.isArray(s)?[]:{}):xu(s,Kn(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!Ro(s,i)}}return r}const kP={value:!1,isValid:!1},CP={value:!0,isValid:!0};var W3=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ur(e[0].attributes.value)?ur(e[0].value)||e[0].value===""?CP:{value:e[0].value,isValid:!0}:CP:kP}return kP},V3=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ur(e)?e:t?e===""?NaN:e&&+e:r&&us(e)?new Date(e):n?n(e):e;const EP={isValid:!1,value:null};var K3=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,EP):EP;function PP(e){const t=e.ref;return ok(t)?t.files:lk(t)?K3(e.refs).value:B3(t)?[...t.selectedOptions].map(({value:r})=>r):Sp(t)?W3(e.refs).value:V3(ur(t.value)?e.ref.value:t.value,e)}var Oee=(e,t,r,n)=>{const s={};for(const i of e){const o=Fe(t,i);o&&Vt(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Jv=e=>e instanceof RegExp,Hf=e=>ur(e)?e:Jv(e)?e.source:$r(e)?Jv(e.value)?e.value.source:e.value:e,OP=e=>({isOnSubmit:!e||e===ya.onSubmit,isOnBlur:e===ya.onBlur,isOnChange:e===ya.onChange,isOnAll:e===ya.all,isOnTouch:e===ya.onTouched});const AP="AsyncFunction";var Aee=e=>!!e&&!!e.validate&&!!(va(e.validate)&&e.validate.constructor.name===AP||$r(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===AP)),Tee=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),TP=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const $h=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Fe(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if($h(l,t))break}else if($r(l)&&$h(l,t))break}}};function RP(e,t,r){const n=Fe(e,r);if(n||sb(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Fe(t,i),l=Fe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var Ree=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Pn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ya.all))},Mee=(e,t,r)=>!e||!t||e===t||Mh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),$ee=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Iee=(e,t)=>!ak(Fe(e,t)).length&&Pr(e,t),Dee=(e,t,r)=>{const n=Mh(Fe(e,r));return Vt(n,"root",t[r]),Vt(e,r,n),e};function MP(e,t,r="validate"){if(us(e)||Array.isArray(e)&&e.every(us)||za(e)&&!e)return{type:r,message:us(e)?e:"",ref:t}}var cu=e=>$r(e)&&!Jv(e)?e:{value:e,message:""},$P=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:x,mount:b}=e._f,y=Fe(r,p);if(!b||t.has(p))return{};const w=l?l[0]:o,_=E=>{s&&w.reportValidity&&(w.setCustomValidity(za(E)?"":E||""),w.reportValidity())},j={},S=lk(o),N=Sp(o),k=S||N,C=(x||ok(o))&&ur(o.value)&&ur(y)||Xv(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,O=U3.bind(null,p,n,j),L=(E,F,$,K=pi.maxLength,T=pi.minLength)=>{const V=E?F:$;j[p]={type:E?K:T,message:V,ref:o,...O(E?K:T,V)}};if(i?!Array.isArray(y)||!y.length:c&&(!k&&(C||Kn(y))||za(y)&&!y||N&&!W3(l).isValid||S&&!K3(l).isValid)){const{value:E,message:F}=us(c)?{value:!!c,message:c}:cu(c);if(E&&(j[p]={type:pi.required,message:F,ref:w,...O(pi.required,F)},!n))return _(F),j}if(!C&&(!Kn(f)||!Kn(h))){let E,F;const $=cu(h),K=cu(f);if(!Kn(y)&&!isNaN(y)){const T=o.valueAsNumber||y&&+y;Kn($.value)||(E=T>$.value),Kn(K.value)||(F=T<K.value)}else{const T=o.valueAsDate||new Date(y),V=D=>new Date(new Date().toDateString()+" "+D),R=o.type=="time",I=o.type=="week";us($.value)&&y&&(E=R?V(y)>V($.value):I?y>$.value:T>new Date($.value)),us(K.value)&&y&&(F=R?V(y)<V(K.value):I?y<K.value:T<new Date(K.value))}if((E||F)&&(L(!!E,$.message,K.message,pi.max,pi.min),!n))return _(j[p].message),j}if((u||d)&&!C&&(us(y)||i&&Array.isArray(y))){const E=cu(u),F=cu(d),$=!Kn(E.value)&&y.length>+E.value,K=!Kn(F.value)&&y.length<+F.value;if(($||K)&&(L($,E.message,F.message),!n))return _(j[p].message),j}if(m&&!C&&us(y)){const{value:E,message:F}=cu(m);if(Jv(E)&&!y.match(E)&&(j[p]={type:pi.pattern,message:F,ref:o,...O(pi.pattern,F)},!n))return _(F),j}if(g){if(va(g)){const E=await g(y,r),F=MP(E,w);if(F&&(j[p]={...F,...O(pi.validate,F.message)},!n))return _(F.message),j}else if($r(g)){let E={};for(const F in g){if(!Pn(E)&&!n)break;const $=MP(await g[F](y,r),w,F);$&&(E={...$,...O(F,$.message)},_($.message),n&&(j[p]=E))}if(!Pn(E)&&(j[p]={ref:w,...E},!n))return j}}return _(!0),j};const Lee={mode:ya.onSubmit,reValidateMode:ya.onChange,shouldFocusError:!0};function Fee(e={}){let t={...Lee,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:va(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=$r(t.defaultValues)||$r(t.values)?Lr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Lr(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const m={array:NP(),state:NP()},g=t.criteriaMode===ya.all,p=B=>G=>{clearTimeout(u),u=setTimeout(B,G)},x=async B=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||B)){let G;t.resolver?(G=Pn((await k()).errors),b()):G=await O(n,!0),G!==r.isValid&&m.state.next({isValid:G})}},b=(B,G)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((B||Array.from(l.mount)).forEach(z=>{z&&(G?Vt(r.validatingFields,z,G):Pr(r.validatingFields,z))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Pn(r.validatingFields)}))},y=(B,G=[],z,me,xe=!0,ie=!0)=>{if(me&&z&&!t.disabled){if(o.action=!0,ie&&Array.isArray(Fe(n,B))){const Ce=z(Fe(n,B),me.argA,me.argB);xe&&Vt(n,B,Ce)}if(ie&&Array.isArray(Fe(r.errors,B))){const Ce=z(Fe(r.errors,B),me.argA,me.argB);xe&&Vt(r.errors,B,Ce),Iee(r.errors,B)}if((f.touchedFields||h.touchedFields)&&ie&&Array.isArray(Fe(r.touchedFields,B))){const Ce=z(Fe(r.touchedFields,B),me.argA,me.argB);xe&&Vt(r.touchedFields,B,Ce)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=xu(s,i)),m.state.next({name:B,isDirty:E(B,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Vt(i,B,G)},w=(B,G)=>{Vt(r.errors,B,G),m.state.next({errors:r.errors})},_=B=>{r.errors=B,m.state.next({errors:r.errors,isValid:!1})},j=(B,G,z,me)=>{const xe=Fe(n,B);if(xe){const ie=Fe(i,B,ur(z)?Fe(s,B):z);ur(ie)||me&&me.defaultChecked||G?Vt(i,B,G?ie:PP(xe._f)):K(B,ie),o.mount&&!o.action&&x()}},S=(B,G,z,me,xe)=>{let ie=!1,Ce=!1;const Ot={name:B};if(!t.disabled){if(!z||me){(f.isDirty||h.isDirty)&&(Ce=r.isDirty,r.isDirty=Ot.isDirty=E(),ie=Ce!==Ot.isDirty);const At=Ro(Fe(s,B),G);Ce=!!Fe(r.dirtyFields,B),At?Pr(r.dirtyFields,B):Vt(r.dirtyFields,B,!0),Ot.dirtyFields=r.dirtyFields,ie=ie||(f.dirtyFields||h.dirtyFields)&&Ce!==!At}if(z){const At=Fe(r.touchedFields,B);At||(Vt(r.touchedFields,B,z),Ot.touchedFields=r.touchedFields,ie=ie||(f.touchedFields||h.touchedFields)&&At!==z)}ie&&xe&&m.state.next(Ot)}return ie?Ot:{}},N=(B,G,z,me)=>{const xe=Fe(r.errors,B),ie=(f.isValid||h.isValid)&&za(G)&&r.isValid!==G;if(t.delayError&&z?(c=p(()=>w(B,z)),c(t.delayError)):(clearTimeout(u),c=null,z?Vt(r.errors,B,z):Pr(r.errors,B)),(z?!Ro(xe,z):xe)||!Pn(me)||ie){const Ce={...me,...ie&&za(G)?{isValid:G}:{},errors:r.errors,name:B};r={...r,...Ce},m.state.next(Ce)}},k=async B=>(b(B,!0),await t.resolver(i,t.context,Oee(B||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async B=>{const{errors:G}=await k(B);if(b(B),B)for(const z of B){const me=Fe(G,z);me?Vt(r.errors,z,me):Pr(r.errors,z)}else r.errors=G;return G},O=async(B,G,z={valid:!0})=>{for(const me in B){const xe=B[me];if(xe){const{_f:ie,...Ce}=xe;if(ie){const Ot=l.array.has(ie.name),At=xe._f&&Aee(xe._f);At&&f.validatingFields&&b([ie.name],!0);const Er=await $P(xe,l.disabled,i,g,t.shouldUseNativeValidation&&!G,Ot);if(At&&f.validatingFields&&b([ie.name]),Er[ie.name]&&(z.valid=!1,G||e.shouldUseNativeValidation))break;!G&&(Fe(Er,ie.name)?Ot?Dee(r.errors,Er,ie.name):Vt(r.errors,ie.name,Er[ie.name]):Pr(r.errors,ie.name))}!Pn(Ce)&&await O(Ce,G,z)}}return z.valid},L=()=>{for(const B of l.unMount){const G=Fe(n,B);G&&(G._f.refs?G._f.refs.every(z=>!Zw(z)):!Zw(G._f.ref))&&Ne(B)}l.unMount=new Set},E=(B,G)=>!t.disabled&&(B&&G&&Vt(i,B,G),!Ro(te(),s)),F=(B,G,z)=>See(B,l,{...o.mount?i:ur(G)?s:us(B)?{[B]:G}:G},z,G),$=B=>ak(Fe(o.mount?i:s,B,t.shouldUnregister?Fe(s,B,[]):[])),K=(B,G,z={})=>{const me=Fe(n,B);let xe=G;if(me){const ie=me._f;ie&&(!ie.disabled&&Vt(i,B,V3(G,ie)),xe=Xv(ie.ref)&&Kn(G)?"":G,B3(ie.ref)?[...ie.ref.options].forEach(Ce=>Ce.selected=xe.includes(Ce.value)):ie.refs?Sp(ie.ref)?ie.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(xe)?Ce.checked=!!xe.find(Ot=>Ot===Ce.value):Ce.checked=xe===Ce.value||!!xe)}):ie.refs.forEach(Ce=>Ce.checked=Ce.value===xe):ok(ie.ref)?ie.ref.value="":(ie.ref.value=xe,ie.ref.type||m.state.next({name:B,values:Lr(i)})))}(z.shouldDirty||z.shouldTouch)&&S(B,xe,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&D(B)},T=(B,G,z)=>{for(const me in G){if(!G.hasOwnProperty(me))return;const xe=G[me],ie=B+"."+me,Ce=Fe(n,ie);(l.array.has(B)||$r(xe)||Ce&&!Ce._f)&&!Hl(xe)?T(ie,xe,z):K(ie,xe,z)}},V=(B,G,z={})=>{const me=Fe(n,B),xe=l.array.has(B),ie=Lr(G);Vt(i,B,ie),xe?(m.array.next({name:B,values:Lr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&z.shouldDirty&&m.state.next({name:B,dirtyFields:xu(s,i),isDirty:E(B,ie)})):me&&!me._f&&!Kn(ie)?T(B,ie,z):K(B,ie,z),TP(B,l)?m.state.next({...r,name:B,values:Lr(i)}):m.state.next({name:o.mount?B:void 0,values:Lr(i)})},R=async B=>{o.mount=!0;const G=B.target;let z=G.name,me=!0;const xe=Fe(n,z),ie=At=>{me=Number.isNaN(At)||Hl(At)&&isNaN(At.getTime())||Ro(At,Fe(i,z,At))},Ce=OP(t.mode),Ot=OP(t.reValidateMode);if(xe){let At,Er;const hi=G.type?PP(xe._f):vee(B),Zs=B.type===SP.BLUR||B.type===SP.FOCUS_OUT,Mf=!Tee(xe._f)&&!t.resolver&&!Fe(r.errors,z)&&!xe._f.deps||$ee(Zs,Fe(r.touchedFields,z),r.isSubmitted,Ot,Ce),Ua=TP(z,l,Zs);Vt(i,z,hi),Zs?(!G||!G.readOnly)&&(xe._f.onBlur&&xe._f.onBlur(B),c&&c(0)):xe._f.onChange&&xe._f.onChange(B);const Jc=S(z,hi,Zs),ho=!Pn(Jc)||Ua;if(!Zs&&m.state.next({name:z,type:B.type,values:Lr(i)}),Mf)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Zs&&x():Zs||x()),ho&&m.state.next({name:z,...Ua?{}:Jc});if(!Zs&&Ua&&m.state.next({...r}),t.resolver){const{errors:Up}=await k([z]);if(b([z]),ie(hi),me){const nw=RP(r.errors,n,z),$f=RP(Up,n,nw.name||z);At=$f.error,z=$f.name,Er=Pn(Up)}}else b([z],!0),At=(await $P(xe,l.disabled,i,g,t.shouldUseNativeValidation))[z],b([z]),ie(hi),me&&(At?Er=!1:(f.isValid||h.isValid)&&(Er=await O(n,!0)));me&&(xe._f.deps&&(!Array.isArray(xe._f.deps)||xe._f.deps.length>0)&&D(xe._f.deps),N(z,Er,At,Jc))}},I=(B,G)=>{if(Fe(r.errors,G)&&B.focus)return B.focus(),1},D=async(B,G={})=>{let z,me;const xe=Mh(B);if(t.resolver){const ie=await C(ur(B)?B:xe);z=Pn(ie),me=B?!xe.some(Ce=>Fe(ie,Ce)):z}else B?(me=(await Promise.all(xe.map(async ie=>{const Ce=Fe(n,ie);return await O(Ce&&Ce._f?{[ie]:Ce}:Ce)}))).every(Boolean),!(!me&&!r.isValid)&&x()):me=z=await O(n);return m.state.next({...!us(B)||(f.isValid||h.isValid)&&z!==r.isValid?{}:{name:B},...t.resolver||!B?{isValid:z}:{},errors:r.errors}),G.shouldFocus&&!me&&$h(n,I,B?xe:l.mount),me},te=(B,G)=>{let z={...o.mount?i:s};return G&&(z=q3(G.dirtyFields?r.dirtyFields:r.touchedFields,z)),ur(B)?z:us(B)?Fe(z,B):B.map(me=>Fe(z,me))},A=(B,G)=>({invalid:!!Fe((G||r).errors,B),isDirty:!!Fe((G||r).dirtyFields,B),error:Fe((G||r).errors,B),isValidating:!!Fe(r.validatingFields,B),isTouched:!!Fe((G||r).touchedFields,B)}),re=B=>{B&&Mh(B).forEach(G=>Pr(r.errors,G)),m.state.next({errors:B?r.errors:{}})},ye=(B,G,z)=>{const me=(Fe(n,B,{_f:{}})._f||{}).ref,xe=Fe(r.errors,B)||{},{ref:ie,message:Ce,type:Ot,...At}=xe;Vt(r.errors,B,{...At,...G,ref:me}),m.state.next({name:B,errors:r.errors,isValid:!1}),z&&z.shouldFocus&&me&&me.focus&&me.focus()},We=(B,G)=>va(B)?m.state.subscribe({next:z=>"values"in z&&B(F(void 0,G),z)}):F(B,G,!0),Ke=B=>m.state.subscribe({next:G=>{Mee(B.name,G.name,B.exact)&&Ree(G,B.formState||f,Cr,B.reRenderRoot)&&B.callback({values:{...i},...r,...G,defaultValues:s})}}).unsubscribe,pe=B=>(o.mount=!0,h={...h,...B.formState},Ke({...B,formState:{...d,...B.formState}})),Ne=(B,G={})=>{for(const z of B?Mh(B):l.mount)l.mount.delete(z),l.array.delete(z),G.keepValue||(Pr(n,z),Pr(i,z)),!G.keepError&&Pr(r.errors,z),!G.keepDirty&&Pr(r.dirtyFields,z),!G.keepTouched&&Pr(r.touchedFields,z),!G.keepIsValidating&&Pr(r.validatingFields,z),!t.shouldUnregister&&!G.keepDefaultValue&&Pr(s,z);m.state.next({values:Lr(i)}),m.state.next({...r,...G.keepDirty?{isDirty:E()}:{}}),!G.keepIsValid&&x()},se=({disabled:B,name:G})=>{if(za(B)&&o.mount||B||l.disabled.has(G)){const xe=l.disabled.has(G)!==!!B;B?l.disabled.add(G):l.disabled.delete(G),xe&&o.mount&&!o.action&&x()}},ve=(B,G={})=>{let z=Fe(n,B);const me=za(G.disabled)||za(t.disabled);return Vt(n,B,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:B}},name:B,mount:!0,...G}}),l.mount.add(B),z?se({disabled:za(G.disabled)?G.disabled:t.disabled,name:B}):j(B,!0,G.value),{...me?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:Hf(G.min),max:Hf(G.max),minLength:Hf(G.minLength),maxLength:Hf(G.maxLength),pattern:Hf(G.pattern)}:{},name:B,onChange:R,onBlur:R,ref:xe=>{if(xe){ve(B,G),z=Fe(n,B);const ie=ur(xe.value)&&xe.querySelectorAll&&xe.querySelectorAll("input,select,textarea")[0]||xe,Ce=kee(ie),Ot=z._f.refs||[];if(Ce?Ot.find(At=>At===ie):ie===z._f.ref)return;Vt(n,B,{_f:{...z._f,...Ce?{refs:[...Ot.filter(Zw),ie,...Array.isArray(Fe(s,B))?[{}]:[]],ref:{type:ie.type,name:B}}:{ref:ie}}}),j(B,!1,void 0,ie)}else z=Fe(n,B,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(xee(l.array,B)&&o.action)&&l.unMount.add(B)}}},Y=()=>t.shouldFocusError&&$h(n,I,l.mount),Q=B=>{za(B)&&(m.state.next({disabled:B}),$h(n,(G,z)=>{const me=Fe(n,z);me&&(G.disabled=me._f.disabled||B,Array.isArray(me._f.refs)&&me._f.refs.forEach(xe=>{xe.disabled=me._f.disabled||B}))},0,!1))},Xe=(B,G)=>async z=>{let me;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let xe=Lr(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ie,values:Ce}=await k();b(),r.errors=ie,xe=Lr(Ce)}else await O(n);if(l.disabled.size)for(const ie of l.disabled)Pr(xe,ie);if(Pr(r.errors,"root"),Pn(r.errors)){m.state.next({errors:{}});try{await B(xe,z)}catch(ie){me=ie}}else G&&await G({...r.errors},z),Y(),setTimeout(Y);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pn(r.errors)&&!me,submitCount:r.submitCount+1,errors:r.errors}),me)throw me},He=(B,G={})=>{Fe(n,B)&&(ur(G.defaultValue)?V(B,Lr(Fe(s,B))):(V(B,G.defaultValue),Vt(s,B,Lr(G.defaultValue))),G.keepTouched||Pr(r.touchedFields,B),G.keepDirty||(Pr(r.dirtyFields,B),r.isDirty=G.defaultValue?E(B,Lr(Fe(s,B))):E()),G.keepError||(Pr(r.errors,B),f.isValid&&x()),m.state.next({...r}))},bt=(B,G={})=>{const z=B?Lr(B):s,me=Lr(z),xe=Pn(B),ie=xe?s:me;if(G.keepDefaultValues||(s=z),!G.keepValues){if(G.keepDirtyValues){const Ce=new Set([...l.mount,...Object.keys(xu(s,i))]);for(const Ot of Array.from(Ce)){const At=Fe(r.dirtyFields,Ot),Er=Fe(i,Ot),hi=Fe(ie,Ot);At&&!ur(Er)?Vt(ie,Ot,Er):!At&&!ur(hi)&&V(Ot,hi)}}else{if(sk&&ur(B))for(const Ce of l.mount){const Ot=Fe(n,Ce);if(Ot&&Ot._f){const At=Array.isArray(Ot._f.refs)?Ot._f.refs[0]:Ot._f.ref;if(Xv(At)){const Er=At.closest("form");if(Er){Er.reset();break}}}}if(G.keepFieldsRef)for(const Ce of l.mount)V(Ce,Fe(ie,Ce));else n={}}i=t.shouldUnregister?G.keepDefaultValues?Lr(s):{}:Lr(ie),m.array.next({values:{...ie}}),m.state.next({values:{...ie}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!G.keepIsValid||!!G.keepDirtyValues||!t.shouldUnregister&&!Pn(ie),o.watch=!!t.shouldUnregister,o.keepIsValid=!!G.keepIsValid,o.action=!1,G.keepErrors||(r.errors={}),m.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:xe?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!Ro(B,s)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:xe?{}:G.keepDirtyValues?G.keepDefaultValues&&i?xu(s,i):r.dirtyFields:G.keepDefaultValues&&B?xu(s,B):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ft=(B,G)=>bt(va(B)?B(i):B,{...t.resetOptions,...G}),Wt=(B,G={})=>{const z=Fe(n,B),me=z&&z._f;if(me){const xe=me.refs?me.refs[0]:me.ref;xe.focus&&setTimeout(()=>{xe.focus(),G.shouldSelect&&va(xe.select)&&xe.select()})}},Cr=B=>{r={...r,...B}},_s={control:{register:ve,unregister:Ne,getFieldState:A,handleSubmit:Xe,setError:ye,_subscribe:Ke,_runSchema:k,_updateIsValidating:b,_focusError:Y,_getWatch:F,_getDirty:E,_setValid:x,_setFieldArray:y,_setDisabledField:se,_setErrors:_,_getFieldArray:$,_reset:bt,_resetDefaultValues:()=>va(t.defaultValues)&&t.defaultValues().then(B=>{ft(B,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:Q,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(B){o=B},get _defaultValues(){return s},get _names(){return l},set _names(B){l=B},get _formState(){return r},get _options(){return t},set _options(B){t={...t,...B}}},subscribe:pe,trigger:D,register:ve,handleSubmit:Xe,watch:We,setValue:V,getValues:te,reset:ft,resetField:He,clearErrors:re,unregister:Ne,setError:ye,setFocus:Wt,getFieldState:A};return{..._s,formControl:_s}}function Ze(e={}){const t=M.useRef(void 0),r=M.useRef(void 0),[n,s]=M.useState({isDirty:!1,isValidating:!1,isLoading:va(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:va(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!va(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Fee(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,_ee(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),M.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),M.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),M.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),M.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),M.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),M.useEffect(()=>{var o;e.values&&!Ro(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),M.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=M.useMemo(()=>jee(n,i),[i,n]),t.current}const IP=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Fe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},H3=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?IP(n.ref,r,e):n.refs&&n.refs.forEach(s=>IP(s,r,e))}},Uee=(e,t)=>{t.shouldUseNativeValidation&&H3(e,t);const r={};for(const n in e){const s=Fe(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(qee(t.names||Object.keys(e),n)){const o=Object.assign({},Fe(r,n));Vt(o,"root",i),Vt(r,n,o)}else Vt(r,n,i)}return r},qee=(e,t)=>e.some(r=>r.startsWith(t+"."));var Bee=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=U3(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},et=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&H3({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Uee(Bee(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Et;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Et||(Et={}));var DP;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(DP||(DP={}));const Ue=Et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Eo=e=>{switch(typeof e){case"undefined":return Ue.undefined;case"string":return Ue.string;case"number":return Number.isNaN(e)?Ue.nan:Ue.number;case"boolean":return Ue.boolean;case"function":return Ue.function;case"bigint":return Ue.bigint;case"symbol":return Ue.symbol;case"object":return Array.isArray(e)?Ue.array:e===null?Ue.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ue.promise:typeof Map<"u"&&e instanceof Map?Ue.map:typeof Set<"u"&&e instanceof Set?Ue.set:typeof Date<"u"&&e instanceof Date?Ue.date:Ue.object;default:return Ue.unknown}},je=Et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Hi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Hi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Hi.create=e=>new Hi(e);const O_=(e,t)=>{let r;switch(e.code){case je.invalid_type:e.received===Ue.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case je.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Et.jsonStringifyReplacer)}`;break;case je.unrecognized_keys:r=`Unrecognized key(s) in object: ${Et.joinValues(e.keys,", ")}`;break;case je.invalid_union:r="Invalid input";break;case je.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Et.joinValues(e.options)}`;break;case je.invalid_enum_value:r=`Invalid enum value. Expected ${Et.joinValues(e.options)}, received '${e.received}'`;break;case je.invalid_arguments:r="Invalid function arguments";break;case je.invalid_return_type:r="Invalid function return type";break;case je.invalid_date:r="Invalid date";break;case je.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Et.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case je.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case je.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case je.custom:r="Invalid input";break;case je.invalid_intersection_types:r="Intersection results could not be merged";break;case je.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case je.not_finite:r="Number must be finite";break;default:r=t.defaultError,Et.assertNever(e)}return{message:r}};let zee=O_;function Wee(){return zee}const Vee=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function Me(e,t){const r=Wee(),n=Vee({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===O_?void 0:O_].filter(s=>!!s)});e.common.issues.push(n)}class ys{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return rt;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return ys.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return rt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const rt=Object.freeze({status:"aborted"}),xh=e=>({status:"dirty",value:e}),Gs=e=>({status:"valid",value:e}),LP=e=>e.status==="aborted",FP=e=>e.status==="dirty",kd=e=>e.status==="valid",Zv=e=>typeof Promise<"u"&&e instanceof Promise;var qe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(qe||(qe={}));class fl{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const UP=(e,t)=>{if(kd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Hi(e.common.issues);return this._error=r,this._error}}};function mt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class kt{get description(){return this._def.description}_getType(t){return Eo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Eo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ys,ctx:{common:t.parent.common,data:t.data,parsedType:Eo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Zv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Eo(t)},s=this._parseSync({data:t,path:n.path,parent:n});return UP(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Eo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return kd(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>kd(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Eo(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Zv(s)?s:Promise.resolve(s));return UP(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:je.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Pd({schema:this,typeName:nt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return al.create(this,this._def)}nullable(){return Od.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ri.create(this)}promise(){return ny.create(this,this._def)}or(t){return ty.create([this,t],this._def)}and(t){return ry.create(this,t,this._def)}transform(t){return new Pd({...mt(this._def),schema:this,typeName:nt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new R_({...mt(this._def),innerType:this,defaultValue:r,typeName:nt.ZodDefault})}brand(){return new mte({typeName:nt.ZodBranded,type:this,...mt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new M_({...mt(this._def),innerType:this,catchValue:r,typeName:nt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ck.create(this,t)}readonly(){return $_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Kee=/^c[^\s-]{8,}$/i,Hee=/^[0-9a-z]+$/,Gee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Yee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qee=/^[a-z0-9_-]{21}$/i,Xee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Jee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Zee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ete="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let e0;const tte=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rte=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nte=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ste=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ate=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ite=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,G3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ote=new RegExp(`^${G3}$`);function Y3(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function lte(e){return new RegExp(`^${Y3(e)}$`)}function cte(e){let t=`${G3}T${Y3(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function ute(e,t){return!!((t==="v4"||!t)&&tte.test(e)||(t==="v6"||!t)&&nte.test(e))}function dte(e,t){if(!Xee.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function fte(e,t){return!!((t==="v4"||!t)&&rte.test(e)||(t==="v6"||!t)&&ste.test(e))}class Pi extends kt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ue.string){const i=this._getOrReturnCtx(t);return Me(i,{code:je.invalid_type,expected:Ue.string,received:i.parsedType}),rt}const n=new ys;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Me(s,{code:je.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Me(s,{code:je.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Me(s,{code:je.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Me(s,{code:je.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Zee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"email",code:je.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")e0||(e0=new RegExp(ete,"u")),e0.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"emoji",code:je.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Yee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"uuid",code:je.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Qee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"nanoid",code:je.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Kee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"cuid",code:je.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Hee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"cuid2",code:je.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Gee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"ulid",code:je.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Me(s,{validation:"url",code:je.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"regex",code:je.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Me(s,{code:je.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Me(s,{code:je.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Me(s,{code:je.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?cte(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{code:je.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?ote.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{code:je.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?lte(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{code:je.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Jee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"duration",code:je.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?ute(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"ip",code:je.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?dte(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"jwt",code:je.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?fte(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"cidr",code:je.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?ate.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"base64",code:je.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?ite.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"base64url",code:je.invalid_string,message:i.message}),n.dirty()):Et.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:je.invalid_string,...qe.errToObj(n)})}_addCheck(t){return new Pi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...qe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...qe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...qe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...qe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...qe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...qe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...qe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...qe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...qe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...qe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...qe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...qe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...qe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...qe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...qe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...qe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...qe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...qe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...qe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...qe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...qe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...qe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...qe.errToObj(r)})}nonempty(t){return this.min(1,qe.errToObj(t))}trim(){return new Pi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Pi.create=e=>new Pi({checks:[],typeName:nt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...mt(e)});function hte(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class Cc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ue.number){const i=this._getOrReturnCtx(t);return Me(i,{code:je.invalid_type,expected:Ue.number,received:i.parsedType}),rt}let n;const s=new ys;for(const i of this._def.checks)i.kind==="int"?Et.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Me(n,{code:je.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:je.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:je.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?hte(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Me(n,{code:je.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Me(n,{code:je.not_finite,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,qe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,qe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,qe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,qe.toString(r))}setLimit(t,r,n,s){return new Cc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:qe.toString(s)}]})}_addCheck(t){return new Cc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:qe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:qe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:qe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:qe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:qe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Et.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Cc.create=e=>new Cc({checks:[],typeName:nt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...mt(e)});class Ec extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ue.bigint)return this._getInvalidInput(t);let n;const s=new ys;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:je.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:je.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:je.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Me(r,{code:je.invalid_type,expected:Ue.bigint,received:r.parsedType}),rt}gte(t,r){return this.setLimit("min",t,!0,qe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,qe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,qe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,qe.toString(r))}setLimit(t,r,n,s){return new Ec({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:qe.toString(s)}]})}_addCheck(t){return new Ec({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:qe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:qe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ec.create=e=>new Ec({checks:[],typeName:nt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...mt(e)});class ey extends kt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ue.boolean){const n=this._getOrReturnCtx(t);return Me(n,{code:je.invalid_type,expected:Ue.boolean,received:n.parsedType}),rt}return Gs(t.data)}}ey.create=e=>new ey({typeName:nt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...mt(e)});class Cd extends kt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ue.date){const i=this._getOrReturnCtx(t);return Me(i,{code:je.invalid_type,expected:Ue.date,received:i.parsedType}),rt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Me(i,{code:je.invalid_date}),rt}const n=new ys;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Me(s,{code:je.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Me(s,{code:je.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Et.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Cd({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:qe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:qe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Cd.create=e=>new Cd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:nt.ZodDate,...mt(e)});class qP extends kt{_parse(t){if(this._getType(t)!==Ue.symbol){const n=this._getOrReturnCtx(t);return Me(n,{code:je.invalid_type,expected:Ue.symbol,received:n.parsedType}),rt}return Gs(t.data)}}qP.create=e=>new qP({typeName:nt.ZodSymbol,...mt(e)});class BP extends kt{_parse(t){if(this._getType(t)!==Ue.undefined){const n=this._getOrReturnCtx(t);return Me(n,{code:je.invalid_type,expected:Ue.undefined,received:n.parsedType}),rt}return Gs(t.data)}}BP.create=e=>new BP({typeName:nt.ZodUndefined,...mt(e)});class zP extends kt{_parse(t){if(this._getType(t)!==Ue.null){const n=this._getOrReturnCtx(t);return Me(n,{code:je.invalid_type,expected:Ue.null,received:n.parsedType}),rt}return Gs(t.data)}}zP.create=e=>new zP({typeName:nt.ZodNull,...mt(e)});class WP extends kt{constructor(){super(...arguments),this._any=!0}_parse(t){return Gs(t.data)}}WP.create=e=>new WP({typeName:nt.ZodAny,...mt(e)});class VP extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Gs(t.data)}}VP.create=e=>new VP({typeName:nt.ZodUnknown,...mt(e)});class hl extends kt{_parse(t){const r=this._getOrReturnCtx(t);return Me(r,{code:je.invalid_type,expected:Ue.never,received:r.parsedType}),rt}}hl.create=e=>new hl({typeName:nt.ZodNever,...mt(e)});class KP extends kt{_parse(t){if(this._getType(t)!==Ue.undefined){const n=this._getOrReturnCtx(t);return Me(n,{code:je.invalid_type,expected:Ue.void,received:n.parsedType}),rt}return Gs(t.data)}}KP.create=e=>new KP({typeName:nt.ZodVoid,...mt(e)});class ri extends kt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Ue.array)return Me(r,{code:je.invalid_type,expected:Ue.array,received:r.parsedType}),rt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Me(r,{code:o?je.too_big:je.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Me(r,{code:je.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Me(r,{code:je.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new fl(r,o,r.path,l)))).then(o=>ys.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new fl(r,o,r.path,l)));return ys.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ri({...this._def,minLength:{value:t,message:qe.toString(r)}})}max(t,r){return new ri({...this._def,maxLength:{value:t,message:qe.toString(r)}})}length(t,r){return new ri({...this._def,exactLength:{value:t,message:qe.toString(r)}})}nonempty(t){return this.min(1,t)}}ri.create=(e,t)=>new ri({type:e,minLength:null,maxLength:null,exactLength:null,typeName:nt.ZodArray,...mt(t)});function bu(e){if(e instanceof Tr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=al.create(bu(n))}return new Tr({...e._def,shape:()=>t})}else return e instanceof ri?new ri({...e._def,type:bu(e.element)}):e instanceof al?al.create(bu(e.unwrap())):e instanceof Od?Od.create(bu(e.unwrap())):e instanceof Pc?Pc.create(e.items.map(t=>bu(t))):e}class Tr extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Et.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ue.object){const u=this._getOrReturnCtx(t);return Me(u,{code:je.invalid_type,expected:Ue.object,received:u.parsedType}),rt}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof hl&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new fl(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof hl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Me(s,{code:je.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new fl(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ys.mergeObjectSync(n,u)):ys.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return qe.errToObj,new Tr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:qe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Tr({...this._def,unknownKeys:"strip"})}passthrough(){return new Tr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Tr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Tr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:nt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Tr({...this._def,catchall:t})}pick(t){const r={};for(const n of Et.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Tr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Et.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Tr({...this._def,shape:()=>r})}deepPartial(){return bu(this)}partial(t){const r={};for(const n of Et.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Tr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Et.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof al;)i=i._def.innerType;r[n]=i}return new Tr({...this._def,shape:()=>r})}keyof(){return Q3(Et.objectKeys(this.shape))}}Tr.create=(e,t)=>new Tr({shape:()=>e,unknownKeys:"strip",catchall:hl.create(),typeName:nt.ZodObject,...mt(t)});Tr.strictCreate=(e,t)=>new Tr({shape:()=>e,unknownKeys:"strict",catchall:hl.create(),typeName:nt.ZodObject,...mt(t)});Tr.lazycreate=(e,t)=>new Tr({shape:e,unknownKeys:"strip",catchall:hl.create(),typeName:nt.ZodObject,...mt(t)});class ty extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Hi(l.ctx.common.issues));return Me(r,{code:je.invalid_union,unionErrors:o}),rt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Hi(c));return Me(r,{code:je.invalid_union,unionErrors:l}),rt}}get options(){return this._def.options}}ty.create=(e,t)=>new ty({options:e,typeName:nt.ZodUnion,...mt(t)});function A_(e,t){const r=Eo(e),n=Eo(t);if(e===t)return{valid:!0,data:e};if(r===Ue.object&&n===Ue.object){const s=Et.objectKeys(t),i=Et.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=A_(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ue.array&&n===Ue.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=A_(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Ue.date&&n===Ue.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ry extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(LP(i)||LP(o))return rt;const l=A_(i.value,o.value);return l.valid?((FP(i)||FP(o))&&r.dirty(),{status:r.value,value:l.data}):(Me(n,{code:je.invalid_intersection_types}),rt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ry.create=(e,t,r)=>new ry({left:e,right:t,typeName:nt.ZodIntersection,...mt(r)});class Pc extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ue.array)return Me(n,{code:je.invalid_type,expected:Ue.array,received:n.parsedType}),rt;if(n.data.length<this._def.items.length)return Me(n,{code:je.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rt;!this._def.rest&&n.data.length>this._def.items.length&&(Me(n,{code:je.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new fl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ys.mergeArray(r,o)):ys.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Pc({...this._def,rest:t})}}Pc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pc({items:e,typeName:nt.ZodTuple,rest:null,...mt(t)})};class HP extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ue.map)return Me(n,{code:je.invalid_type,expected:Ue.map,received:n.parsedType}),rt;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new fl(n,l,n.path,[u,"key"])),value:i._parse(new fl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return rt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return rt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}HP.create=(e,t,r)=>new HP({valueType:t,keyType:e,typeName:nt.ZodMap,...mt(r)});class xm extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ue.set)return Me(n,{code:je.invalid_type,expected:Ue.set,received:n.parsedType}),rt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Me(n,{code:je.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Me(n,{code:je.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return rt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new fl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new xm({...this._def,minSize:{value:t,message:qe.toString(r)}})}max(t,r){return new xm({...this._def,maxSize:{value:t,message:qe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}xm.create=(e,t)=>new xm({valueType:e,minSize:null,maxSize:null,typeName:nt.ZodSet,...mt(t)});class GP extends kt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}GP.create=(e,t)=>new GP({getter:e,typeName:nt.ZodLazy,...mt(t)});class T_ extends kt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Me(r,{received:r.data,code:je.invalid_literal,expected:this._def.value}),rt}return{status:"valid",value:t.data}}get value(){return this._def.value}}T_.create=(e,t)=>new T_({value:e,typeName:nt.ZodLiteral,...mt(t)});function Q3(e,t){return new Ed({values:e,typeName:nt.ZodEnum,...mt(t)})}class Ed extends kt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Me(r,{expected:Et.joinValues(n),received:r.parsedType,code:je.invalid_type}),rt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Me(r,{received:r.data,code:je.invalid_enum_value,options:n}),rt}return Gs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ed.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ed.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ed.create=Q3;class YP extends kt{_parse(t){const r=Et.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ue.string&&n.parsedType!==Ue.number){const s=Et.objectValues(r);return Me(n,{expected:Et.joinValues(s),received:n.parsedType,code:je.invalid_type}),rt}if(this._cache||(this._cache=new Set(Et.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Et.objectValues(r);return Me(n,{received:n.data,code:je.invalid_enum_value,options:s}),rt}return Gs(t.data)}get enum(){return this._def.values}}YP.create=(e,t)=>new YP({values:e,typeName:nt.ZodNativeEnum,...mt(t)});class ny extends kt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ue.promise&&r.common.async===!1)return Me(r,{code:je.invalid_type,expected:Ue.promise,received:r.parsedType}),rt;const n=r.parsedType===Ue.promise?r.data:Promise.resolve(r.data);return Gs(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ny.create=(e,t)=>new ny({type:e,typeName:nt.ZodPromise,...mt(t)});class Pd extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Me(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return rt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?rt:c.status==="dirty"||r.value==="dirty"?xh(c.value):c});{if(r.value==="aborted")return rt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?rt:l.status==="dirty"||r.value==="dirty"?xh(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?rt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?rt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!kd(o))return rt;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>kd(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):rt);Et.assertNever(s)}}Pd.create=(e,t,r)=>new Pd({schema:e,typeName:nt.ZodEffects,effect:t,...mt(r)});Pd.createWithPreprocess=(e,t,r)=>new Pd({schema:t,effect:{type:"preprocess",transform:e},typeName:nt.ZodEffects,...mt(r)});class al extends kt{_parse(t){return this._getType(t)===Ue.undefined?Gs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}al.create=(e,t)=>new al({innerType:e,typeName:nt.ZodOptional,...mt(t)});class Od extends kt{_parse(t){return this._getType(t)===Ue.null?Gs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Od.create=(e,t)=>new Od({innerType:e,typeName:nt.ZodNullable,...mt(t)});class R_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ue.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}R_.create=(e,t)=>new R_({innerType:e,typeName:nt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...mt(t)});class M_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Zv(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Hi(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Hi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}M_.create=(e,t)=>new M_({innerType:e,typeName:nt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...mt(t)});class QP extends kt{_parse(t){if(this._getType(t)!==Ue.nan){const n=this._getOrReturnCtx(t);return Me(n,{code:je.invalid_type,expected:Ue.nan,received:n.parsedType}),rt}return{status:"valid",value:t.data}}}QP.create=e=>new QP({typeName:nt.ZodNaN,...mt(e)});class mte extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ck extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?rt:i.status==="dirty"?(r.dirty(),xh(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?rt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new ck({in:t,out:r,typeName:nt.ZodPipeline})}}class $_ extends kt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(kd(s)&&(s.value=Object.freeze(s.value)),s);return Zv(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}$_.create=(e,t)=>new $_({innerType:e,typeName:nt.ZodReadonly,...mt(t)});var nt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(nt||(nt={}));const we=Pi.create,pte=Cc.create;Ec.create;const Yr=ey.create;Cd.create;hl.create;ri.create;const tt=Tr.create,gte=ty.create;ry.create;Pc.create;const uk=T_.create,ir=Ed.create;ny.create;al.create;Od.create;const Tn={string:e=>Pi.create({...e,coerce:!0}),number:e=>Cc.create({...e,coerce:!0}),boolean:e=>ey.create({...e,coerce:!0}),bigint:e=>Ec.create({...e,coerce:!0}),date:e=>Cd.create({...e,coerce:!0})};var vte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yte=vte.reduce((e,t)=>{const r=xp(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),xte="Label",X3=v.forwardRef((e,t)=>a.jsx(yte.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));X3.displayName=xte;var J3=X3;const bte=MN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=v.forwardRef(({className:e,...t},r)=>a.jsx(J3,{ref:r,className:J(bte(),e),...t}));H.displayName=J3.displayName;var ab="Tabs",[wte]=Ks(ab,[eb]),Z3=eb(),[jte,dk]=wte(ab),eF=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=pf(l),[f,h]=ai({prop:n,onChange:s,defaultProp:i??"",caller:ab});return a.jsx(jte,{scope:r,baseId:Ls(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Qe.div,{dir:d,"data-orientation":o,...u,ref:t})})});eF.displayName=ab;var tF="TabsList",rF=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=dk(tF,r),o=Z3(r);return a.jsx(zL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Qe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});rF.displayName=tF;var nF="TabsTrigger",sF=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=dk(nF,r),l=Z3(r),c=oF(o.baseId,n),u=lF(o.baseId,n),d=n===o.value;return a.jsx(WL,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Qe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Ie(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ie(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ie(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});sF.displayName=nF;var aF="TabsContent",iF=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=dk(aF,r),c=oF(l.baseId,n),u=lF(l.baseId,n),d=n===l.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(es,{present:s||d,children:({present:h})=>a.jsx(Qe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});iF.displayName=aF;function oF(e,t){return`${e}-trigger-${t}`}function lF(e,t){return`${e}-content-${t}`}var _te=eF,cF=rF,uF=sF,dF=iF;const Ra=_te,Ys=v.forwardRef(({className:e,...t},r)=>a.jsx(cF,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ys.displayName=cF.displayName;const jt=v.forwardRef(({className:e,...t},r)=>a.jsx(uF,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));jt.displayName=uF.displayName;const _t=v.forwardRef(({className:e,...t},r)=>a.jsx(dF,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));_t.displayName=dF.displayName;const Ste=tt({email:we().email("Invalid email"),password:we().min(1,"Password required")});function Nte(){const e=ro(),[t]=lI(),r=t.get("returnTo")??"/dashboard",{register:n,handleSubmit:s,formState:{errors:i,isSubmitting:o}}=Ze({resolver:et(Ste)}),l=async u=>{const d=await aH(u.email,u.password);d.success?(q.success("Signed in",{description:"Welcome back."}),e(r,{replace:!0})):q.error("Sign in failed",{description:d.error})},c=async u=>{const d=await cH(u,{redirectTo:r});d.success||q.error("Sign in failed",{description:d.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Sign in"}),a.jsx(he,{children:"Choose local-only or cloud-linked mode."})]}),a.jsx(Z,{children:a.jsxs(Ra,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Ys,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(jt,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(jt,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(_t,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. Access the Control UI at your local URL and use QR or pairing code to connect devices."}),a.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(fe,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(_t,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:s(l),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"email",children:"Email"}),a.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...n("email"),"aria-invalid":!!i.email}),i.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"password",children:"Password"}),a.jsx(ge,{id:"password",type:"password",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"current-password",...n("password"),"aria-invalid":!!i.password}),i.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.password.message})]}),a.jsx("div",{className:"flex items-center justify-between text-sm",children:a.jsx(fe,{to:"/forgot-password",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Forgot password?"})}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(ar,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Signing in"]}):"Sign in"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("span",{className:"relative flex justify-center text-xs uppercase text-muted-foreground",children:"Or continue with"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(P,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("github"),children:[a.jsx(AH,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"GitHub"]}),a.jsxs(P,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("google"),children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24","aria-hidden":!0,children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["No account?"," ",a.jsx(fe,{to:"/signup",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign up"})]})]})]})})]})})}const kte=tt({email:we().email("Invalid email"),password:we().min(8,"At least 8 characters"),confirmPassword:we()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function Cte(){const e=ro(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:s}}=Ze({resolver:et(kte)}),i=async o=>{const l=await uH(o.email,o.password,{redirectTo:"/verify-email"});l.success?l.needsEmailVerification?(q.success("Check your email",{description:"We sent a verification link. Click it or enter the code on the next page."}),e("/verify-email",{replace:!0})):(q.success("Account created",{description:"You can sign in now."}),e("/dashboard",{replace:!0})):q.error("Sign up failed",{description:l.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Create account"}),a.jsx(he,{children:"Choose local-only or sign up for cloud-linked mode."})]}),a.jsx(Z,{children:a.jsxs(Ra,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Ys,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(jt,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(jt,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(_t,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. No signup required. Open the Control UI and connect devices via QR or pairing code."}),a.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(fe,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(_t,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:r(i),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"email",children:"Email"}),a.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...t("email"),"aria-invalid":!!n.email}),n.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"password",children:"Password"}),a.jsx(ge,{id:"password",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("password"),"aria-invalid":!!n.password}),n.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"confirmPassword",children:"Confirm password"}),a.jsx(ge,{id:"confirmPassword",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("confirmPassword"),"aria-invalid":!!n.confirmPassword}),n.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.confirmPassword.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(ar,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Creating account"]}):"Sign up"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["By signing up you agree to our"," ",a.jsx(fe,{to:"/terms",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Terms of Service"})," ","and"," ",a.jsx(fe,{to:"/privacy",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Privacy Policy"}),"."]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx(fe,{to:"/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Log in"})]})]})]})})]})})}const XP={empty:"",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"};function Ete(e){if(!e||e.length===0)return{level:"empty",score:0,label:XP.empty,minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1};const t=/[a-z]/.test(e),r=/[A-Z]/.test(e),n=/\d/.test(e),s=/[^A-Za-z0-9]/.test(e),i=e.length>=8;let o=0;e.length>=8&&(o+=1),e.length>=12&&(o+=1),t&&r&&(o+=1),n&&(o+=1),s&&(o+=1),o=Math.min(4,o);const l=o===0||o===1?"weak":o===2?"fair":o===3?"good":"strong";return{level:l,score:o,label:XP[l],minLength:i,hasLower:t,hasUpper:r,hasNumber:n,hasSpecial:s}}function Pte(e){switch(e){case"empty":return"bg-muted-foreground/30";case"weak":return"bg-destructive";case"fair":return"bg-warning";case"good":return"bg-accent";case"strong":return"bg-success";default:return"bg-muted-foreground/30"}}const Ote=tt({email:we().min(1,"Email is required").email("Enter a valid email address")}),Ate=tt({password:we().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must include a lowercase letter").regex(/[A-Z]/,"Password must include an uppercase letter").regex(/\d/,"Password must include a number"),confirmPassword:we().min(1,"Confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function Tte(){const[e,t]=v.useState("email"),[r,n]=v.useState(!0),s=Ze({resolver:et(Ote),defaultValues:{email:""}}),i=Ze({resolver:et(Ate),defaultValues:{password:"",confirmPassword:""}}),o=i.watch("password",""),l=Ete(o);v.useEffect(()=>{if(!hH()){n(!1);return}U.auth.getSession().then(({data:{session:d}})=>{d&&(t("set_password"),window.history.replaceState(null,"",window.location.pathname)),n(!1)})},[]);const c=async d=>{const f=await dH(d.email,"/forgot-password");f.success?(t("email_sent"),q.success("Check your email",{description:"If an account exists, we sent a reset link. Check spam if you dont see it."})):q.error("Could not send reset link",{description:f.error})},u=async d=>{const f=await fH(d.password);f.success?(t("success"),q.success("Password updated",{description:"You can now sign in with your new password."}),await U.auth.signOut()):q.error("Could not update password",{description:f.error})};return r?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(fe,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md",children:[a.jsx(yd,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsx("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Checking your reset link"})})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(fe,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(yd,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(fe,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ee,{className:"space-y-1",children:[a.jsx(ne,{className:"text-xl font-semibold",children:e==="email"||e==="email_sent"?"Reset password":e==="set_password"?"Set new password":"Password updated"}),a.jsxs(he,{children:[e==="email"&&"Enter your cloud account email and well send a secure reset link. For local-only mode, you dont need a password.",e==="email_sent"&&"If an account exists for that email, we sent a reset link. Check your inbox and spam folder.",e==="set_password"&&"Choose a strong password. Youll use it to sign in to your cloud-linked account.",e==="success"&&"Your password has been updated. You can now sign in with your new credentials."]})]}),a.jsxs(Z,{className:"space-y-4",children:[(e==="email"||e==="email_sent")&&a.jsx(a.Fragment,{children:e==="email"?a.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"password-reset-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(wc,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"password-reset-email",type:"email",placeholder:"you@example.com",className:"pl-9 rounded-md border-border py-3",autoComplete:"email",...s.register("email"),"aria-invalid":!!s.formState.errors.email})]}),s.formState.errors.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:s.formState.errors.email.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Sending":"Send reset link"})]}):a.jsxs("div",{className:"rounded-md border border-border bg-secondary/30 px-4 py-3 text-sm text-muted-foreground",children:[a.jsx("p",{children:"Check your email for the reset link. The link expires after a short time."}),a.jsx(P,{type:"button",variant:"ghost",className:"mt-3 text-primary hover:text-primary",onClick:()=>t("email"),children:"Send another link"})]})}),e==="set_password"&&a.jsxs("form",{onSubmit:i.handleSubmit(u),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"new-password",children:"New password"}),a.jsxs("div",{className:"relative",children:[a.jsx(wN,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"new-password",type:"password",placeholder:"",className:"pl-9 rounded-md border-border py-3",autoComplete:"new-password",...i.register("password"),"aria-invalid":!!i.formState.errors.password})]}),o.length>0&&a.jsxs("div",{className:"space-y-1","aria-live":"polite",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"Strength"}),a.jsx("span",{className:J(l.level!=="empty"&&l.level!=="weak"?"text-success":l.level==="weak"?"text-destructive":"text-muted-foreground"),children:l.label})]}),a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-secondary",role:"progressbar","aria-valuenow":l.score*25,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Password strength",children:a.jsx("div",{className:J("h-full rounded-full transition-all duration-300",Pte(l.level)),style:{width:`${l.score*25}%`}})})]}),i.formState.errors.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"confirm-password",children:"Confirm password"}),a.jsx(ge,{id:"confirm-password",type:"password",placeholder:"",className:"rounded-md border-border py-3",autoComplete:"new-password",...i.register("confirmPassword"),"aria-invalid":!!i.formState.errors.confirmPassword}),i.formState.errors.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.confirmPassword.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Updating":"Update password"})]}),e==="success"&&a.jsxs("div",{className:"animate-fade-in-up space-y-4 text-center",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"rounded-full bg-success/15 p-3",children:a.jsx(Pa,{className:"h-8 w-8 text-success","aria-hidden":!0})})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now sign in with your new password."}),a.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 font-medium",size:"lg",children:a.jsx(fe,{to:"/login",children:"Sign in"})})]}),e!=="success"&&a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:a.jsx(fe,{to:"/login",className:"font-medium text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Back to login"})})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(fe,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(df,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})})]})}const Rte=tt({token:we().min(1,"Enter the verification code from your email")});function Mte(){const e=ro(),[t,r]=v.useState("checking"),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=Ze({resolver:et(Rte),defaultValues:{token:""}});v.useEffect(()=>{let m=!1;async function g(){const p=pH();if(p){const y=await IE(p);m||(y.success?(r("verified"),q.success("Email verified",{description:"Your email has been confirmed. You can continue to the dashboard."}),window.history.replaceState(null,"",window.location.pathname)):q.error("Verification failed",{description:y.error}));return}const x=await gH();if(m)return;if(x){r("verified");return}const{data:{user:b}}=await U.auth.getUser();m||(b!=null&&b.email&&c(b.email),r("pending"))}return g(),()=>{m=!0}},[]);const d=async m=>{const g=await IE(m.token);g.success?(r("verified"),u.reset(),q.success("Email verified",{description:"Your email has been confirmed."})):q.error("Verification failed",{description:g.error})},f=async()=>{o(!0);const m=await mH();o(!1),s(!1),m.success?q.success("Verification email sent",{description:"Check your inbox and spam folder for the link."}):q.error("Could not resend email",{description:m.error})},h=()=>{e("/dashboard",{replace:!0})};return t==="checking"?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(fe,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md","aria-label":"Back to login",children:[a.jsx(yd,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsxs("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:[a.jsx(ar,{className:"mx-auto h-8 w-8 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking verification status"})]})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(fe,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(yd,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(fe,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ee,{className:"space-y-1",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-xl font-semibold",children:[a.jsx(wc,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Verify your email"]}),a.jsxs(he,{children:["Required for signup and sensitive operations (e.g. skill install). We sent a link to",l?` ${l}`:" your email","."]})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx("div",{role:"status","aria-live":"polite",className:t==="verified"?"flex items-center gap-2 rounded-md border border-success/30 bg-success/10 px-3 py-2.5 text-sm text-success":"flex items-center gap-2 rounded-md border border-warning/30 bg-warning/10 px-3 py-2.5 text-sm text-warning",children:t==="verified"?a.jsxs(a.Fragment,{children:[a.jsx(UI,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Verified"]}):a.jsxs(a.Fragment,{children:[a.jsx(wc,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Pending"]})}),t==="verified"?a.jsxs("div",{className:"animate-fade-in-up space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Youre all set. Continue to your dashboard or complete your profile."}),a.jsx(P,{onClick:h,className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md",size:"lg",children:"Continue to dashboard"}),a.jsx(P,{asChild:!0,variant:"outline",className:"w-full rounded-md py-3",children:a.jsx(fe,{to:"/profile",children:"Go to profile"})})]}):a.jsxs(a.Fragment,{children:[a.jsx(P,{type:"button",variant:"outline",className:"w-full rounded-md py-3",onClick:()=>s(!0),children:"Resend verification email"}),a.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"verify-token",children:"Or enter code manually"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ni,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"verify-token",type:"text",placeholder:"Paste verification code from email",className:"pl-9 rounded-md border-border py-3",autoComplete:"one-time-code",...u.register("token"),"aria-invalid":!!u.formState.errors.token})]}),u.formState.errors.token&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:u.formState.errors.token.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?a.jsxs(a.Fragment,{children:[a.jsx(ar,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Verifying"]}):a.jsxs(a.Fragment,{children:[a.jsx(wd,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Verify"]})})]})]})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(fe,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(df,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})}),a.jsx(Re,{open:n,onOpenChange:s,children:a.jsxs(Ee,{className:"rounded-[10px] border border-border bg-card shadow-lg max-w-[640px]","aria-describedby":"resend-dialog-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Resend verification email"}),a.jsx(Ae,{id:"resend-dialog-description",children:"Well send another verification link to your email. Check your spam folder if you dont see the first one."})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(P,{type:"button",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(ar,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Sending"]}):"Send again"})]})]})})]})}function oe({className:e,...t}){return a.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}function fF(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ib="Switch",[$te]=Ks(ib),[Ite,Dte]=$te(ib),hF=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=v.useState(null),g=gt(t,w=>m(w)),p=v.useRef(!1),x=h?d||!!h.closest("form"):!0,[b,y]=ai({prop:s,defaultProp:i??!1,onChange:u,caller:ib});return a.jsxs(Ite,{scope:r,checked:b,disabled:l,children:[a.jsx(Qe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":vF(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Ie(e.onClick,w=>{y(_=>!_),x&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),x&&a.jsx(gF,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});hF.displayName=ib;var mF="SwitchThumb",pF=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Dte(mF,r);return a.jsx(Qe.span,{"data-state":vF(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});pF.displayName=mF;var Lte="SwitchBubbleInput",gF=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=v.useRef(null),l=gt(o,i),c=fF(r),u=SL(t);return v.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gF.displayName=Lte;function vF(e){return e?"checked":"unchecked"}var yF=hF,Fte=pF;const Rt=v.forwardRef(({className:e,...t},r)=>a.jsx(yF,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),ref:r,...t,children:a.jsx(Fte,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rt.displayName=yF.displayName;const Ute="http://localhost:3000/api";async function Gf(e,t={}){const r=`${Ute}${e}`,n={"Content-Type":"application/json",...t.headers},s=typeof window<"u"?localStorage.getItem("auth_token"):null;s&&(n.Authorization=`Bearer ${s}`);const i=await fetch(r,{...t,headers:n});if(!i.ok)throw i.status===401&&typeof window<"u"&&(localStorage.removeItem("auth_token"),window.location.href="/login"),new Error(`API Error: ${i.status}`);const o=await i.text();if(o)return JSON.parse(o)}const de={get:e=>Gf(e),post:(e,t)=>Gf(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>Gf(e,{method:"PUT",body:JSON.stringify(t)}),patch:(e,t)=>Gf(e,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>Gf(e,{method:"DELETE"})},aa="/profile",Ma={getProfile:()=>de.get(`${aa}`),updateProfile:e=>de.patch(`${aa}`,e),getOAuthAccounts:()=>de.get(`${aa}/oauth-accounts`),unlinkOAuthAccount:e=>de.delete(`${aa}/oauth-accounts/${e}`),getDeviceSessions:()=>de.get(`${aa}/sessions`),revokeSession:e=>de.delete(`${aa}/sessions/${e}`),getApiKeys:()=>de.get(`${aa}/api-keys`),createApiKey:e=>de.post(`${aa}/api-keys`,e),revokeApiKey:e=>de.delete(`${aa}/api-keys/${e}`),getSecuritySettings:()=>de.get(`${aa}/security-settings`),updateSecuritySettings:e=>de.patch(`${aa}/security-settings`,e)},Sn={all:["profile"],profile:()=>[...Sn.all,"detail"],oauthAccounts:()=>[...Sn.all,"oauth-accounts"],sessions:()=>[...Sn.all,"sessions"],apiKeys:()=>[...Sn.all,"api-keys"],securitySettings:()=>[...Sn.all,"security-settings"]};function Np(e,t){return e().catch(()=>t)}function kp(){return Se({queryKey:Sn.profile(),queryFn:()=>Np(Ma.getProfile,null)})}function qte(){const e=ue();return ce({mutationFn:t=>Ma.updateProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sn.profile()}),q.success("Profile updated")},onError:t=>{q.error(t.message||"Failed to update profile")}})}function Bte(){return Se({queryKey:Sn.oauthAccounts(),queryFn:()=>Np(Ma.getOAuthAccounts,[])})}function zte(){const e=ue();return ce({mutationFn:t=>Ma.unlinkOAuthAccount(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sn.oauthAccounts()}),q.success("Account unlinked")},onError:t=>{q.error(t.message||"Failed to unlink account")}})}function Wte(){return Se({queryKey:Sn.sessions(),queryFn:()=>Np(Ma.getDeviceSessions,[])})}function Vte(){const e=ue();return ce({mutationFn:t=>Ma.revokeSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sn.sessions()}),q.success("Session revoked")},onError:t=>{q.error(t.message||"Failed to revoke session")}})}function Kte(){return Se({queryKey:Sn.apiKeys(),queryFn:()=>Np(Ma.getApiKeys,[])})}function Hte(){const e=ue();return ce({mutationFn:t=>Ma.createApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sn.apiKeys()}),q.success("API key created")},onError:t=>{q.error(t.message||"Failed to create API key")}})}function Gte(){const e=ue();return ce({mutationFn:t=>Ma.revokeApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sn.apiKeys()}),q.success("API key revoked")},onError:t=>{q.error(t.message||"Failed to revoke API key")}})}function xF(){return Se({queryKey:Sn.securitySettings(),queryFn:()=>Np(Ma.getSecuritySettings,null)})}function bF(){const e=ue();return ce({mutationFn:t=>Ma.updateSecuritySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sn.securitySettings()}),q.success("Security settings updated")},onError:t=>{q.error(t.message||"Failed to update security settings")}})}function Bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Gi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Yte(e,t){const r=Bt(e);return isNaN(t)?Gi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const wF=6048e5,Qte=864e5,jF=6e4,_F=36e5,wg=43200,JP=1440;let Xte={};function Cp(){return Xte}function bm(e,t){var l,c,u,d;const r=Cp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Bt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function sy(e){return bm(e,{weekStartsOn:1})}function SF(e){const t=Bt(e),r=t.getFullYear(),n=Gi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=sy(n),i=Gi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=sy(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function ZP(e){const t=Bt(e);return t.setHours(0,0,0,0),t}function ay(e){const t=Bt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Jte(e,t){const r=ZP(e),n=ZP(t),s=+r-ay(r),i=+n-ay(n);return Math.round((s-i)/Qte)}function Zte(e){const t=SF(e),r=Gi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),sy(r)}function iv(e,t){const r=Bt(e),n=Bt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function ere(e){return Gi(e,Date.now())}function tre(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rre(e){if(!tre(e)&&typeof e!="number")return!1;const t=Bt(e);return!isNaN(Number(t))}function nre(e,t){const r=Bt(e),n=Bt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function sre(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function are(e,t){return+Bt(e)-+Bt(t)}function ire(e){const t=Bt(e);return t.setHours(23,59,59,999),t}function ore(e){const t=Bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function lre(e){const t=Bt(e);return+ire(t)==+ore(t)}function cre(e,t){const r=Bt(e),n=Bt(t),s=iv(r,n),i=Math.abs(nre(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=iv(r,n)===-s;lre(Bt(e))&&i===1&&iv(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function ure(e,t,r){const n=are(e,t)/1e3;return sre(r==null?void 0:r.roundingMethod)(n)}function dre(e){const t=Bt(e),r=Gi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const fre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hre=(e,t,r)=>{let n;const s=fre[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function t0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const mre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vre={date:t0({formats:mre,defaultWidth:"full"}),time:t0({formats:pre,defaultWidth:"full"}),dateTime:t0({formats:gre,defaultWidth:"full"})},yre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xre=(e,t,r,n)=>yre[e];function Yf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const bre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_re={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kre=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Cre={ordinalNumber:kre,era:Yf({values:bre,defaultWidth:"wide"}),quarter:Yf({values:wre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yf({values:jre,defaultWidth:"wide"}),day:Yf({values:_re,defaultWidth:"wide"}),dayPeriod:Yf({values:Sre,defaultWidth:"wide",formattingValues:Nre,defaultFormattingWidth:"wide"})};function Qf(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Pre(l,f=>f.test(o)):Ere(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Ere(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Pre(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Ore(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Are=/^(\d+)(th|st|nd|rd)?/i,Tre=/\d+/i,Rre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mre={any:[/^b/i,/^(a|c)/i]},$re={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ire={any:[/1/i,/2/i,/3/i,/4/i]},Dre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Lre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ure={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zre={ordinalNumber:Ore({matchPattern:Are,parsePattern:Tre,valueCallback:e=>parseInt(e,10)}),era:Qf({matchPatterns:Rre,defaultMatchWidth:"wide",parsePatterns:Mre,defaultParseWidth:"any"}),quarter:Qf({matchPatterns:$re,defaultMatchWidth:"wide",parsePatterns:Ire,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qf({matchPatterns:Dre,defaultMatchWidth:"wide",parsePatterns:Lre,defaultParseWidth:"any"}),day:Qf({matchPatterns:Fre,defaultMatchWidth:"wide",parsePatterns:Ure,defaultParseWidth:"any"}),dayPeriod:Qf({matchPatterns:qre,defaultMatchWidth:"any",parsePatterns:Bre,defaultParseWidth:"any"})},NF={code:"en-US",formatDistance:hre,formatLong:vre,formatRelative:xre,localize:Cre,match:zre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wre(e){const t=Bt(e);return Jte(t,dre(t))+1}function Vre(e){const t=Bt(e),r=+sy(t)-+Zte(t);return Math.round(r/wF)+1}function kF(e,t){var d,f,h,m;const r=Bt(e),n=r.getFullYear(),s=Cp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Gi(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=bm(o,t),c=Gi(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=bm(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Kre(e,t){var l,c,u,d;const r=Cp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=kF(e,t),i=Gi(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),bm(i,t)}function Hre(e,t){const r=Bt(e),n=+bm(r,t)-+Kre(r,t);return Math.round(n/wF)+1}function It(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const bo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return It(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):It(r+1,2)},d(e,t){return It(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return It(e.getHours()%12||12,t.length)},H(e,t){return It(e.getHours(),t.length)},m(e,t){return It(e.getMinutes(),t.length)},s(e,t){return It(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return It(s,t.length)}},uu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eO={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return bo.y(e,t)},Y:function(e,t,r,n){const s=kF(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return It(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):It(i,t.length)},R:function(e,t){const r=SF(e);return It(r,t.length)},u:function(e,t){const r=e.getFullYear();return It(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return It(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return It(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return bo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return It(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Hre(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):It(s,t.length)},I:function(e,t,r){const n=Vre(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):It(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):bo.d(e,t)},D:function(e,t,r){const n=Wre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):It(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return It(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return It(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return It(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=uu.noon:n===0?s=uu.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=uu.evening:n>=12?s=uu.afternoon:n>=4?s=uu.morning:s=uu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return bo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):bo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):It(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):It(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):bo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):bo.s(e,t)},S:function(e,t){return bo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return rO(n);case"XXXX":case"XX":return Ml(n);case"XXXXX":case"XXX":default:return Ml(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return rO(n);case"xxxx":case"xx":return Ml(n);case"xxxxx":case"xxx":default:return Ml(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tO(n,":");case"OOOO":default:return"GMT"+Ml(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tO(n,":");case"zzzz":default:return"GMT"+Ml(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return It(n,t.length)},T:function(e,t,r){const n=e.getTime();return It(n,t.length)}};function tO(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+It(i,2)}function rO(e,t){return e%60===0?(e>0?"-":"+")+It(Math.abs(e)/60,2):Ml(e,t)}function Ml(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=It(Math.trunc(n/60),2),i=It(n%60,2);return r+s+t+i}const nO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},CF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Gre=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return nO(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",nO(n,t)).replace("{{time}}",CF(s,t))},Yre={p:CF,P:Gre},Qre=/^D+$/,Xre=/^Y+$/,Jre=["D","DD","YY","YYYY"];function Zre(e){return Qre.test(e)}function ene(e){return Xre.test(e)}function tne(e,t,r){const n=rne(e,t,r);if(console.warn(n),Jre.includes(e))throw new RangeError(n)}function rne(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ane=/^'([^]*?)'?$/,ine=/''/g,one=/[a-zA-Z]/;function Qa(e,t,r){var d,f,h,m;const n=Cp(),s=n.locale??NF,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=Bt(e);if(!rre(l))throw new RangeError("Invalid time value");let c=t.match(sne).map(g=>{const p=g[0];if(p==="p"||p==="P"){const x=Yre[p];return x(g,s.formatLong)}return g}).join("").match(nne).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:lne(g)};if(eO[p])return{isToken:!0,value:g};if(p.match(one))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(ene(p)||Zre(p))&&tne(p,t,String(e));const x=eO[p[0]];return x(l,p,s.localize,u)}).join("")}function lne(e){const t=e.match(ane);return t?t[1].replace(ine,"'"):e}function cne(e,t,r){const n=Cp(),s=(r==null?void 0:r.locale)??n.locale??NF,i=2520,o=iv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Bt(t),u=Bt(e)):(c=Bt(e),u=Bt(t));const d=ure(u,c),f=(ay(u)-ay(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<JP){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<wg){const g=Math.round(h/JP);return s.formatDistance("xDays",g,l)}else if(h<wg*2)return m=Math.round(h/wg),s.formatDistance("aboutXMonths",m,l)}if(m=cre(u,c),m<12){const g=Math.round(h/wg);return s.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",p,l):g<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function vr(e,t){return cne(e,ere(e),t)}function fk(e,t){return Yte(e,-t)}function Ul(e,t){const n=hne(e);let s;if(n.date){const c=mne(n.date,2);s=pne(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=gne(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=vne(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const jg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},une=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,dne=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fne=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hne(e){const t={},r=e.split(jg.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],jg.timeZoneDelimiter.test(t.date)&&(t.date=e.split(jg.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=jg.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function mne(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function pne(e,t){if(t===null)return new Date(NaN);const r=e.match(une);if(!r)return new Date(NaN);const n=!!r[4],s=Xf(r[1]),i=Xf(r[2])-1,o=Xf(r[3]),l=Xf(r[4]),c=Xf(r[5])-1;if(n)return jne(t,l,c)?yne(t,l,c):new Date(NaN);{const u=new Date(0);return!bne(t,i,o)||!wne(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function Xf(e){return e?parseInt(e):1}function gne(e){const t=e.match(dne);if(!t)return NaN;const r=r0(t[1]),n=r0(t[2]),s=r0(t[3]);return _ne(r,n,s)?r*_F+n*jF+s*1e3:NaN}function r0(e){return e&&parseFloat(e.replace(",","."))||0}function vne(e){if(e==="Z")return 0;const t=e.match(fne);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Sne(n,s)?r*(n*_F+s*jF):NaN}function yne(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const xne=[31,null,31,30,31,30,31,31,30,31,30,31];function EF(e){return e%400===0||e%4===0&&e%100!==0}function bne(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(xne[t]||(EF(e)?29:28))}function wne(e,t){return t>=1&&t<=(EF(e)?366:365)}function jne(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function _ne(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Sne(e,t){return t>=0&&t<=59}const Nne=tt({name:we().min(1,"Name is required").max(64),scope:we().min(1,"Scope is required").max(128)}),kne={github:"GitHub",google:"Google",discord:"Discord",slack:"Slack"};function Cne(){const{data:e,isLoading:t}=kp(),r=qte(),[n,s]=v.useState(!1),[i,o]=v.useState((e==null?void 0:e.display_name)??"");if(v.useEffect(()=>{!n&&(e==null?void 0:e.display_name)!==void 0&&o(e.display_name??"")},[e==null?void 0:e.display_name,n]),t)return a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsx(oe,{className:"h-6 w-32"}),a.jsx(oe,{className:"h-4 w-48 mt-2"})]}),a.jsxs(Z,{className:"flex items-center gap-4",children:[a.jsx(oe,{className:"h-16 w-16 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-5 w-40"}),a.jsx(oe,{className:"h-4 w-24"})]})]})]});const l=(e==null?void 0:e.display_name)||"User",c=(e==null?void 0:e.email)??"",u=(e==null?void 0:e.workspace_path)??"",d=l.slice(0,2).toUpperCase(),f=()=>{r.mutate({display_name:i||null},{onSuccess:()=>s(!1)})};return a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(vp,{className:"h-5 w-5"}),"Profile summary"]}),a.jsx(he,{children:"Account and avatar."})]}),a.jsxs(Z,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-6",children:[a.jsxs(Kx,{className:"h-16 w-16 shrink-0",children:[a.jsx(BN,{src:(e==null?void 0:e.avatar_url)??void 0,alt:l}),a.jsx(Hx,{className:"text-lg bg-primary/20 text-primary",children:d})]}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[n?a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(ge,{value:i,onChange:h=>o(h.target.value),placeholder:"Display name",className:"max-w-xs","aria-label":"Display name"}),a.jsx(P,{size:"sm",onClick:f,disabled:r.isPending,children:r.isPending?a.jsx(ar,{className:"h-4 w-4 animate-spin"}):"Save"}),a.jsx(P,{size:"sm",variant:"ghost",onClick:()=>{s(!1),o((e==null?void 0:e.display_name)??"")},children:"Cancel"})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium truncate",children:l}),a.jsx(P,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",onClick:()=>{o((e==null?void 0:e.display_name)??""),s(!0)},"aria-label":"Edit display name",children:"Edit"})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Workspace: ",a.jsx("span",{className:"font-mono truncate",children:u})]})]})]})]})}function Ene(){const{data:e,isLoading:t}=Bte(),r=zte(),[n,s]=v.useState(null);if(t)return a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsx(oe,{className:"h-6 w-40"}),a.jsx(oe,{className:"h-4 w-56 mt-2"})]}),a.jsxs(Z,{children:[a.jsx(oe,{className:"h-12 w-full"}),a.jsx(oe,{className:"h-12 w-full mt-2"})]})]});const i=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(BH,{className:"h-5 w-5"}),"Connected accounts"]}),a.jsx(he,{children:"OAuth and linked accounts; unlink here."})]}),a.jsx(Z,{children:i.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected accounts."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connect GitHub, Google, or other providers from Settings."})]}):a.jsx("ul",{className:"space-y-2",children:i.map(o=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsx("span",{className:"font-medium",children:kne[o.provider]??o.provider}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>s(o.id),disabled:r.isPending,"aria-label":`Unlink ${o.provider}`,children:"Unlink"})]},o.id))})})]}),a.jsx(Re,{open:!!n,onOpenChange:()=>s(null),children:a.jsxs(Ee,{showClose:!0,children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Unlink account"}),a.jsx(Ae,{children:"Are you sure you want to unlink this account? You may need to sign in again with this provider to reconnect."})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>s(null),children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:()=>{n&&r.mutate(n,{onSuccess:()=>s(null)})},disabled:r.isPending,children:r.isPending?a.jsx(ar,{className:"h-4 w-4 animate-spin"}):"Unlink"})]})]})})]})}function Pne(){const{data:e,isLoading:t}=Wte(),{data:r,isLoading:n}=xF(),s=bF(),i=Vte(),[o,l]=v.useState(null),c=t||n,u=(r==null?void 0:r.two_factor_enabled)??!1;if(c)return a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsx(oe,{className:"h-6 w-24"}),a.jsx(oe,{className:"h-4 w-48 mt-2"})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(oe,{className:"h-10 w-32"}),a.jsx(oe,{className:"h-6 w-full"})]})]});const d=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Sr,{className:"h-5 w-5"}),"Security"]}),a.jsx(he,{children:"Password, 2FA, active sessions."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(fe,{to:"/forgot-password",children:"Change password"})}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(H,{htmlFor:"2fa",className:"cursor-pointer",children:"Two-factor authentication"}),a.jsx(Rt,{id:"2fa",checked:u,onCheckedChange:f=>s.mutate({two_factor_enabled:f}),disabled:s.isPending})]}),a.jsx(FN,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Active sessions"}),d.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No other sessions."}):a.jsx("ul",{className:"space-y-2",children:d.map(f=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ix,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:f.device_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:vr(new Date(f.last_active_at),{addSuffix:!0})})]})]}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(f.id),disabled:i.isPending,"aria-label":`Revoke ${f.device_name}`,children:"Revoke"})]},f.id))})]})]})]}),a.jsx(Re,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Ee,{showClose:!0,children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Revoke session"}),a.jsx(Ae,{children:"This device will be signed out. Are you sure?"})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:()=>{o&&i.mutate(o,{onSuccess:()=>l(null)})},disabled:i.isPending,children:i.isPending?a.jsx(ar,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function One(){const{data:e,isLoading:t}=Kte(),r=Hte(),n=Gte(),[s,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(null),d=Ze({resolver:et(Nne),defaultValues:{name:"",scope:"read"}}),f=m=>{r.mutate(m,{onSuccess:g=>{u(g.key),d.reset()}})};if(t)return a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsx(oe,{className:"h-6 w-24"}),a.jsx(oe,{className:"h-4 w-40 mt-2"})]}),a.jsxs(Z,{children:[a.jsx(oe,{className:"h-10 w-28"}),a.jsx(oe,{className:"h-12 w-full mt-4"})]})]});const h=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(xd,{className:"h-5 w-5"}),"API Keys"]}),a.jsx(he,{children:"Create and manage scoped API keys for integrations."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>{i(!0),u(null)},children:"Create API key"}),h.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-6 text-center",children:[a.jsx(Ni,{className:"mx-auto h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No API keys yet."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a key to use with external tools or scripts."})]}):a.jsx("ul",{className:"space-y-2",children:h.map(m=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:m.name}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[m.key_prefix,""]})]}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(m.id),disabled:n.isPending,"aria-label":`Revoke key ${m.name}`,children:"Revoke"})]},m.id))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Keychain / 1Password integration can be enabled below."})]})]}),a.jsx(Re,{open:s,onOpenChange:i,children:a.jsxs(Ee,{showClose:!0,children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Create API key"}),a.jsx(Ae,{children:"Choose a name and scope. The key value is shown only once."})]}),c?a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Your new key (copy now)"}),a.jsx(ge,{readOnly:!0,value:c,className:"font-mono text-sm","aria-label":"API key value"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Store this securely; it won't be shown again."}),a.jsx($e,{children:a.jsx(P,{onClick:()=>i(!1),children:"Done"})})]}):a.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"key-name",children:"Name"}),a.jsx(ge,{id:"key-name",...d.register("name"),placeholder:"e.g. CI pipeline","aria-invalid":!!d.formState.errors.name}),d.formState.errors.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"key-scope",children:"Scope"}),a.jsx(ge,{id:"key-scope",...d.register("scope"),placeholder:"e.g. read, write","aria-invalid":!!d.formState.errors.scope}),d.formState.errors.scope&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.scope.message})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:r.isPending,children:r.isPending?a.jsx(ar,{className:"h-4 w-4 animate-spin"}):"Create"})]})]})]})}),a.jsx(Re,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Ee,{showClose:!0,children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Revoke API key"}),a.jsx(Ae,{children:"This key will stop working immediately. Any integrations using it will need a new key."})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:()=>{o&&n.mutate(o,{onSuccess:()=>l(null)})},disabled:n.isPending,children:n.isPending?a.jsx(ar,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function Ane(){const{data:e,isLoading:t}=xF(),r=bF(),n=(e==null?void 0:e.keychain_integration_enabled)??!1;return t?a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsx(oe,{className:"h-6 w-48"}),a.jsx(oe,{className:"h-4 w-64 mt-2"})]}),a.jsx(Z,{children:a.jsx(oe,{className:"h-6 w-full"})})]}):a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Ni,{className:"h-5 w-5"}),"Keychain / 1Password"]}),a.jsx(he,{children:"Use 1Password or system keychain for secure login and autofill."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(H,{htmlFor:"keychain",className:"cursor-pointer",children:"Enable 1Password integration"}),a.jsx(Rt,{id:"keychain",checked:n,onCheckedChange:s=>r.mutate({keychain_integration_enabled:s}),disabled:r.isPending})]})})]})}function Tne(){return a.jsxs("div",{className:J("mx-auto max-w-3xl space-y-6 animate-fade-in-up"),children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Profile"}),a.jsx(Cne,{}),a.jsx(Ene,{}),a.jsx(Pne,{}),a.jsx(One,{}),a.jsx(Ane,{}),a.jsx("div",{className:"flex justify-end",children:a.jsx(P,{asChild:!0,children:a.jsx(fe,{to:"/settings",children:"Settings"})})})]})}function Rne(){return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Nr,{className:"h-5 w-5"}),"Install Gateway"]}),a.jsx(he,{children:"Download the Clawgate gateway for your platform."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway binaries and installers will be available here. For now, use the Open Local UI button if you have the gateway running."}),a.jsx(P,{asChild:!0,className:"w-full",children:a.jsx(fe,{to:"/dashboard",children:"Open Local UI"})}),a.jsx(P,{variant:"outline",asChild:!0,className:"w-full",children:a.jsx(fe,{to:"/",children:"Back to home"})})]})]})})}const Mne=MN("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-600/20 text-green-400",warning:"border-transparent bg-amber-600/20 text-amber-400"}},defaultVariants:{variant:"default"}});function ze({className:e,variant:t,...r}){return a.jsx("div",{className:J(Mne({variant:t}),e),...r})}const Zt="/dashboard",Un={getActivities:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return de.get(`${Zt}/activities${t?`?${t}`:""}`)},getActivity:e=>de.get(`${Zt}/activities/${e}`),createActivity:e=>de.post(`${Zt}/activities`,e),deleteActivity:e=>de.delete(`${Zt}/activities/${e}`),getRuns:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return de.get(`${Zt}/runs${t?`?${t}`:""}`)},getRun:e=>de.get(`${Zt}/runs/${e}`),createRun:e=>de.post(`${Zt}/runs`,e),updateRun:(e,t)=>de.patch(`${Zt}/runs/${e}`,t),abortRun:e=>de.post(`${Zt}/runs/${e}/abort`,{}),getCronJobs:()=>de.get(`${Zt}/cron-jobs`),getCronJob:e=>de.get(`${Zt}/cron-jobs/${e}`),createCronJob:e=>de.post(`${Zt}/cron-jobs`,e),updateCronJob:(e,t)=>de.patch(`${Zt}/cron-jobs/${e}`,t),deleteCronJob:e=>de.delete(`${Zt}/cron-jobs/${e}`),runCronJobNow:e=>de.post(`${Zt}/cron-jobs/${e}/run-now`,{}),getCronRunHistory:(e,t)=>{const r=t?new URLSearchParams(Object.fromEntries(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)]))).toString():"";return de.get(`${Zt}/cron-jobs/${e}/run-history${r?`?${r}`:""}`)},getNodes:()=>de.get(`${Zt}/nodes`),getNode:e=>de.get(`${Zt}/nodes/${e}`),createNode:e=>de.post(`${Zt}/nodes`,e),updateNode:(e,t)=>de.patch(`${Zt}/nodes/${e}`,t),deleteNode:e=>de.delete(`${Zt}/nodes/${e}`),getAlerts:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return de.get(`${Zt}/alerts${t?`?${t}`:""}`)},getAlert:e=>de.get(`${Zt}/alerts/${e}`),updateAlert:(e,t)=>de.patch(`${Zt}/alerts/${e}`,t),quickRun:e=>de.post(`${Zt}/quick-run`,e)};function yf(e,t){return e().catch(()=>t)}const Ct={all:["dashboard"],activities:e=>[...Ct.all,"activities",e],activity:e=>[...Ct.all,"activity",e],runs:e=>[...Ct.all,"runs",e],run:e=>[...Ct.all,"run",e],cronJobs:()=>[...Ct.all,"cron-jobs"],cronJob:e=>[...Ct.all,"cron-job",e],cronRunHistory:(e,t)=>[...Ct.all,"cron-run-history",e,t],nodes:()=>[...Ct.all,"nodes"],node:e=>[...Ct.all,"node",e],alerts:e=>[...Ct.all,"alerts",e],alert:e=>[...Ct.all,"alert",e]};function $ne(e){return Se({queryKey:Ct.activities(e),queryFn:()=>yf(()=>Un.getActivities(e),[])})}function Ine(){const e=ue();return ce({mutationFn:t=>Un.deleteActivity(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.activities()}),q.success("Activity removed")},onError:t=>{q.error(t.message||"Failed to remove activity")}})}function Dne(e){return Se({queryKey:Ct.runs(e),queryFn:()=>yf(()=>Un.getRuns(e),[])})}function Lne(){const e=ue();return ce({mutationFn:t=>Un.abortRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.runs()}),q.success("Run aborted")},onError:t=>{q.error(t.message||"Failed to abort run")}})}function PF(){return Se({queryKey:Ct.cronJobs(),queryFn:()=>yf(()=>Un.getCronJobs(),[])})}function OF(){const e=ue();return ce({mutationFn:t=>Un.createCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),q.success("Cron job created")},onError:t=>{q.error(t.message||"Failed to create cron job")}})}function Fne(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Un.updateCronJob(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),e.invalidateQueries({queryKey:Ct.cronJob(r)}),q.success("Cron job updated")},onError:t=>{q.error(t.message||"Failed to update cron job")}})}function Une(){const e=ue();return ce({mutationFn:t=>Un.deleteCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),q.success("Cron job deleted")},onError:t=>{q.error(t.message||"Failed to delete cron job")}})}function qne(e,t){return Se({queryKey:Ct.cronRunHistory(e??"",t),queryFn:()=>e?yf(()=>Un.getCronRunHistory(e,t),[]):Promise.resolve([]),enabled:!!e})}function Bne(){const e=ue();return ce({mutationFn:t=>Un.runCronJobNow(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),e.invalidateQueries({queryKey:Ct.cronRunHistory(r)}),e.invalidateQueries({queryKey:Ct.runs()}),q.success("Job started")},onError:t=>{q.error(t.message||"Failed to run job")}})}function AF(){return Se({queryKey:Ct.nodes(),queryFn:()=>yf(()=>Un.getNodes(),[])})}function zne(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Un.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.nodes()}),e.invalidateQueries({queryKey:Ct.node(r)}),q.success("Node updated")},onError:t=>{q.error(t.message||"Failed to update node")}})}function Wne(e){return Se({queryKey:Ct.alerts(e),queryFn:()=>yf(()=>Un.getAlerts(e),[])})}function Vne(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Un.updateAlert(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.alerts()}),e.invalidateQueries({queryKey:Ct.alert(r)}),q.success("Alert updated")},onError:t=>{q.error(t.message||"Failed to update alert")}})}function Kne(){const e=ue();return ce({mutationFn:t=>Un.quickRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.activities()}),e.invalidateQueries({queryKey:Ct.runs()}),q.success("Message sent")},onError:t=>{q.error(t.message||"Failed to send message")}})}const sO={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"};function Hne({activity:e,open:t,onOpenChange:r,onDelete:n}){if(!e)return null;const s=()=>{n==null||n(e.id),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Ee,{className:"max-w-lg","aria-describedby":"activity-detail-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Activity details"}),a.jsxs(Ae,{id:"activity-detail-description",children:[sO[e.activity_type]??e.activity_type," "," ",vr(new Date(e.created_at),{addSuffix:!0})]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),a.jsx("p",{className:"text-sm",children:sO[e.activity_type]??e.activity_type})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Details"}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md border border-border bg-secondary/30 p-3 text-xs",children:JSON.stringify(e.details,null,2)})]})]}),a.jsxs($e,{children:[n&&a.jsx(P,{variant:"destructive",onClick:s,children:"Remove"}),a.jsx(P,{variant:"outline",onClick:()=>r(!1),children:"Close"})]})]})})}function Gne({run:e,open:t,onOpenChange:r,onConfirm:n,isAborting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Ee,{"aria-describedby":"run-abort-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Abort run?"}),a.jsxs(Ae,{id:"run-abort-description",children:["This will stop the run that started"," ",vr(new Date(e.start_time),{addSuffix:!0}),". This action cannot be undone."]})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Aborting":"Abort run"})]})]})})}function Yne(e){const t=Qne(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(Jne);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Qne(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=ese(s),l=Zne(i,s.props);return s.type!==v.Fragment&&(l.ref=n?io(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xne=Symbol("radix.slottable");function Jne(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xne}function Zne(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function ese(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var TF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tse="VisuallyHidden",rse=v.forwardRef((e,t)=>a.jsx(Qe.span,{...e,ref:t,style:{...TF,...e.style}}));rse.displayName=tse;var nse=[" ","Enter","ArrowUp","ArrowDown"],sse=[" ","Enter"],Oc="Select",[ob,lb,ase]=Gx(Oc),[xf]=Ks(Oc,[ase,Zx]),cb=Zx(),[ise,xl]=xf(Oc),[ose,lse]=xf(Oc),RF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=cb(t),[x,b]=v.useState(null),[y,w]=v.useState(null),[_,j]=v.useState(!1),S=pf(u),[N,k]=ai({prop:n,defaultProp:s??!1,onChange:i,caller:Oc}),[C,O]=ai({prop:o,defaultProp:l,onChange:c,caller:Oc}),L=v.useRef(null),E=x?g||!!x.closest("form"):!0,[F,$]=v.useState(new Set),K=Array.from(F).map(T=>T.props.value).join(";");return a.jsx(ML,{...p,children:a.jsxs(ise,{required:m,scope:t,trigger:x,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Ls(),value:C,onValueChange:O,open:N,onOpenChange:k,dir:S,triggerPointerDownPosRef:L,disabled:h,children:[a.jsx(ob.Provider,{scope:t,children:a.jsx(ose,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(T=>{$(V=>new Set(V).add(T))},[]),onNativeOptionRemove:v.useCallback(T=>{$(V=>{const R=new Set(V);return R.delete(T),R})},[]),children:r})}),E?a.jsxs(n5,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:T=>O(T.target.value),disabled:h,form:g,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(F)]},K):null]})})};RF.displayName=Oc;var MF="SelectTrigger",$F=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=cb(r),o=xl(MF,r),l=o.disabled||n,c=gt(t,o.onTriggerChange),u=lb(r),d=v.useRef("touch"),[f,h,m]=a5(p=>{const x=u().filter(w=>!w.disabled),b=x.find(w=>w.value===o.value),y=i5(x,p,b);y!==void 0&&o.onValueChange(y.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx($L,{asChild:!0,...i,children:a.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":s5(o.value)?"":void 0,...s,ref:c,onClick:Ie(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Ie(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Ie(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&nse.includes(p.key)&&(g(),p.preventDefault())})})})});$F.displayName=MF;var IF="SelectValue",DF=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=xl(IF,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=gt(t,c.onValueNodeChange);return kr(()=>{u(d)},[u,d]),a.jsx(Qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:s5(c.value)?a.jsx(a.Fragment,{children:o}):i})});DF.displayName=IF;var cse="SelectIcon",LF=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Qe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});LF.displayName=cse;var use="SelectPortal",FF=e=>a.jsx(Ux,{asChild:!0,...e});FF.displayName=use;var Ac="SelectContent",UF=v.forwardRef((e,t)=>{const r=xl(Ac,e.__scopeSelect),[n,s]=v.useState();if(kr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?nf.createPortal(a.jsx(qF,{scope:e.__scopeSelect,children:a.jsx(ob.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(BF,{...e,ref:t})});UF.displayName=Ac;var la=10,[qF,bl]=xf(Ac),dse="SelectContentImpl",fse=Yne("SelectContent.RemoveScroll"),BF=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x,...b}=e,y=xl(Ac,r),[w,_]=v.useState(null),[j,S]=v.useState(null),N=gt(t,pe=>_(pe)),[k,C]=v.useState(null),[O,L]=v.useState(null),E=lb(r),[F,$]=v.useState(!1),K=v.useRef(!1);v.useEffect(()=>{if(w)return ON(w)},[w]),PN();const T=v.useCallback(pe=>{const[Ne,...se]=E().map(Q=>Q.ref.current),[ve]=se.slice(-1),Y=document.activeElement;for(const Q of pe)if(Q===Y||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===Ne&&j&&(j.scrollTop=0),Q===ve&&j&&(j.scrollTop=j.scrollHeight),Q==null||Q.focus(),document.activeElement!==Y))return},[E,j]),V=v.useCallback(()=>T([k,w]),[T,k,w]);v.useEffect(()=>{F&&V()},[F,V]);const{onOpenChange:R,triggerPointerDownPosRef:I}=y;v.useEffect(()=>{if(w){let pe={x:0,y:0};const Ne=ve=>{var Y,Q;pe={x:Math.abs(Math.round(ve.pageX)-(((Y=I.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((Q=I.current)==null?void 0:Q.y)??0))}},se=ve=>{pe.x<=10&&pe.y<=10?ve.preventDefault():w.contains(ve.target)||R(!1),document.removeEventListener("pointermove",Ne),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",se,{capture:!0})}}},[w,R,I]),v.useEffect(()=>{const pe=()=>R(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[R]);const[D,te]=a5(pe=>{const Ne=E().filter(Y=>!Y.disabled),se=Ne.find(Y=>Y.ref.current===document.activeElement),ve=i5(Ne,pe,se);ve&&setTimeout(()=>ve.ref.current.focus())}),A=v.useCallback((pe,Ne,se)=>{const ve=!K.current&&!se;(y.value!==void 0&&y.value===Ne||ve)&&(C(pe),ve&&(K.current=!0))},[y.value]),re=v.useCallback(()=>w==null?void 0:w.focus(),[w]),ye=v.useCallback((pe,Ne,se)=>{const ve=!K.current&&!se;(y.value!==void 0&&y.value===Ne||ve)&&L(pe)},[y.value]),We=n==="popper"?I_:zF,Ke=We===I_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return a.jsx(qF,{scope:r,content:w,viewport:j,onViewportChange:S,itemRefCallback:A,selectedItem:k,onItemLeave:re,itemTextRefCallback:ye,focusSelectedItem:V,selectedItemText:O,position:n,isPositioned:F,searchRef:D,children:a.jsx(Bx,{as:fse,allowPinchZoom:!0,children:a.jsx(Fx,{asChild:!0,trapped:y.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:Ie(s,pe=>{var Ne;(Ne=y.trigger)==null||Ne.focus({preventScroll:!0}),pe.preventDefault()}),children:a.jsx(Lx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(We,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:pe=>pe.preventDefault(),...b,...Ke,onPlaced:()=>$(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ie(b.onKeyDown,pe=>{const Ne=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Ne&&pe.key.length===1&&te(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let ve=E().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const Y=pe.target,Q=ve.indexOf(Y);ve=ve.slice(Q+1)}setTimeout(()=>T(ve)),pe.preventDefault()}})})})})})})});BF.displayName=dse;var hse="SelectItemAlignedPosition",zF=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=xl(Ac,r),o=bl(Ac,r),[l,c]=v.useState(null),[u,d]=v.useState(null),f=gt(t,N=>d(N)),h=lb(r),m=v.useRef(!1),g=v.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:b,focusSelectedItem:y}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&x&&b){const N=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),O=b.getBoundingClientRect();if(i.dir!=="rtl"){const Y=O.left-k.left,Q=C.left-Y,Xe=N.left-Q,He=N.width+Xe,bt=Math.max(He,k.width),ft=window.innerWidth-la,Wt=w_(Q,[la,Math.max(la,ft-bt)]);l.style.minWidth=He+"px",l.style.left=Wt+"px"}else{const Y=k.right-O.right,Q=window.innerWidth-C.right-Y,Xe=window.innerWidth-N.right-Q,He=N.width+Xe,bt=Math.max(He,k.width),ft=window.innerWidth-la,Wt=w_(Q,[la,Math.max(la,ft-bt)]);l.style.minWidth=He+"px",l.style.right=Wt+"px"}const L=h(),E=window.innerHeight-la*2,F=p.scrollHeight,$=window.getComputedStyle(u),K=parseInt($.borderTopWidth,10),T=parseInt($.paddingTop,10),V=parseInt($.borderBottomWidth,10),R=parseInt($.paddingBottom,10),I=K+T+F+R+V,D=Math.min(x.offsetHeight*5,I),te=window.getComputedStyle(p),A=parseInt(te.paddingTop,10),re=parseInt(te.paddingBottom,10),ye=N.top+N.height/2-la,We=E-ye,Ke=x.offsetHeight/2,pe=x.offsetTop+Ke,Ne=K+T+pe,se=I-Ne;if(Ne<=ye){const Y=L.length>0&&x===L[L.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-p.offsetTop-p.offsetHeight,Xe=Math.max(We,Ke+(Y?re:0)+Q+V),He=Ne+Xe;l.style.height=He+"px"}else{const Y=L.length>0&&x===L[0].ref.current;l.style.top="0px";const Xe=Math.max(ye,K+p.offsetTop+(Y?A:0)+Ke)+se;l.style.height=Xe+"px",p.scrollTop=Ne-ye+p.offsetTop}l.style.margin=`${la}px 0`,l.style.minHeight=D+"px",l.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,x,b,i.dir,n]);kr(()=>w(),[w]);const[_,j]=v.useState();kr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=v.useCallback(N=>{N&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return a.jsx(pse,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Qe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});zF.displayName=hse;var mse="SelectPopperPosition",I_=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=la,...i}=e,o=cb(r);return a.jsx(IL,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});I_.displayName=mse;var[pse,hk]=xf(Ac,{}),D_="SelectViewport",WF=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=bl(D_,r),o=hk(D_,r),l=gt(t,i.onViewportChange),c=v.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(ob.Slot,{scope:r,children:a.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ie(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-la*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(p,x);if(b<g){const y=b+m,w=Math.min(g,y),_=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});WF.displayName=D_;var VF="SelectGroup",[gse,vse]=xf(VF),yse=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ls();return a.jsx(gse,{scope:r,id:s,children:a.jsx(Qe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});yse.displayName=VF;var KF="SelectLabel",HF=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=vse(KF,r);return a.jsx(Qe.div,{id:s.id,...n,ref:t})});HF.displayName=KF;var iy="SelectItem",[xse,GF]=xf(iy),YF=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=xl(iy,r),c=bl(iy,r),u=l.value===n,[d,f]=v.useState(i??""),[h,m]=v.useState(!1),g=gt(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,s)}),p=Ls(),x=v.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(xse,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:v.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(ob.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Qe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Ie(o.onFocus,()=>m(!0)),onBlur:Ie(o.onBlur,()=>m(!1)),onClick:Ie(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:Ie(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:Ie(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:Ie(o.onPointerMove,y=>{var w;x.current=y.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ie(o.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(sse.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});YF.displayName=iy;var bh="SelectItemText",QF=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=xl(bh,r),l=bl(bh,r),c=GF(bh,r),u=lse(bh,r),[d,f]=v.useState(null),h=gt(t,b=>f(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=v.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return kr(()=>(p(g),()=>x(g)),[p,x,g]),a.jsxs(a.Fragment,{children:[a.jsx(Qe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?nf.createPortal(i.children,o.valueNode):null]})});QF.displayName=bh;var XF="SelectItemIndicator",JF=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return GF(XF,r).isSelected?a.jsx(Qe.span,{"aria-hidden":!0,...n,ref:t}):null});JF.displayName=XF;var L_="SelectScrollUpButton",ZF=v.forwardRef((e,t)=>{const r=bl(L_,e.__scopeSelect),n=hk(L_,e.__scopeSelect),[s,i]=v.useState(!1),o=gt(t,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(t5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ZF.displayName=L_;var F_="SelectScrollDownButton",e5=v.forwardRef((e,t)=>{const r=bl(F_,e.__scopeSelect),n=hk(F_,e.__scopeSelect),[s,i]=v.useState(!1),o=gt(t,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(t5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});e5.displayName=F_;var t5=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=bl("SelectScrollButton",r),o=v.useRef(null),l=lb(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),kr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Qe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ie(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ie(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ie(s.onPointerLeave,()=>{c()})})}),bse="SelectSeparator",r5=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Qe.div,{"aria-hidden":!0,...n,ref:t})});r5.displayName=bse;var U_="SelectArrow",wse=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=cb(r),i=xl(U_,r),o=bl(U_,r);return i.open&&o.position==="popper"?a.jsx(DL,{...s,...n,ref:t}):null});wse.displayName=U_;var jse="SelectBubbleInput",n5=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=v.useRef(null),i=gt(n,s),o=fF(t);return v.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Qe.select,{...r,style:{...TF,...r.style},ref:i,defaultValue:t})});n5.displayName=jse;function s5(e){return e===""||e===void 0}function a5(e){const t=en(e),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function i5(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=_se(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function _se(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Sse=RF,o5=$F,Nse=DF,kse=LF,Cse=FF,l5=UF,Ese=WF,c5=HF,u5=YF,Pse=QF,Ose=JF,d5=ZF,f5=e5,h5=r5;const ot=Sse,lt=Nse,at=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(o5,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(kse,{asChild:!0,children:a.jsx(yl,{className:"h-4 w-4 opacity-50"})})]}));at.displayName=o5.displayName;const m5=v.forwardRef(({className:e,...t},r)=>a.jsx(d5,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(FI,{className:"h-4 w-4"})}));m5.displayName=d5.displayName;const p5=v.forwardRef(({className:e,...t},r)=>a.jsx(f5,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(yl,{className:"h-4 w-4"})}));p5.displayName=f5.displayName;const it=v.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(Cse,{children:a.jsxs(l5,{ref:s,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-card text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(m5,{}),a.jsx(Ese,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(p5,{})]})}));it.displayName=l5.displayName;const Ase=v.forwardRef(({className:e,...t},r)=>a.jsx(c5,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ase.displayName=c5.displayName;const ke=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(u5,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Ose,{children:a.jsx(uf,{className:"h-4 w-4"})})}),a.jsx(Pse,{children:t})]}));ke.displayName=u5.displayName;const Tse=v.forwardRef(({className:e,...t},r)=>a.jsx(h5,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));Tse.displayName=h5.displayName;const Rse=tt({name:we().min(1,"Name is required").max(200,"Name too long"),schedule:we().min(1,"Schedule is required"),description:we().optional(),payload_json:we().optional(),session_target:we().optional(),isolation_setting:Yr().optional(),status:ir(["active","paused"]).optional()}),_g={name:"",schedule:"",description:"",payload_json:"{}",session_target:"",isolation_setting:!1,status:"active"};function Mse(e){if(!e||!e.trim())return{};try{const t=JSON.parse(e);return typeof t=="object"&&t!==null?t:{}}catch{return{}}}function g5({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,userId:s="",job:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=Ze({resolver:et(Rse),defaultValues:_g}),m=d("status"),g=d("isolation_setting");v.useEffect(()=>{e&&i?f({name:i.name??i.description??"",schedule:i.schedule,description:i.description??"",payload_json:typeof i.payload=="object"&&Object.keys(i.payload||{}).length>0?JSON.stringify(i.payload,null,2):"{}",session_target:i.session_target??"",isolation_setting:i.isolation_setting??!1,status:i.status==="failed"?"paused":i.status}):e&&!i&&f(_g)},[e,i,f]);const p=b=>{const y=Mse(b.payload_json??"{}");r(o&&i?{name:b.name||null,schedule:b.schedule,description:b.description||null,payload:y,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}:{user_id:s,name:b.name||null,schedule:b.schedule,description:b.description||null,payload:y,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}),f(_g),t(!1)},x=b=>{b||f(_g),t(b)};return a.jsx(Re,{open:e,onOpenChange:x,children:a.jsxs(Ee,{className:"max-w-[640px]","aria-describedby":"cron-job-form-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:o?"Edit cron job":"Create cron job"}),a.jsx(Ae,{id:"cron-job-form-description",children:o?"Update schedule, payload, session target, and isolation.":"Add a scheduled job with cron expression, payload, and session target."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"name",children:"Job name"}),a.jsx(ge,{id:"name",placeholder:"e.g. Daily backup",...l("name"),className:h.name?"border-destructive":""}),h.name&&a.jsx("p",{className:"text-xs text-destructive",children:h.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"schedule",children:"Schedule (cron expression)"}),a.jsx(ge,{id:"schedule",placeholder:"e.g. 0 * * * * (hourly)",...l("schedule"),className:h.schedule?"border-destructive":""}),h.schedule&&a.jsx("p",{className:"text-xs text-destructive",children:h.schedule.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"description",children:"Description (optional)"}),a.jsx(ge,{id:"description",placeholder:"Optional description",...l("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"payload_json",children:"Payload (JSON)"}),a.jsx("textarea",{id:"payload_json",rows:4,placeholder:'{"key": "value"}',...l("payload_json"),className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-mono"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"session_target",children:"Session target"}),a.jsx(ge,{id:"session_target",placeholder:"Target session or channel",...l("session_target")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"isolation_setting",children:"Isolation"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Run job in isolated environment (sandbox)"})]}),a.jsx(Rt,{id:"isolation_setting",checked:g??!1,onCheckedChange:b=>u("isolation_setting",b)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Status"}),a.jsxs(ot,{value:m??"active",onValueChange:b=>u("status",b),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(ke,{value:"active",children:"Active"}),a.jsx(ke,{value:"paused",children:"Paused"})]})]})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>x(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":o?"Save changes":"Create job"})]})]})]})})}const n0={healthy:"Healthy",degraded:"Degraded",unknown:"Unknown",offline:"Offline"},$se={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},Ise={paired:"success",offline:"destructive",error:"warning"};function v5({node:e,open:t,onOpenChange:r,onUpdateHealth:n,isUpdating:s=!1}){var u;const[i,o]=v.useState((e==null?void 0:e.connection_health)??"unknown");if(v.useEffect(()=>{e&&o(e.connection_health)},[e,t]),!e)return null;const l=e.connection_health,c=()=>{n==null||n(e.id,i),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Ee,{className:"max-w-md","aria-describedby":"node-health-description",children:[a.jsxs(Pe,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Sa,{className:"h-5 w-5"}),e.name??"Node","  Connection health"]}),a.jsx(Ae,{id:"node-health-description",children:"View and update node connection health and capabilities."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),a.jsx(ze,{variant:Ise[e.status],children:e.status})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Current health:"}),a.jsxs(ze,{variant:$se[l],children:[l==="healthy"&&a.jsx(yp,{className:"mr-1 h-3 w-3"}),l==="offline"&&a.jsx(JI,{className:"mr-1 h-3 w-3"}),n0[l]]})]}),(u=e.capabilities)!=null&&u.length?a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Capabilities"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.capabilities.map(d=>a.jsx(ze,{variant:"outline",className:"text-xs",children:d},d))})]}):null,n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Update connection health"}),a.jsxs(ot,{value:i,onValueChange:d=>o(d),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsx(it,{children:Object.keys(n0).map(d=>a.jsx(ke,{value:d,children:n0[d]},d))})]})]})]}),n&&a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{onClick:c,disabled:s||i===l,children:s?"Saving":"Save"})]})]})})}const Dse={low:"Low",medium:"Medium",high:"High",critical:"Critical"},Lse=[{value:"open",label:"Open"},{value:"acknowledged",label:"Acknowledged"},{value:"resolved",label:"Resolved"}];function Fse({alert:e,open:t,onOpenChange:r,onResolve:n,isUpdating:s=!1}){if(!e)return null;const i=o=>{n==null||n(e.id,o),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Ee,{className:"max-w-lg","aria-describedby":"alert-resolution-description",children:[a.jsxs(Pe,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(ao,{className:J("h-5 w-5",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning")}),"Alert  ",e.type]}),a.jsx(Ae,{id:"alert-resolution-description",children:"Update resolution status for this security or audit finding."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{className:"rounded-md border border-border bg-secondary/30 p-3",children:a.jsx("p",{className:"text-sm",children:e.description})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Severity:"}),a.jsx("span",{className:J("text-sm font-medium",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning"),children:Dse[e.severity]})]}),n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Resolution status"}),a.jsxs(ot,{value:e.resolution_status,onValueChange:o=>i(o),disabled:s,children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsx(it,{children:Lse.map(o=>a.jsx(ke,{value:o.value,children:o.label},o.value))})]})]})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),children:"Close"}),n&&a.jsx(P,{onClick:()=>i("resolved"),disabled:s||e.resolution_status==="resolved",children:s?"Updating":"Mark resolved"})]})]})})}const aO={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"},Use={running:"default",completed:"secondary",failed:"destructive",aborted:"warning"},qse={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"};function Bse(){const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,i]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(null),[d,f]=v.useState(!1),[h,m]=v.useState(null),[g,p]=v.useState(null),{data:x}=kp(),b=(x==null?void 0:x.user_id)??"",{data:y=[],isLoading:w}=$ne({limit:20,type:r||void 0}),{data:_=[],isLoading:j}=Dne({status:"running",limit:10}),{data:S=[],isLoading:N}=PF(),{data:k=[],isLoading:C}=AF(),{data:O=[],isLoading:L}=Wne({resolution_status:"open"}),E=Kne(),F=Lne(),$=OF(),K=Ine(),T=Vne(),V=zne(),R=()=>{const D=e.trim();D&&E.mutate({message:D},{onSuccess:()=>t("")})},I=r?y.filter(D=>D.activity_type===r):y;return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active runs",value:_.length,icon:Ds,href:"/chat"},{title:"Cron jobs",value:S.length,icon:vl,href:"/cron"},{title:"Nodes",value:k.length,icon:Sa,href:"/nodes"},{title:"Alerts",value:O.length,icon:Sr,href:"/security"}].map(({title:D,value:te,icon:A,href:re})=>a.jsx(fe,{to:re,children:a.jsxs(X,{className:"transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:D}),a.jsx(A,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:te})})]})},D))}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(X,{className:"flex flex-col",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(gp,{className:"h-5 w-5"}),"Recent activity"]}),a.jsxs("select",{value:r,onChange:D=>n(D.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter activity type",children:[a.jsx("option",{value:"",children:"All"}),Object.entries(aO).map(([D,te])=>a.jsx("option",{value:D,children:te},D))]})]}),a.jsx(Z,{className:"flex-1 overflow-hidden",children:a.jsx(ht,{className:"h-[280px] pr-4",children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(D=>a.jsx(oe,{className:"h-14 w-full rounded-lg"},D))}):I.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity."}):a.jsx("ul",{className:"space-y-2",children:I.map(D=>a.jsx("li",{children:a.jsxs("div",{className:J("rounded-lg border border-border bg-secondary/30 p-3 transition-colors hover:bg-secondary/50",s===D.id&&"ring-2 ring-ring"),children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 text-left",onClick:()=>i(s===D.id?null:D.id),"aria-expanded":s===D.id,children:[s===D.id?a.jsx(yl,{className:"h-4 w-4 shrink-0"}):a.jsx(jr,{className:"h-4 w-4 shrink-0"}),a.jsx(ze,{variant:"secondary",className:"text-xs",children:aO[D.activity_type]??D.activity_type}),a.jsx("span",{className:"flex-1 truncate text-sm text-muted-foreground",children:vr(new Date(D.created_at),{addSuffix:!0})})]}),s===D.id&&a.jsx("div",{className:"mt-2 flex items-center gap-2 border-t border-border pt-2",children:a.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(D),children:"View details"})})]})},D.id))})})})]}),a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(ff,{className:"h-5 w-5"}),"Quick Run"]}),a.jsx(he,{children:"Send a message to the default session or channel."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{type:"text",placeholder:"Type a command or message...",className:"flex-1",value:e,onChange:D=>t(D.target.value),onKeyDown:D=>D.key==="Enter"&&R(),"aria-label":"Quick run message"}),a.jsx(P,{onClick:R,disabled:!e.trim()||E.isPending,children:E.isPending?a.jsx("span",{className:"animate-pulse",children:"Sending"}):a.jsx(wd,{className:"h-4 w-4"})})]})})]})]}),a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Active runs"}),a.jsx(he,{children:"Stream and abort running jobs."})]}),a.jsx(Z,{children:j?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):_.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No active runs."}):a.jsx("ul",{className:"space-y-2",children:_.map(D=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{variant:Use[D.status],children:D.status}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started ",vr(new Date(D.start_time),{addSuffix:!0})]})]}),a.jsxs(P,{variant:"destructive",size:"sm",onClick:()=>u(D),disabled:D.status!=="running",children:[a.jsx(vN,{className:"mr-1 h-4 w-4"}),"Abort"]})]},D.id))})})]}),a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs(X,{children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(ne,{children:"Cron overview"}),a.jsxs(P,{size:"sm",onClick:()=>f(!0),children:[a.jsx(Dt,{className:"mr-1 h-4 w-4"}),"Create job"]})]}),a.jsx(Z,{children:N?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-10 w-full rounded-lg"}),a.jsx(oe,{className:"h-10 w-full rounded-lg"})]}):S.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No cron jobs."}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(fe,{to:"/cron",children:"Manage cron"})})]}):a.jsxs("ul",{className:"space-y-2",children:[S.slice(0,5).map(D=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:D.description||D.schedule}),a.jsx("p",{className:"text-xs text-muted-foreground",children:D.schedule})]}),a.jsx(ze,{variant:D.status==="active"?"default":"secondary",children:D.status})]},D.id)),S.length>5&&a.jsx("li",{children:a.jsx(P,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs(fe,{to:"/cron",children:["View all (",S.length,")"]})})})]})})]}),a.jsxs(X,{children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(ne,{children:"Nodes status"}),a.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(fe,{to:"/nodes",children:"Pair node"})})]}),a.jsx(Z,{children:C?a.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[a.jsx(oe,{className:"h-20 rounded-lg"}),a.jsx(oe,{className:"h-20 rounded-lg"})]}):k.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes."}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(fe,{to:"/nodes",children:"Pair node"})})]}):a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:k.map(D=>a.jsxs("button",{type:"button",className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3 text-left transition-colors hover:bg-secondary/50",onClick:()=>m(D),children:[a.jsx(Sa,{className:"h-8 w-8 shrink-0 text-muted-foreground"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:D.name??"Node"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(ze,{variant:qse[D.connection_health],className:"text-xs",children:[D.connection_health==="healthy"&&a.jsx(yp,{className:"mr-0.5 h-3 w-3"}),D.connection_health==="offline"&&a.jsx(JI,{className:"mr-0.5 h-3 w-3"}),D.connection_health]})})]})]},D.id))})})]})]}),a.jsxs(X,{children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(ao,{className:"h-5 w-5 text-warning"}),"Skill alerts / audit findings"]}),a.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(fe,{to:"/security",children:"Run audit"})})]}),a.jsx(Z,{children:L?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):O.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No alerts."}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(fe,{to:"/security",children:"Run audit"})})]}):a.jsx("ul",{className:"space-y-2",children:O.map(D=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:D.type}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",children:D.description})]}),a.jsx(ze,{variant:D.severity==="critical"?"destructive":D.severity==="high"?"warning":"secondary",className:"shrink-0",children:D.severity}),a.jsx(P,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>p(D),children:"Fix"})]},D.id))})})]}),a.jsx(Hne,{activity:o,open:!!o,onOpenChange:D=>!D&&l(null),onDelete:D=>{K.mutate(D),l(null)}}),a.jsx(Gne,{run:c,open:!!c,onOpenChange:D=>!D&&u(null),onConfirm:D=>{F.mutate(D),u(null)},isAborting:F.isPending}),a.jsx(g5,{open:d,onOpenChange:f,onSubmit:D=>{"user_id"in D&&D.user_id!==void 0&&$.mutate(D)},isSubmitting:$.isPending,userId:b}),a.jsx(v5,{node:h,open:!!h,onOpenChange:D=>!D&&m(null),onUpdateHealth:(D,te)=>V.mutate({id:D,data:{connection_health:te}}),isUpdating:V.isPending}),a.jsx(Fse,{alert:g,open:!!g,onOpenChange:D=>!D&&p(null),onResolve:(D,te)=>T.mutate({id:D,data:{resolution_status:te}}),isUpdating:T.isPending})]})}const xs={getSessions:async()=>{const{data:e,error:t}=await U.from("chat_sessions").select("*").order("started_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSession:async e=>{const{data:t,error:r}=await U.from("chat_sessions").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSession:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("chat_sessions").insert(r).select().single();if(s)throw new Error(s.message);return n},updateSession:async(e,t)=>{const{data:r,error:n}=await U.from("chat_sessions").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteSession:async e=>{const{error:t}=await U.from("chat_sessions").delete().eq("id",e);if(t)throw new Error(t.message)},getMessages:async(e,t)=>{let r=U.from("chat_messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},sendMessage:async e=>{const{data:t,error:r}=await U.from("chat_messages").insert(e).select().single();if(r)throw new Error(r.message);return t},getToolInvocations:async(e,t)=>{let r=U.from("tool_invocations").select("*").eq("session_id",e).order("created_at",{ascending:!1});t!=null&&t.messageId&&(r=r.eq("message_id",t.messageId)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createToolInvocation:async e=>{const{data:t,error:r}=await U.from("tool_invocations").insert(e).select().single();if(r)throw new Error(r.message);return t},updateToolInvocation:async(e,t)=>{const{data:r,error:n}=await U.from("tool_invocations").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},approveToolInvocation:async e=>xs.updateToolInvocation(e,{status:"approved"}),denyToolInvocation:async e=>xs.updateToolInvocation(e,{status:"denied"}),getSessionCommands:async e=>{const{data:{user:t}}=await U.auth.getUser(),r=(e==null?void 0:e.userId)??(t==null?void 0:t.id);if(!r)return[];let n=U.from("session_commands").select("*").eq("user_id",r).order("created_at",{ascending:!1});e!=null&&e.sessionId&&(n=n.eq("session_id",e.sessionId)),e!=null&&e.limit&&(n=n.limit(e.limit));const{data:s,error:i}=await n;if(i)throw new Error(i.message);return s??[]},createSessionCommand:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("session_commands").insert(r).select().single();if(s)throw new Error(s.message);return n}};function zse(e,t){return e().catch(()=>t)}const un={all:["chat"],sessions:()=>[...un.all,"sessions"],session:e=>[...un.all,"session",e],messages:(e,t)=>[...un.all,"messages",e,t],toolInvocations:(e,t)=>[...un.all,"toolInvocations",e,t],sessionCommands:e=>[...un.all,"sessionCommands",e]};function Wse(){return Se({queryKey:un.sessions(),queryFn:()=>zse(()=>xs.getSessions(),[])})}function Vse(e){return Se({queryKey:un.session(e??""),queryFn:()=>e?xs.getSession(e):Promise.resolve(null),enabled:!!e})}function Kse(){const e=ue();return ce({mutationFn:t=>xs.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:un.sessions()}),q.success("Session created")},onError:t=>{q.error(t.message||"Failed to create session")}})}function Hse(){const e=ue();return ce({mutationFn:({id:t,data:r})=>xs.updateSession(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:un.sessions()}),e.invalidateQueries({queryKey:un.session(r)}),q.success("Session updated")},onError:t=>{q.error(t.message||"Failed to update session")}})}function Gse(e,t){return Se({queryKey:un.messages(e??"",{limit:t}),queryFn:()=>e?xs.getMessages(e,{limit:t}):Promise.resolve([]),enabled:!!e})}function Yse(){const e=ue();return ce({mutationFn:t=>xs.sendMessage(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:un.messages(r.session_id)}),q.success("Message sent")},onError:t=>{q.error(t.message||"Failed to send message")}})}function Qse(e,t){return Se({queryKey:un.toolInvocations(e??"",t),queryFn:()=>e?xs.getToolInvocations(e,t):Promise.resolve([]),enabled:!!e})}function Xse(){const e=ue();return ce({mutationFn:({id:t,sessionId:r})=>xs.approveToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:un.toolInvocations(r)}),q.success("Tool output approved")},onError:t=>{q.error(t.message||"Failed to approve")}})}function Jse(){const e=ue();return ce({mutationFn:({id:t,sessionId:r})=>xs.denyToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:un.toolInvocations(r)}),q.success("Tool output denied")},onError:t=>{q.error(t.message||"Failed to deny")}})}function Zse(e){return Se({queryKey:un.sessionCommands({sessionId:(e==null?void 0:e.sessionId)??void 0,limit:e==null?void 0:e.limit}),queryFn:()=>xs.getSessionCommands({sessionId:(e==null?void 0:e.sessionId)??void 0,limit:e==null?void 0:e.limit})})}function eae(){const e=ue();return ce({mutationFn:t=>xs.createSessionCommand(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:un.sessionCommands({sessionId:r.session_id??void 0})})},onError:t=>{q.error(t.message||"Failed to execute command")}})}function tae({message:e,currentUserId:t}){const r=e.role==="user"||e.sender_id===t,n=e.role==="assistant"?"Assistant":e.role==="system"?"System":"You",s=Array.isArray(e.attachment_links)&&e.attachment_links.length>0;return a.jsxs("div",{className:J("flex gap-3 rounded-lg p-3 transition-colors duration-200 hover:bg-card/80",r&&"flex-row-reverse"),"data-message-id":e.id,children:[a.jsx(Kx,{className:"h-8 w-8 shrink-0 rounded-full border border-border bg-secondary",children:a.jsx(Hx,{className:"text-xs text-muted-foreground",children:e.role==="assistant"?a.jsx(LI,{className:"h-4 w-4"}):a.jsx(vp,{className:"h-4 w-4"})})}),a.jsxs("div",{className:J("flex min-w-0 flex-1 flex-col gap-1",r&&"items-end"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-foreground",children:n}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:vr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsx("p",{className:"whitespace-pre-wrap break-words text-sm text-foreground",children:e.text}),s&&a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.attachment_links.map((i,o)=>a.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"rounded border border-border bg-secondary px-2 py-1 text-xs text-primary hover:underline",children:i.name??"Attachment"},o))})]})]})}function rae({messages:e,isLoading:t,currentUserId:r,className:n}){const s=v.useRef(null);return v.useEffect(()=>{var i;(i=s.current)==null||i.scrollIntoView({behavior:"smooth"})},[e.length]),a.jsx(ht,{className:J("flex-1",n),"data-testid":"message-thread",children:a.jsx("div",{className:"space-y-1 p-4",children:t?a.jsx("div",{className:"flex flex-col gap-4 py-8",children:[1,2,3].map(i=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-muted animate-pulse"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-24 rounded bg-muted animate-pulse"}),a.jsx("div",{className:"h-4 w-full max-w-md rounded bg-muted animate-pulse"})]})]},i))}):e.length===0?a.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No messages yet. Send a message or use a slash command."}):e.map((i,o)=>a.jsx("div",{ref:o===e.length-1?s:void 0,children:a.jsx(tae,{message:i,currentUserId:r})},i.id))})})}const s0=[{id:"new",name:"new",description:"Start a new session"},{id:"reset",name:"reset",description:"Reset current session"},{id:"stop",name:"stop",description:"Stop/pause session"}];function nae({sessionId:e,onSend:t,onSlashCommand:r,onAttachClick:n,onToolSelect:s,disabled:i,isSending:o,availableTools:l=[],className:c}){const[u,d]=v.useState(""),[f,h]=v.useState(null),[m,g]=v.useState(!1),[p,x]=v.useState(""),[b,y]=v.useState(0),w=v.useRef(null),_=v.useRef(null),j=M.useMemo(()=>{if(!p)return[...s0];const E=p.toLowerCase();return s0.filter(F=>F.name.toLowerCase().startsWith(E)||F.name.toLowerCase().includes(E))},[p]),S=v.useCallback(E=>{x(E),g(!0),y(0)},[]),N=v.useCallback(()=>{g(!1),x(""),y(0)},[]);v.useEffect(()=>{if(!u.startsWith("/")){N();return}const E=u.slice(1).split(/\s/)[0]??"";S(E)},[u,S,N]),v.useEffect(()=>{y(0)},[p]),v.useEffect(()=>{var F;if(!m||j.length===0)return;const E=(F=_.current)==null?void 0:F.querySelector(`[data-index="${b}"]`);E==null||E.scrollIntoView({block:"nearest"})},[m,b,j.length]);const k=v.useCallback(E=>{if(!(!m||j.length===0)){if(E.key==="ArrowDown"){E.preventDefault(),y(F=>F<j.length-1?F+1:0);return}if(E.key==="ArrowUp"){E.preventDefault(),y(F=>F>0?F-1:j.length-1);return}if(E.key==="Enter"&&j[b]){E.preventDefault();const F=j[b];r&&(F.id==="new"||F.id==="reset"||F.id==="stop")?(r(F.id),d(""),N()):(d(`/${F.name} `),N());return}E.key==="Escape"&&N()}},[m,j,b,r,N]),C=v.useCallback(E=>{var F;r&&(E.id==="new"||E.id==="reset"||E.id==="stop")?(r(E.id),d("")):d(`/${E.name} `),N(),(F=w.current)==null||F.focus()},[r,N]),O=v.useCallback(E=>{var $;E.preventDefault();const F=u.trim();if(!(!F||!e)){if(F.startsWith("/")){const K=($=F.slice(1).split(/\s/)[0])==null?void 0:$.toLowerCase(),T=s0.find(V=>V.name===K);if(T&&r&&(T.id==="new"||T.id==="reset"||T.id==="stop")){r(T.id),d("");return}}t(F,{toolName:f??void 0}),d(""),h(null)}},[u,e,t,f,r]),L=!!(e&&u.trim()&&!i&&!o);return a.jsx("form",{onSubmit:O,className:J("flex flex-col gap-2 border-t border-border bg-card p-4 transition-shadow duration-200",c),children:a.jsxs("div",{className:"relative flex items-end gap-2",children:[a.jsx(P,{type:"button",variant:"ghost",size:"icon",onClick:n,disabled:i||!e,"aria-label":"Attach file",className:"shrink-0",children:a.jsx(MH,{className:"h-4 w-4"})}),a.jsxs("div",{className:"relative flex flex-1 flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ge,{ref:w,value:u,onChange:E=>d(E.target.value),onKeyDown:k,placeholder:"Type a message or / for commands...",disabled:i||!e,className:"min-h-10 flex-1 rounded-md border-input bg-background px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-ring pr-8","aria-label":"Message input","aria-autocomplete":"list","aria-expanded":m,"aria-controls":"slash-suggestions"}),u.startsWith("/")&&a.jsx(DH,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none"}),m&&j.length>0&&a.jsx("ul",{id:"slash-suggestions",ref:_,className:"absolute left-0 right-0 top-full z-50 mt-1 max-h-48 overflow-auto rounded-md border border-border bg-card py-1 shadow-lg",role:"listbox",children:j.map((E,F)=>a.jsx("li",{role:"option","aria-selected":F===b,children:a.jsxs("button",{type:"button","data-index":F,className:J("flex w-full items-center gap-2 px-3 py-2 text-left text-sm transition-colors",F===b?"bg-primary/15 text-primary":"text-foreground hover:bg-secondary"),onMouseEnter:()=>y(F),onClick:()=>C(E),children:[a.jsxs("span",{className:"font-medium",children:["/",E.name]}),a.jsx("span",{className:"text-muted-foreground",children:E.description})]})},E.id))})]}),l.length>0&&a.jsxs(ot,{value:f??"",onValueChange:E=>{h(E||null),E&&s&&s(E)},disabled:i||!e,children:[a.jsxs(at,{className:"w-full sm:w-[140px]","aria-label":"Select tool",children:[a.jsx(Sc,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),a.jsx(lt,{placeholder:"Tool"})]}),a.jsx(it,{children:l.map(E=>a.jsx(ke,{value:E.id,children:E.name},E.id))})]})]}),a.jsx(P,{type:"submit",size:"icon",disabled:!L,"aria-label":"Send message",className:"shrink-0 transition-transform hover:scale-105 active:scale-95",children:o?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsx(wd,{className:"h-4 w-4"})})]})})}function sae(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=v.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,aae(s,...t)]}function aae(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var iae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],y5=iae.reduce((e,t)=>{const r=xp(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),mk="Progress",pk=100,[oae]=sae(mk),[lae,cae]=oae(mk),x5=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=uae,...o}=e;(s||s===0)&&!iO(s)&&console.error(dae(`${s}`,"Progress"));const l=iO(s)?s:pk;n!==null&&!oO(n,l)&&console.error(fae(`${n}`,"Progress"));const c=oO(n,l)?n:null,u=oy(c)?i(c,l):void 0;return a.jsx(lae,{scope:r,value:c,max:l,children:a.jsx(y5.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":oy(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":j5(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});x5.displayName=mk;var b5="ProgressIndicator",w5=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=cae(b5,r);return a.jsx(y5.div,{"data-state":j5(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});w5.displayName=b5;function uae(e,t){return`${Math.round(e/t*100)}%`}function j5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function oy(e){return typeof e=="number"}function iO(e){return oy(e)&&!isNaN(e)&&e>0}function oO(e,t){return oy(e)&&!isNaN(e)&&e<=t&&e>=0}function dae(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${pk}\`.`}function fae(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${pk} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _5=x5,hae=w5;const gk=v.forwardRef(({className:e,value:t,...r},n)=>a.jsx(_5,{ref:n,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(hae,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));gk.displayName=_5.displayName;const mae={pending:"secondary",running:"default",completed:"outline",failed:"destructive",approved:"outline",denied:"destructive"};function pae({invocation:e,onApprove:t,onDeny:r,className:n}){const s=e.status==="running",i=e.status==="completed"||e.status==="running",o=e.output&&typeof e.output=="object"?JSON.stringify(e.output,null,2):e.output!=null?String(e.output):"";return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover",n),"data-invocation-id":e.id,children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sc,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-semibold",children:e.tool_name}),a.jsx(ze,{variant:mae[e.status],className:"text-xs",children:e.status})]}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:vr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsxs(Z,{className:"p-4",children:[s&&a.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(ar,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Running"}),a.jsx(gk,{value:void 0,className:"h-1.5 flex-1"})]}),o&&a.jsx("pre",{className:"max-h-48 overflow-auto rounded border border-border bg-secondary/50 p-3 text-xs text-foreground",children:o}),i&&t&&r&&a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(P,{size:"sm",variant:"outline",className:"gap-1.5",onClick:()=>r(e.id),children:[a.jsx(jd,{className:"h-4 w-4"}),"Deny"]}),a.jsxs(P,{size:"sm",className:"gap-1.5",onClick:()=>t(e.id),children:[a.jsx(uf,{className:"h-4 w-4"}),"Approve"]})]})]})]})}function gae({session:e,sessions:t,onSelectSession:r,currentSessionId:n,routingTargets:s=[],commandHistory:i=[],onOpenSessionConfig:o,className:l}){return a.jsxs("aside",{className:J("flex w-full flex-col gap-4 lg:w-72 lg:shrink-0",l),"aria-label":"Chat sidebar",children:[a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(ee,{className:"pb-2",children:a.jsx(ne,{className:"text-sm font-semibold",children:"Session"})}),a.jsxs(Z,{className:"text-sm text-muted-foreground",children:[e?a.jsx("p",{className:"font-medium text-foreground",children:e.title}):a.jsx("p",{children:"Main session (default)"}),e&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"mt-1 text-xs",children:["Status: ",a.jsx(ze,{variant:"outline",children:e.status})]}),(e.routing_type==="shared"||e.routing_type==="isolate")&&a.jsxs("p",{className:"mt-1 text-xs",children:["Routing: ",a.jsx(ze,{variant:"secondary",children:e.routing_type})]}),o&&a.jsxs(P,{variant:"ghost",size:"sm",className:"mt-2 gap-1.5 text-xs",onClick:o,children:[a.jsx(SN,{className:"h-3.5 w-3.5"}),"Configure routing"]})]})]})]}),t.length>1&&a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(ee,{className:"pb-2",children:a.jsx(ne,{className:"text-sm font-semibold",children:"Sessions"})}),a.jsx(Z,{children:a.jsx(ht,{className:"h-32",children:a.jsx("ul",{className:"space-y-1",children:t.slice(0,10).map(c=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>r(c.id),className:J("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors",n===c.id?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx(ff,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:c.title})]})},c.id))})})})]}),a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(ee,{className:"pb-2",children:a.jsx(ne,{className:"text-sm font-semibold",children:"Routing targets"})}),a.jsx(Z,{className:"text-sm text-muted-foreground",children:s.length===0?a.jsx("p",{children:"No channels configured."}):a.jsx("ul",{className:"space-y-1",children:s.map(c=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(HI,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:c.name}),a.jsx(ze,{variant:"secondary",className:"text-xs",children:c.type})]},c.id))})})]}),i.length>0&&a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(ee,{className:"pb-2",children:a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(pm,{className:"h-4 w-4"}),"Command history"]})}),a.jsx(Z,{children:a.jsx(ht,{className:"h-24",children:a.jsx("ul",{className:"space-y-1 text-xs text-muted-foreground",children:i.slice(0,10).map(c=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsxs("code",{className:"rounded bg-secondary px-1.5 py-0.5",children:["/",c.command_type]}),a.jsx("span",{children:new Date(c.created_at).toLocaleTimeString()})]},c.id))})})})]})]})}function vae({traces:e,isLoading:t,onExport:r,className:n}){const[s,i]=v.useState(!1);return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",n),children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[r&&a.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Export trace",children:a.jsx(Nr,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>i(o=>!o),"aria-label":s?"Collapse":"Expand",children:s?a.jsx(yl,{className:"h-4 w-4"}):a.jsx(FI,{className:"h-4 w-4"})})]})]}),s&&a.jsx(Z,{className:"p-0",children:a.jsx(ht,{className:"h-48",children:a.jsx("div",{className:"space-y-1 p-2",children:t?a.jsx("div",{className:"flex flex-col gap-2 py-4",children:[1,2,3].map(o=>a.jsx("div",{className:"h-8 w-full rounded bg-muted animate-pulse"},o))}):e.length===0?a.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No active run."}):e.map(o=>a.jsxs("div",{className:"rounded border border-border bg-secondary/30 px-3 py-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium",children:o.type}),a.jsx("span",{className:"text-muted-foreground",children:o.timestamp})]}),a.jsx("p",{className:"mt-1 text-muted-foreground",children:o.summary})]},o.id))})})})]})}function yae({open:e,onOpenChange:t,attachments:r,onAdd:n,onRemove:s,onConfirm:i,maxAttachments:o=5,className:l}){const[c,u]=v.useState(""),[d,f]=v.useState(""),h=()=>{const g=c.trim();!g||r.length>=o||(n(g,d.trim()||void 0),u(""),f(""))},m=()=>{i(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:J("max-w-[640px]",l),"aria-describedby":"attachment-modal-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Manage attachments"}),a.jsxs(Ae,{id:"attachment-modal-description",children:["Add links or URLs to attach to your message. You can add up to"," ",o," attachments."]})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(H,{htmlFor:"attach-url",children:"URL"}),a.jsx(ge,{id:"attach-url",type:"url",placeholder:"https://...",value:c,onChange:g=>u(g.target.value),className:"rounded-md border-input"})]}),a.jsxs("div",{className:"w-32 space-y-2",children:[a.jsx(H,{htmlFor:"attach-name",children:"Name (optional)"}),a.jsx(ge,{id:"attach-name",placeholder:"Label",value:d,onChange:g=>f(g.target.value),className:"rounded-md border-input"})]}),a.jsx(P,{type:"button",variant:"secondary",size:"icon",onClick:h,disabled:!c.trim()||r.length>=o,className:"mt-6 shrink-0","aria-label":"Add attachment",children:a.jsx(XI,{className:"h-4 w-4"})})]}),r.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{children:["Attachments (",r.length,"/",o,")"]}),a.jsx(ht,{className:"h-32 rounded-md border border-border p-2",children:a.jsx("ul",{className:"space-y-1",children:r.map((g,p)=>a.jsxs("li",{className:"flex items-center justify-between rounded bg-secondary/50 px-2 py-1.5 text-sm",children:[a.jsx("span",{className:"truncate",children:g.name??g.url}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(p),"aria-label":"Remove attachment",children:a.jsx(jd,{className:"h-4 w-4"})})]},p))})})]})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:m,children:"Done"})]})]})})}const xae={new:"Start new session",reset:"Reset session",stop:"Stop session"},bae={new:"Start a new chat session. Your current session will remain in the list.",reset:"Clear all messages in this session. This cannot be undone.",stop:"Pause the current session. You can resume later."};function wae({open:e,onOpenChange:t,action:r,onConfirm:n,isLoading:s,className:i}){if(!r)return null;const o=()=>{n(r),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:J("max-w-[640px]",i),"aria-describedby":"session-dialog-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:xae[r]}),a.jsx(Ae,{id:"session-dialog-description",children:bae[r]})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:o,disabled:s,children:s?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsxs(a.Fragment,{children:[r==="new"&&a.jsx(Dt,{className:"mr-1.5 h-4 w-4"}),r==="reset"&&a.jsx(GI,{className:"mr-1.5 h-4 w-4"}),r==="stop"&&a.jsx(mm,{className:"mr-1.5 h-4 w-4"}),"Confirm"]})})]})]})})}function jae({open:e,onOpenChange:t,session:r,routingType:n,peerId:s,onSave:i,isLoading:o,peerOptions:l=[],className:c}){const[u,d]=v.useState(n),[f,h]=v.useState(s);v.useEffect(()=>{e&&(d(n),h(s))},[e,n,s]);const m=()=>{i(u,f),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:J("max-w-[640px]",c),"aria-describedby":"session-config-description",children:[a.jsxs(Pe,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(SN,{className:"h-5 w-5 text-primary"}),"Session configuration"]}),a.jsx(Ae,{id:"session-config-description",children:"Choose how messages are routed: shared (main session) or isolated per peer/channel."})]}),a.jsxs("div",{className:"grid gap-4 py-2",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"routing-type",children:"Routing mode"}),a.jsxs(ot,{value:u,onValueChange:g=>d(g),disabled:!r,children:[a.jsx(at,{id:"routing-type",className:"w-full",children:a.jsx(lt,{placeholder:"Select mode"})}),a.jsxs(it,{children:[a.jsx(ke,{value:"shared",children:"Shared (main session)"}),a.jsx(ke,{value:"isolate",children:"Isolated (per peer/channel)"})]})]})]}),u==="isolate"&&l.length>0&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"peer",children:"Peer / channel"}),a.jsxs(ot,{value:f??"",onValueChange:g=>h(g||null),children:[a.jsx(at,{id:"peer",className:"w-full",children:a.jsx(lt,{placeholder:"Select peer"})}),a.jsx(it,{children:l.map(g=>a.jsx(ke,{value:g.id,children:g.name},g.id))})]})]})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:m,disabled:o||!r,children:o?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):"Save"})]})]})})}function _ae({open:e,onOpenChange:t,command:r,description:n="This command requires additional permissions to run.",onConfirm:s,onDeny:i,isLoading:o,className:l}){const c=()=>{s(),t(!1)},u=()=>{i(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:J("max-w-[640px]",l),"aria-describedby":"permission-dialog-description",children:[a.jsxs(Pe,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(NN,{className:"h-5 w-5 text-warning"}),"Permission required"]}),a.jsxs(Ae,{id:"permission-dialog-description",children:[n," Command: ",a.jsxs("code",{className:"rounded bg-secondary px-1 py-0.5 text-sm",children:["/",r]})]})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:u,disabled:o,children:"Deny"}),a.jsx(P,{onClick:c,disabled:o,children:o?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):"Allow"})]})]})})}const Sae=[{id:"browser",name:"Browser",description:"Fetch and summarize URLs"},{id:"search",name:"Search",description:"Web search"},{id:"code",name:"Code",description:"Run code snippets"}];function Nae(){const{data:e}=kp(),t=(e==null?void 0:e.user_id)??null,[r,n]=v.useState(null),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(null),[g,p]=v.useState(!1),[x,b]=v.useState([]),[y,w]=v.useState([]),[_]=v.useState(!1),[j]=v.useState("normal"),{data:S=[],isLoading:N}=Wse(),{data:k}=Vse(r),{data:C=[],isLoading:O}=Gse(r,200),{data:L=[]}=Qse(r,{limit:20}),{data:E=[]}=Zse({sessionId:r,limit:20}),F=Kse(),$=Hse(),K=Yse(),T=eae(),V=Xse(),R=Jse();v.useEffect(()=>{if(!N){if(S.length>0&&!r){n(S[0].id);return}S.length===0&&F.mutate({title:"New session"},{onSuccess:Ne=>n(Ne.id)})}},[N,S.length,S,r,F]);const I=v.useCallback((Ne,se)=>{r&&K.mutate({session_id:r,sender_id:t??void 0,role:"user",text:Ne,attachment_links:(se==null?void 0:se.attachmentUrls)??x},{onSuccess:()=>b([])})},[r,t,x,K]),D=v.useCallback(Ne=>{const se=ve=>{T.mutate({session_id:ve,command_type:Ne})};Ne==="new"?F.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:ve=>{n(ve.id),l(!1),i(null),se(ve.id)}}):Ne==="reset"&&r?F.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:ve=>{n(ve.id),l(!1),i(null),se(ve.id)}}):Ne==="stop"&&r&&$.mutate({id:r,data:{status:"paused"}},{onSuccess:()=>{l(!1),i(null),se(r)}})},[r,F,$,T]),te=v.useCallback(Ne=>{r&&V.mutate({id:Ne,sessionId:r})},[r,V]),A=v.useCallback(Ne=>{r&&R.mutate({id:Ne,sessionId:r})},[r,R]),re=v.useCallback(Ne=>{i(Ne),l(!0)},[]),ye=v.useCallback(Ne=>{re(Ne)},[re]),We=v.useCallback((Ne,se)=>{r&&$.mutate({id:r,data:{routing_type:Ne,peer_id:se}})},[r,$]),Ke=v.useCallback(()=>{h&&re(h),m(null)},[h]),pe=v.useCallback(()=>{m(null)},[]);return a.jsxs("div",{className:"flex h-[calc(100vh-8rem)] flex-col gap-4 animate-fade-in-up",children:[a.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Chat Session"}),k&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Session: ",k.title]}),(k.routing_type==="shared"||k.routing_type==="isolate")&&a.jsx("span",{className:"rounded bg-secondary px-1.5 py-0.5 text-xs",children:k.routing_type})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>re("new"),className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(Dt,{className:"h-4 w-4"}),"/new"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>re("reset"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(GI,{className:"h-4 w-4"}),"/reset"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>re("stop"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(mm,{className:"h-4 w-4"}),"/stop"]})]})]}),a.jsxs("div",{className:"grid flex-1 gap-4 overflow-hidden lg:grid-cols-3",children:[a.jsxs("div",{className:"flex min-h-0 flex-col lg:col-span-2",children:[a.jsxs(X,{className:"flex flex-1 flex-col overflow-hidden rounded-lg border border-border bg-card shadow-card",children:[a.jsx(rae,{messages:C,isLoading:O,currentUserId:t,className:"min-h-0"}),a.jsx(nae,{sessionId:r,onSend:I,onSlashCommand:ye,onAttachClick:()=>p(!0),disabled:!r,isSending:K.isPending,availableTools:Sae})]}),L.length>0&&a.jsx(ht,{className:"mt-4 max-h-64 rounded-lg border border-border bg-card p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Tool invocations"}),L.map(Ne=>a.jsx(pae,{invocation:Ne,onApprove:te,onDeny:A},Ne.id))]})})]}),a.jsxs("div",{className:"flex min-h-0 flex-col gap-4 overflow-auto",children:[a.jsx(gae,{session:k??null,sessions:S,onSelectSession:n,currentSessionId:r,routingTargets:[],commandHistory:E,onOpenSessionConfig:()=>u(!0)}),a.jsx(vae,{traces:y,onExport:()=>w([])})]})]}),a.jsx("footer",{className:"flex items-center justify-between gap-2 border-t border-border px-4 py-2 text-xs text-muted-foreground",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(gp,{className:J("h-3.5 w-3.5",_&&"text-accent")}),_?"Streaming":"Idle"]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(yp,{className:"h-3.5 w-3.5"}),"Backpressure: ",j]})]})}),a.jsx(yae,{open:g,onOpenChange:p,attachments:x,onAdd:(Ne,se)=>b(ve=>[...ve,{url:Ne,name:se}]),onRemove:Ne=>b(se=>se.filter((ve,Y)=>Y!==Ne)),onConfirm:()=>{},maxAttachments:5}),a.jsx(wae,{open:o,onOpenChange:l,action:s,onConfirm:D,isLoading:F.isPending||$.isPending}),a.jsx(jae,{open:c,onOpenChange:u,session:k??null,routingType:(k==null?void 0:k.routing_type)??"shared",peerId:(k==null?void 0:k.peer_id)??null,onSave:We,isLoading:$.isPending,peerOptions:[]}),a.jsx(_ae,{open:d,onOpenChange:f,command:h??"",onConfirm:Ke,onDeny:pe})]})}const ka={getChannels:async()=>{const{data:e,error:t}=await U.from("channels").select("*").order("last_event_at",{ascending:!1,nullsFirst:!1});if(t)throw new Error(t.message);return e??[]},getChannel:async e=>{const{data:t,error:r}=await U.from("channels").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createChannel:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("channels").insert(r).select().single();if(s)throw new Error(s.message);return n},updateChannel:async(e,t)=>{const{data:r,error:n}=await U.from("channels").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteChannel:async e=>{const{error:t}=await U.from("channels").delete().eq("id",e);if(t)throw new Error(t.message)},getAdapterConfig:async e=>{const{data:t,error:r}=await U.from("adapter_configurations").select("*").eq("channel_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertAdapterConfig:async e=>{const t=await ka.getAdapterConfig(e.channel_id);if(t){const{data:i,error:o}=await U.from("adapter_configurations").update({dm_policy:e.dm_policy,group_policy:e.group_policy,mention_gating:e.mention_gating,webhook_url:e.webhook_url??t.webhook_url,polling_interval_seconds:e.polling_interval_seconds??t.polling_interval_seconds}).eq("channel_id",e.channel_id).select().single();if(o)throw new Error(o.message);return i}const r={channel_id:e.channel_id,dm_policy:e.dm_policy??"pairing",group_policy:e.group_policy??"mention",mention_gating:e.mention_gating??!0,webhook_url:e.webhook_url??null,polling_interval_seconds:e.polling_interval_seconds??null},{data:n,error:s}=await U.from("adapter_configurations").insert(r).select().single();if(s)throw new Error(s.message);return n},updateAdapterConfig:async(e,t)=>{const{data:r,error:n}=await U.from("adapter_configurations").update(t).eq("channel_id",e).select().single();if(n)throw new Error(n.message);return r},getDeliveryLogs:async(e,t)=>{if(!e)return[];let r=U.from("delivery_logs").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.eventType&&(r=r.eq("event_type",t.eventType)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createDeliveryLog:async e=>{const{data:t,error:r}=await U.from("delivery_logs").insert(e).select().single();if(r)throw new Error(r.message);return t},getUserMappings:async e=>{if(!e)return[];const{data:t,error:r}=await U.from("user_mappings").select("*").eq("channel_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createUserMapping:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("user_mappings").insert(r).select().single();if(s)throw new Error(s.message);return n},updateUserMapping:async(e,t)=>{const{data:r,error:n}=await U.from("user_mappings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteUserMapping:async e=>{const{error:t}=await U.from("user_mappings").delete().eq("id",e);if(t)throw new Error(t.message)},getChannelAdapterMessages:async(e,t)=>{if(!e)return[];let r=U.from("channel_adapter_messages").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.direction&&(r=r.eq("direction",t.direction)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createChannelAdapterMessage:async e=>{const{data:{user:t}}=await U.auth.getUser(),r={...e,user_id:e.user_id??(t==null?void 0:t.id)??null},{data:n,error:s}=await U.from("channel_adapter_messages").insert(r).select().single();if(s)throw new Error(s.message);return n},sendTestMessage:async(e,t)=>{const r=await ka.createDeliveryLog({channel_id:e,event_type:"test_message_outbound",success:!0,metadata:{content:t.slice(0,200),test:!0}});try{const n=await ka.createChannelAdapterMessage({channel_id:e,content:t,direction:"outbound",metadata:{test:!0}});return{deliveryLog:r,message:n}}catch{return{deliveryLog:r}}}};function kae(e,t){return e().catch(()=>t)}const wn={all:["channels"],list:()=>[...wn.all,"list"],detail:e=>[...wn.all,"detail",e],adapterConfig:e=>[...wn.all,"adapterConfig",e],deliveryLogs:(e,t)=>[...wn.all,"deliveryLogs",e,t],userMappings:e=>[...wn.all,"userMappings",e],channelAdapterMessages:(e,t)=>[...wn.all,"channelAdapterMessages",e,t]};function Cae(){return Se({queryKey:wn.list(),queryFn:()=>kae(()=>ka.getChannels(),[])})}function Eae(e){return Se({queryKey:wn.detail(e??""),queryFn:()=>e?ka.getChannel(e):Promise.resolve(null),enabled:!!e})}function Pae(){const e=ue();return ce({mutationFn:t=>ka.createChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:wn.list()}),q.success("Channel added")},onError:t=>{q.error(t.message||"Failed to add channel")}})}function Oae(){const e=ue();return ce({mutationFn:t=>ka.deleteChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:wn.list()}),q.success("Channel removed")},onError:t=>{q.error(t.message||"Failed to remove channel")}})}function Aae(e){return Se({queryKey:wn.adapterConfig(e??""),queryFn:()=>e?ka.getAdapterConfig(e):Promise.resolve(null),enabled:!!e})}function Tae(){const e=ue();return ce({mutationFn:t=>ka.upsertAdapterConfig(t),onSuccess:(t,r)=>{const n=r.channel_id;e.invalidateQueries({queryKey:wn.adapterConfig(n)}),e.invalidateQueries({queryKey:wn.detail(n)}),q.success("Channel config saved")},onError:t=>{q.error(t.message||"Failed to save config")}})}function Rae(e,t){return Se({queryKey:wn.deliveryLogs(e,t),queryFn:()=>e?ka.getDeliveryLogs(e,t):Promise.resolve([]),enabled:!!e})}function Mae(){const e=ue();return ce({mutationFn:({channelId:t,content:r})=>ka.sendTestMessage(t,r),onSuccess:(t,{channelId:r})=>{e.invalidateQueries({queryKey:wn.deliveryLogs(r)}),e.invalidateQueries({queryKey:wn.channelAdapterMessages(r)}),q.success("Test message sent")},onError:t=>{q.error(t.message||"Failed to send test message")}})}const a0={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},$ae=tt({provider:ir(["whatsapp","telegram","slack","discord"]),display_name:we().optional()}),Iae=tt({retrieval_mode:ir(["webhook","polling"]),webhook_url:we().url().optional().or(uk("")),polling_interval_seconds:Tn.number().min(30).max(3600).optional()}),Dae=[{id:1,title:"Provider",description:"Select chat provider"},{id:2,title:"Retrieval",description:"Webhook or polling"},{id:3,title:"Provision",description:"QR or code if needed"},{id:4,title:"Confirm",description:"Finish setup"}];function Lae({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s}){const[i,o]=v.useState(1),l=Ze({resolver:et($ae),defaultValues:{provider:s??"telegram",display_name:""}});v.useEffect(()=>{e&&s&&l.setValue("provider",s)},[e,s,l]);const c=Ze({resolver:et(Iae),defaultValues:{retrieval_mode:"webhook",webhook_url:"",polling_interval_seconds:60}}),u=l.watch("provider"),d=c.watch("retrieval_mode"),f=async()=>{if(!(i===1&&!await l.trigger())&&!(i===2&&!await c.trigger())){if(i===4){const g=l.getValues(),p=c.getValues();r({provider:g.provider,display_name:g.display_name||null,webhook_url:d==="webhook"&&p.webhook_url?p.webhook_url:null,polling_interval_seconds:d==="polling"?p.polling_interval_seconds??60:null}),t(!1),o(1),l.reset(),c.reset();return}o(g=>g+1)}},h=()=>{i>1&&o(g=>g-1)},m=g=>{g||(o(1),l.reset(),c.reset()),t(g)};return a.jsx(Re,{open:e,onOpenChange:m,children:a.jsxs(Ee,{className:"max-w-lg","aria-describedby":"add-channel-wizard-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Add channel"}),a.jsx(Ae,{id:"add-channel-wizard-description",children:"Connect a chat channel adapter. Follow the steps to complete setup."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:Dae.map(g=>a.jsx("div",{className:J("h-1 flex-1 rounded-full transition-colors",g.id<=i?"bg-primary":"bg-muted"),"aria-hidden":!0},g.id))}),i===1&&a.jsxs("form",{id:"wizard-step1",className:"space-y-4 py-4",onSubmit:l.handleSubmit(()=>o(2)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Provider"}),a.jsxs(ot,{value:u,onValueChange:g=>l.setValue("provider",g),children:[a.jsx(at,{children:a.jsx(lt,{placeholder:"Select provider"})}),a.jsx(it,{children:Object.keys(a0).map(g=>a.jsx(ke,{value:g,children:a0[g]},g))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"display_name",children:"Display name (optional)"}),a.jsx(ge,{id:"display_name",placeholder:"e.g. Team Telegram",...l.register("display_name")})]})]}),i===2&&a.jsxs("form",{id:"wizard-step2",className:"space-y-4 py-4",onSubmit:c.handleSubmit(()=>o(3)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Message retrieval"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"webhook",checked:d==="webhook",onChange:()=>c.setValue("retrieval_mode","webhook"),className:"h-4 w-4 accent-primary"}),a.jsx(HI,{className:"h-4 w-4"}),"Webhook"]}),a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"polling",checked:d==="polling",onChange:()=>c.setValue("retrieval_mode","polling"),className:"h-4 w-4 accent-primary"}),a.jsx(Kl,{className:"h-4 w-4"}),"Polling"]})]})]}),d==="webhook"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"webhook_url",children:"Webhook URL"}),a.jsx(ge,{id:"webhook_url",placeholder:"https://...",...c.register("webhook_url")}),c.formState.errors.webhook_url&&a.jsx("p",{className:"text-xs text-destructive",children:c.formState.errors.webhook_url.message})]}),d==="polling"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"polling_interval_seconds",children:"Polling interval (seconds)"}),a.jsx(ge,{id:"polling_interval_seconds",type:"number",min:30,max:3600,...c.register("polling_interval_seconds")})]})]}),i===3&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-border bg-card/50 p-8",children:[a.jsx(jN,{className:"mb-4 h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:u==="whatsapp"||u==="telegram"?"Scan the QR code with your app to link this channel. You can also use the pairing code shown in the next step.":"Complete OAuth in the provider dashboard if required, then continue."}),a.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Provisioning step is simulated. In production, QR and codes are generated by the gateway."})]})}),i===4&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4 text-sm",children:[a.jsx("p",{className:"font-medium",children:a0[u]}),l.getValues("display_name")&&a.jsx("p",{className:"text-muted-foreground",children:l.getValues("display_name")}),a.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Retrieval: ",c.getValues("retrieval_mode")==="webhook"?"Webhook":"Polling"]})]})}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[i>1?a.jsxs(P,{type:"button",variant:"outline",onClick:h,disabled:n,children:[a.jsx(Lv,{className:"mr-2 h-4 w-4"}),"Back"]}):a.jsx("div",{}),a.jsx(P,{type:"button",onClick:f,disabled:n,children:i===4?n?"Adding":"Add channel":a.jsxs(a.Fragment,{children:["Next",a.jsx(jr,{className:"ml-2 h-4 w-4"})]})})]})]})})}const Fae=tt({dm_policy:ir(["pairing","allowlist","open","disabled"]),group_policy:ir(["mention","open","disabled"]),mention_gating:Yr()}),lO={pairing:"Pairing required",allowlist:"Allowlist only",open:"Open to all",disabled:"Disabled"},cO={mention:"Mention required",open:"Open to all",disabled:"Disabled"};function Uae({open:e,onOpenChange:t,channelId:r,channelName:n,config:s,onSubmit:i,isSubmitting:o=!1}){const l={dm_policy:(s==null?void 0:s.dm_policy)??"pairing",group_policy:(s==null?void 0:s.group_policy)??"mention",mention_gating:(s==null?void 0:s.mention_gating)??!0},{handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h,isDirty:m}}=Ze({resolver:et(Fae),defaultValues:l}),g=d("mention_gating");v.useEffect(()=>{e&&s&&f({dm_policy:s.dm_policy,group_policy:s.group_policy,mention_gating:s.mention_gating})},[e,s,f]);const p=b=>{i(b),f(b),t(!1)},x=b=>{b||f(l),t(b)};return a.jsx(Re,{open:e,onOpenChange:x,children:a.jsxs(Ee,{className:"max-w-lg","aria-describedby":"channel-policy-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Channel policy"}),a.jsx(Ae,{id:"channel-policy-description",children:n?`DM and group policies for ${n}`:"Set DM policy, group policy, and mention gating for this channel."})]}),a.jsxs("form",{id:"channel-policy-form",onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"DM policy"}),a.jsxs(ot,{value:d("dm_policy"),onValueChange:b=>u("dm_policy",b,{shouldDirty:!0}),children:[a.jsx(at,{className:J(h.dm_policy&&"border-destructive"),children:a.jsx(lt,{placeholder:"Select DM policy"})}),a.jsx(it,{children:Object.keys(lO).map(b=>a.jsx(ke,{value:b,children:lO[b]},b))})]}),h.dm_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.dm_policy.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Group policy"}),a.jsxs(ot,{value:d("group_policy"),onValueChange:b=>u("group_policy",b,{shouldDirty:!0}),children:[a.jsx(at,{className:J(h.group_policy&&"border-destructive"),children:a.jsx(lt,{placeholder:"Select group policy"})}),a.jsx(it,{children:Object.keys(cO).map(b=>a.jsx(ke,{value:b,children:cO[b]},b))})]}),h.group_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.group_policy.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"mention_gating",children:"Mention gating"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Require @mention in groups to trigger the agent"})]}),a.jsx(Rt,{id:"mention_gating",checked:g,onCheckedChange:b=>u("mention_gating",b,{shouldDirty:!0})})]})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancel"}),a.jsx(P,{type:"submit",form:"channel-policy-form",disabled:!m||o,children:o?"Saving":"Save"})]})]})})}function qae({open:e,onOpenChange:t,log:r}){return r?a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-lg","aria-describedby":"delivery-error-description",children:[a.jsxs(Pe,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(so,{className:"h-5 w-5 text-destructive"}),"Delivery error details"]}),a.jsxs(Ae,{id:"delivery-error-description",children:["Event: ",r.event_type,"  ",r.success?"Succeeded":"Failed"," "," ",Qa(new Date(r.created_at),"PPp")]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Error details"}),a.jsx("pre",{className:"mt-2 max-h-48 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-sm",children:r.error_details??"No error message recorded."})]}),r.metadata&&Object.keys(r.metadata).length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Metadata"}),a.jsx("pre",{className:"mt-2 max-h-32 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-xs",children:JSON.stringify(r.metadata,null,2)})]})]})]})}):null}function Bae({open:e,onOpenChange:t,channelName:r,onConfirm:n,isDeleting:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-md","aria-describedby":"delete-channel-description",children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(ao,{className:"h-5 w-5 text-destructive"})}),a.jsxs("div",{children:[a.jsx(Oe,{children:"Remove channel"}),a.jsx(Ae,{id:"delete-channel-description",children:"This will remove the channel integration and its configuration. Delivery logs and identity mappings for this channel will also be removed. This action cannot be undone."})]})]})}),r&&a.jsxs("p",{className:"rounded-lg border border-border bg-card/50 px-4 py-3 text-sm text-muted-foreground",children:["Channel: ",a.jsx("span",{className:"font-medium text-foreground",children:r})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{type:"button",variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove channel"})]})]})})}const Sg={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},zae={active:"success",inactive:"secondary",error:"destructive",provisioning:"warning"},Wae=["whatsapp","telegram","slack","discord"];function Vae(){const[e,t]=v.useState(!1),[r,n]=v.useState(),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(!1),[h,m]=v.useState(""),[g,p]=v.useState(null),[x,b]=v.useState(!1),{data:y=[],isLoading:w}=Cae(),{data:_}=Eae(s),{data:j}=Aae(s),{data:S=[]}=Rae(s,{limit:50}),N=Pae(),k=Oae(),C=Tae(),O=Mae(),L=R=>{n(R),t(!0)},E=async R=>{const I=await N.mutateAsync({provider:R.provider,display_name:R.display_name,status:"provisioning"});await C.mutateAsync({channel_id:I.id,dm_policy:"pairing",group_policy:"mention",mention_gating:!0,webhook_url:R.webhook_url??null,polling_interval_seconds:R.polling_interval_seconds??null}),i(I.id),t(!1),n(void 0)},F=R=>{s&&C.mutate({channel_id:s,dm_policy:R.dm_policy,group_policy:R.group_policy,mention_gating:R.mention_gating})},$=R=>{u(R),f(!0)},K=R=>{p(R),b(!0)},T=()=>{g&&(k.mutate(g.id),s===g.id&&i(null),p(null))},V=()=>{!s||!h.trim()||O.mutate({channelId:s,content:h.trim()},{onSuccess:()=>m("")})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Channels & Adapters"}),a.jsxs("nav",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-muted-foreground",children:[a.jsx(fe,{to:"/chat",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Chat"}),a.jsx(fe,{to:"/logs",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Logs"}),a.jsx(fe,{to:"/settings",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Settings"})]})]}),a.jsxs(P,{onClick:()=>L(),className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_280px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"shadow-card rounded-[10px] transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Supported platforms"}),a.jsx(he,{children:"Connect chat surfaces. Select a provider to start the authorization flow."})]}),a.jsx(Z,{children:a.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:Wae.map(R=>{const I=y.some(D=>D.provider===R);return a.jsxs("div",{className:J("flex items-center justify-between gap-3 rounded-[10px] border p-4 transition-all duration-200","border-[rgb(var(--border))] bg-card hover:bg-card/80",s&&(_==null?void 0:_.provider)===R&&"ring-2 ring-primary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(Kl,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium",children:Sg[R]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:I?"Connected":"Not connected"})]})]}),a.jsxs(P,{variant:I?"outline":"default",size:"sm",onClick:()=>{var D;return I?i(((D=y.find(te=>te.provider===R))==null?void 0:D.id)??null):L(R)},className:"shrink-0",children:[I?"Open":"Connect",a.jsx(jr,{className:"ml-1 h-4 w-4"})]})]},R)})})})]}),a.jsxs(Ra,{defaultValue:"channels",className:"space-y-4",children:[a.jsxs(Ys,{className:"grid w-full max-w-md grid-cols-3 rounded-lg p-1 bg-secondary/50",children:[a.jsx(jt,{value:"channels",children:"Channels"}),a.jsx(jt,{value:"logs",children:"Delivery logs"}),a.jsx(jt,{value:"test",children:"Test console"})]}),a.jsx(_t,{value:"channels",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(X,{className:"shadow-card rounded-[10px] transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Channels list"}),a.jsx(he,{children:"Manage chat channel adapters and per-channel policies."})]}),a.jsx(Z,{children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(R=>a.jsx(oe,{className:"h-16 w-full rounded-lg"},R))}):y.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Kl,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No channels added. Use Connect above or Add Channel to connect WhatsApp, Telegram, Slack, or Discord."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>L(),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}):a.jsx(ht,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:y.map(R=>a.jsxs("div",{className:J("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors duration-200",s===R.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>i(R.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(Kl,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:R.display_name||Sg[R.provider]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Sg[R.provider],R.last_event_at&&`  Last event ${vr(new Date(R.last_event_at),{addSuffix:!0})}`]})]}),a.jsx(ze,{variant:zae[R.status],className:"shrink-0",children:R.status}),a.jsxs("span",{className:"text-xs text-muted-foreground shrink-0",children:[R.success_rate.toFixed(0),"% success"]})]}),a.jsxs(Us,{children:[a.jsx(qs,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0","aria-label":"Actions",children:a.jsx(Na,{className:"h-4 w-4"})})}),a.jsxs(gs,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{i(R.id),l(!0)},children:[a.jsx($n,{className:"mr-2 h-4 w-4"}),"Configure policy"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>K(R),children:[a.jsx(rn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},R.id))})})})]}),a.jsxs(X,{className:"shadow-card rounded-[10px] transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Channel config"}),a.jsx(he,{children:"DM policy, group policy, mention gating."})]}),a.jsx(Z,{children:s?a.jsx("div",{className:"space-y-4",children:j===void 0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-10 w-full"}),a.jsx(oe,{className:"h-10 w-full"}),a.jsx(oe,{className:"h-12 w-full"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"DM policy"}),a.jsx("span",{className:"font-medium capitalize",children:(j==null?void 0:j.dm_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Group policy"}),a.jsx("span",{className:"font-medium capitalize",children:(j==null?void 0:j.group_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Mention gating"}),a.jsx("span",{className:"font-medium",children:j!=null&&j.mention_gating?"On":"Off"})]})]}),a.jsxs(P,{variant:"outline",className:"w-full transition-transform hover:scale-[1.01] active:scale-[0.99]",onClick:()=>l(!0),children:[a.jsx($n,{className:"mr-2 h-4 w-4"}),"Edit policy"]})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx($n,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel to configure."})]})})]})]})}),a.jsx(_t,{value:"logs",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card rounded-[10px]",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Delivery logs"}),a.jsxs(he,{children:["Recent inbound/outbound events",s&&" for selected channel"]})]}),a.jsx(Z,{children:s?S.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Pa,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No delivery logs yet."}),a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Send a test message to see an entry."})]}):a.jsx(ht,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-2",children:S.map(R=>a.jsx("div",{className:J("flex items-center justify-between rounded-lg border p-3 text-sm",R.success?"border-border":"border-destructive/50 bg-destructive/5"),children:a.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[R.success?a.jsx(Pa,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx(Mx,{className:"h-4 w-4 shrink-0 text-destructive"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:R.event_type}),a.jsx("p",{className:"text-xs text-muted-foreground",children:vr(new Date(R.created_at),{addSuffix:!0})})]}),!R.success&&R.error_details&&a.jsxs(P,{variant:"ghost",size:"sm",onClick:()=>$(R),className:"shrink-0",children:[a.jsx(Mi,{className:"mr-1 h-4 w-4"}),"Details"]})]})},R.id))})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Kl,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to view delivery logs."})]})})]})}),a.jsx(_t,{value:"test",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card rounded-[10px]",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Test console"}),a.jsx(he,{children:"Send test messages through the selected channel. Events appear in Delivery logs."})]}),a.jsx(Z,{children:s?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{htmlFor:"test-message",className:"text-sm font-medium",children:"Test message"}),a.jsx(ge,{id:"test-message",placeholder:"Type a message to send...",value:h,onChange:R=>m(R.target.value),className:"min-h-[80px] rounded-lg border-border focus-visible:ring-2 focus-visible:ring-primary",disabled:O.isPending})]}),a.jsxs(P,{disabled:!h.trim()||O.isPending,onClick:V,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(wd,{className:"mr-2 h-4 w-4"}),O.isPending?"Sending":"Send test message"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Test messages are logged to delivery logs. Roundtrip and errors appear there."})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(wd,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to test."})]})})]})})]})]}),a.jsx("aside",{className:"space-y-4 lg:order-last",children:a.jsxs(X,{className:"shadow-card rounded-[10px] p-4",children:[a.jsx("h3",{className:"mb-3 text-sm font-semibold text-foreground",children:"Quick links"}),a.jsxs("nav",{className:"flex flex-col gap-2","aria-label":"Channels quick links",children:[a.jsxs(fe,{to:"/help",className:"flex items-center gap-3 rounded-lg border border-transparent px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-card hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx(bc,{className:"h-4 w-4 shrink-0"}),"Documentation"]}),a.jsxs(fe,{to:"/help",className:"flex items-center gap-3 rounded-lg border border-transparent px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-card hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx(df,{className:"h-4 w-4 shrink-0"}),"Support"]}),a.jsxs(fe,{to:"/logs",className:"flex items-center gap-3 rounded-lg border border-transparent px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-card hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx(gp,{className:"h-4 w-4 shrink-0"}),"Diagnostic tools"]})]})]})})]}),a.jsx(Lae,{open:e,onOpenChange:t,onSubmit:E,isSubmitting:N.isPending||C.isPending,initialProvider:r}),a.jsx(Uae,{open:o,onOpenChange:l,channelId:s??"",channelName:(_==null?void 0:_.display_name)??(_==null?void 0:_.provider),config:j??null,onSubmit:F,isSubmitting:C.isPending}),a.jsx(Bae,{open:x,onOpenChange:b,channelName:g?g.display_name||Sg[g.provider]:"",onConfirm:T,isDeleting:k.isPending}),a.jsx(qae,{open:d,onOpenChange:f,log:c})]})}const rs="/skills",wo="/library-skills",oo={list:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return de.get(`${rs}${t?`?${t}`:""}`)},get:e=>de.get(`${rs}/${e}`),create:e=>de.post(rs,e),update:(e,t)=>de.patch(`${rs}/${e}`,t),delete:e=>de.delete(`${rs}/${e}`),getTestRuns:(e,t)=>{const r=t?new URLSearchParams(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)])).toString():"";return de.get(`${rs}/${e}/test-runs${r?`?${r}`:""}`)},getTestRun:(e,t)=>de.get(`${rs}/${e}/test-runs/${t}`),runTest:(e,t)=>de.post(`${rs}/${e}/test-run`,t??{}),abortTestRun:(e,t)=>de.post(`${rs}/${e}/test-runs/${t}/abort`,{}),checkRequirements:e=>de.get(`${rs}/${e}/check-requirements`),getVersions:e=>de.get(`${rs}/${e}/versions`),createVersion:(e,t)=>de.post(`${rs}/${e}/versions`,t),commit:(e,t)=>de.post(`${rs}/${e}/commit`,t)},Ep={list:()=>de.get(wo),get:e=>de.get(`${wo}/${e}`),install:e=>de.post(wo,e),update:(e,t)=>de.patch(`${wo}/${e}`,t),delete:e=>de.delete(`${wo}/${e}`),setEnabled:(e,t)=>de.patch(`${wo}/${e}`,{enabled:t}),registry:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([r,n])=>n!=null)).toString():"";return de.get(`${wo}/registry${t?`?${t}`:""}`)},checkProvenance:(e,t)=>de.get(`${wo}/registry/provenance?slug=${encodeURIComponent(e)}&version=${encodeURIComponent(t)}`)};function Pp(e,t){return e().catch(()=>t)}const cn={all:["skills"],list:e=>[...cn.all,"list",e],detail:e=>[...cn.all,"detail",e],testRuns:(e,t)=>[...cn.all,"test-runs",e,t],testRun:(e,t)=>[...cn.all,"test-run",e,t],versions:e=>[...cn.all,"versions",e],gating:e=>[...cn.all,"gating",e]};function Kae(e){return Se({queryKey:cn.list(e),queryFn:()=>Pp(()=>oo.list(e),[])})}function Hae(e){return Se({queryKey:cn.detail(e??""),queryFn:()=>e?Pp(()=>oo.get(e),null):Promise.resolve(null),enabled:!!e})}function Gae(){const e=ue();return ce({mutationFn:t=>oo.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:cn.list()}),q.success("Skill created")},onError:t=>{q.error(t.message||"Failed to create skill")}})}function Yae(){const e=ue();return ce({mutationFn:({id:t,data:r})=>oo.update(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:cn.list()}),e.invalidateQueries({queryKey:cn.detail(r)}),q.success("Skill saved")},onError:t=>{q.error(t.message||"Failed to save skill")}})}function Qae(e,t){return Se({queryKey:cn.testRuns(e??"",t),queryFn:()=>e?Pp(()=>oo.getTestRuns(e,t),[]):Promise.resolve([]),enabled:!!e})}function Xae(){const e=ue();return ce({mutationFn:({skillId:t,payload:r})=>oo.runTest(t,r),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:cn.testRuns(r)}),q.success("Test run started")},onError:t=>{q.error(t.message||"Failed to run skill test")}})}function Jae(e){return Se({queryKey:cn.versions(e??""),queryFn:()=>e?Pp(()=>oo.getVersions(e),[]):Promise.resolve([]),enabled:!!e})}function Zae(e){return Se({queryKey:cn.gating(e??""),queryFn:()=>e?oo.checkRequirements(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}function eie(){const e=ue();return ce({mutationFn:({skillId:t,message:r,sign:n})=>oo.commit(t,{message:r,sign:n}),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:cn.detail(r)}),e.invalidateQueries({queryKey:cn.versions(r)}),q.success("Changes committed")},onError:t=>{q.error(t.message||"Failed to commit")}})}const Ii={all:["library-skills"],list:()=>[...Ii.all,"list"],detail:e=>[...Ii.all,"detail",e],registry:e=>[...Ii.all,"registry",e]};function S5(){return Se({queryKey:Ii.list(),queryFn:()=>Pp(()=>Ep.list(),[])})}function tie(){const e=ue();return ce({mutationFn:t=>Ep.install(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ii.list()}),q.success("Skill installed")},onError:t=>{q.error(t.message||"Failed to install skill")}})}function rie(){const e=ue();return ce({mutationFn:({id:t,enabled:r})=>Ep.setEnabled(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ii.list()}),e.invalidateQueries({queryKey:Ii.detail(r)}),q.success("Skill status updated")},onError:t=>{q.error(t.message||"Failed to update skill status")}})}function nie(){const e=ue();return ce({mutationFn:t=>Ep.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ii.list()}),q.success("Skill uninstalled")},onError:t=>{q.error(t.message||"Failed to uninstall skill")}})}const sie=[{id:"gmail-watcher",name:"Gmail Watcher",version:"1.0.0",registry_slug:"gmail-watcher",description:"Watch Gmail via Pub/Sub and deliver events to chat.",readme_content:"# Gmail Watcher\n\nUses Gmail Pub/Sub. Requires env: `GMAIL_CREDENTIALS`, `GMAIL_TOPIC`.\n",frontmatter:{permissions:["network"],env:["GMAIL_CREDENTIALS","GMAIL_TOPIC"]},permissions:["network"],binary_requirements:[],environment_requirements:["GMAIL_CREDENTIALS","GMAIL_TOPIC"],popularity:95,updated_at:new Date().toISOString()},{id:"url-summarizer",name:"URL Summarizer",version:"1.0.0",registry_slug:"url-summarizer",description:"Fetch a URL and summarize content via browser tool.",readme_content:`# URL Summarizer

Uses browser automation. No extra env required.
`,frontmatter:{permissions:["browser"]},permissions:["browser"],binary_requirements:[],environment_requirements:[],popularity:88,updated_at:new Date().toISOString()},{id:"cron-reminder",name:"Cron Reminder",version:"1.0.0",registry_slug:"cron-reminder",description:"Schedule reminders and deliver to chat.",readme_content:`# Cron Reminder

Schedule cron jobs. No extra env.
`,frontmatter:{permissions:[]},permissions:[],binary_requirements:[],environment_requirements:[],popularity:72,updated_at:new Date().toISOString()}];function aie(e){return Se({queryKey:Ii.registry(e),queryFn:async()=>{var t;try{return await Ep.registry(e)}catch{let r=[...sie];const n=(t=e==null?void 0:e.search)==null?void 0:t.toLowerCase();n&&(r=r.filter(i=>i.name.toLowerCase().includes(n)||i.registry_slug.toLowerCase().includes(n)));const s=(e==null?void 0:e.sort)??"popularity";return s==="name"?r.sort((i,o)=>i.name.localeCompare(o.name)):s==="recent"?r.sort((i,o)=>o.updated_at>i.updated_at?1:-1):r.sort((i,o)=>(o.popularity??0)-(i.popularity??0)),r}}})}function iie({source:e,onInstall:t,onUninstall:r,onToggleEnabled:n,isInstalling:s=!1,isUninstalling:i=!1,isUpdating:o=!1}){if(!e)return a.jsxs(X,{className:"animate-fade-in-up",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(bc,{className:"h-5 w-5 text-muted-foreground"}),"Skill detail"]}),a.jsx(he,{children:"SKILL.md, frontmatter, permissions, provenance. Select a skill from the grid or registry to view details."})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to view details."})})]});const l=e.type==="installed",c=e.type==="installed"?e.skill:null,u=e.type==="registry"?e.item:null,d=(c==null?void 0:c.name)??(u==null?void 0:u.name)??"",f=(c==null?void 0:c.version)??(u==null?void 0:u.version)??"",h=(c==null?void 0:c.readme_content)??(u==null?void 0:u.readme_content)??"",m=(c==null?void 0:c.frontmatter)??(u==null?void 0:u.frontmatter)??{},g=(c==null?void 0:c.permissions)??(u==null?void 0:u.permissions)??[],p=(c==null?void 0:c.environment_requirements)??(u==null?void 0:u.environment_requirements)??[],x=(c==null?void 0:c.signature_status)??null;return a.jsxs(X,{className:"animate-fade-in-up overflow-hidden",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(bc,{className:"h-5 w-5 text-muted-foreground"}),d]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(ze,{variant:"secondary",className:"font-mono text-xs",children:["v",f]}),x&&a.jsxs(ze,{variant:x==="verified"?"default":"secondary",className:J(x==="verified"&&"bg-success/20 text-success border-success/30"),children:[a.jsx(qc,{className:"mr-1 h-3 w-3"}),x]})]})]}),a.jsx(he,{children:"SKILL.md content, frontmatter, permissions, and provenance."})]}),a.jsxs(Z,{className:"space-y-4",children:[l&&c&&n&&a.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-border bg-muted/30 px-3 py-2",children:[c.enabled?a.jsx(CN,{className:"h-5 w-5 text-primary","aria-hidden":!0}):a.jsx(kN,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium",children:c.enabled?"Enabled":"Disabled"}),a.jsx(P,{variant:"ghost",size:"sm",className:"ml-auto",disabled:o,onClick:()=>n(c,!c.enabled),children:o?a.jsx(ar,{className:"h-4 w-4 animate-spin"}):"Toggle"})]}),g.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"Permissions"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:g.map(b=>a.jsx(ze,{variant:"outline",className:"text-xs",children:b},b))})]}),p.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"Environment"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:p.join(", ")})]}),Object.keys(m).length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"Frontmatter"}),a.jsx("pre",{className:"rounded-md border border-border bg-muted/30 p-3 text-xs overflow-x-auto",children:JSON.stringify(m,null,2)})]}),h&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"SKILL.md"}),a.jsx(ht,{className:"h-[240px] w-full rounded-md border border-border bg-muted/20 p-3",children:a.jsx("div",{className:"prose prose-invert prose-sm max-w-none text-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm text-muted-foreground",children:h})})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-border",children:[!l&&u&&t&&a.jsx(P,{size:"sm",onClick:()=>t(u),disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Installing"]}):a.jsxs(a.Fragment,{children:[a.jsx(Nr,{className:"mr-2 h-4 w-4"}),"Install"]})}),l&&c&&r&&a.jsxs(P,{variant:"destructive",size:"sm",onClick:()=>r(c),disabled:i,children:[i?a.jsx(ar,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(rn,{className:"mr-2 h-4 w-4"}),"Uninstall"]})]})]})]})}function oie({open:e,onOpenChange:t,item:r,gatingChecks:n=[],onInstall:s,isInstalling:i=!1}){var S,N,k,C,O,L;const[o,l]=v.useState(0),[c,u]=v.useState({}),[d,f]=v.useState(!1),h=n.length===0||n.every(E=>E.met),m=r!=null&&r.environment_requirements&&Array.isArray(r.environment_requirements)?r.environment_requirements:[],g=m.length>0,p=[{id:"gating",label:"Gating checks"},...g?[{id:"env",label:"Environment"}]:[],{id:"provenance",label:"Provenance"}],x=o,b=h,y=!g||m.every(E=>(c[E]??"").trim().length>0),w=((S=p[p.length-1])==null?void 0:S.id)==="provenance"?d:b&&y,_=()=>{o<p.length-1?l(o+1):w&&s(c)},j=E=>{E||(l(0),u({}),f(!1)),t(E)};return r?a.jsx(Re,{open:e,onOpenChange:j,children:a.jsxs(Ee,{className:"max-w-lg","aria-describedby":"install-skill-description",children:[a.jsxs(Pe,{children:[a.jsxs(Oe,{children:["Install ",r.name]}),a.jsx(Ae,{id:"install-skill-description",children:"Review gating checks, provide required env (if any), and confirm provenance before installing."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:p.map((E,F)=>a.jsxs("div",{className:J("flex items-center gap-1 rounded-md px-2 py-1 text-xs font-medium",F===x?"bg-primary/20 text-primary":F<x?"bg-muted text-muted-foreground":"text-muted-foreground"),children:[F<x?a.jsx(Pa,{className:"h-3.5 w-3.5"}):a.jsx(v_,{className:"h-3.5 w-3.5"}),E.label]},E.id))}),((N=p[x])==null?void 0:N.id)==="gating"&&a.jsx("div",{className:"space-y-2",children:n.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No gating checks required for this skill."}):n.map(E=>a.jsxs("div",{className:J("flex items-center gap-2 rounded-md border border-border px-3 py-2 text-sm",E.met?"bg-success/10 border-success/30":"bg-warning/10 border-warning/30"),children:[E.met?a.jsx(Pa,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx(v_,{className:"h-4 w-4 shrink-0 text-warning"}),a.jsx("span",{children:E.label}),E.message&&a.jsxs("span",{className:"text-muted-foreground",children:[" ",E.message]})]},E.id))}),((k=p[x])==null?void 0:k.id)==="env"&&g&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide values for required environment variables (stored securely)."}),m.map(E=>a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(H,{htmlFor:`env-${E}`,className:"text-sm",children:E}),a.jsx("input",{id:`env-${E}`,type:"password",placeholder:"",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",value:c[E]??"",onChange:F=>u($=>({...$,[E]:F.target.value}))})]},E))]}),((C=p[x])==null?void 0:C.id)==="provenance"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-2 rounded-md border border-border bg-card p-3",children:[a.jsx(qc,{className:"h-5 w-5 shrink-0 text-accent"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium",children:"Provenance & signature"}),a.jsxs("p",{className:"text-muted-foreground",children:["This skill is from the registry (",r.registry_slug,"). By installing, you confirm that you have reviewed the permissions and accept the source."]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Rt,{id:"provenance-accept",checked:d,onCheckedChange:E=>f(E===!0)}),a.jsx(H,{htmlFor:"provenance-accept",className:"text-sm font-normal cursor-pointer",children:"I have reviewed the skill and accept the provenance."})]})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>j(!1),disabled:i,children:"Cancel"}),x<p.length-1?a.jsx(P,{onClick:()=>l(x+1),disabled:((O=p[x])==null?void 0:O.id)==="gating"&&!b||((L=p[x])==null?void 0:L.id)==="env"&&!y,children:"Next"}):a.jsx(P,{onClick:_,disabled:!w||i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Installing"]}):"Install"})]})]})}):null}function lie({open:e,onOpenChange:t,skill:r,onConfirm:n,isUninstalling:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-md","aria-describedby":"uninstall-skill-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Uninstall skill"}),a.jsx(Ae,{id:"uninstall-skill-description",children:"Uninstalling will remove this skill from your library. Any cron jobs or workflows that use it may stop working. You can reinstall from the registry later."})]}),r&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Skill: ",a.jsx("span",{className:"font-medium text-foreground",children:r.name}),r.registry_slug&&a.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",r.registry_slug,")"]})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Uninstalling":"Uninstall"})]})]})})}const cie={eligible:"success",ineligible:"warning",unknown:"secondary"};function uie(){const[e,t]=v.useState(""),[r,n]=v.useState("popularity"),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(!1),[h,m]=v.useState(null),{data:g=[],isLoading:p}=S5(),{data:x=[],isLoading:b}=aie({search:e||void 0,sort:r}),y=tie(),w=rie(),_=nie(),j=O=>{u(O),l(!0)},S=O=>{c&&y.mutate({name:c.name,version:c.version,registry_slug:c.registry_slug,readme_content:c.readme_content,frontmatter:c.frontmatter??{},permissions:c.permissions??[],binary_requirements:c.binary_requirements??[],environment_requirements:c.environment_requirements??[],signature_status:"verified",enabled:!0,eligibility_status:"eligible"},{onSuccess:()=>{l(!1),u(null),i(null)}})},N=O=>{m(O),f(!0)},k=()=>{h&&_.mutate(h.id,{onSuccess:()=>{f(!1),m(null),(s==null?void 0:s.type)==="installed"&&s.skill.id===h.id&&i(null)}})},C=v.useMemo(()=>{if(!c)return[];const O=c.environment_requirements??[];return[{id:"permissions",label:"Permissions reviewed",met:!0},...O.map(L=>({id:`env-${L}`,label:`Environment: ${L}`,met:!0}))]},[c]);return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Skills Library"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(fe,{to:"/marketplace",children:[a.jsx(Dx,{className:"mr-2 h-4 w-4"}),"Marketplace"]})}),a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(fe,{to:"/skill-editor",children:[a.jsx(bc,{className:"mr-2 h-4 w-4"}),"Skill Editor"]})})]})]}),a.jsxs(X,{className:"overflow-hidden",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(jc,{className:"h-5 w-5 text-muted-foreground"}),"Installed skills"]}),a.jsx(he,{children:"Enable/disable and manage installed skills. Last run and eligibility status shown."})]}),a.jsx(Z,{children:p?a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(O=>a.jsx(oe,{className:"h-28 rounded-lg"},O))}):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border bg-muted/20 py-12 text-center",children:[a.jsx(jc,{className:"h-12 w-12 text-muted-foreground mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No skills installed"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Browse the registry below and install skills to get started."})]}):a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:g.map(O=>a.jsxs(X,{className:J("cursor-pointer transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",(s==null?void 0:s.type)==="installed"&&s.skill.id===O.id&&"ring-2 ring-primary border-primary/50"),onClick:()=>i({type:"installed",skill:O}),children:[a.jsxs(ee,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(ne,{className:"text-base font-medium truncate",children:O.name}),a.jsx("button",{type:"button",className:"shrink-0 rounded p-1 hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring",onClick:L=>{L.stopPropagation(),w.mutate({id:O.id,enabled:!O.enabled})},disabled:w.isPending,"aria-label":O.enabled?"Disable skill":"Enable skill",children:w.isPending?a.jsx(ar,{className:"h-4 w-4 animate-spin text-muted-foreground"}):O.enabled?a.jsx(CN,{className:"h-5 w-5 text-primary"}):a.jsx(kN,{className:"h-5 w-5 text-muted-foreground"})})]}),a.jsxs(he,{className:"text-xs font-mono",children:["v",O.version,O.registry_slug&&`  ${O.registry_slug}`]})]}),a.jsx(Z,{className:"pt-0",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[O.last_run_at&&a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(vl,{className:"h-3.5 w-3.5"}),vr(new Date(O.last_run_at),{addSuffix:!0})]}),a.jsx(ze,{variant:cie[O.eligibility_status],className:"text-xs",children:O.eligibility_status}),O.signature_status==="verified"&&a.jsx(qc,{className:"h-3.5 w-3.5 text-success"})]})})]},O.id))})})]}),a.jsxs(X,{className:"overflow-hidden",children:[a.jsxs(ee,{children:[a.jsx(ne,{className:"flex items-center gap-2",children:"Registry browser"}),a.jsx(he,{children:"Search, filter, and install skills from the registry."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(_c,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{placeholder:"Search skills...",className:"pl-9",value:e,onChange:O=>t(O.target.value)})]}),a.jsxs(ot,{value:r??"popularity",onValueChange:O=>n(O),children:[a.jsx(at,{className:"w-full sm:w-[180px]",children:a.jsx(lt,{placeholder:"Sort by"})}),a.jsxs(it,{children:[a.jsx(ke,{value:"popularity",children:"Popularity"}),a.jsx(ke,{value:"recent",children:"Recent"}),a.jsx(ke,{value:"name",children:"Name"})]})]})]}),b?a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(O=>a.jsx(oe,{className:"h-32 rounded-lg"},O))}):x.length===0?a.jsx("p",{className:"text-sm text-muted-foreground py-6 text-center",children:"No registry skills found. Try a different search or sort."}):a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:x.map(O=>{const L=g.some(E=>E.registry_slug===O.registry_slug);return a.jsxs(X,{className:J("cursor-pointer transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",(s==null?void 0:s.type)==="registry"&&s.item.registry_slug===O.registry_slug&&"ring-2 ring-primary border-primary/50"),onClick:()=>i({type:"registry",item:O}),children:[a.jsxs(ee,{className:"pb-2",children:[a.jsx(ne,{className:"text-base font-medium truncate",children:O.name}),a.jsxs(he,{className:"text-xs font-mono",children:["v",O.version,"  ",O.registry_slug]})]}),a.jsxs(Z,{className:"pt-0",children:[O.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:O.description}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[O.popularity!=null&&a.jsxs(ze,{variant:"secondary",className:"text-xs",children:[O.popularity,"% popular"]}),a.jsx(P,{size:"sm",variant:L?"secondary":"default",disabled:L,onClick:E=>{E.stopPropagation(),L||j(O)},children:L?"Installed":a.jsxs(a.Fragment,{children:[a.jsx(Nr,{className:"mr-1.5 h-3.5 w-3.5"}),"Install"]})})]})]})]},O.id)})})]})]}),a.jsx(iie,{source:s,onInstall:j,onUninstall:N,onToggleEnabled:(O,L)=>w.mutate({id:O.id,enabled:L}),isInstalling:y.isPending,isUninstalling:_.isPending,isUpdating:w.isPending}),a.jsx(oie,{open:o,onOpenChange:l,item:c,gatingChecks:C,onInstall:S,isInstalling:y.isPending}),a.jsx(lie,{open:d,onOpenChange:f,skill:h,onConfirm:k,isUninstalling:_.isPending})]})}const die=tt({name:we().min(1,"Name is required"),version:we().min(1,"Version is required"),description:we().optional(),permissions:we().optional(),env_keys:we().optional()}),i0={name:"",version:"1.0.0",description:"",permissions:"",env_keys:""};function fie({open:e,onOpenChange:t,initialValues:r,onSubmit:n,isSubmitting:s=!1}){const i=()=>({...i0,name:(r==null?void 0:r.name)??"",version:(r==null?void 0:r.version)??"1.0.0",description:(r==null?void 0:r.description)??"",permissions:Array.isArray(r==null?void 0:r.permissions)?r.permissions.join(", "):(r==null?void 0:r.permissions)??"",env_keys:r!=null&&r.env_keys?typeof r.env_keys=="object"?Object.keys(r.env_keys).join(", "):String(r.env_keys):""}),{register:o,handleSubmit:l,reset:c,formState:{errors:u}}=Ze({resolver:et(die),defaultValues:i()});v.useEffect(()=>{e&&c(i())},[e]);const d=h=>{const m={name:h.name,version:h.version,description:h.description||void 0,permissions:h.permissions?h.permissions.split(",").map(g=>g.trim()).filter(Boolean):void 0,env_keys:h.env_keys?h.env_keys.split(",").map(g=>g.trim()).filter(Boolean):void 0};n(m),c(i0),t(!1)},f=h=>{h||c(i0),t(h)};return a.jsx(Re,{open:e,onOpenChange:f,children:a.jsxs(Ee,{className:"max-w-lg","aria-describedby":"frontmatter-dialog-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Edit frontmatter"}),a.jsx(Ae,{id:"frontmatter-dialog-description",children:"YAML frontmatter fields for SKILL.md (name, version, permissions, env)."})]}),a.jsxs("form",{onSubmit:l(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-name",children:"Name"}),a.jsx(ge,{id:"frontmatter-name",placeholder:"skill-name",...o("name"),className:J(u.name&&"border-destructive")}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-version",children:"Version"}),a.jsx(ge,{id:"frontmatter-version",placeholder:"1.0.0",...o("version"),className:J(u.version&&"border-destructive")}),u.version&&a.jsx("p",{className:"text-xs text-destructive",children:u.version.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-description",children:"Description (optional)"}),a.jsx(ge,{id:"frontmatter-description",placeholder:"Short description",...o("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-permissions",children:"Permissions (comma-separated)"}),a.jsx(ge,{id:"frontmatter-permissions",placeholder:"network, exec, read",...o("permissions")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-env",children:"Env keys (comma-separated)"}),a.jsx(ge,{id:"frontmatter-env",placeholder:"API_KEY, GMAIL_CREDENTIALS",...o("env_keys")})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save"})]})]})]})})}const hie=tt({message:we().optional(),sign:Yr().optional()}),o0={message:"",sign:!1};function mie({open:e,onOpenChange:t,skillName:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,watch:l,setValue:c,reset:u,formState:{errors:d}}=Ze({resolver:et(hie),defaultValues:o0}),f=l("sign"),h=g=>{n({message:g.message||void 0,sign:g.sign}),u(o0),t(!1)},m=g=>{g||u(o0),t(g)};return a.jsx(Re,{open:e,onOpenChange:m,children:a.jsxs(Ee,{className:"max-w-lg","aria-describedby":"commit-dialog-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Commit changes"}),a.jsx(Ae,{id:"commit-dialog-description",children:r?`Finalize and commit changes for "${r}". Optionally sign the package.`:"Finalize and commit your skill. Optionally sign the package."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"commit-message",children:"Commit message (optional)"}),a.jsx(ge,{id:"commit-message",placeholder:"e.g. Add Gmail Pub/Sub gating",...i("message"),className:J(d.message&&"border-destructive")}),d.message&&a.jsx("p",{className:"text-xs text-destructive",children:d.message.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"commit-sign",children:"Sign package"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally sign this version for provenance."})]}),a.jsx(Rt,{id:"commit-sign",checked:f,onCheckedChange:g=>c("sign",g)})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Committing":"Commit"})]})]})]})})}function pie({open:e,onClose:t,requirements:r,passed:n,title:s="Gating checks",className:i}){return e?a.jsx("div",{className:J("absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-background/95 p-6 backdrop-blur-sm",i),role:"dialog","aria-labelledby":"gating-overlay-title","aria-describedby":"gating-overlay-desc",children:a.jsxs("div",{className:"relative w-full max-w-md rounded-lg border border-border bg-card p-6 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("h2",{id:"gating-overlay-title",className:"text-lg font-semibold",children:s}),a.jsx(P,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close",children:a.jsx(jd,{className:"h-4 w-4"})})]}),a.jsx("p",{id:"gating-overlay-desc",className:"mt-1 text-sm text-muted-foreground",children:n?"All requirements are met. You can save and deploy.":"Resolve the items below before saving or deploying."}),a.jsx("ul",{className:"mt-4 space-y-2",role:"list",children:r.map(o=>a.jsxs("li",{className:J("flex items-start gap-3 rounded-md border border-border px-3 py-2 text-sm",o.met?"bg-success/10 border-success/30":"bg-destructive/10 border-destructive/30"),children:[o.met?a.jsx(UI,{className:"h-5 w-5 shrink-0 text-success","aria-hidden":!0}):a.jsx(so,{className:"h-5 w-5 shrink-0 text-destructive","aria-hidden":!0}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium",children:o.label}),o.message&&a.jsx("p",{className:"mt-0.5 text-muted-foreground",children:o.message})]})]},o.id))}),r.length===0&&a.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"No gating checks defined."}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx(P,{onClick:t,children:"Close"})})]})}):null}const du=`# Skill name

Short description of what this skill does.

## Requirements

- List gating requirements (env vars, permissions, etc.)

## Usage

How to use this skill from chat or cron.
`;function gie(){const{skillId:e}=BW(),t=ro(),[r,n]=v.useState("editor"),[s,i]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(!1),{data:g=[],isLoading:p}=Kae(),{data:x,isLoading:b}=Hae(e??null),{data:y=[]}=Qae(e??null,{limit:5}),{data:w=[]}=Jae(e??null),{data:_}=Zae(e??null),j=Yae(),S=Xae(),N=eie(),k=Gae(),C=x??null,O=C&&(s!==C.content||o!==C.name),L=v.useCallback(()=>{C?(i(C.content||du),l(C.name||"")):(i(du),l(""))},[C]);v.useEffect(()=>{C?(i(C.content||du),l(C.name||"")):e||(i(du),l(""))},[e,C==null?void 0:C.id,C==null?void 0:C.content,C==null?void 0:C.name]);const E=D=>{t(`/skill-editor/${D}`)},F=()=>{!e||!C||j.mutate({id:e,data:{content:s,name:o||C.name}},{onSuccess:()=>L()})},$=()=>{e&&S.mutate({skillId:e})},K=D=>{e&&N.mutate({skillId:e,...D},{onSuccess:()=>f(!1)})},T=D=>{!e||!C||j.mutate({id:e,data:{frontmatter:{...C.frontmatter,...D}}},{onSuccess:()=>{u(!1)}})},V=y[0],R=_&&!_.passed,I=(_==null?void 0:_.requirements)??[];return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skill Editor"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>t("/skill-editor"),"aria-label":"Clear selection",children:[a.jsx(PH,{className:"mr-1 h-4 w-4"}),"All skills"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>u(!0),disabled:!e,"aria-label":"Edit frontmatter",children:[a.jsx(SN,{className:"mr-1 h-4 w-4"}),"Frontmatter"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:F,disabled:!e||!O||j.isPending,children:[a.jsx(_N,{className:"mr-1 h-4 w-4"}),j.isPending?"Saving":"Save"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>m(!0),className:R?"border-warning text-warning":"","aria-label":"Gating checks",children:[a.jsx(so,{className:"mr-1 h-4 w-4"}),"Gating"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>f(!0),disabled:!e,children:[a.jsx(OH,{className:"mr-1 h-4 w-4"}),"Commit"]}),a.jsxs(P,{size:"sm",onClick:$,disabled:!e||S.isPending,children:[a.jsx(Ds,{className:"mr-1 h-4 w-4"}),S.isPending?"Running":"Test run"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[a.jsxs(X,{className:"lg:col-span-1",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsx(ne,{className:"text-sm",children:"Skills"}),a.jsx(he,{children:"Select a skill to edit."})]}),a.jsxs(Z,{className:"pt-0",children:[p?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-9 w-full"}),a.jsx(oe,{className:"h-9 w-full"}),a.jsx(oe,{className:"h-9 w-4/5"})]}):g.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet."}),a.jsxs(P,{size:"sm",variant:"outline",className:"w-full",onClick:()=>k.mutate({user_id:"",name:"Untitled Skill",content:du},{onSuccess:D=>{t(`/skill-editor/${D.id}`)}}),disabled:k.isPending,children:[a.jsx(Dt,{className:"mr-1 h-4 w-4"}),k.isPending?"Creating":"New skill"]})]}):a.jsx(ht,{className:"h-[200px] pr-2",children:a.jsx("ul",{className:"space-y-0.5",role:"list",children:g.map(D=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>E(D.id),className:J("flex w-full items-center gap-2 rounded-md px-3 py-2 text-left text-sm transition-colors hover:bg-secondary",e===D.id&&"bg-primary/15 text-primary"),children:[a.jsx(sr,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:D.name}),a.jsx(jr,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})},D.id))})}),a.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Versions"}),e&&a.jsx(ht,{className:"h-[120px] pr-2",children:w.length===0?a.jsx("p",{className:"text-xs text-muted-foreground",children:"No versions yet."}):a.jsx("ul",{className:"space-y-1 text-xs",children:w.slice(0,5).map(D=>a.jsxs("li",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"truncate font-mono",children:D.version_number}),a.jsx("span",{className:"text-muted-foreground shrink-0",children:D.changes?"":""})]},D.id))})}),!e&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a skill to see versions."})]})]})]}),a.jsx("div",{className:"space-y-4 lg:col-span-1",children:b&&e?a.jsx(X,{children:a.jsx(Z,{className:"flex items-center justify-center py-12",children:a.jsx(oe,{className:"h-8 w-48"})})}):a.jsxs(a.Fragment,{children:[a.jsxs(Ra,{value:r,onValueChange:n,className:"w-full",children:[a.jsxs(Ys,{className:"grid w-full grid-cols-3",children:[a.jsx(jt,{value:"editor",children:"SKILL.md editor"}),a.jsx(jt,{value:"preview",children:"Preview"}),a.jsx(jt,{value:"frontmatter",children:"Frontmatter"})]}),a.jsx(_t,{value:"editor",className:"mt-4",children:a.jsxs(X,{className:"relative overflow-hidden",children:[h&&a.jsx(pie,{open:h,onClose:()=>m(!1),requirements:I.map(D=>({id:D.id,label:D.label,met:D.met,message:D.message})),passed:(_==null?void 0:_.passed)??!0}),a.jsxs(Z,{className:"pt-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(H,{htmlFor:"skill-name",className:"text-muted-foreground",children:"Skill name"}),a.jsx(ge,{id:"skill-name",value:o,onChange:D=>l(D.target.value),placeholder:"my-skill",className:"mt-1 max-w-xs font-medium"})]}),a.jsx("textarea",{"aria-label":"SKILL.md content",className:"min-h-[300px] w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:du,value:s,onChange:D=>i(D.target.value)})]})]})}),a.jsx(_t,{value:"preview",className:"mt-4",children:a.jsx(X,{children:a.jsx(Z,{className:"pt-6",children:a.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-semibold prose-p:text-muted-foreground prose-code:text-sm",children:a.jsx("pre",{className:"whitespace-pre-wrap rounded-md bg-muted/50 p-4 font-sans text-sm",children:s||"Nothing to preview."})})})})}),a.jsx(_t,{value:"frontmatter",className:"mt-4",children:a.jsx(X,{children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:'Edit YAML frontmatter (name, version, permissions, env) via the Frontmatter button in the header, or open the "Frontmatter" dialog.'}),(C==null?void 0:C.frontmatter)&&Object.keys(C.frontmatter).length>0&&a.jsx("pre",{className:"mt-4 rounded-md bg-muted/50 p-4 font-mono text-xs",children:JSON.stringify(C.frontmatter,null,2)})]})})})]}),a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsx(ne,{className:"text-sm",children:"Test runner"}),a.jsx(he,{children:"Run skill in sandbox and view logs."})]}),a.jsx(Z,{children:V?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Status: ",V.status]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(V.created_at).toLocaleString()})]}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-muted p-4 text-xs text-muted-foreground",children:V.logs||"No logs."})]}):a.jsx("pre",{className:"rounded-md bg-muted p-4 text-xs text-muted-foreground",children:'No test runs yet. Click "Test run" to execute.'})})]})]})})]}),a.jsx(fie,{open:c,onOpenChange:u,initialValues:C==null?void 0:C.frontmatter,onSubmit:T,isSubmitting:j.isPending}),a.jsx(mie,{open:d,onOpenChange:f,skillName:C==null?void 0:C.name,onSubmit:K,isSubmitting:N.isPending})]})}const vie=10,l0=["voice_wake","talk_mode","remote_exec","browser_proxy","camera_capture"];function uO(e){return{voice_wake:"Wake word detection",talk_mode:"Voice conversation mode",remote_exec:"Remote command execution",browser_proxy:"Browser/CDP proxy",camera_capture:"Camera and screen capture"}[e]??e}const Zn={getNodes:async()=>{const{data:e,error:t}=await U.from("nodes").select("*").order("last_active_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getNode:async e=>{const{data:t,error:r}=await U.from("nodes").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createNode:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("nodes").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNode:async(e,t)=>{const{data:r,error:n}=await U.from("nodes").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteNode:async e=>{const{error:t}=await U.from("nodes").delete().eq("id",e);if(t)throw new Error(t.message)},getNodeCapabilities:async e=>{const{data:t,error:r}=await U.from("node_capabilities").select("*").eq("node_id",e).order("capability_key");if(r)throw new Error(r.message);return t??[]},getNodeCapability:async(e,t)=>{const{data:r,error:n}=await U.from("node_capabilities").select("*").eq("node_id",e).eq("capability_key",t).single();if(n){if(n.code==="PGRST116")return null;throw new Error(n.message)}return r},upsertNodeCapability:async e=>{const{data:t,error:r}=await U.from("node_capabilities").upsert({node_id:e.node_id,capability_key:e.capability_key,status:e.status??"enabled",description:e.description??null,configurations:e.configurations??{}},{onConflict:"node_id,capability_key"}).select().single();if(r)throw new Error(r.message);return t},updateNodeCapability:async(e,t)=>{const{data:r,error:n}=await U.from("node_capabilities").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getNodeApprovals:async e=>{let t=U.from("node_approvals").select("*").order("created_at",{ascending:!1});e!=null&&e.nodeId&&(t=t.eq("node_id",e.nodeId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},createNodeApproval:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,requester_id:t.id},{data:n,error:s}=await U.from("node_approvals").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNodeApproval:async(e,t)=>{const{data:r,error:n}=await U.from("node_approvals").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},startPairing:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const t=yie(),r=new Date;r.setMinutes(r.getMinutes()+vie);const n={user_id:e.id,pairing_code:t,expires_at:r.toISOString()},{data:s,error:i}=await U.from("pairing_requests").insert(n).select().single();if(i)throw new Error(i.message);return s},claimPairing:async(e,t)=>{const{data:{user:r}}=await U.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await U.from("pairing_requests").select("*").eq("pairing_code",e.trim()).eq("user_id",r.id).is("node_id",null).gt("expires_at",new Date().toISOString()).single();if(s||!n)throw new Error("Invalid or expired pairing code");const i=await Zn.createNode({name:t??`Node ${e.slice(-6)}`,status:"paired",connection_health:"healthy",capabilities:l0});await U.from("pairing_requests").update({node_id:i.id}).eq("id",n.id);for(const o of l0)await Zn.upsertNodeCapability({node_id:i.id,capability_key:o,status:"enabled",description:uO(o)});return i},getDefaultCapabilityKeys:()=>l0,getCapabilityDescription:uO};function yie(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function N5(e,t){return e().catch(()=>t)}const Vr={all:["nodes"],list:()=>[...Vr.all,"list"],detail:e=>[...Vr.all,"detail",e],capabilities:e=>[...Vr.all,"capabilities",e],approvals:e=>[...Vr.all,"approvals",e],pairing:()=>[...Vr.all,"pairing"]};function xie(){return Se({queryKey:Vr.list(),queryFn:()=>N5(()=>Zn.getNodes(),[])})}function bie(e){return Se({queryKey:Vr.detail(e??""),queryFn:()=>e?Zn.getNode(e):Promise.resolve(null),enabled:!!e})}function wie(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Zn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Vr.list()}),e.invalidateQueries({queryKey:Vr.detail(r)}),q.success("Node updated")},onError:t=>{q.error(t.message||"Failed to update node")}})}function jie(){const e=ue();return ce({mutationFn:t=>Zn.deleteNode(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vr.list()}),e.invalidateQueries({queryKey:Vr.approvals()}),q.success("Node removed")},onError:t=>{q.error(t.message||"Failed to remove node")}})}function _ie(e){return Se({queryKey:Vr.capabilities(e??""),queryFn:()=>e?Zn.getNodeCapabilities(e):Promise.resolve([]),enabled:!!e})}function Sie(){const e=ue();return ce({mutationFn:t=>Zn.upsertNodeCapability(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Vr.capabilities(r.node_id)}),e.invalidateQueries({queryKey:Vr.detail(r.node_id)}),q.success("Capability updated")},onError:t=>{q.error(t.message||"Failed to update capability")}})}function Nie(e){return Se({queryKey:Vr.approvals(e),queryFn:()=>N5(()=>Zn.getNodeApprovals(e),[])})}function kie(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Zn.updateNodeApproval(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Vr.approvals()}),q.success("Approval updated")},onError:t=>{q.error(t.message||"Failed to update approval")}})}function Cie(){const e=ue();return ce({mutationFn:()=>Zn.startPairing(),onSuccess:()=>{e.invalidateQueries({queryKey:Vr.pairing()})},onError:t=>{q.error(t.message||"Failed to start pairing")}})}function Eie(){const e=ue();return ce({mutationFn:({code:t,nodeName:r})=>Zn.claimPairing(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Vr.list()}),e.invalidateQueries({queryKey:Vr.pairing()}),q.success("Device paired")},onError:t=>{q.error(t.message||"Failed to pair device")}})}function Pie(e){const t=new Date(e).getTime(),r=Date.now(),n=Math.max(0,Math.floor((t-r)/1e3)),s=Math.floor(n/60),i=n%60;return`${s}:${i.toString().padStart(2,"0")}`}function Oie({open:e,onOpenChange:t,pairingRequest:r,onStartPairing:n,isStartingPairing:s,onPaired:i}){const[o,l]=v.useState(""),[c,u]=v.useState(""),[d,f]=v.useState(!1),h=Eie();v.useEffect(()=>{if(!r||!e)return;const x=()=>l(Pie(r.expires_at));x();const b=setInterval(x,1e3);return()=>clearInterval(b)},[r,e]);const m=()=>{r&&(navigator.clipboard.writeText(r.pairing_code),f(!0),setTimeout(()=>f(!1),2e3))},g=async()=>{if(c.trim())try{await h.mutateAsync({code:c.trim()}),i==null||i(),t(!1),u("")}catch{}},p=r&&new Date(r.expires_at).getTime()<=Date.now();return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsx(Ee,{className:"max-w-[640px]","aria-describedby":"pairing-description",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Pair device"}),a.jsx(Ae,{id:"pairing-description",children:"Scan the QR code or enter the code on your device to pair. Code expires in 10 minutes."})]}),r?a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:J("flex h-40 w-40 flex-col items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted/30",p&&"opacity-60"),children:[a.jsx(jN,{className:"h-16 w-16 text-muted-foreground"}),a.jsx("span",{className:"mt-2 text-xs text-muted-foreground",children:"QR code"}),a.jsx("p",{className:"mt-1 text-center text-xs text-muted-foreground",children:"Scan with your device app"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Ei,{className:"h-4 w-4"}),a.jsx("span",{children:p?"Expired":`Expires in ${o}`})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{className:"text-muted-foreground",children:"One-time code"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("code",{className:"flex-1 rounded border border-border bg-muted/50 px-3 py-2 text-lg font-mono tracking-widest",children:r.pairing_code}),a.jsx(P,{variant:"outline",size:"icon",onClick:m,"aria-label":"Copy code",children:d?a.jsx(uf,{className:"h-4 w-4 text-success"}):a.jsx(qI,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter this code on your device if you cannot scan the QR code."}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx(H,{htmlFor:"manual-code",className:"text-muted-foreground",children:"Or enter a code from another device"}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx(ge,{id:"manual-code",placeholder:"e.g. ABCD1234",value:c,onChange:x=>u(x.target.value.toUpperCase().slice(0,12)),className:"font-mono uppercase tracking-wider"}),a.jsx(P,{onClick:g,disabled:!c.trim()||h.isPending,children:h.isPending?"Pairing":"Pair"})]})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-8",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Start pairing to generate a QR code and one-time code."}),a.jsx(P,{onClick:n,disabled:s,className:"min-w-[160px]",children:s?"Generating":"Start pairing"})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r&&!p&&a.jsx(P,{variant:"outline",onClick:n,disabled:s,children:"New code"})]})]})})})}const Aie={pending:{label:"Pending",variant:"secondary",icon:Ei},approved:{label:"Approved",variant:"success",icon:Pa},denied:{label:"Denied",variant:"destructive",icon:Mx}};function Tie({open:e,onOpenChange:t,approval:r,node:n,onApprove:s,onDeny:i,isUpdating:o=!1}){var f;if(!r)return null;const{label:l,variant:c,icon:u}=Aie[r.status],d=r.status==="pending";return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-md","aria-describedby":"approval-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Approval request"}),a.jsx(Ae,{id:"approval-description",children:"Review and approve or deny this capability or execution request."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ze,{variant:c,className:"gap-1",children:[a.jsx(u,{className:"h-3 w-3"}),l]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:vr(new Date(r.created_at),{addSuffix:!0})})]}),a.jsxs("dl",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Action"}),a.jsx("dd",{className:"font-medium capitalize",children:r.action_type.replace(/_/g," ")})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Node"}),a.jsx("dd",{className:"font-medium",children:(n==null?void 0:n.name)??((f=n==null?void 0:n.id)==null?void 0:f.slice(0,8))??""})]}),r.capability_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Capability"}),a.jsxs("dd",{className:"font-medium",children:[r.capability_id.slice(0,8),""]})]})]})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Close"}),d&&a.jsxs(a.Fragment,{children:[a.jsx(P,{variant:"outline",className:"text-destructive hover:bg-destructive/10 hover:text-destructive",onClick:()=>i(r.id),disabled:o,children:"Deny"}),a.jsx(P,{onClick:()=>s(r.id),disabled:o,children:o?"Updating":"Approve"})]})]})]})})}const Rie=tt({status:ir(["enabled","disabled","pending_approval"]),description:we().optional()});function Mie({open:e,onOpenChange:t,node:r,capability:n,onSubmit:s,isSubmitting:i=!1}){const o=Ze({resolver:et(Rie),defaultValues:{status:"enabled",description:""},values:n!=null?{status:n.status,description:n.description??""}:void 0});if(!r)return null;const l=n?Zn.getCapabilityDescription(n.capability_key):"";return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-md","aria-describedby":"capability-config-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Capability configuration"}),a.jsxs(Ae,{id:"capability-config-description",children:["Update status and description for this capability on"," ",a.jsx("span",{className:"font-medium",children:r.name??"node"}),"."]})]}),a.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[n&&a.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 px-3 py-2 text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Capability: "}),a.jsx("span",{className:"font-medium capitalize",children:n.capability_key.replace(/_/g," ")}),l&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:l})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"cap-status",children:"Status"}),a.jsxs(ot,{value:o.watch("status"),onValueChange:c=>o.setValue("status",c),children:[a.jsx(at,{id:"cap-status",children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(ke,{value:"enabled",children:"Enabled"}),a.jsx(ke,{value:"disabled",children:"Disabled"}),a.jsx(ke,{value:"pending_approval",children:"Pending approval"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"cap-description",children:"Description (optional)"}),a.jsx(ge,{id:"cap-description",placeholder:"e.g. Remote exec for backup scripts",...o.register("description"),className:J(o.formState.errors.description&&"border-destructive")}),o.formState.errors.description&&a.jsx("p",{className:"text-xs text-destructive",children:o.formState.errors.description.message})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:i,children:i?"Saving":"Save"})]})]})]})})}function $ie({open:e,onOpenChange:t,node:r,onConfirm:n,isUnpairing:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-md","aria-describedby":"unpair-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Revoke / Unpair device"}),a.jsx(Ae,{id:"unpair-description",children:"Unpairing will remove this device from your account. The device will need to be paired again to regain access. This cannot be undone."})]}),r&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Device: ",a.jsx("span",{className:"font-medium text-foreground",children:r.name??`Node ${r.id.slice(0,8)}`})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Unpairing":"Unpair"})]})]})})}function Iie(e){const t=e.find(n=>n.capability_key==="remote_exec");if(!(t!=null&&t.configurations)||typeof t.configurations!="object")return[];const r=t.configurations.allowlist;return Array.isArray(r)?r:[]}function Die(e){const t=e.find(r=>r.capability_key==="voice_wake");return t!=null&&t.configurations&&typeof t.configurations=="object"?t.configurations:null}function Lie(e){const t=e.find(r=>r.capability_key==="talk_mode");return t!=null&&t.configurations&&typeof t.configurations=="object"?t.configurations:null}function Fie({node:e,capabilities:t,className:r}){if(!e)return a.jsxs(X,{className:J("shadow-card transition-shadow hover:shadow-card-hover",r),children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx($n,{className:"h-5 w-5 text-muted-foreground"}),"Node details"]}),a.jsx(he,{children:"Exec allowlist, voice wake, TTS preferences, and stored tokens."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx($n,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to view details and configuration."})]})})]});const n=Iie(t),s=Die(t),i=Lie(t);return a.jsxs(X,{className:J("shadow-card transition-shadow hover:shadow-card-hover",r),children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx($n,{className:"h-5 w-5 text-muted-foreground"}),"Node details"]}),a.jsx(he,{children:"Exec allowlist, voice wake, TTS preferences, and stored tokens."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(pm,{className:"h-4 w-4 text-muted-foreground"}),"Remote exec allowlist"]}),n.length>0?a.jsx(ht,{className:"h-[72px] rounded-md border border-border px-3 py-2",children:a.jsx("ul",{className:"space-y-1 text-xs font-mono text-muted-foreground",children:n.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(jr,{className:"h-3 w-3 shrink-0"}),o]},l))})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"No allowlist configured. Edit remote_exec capability to set allowed commands."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(bd,{className:"h-4 w-4 text-muted-foreground"}),"Voice wake"]}),s&&Object.keys(s).length>0?a.jsx("div",{className:"rounded-md border border-border bg-muted/30 px-3 py-2 text-xs text-muted-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:JSON.stringify(s,null,2)})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Default. Configure in Voice & Media or via capability."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(WH,{className:"h-4 w-4 text-muted-foreground"}),"TTS preferences"]}),i&&Object.keys(i).length>0?a.jsx("div",{className:"rounded-md border border-border bg-muted/30 px-3 py-2 text-xs text-muted-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:JSON.stringify(i,null,2)})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Default. Configure in Voice & Media."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(xd,{className:"h-4 w-4 text-muted-foreground"}),"Stored tokens"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"CDP and auth tokens are stored securely. Rotate from Settings or when unpairing."})]})]})]})}const Uie={paired:"success",offline:"destructive",error:"warning"},qie={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},Bie={voice_wake:bd,talk_mode:bd,remote_exec:pm,browser_proxy:Ix,camera_capture:NH},zie={voice_wake:"Voice",talk_mode:"Talk",remote_exec:"Exec",browser_proxy:"Browser",camera_capture:"Camera"};function Wie(){const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(!1),[h,m]=v.useState(null),[g,p]=v.useState(!1),[x,b]=v.useState(!1),[y,w]=v.useState(null),{data:_=[],isLoading:j}=xie(),{data:S}=bie(s),{data:N=[]}=_ie(s),{data:k=[]}=Nie({limit:20}),C=Cie(),O=wie(),L=jie(),E=Sie(),F=kie(),$=k.find(A=>A.id===c),K=async()=>{try{const A=await C.mutateAsync();n(A)}catch{}},T=A=>{!s||!h||(E.mutate({node_id:s,capability_key:h.capability_key,status:A.status,description:A.description??null}),f(!1),m(null))},V=A=>{F.mutate({id:A,data:{status:"approved"}}),l(!1),u(null)},R=A=>{F.mutate({id:A,data:{status:"denied"}}),l(!1),u(null)},I=(A,re)=>{O.mutate({id:A,data:{connection_health:re}})},D=A=>{w(A),b(!0)},te=()=>{y&&(L.mutate(y.id),s===y.id&&i(null),w(null))};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(fe,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(jr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Nodes (Paired Devices)"})]}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Nodes (Paired Devices)"}),a.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Manage paired devices, capabilities, and approval policies."})]}),a.jsxs(P,{onClick:()=>{n(null),t(!0)},children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Pair New Device"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Nodes list"}),a.jsx(he,{children:"Paired devices with capability badges. Select a node to manage capabilities and exec allowlist."})]}),a.jsx(Z,{children:j?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(A=>a.jsx(oe,{className:"h-16 w-full rounded-lg"},A))}):_.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Sa,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes. Use Pair New Device to add a device via QR or code."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Pair New Device"]})]}):a.jsx(ht,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:_.map(A=>a.jsxs("div",{className:J("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",s===A.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>i(A.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(Sa,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:A.name??`Node ${A.id.slice(0,8)}`}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",A.id.slice(0,8),A.id.length>8?"":""]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last seen:"," ",A.last_active_at?vr(new Date(A.last_active_at),{addSuffix:!0}):"Never"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 shrink-0",children:[(A.capabilities??[]).slice(0,4).map(re=>a.jsx(ze,{variant:"secondary",className:"text-[10px] font-normal",children:zie[re]??re},re)),a.jsx(ze,{variant:Uie[A.status],className:"shrink-0",children:A.status}),a.jsx(ze,{variant:qie[A.connection_health],className:"shrink-0",children:A.connection_health})]})]}),a.jsxs(Us,{children:[a.jsx(qs,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(Na,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(gs,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{i(A.id),p(!0)},children:[a.jsx(yp,{className:"mr-2 h-4 w-4"}),"Connection health"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>D(A),children:[a.jsx(rn,{className:"mr-2 h-4 w-4"}),"Revoke / Unpair"]})]})]})]},A.id))})})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Pair node"}),a.jsx(he,{children:"QR on left, code and instructions on right, expiry countdown."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-border p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(jN,{className:"mx-auto h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start pairing to show QR and code."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Start pairing"]})]})})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Fie,{node:S??null,capabilities:N}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Capabilities"}),a.jsx(he,{children:"Enable or disable capabilities for the selected node."})]}),a.jsx(Z,{children:s?N.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-10 w-full"}),a.jsx(oe,{className:"h-10 w-full"}),a.jsx(oe,{className:"h-10 w-full"})]}):a.jsx("div",{className:"space-y-2",children:N.map(A=>{const re=Bie[A.capability_key]??Sa;return a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(re,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:A.capability_key.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Zn.getCapabilityDescription(A.capability_key)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{variant:A.status==="enabled"?"success":A.status==="pending_approval"?"warning":"secondary",children:A.status}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{m(A),f(!0)},"aria-label":"Edit capability",children:a.jsx($n,{className:"h-4 w-4"})})]})]},A.id)})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx($n,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to manage capabilities."})]})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Approval history"}),a.jsx(he,{children:"Exec approvals, denied runs, and pending capability or execution requests."})]}),a.jsx(Z,{children:k.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(qc,{className:"mb-3 h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No approvals yet."})]}):a.jsx(ht,{className:"h-[240px] pr-2",children:a.jsx("div",{className:"space-y-2",children:k.map(A=>a.jsxs("button",{type:"button",onClick:()=>{u(A.id),l(!0)},className:"flex w-full items-center justify-between rounded-lg border border-border p-3 text-left transition-colors hover:bg-card",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:A.action_type.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:vr(new Date(A.created_at),{addSuffix:!0})})]}),a.jsx(ze,{variant:"secondary",children:A.status})]},A.id))})})})]})]})]}),a.jsx(Oie,{open:e,onOpenChange:t,pairingRequest:r,onStartPairing:K,isStartingPairing:C.isPending,onPaired:()=>{n(null),t(!1)}}),a.jsx(Tie,{open:o,onOpenChange:l,approval:$??null,node:$?_.find(A=>A.id===$.node_id)??null:null,onApprove:V,onDeny:R,isUpdating:F.isPending}),a.jsx(Mie,{open:d,onOpenChange:f,node:S??null,capability:h,onSubmit:T,isSubmitting:E.isPending}),a.jsx(v5,{node:S??null,open:g,onOpenChange:p,onUpdateHealth:I,isUpdating:O.isPending}),a.jsx($ie,{open:x,onOpenChange:b,node:y,onConfirm:te,isUnpairing:L.isPending})]})}function Vie({job:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=e.name||e.description||"Unnamed job",o=()=>{n(e.id),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Ee,{"aria-describedby":"cron-delete-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Delete cron job?"}),a.jsxs(Ae,{id:"cron-delete-description",children:['This will permanently delete "',i,'" and its run history. This action cannot be undone.']})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:o,disabled:s,children:s?"Deleting":"Delete job"})]})]})})}const Kie={running:{label:"Running",icon:ar,variant:"secondary"},completed:{label:"Completed",icon:Pa,variant:"default"},failed:{label:"Failed",icon:Mx,variant:"destructive"},aborted:{label:"Aborted",icon:jH,variant:"outline"}};function Hie({jobId:e,runs:t,isLoading:r=!1,className:n}){return e?r?a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ee,{children:[a.jsx(oe,{className:"h-6 w-32"}),a.jsx(oe,{className:"h-4 w-48"})]}),a.jsx(Z,{className:"space-y-3",children:[1,2,3].map(s=>a.jsx(oe,{className:"h-20 w-full rounded-lg"},s))})]}):t.length?a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Mu,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(he,{children:"Past executions with output and logs. Newest first."})]}),a.jsx(Z,{children:a.jsx(ht,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-3",children:t.map(s=>{const i=Kie[s.status],o=i.icon;return a.jsxs("li",{className:"rounded-lg border border-border bg-secondary/30 p-4 transition-shadow hover:shadow-card",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ze,{variant:i.variant,className:"gap-1",children:[s.status==="running"?a.jsx(o,{className:"h-3 w-3 animate-spin"}):a.jsx(o,{className:"h-3 w-3"}),i.label]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:vr(new Date(s.execution_time),{addSuffix:!0})})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.execution_time).toLocaleString()})]}),s.output!=null&&s.output!==""||s.log!=null&&s.log!==""?a.jsxs("div",{className:"mt-3 space-y-2",children:[s.output!=null&&s.output!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Output"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono",children:s.output})]}),s.log!=null&&s.log!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Log"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono whitespace-pre-wrap",children:s.log})]})]}):null]},s.id)})})})})]}):a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Mu,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(he,{children:"Past executions for this job. Run the job to see entries here."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Mu,{className:"h-10 w-10 text-muted-foreground/50"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No runs yet"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'Use "Run now" on a job to execute it and record history.'})]})})]}):a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Mu,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(he,{children:"Select a job to view its run history, or run a job to see entries here."})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No job selected. Run a job from the list above to see execution logs and output."})})]})}const Gie=[{to:"/cron",label:"Scheduling",icon:vl},{to:"/webhooks",label:"Webhooks & Hooks",icon:Uv}];function k5(){return a.jsx("nav",{className:"mb-6 flex flex-wrap gap-2 border-b border-border pb-4","aria-label":"Scheduling and Webhooks sections",children:Gie.map(({to:e,label:t,icon:r})=>a.jsxs(oI,{to:e,end:e!=="/webhooks",className:({isActive:n})=>J("inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all","hover:bg-secondary/50 hover:scale-[1.02] active:scale-[0.98]",n?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground"),children:[a.jsx(r,{className:"h-4 w-4","aria-hidden":!0}),t]},e))})}function Yie(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[s,i]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(null),[d,f]=v.useState(null),{data:h}=kp(),m=(h==null?void 0:h.user_id)??"",{data:g=[],isLoading:p}=PF(),{data:x=[],isLoading:b}=qne(c??d,{limit:20}),y=OF(),w=Fne(),_=Une(),j=Bne(),S=()=>{i(null),t(!0)},N=$=>{i($),t(!0)},k=$=>{s?w.mutate({id:s.id,data:$},{onSuccess:()=>{t(!1),i(null)}}):y.mutate($,{onSuccess:()=>t(!1)})},C=$=>{l($),n(!0)},O=$=>{_.mutate($,{onSuccess:()=>{n(!1),l(null),c===$&&u(null)}})},L=$=>{f($.id),j.mutate($.id,{onSuccess:()=>{u($.id),f(null)},onError:()=>f(null)})},E=$=>$.name||$.description||"Unnamed job",F=$=>$==="active"?"default":$==="paused"?"secondary":"destructive";return a.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[a.jsx(k5,{}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Cron Jobs & Scheduler"}),a.jsxs(P,{onClick:S,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Create job"]})]}),a.jsxs(X,{className:"overflow-hidden rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Cron list"}),a.jsx(he,{children:"Scheduled jobs with run now, edit, and delete. Select a job to view run history below."})]}),a.jsx(Z,{className:"p-0",children:p?a.jsx("div",{className:"space-y-3 p-6",children:[1,2,3].map($=>a.jsx(oe,{className:"h-16 w-full rounded-lg"},$))}):g.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[a.jsx("th",{className:"sticky top-0 z-10 bg-secondary/50 px-6 py-4 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Schedule"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Next run"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Session target"}),a.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),a.jsx("tbody",{children:g.map($=>a.jsxs("tr",{className:J("border-b border-border transition-colors hover:bg-secondary/30",c===$.id&&"bg-primary/5"),children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:E($)}),$.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Sr,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]})}),a.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:$.schedule}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(ze,{variant:F($.status),children:$.status})}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:$.next_run_time?vr(new Date($.next_run_time),{addSuffix:!0}):""}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:$.session_target||""}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>L($),disabled:j.isPending&&d===$.id,className:"transition-transform hover:scale-[1.02]",children:[j.isPending&&d===$.id?a.jsx(Ei,{className:"h-4 w-4 animate-spin"}):a.jsx(Ds,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 hidden sm:inline",children:j.isPending&&d===$.id?"Running":"Run now"})]}),a.jsxs(Us,{children:[a.jsx(qs,{asChild:!0,children:a.jsx(P,{variant:"outline",size:"icon",className:"h-8 w-8",children:a.jsx(Na,{className:"h-4 w-4"})})}),a.jsxs(gs,{align:"end",children:[a.jsxs(Mt,{onClick:()=>N($),children:[a.jsx($i,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{onClick:()=>{u($.id)},children:[a.jsx(Ei,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>C($),children:[a.jsx(rn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},$.id))})]})}),a.jsx("div",{className:"space-y-3 p-4 md:hidden",children:g.map($=>a.jsx(X,{className:J("rounded-lg border border-border bg-card shadow-card transition-all hover:shadow-card-hover",c===$.id&&"ring-2 ring-primary"),children:a.jsxs(Z,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:E($)}),$.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Sr,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]}),a.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:$.schedule}),a.jsx(ze,{variant:F($.status),className:"mt-2",children:$.status}),$.next_run_time&&a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Next: ",vr(new Date($.next_run_time),{addSuffix:!0})]})]}),a.jsxs(Us,{children:[a.jsx(qs,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(Na,{className:"h-4 w-4"})})}),a.jsxs(gs,{align:"end",children:[a.jsxs(Mt,{onClick:()=>L($),children:[a.jsx(Ds,{className:"mr-2 h-4 w-4"}),"Run now"]}),a.jsxs(Mt,{onClick:()=>N($),children:[a.jsx($i,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{onClick:()=>u($.id),children:[a.jsx(Ei,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>C($),children:[a.jsx(rn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>L($),disabled:j.isPending&&d===$.id,children:[j.isPending&&d===$.id?a.jsx(Ei,{className:"mr-1 h-4 w-4 animate-spin"}):a.jsx(Ds,{className:"mr-1 h-4 w-4"}),"Run now"]}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>N($),children:"Edit"})]})]})},$.id))})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center border-t border-border py-16 text-center",children:[a.jsx(vl,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsx("p",{className:"mt-4 text-sm font-medium",children:"No cron jobs yet"}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create a job to run skills on a schedule. Use the cron builder, payload, and session target."}),a.jsxs(P,{onClick:S,className:"mt-4",children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Create job"]})]})})]}),a.jsx(Hie,{jobId:c??d,runs:x,isLoading:b}),a.jsx(g5,{open:e,onOpenChange:t,onSubmit:k,isSubmitting:y.isPending||w.isPending,userId:m,job:s}),a.jsx(Vie,{job:o,open:r,onOpenChange:n,onConfirm:O,isDeleting:_.isPending})]})}function Qie(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="wh_";for(let r=0;r<12;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}const Hr={getWebhooks:async()=>{const{data:e,error:t}=await U.from("webhooks").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWebhook:async e=>{const{data:t,error:r}=await U.from("webhooks").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWebhook:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r=Qie(),s=`${typeof window<"u"?`${window.location.origin}/api/webhooks`:"/api/webhooks"}/${encodeURIComponent(e.route_name)}?token=${encodeURIComponent(r)}`,i={user_id:t.id,route_name:e.route_name,token_preview:r,token_hash:null,url:s,mapping_template:e.mapping_template??null,delivery_route:e.delivery_route??null,rate_limit:e.rate_limit??null},{data:o,error:l}=await U.from("webhooks").insert(i).select().single();if(l)throw new Error(l.message);return o},updateWebhook:async(e,t)=>{const{data:r,error:n}=await U.from("webhooks").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWebhook:async e=>{const{error:t}=await U.from("webhooks").delete().eq("id",e);if(t)throw new Error(t.message)},testWebhook:async e=>{const t=await Hr.getWebhook(e);if(!t)throw new Error("Webhook not found");try{const r=await fetch(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_test:!0,timestamp:new Date().toISOString(),source:"control-ui"})});return{ok:r.ok,message:r.ok?"Test request sent":await r.text().catch(()=>r.statusText)}}catch(r){return{ok:!1,message:r instanceof Error?r.message:"Request failed"}}},getHookScripts:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)return[];let r=U.from("hook_scripts").select("*").eq("user_id",t.id).order("event_trigger");e===null?r=r.is("webhook_id",null):e&&(r=r.or(`webhook_id.eq.${e},webhook_id.is.null`));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},getHookScript:async e=>{const{data:t,error:r}=await U.from("hook_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createHookScript:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("hook_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateHookScript:async(e,t)=>{const{data:r,error:n}=await U.from("hook_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteHookScript:async e=>{const{error:t}=await U.from("hook_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getPayloadTemplates:async e=>{if(!e)return[];const{data:t,error:r}=await U.from("payload_templates").select("*").eq("webhook_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getPayloadTemplate:async e=>{const{data:t,error:r}=await U.from("payload_templates").select("*").eq("webhook_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertPayloadTemplate:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r=await Hr.getPayloadTemplate(e.webhook_id);if(r){const{data:o,error:l}=await U.from("payload_templates").update({template_content:e.template_content??r.template_content}).eq("webhook_id",e.webhook_id).select().single();if(l)throw new Error(l.message);return o}const n={user_id:t.id,webhook_id:e.webhook_id,template_content:e.template_content??""},{data:s,error:i}=await U.from("payload_templates").insert(n).select().single();if(i)throw new Error(i.message);return s},updatePayloadTemplate:async(e,t)=>{const{data:r,error:n}=await U.from("payload_templates").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getGmailPubSubSettings:async()=>{const{data:e,error:t}=await U.from("gmail_pubsub_settings").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getGmailPubSubSetting:async e=>{const{data:t,error:r}=await U.from("gmail_pubsub_settings").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createGmailPubSubSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,name:e.name??"default",configuration_details:e.configuration_details??{},is_active:e.is_active??!1,last_tested_at:e.last_tested_at??null,metadata:e.metadata??{}},{data:n,error:s}=await U.from("gmail_pubsub_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},updateGmailPubSubSetting:async(e,t)=>{const{data:r,error:n}=await U.from("gmail_pubsub_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteGmailPubSubSetting:async e=>{const{error:t}=await U.from("gmail_pubsub_settings").delete().eq("id",e);if(t)throw new Error(t.message)},testGmailPubSubSetting:async e=>{const t=await Hr.getGmailPubSubSetting(e);if(!t)throw new Error("Gmail Pub/Sub setting not found");const r=t.configuration_details,n=r==null?void 0:r.push_endpoint;if(!n)return{ok:!1,message:"Push endpoint not configured"};try{const s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:{data:btoa(unescape(encodeURIComponent(JSON.stringify({test:!0}))))}})}),i=s.ok||s.status===200;return await Hr.updateGmailPubSubSetting(e,{last_tested_at:new Date().toISOString()}),{ok:i,message:i?"Test sent":await s.text().catch(()=>s.statusText)}}catch(s){return{ok:!1,message:s instanceof Error?s.message:"Request failed"}}}};function C5(e,t){return e().catch(()=>t)}const fr={all:["webhooks"],list:()=>[...fr.all,"list"],detail:e=>[...fr.all,"detail",e],hookScripts:e=>[...fr.all,"hookScripts",e],payloadTemplate:e=>[...fr.all,"payloadTemplate",e],gmailPubSubSettings:()=>[...fr.all,"gmailPubSubSettings"],gmailPubSubSetting:e=>[...fr.all,"gmailPubSubSetting",e]};function Xie(){return Se({queryKey:fr.list(),queryFn:()=>C5(()=>Hr.getWebhooks(),[])})}function Jie(){const e=ue();return ce({mutationFn:t=>Hr.createWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:fr.list()}),q.success("Webhook created")},onError:t=>{q.error(t.message||"Failed to create webhook")}})}function Zie(){const e=ue();return ce({mutationFn:t=>Hr.deleteWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:fr.list()}),q.success("Webhook removed")},onError:t=>{q.error(t.message||"Failed to remove webhook")}})}function eoe(){const e=ue();return ce({mutationFn:t=>Hr.testWebhook(t),onSuccess:t=>{e.invalidateQueries({queryKey:fr.list()}),t.ok?q.success(t.message??"Test request sent"):q.error(t.message??"Test failed")},onError:t=>{q.error(t.message||"Test failed")}})}function toe(e){return Se({queryKey:fr.hookScripts(e),queryFn:()=>Hr.getHookScripts(e)})}function roe(){const e=ue();return ce({mutationFn:t=>Hr.createHookScript(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:fr.hookScripts(r.webhook_id??null)}),q.success("Hook script added")},onError:t=>{q.error(t.message||"Failed to add hook script")}})}function noe(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Hr.updateHookScript(t,r),onSuccess:t=>{(t==null?void 0:t.webhook_id)!==void 0&&e.invalidateQueries({queryKey:fr.hookScripts(t.webhook_id)}),e.invalidateQueries({queryKey:fr.hookScripts(null)}),q.success("Hook script updated")},onError:t=>{q.error(t.message||"Failed to update hook script")}})}function soe(){const e=ue();return ce({mutationFn:t=>Hr.deleteHookScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:fr.all}),q.success("Hook script removed")},onError:t=>{q.error(t.message||"Failed to remove hook script")}})}function aoe(e){return Se({queryKey:fr.payloadTemplate(e??""),queryFn:()=>e?Hr.getPayloadTemplate(e):Promise.resolve(null),enabled:!!e})}function ioe(){const e=ue();return ce({mutationFn:t=>Hr.upsertPayloadTemplate(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:fr.payloadTemplate(r.webhook_id)}),q.success("Payload template saved")},onError:t=>{q.error(t.message||"Failed to save payload template")}})}function ooe(){return Se({queryKey:fr.gmailPubSubSettings(),queryFn:()=>C5(()=>Hr.getGmailPubSubSettings(),[])})}function loe(){const e=ue();return ce({mutationFn:t=>Hr.createGmailPubSubSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:fr.gmailPubSubSettings()}),q.success("Gmail Pub/Sub setting created")},onError:t=>{q.error(t.message||"Failed to create Gmail Pub/Sub setting")}})}function coe(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Hr.updateGmailPubSubSetting(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:fr.gmailPubSubSettings()}),e.invalidateQueries({queryKey:fr.gmailPubSubSetting(r)}),q.success("Gmail Pub/Sub setting updated")},onError:t=>{q.error(t.message||"Failed to update Gmail Pub/Sub setting")}})}function uoe(){const e=ue();return ce({mutationFn:t=>Hr.deleteGmailPubSubSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:fr.gmailPubSubSettings()}),q.success("Gmail Pub/Sub setting removed")},onError:t=>{q.error(t.message||"Failed to remove Gmail Pub/Sub setting")}})}function doe(){const e=ue();return ce({mutationFn:t=>Hr.testGmailPubSubSetting(t),onSuccess:t=>{e.invalidateQueries({queryKey:fr.gmailPubSubSettings()}),t.ok?q.success(t.message??"Test sent"):q.error(t.message??"Test failed")},onError:t=>{q.error(t.message||"Test failed")}})}const foe=tt({route_name:we().min(1,"Route name is required").regex(/^[a-z0-9_-]+$/i,"Use only letters, numbers, hyphens, and underscores"),mapping_template:we().optional(),delivery_route:we().optional(),rate_limit:gte([we().transform(e=>e===""?null:Number(e)),pte().int().positive().nullable()]).optional().nullable().refine(e=>e==null||typeof e=="number"&&Number.isInteger(e)&&e>0,"Rate limit must be a positive integer")}),c0={route_name:"",mapping_template:"",delivery_route:"",rate_limit:null};function hoe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=Ze({resolver:et(foe),defaultValues:c0}),c=d=>{var f,h;r({route_name:d.route_name.trim(),mapping_template:((f=d.mapping_template)==null?void 0:f.trim())||null,delivery_route:((h=d.delivery_route)==null?void 0:h.trim())||null,rate_limit:d.rate_limit??null}),o(c0)},u=d=>{d||o(c0),t(d)};return a.jsx(Re,{open:e,onOpenChange:u,children:a.jsxs(Ee,{className:"max-w-lg","aria-describedby":"create-webhook-form-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Create webhook"}),a.jsx(Ae,{id:"create-webhook-form-description",children:"Add an inbound webhook endpoint. A token will be generated; configure delivery routing if needed."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"route_name",children:"Route name"}),a.jsx(ge,{id:"route_name",placeholder:"e.g. my-integration",...s("route_name"),className:l.route_name?"border-destructive":"",autoComplete:"off"}),l.route_name&&a.jsx("p",{className:"text-xs text-destructive",children:l.route_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"delivery_route",children:"Delivery route (optional)"}),a.jsx(ge,{id:"delivery_route",placeholder:"e.g. session or channel target",...s("delivery_route")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"rate_limit",children:"Rate limit (optional, requests/min)"}),a.jsx(ge,{id:"rate_limit",type:"number",min:1,placeholder:"e.g. 60",...s("rate_limit")}),l.rate_limit&&a.jsx("p",{className:"text-xs text-destructive",children:l.rate_limit.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"mapping_template",children:"Mapping template (optional)"}),a.jsx("textarea",{id:"mapping_template",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"JSON or template for payload mapping",...s("mapping_template")})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>u(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Creating":"Create webhook"})]})]})]})})}const moe=tt({event_trigger:we().min(1,"Event trigger is required"),language:ir(["javascript","python"]),script_content:we(),webhook_id:we().nullable()}),poe=["/new","/reset","start","end","before_run","after_run"],Ng={event_trigger:"/new",language:"javascript",script_content:"",webhook_id:null};function goe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,script:s=null,webhooks:i}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=Ze({resolver:et(moe),defaultValues:Ng}),h=u("language"),m=u("webhook_id");v.useEffect(()=>{d(s?{event_trigger:s.event_trigger,language:s.language,script_content:s.script_content??"",webhook_id:s.webhook_id??null}:Ng)},[s,e,d]);const g=x=>{r(x),s||d(Ng),t(!1)},p=x=>{x||d(Ng),t(x)};return a.jsx(Re,{open:e,onOpenChange:p,children:a.jsxs(Ee,{className:"max-w-2xl max-h-[90vh] flex flex-col","aria-describedby":"hook-script-editor-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:s?"Edit hook script":"Add hook script"}),a.jsx(Ae,{id:"hook-script-editor-description",children:"Sandboxed script (JavaScript or Python) for lifecycle events. Runs in a restricted environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"flex flex-col flex-1 min-h-0 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"event_trigger",children:"Event trigger"}),a.jsxs(ot,{value:u("event_trigger"),onValueChange:x=>c("event_trigger",x),children:[a.jsx(at,{id:"event_trigger",className:f.event_trigger?"border-destructive":"",children:a.jsx(lt,{placeholder:"Select trigger"})}),a.jsx(it,{children:poe.map(x=>a.jsx(ke,{value:x,children:x},x))})]}),f.event_trigger&&a.jsx("p",{className:"text-xs text-destructive",children:f.event_trigger.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"language",children:"Language"}),a.jsxs(ot,{value:h,onValueChange:x=>c("language",x),children:[a.jsx(at,{id:"language",children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(ke,{value:"javascript",children:"JavaScript"}),a.jsx(ke,{value:"python",children:"Python"})]})]})]})]}),i.length>0&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"webhook_id",children:"Webhook (optional)"}),a.jsxs(ot,{value:m??"none",onValueChange:x=>c("webhook_id",x==="none"?null:x),children:[a.jsx(at,{id:"webhook_id",children:a.jsx(lt,{placeholder:"Global (all webhooks)"})}),a.jsxs(it,{children:[a.jsx(ke,{value:"none",children:"Global (all webhooks)"}),i.map(x=>a.jsx(ke,{value:x.id,children:x.route_name},x.id))]})]})]}),a.jsxs("div",{className:"grid gap-2 flex-1 min-h-[200px]",children:[a.jsx(H,{htmlFor:"script_content",children:"Script content"}),a.jsx("textarea",{id:"script_content",className:"flex w-full flex-1 min-h-[200px] rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:h==="javascript"?"// e.g. return { ...payload };":"# e.g. return { **payload }",...o("script_content"),spellCheck:!1})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>p(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":s?"Save":"Add script"})]})]})]})})}function voe({webhooks:e,isLoadingWebhooks:t=!1}){const[r,n]=v.useState(null),[s,i]=v.useState(null),{data:o,isLoading:l}=aoe(r),c=ioe(),u=s!==null?s:(o==null?void 0:o.template_content)??"",d=()=>{r&&c.mutate({webhook_id:r,template_content:u},{onSuccess:()=>i(null)})},f=r&&u!==((o==null?void 0:o.template_content)??"");return a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(CH,{className:"h-5 w-5 text-muted-foreground"}),"Payload transformer"]}),a.jsx(he,{children:"Edit transformation templates per webhook. Preview and save to apply."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"payload-webhook",children:"Webhook"}),t?a.jsx(oe,{className:"h-10 w-full rounded-md"}):a.jsxs(ot,{value:r??"",onValueChange:h=>{n(h||null),i(null)},children:[a.jsx(at,{id:"payload-webhook",children:a.jsx(lt,{placeholder:"Select a webhook"})}),a.jsx(it,{children:e.length===0?a.jsx(ke,{value:"_none",disabled:!0,children:"No webhooks  create one first"}):e.map(h=>a.jsx(ke,{value:h.id,children:h.route_name},h.id))})]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"template_content",children:"Template content"}),l?a.jsx(oe,{className:"h-[200px] w-full rounded-md"}):a.jsx("textarea",{id:"template_content",rows:10,className:J("flex w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),placeholder:"JSON or template (e.g. Handlebars) for payload mapping",value:u,onChange:h=>i(h.target.value),spellCheck:!1})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(P,{onClick:d,disabled:c.isPending||!f&&!o,children:c.isPending?"Saving":a.jsxs(a.Fragment,{children:[a.jsx(_N,{className:"mr-2 h-4 w-4"}),"Save template"]})})})]}),!r&&e.length>0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a webhook above to edit its payload transformation template."}),!r&&e.length===0&&!t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a webhook in the Endpoints tab first, then select it here to add a transformation template."})]})]})}function yoe({webhook:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Ee,{"aria-describedby":"webhook-delete-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Remove webhook?"}),a.jsxs(Ae,{id:"webhook-delete-description",children:['This will permanently remove the endpoint "',e.route_name,'". Inbound requests to this URL will no longer be accepted. This action cannot be undone.']})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove webhook"})]})]})})}function xoe({script:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Ee,{"aria-describedby":"hook-script-delete-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Remove hook script?"}),a.jsxs(Ae,{id:"hook-script-delete-description",children:['This will permanently remove the lifecycle hook for "',e.event_trigger,'". This action cannot be undone.']})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove script"})]})]})})}const boe=tt({name:we().min(1,"Name is required").max(64),push_endpoint:we().url("Enter a valid push endpoint URL")}),dO=[{id:"connect",title:"Connect",description:"Push endpoint URL"},{id:"configure",title:"Configure",description:"Optional topic and subscription"},{id:"test",title:"Test",description:"Verify delivery"}];function woe({onComplete:e}){const[t,r]=v.useState(0),[n,s]=v.useState(null),[i,o]=v.useState(null),{data:l=[],isLoading:c}=ooe(),u=loe(),d=coe(),f=uoe(),h=doe(),{register:m,handleSubmit:g,formState:{errors:p},setValue:x,reset:b}=Ze({resolver:et(boe),defaultValues:{name:"default",push_endpoint:""}}),y=N=>{const k={push_endpoint:N.push_endpoint};n?d.mutate({id:n,data:{name:N.name,configuration_details:k,is_active:!0}},{onSuccess:()=>{r(2),s(null),b({name:"default",push_endpoint:""})}}):u.mutate({name:N.name,configuration_details:k,is_active:!0},{onSuccess:()=>{r(2),b({name:"default",push_endpoint:""}),e==null||e()}})},w=N=>{o(N.id),h.mutate(N.id,{onSettled:()=>o(null)})},_=N=>{s(N.id);const k=N.configuration_details;x("name",N.name),x("push_endpoint",(k==null?void 0:k.push_endpoint)??""),r(0)},j=N=>{f.mutate(N)},S=()=>{r(0),s(null),b({name:"default",push_endpoint:""})};return c?a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"h-10 w-full rounded-lg"}),a.jsx(oe,{className:"h-24 w-full rounded-lg"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:dO.map((N,k)=>a.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>r(k),className:J("flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-colors",t===k?"bg-primary text-primary-foreground":"bg-secondary/50 text-muted-foreground hover:bg-secondary"),children:[a.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-white/20 text-xs",children:k+1}),N.title]}),k<dO.length-1&&a.jsx(jr,{className:"h-4 w-4 shrink-0 text-muted-foreground"})]},N.id))}),t===0&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ee,{children:[a.jsx(ne,{className:"text-lg",children:"Step 1: Push endpoint"}),a.jsx(he,{children:"Enter the URL where Gmail Pub/Sub will send push notifications. Create a webhook first and use its URL, or your own HTTPS endpoint."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:g(y),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"gmail-name",children:"Configuration name"}),a.jsx(ge,{id:"gmail-name",placeholder:"e.g. default",...m("name"),className:p.name?"border-destructive":""}),p.name&&a.jsx("p",{className:"text-xs text-destructive",children:p.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"push_endpoint",children:"Push endpoint URL"}),a.jsx(ge,{id:"push_endpoint",type:"url",placeholder:"https://your-gateway/api/webhooks/gmail-pubsub",...m("push_endpoint"),className:p.push_endpoint?"border-destructive":""}),p.push_endpoint&&a.jsx("p",{className:"text-xs text-destructive",children:p.push_endpoint.message})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{type:"submit",disabled:u.isPending||d.isPending,children:u.isPending||d.isPending?"Saving":n?"Update & continue":a.jsxs(a.Fragment,{children:["Save & continue",a.jsx(jr,{className:"ml-1 h-4 w-4"})]})}),n&&a.jsx(P,{type:"button",variant:"outline",onClick:S,children:"Cancel"})]})]})})]}),t===1&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ee,{children:[a.jsx(ne,{className:"text-lg",children:"Step 2: Configure (optional)"}),a.jsx(he,{children:"In Google Cloud Console, create a Pub/Sub topic and subscription, and set the push endpoint to the URL you saved. Messages will be routed to your chat when configured."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(P,{onClick:()=>r(2),children:["Continue to test",a.jsx(jr,{className:"ml-1 h-4 w-4"})]}),a.jsxs(P,{variant:"outline",onClick:()=>r(0),children:[a.jsx(Lv,{className:"mr-1 h-4 w-4"}),"Back"]})]})})]}),t===2&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ee,{children:[a.jsx(ne,{className:"text-lg",children:"Step 3: Test"}),a.jsx(he,{children:"Send a test message to your push endpoint to verify the integration."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex gap-2",children:a.jsxs(P,{onClick:S,variant:"outline",children:[a.jsx(Lv,{className:"mr-1 h-4 w-4"}),"Add another"]})})})]}),l.length>0&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(wc,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub configurations"]}),a.jsx(he,{children:"Manage push handler endpoints and test delivery."})]}),a.jsx(Z,{children:a.jsx("ul",{className:"space-y-3",children:l.map(N=>{const k=N.configuration_details;return a.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-secondary/30",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.name}),a.jsx("p",{className:"truncate font-mono text-xs text-muted-foreground",children:(k==null?void 0:k.push_endpoint)??"No endpoint"}),a.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:[N.is_active&&a.jsxs("span",{className:"inline-flex items-center gap-1 text-success",children:[a.jsx(uf,{className:"h-3 w-3"}),"Active"]}),N.last_tested_at&&a.jsxs("span",{children:["Tested ",vr(new Date(N.last_tested_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>w(N),disabled:h.isPending&&i===N.id,className:"transition-transform hover:scale-[1.02]",children:h.isPending&&i===N.id?a.jsx("span",{className:"animate-pulse",children:"Testing"}):a.jsxs(a.Fragment,{children:[a.jsx(Ds,{className:"mr-1 h-4 w-4"}),"Test"]})}),a.jsxs(Us,{children:[a.jsx(qs,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(Na,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(gs,{align:"end",children:[a.jsx(Mt,{onClick:()=>_(N),children:"Edit"}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>j(N.id),children:[a.jsx(rn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})]},N.id)})})})]}),l.length===0&&t!==0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No Gmail Pub/Sub configurations yet. Complete Step 1 to add one."})]})}function joe(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[s,i]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null),[h,m]=v.useState(!1),[g,p]=v.useState(null),[x,b]=v.useState(null),{data:y=[],isLoading:w}=Xie(),{data:_=[],isLoading:j}=toe(null),S=Jie(),N=Zie(),k=eoe(),C=roe(),O=noe(),L=soe(),E=async A=>{await S.mutateAsync({...A,rate_limit:A.rate_limit??null}),t(!1)},F=A=>{f(A),u(!0)},$=A=>{N.mutate(A,{onSuccess:()=>{u(!1),f(null)}})},K=A=>{b(A.id),k.mutate(A.id,{onSettled:()=>b(null)})},T=A=>{p(A),m(!0)},V=A=>{L.mutate(A,{onSuccess:()=>{m(!1),p(null)}})},R=A=>{navigator.clipboard.writeText(A),l(A),q.success("URL copied"),setTimeout(()=>l(null),2e3)},I=A=>{s?O.mutate({id:s.id,data:{event_trigger:A.event_trigger,language:A.language,script_content:A.script_content,webhook_id:A.webhook_id}},{onSuccess:()=>{i(null),n(!1)}}):C.mutate({event_trigger:A.event_trigger,language:A.language,script_content:A.script_content,webhook_id:A.webhook_id},{onSuccess:()=>n(!1)})},D=A=>{i(A),n(!0)},te=()=>{i(null),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(k5,{}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Webhooks & Hooks"}),a.jsxs(P,{onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}),a.jsxs(Ra,{defaultValue:"endpoints",className:"space-y-4",children:[a.jsxs(Ys,{className:"grid w-full max-w-2xl grid-cols-4",children:[a.jsx(jt,{value:"endpoints",children:"Endpoints"}),a.jsx(jt,{value:"hooks",children:"Hook scripts"}),a.jsx(jt,{value:"transform",children:"Payload transformer"}),a.jsx(jt,{value:"gmail",children:"Gmail Pub/Sub"})]}),a.jsx(_t,{value:"endpoints",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Uv,{className:"h-5 w-5 text-muted-foreground"}),"Webhook endpoints"]}),a.jsx(he,{children:"List (token), create webhook modal. URL, token preview, last received, mapping."})]}),a.jsx(Z,{children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(A=>a.jsx(oe,{className:"h-20 w-full rounded-lg"},A))}):y.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Uv,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No webhooks. Create one to receive inbound events."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}):a.jsx(ht,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-3",children:y.map(A=>a.jsx("div",{className:"flex flex-col gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-card/80",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:A.route_name}),a.jsx("p",{className:"mt-1 truncate font-mono text-xs text-muted-foreground",children:A.url}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"font-mono",children:["Token: ",A.token_preview]}),A.rate_limit!=null&&a.jsxs("span",{children:["Rate limit: ",A.rate_limit,"/min"]}),A.last_received_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(vl,{className:"h-3 w-3"}),"Last received"," ",vr(new Date(A.last_received_at),{addSuffix:!0})]})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:A.mapping_template&&a.jsx(ze,{variant:"secondary",children:"Mapping"})})]}),a.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>K(A),disabled:k.isPending&&x===A.id,className:"transition-transform hover:scale-[1.02]","aria-label":"Test webhook",children:k.isPending&&x===A.id?a.jsx("span",{className:"animate-pulse",children:"Testing"}):"Test"}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>R(A.url),"aria-label":"Copy URL",children:o===A.url?a.jsx(uf,{className:"h-4 w-4 text-success"}):a.jsx(qI,{className:"h-4 w-4"})}),a.jsxs(Us,{children:[a.jsx(qs,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(Na,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsx(gs,{align:"end",children:a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>F(A),children:[a.jsx(rn,{className:"mr-2 h-4 w-4"}),"Remove"]})})]})]})]})},A.id))})})})]})}),a.jsx(_t,{value:"hooks",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(DE,{className:"h-5 w-5 text-muted-foreground"}),"Hook scripts editor"]}),a.jsx(he,{children:"Sandbox environment for lifecycle hooks (restricted JS/Python). Event triggers: /new, /reset, start, end."})]}),a.jsxs(Z,{children:[a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsxs(P,{onClick:te,children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add hook script"]})}),j?a.jsx("div",{className:"space-y-3",children:[1,2].map(A=>a.jsx(oe,{className:"h-16 w-full rounded-lg"},A))}):_.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(DE,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No hook scripts. Add one for lifecycle events (/new, /reset, start, end)."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:te,children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add hook script"]})]}):a.jsx(ht,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"space-y-2",children:_.map(A=>{var re;return a.jsxs("div",{className:J("flex items-center justify-between gap-2 rounded-lg border border-border p-3 transition-colors hover:bg-card/80"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:A.event_trigger}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[A.language,A.webhook_id?`  Webhook: ${((re=y.find(ye=>ye.id===A.webhook_id))==null?void 0:re.route_name)??A.webhook_id}`:"  Global"]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(P,{variant:"ghost",size:"sm",onClick:()=>D(A),children:"Edit"}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>T(A),"aria-label":"Remove script",children:a.jsx(rn,{className:"h-4 w-4"})})]})]},A.id)})})})]})]})}),a.jsx(_t,{value:"transform",className:"space-y-4",children:a.jsx(voe,{webhooks:y,isLoadingWebhooks:w})}),a.jsx(_t,{value:"gmail",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(wc,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub guided setup"]}),a.jsx(he,{children:"Guided flow for Gmail Pub/Sub integration. Connect your Gmail account and configure webhook delivery."})]}),a.jsx(Z,{children:a.jsx(woe,{})})]})})]}),a.jsx(hoe,{open:e,onOpenChange:t,onSubmit:E,isSubmitting:S.isPending}),a.jsx(goe,{open:r,onOpenChange:A=>{n(A),A||i(null)},onSubmit:I,isSubmitting:C.isPending||O.isPending,script:s,webhooks:y}),a.jsx(yoe,{webhook:d,open:c,onOpenChange:u,onConfirm:$,isDeleting:N.isPending}),a.jsx(xoe,{script:g,open:h,onOpenChange:m,onConfirm:V,isDeleting:L.isPending})]})}var _oe=Array.isArray,ts=_oe,Soe=typeof Bp=="object"&&Bp&&Bp.Object===Object&&Bp,E5=Soe,Noe=E5,koe=typeof self=="object"&&self&&self.Object===Object&&self,Coe=Noe||koe||Function("return this")(),fi=Coe,Eoe=fi,Poe=Eoe.Symbol,Op=Poe,fO=Op,P5=Object.prototype,Ooe=P5.hasOwnProperty,Aoe=P5.toString,Jf=fO?fO.toStringTag:void 0;function Toe(e){var t=Ooe.call(e,Jf),r=e[Jf];try{e[Jf]=void 0;var n=!0}catch{}var s=Aoe.call(e);return n&&(t?e[Jf]=r:delete e[Jf]),s}var Roe=Toe,Moe=Object.prototype,$oe=Moe.toString;function Ioe(e){return $oe.call(e)}var Doe=Ioe,hO=Op,Loe=Roe,Foe=Doe,Uoe="[object Null]",qoe="[object Undefined]",mO=hO?hO.toStringTag:void 0;function Boe(e){return e==null?e===void 0?qoe:Uoe:mO&&mO in Object(e)?Loe(e):Foe(e)}var lo=Boe;function zoe(e){return e!=null&&typeof e=="object"}var co=zoe,Woe=lo,Voe=co,Koe="[object Symbol]";function Hoe(e){return typeof e=="symbol"||Voe(e)&&Woe(e)==Koe}var bf=Hoe,Goe=ts,Yoe=bf,Qoe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xoe=/^\w*$/;function Joe(e,t){if(Goe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Yoe(e)?!0:Xoe.test(e)||!Qoe.test(e)||t!=null&&e in Object(t)}var vk=Joe;function Zoe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wl=Zoe;const wf=zt(wl);var ele=lo,tle=wl,rle="[object AsyncFunction]",nle="[object Function]",sle="[object GeneratorFunction]",ale="[object Proxy]";function ile(e){if(!tle(e))return!1;var t=ele(e);return t==nle||t==sle||t==rle||t==ale}var yk=ile;const ut=zt(yk);var ole=fi,lle=ole["__core-js_shared__"],cle=lle,u0=cle,pO=function(){var e=/[^.]+$/.exec(u0&&u0.keys&&u0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ule(e){return!!pO&&pO in e}var dle=ule,fle=Function.prototype,hle=fle.toString;function mle(e){if(e!=null){try{return hle.call(e)}catch{}try{return e+""}catch{}}return""}var O5=mle,ple=yk,gle=dle,vle=wl,yle=O5,xle=/[\\^$.*+?()[\]{}|]/g,ble=/^\[object .+?Constructor\]$/,wle=Function.prototype,jle=Object.prototype,_le=wle.toString,Sle=jle.hasOwnProperty,Nle=RegExp("^"+_le.call(Sle).replace(xle,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kle(e){if(!vle(e)||gle(e))return!1;var t=ple(e)?Nle:ble;return t.test(yle(e))}var Cle=kle;function Ele(e,t){return e==null?void 0:e[t]}var Ple=Ele,Ole=Cle,Ale=Ple;function Tle(e,t){var r=Ale(e,t);return Ole(r)?r:void 0}var Wc=Tle,Rle=Wc,Mle=Rle(Object,"create"),ub=Mle,gO=ub;function $le(){this.__data__=gO?gO(null):{},this.size=0}var Ile=$le;function Dle(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Lle=Dle,Fle=ub,Ule="__lodash_hash_undefined__",qle=Object.prototype,Ble=qle.hasOwnProperty;function zle(e){var t=this.__data__;if(Fle){var r=t[e];return r===Ule?void 0:r}return Ble.call(t,e)?t[e]:void 0}var Wle=zle,Vle=ub,Kle=Object.prototype,Hle=Kle.hasOwnProperty;function Gle(e){var t=this.__data__;return Vle?t[e]!==void 0:Hle.call(t,e)}var Yle=Gle,Qle=ub,Xle="__lodash_hash_undefined__";function Jle(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Qle&&t===void 0?Xle:t,this}var Zle=Jle,ece=Ile,tce=Lle,rce=Wle,nce=Yle,sce=Zle;function jf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jf.prototype.clear=ece;jf.prototype.delete=tce;jf.prototype.get=rce;jf.prototype.has=nce;jf.prototype.set=sce;var ace=jf;function ice(){this.__data__=[],this.size=0}var oce=ice;function lce(e,t){return e===t||e!==e&&t!==t}var xk=lce,cce=xk;function uce(e,t){for(var r=e.length;r--;)if(cce(e[r][0],t))return r;return-1}var db=uce,dce=db,fce=Array.prototype,hce=fce.splice;function mce(e){var t=this.__data__,r=dce(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():hce.call(t,r,1),--this.size,!0}var pce=mce,gce=db;function vce(e){var t=this.__data__,r=gce(t,e);return r<0?void 0:t[r][1]}var yce=vce,xce=db;function bce(e){return xce(this.__data__,e)>-1}var wce=bce,jce=db;function _ce(e,t){var r=this.__data__,n=jce(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Sce=_ce,Nce=oce,kce=pce,Cce=yce,Ece=wce,Pce=Sce;function _f(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_f.prototype.clear=Nce;_f.prototype.delete=kce;_f.prototype.get=Cce;_f.prototype.has=Ece;_f.prototype.set=Pce;var fb=_f,Oce=Wc,Ace=fi,Tce=Oce(Ace,"Map"),bk=Tce,vO=ace,Rce=fb,Mce=bk;function $ce(){this.size=0,this.__data__={hash:new vO,map:new(Mce||Rce),string:new vO}}var Ice=$ce;function Dce(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Lce=Dce,Fce=Lce;function Uce(e,t){var r=e.__data__;return Fce(t)?r[typeof t=="string"?"string":"hash"]:r.map}var hb=Uce,qce=hb;function Bce(e){var t=qce(this,e).delete(e);return this.size-=t?1:0,t}var zce=Bce,Wce=hb;function Vce(e){return Wce(this,e).get(e)}var Kce=Vce,Hce=hb;function Gce(e){return Hce(this,e).has(e)}var Yce=Gce,Qce=hb;function Xce(e,t){var r=Qce(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Jce=Xce,Zce=Ice,eue=zce,tue=Kce,rue=Yce,nue=Jce;function Sf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sf.prototype.clear=Zce;Sf.prototype.delete=eue;Sf.prototype.get=tue;Sf.prototype.has=rue;Sf.prototype.set=nue;var wk=Sf,A5=wk,sue="Expected a function";function jk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(sue);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(jk.Cache||A5),r}jk.Cache=A5;var T5=jk;const aue=zt(T5);var iue=T5,oue=500;function lue(e){var t=iue(e,function(n){return r.size===oue&&r.clear(),n}),r=t.cache;return t}var cue=lue,uue=cue,due=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fue=/\\(\\)?/g,hue=uue(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(due,function(r,n,s,i){t.push(s?i.replace(fue,"$1"):n||r)}),t}),mue=hue;function pue(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var _k=pue,yO=Op,gue=_k,vue=ts,yue=bf,xO=yO?yO.prototype:void 0,bO=xO?xO.toString:void 0;function R5(e){if(typeof e=="string")return e;if(vue(e))return gue(e,R5)+"";if(yue(e))return bO?bO.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var xue=R5,bue=xue;function wue(e){return e==null?"":bue(e)}var M5=wue,jue=ts,_ue=vk,Sue=mue,Nue=M5;function kue(e,t){return jue(e)?e:_ue(e,t)?[e]:Sue(Nue(e))}var $5=kue,Cue=bf;function Eue(e){if(typeof e=="string"||Cue(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var mb=Eue,Pue=$5,Oue=mb;function Aue(e,t){t=Pue(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Oue(t[r++])];return r&&r==n?e:void 0}var Sk=Aue,Tue=Sk;function Rue(e,t,r){var n=e==null?void 0:Tue(e,t);return n===void 0?r:n}var I5=Rue;const Bs=zt(I5);function Mue(e){return e==null}var $ue=Mue;const xt=zt($ue);var Iue=lo,Due=ts,Lue=co,Fue="[object String]";function Uue(e){return typeof e=="string"||!Due(e)&&Lue(e)&&Iue(e)==Fue}var que=Uue;const Tc=zt(que);var D5={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nk=Symbol.for("react.element"),kk=Symbol.for("react.portal"),pb=Symbol.for("react.fragment"),gb=Symbol.for("react.strict_mode"),vb=Symbol.for("react.profiler"),yb=Symbol.for("react.provider"),xb=Symbol.for("react.context"),Bue=Symbol.for("react.server_context"),bb=Symbol.for("react.forward_ref"),wb=Symbol.for("react.suspense"),jb=Symbol.for("react.suspense_list"),_b=Symbol.for("react.memo"),Sb=Symbol.for("react.lazy"),zue=Symbol.for("react.offscreen"),L5;L5=Symbol.for("react.module.reference");function Qs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Nk:switch(e=e.type,e){case pb:case vb:case gb:case wb:case jb:return e;default:switch(e=e&&e.$$typeof,e){case Bue:case xb:case bb:case Sb:case _b:case yb:return e;default:return t}}case kk:return t}}}Ft.ContextConsumer=xb;Ft.ContextProvider=yb;Ft.Element=Nk;Ft.ForwardRef=bb;Ft.Fragment=pb;Ft.Lazy=Sb;Ft.Memo=_b;Ft.Portal=kk;Ft.Profiler=vb;Ft.StrictMode=gb;Ft.Suspense=wb;Ft.SuspenseList=jb;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(e){return Qs(e)===xb};Ft.isContextProvider=function(e){return Qs(e)===yb};Ft.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nk};Ft.isForwardRef=function(e){return Qs(e)===bb};Ft.isFragment=function(e){return Qs(e)===pb};Ft.isLazy=function(e){return Qs(e)===Sb};Ft.isMemo=function(e){return Qs(e)===_b};Ft.isPortal=function(e){return Qs(e)===kk};Ft.isProfiler=function(e){return Qs(e)===vb};Ft.isStrictMode=function(e){return Qs(e)===gb};Ft.isSuspense=function(e){return Qs(e)===wb};Ft.isSuspenseList=function(e){return Qs(e)===jb};Ft.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pb||e===vb||e===gb||e===wb||e===jb||e===zue||typeof e=="object"&&e!==null&&(e.$$typeof===Sb||e.$$typeof===_b||e.$$typeof===yb||e.$$typeof===xb||e.$$typeof===bb||e.$$typeof===L5||e.getModuleId!==void 0)};Ft.typeOf=Qs;D5.exports=Ft;var Wue=D5.exports,Vue=lo,Kue=co,Hue="[object Number]";function Gue(e){return typeof e=="number"||Kue(e)&&Vue(e)==Hue}var F5=Gue;const Yue=zt(F5);var Que=F5;function Xue(e){return Que(e)&&e!=+e}var Jue=Xue;const Nf=zt(Jue);var ba=function(t){return t===0?0:t>0?1:-1},Gl=function(t){return Tc(t)&&t.indexOf("%")===t.length-1},_e=function(t){return Yue(t)&&!Nf(t)},Zue=function(t){return xt(t)},Gr=function(t){return _e(t)||Tc(t)},ede=0,Ap=function(t){var r=++ede;return"".concat(t||"").concat(r)},Rc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&!Tc(t))return n;var i;if(Gl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Nf(i)&&(i=n),s&&i>r&&(i=r),i},Mo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},tde=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Ts=function(t,r){return _e(t)&&_e(r)?function(n){return t+n*(r-t)}:function(){return r}};function ly(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Bs(n,t))===r})}var rde=function(t,r){return _e(t)&&_e(r)?t-r:Tc(t)&&Tc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Gu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function q_(e){"@babel/helpers - typeof";return q_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q_(e)}var nde=["viewBox","children"],sde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wO=["points","pathLength"],d0={svg:nde,polygon:wO,polyline:wO},Ck=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cy=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!wf(n))return null;var s={};return Object.keys(n).forEach(function(i){Ck.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},ade=function(t,r,n){return function(s){return t(r,n,s),null}},uy=function(t,r,n){if(!wf(t)||q_(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];Ck.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=ade(o,r,n))}),s},ide=["children"],ode=["children"];function jO(e,t){if(e==null)return{};var r=lde(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B_(e){"@babel/helpers - typeof";return B_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B_(e)}var _O={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Di=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},SO=null,f0=null,Ek=function e(t){if(t===SO&&Array.isArray(f0))return f0;var r=[];return v.Children.forEach(t,function(n){xt(n)||(Wue.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),f0=r,SO=t,r};function Ca(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Di(s)}):n=[Di(t)],Ek(e).forEach(function(s){var i=Bs(s,"type.displayName")||Bs(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function os(e,t){var r=Ca(e,t);return r&&r[0]}var NO=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!_e(n)||n<=0||!_e(s)||s<=0)},cde=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ude=function(t){return t&&t.type&&Tc(t.type)&&cde.indexOf(t.type)>=0},dde=function(t){return t&&B_(t)==="object"&&"clipDot"in t},fde=function(t,r,n,s){var i,o=(i=d0==null?void 0:d0[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ut(t)&&(s&&o.includes(r)||sde.includes(r))||n&&Ck.includes(r)},pt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!wf(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;fde((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},z_=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return kO(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!kO(i,o))return!1}return!0},kO=function(t,r){if(xt(t)&&xt(r))return!0;if(!xt(t)&&!xt(r)){var n=t.props||{},s=n.children,i=jO(n,ide),o=r.props||{},l=o.children,c=jO(o,ode);return s&&l?Gu(i,c)&&z_(s,l):!s&&!l?Gu(i,c):!1}return!1},CO=function(t,r){var n=[],s={};return Ek(t).forEach(function(i,o){if(ude(i))n.push(i);else if(i){var l=Di(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},hde=function(t){var r=t&&t.type;return r&&_O[r]?_O[r]:null},mde=function(t,r){return Ek(r).indexOf(t)},pde=["children","width","height","viewBox","className","style","title","desc"];function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W_.apply(this,arguments)}function gde(e,t){if(e==null)return{};var r=vde(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function V_(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=gde(e,pde),d=s||{width:r,height:n,x:0,y:0},f=St("recharts-surface",i);return M.createElement("svg",W_({},pt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,l),M.createElement("desc",null,c),t)}var yde=["children","className"];function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K_.apply(this,arguments)}function xde(e,t){if(e==null)return{};var r=bde(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hr=M.forwardRef(function(e,t){var r=e.children,n=e.className,s=xde(e,yde),i=St("recharts-layer",n);return M.createElement("g",K_({className:i},pt(s,!0),{ref:t}),r)}),Li=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function wde(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var jde=wde,_de=jde;function Sde(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:_de(e,t,r)}var Nde=Sde,kde="\\ud800-\\udfff",Cde="\\u0300-\\u036f",Ede="\\ufe20-\\ufe2f",Pde="\\u20d0-\\u20ff",Ode=Cde+Ede+Pde,Ade="\\ufe0e\\ufe0f",Tde="\\u200d",Rde=RegExp("["+Tde+kde+Ode+Ade+"]");function Mde(e){return Rde.test(e)}var U5=Mde;function $de(e){return e.split("")}var Ide=$de,q5="\\ud800-\\udfff",Dde="\\u0300-\\u036f",Lde="\\ufe20-\\ufe2f",Fde="\\u20d0-\\u20ff",Ude=Dde+Lde+Fde,qde="\\ufe0e\\ufe0f",Bde="["+q5+"]",H_="["+Ude+"]",G_="\\ud83c[\\udffb-\\udfff]",zde="(?:"+H_+"|"+G_+")",B5="[^"+q5+"]",z5="(?:\\ud83c[\\udde6-\\uddff]){2}",W5="[\\ud800-\\udbff][\\udc00-\\udfff]",Wde="\\u200d",V5=zde+"?",K5="["+qde+"]?",Vde="(?:"+Wde+"(?:"+[B5,z5,W5].join("|")+")"+K5+V5+")*",Kde=K5+V5+Vde,Hde="(?:"+[B5+H_+"?",H_,z5,W5,Bde].join("|")+")",Gde=RegExp(G_+"(?="+G_+")|"+Hde+Kde,"g");function Yde(e){return e.match(Gde)||[]}var Qde=Yde,Xde=Ide,Jde=U5,Zde=Qde;function efe(e){return Jde(e)?Zde(e):Xde(e)}var tfe=efe,rfe=Nde,nfe=U5,sfe=tfe,afe=M5;function ife(e){return function(t){t=afe(t);var r=nfe(t)?sfe(t):void 0,n=r?r[0]:t.charAt(0),s=r?rfe(r,1).join(""):t.slice(1);return n[e]()+s}}var ofe=ife,lfe=ofe,cfe=lfe("toUpperCase"),ufe=cfe;const Nb=zt(ufe);function Yt(e){return function(){return e}}const H5=Math.cos,dy=Math.sin,$a=Math.sqrt,fy=Math.PI,kb=2*fy,Y_=Math.PI,Q_=2*Y_,$l=1e-6,dfe=Q_-$l;function G5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ffe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return G5;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class hfe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?G5:ffe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>$l)if(!(Math.abs(f*c-u*d)>$l)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=s-l,p=c*c+u*u,x=m*m+g*g,b=Math.sqrt(p),y=Math.sqrt(h),w=i*Math.tan((Y_-Math.acos((p+h-x)/(2*b*y)))/2),_=w/y,j=w/b;Math.abs(_-1)>$l&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>$l||Math.abs(this._y1-d)>$l)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Q_+Q_),h>dfe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>$l&&this._append`A${n},${n},0,${+(h>=Y_)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Pk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new hfe(t)}function Ok(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Y5(e){this._context=e}Y5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Cb(e){return new Y5(e)}function Q5(e){return e[0]}function X5(e){return e[1]}function J5(e,t){var r=Yt(!0),n=null,s=Cb,i=null,o=Pk(l);e=typeof e=="function"?e:e===void 0?Q5:Yt(e),t=typeof t=="function"?t:t===void 0?X5:Yt(t);function l(c){var u,d=(c=Ok(c)).length,f,h=!1,m;for(n==null&&(i=s(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Yt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Yt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Yt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function kg(e,t,r){var n=null,s=Yt(!0),i=null,o=Cb,l=null,c=Pk(u);e=typeof e=="function"?e:e===void 0?Q5:Yt(+e),t=typeof t=="function"?t:Yt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?X5:Yt(+r);function u(f){var h,m,g,p=(f=Ok(f)).length,x,b=!1,y,w=new Array(p),_=new Array(p);for(i==null&&(l=o(y=c())),h=0;h<=p;++h){if(!(h<p&&s(x=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(x,h,f),_[h]=+t(x,h,f),l.point(n?+n(x,h,f):w[h],r?+r(x,h,f):_[h]))}if(y)return l=null,y+""||null}function d(){return J5().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Yt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Yt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class Z5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function mfe(e){return new Z5(e,!0)}function pfe(e){return new Z5(e,!1)}const Ak={draw(e,t){const r=$a(t/fy);e.moveTo(r,0),e.arc(0,0,r,0,kb)}},gfe={draw(e,t){const r=$a(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},eU=$a(1/3),vfe=eU*2,yfe={draw(e,t){const r=$a(t/vfe),n=r*eU;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},xfe={draw(e,t){const r=$a(t),n=-r/2;e.rect(n,n,r,r)}},bfe=.8908130915292852,tU=dy(fy/10)/dy(7*fy/10),wfe=dy(kb/10)*tU,jfe=-H5(kb/10)*tU,_fe={draw(e,t){const r=$a(t*bfe),n=wfe*r,s=jfe*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=kb*i/5,l=H5(o),c=dy(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},h0=$a(3),Sfe={draw(e,t){const r=-$a(t/(h0*3));e.moveTo(0,r*2),e.lineTo(-h0*r,-r),e.lineTo(h0*r,-r),e.closePath()}},Ss=-.5,Ns=$a(3)/2,X_=1/$a(12),Nfe=(X_/2+1)*3,kfe={draw(e,t){const r=$a(t/Nfe),n=r/2,s=r*X_,i=n,o=r*X_+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ss*n-Ns*s,Ns*n+Ss*s),e.lineTo(Ss*i-Ns*o,Ns*i+Ss*o),e.lineTo(Ss*l-Ns*c,Ns*l+Ss*c),e.lineTo(Ss*n+Ns*s,Ss*s-Ns*n),e.lineTo(Ss*i+Ns*o,Ss*o-Ns*i),e.lineTo(Ss*l+Ns*c,Ss*c-Ns*l),e.closePath()}};function Cfe(e,t){let r=null,n=Pk(s);e=typeof e=="function"?e:Yt(e||Ak),t=typeof t=="function"?t:Yt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Yt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function hy(){}function my(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function rU(e){this._context=e}rU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:my(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:my(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Efe(e){return new rU(e)}function nU(e){this._context=e}nU.prototype={areaStart:hy,areaEnd:hy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:my(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pfe(e){return new nU(e)}function sU(e){this._context=e}sU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:my(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ofe(e){return new sU(e)}function aU(e){this._context=e}aU.prototype={areaStart:hy,areaEnd:hy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Afe(e){return new aU(e)}function EO(e){return e<0?-1:1}function PO(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(EO(i)+EO(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function OO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function m0(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function py(e){this._context=e}py.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m0(this,this._t0,OO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,m0(this,OO(this,r=PO(this,e,t)),r);break;default:m0(this,this._t0,r=PO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function iU(e){this._context=new oU(e)}(iU.prototype=Object.create(py.prototype)).point=function(e,t){py.prototype.point.call(this,t,e)};function oU(e){this._context=e}oU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function Tfe(e){return new py(e)}function Rfe(e){return new iU(e)}function lU(e){this._context=e}lU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=AO(e),s=AO(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function AO(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function Mfe(e){return new lU(e)}function Eb(e,t){this._context=e,this._t=t}Eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function $fe(e){return new Eb(e,.5)}function Ife(e){return new Eb(e,0)}function Dfe(e){return new Eb(e,1)}function Ad(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function J_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Lfe(e,t){return e[t]}function Ffe(e){const t=[];return t.key=e,t}function Ufe(){var e=Yt([]),t=J_,r=Ad,n=Lfe;function s(i){var o=Array.from(e.apply(this,arguments),Ffe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Ok(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Yt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?J_:typeof i=="function"?i:Yt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Ad,s):r},s}function qfe(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Ad(e,t)}}function Bfe(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ad(e,t)}}function zfe(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],x=p[n][1]||0,b=p[n-1][1]||0;m+=x-b}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Ad(e,t)}}function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}var Wfe=["type","size","sizeType"];function Z_(){return Z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z_.apply(this,arguments)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){Vfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vfe(e,t,r){return t=Kfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kfe(e){var t=Hfe(e,"string");return wm(t)=="symbol"?t:t+""}function Hfe(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gfe(e,t){if(e==null)return{};var r=Yfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cU={symbolCircle:Ak,symbolCross:gfe,symbolDiamond:yfe,symbolSquare:xfe,symbolStar:_fe,symbolTriangle:Sfe,symbolWye:kfe},Qfe=Math.PI/180,Xfe=function(t){var r="symbol".concat(Nb(t));return cU[r]||Ak},Jfe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Qfe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Zfe=function(t,r){cU["symbol".concat(Nb(t))]=r},Tk=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=Gfe(t,Wfe),u=RO(RO({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=Xfe(n),b=Cfe().type(x).size(Jfe(i,l,n));return b()},f=u.className,h=u.cx,m=u.cy,g=pt(u,!0);return h===+h&&m===+m&&i===+i?M.createElement("path",Z_({},g,{className:St("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Tk.registerSymbol=Zfe;function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(this,arguments)}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ehe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){jm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function the(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dU(n.key),n)}}function nhe(e,t,r){return t&&rhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function she(e,t,r){return t=gy(t),ahe(e,uU()?Reflect.construct(t,r||[],gy(e).constructor):t.apply(e,r))}function ahe(e,t){if(t&&(Td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ihe(e)}function ihe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uU=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(e)}function ohe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t1(e,t)}function t1(e,t){return t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},t1(e,t)}function jm(e,t,r){return t=dU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dU(e){var t=lhe(e,"string");return Td(t)=="symbol"?t:t+""}function lhe(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ks=32,Rk=function(e){function t(){return the(this,t),she(this,t,arguments)}return ohe(t,e),nhe(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=ks/2,o=ks/6,l=ks/3,c=n.inactive?s:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ks,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ks,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ks/8,"h").concat(ks,"v").concat(ks*3/4,"h").concat(-ks,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=ehe({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(Tk,{fill:c,cx:i,cy:i,size:ks,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:ks,height:ks},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,x=St(jm(jm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=ut(m.value)?null:m.value;Li(!ut(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return M.createElement("li",e1({className:x,style:f,key:"legend-item-".concat(g)},uy(n.props,m,g)),M.createElement(V_,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);jm(Rk,"displayName","Legend");jm(Rk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var che=fb;function uhe(){this.__data__=new che,this.size=0}var dhe=uhe;function fhe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var hhe=fhe;function mhe(e){return this.__data__.get(e)}var phe=mhe;function ghe(e){return this.__data__.has(e)}var vhe=ghe,yhe=fb,xhe=bk,bhe=wk,whe=200;function jhe(e,t){var r=this.__data__;if(r instanceof yhe){var n=r.__data__;if(!xhe||n.length<whe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new bhe(n)}return r.set(e,t),this.size=r.size,this}var _he=jhe,She=fb,Nhe=dhe,khe=hhe,Che=phe,Ehe=vhe,Phe=_he;function kf(e){var t=this.__data__=new She(e);this.size=t.size}kf.prototype.clear=Nhe;kf.prototype.delete=khe;kf.prototype.get=Che;kf.prototype.has=Ehe;kf.prototype.set=Phe;var fU=kf,Ohe="__lodash_hash_undefined__";function Ahe(e){return this.__data__.set(e,Ohe),this}var The=Ahe;function Rhe(e){return this.__data__.has(e)}var Mhe=Rhe,$he=wk,Ihe=The,Dhe=Mhe;function vy(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new $he;++t<r;)this.add(e[t])}vy.prototype.add=vy.prototype.push=Ihe;vy.prototype.has=Dhe;var hU=vy;function Lhe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var mU=Lhe;function Fhe(e,t){return e.has(t)}var pU=Fhe,Uhe=hU,qhe=mU,Bhe=pU,zhe=1,Whe=2;function Vhe(e,t,r,n,s,i){var o=r&zhe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&Whe?new Uhe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var x=o?n(p,g,f,t,e,i):n(g,p,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!qhe(t,function(b,y){if(!Bhe(m,y)&&(g===b||s(g,b,r,n,i)))return m.push(y)})){h=!1;break}}else if(!(g===p||s(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var gU=Vhe,Khe=fi,Hhe=Khe.Uint8Array,Ghe=Hhe;function Yhe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var Qhe=Yhe;function Xhe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Mk=Xhe,$O=Op,IO=Ghe,Jhe=xk,Zhe=gU,eme=Qhe,tme=Mk,rme=1,nme=2,sme="[object Boolean]",ame="[object Date]",ime="[object Error]",ome="[object Map]",lme="[object Number]",cme="[object RegExp]",ume="[object Set]",dme="[object String]",fme="[object Symbol]",hme="[object ArrayBuffer]",mme="[object DataView]",DO=$O?$O.prototype:void 0,p0=DO?DO.valueOf:void 0;function pme(e,t,r,n,s,i,o){switch(r){case mme:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case hme:return!(e.byteLength!=t.byteLength||!i(new IO(e),new IO(t)));case sme:case ame:case lme:return Jhe(+e,+t);case ime:return e.name==t.name&&e.message==t.message;case cme:case dme:return e==t+"";case ome:var l=eme;case ume:var c=n&rme;if(l||(l=tme),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=nme,o.set(e,t);var d=Zhe(l(e),l(t),n,s,i,o);return o.delete(e),d;case fme:if(p0)return p0.call(e)==p0.call(t)}return!1}var gme=pme;function vme(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var vU=vme,yme=vU,xme=ts;function bme(e,t,r){var n=t(e);return xme(e)?n:yme(n,r(e))}var wme=bme;function jme(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var _me=jme;function Sme(){return[]}var Nme=Sme,kme=_me,Cme=Nme,Eme=Object.prototype,Pme=Eme.propertyIsEnumerable,LO=Object.getOwnPropertySymbols,Ome=LO?function(e){return e==null?[]:(e=Object(e),kme(LO(e),function(t){return Pme.call(e,t)}))}:Cme,Ame=Ome;function Tme(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Rme=Tme,Mme=lo,$me=co,Ime="[object Arguments]";function Dme(e){return $me(e)&&Mme(e)==Ime}var Lme=Dme,FO=Lme,Fme=co,yU=Object.prototype,Ume=yU.hasOwnProperty,qme=yU.propertyIsEnumerable,Bme=FO(function(){return arguments}())?FO:function(e){return Fme(e)&&Ume.call(e,"callee")&&!qme.call(e,"callee")},$k=Bme,yy={exports:{}};function zme(){return!1}var Wme=zme;yy.exports;(function(e,t){var r=fi,n=Wme,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(yy,yy.exports);var xU=yy.exports,Vme=9007199254740991,Kme=/^(?:0|[1-9]\d*)$/;function Hme(e,t){var r=typeof e;return t=t??Vme,!!t&&(r=="number"||r!="symbol"&&Kme.test(e))&&e>-1&&e%1==0&&e<t}var Ik=Hme,Gme=9007199254740991;function Yme(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Gme}var Dk=Yme,Qme=lo,Xme=Dk,Jme=co,Zme="[object Arguments]",epe="[object Array]",tpe="[object Boolean]",rpe="[object Date]",npe="[object Error]",spe="[object Function]",ape="[object Map]",ipe="[object Number]",ope="[object Object]",lpe="[object RegExp]",cpe="[object Set]",upe="[object String]",dpe="[object WeakMap]",fpe="[object ArrayBuffer]",hpe="[object DataView]",mpe="[object Float32Array]",ppe="[object Float64Array]",gpe="[object Int8Array]",vpe="[object Int16Array]",ype="[object Int32Array]",xpe="[object Uint8Array]",bpe="[object Uint8ClampedArray]",wpe="[object Uint16Array]",jpe="[object Uint32Array]",tr={};tr[mpe]=tr[ppe]=tr[gpe]=tr[vpe]=tr[ype]=tr[xpe]=tr[bpe]=tr[wpe]=tr[jpe]=!0;tr[Zme]=tr[epe]=tr[fpe]=tr[tpe]=tr[hpe]=tr[rpe]=tr[npe]=tr[spe]=tr[ape]=tr[ipe]=tr[ope]=tr[lpe]=tr[cpe]=tr[upe]=tr[dpe]=!1;function _pe(e){return Jme(e)&&Xme(e.length)&&!!tr[Qme(e)]}var Spe=_pe;function Npe(e){return function(t){return e(t)}}var bU=Npe,xy={exports:{}};xy.exports;(function(e,t){var r=E5,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(xy,xy.exports);var kpe=xy.exports,Cpe=Spe,Epe=bU,UO=kpe,qO=UO&&UO.isTypedArray,Ppe=qO?Epe(qO):Cpe,wU=Ppe,Ope=Rme,Ape=$k,Tpe=ts,Rpe=xU,Mpe=Ik,$pe=wU,Ipe=Object.prototype,Dpe=Ipe.hasOwnProperty;function Lpe(e,t){var r=Tpe(e),n=!r&&Ape(e),s=!r&&!n&&Rpe(e),i=!r&&!n&&!s&&$pe(e),o=r||n||s||i,l=o?Ope(e.length,String):[],c=l.length;for(var u in e)(t||Dpe.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Mpe(u,c)))&&l.push(u);return l}var Fpe=Lpe,Upe=Object.prototype;function qpe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Upe;return e===r}var Bpe=qpe;function zpe(e,t){return function(r){return e(t(r))}}var jU=zpe,Wpe=jU,Vpe=Wpe(Object.keys,Object),Kpe=Vpe,Hpe=Bpe,Gpe=Kpe,Ype=Object.prototype,Qpe=Ype.hasOwnProperty;function Xpe(e){if(!Hpe(e))return Gpe(e);var t=[];for(var r in Object(e))Qpe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Jpe=Xpe,Zpe=yk,ege=Dk;function tge(e){return e!=null&&ege(e.length)&&!Zpe(e)}var Tp=tge,rge=Fpe,nge=Jpe,sge=Tp;function age(e){return sge(e)?rge(e):nge(e)}var Pb=age,ige=wme,oge=Ame,lge=Pb;function cge(e){return ige(e,lge,oge)}var uge=cge,BO=uge,dge=1,fge=Object.prototype,hge=fge.hasOwnProperty;function mge(e,t,r,n,s,i){var o=r&dge,l=BO(e),c=l.length,u=BO(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:hge.call(t,h)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){h=l[f];var b=e[h],y=t[h];if(n)var w=o?n(y,b,h,t,e,i):n(b,y,h,e,t,i);if(!(w===void 0?b===y||s(b,y,r,n,i):w)){p=!1;break}x||(x=h=="constructor")}if(p&&!x){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var pge=mge,gge=Wc,vge=fi,yge=gge(vge,"DataView"),xge=yge,bge=Wc,wge=fi,jge=bge(wge,"Promise"),_ge=jge,Sge=Wc,Nge=fi,kge=Sge(Nge,"Set"),_U=kge,Cge=Wc,Ege=fi,Pge=Cge(Ege,"WeakMap"),Oge=Pge,r1=xge,n1=bk,s1=_ge,a1=_U,i1=Oge,SU=lo,Cf=O5,zO="[object Map]",Age="[object Object]",WO="[object Promise]",VO="[object Set]",KO="[object WeakMap]",HO="[object DataView]",Tge=Cf(r1),Rge=Cf(n1),Mge=Cf(s1),$ge=Cf(a1),Ige=Cf(i1),Il=SU;(r1&&Il(new r1(new ArrayBuffer(1)))!=HO||n1&&Il(new n1)!=zO||s1&&Il(s1.resolve())!=WO||a1&&Il(new a1)!=VO||i1&&Il(new i1)!=KO)&&(Il=function(e){var t=SU(e),r=t==Age?e.constructor:void 0,n=r?Cf(r):"";if(n)switch(n){case Tge:return HO;case Rge:return zO;case Mge:return WO;case $ge:return VO;case Ige:return KO}return t});var Dge=Il,g0=fU,Lge=gU,Fge=gme,Uge=pge,GO=Dge,YO=ts,QO=xU,qge=wU,Bge=1,XO="[object Arguments]",JO="[object Array]",Cg="[object Object]",zge=Object.prototype,ZO=zge.hasOwnProperty;function Wge(e,t,r,n,s,i){var o=YO(e),l=YO(t),c=o?JO:GO(e),u=l?JO:GO(t);c=c==XO?Cg:c,u=u==XO?Cg:u;var d=c==Cg,f=u==Cg,h=c==u;if(h&&QO(e)){if(!QO(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new g0),o||qge(e)?Lge(e,t,r,n,s,i):Fge(e,t,c,r,n,s,i);if(!(r&Bge)){var m=d&&ZO.call(e,"__wrapped__"),g=f&&ZO.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,x=g?t.value():t;return i||(i=new g0),s(p,x,r,n,i)}}return h?(i||(i=new g0),Uge(e,t,r,n,s,i)):!1}var Vge=Wge,Kge=Vge,eA=co;function NU(e,t,r,n,s){return e===t?!0:e==null||t==null||!eA(e)&&!eA(t)?e!==e&&t!==t:Kge(e,t,r,n,NU,s)}var Lk=NU,Hge=fU,Gge=Lk,Yge=1,Qge=2;function Xge(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Hge;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Gge(d,u,Yge|Qge,n,f):h))return!1}}return!0}var Jge=Xge,Zge=wl;function eve(e){return e===e&&!Zge(e)}var kU=eve,tve=kU,rve=Pb;function nve(e){for(var t=rve(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,tve(s)]}return t}var sve=nve;function ave(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var CU=ave,ive=Jge,ove=sve,lve=CU;function cve(e){var t=ove(e);return t.length==1&&t[0][2]?lve(t[0][0],t[0][1]):function(r){return r===e||ive(r,e,t)}}var uve=cve;function dve(e,t){return e!=null&&t in Object(e)}var fve=dve,hve=$5,mve=$k,pve=ts,gve=Ik,vve=Dk,yve=mb;function xve(e,t,r){t=hve(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=yve(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&vve(s)&&gve(o,s)&&(pve(e)||mve(e)))}var bve=xve,wve=fve,jve=bve;function _ve(e,t){return e!=null&&jve(e,t,wve)}var Sve=_ve,Nve=Lk,kve=I5,Cve=Sve,Eve=vk,Pve=kU,Ove=CU,Ave=mb,Tve=1,Rve=2;function Mve(e,t){return Eve(e)&&Pve(t)?Ove(Ave(e),t):function(r){var n=kve(r,e);return n===void 0&&n===t?Cve(r,e):Nve(t,n,Tve|Rve)}}var $ve=Mve;function Ive(e){return e}var Ef=Ive;function Dve(e){return function(t){return t==null?void 0:t[e]}}var Lve=Dve,Fve=Sk;function Uve(e){return function(t){return Fve(t,e)}}var qve=Uve,Bve=Lve,zve=qve,Wve=vk,Vve=mb;function Kve(e){return Wve(e)?Bve(Vve(e)):zve(e)}var Hve=Kve,Gve=uve,Yve=$ve,Qve=Ef,Xve=ts,Jve=Hve;function Zve(e){return typeof e=="function"?e:e==null?Qve:typeof e=="object"?Xve(e)?Yve(e[0],e[1]):Gve(e):Jve(e)}var jl=Zve;function eye(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var EU=eye;function tye(e){return e!==e}var rye=tye;function nye(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var sye=nye,aye=EU,iye=rye,oye=sye;function lye(e,t,r){return t===t?oye(e,t,r):aye(e,iye,r)}var cye=lye,uye=cye;function dye(e,t){var r=e==null?0:e.length;return!!r&&uye(e,t,0)>-1}var fye=dye;function hye(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var mye=hye;function pye(){}var gye=pye,v0=_U,vye=gye,yye=Mk,xye=1/0,bye=v0&&1/yye(new v0([,-0]))[1]==xye?function(e){return new v0(e)}:vye,wye=bye,jye=hU,_ye=fye,Sye=mye,Nye=pU,kye=wye,Cye=Mk,Eye=200;function Pye(e,t,r){var n=-1,s=_ye,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=Sye;else if(i>=Eye){var u=t?null:kye(e);if(u)return Cye(u);o=!1,s=Nye,c=new jye}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Oye=Pye,Aye=jl,Tye=Oye;function Rye(e,t){return e&&e.length?Tye(e,Aye(t)):[]}var Mye=Rye;const tA=zt(Mye);function PU(e,t,r){return t===!0?tA(e,r):ut(t)?tA(e,t):e}function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}var $ye=["ref"];function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){Ob(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AU(n.key),n)}}function Dye(e,t,r){return t&&nA(e.prototype,t),r&&nA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lye(e,t,r){return t=by(t),Fye(e,OU()?Reflect.construct(t,r||[],by(e).constructor):t.apply(e,r))}function Fye(e,t){if(t&&(Rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uye(e)}function Uye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OU=function(){return!!e})()}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},by(e)}function qye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o1(e,t)}function o1(e,t){return o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},o1(e,t)}function Ob(e,t,r){return t=AU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(e){var t=Bye(e,"string");return Rd(t)=="symbol"?t:t+""}function Bye(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zye(e,t){if(e==null)return{};var r=Wye(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vye(e){return e.value}function Kye(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=zye(t,$ye);return M.createElement(Rk,r)}var sA=1,Yu=function(e){function t(){var r;Iye(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Lye(this,t,[].concat(s)),Ob(r,"lastBoundingBox",{width:-1,height:-1}),r}return qye(t,e),Dye(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>sA||Math.abs(s.height-this.lastBoundingBox.height)>sA)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return gi(gi({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=gi(gi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Kye(i,gi(gi({},this.props),{},{payload:PU(d,u,Vye)})))}}],[{key:"getWithHeight",value:function(n,s){var i=gi(gi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&_e(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(v.PureComponent);Ob(Yu,"displayName","Legend");Ob(Yu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aA=Op,Hye=$k,Gye=ts,iA=aA?aA.isConcatSpreadable:void 0;function Yye(e){return Gye(e)||Hye(e)||!!(iA&&e&&e[iA])}var Qye=Yye,Xye=vU,Jye=Qye;function TU(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=Jye),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?TU(l,t-1,r,n,s):Xye(s,l):n||(s[s.length]=l)}return s}var RU=TU;function Zye(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var exe=Zye,txe=exe,rxe=txe(),nxe=rxe,sxe=nxe,axe=Pb;function ixe(e,t){return e&&sxe(e,t,axe)}var MU=ixe,oxe=Tp;function lxe(e,t){return function(r,n){if(r==null)return r;if(!oxe(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var cxe=lxe,uxe=MU,dxe=cxe,fxe=dxe(uxe),Fk=fxe,hxe=Fk,mxe=Tp;function pxe(e,t){var r=-1,n=mxe(e)?Array(e.length):[];return hxe(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var $U=pxe;function gxe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var vxe=gxe,oA=bf;function yxe(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=oA(e),o=t!==void 0,l=t===null,c=t===t,u=oA(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var xxe=yxe,bxe=xxe;function wxe(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=bxe(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var jxe=wxe,y0=_k,_xe=Sk,Sxe=jl,Nxe=$U,kxe=vxe,Cxe=bU,Exe=jxe,Pxe=Ef,Oxe=ts;function Axe(e,t,r){t.length?t=y0(t,function(i){return Oxe(i)?function(o){return _xe(o,i.length===1?i[0]:i)}:i}):t=[Pxe];var n=-1;t=y0(t,Cxe(Sxe));var s=Nxe(e,function(i,o,l){var c=y0(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return kxe(s,function(i,o){return Exe(i,o,r)})}var Txe=Axe;function Rxe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Mxe=Rxe,$xe=Mxe,lA=Math.max;function Ixe(e,t,r){return t=lA(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=lA(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),$xe(e,this,l)}}var Dxe=Ixe;function Lxe(e){return function(){return e}}var Fxe=Lxe,Uxe=Wc,qxe=function(){try{var e=Uxe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),IU=qxe,Bxe=Fxe,cA=IU,zxe=Ef,Wxe=cA?function(e,t){return cA(e,"toString",{configurable:!0,enumerable:!1,value:Bxe(t),writable:!0})}:zxe,Vxe=Wxe,Kxe=800,Hxe=16,Gxe=Date.now;function Yxe(e){var t=0,r=0;return function(){var n=Gxe(),s=Hxe-(n-r);if(r=n,s>0){if(++t>=Kxe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Qxe=Yxe,Xxe=Vxe,Jxe=Qxe,Zxe=Jxe(Xxe),ebe=Zxe,tbe=Ef,rbe=Dxe,nbe=ebe;function sbe(e,t){return nbe(rbe(e,t,tbe),e+"")}var abe=sbe,ibe=xk,obe=Tp,lbe=Ik,cbe=wl;function ube(e,t,r){if(!cbe(r))return!1;var n=typeof t;return(n=="number"?obe(r)&&lbe(t,r.length):n=="string"&&t in r)?ibe(r[t],e):!1}var Ab=ube,dbe=RU,fbe=Txe,hbe=abe,uA=Ab,mbe=hbe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&uA(e,t[0],t[1])?t=[]:r>2&&uA(t[0],t[1],t[2])&&(t=[t[0]]),fbe(e,dbe(t,1),[])}),pbe=mbe;const Uk=zt(pbe);function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l1.apply(this,arguments)}function gbe(e,t){return bbe(e)||xbe(e,t)||ybe(e,t)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ybe(e,t){if(e){if(typeof e=="string")return dA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dA(e,t)}}function dA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bbe(e){if(Array.isArray(e))return e}function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function x0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){wbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wbe(e,t,r){return t=jbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jbe(e){var t=_be(e,"string");return _m(t)=="symbol"?t:t+""}function _be(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sbe(e){return Array.isArray(e)&&Gr(e[0])&&Gr(e[1])?e.join(" ~ "):e}var Nbe=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,x=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(d&&d.length){var E={padding:0,margin:0},F=(h?Uk(d,h):d).map(function($,K){if($.type==="none")return null;var T=x0({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),V=$.formatter||f||Sbe,R=$.value,I=$.name,D=R,te=I;if(V&&D!=null&&te!=null){var A=V(R,I,$,K,d);if(Array.isArray(A)){var re=gbe(A,2);D=re[0],te=re[1]}else D=A}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:T},Gr(te)?M.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Gr(te)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},D),M.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:E},F)}return null},_=x0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=x0({margin:0},u),S=!xt(p),N=S?p:"",k=St("recharts-default-tooltip",m),C=St("recharts-tooltip-label",g);S&&x&&d!==void 0&&d!==null&&(N=x(p,d));var O=y?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",l1({className:k,style:_},O),M.createElement("p",{className:C,style:j},M.isValidElement(N)?N:"".concat(N)),w())};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function Eg(e,t,r){return t=kbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kbe(e){var t=Cbe(e,"string");return Sm(t)=="symbol"?t:t+""}function Cbe(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zf="recharts-tooltip-wrapper",Ebe={visibility:"hidden"};function Pbe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return St(Zf,Eg(Eg(Eg(Eg({},"".concat(Zf,"-right"),_e(r)&&t&&_e(t.x)&&r>=t.x),"".concat(Zf,"-left"),_e(r)&&t&&_e(t.x)&&r<t.x),"".concat(Zf,"-bottom"),_e(n)&&t&&_e(t.y)&&n>=t.y),"".concat(Zf,"-top"),_e(n)&&t&&_e(t.y)&&n<t.y))}function hA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&_e(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function Obe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Abe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=hA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=hA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Obe({translateX:d,translateY:f,useTranslate3d:l})):u=Ebe,{cssProperties:u,cssClasses:Pbe({translateX:d,translateY:f,coordinate:r})}}function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){u1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LU(n.key),n)}}function Mbe(e,t,r){return t&&Rbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $be(e,t,r){return t=wy(t),Ibe(e,DU()?Reflect.construct(t,r||[],wy(e).constructor):t.apply(e,r))}function Ibe(e,t){if(t&&(Md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dbe(e)}function Dbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DU=function(){return!!e})()}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wy(e)}function Lbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c1(e,t)}function c1(e,t){return c1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},c1(e,t)}function u1(e,t,r){return t=LU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LU(e){var t=Fbe(e,"string");return Md(t)=="symbol"?t:t+""}function Fbe(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gA=1,Ube=function(e){function t(){var r;Tbe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=$be(this,t,[].concat(s)),u1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),u1(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Lbe(t,e),Mbe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>gA||Math.abs(n.height-this.state.lastBoundingBox.height)>gA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,g=s.position,p=s.reverseDirection,x=s.useTranslate3d,b=s.viewBox,y=s.wrapperStyle,w=Abe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),_=w.cssClasses,j=w.cssProperties,S=pA(pA({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return M.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(v.PureComponent),qbe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pf={isSsr:qbe()};function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){qk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UU(n.key),n)}}function Wbe(e,t,r){return t&&zbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vbe(e,t,r){return t=jy(t),Kbe(e,FU()?Reflect.construct(t,r||[],jy(e).constructor):t.apply(e,r))}function Kbe(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hbe(e)}function Hbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FU=function(){return!!e})()}function jy(e){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jy(e)}function Gbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d1(e,t)}function d1(e,t){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},d1(e,t)}function qk(e,t,r){return t=UU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=Ybe(e,"string");return $d(t)=="symbol"?t:t+""}function Ybe(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qbe(e){return e.dataKey}function Xbe(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(Nbe,t)}var Ps=function(e){function t(){return Bbe(this,t),Vbe(this,t,arguments)}return Gbe(t,e),Wbe(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,g=s.payload,p=s.payloadUniqBy,x=s.position,b=s.reverseDirection,y=s.useTranslate3d,w=s.viewBox,_=s.wrapperStyle,j=g??[];f&&j.length&&(j=PU(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,Qbe));var S=j.length>0;return M.createElement(Ube,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:m,position:x,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:_},Xbe(u,yA(yA({},this.props),{},{payload:j})))}}])}(v.PureComponent);qk(Ps,"displayName","Tooltip");qk(Ps,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Jbe=fi,Zbe=function(){return Jbe.Date.now()},ewe=Zbe,twe=/\s/;function rwe(e){for(var t=e.length;t--&&twe.test(e.charAt(t)););return t}var nwe=rwe,swe=nwe,awe=/^\s+/;function iwe(e){return e&&e.slice(0,swe(e)+1).replace(awe,"")}var owe=iwe,lwe=owe,xA=wl,cwe=bf,bA=NaN,uwe=/^[-+]0x[0-9a-f]+$/i,dwe=/^0b[01]+$/i,fwe=/^0o[0-7]+$/i,hwe=parseInt;function mwe(e){if(typeof e=="number")return e;if(cwe(e))return bA;if(xA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lwe(e);var r=dwe.test(e);return r||fwe.test(e)?hwe(e.slice(2),r?2:8):uwe.test(e)?bA:+e}var qU=mwe,pwe=wl,b0=ewe,wA=qU,gwe="Expected a function",vwe=Math.max,ywe=Math.min;function xwe(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(gwe);t=wA(t)||0,pwe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?vwe(wA(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(S){var N=n,k=s;return n=s=void 0,u=S,o=e.apply(k,N),o}function g(S){return u=S,l=setTimeout(b,t),d?m(S):o}function p(S){var N=S-c,k=S-u,C=t-N;return f?ywe(C,i-k):C}function x(S){var N=S-c,k=S-u;return c===void 0||N>=t||N<0||f&&k>=i}function b(){var S=b0();if(x(S))return y(S);l=setTimeout(b,p(S))}function y(S){return l=void 0,h&&n?m(S):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function _(){return l===void 0?o:y(b0())}function j(){var S=b0(),N=x(S);if(n=arguments,s=this,c=S,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=w,j.flush=_,j}var bwe=xwe,wwe=bwe,jwe=wl,_we="Expected a function";function Swe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(_we);return jwe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),wwe(e,t,{leading:n,maxWait:t,trailing:s})}var Nwe=Swe;const BU=zt(Nwe);function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){kwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kwe(e,t,r){return t=Cwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cwe(e){var t=Ewe(e,"string");return Nm(t)=="symbol"?t:t+""}function Ewe(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pwe(e,t){return Rwe(e)||Twe(e,t)||Awe(e,t)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Awe(e,t){if(e){if(typeof e=="string")return _A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _A(e,t)}}function _A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Twe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Rwe(e){if(Array.isArray(e))return e}var f1=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,x=e.id,b=e.className,y=e.onResize,w=e.style,_=w===void 0?{}:w,j=v.useRef(null),S=v.useRef();S.current=y,v.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=v.useState({containerWidth:s.width,containerHeight:s.height}),k=Pwe(N,2),C=k[0],O=k[1],L=v.useCallback(function(F,$){O(function(K){var T=Math.round(F),V=Math.round($);return K.containerWidth===T&&K.containerHeight===V?K:{containerWidth:T,containerHeight:V}})},[]);v.useEffect(function(){var F=function(I){var D,te=I[0].contentRect,A=te.width,re=te.height;L(A,re),(D=S.current)===null||D===void 0||D.call(S,A,re)};p>0&&(F=BU(F,p,{trailing:!0,leading:!1}));var $=new ResizeObserver(F),K=j.current.getBoundingClientRect(),T=K.width,V=K.height;return L(T,V),$.observe(j.current),function(){$.disconnect()}},[L,p]);var E=v.useMemo(function(){var F=C.containerWidth,$=C.containerHeight;if(F<0||$<0)return null;Li(Gl(o)||Gl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Li(!r||r>0,"The aspect(%s) must be greater than zero.",r);var K=Gl(o)?F:o,T=Gl(c)?$:c;r&&r>0&&(K?T=K/r:T&&(K=T*r),h&&T>h&&(T=h)),Li(K>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,T,o,c,d,f,r);var V=!Array.isArray(m)&&Di(m.type).endsWith("Chart");return M.Children.map(m,function(R){return M.isValidElement(R)?v.cloneElement(R,Pg({width:K,height:T},V?{style:Pg({height:"100%",width:"100%",maxHeight:T,maxWidth:K},R.props.style)}:{})):R})},[r,m,c,h,f,d,C,o]);return M.createElement("div",{id:x?"".concat(x):void 0,className:St("recharts-responsive-container",b),style:Pg(Pg({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},E)}),zU=function(t){return null};zU.displayName="Cell";function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function h1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){Mwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mwe(e,t,r){return t=$we(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $we(e){var t=Iwe(e,"string");return km(t)=="symbol"?t:t+""}function Iwe(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fu={widthCache:{},cacheCount:0},Dwe=2e3,Lwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NA="recharts_measurement_span";function Fwe(e){var t=h1({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ih=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Pf.isSsr)return{width:0,height:0};var n=Fwe(r),s=JSON.stringify({text:t,copyStyle:n});if(fu.widthCache[s])return fu.widthCache[s];try{var i=document.getElementById(NA);i||(i=document.createElement("span"),i.setAttribute("id",NA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=h1(h1({},Lwe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return fu.widthCache[s]=c,++fu.cacheCount>Dwe&&(fu.cacheCount=0,fu.widthCache={}),c}catch{return{width:0,height:0}}},Uwe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function _y(e,t){return Wwe(e)||zwe(e,t)||Bwe(e,t)||qwe()}function qwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bwe(e,t){if(e){if(typeof e=="string")return kA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(e,t)}}function kA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Wwe(e){if(Array.isArray(e))return e}function Vwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hwe(n.key),n)}}function Kwe(e,t,r){return t&&CA(e.prototype,t),r&&CA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hwe(e){var t=Gwe(e,"string");return Cm(t)=="symbol"?t:t+""}function Gwe(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var EA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ywe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Xwe=Object.keys(WU),$u="NaN";function Jwe(e,t){return e*WU[t]}var Og=function(){function e(t,r){Vwe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Ywe.test(r)&&(this.num=NaN,this.unit=""),Xwe.includes(r)&&(this.num=Jwe(t,r),this.unit="px")}return Kwe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Qwe.exec(r))!==null&&n!==void 0?n:[],i=_y(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function VU(e){if(e.includes($u))return $u;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=EA.exec(t))!==null&&r!==void 0?r:[],s=_y(n,4),i=s[1],o=s[2],l=s[3],c=Og.parse(i??""),u=Og.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return $u;t=t.replace(EA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=PA.exec(t))!==null&&f!==void 0?f:[],m=_y(h,4),g=m[1],p=m[2],x=m[3],b=Og.parse(g??""),y=Og.parse(x??""),w=p==="+"?b.add(y):b.subtract(y);if(w.isNaN())return $u;t=t.replace(PA,w.toString())}return t}var OA=/\(([^()]*)\)/;function Zwe(e){for(var t=e;t.includes("(");){var r=OA.exec(t),n=_y(r,2),s=n[1];t=t.replace(OA,VU(s))}return t}function e0e(e){var t=e.replace(/\s+/g,"");return t=Zwe(t),t=VU(t),t}function t0e(e){try{return e0e(e)}catch{return $u}}function w0(e){var t=t0e(e.slice(5,-1));return t===$u?"":t}var r0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],n0e=["dx","dy","angle","className","breakAll"];function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m1.apply(this,arguments)}function AA(e,t){if(e==null)return{};var r=s0e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TA(e,t){return l0e(e)||o0e(e,t)||i0e(e,t)||a0e()}function a0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(e,t){if(e){if(typeof e=="string")return RA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RA(e,t)}}function RA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function l0e(e){if(Array.isArray(e))return e}var KU=/[ \f\n\r\t\v\u2028\u2029]+/,HU=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];xt(r)||(n?i=r.toString().split(""):i=r.toString().split(KU));var o=i.map(function(c){return{word:c,width:Ih(c,s).width}}),l=n?0:Ih("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},c0e=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=_e(o),f=l,h=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(T,V){var R=V.word,I=V.width,D=T[T.length-1];if(D&&(s==null||i||D.width+I+n<Number(s)))D.words.push(R),D.width+=I+n;else{var te={words:[R],width:I};T.push(te)}return T},[])},m=h(r),g=function(K){return K.reduce(function(T,V){return T.width>V.width?T:V})};if(!d)return m;for(var p="",x=function(K){var T=f.slice(0,K),V=HU({breakAll:u,style:c,children:T+p}).wordsWithComputedWidth,R=h(V),I=R.length>o||g(R).width>Number(s);return[I,R]},b=0,y=f.length-1,w=0,_;b<=y&&w<=f.length-1;){var j=Math.floor((b+y)/2),S=j-1,N=x(S),k=TA(N,2),C=k[0],O=k[1],L=x(j),E=TA(L,1),F=E[0];if(!C&&!F&&(b=j+1),C&&F&&(y=j-1),!C&&F){_=O;break}w++}return _||m},MA=function(t){var r=xt(t)?[]:t.toString().split(KU);return[{words:r}]},u0e=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Pf.isSsr){var c,u,d=HU({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return MA(s);return c0e({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return MA(s)},$A="#808080",Sy=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,x=t.fill,b=x===void 0?$A:x,y=AA(t,r0e),w=v.useMemo(function(){return u0e({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,j=y.dy,S=y.angle,N=y.className,k=y.breakAll,C=AA(y,n0e);if(!Gr(n)||!Gr(i))return null;var O=n+(_e(_)?_:0),L=i+(_e(j)?j:0),E;switch(p){case"start":E=w0("calc(".concat(u,")"));break;case"middle":E=w0("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=w0("calc(".concat(w.length-1," * -").concat(l,")"));break}var F=[];if(f){var $=w[0].width,K=y.width;F.push("scale(".concat((_e(K)?K/$:1)/$,")"))}return S&&F.push("rotate(".concat(S,", ").concat(O,", ").concat(L,")")),F.length&&(C.transform=F.join(" ")),M.createElement("text",m1({},pt(C,!0),{x:O,y:L,className:St("recharts-text",N),textAnchor:m,fill:b.includes("url")?$A:b}),w.map(function(T,V){var R=T.words.join(k?"":" ");return M.createElement("tspan",{x:O,dy:V===0?E:l,key:"".concat(R,"-").concat(V)},R)}))};function il(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function d0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bk(e){let t,r,n;e.length!==2?(t=il,r=(l,c)=>il(e(l),c),n=(l,c)=>e(l)-c):(t=e===il||e===d0e?e:f0e,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function f0e(){return 0}function GU(e){return e===null?NaN:+e}function*h0e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const m0e=Bk(il),Rp=m0e.right;Bk(GU).center;class IA extends Map{constructor(t,r=v0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(DA(this,t))}has(t){return super.has(DA(this,t))}set(t,r){return super.set(p0e(this,t),r)}delete(t){return super.delete(g0e(this,t))}}function DA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function p0e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function g0e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function v0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function y0e(e=il){if(e===il)return YU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function YU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const x0e=Math.sqrt(50),b0e=Math.sqrt(10),w0e=Math.sqrt(2);function Ny(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=x0e?10:i>=b0e?5:i>=w0e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Ny(e,t,r*2):[l,c,u]}function p1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Ny(t,e,r):Ny(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function g1(e,t,r){return t=+t,e=+e,r=+r,Ny(e,t,r)[2]}function v1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?g1(t,e,r):g1(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function LA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QU(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?YU:y0e(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));QU(e,t,m,g,s)}const i=e[t];let o=r,l=n;for(eh(e,r,t),s(e[n],i)>0&&eh(e,r,n);o<l;){for(eh(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?eh(e,r,l):(++l,eh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function eh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function j0e(e,t,r){if(e=Float64Array.from(h0e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return FA(e);if(t>=1)return LA(e);var n,s=(n-1)*t,i=Math.floor(s),o=LA(QU(e,i).subarray(0,i+1)),l=FA(e.subarray(i+1));return o+(l-o)*(s-i)}}function _0e(e,t,r=GU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function S0e(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Xs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function uo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const y1=Symbol("implicit");function zk(){var e=new IA,t=[],r=[],n=y1;function s(i){let o=e.get(i);if(o===void 0){if(n!==y1)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new IA;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return zk(t,r).unknown(n)},Xs.apply(s,arguments),s}function Em(){var e=zk().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,g=m?s:n,p=m?n:s;i=(p-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=S0e(h).map(function(b){return g+i*b});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Em(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Xs.apply(f(),arguments)}function XU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return XU(t())},e}function Dh(){return XU(Em.apply(null,arguments).paddingInner(1))}function Wk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function JU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Mp(){}var Pm=.7,ky=1/Pm,Qu="\\s*([+-]?\\d+)\\s*",Om="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N0e=/^#([0-9a-f]{3,8})$/,k0e=new RegExp(`^rgb\\(${Qu},${Qu},${Qu}\\)$`),C0e=new RegExp(`^rgb\\(${ni},${ni},${ni}\\)$`),E0e=new RegExp(`^rgba\\(${Qu},${Qu},${Qu},${Om}\\)$`),P0e=new RegExp(`^rgba\\(${ni},${ni},${ni},${Om}\\)$`),O0e=new RegExp(`^hsl\\(${Om},${ni},${ni}\\)$`),A0e=new RegExp(`^hsla\\(${Om},${ni},${ni},${Om}\\)$`),UA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wk(Mp,Am,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qA,formatHex:qA,formatHex8:T0e,formatHsl:R0e,formatRgb:BA,toString:BA});function qA(){return this.rgb().formatHex()}function T0e(){return this.rgb().formatHex8()}function R0e(){return ZU(this).formatHsl()}function BA(){return this.rgb().formatRgb()}function Am(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=N0e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?zA(t):r===3?new Yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ag(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ag(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=k0e.exec(e))?new Yn(t[1],t[2],t[3],1):(t=C0e.exec(e))?new Yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=E0e.exec(e))?Ag(t[1],t[2],t[3],t[4]):(t=P0e.exec(e))?Ag(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=O0e.exec(e))?KA(t[1],t[2]/100,t[3]/100,1):(t=A0e.exec(e))?KA(t[1],t[2]/100,t[3]/100,t[4]):UA.hasOwnProperty(e)?zA(UA[e]):e==="transparent"?new Yn(NaN,NaN,NaN,0):null}function zA(e){return new Yn(e>>16&255,e>>8&255,e&255,1)}function Ag(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yn(e,t,r,n)}function M0e(e){return e instanceof Mp||(e=Am(e)),e?(e=e.rgb(),new Yn(e.r,e.g,e.b,e.opacity)):new Yn}function x1(e,t,r,n){return arguments.length===1?M0e(e):new Yn(e,t,r,n??1)}function Yn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Wk(Yn,x1,JU(Mp,{brighter(e){return e=e==null?ky:Math.pow(ky,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pm:Math.pow(Pm,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yn(uc(this.r),uc(this.g),uc(this.b),Cy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WA,formatHex:WA,formatHex8:$0e,formatRgb:VA,toString:VA}));function WA(){return`#${Yl(this.r)}${Yl(this.g)}${Yl(this.b)}`}function $0e(){return`#${Yl(this.r)}${Yl(this.g)}${Yl(this.b)}${Yl((isNaN(this.opacity)?1:this.opacity)*255)}`}function VA(){const e=Cy(this.opacity);return`${e===1?"rgb(":"rgba("}${uc(this.r)}, ${uc(this.g)}, ${uc(this.b)}${e===1?")":`, ${e})`}`}function Cy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yl(e){return e=uc(e),(e<16?"0":"")+e.toString(16)}function KA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xa(e,t,r,n)}function ZU(e){if(e instanceof xa)return new xa(e.h,e.s,e.l,e.opacity);if(e instanceof Mp||(e=Am(e)),!e)return new xa;if(e instanceof xa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new xa(o,l,c,e.opacity)}function I0e(e,t,r,n){return arguments.length===1?ZU(e):new xa(e,t,r,n??1)}function xa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Wk(xa,I0e,JU(Mp,{brighter(e){return e=e==null?ky:Math.pow(ky,e),new xa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pm:Math.pow(Pm,e),new xa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Yn(j0(e>=240?e-240:e+120,s,n),j0(e,s,n),j0(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new xa(HA(this.h),Tg(this.s),Tg(this.l),Cy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cy(this.opacity);return`${e===1?"hsl(":"hsla("}${HA(this.h)}, ${Tg(this.s)*100}%, ${Tg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function HA(e){return e=(e||0)%360,e<0?e+360:e}function Tg(e){return Math.max(0,Math.min(1,e||0))}function j0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Vk=e=>()=>e;function D0e(e,t){return function(r){return e+r*t}}function L0e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function F0e(e){return(e=+e)==1?eq:function(t,r){return r-t?L0e(t,r,e):Vk(isNaN(t)?r:t)}}function eq(e,t){var r=t-e;return r?D0e(e,r):Vk(isNaN(e)?t:e)}const GA=function e(t){var r=F0e(t);function n(s,i){var o=r((s=x1(s)).r,(i=x1(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=eq(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function U0e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function q0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function B0e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Of(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function z0e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ey(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function W0e(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Of(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var b1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_0=new RegExp(b1.source,"g");function V0e(e){return function(){return e}}function K0e(e){return function(t){return e(t)+""}}function H0e(e,t){var r=b1.lastIndex=_0.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=b1.exec(e))&&(s=_0.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Ey(n,s)})),r=_0.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?K0e(c[0].x):V0e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Of(e,t){var r=typeof t,n;return t==null||r==="boolean"?Vk(t):(r==="number"?Ey:r==="string"?(n=Am(t))?(t=n,GA):H0e:t instanceof Am?GA:t instanceof Date?z0e:q0e(t)?U0e:Array.isArray(t)?B0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?W0e:Ey)(e,t)}function Kk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function G0e(e,t){t===void 0&&(t=e,e=Of);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Y0e(e){return function(){return e}}function Py(e){return+e}var YA=[0,1];function Rn(e){return e}function w1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Y0e(isNaN(t)?NaN:.5)}function Q0e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function X0e(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=w1(s,n),i=r(o,i)):(n=w1(n,s),i=r(i,o)),function(l){return i(n(l))}}function J0e(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=w1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Rp(e,l,1,n)-1;return i[c](s[c](l))}}function $p(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tb(){var e=YA,t=YA,r=Of,n,s,i,o=Rn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Rn&&(o=Q0e(e[0],e[h-1])),l=h>2?J0e:X0e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),Ey)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Py),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Kk,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Rn,d()):o!==Rn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,s=m,d()}}function Hk(){return Tb()(Rn,Rn)}function Z0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Oy(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Id(e){return e=Oy(Math.abs(e)),e?e[1]:NaN}function eje(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function tje(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rje=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tm(e){if(!(t=rje.exec(e)))throw new Error("invalid format: "+e);var t;return new Gk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tm.prototype=Gk.prototype;function Gk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nje(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var Ay;function sje(e,t){var r=Oy(e,t);if(!r)return Ay=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(Ay=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Oy(e,Math.max(0,t+i-1))[0]}function QA(e,t){var r=Oy(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const XA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Z0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>QA(e*100,t),r:QA,s:sje,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JA(e){return e}var ZA=Array.prototype.map,eT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aje(e){var t=e.grouping===void 0||e.thousands===void 0?JA:eje(ZA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?JA:tje(ZA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Tm(f);var m=f.fill,g=f.align,p=f.sign,x=f.symbol,b=f.zero,y=f.width,w=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(w=!0,S="g"):XA[S]||(_===void 0&&(_=12),j=!0,S="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?r:x==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),k=(x==="$"?n:/[%p]/.test(S)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),C=XA[S],O=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function L(E){var F=N,$=k,K,T,V;if(S==="c")$=C(E)+$,E="";else{E=+E;var R=E<0||1/E<0;if(E=isNaN(E)?c:C(Math.abs(E),_),j&&(E=nje(E)),R&&+E==0&&p!=="+"&&(R=!1),F=(R?p==="("?p:l:p==="-"||p==="("?"":p)+F,$=(S==="s"&&!isNaN(E)&&Ay!==void 0?eT[8+Ay/3]:"")+$+(R&&p==="("?")":""),O){for(K=-1,T=E.length;++K<T;)if(V=E.charCodeAt(K),48>V||V>57){$=(V===46?s+E.slice(K+1):E.slice(K))+$,E=E.slice(0,K);break}}}w&&!b&&(E=t(E,1/0));var I=F.length+E.length+$.length,D=I<y?new Array(y-I+1).join(m):"";switch(w&&b&&(E=t(D+E,D.length?y-$.length:1/0),D=""),g){case"<":E=F+E+$+D;break;case"=":E=F+D+E+$;break;case"^":E=D.slice(0,I=D.length>>1)+F+E+$+D.slice(I);break;default:E=D+F+E+$;break}return i(E)}return L.toString=function(){return f+""},L}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Id(h)/3)))*3,g=Math.pow(10,-m),p=u((f=Tm(f),f.type="f",f),{suffix:eT[8+m/3]});return function(x){return p(g*x)}}return{format:u,formatPrefix:d}}var Rg,Yk,tq;ije({thousands:",",grouping:[3],currency:["$",""]});function ije(e){return Rg=aje(e),Yk=Rg.format,tq=Rg.formatPrefix,Rg}function oje(e){return Math.max(0,-Id(Math.abs(e)))}function lje(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Id(t)/3)))*3-Id(Math.abs(e)))}function cje(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Id(t)-Id(e))+1}function rq(e,t,r,n){var s=v1(e,t,r),i;switch(n=Tm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=lje(s,o))&&(n.precision=i),tq(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=cje(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=oje(s))&&(n.precision=i-(n.type==="%")*2);break}}return Yk(n)}function _l(e){var t=e.domain;return e.ticks=function(r){var n=t();return p1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return rq(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=g1(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Ty(){var e=Hk();return e.copy=function(){return $p(e,Ty())},Xs.apply(e,arguments),_l(e)}function nq(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Py),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nq(e).unknown(t)},e=arguments.length?Array.from(e,Py):[0,1],_l(r)}function sq(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function tT(e){return Math.log(e)}function rT(e){return Math.exp(e)}function uje(e){return-Math.log(-e)}function dje(e){return-Math.exp(-e)}function fje(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hje(e){return e===10?fje:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mje(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nT(e){return(t,r)=>-e(-t,r)}function Qk(e){const t=e(tT,rT),r=t.domain;let n=10,s,i;function o(){return s=mje(n),i=hje(n),r()[0]<0?(s=nT(s),i=nT(i),e(uje,dje)):e(tT,rT),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),g,p;const x=l==null?10:+l;let b=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<x&&(b=p1(u,d,x))}else b=p1(h,m,Math.min(m-h,x)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Tm(c)).precision==null&&(c.trim=!0),c=Yk(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(sq(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function aq(){const e=Qk(Tb()).domain([1,10]);return e.copy=()=>$p(e,aq()).base(e.base()),Xs.apply(e,arguments),e}function sT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Xk(e){var t=1,r=e(sT(t),aT(t));return r.constant=function(n){return arguments.length?e(sT(t=+n),aT(t)):t},_l(r)}function iq(){var e=Xk(Tb());return e.copy=function(){return $p(e,iq()).constant(e.constant())},Xs.apply(e,arguments)}function iT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pje(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function gje(e){return e<0?-e*e:e*e}function Jk(e){var t=e(Rn,Rn),r=1;function n(){return r===1?e(Rn,Rn):r===.5?e(pje,gje):e(iT(r),iT(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},_l(t)}function Zk(){var e=Jk(Tb());return e.copy=function(){return $p(e,Zk()).exponent(e.exponent())},Xs.apply(e,arguments),e}function vje(){return Zk.apply(null,arguments).exponent(.5)}function oT(e){return Math.sign(e)*e*e}function yje(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oq(){var e=Hk(),t=[0,1],r=!1,n;function s(i){var o=yje(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(oT(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Py)).map(oT)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return oq(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Xs.apply(s,arguments),_l(s)}function lq(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=_0e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Rp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(il),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return lq().domain(e).range(t).unknown(n)},Xs.apply(i,arguments)}function cq(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Rp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return cq().domain([e,t]).range(s).unknown(i)},Xs.apply(_l(o),arguments)}function uq(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Rp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return uq().domain(e).range(t).unknown(r)},Xs.apply(s,arguments)}const S0=new Date,N0=new Date;function Qr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Qr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(S0.setTime(+i),N0.setTime(+o),e(S0),e(N0),Math.floor(r(S0,N0))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Ry=Qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ry.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ry);Ry.range;const Oi=1e3,$s=Oi*60,Ai=$s*60,Yi=Ai*24,eC=Yi*7,lT=Yi*30,k0=Yi*365,Ql=Qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getUTCSeconds());Ql.range;const tC=Qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oi)},(e,t)=>{e.setTime(+e+t*$s)},(e,t)=>(t-e)/$s,e=>e.getMinutes());tC.range;const rC=Qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$s)},(e,t)=>(t-e)/$s,e=>e.getUTCMinutes());rC.range;const nC=Qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oi-e.getMinutes()*$s)},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getHours());nC.range;const sC=Qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getUTCHours());sC.range;const Ip=Qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$s)/Yi,e=>e.getDate()-1);Ip.range;const Rb=Qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yi,e=>e.getUTCDate()-1);Rb.range;const dq=Qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yi,e=>Math.floor(e/Yi));dq.range;function Vc(e){return Qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*$s)/eC)}const Mb=Vc(0),My=Vc(1),xje=Vc(2),bje=Vc(3),Dd=Vc(4),wje=Vc(5),jje=Vc(6);Mb.range;My.range;xje.range;bje.range;Dd.range;wje.range;jje.range;function Kc(e){return Qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/eC)}const $b=Kc(0),$y=Kc(1),_je=Kc(2),Sje=Kc(3),Ld=Kc(4),Nje=Kc(5),kje=Kc(6);$b.range;$y.range;_je.range;Sje.range;Ld.range;Nje.range;kje.range;const aC=Qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());aC.range;const iC=Qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());iC.range;const Qi=Qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Qi.range;const Xi=Qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Xi.range;function fq(e,t,r,n,s,i){const o=[[Ql,1,Oi],[Ql,5,5*Oi],[Ql,15,15*Oi],[Ql,30,30*Oi],[i,1,$s],[i,5,5*$s],[i,15,15*$s],[i,30,30*$s],[s,1,Ai],[s,3,3*Ai],[s,6,6*Ai],[s,12,12*Ai],[n,1,Yi],[n,2,2*Yi],[r,1,eC],[t,1,lT],[t,3,3*lT],[e,1,k0]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=Bk(([,,x])=>x).right(o,h);if(m===o.length)return e.every(v1(u/k0,d/k0,f));if(m===0)return Ry.every(Math.max(v1(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[Cje,Eje]=fq(Xi,iC,$b,dq,sC,rC),[Pje,Oje]=fq(Qi,aC,Mb,Ip,nC,tC);function C0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function E0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function th(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Aje(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=rh(s),d=nh(s),f=rh(i),h=nh(i),m=rh(o),g=nh(o),p=rh(l),x=nh(l),b=rh(c),y=nh(c),w={a:V,A:R,b:I,B:D,c:null,d:mT,e:mT,f:e_e,g:u_e,G:f_e,H:Xje,I:Jje,j:Zje,L:hq,m:t_e,M:r_e,p:te,q:A,Q:vT,s:yT,S:n_e,u:s_e,U:a_e,V:i_e,w:o_e,W:l_e,x:null,X:null,y:c_e,Y:d_e,Z:h_e,"%":gT},_={a:re,A:ye,b:We,B:Ke,c:null,d:pT,e:pT,f:v_e,g:C_e,G:P_e,H:m_e,I:p_e,j:g_e,L:pq,m:y_e,M:x_e,p:pe,q:Ne,Q:vT,s:yT,S:b_e,u:w_e,U:j_e,V:__e,w:S_e,W:N_e,x:null,X:null,y:k_e,Y:E_e,Z:O_e,"%":gT},j={a:O,A:L,b:E,B:F,c:$,d:fT,e:fT,f:Hje,g:dT,G:uT,H:hT,I:hT,j:zje,L:Kje,m:Bje,M:Wje,p:C,q:qje,Q:Yje,s:Qje,S:Vje,u:Ije,U:Dje,V:Lje,w:$je,W:Fje,x:K,X:T,y:dT,Y:uT,Z:Uje,"%":Gje};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(se,ve){return function(Y){var Q=[],Xe=-1,He=0,bt=se.length,ft,Wt,Cr;for(Y instanceof Date||(Y=new Date(+Y));++Xe<bt;)se.charCodeAt(Xe)===37&&(Q.push(se.slice(He,Xe)),(Wt=cT[ft=se.charAt(++Xe)])!=null?ft=se.charAt(++Xe):Wt=ft==="e"?" ":"0",(Cr=ve[ft])&&(ft=Cr(Y,Wt)),Q.push(ft),He=Xe+1);return Q.push(se.slice(He,Xe)),Q.join("")}}function N(se,ve){return function(Y){var Q=th(1900,void 0,1),Xe=k(Q,se,Y+="",0),He,bt;if(Xe!=Y.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ve&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(He=E0(th(Q.y,0,1)),bt=He.getUTCDay(),He=bt>4||bt===0?$y.ceil(He):$y(He),He=Rb.offset(He,(Q.V-1)*7),Q.y=He.getUTCFullYear(),Q.m=He.getUTCMonth(),Q.d=He.getUTCDate()+(Q.w+6)%7):(He=C0(th(Q.y,0,1)),bt=He.getDay(),He=bt>4||bt===0?My.ceil(He):My(He),He=Ip.offset(He,(Q.V-1)*7),Q.y=He.getFullYear(),Q.m=He.getMonth(),Q.d=He.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),bt="Z"in Q?E0(th(Q.y,0,1)).getUTCDay():C0(th(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(bt+5)%7:Q.w+Q.U*7-(bt+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,E0(Q)):C0(Q)}}function k(se,ve,Y,Q){for(var Xe=0,He=ve.length,bt=Y.length,ft,Wt;Xe<He;){if(Q>=bt)return-1;if(ft=ve.charCodeAt(Xe++),ft===37){if(ft=ve.charAt(Xe++),Wt=j[ft in cT?ve.charAt(Xe++):ft],!Wt||(Q=Wt(se,Y,Q))<0)return-1}else if(ft!=Y.charCodeAt(Q++))return-1}return Q}function C(se,ve,Y){var Q=u.exec(ve.slice(Y));return Q?(se.p=d.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function O(se,ve,Y){var Q=m.exec(ve.slice(Y));return Q?(se.w=g.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function L(se,ve,Y){var Q=f.exec(ve.slice(Y));return Q?(se.w=h.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function E(se,ve,Y){var Q=b.exec(ve.slice(Y));return Q?(se.m=y.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function F(se,ve,Y){var Q=p.exec(ve.slice(Y));return Q?(se.m=x.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function $(se,ve,Y){return k(se,t,ve,Y)}function K(se,ve,Y){return k(se,r,ve,Y)}function T(se,ve,Y){return k(se,n,ve,Y)}function V(se){return o[se.getDay()]}function R(se){return i[se.getDay()]}function I(se){return c[se.getMonth()]}function D(se){return l[se.getMonth()]}function te(se){return s[+(se.getHours()>=12)]}function A(se){return 1+~~(se.getMonth()/3)}function re(se){return o[se.getUTCDay()]}function ye(se){return i[se.getUTCDay()]}function We(se){return c[se.getUTCMonth()]}function Ke(se){return l[se.getUTCMonth()]}function pe(se){return s[+(se.getUTCHours()>=12)]}function Ne(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ve=S(se+="",w);return ve.toString=function(){return se},ve},parse:function(se){var ve=N(se+="",!1);return ve.toString=function(){return se},ve},utcFormat:function(se){var ve=S(se+="",_);return ve.toString=function(){return se},ve},utcParse:function(se){var ve=N(se+="",!0);return ve.toString=function(){return se},ve}}}var cT={"-":"",_:" ",0:"0"},nn=/^\s*\d+/,Tje=/^%/,Rje=/[\\^$*+?|[\]().{}]/g;function Pt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Mje(e){return e.replace(Rje,"\\$&")}function rh(e){return new RegExp("^(?:"+e.map(Mje).join("|")+")","i")}function nh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function $je(e,t,r){var n=nn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Ije(e,t,r){var n=nn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Dje(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Lje(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Fje(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function uT(e,t,r){var n=nn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function dT(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Uje(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qje(e,t,r){var n=nn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Bje(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fT(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function zje(e,t,r){var n=nn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function hT(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Wje(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Vje(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Kje(e,t,r){var n=nn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Hje(e,t,r){var n=nn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Gje(e,t,r){var n=Tje.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Yje(e,t,r){var n=nn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Qje(e,t,r){var n=nn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mT(e,t){return Pt(e.getDate(),t,2)}function Xje(e,t){return Pt(e.getHours(),t,2)}function Jje(e,t){return Pt(e.getHours()%12||12,t,2)}function Zje(e,t){return Pt(1+Ip.count(Qi(e),e),t,3)}function hq(e,t){return Pt(e.getMilliseconds(),t,3)}function e_e(e,t){return hq(e,t)+"000"}function t_e(e,t){return Pt(e.getMonth()+1,t,2)}function r_e(e,t){return Pt(e.getMinutes(),t,2)}function n_e(e,t){return Pt(e.getSeconds(),t,2)}function s_e(e){var t=e.getDay();return t===0?7:t}function a_e(e,t){return Pt(Mb.count(Qi(e)-1,e),t,2)}function mq(e){var t=e.getDay();return t>=4||t===0?Dd(e):Dd.ceil(e)}function i_e(e,t){return e=mq(e),Pt(Dd.count(Qi(e),e)+(Qi(e).getDay()===4),t,2)}function o_e(e){return e.getDay()}function l_e(e,t){return Pt(My.count(Qi(e)-1,e),t,2)}function c_e(e,t){return Pt(e.getFullYear()%100,t,2)}function u_e(e,t){return e=mq(e),Pt(e.getFullYear()%100,t,2)}function d_e(e,t){return Pt(e.getFullYear()%1e4,t,4)}function f_e(e,t){var r=e.getDay();return e=r>=4||r===0?Dd(e):Dd.ceil(e),Pt(e.getFullYear()%1e4,t,4)}function h_e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pt(t/60|0,"0",2)+Pt(t%60,"0",2)}function pT(e,t){return Pt(e.getUTCDate(),t,2)}function m_e(e,t){return Pt(e.getUTCHours(),t,2)}function p_e(e,t){return Pt(e.getUTCHours()%12||12,t,2)}function g_e(e,t){return Pt(1+Rb.count(Xi(e),e),t,3)}function pq(e,t){return Pt(e.getUTCMilliseconds(),t,3)}function v_e(e,t){return pq(e,t)+"000"}function y_e(e,t){return Pt(e.getUTCMonth()+1,t,2)}function x_e(e,t){return Pt(e.getUTCMinutes(),t,2)}function b_e(e,t){return Pt(e.getUTCSeconds(),t,2)}function w_e(e){var t=e.getUTCDay();return t===0?7:t}function j_e(e,t){return Pt($b.count(Xi(e)-1,e),t,2)}function gq(e){var t=e.getUTCDay();return t>=4||t===0?Ld(e):Ld.ceil(e)}function __e(e,t){return e=gq(e),Pt(Ld.count(Xi(e),e)+(Xi(e).getUTCDay()===4),t,2)}function S_e(e){return e.getUTCDay()}function N_e(e,t){return Pt($y.count(Xi(e)-1,e),t,2)}function k_e(e,t){return Pt(e.getUTCFullYear()%100,t,2)}function C_e(e,t){return e=gq(e),Pt(e.getUTCFullYear()%100,t,2)}function E_e(e,t){return Pt(e.getUTCFullYear()%1e4,t,4)}function P_e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ld(e):Ld.ceil(e),Pt(e.getUTCFullYear()%1e4,t,4)}function O_e(){return"+0000"}function gT(){return"%"}function vT(e){return+e}function yT(e){return Math.floor(+e/1e3)}var hu,vq,yq;A_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function A_e(e){return hu=Aje(e),vq=hu.format,hu.parse,yq=hu.utcFormat,hu.utcParse,hu}function T_e(e){return new Date(e)}function R_e(e){return e instanceof Date?+e:+new Date(+e)}function oC(e,t,r,n,s,i,o,l,c,u){var d=Hk(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?g:o(S)<S?p:i(S)<S?x:n(S)<S?s(S)<S?b:y:r(S)<S?w:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,R_e)):h().map(T_e)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?j:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(sq(N,S)):d},d.copy=function(){return $p(d,oC(e,t,r,n,s,i,o,l,c,u))},d}function M_e(){return Xs.apply(oC(Pje,Oje,Qi,aC,Mb,Ip,nC,tC,Ql,vq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $_e(){return Xs.apply(oC(Cje,Eje,Xi,iC,$b,Rb,sC,rC,Ql,yq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ib(){var e=0,t=1,r,n,s,i,o=Rn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(Of),u.rangeRound=d(Kk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Sl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xq(){var e=_l(Ib()(Rn));return e.copy=function(){return Sl(e,xq())},uo.apply(e,arguments)}function bq(){var e=Qk(Ib()).domain([1,10]);return e.copy=function(){return Sl(e,bq()).base(e.base())},uo.apply(e,arguments)}function wq(){var e=Xk(Ib());return e.copy=function(){return Sl(e,wq()).constant(e.constant())},uo.apply(e,arguments)}function lC(){var e=Jk(Ib());return e.copy=function(){return Sl(e,lC()).exponent(e.exponent())},uo.apply(e,arguments)}function I_e(){return lC.apply(null,arguments).exponent(.5)}function jq(){var e=[],t=Rn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(il),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>j0e(e,i/n))},r.copy=function(){return jq(t).domain(e)},uo.apply(r,arguments)}function Db(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Rn,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(x){var b,y,w;return arguments.length?([b,y,w]=x,u=G0e(p,[b,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(Of),m.rangeRound=g(Kk),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,s=p(e),i=p(t),o=p(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m}}function _q(){var e=_l(Db()(Rn));return e.copy=function(){return Sl(e,_q())},uo.apply(e,arguments)}function Sq(){var e=Qk(Db()).domain([.1,1,10]);return e.copy=function(){return Sl(e,Sq()).base(e.base())},uo.apply(e,arguments)}function Nq(){var e=Xk(Db());return e.copy=function(){return Sl(e,Nq()).constant(e.constant())},uo.apply(e,arguments)}function cC(){var e=Jk(Db());return e.copy=function(){return Sl(e,cC()).exponent(e.exponent())},uo.apply(e,arguments)}function D_e(){return cC.apply(null,arguments).exponent(.5)}const xT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Em,scaleDiverging:_q,scaleDivergingLog:Sq,scaleDivergingPow:cC,scaleDivergingSqrt:D_e,scaleDivergingSymlog:Nq,scaleIdentity:nq,scaleImplicit:y1,scaleLinear:Ty,scaleLog:aq,scaleOrdinal:zk,scalePoint:Dh,scalePow:Zk,scaleQuantile:lq,scaleQuantize:cq,scaleRadial:oq,scaleSequential:xq,scaleSequentialLog:bq,scaleSequentialPow:lC,scaleSequentialQuantile:jq,scaleSequentialSqrt:I_e,scaleSequentialSymlog:wq,scaleSqrt:vje,scaleSymlog:iq,scaleThreshold:uq,scaleTime:M_e,scaleUtc:$_e,tickFormat:rq},Symbol.toStringTag,{value:"Module"}));var L_e=bf;function F_e(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!L_e(o):r(o,l)))var l=o,c=i}return c}var kq=F_e;function U_e(e,t){return e>t}var q_e=U_e,B_e=kq,z_e=q_e,W_e=Ef;function V_e(e){return e&&e.length?B_e(e,W_e,z_e):void 0}var K_e=V_e;const Ho=zt(K_e);function H_e(e,t){return e<t}var G_e=H_e,Y_e=kq,Q_e=G_e,X_e=Ef;function J_e(e){return e&&e.length?Y_e(e,X_e,Q_e):void 0}var Z_e=J_e;const Lb=zt(Z_e);var e1e=_k,t1e=jl,r1e=$U,n1e=ts;function s1e(e,t){var r=n1e(e)?e1e:r1e;return r(e,t1e(t))}var a1e=s1e,i1e=RU,o1e=a1e;function l1e(e,t){return i1e(o1e(e,t),1)}var c1e=l1e;const u1e=zt(c1e);var d1e=Lk;function f1e(e,t){return d1e(e,t)}var h1e=f1e;const Rm=zt(h1e);var Af=1e9,m1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dC,cr=!0,Vs="[DecimalError] ",dc=Vs+"Invalid argument: ",uC=Vs+"Exponent out of range: ",Tf=Math.floor,Dl=Math.pow,p1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ds,Jr=1e7,rr=7,Cq=9007199254740991,Iy=Tf(Cq/rr),Le={};Le.absoluteValue=Le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Le.comparedTo=Le.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*rr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Le.dividedBy=Le.div=function(e){return Fi(this,new this.constructor(e))};Le.dividedToIntegerBy=Le.idiv=function(e){var t=this,r=t.constructor;return Ht(Fi(t,new r(e),0,1),r.precision)};Le.equals=Le.eq=function(e){return!this.cmp(e)};Le.exponent=function(){return Ir(this)};Le.greaterThan=Le.gt=function(e){return this.cmp(e)>0};Le.greaterThanOrEqualTo=Le.gte=function(e){return this.cmp(e)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(e){return this.cmp(e)<0};Le.lessThanOrEqualTo=Le.lte=function(e){return this.cmp(e)<1};Le.logarithm=Le.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ds))throw Error(Vs+"NaN");if(r.s<1)throw Error(Vs+(r.s?"NaN":"-Infinity"));return r.eq(ds)?new n(0):(cr=!1,t=Fi(Mm(r,i),Mm(e,i),i),cr=!0,Ht(t,s))};Le.minus=Le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Oq(t,e):Eq(t,(e.s=-e.s,e))};Le.modulo=Le.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Vs+"NaN");return r.s?(cr=!1,t=Fi(r,e,0,1).times(e),cr=!0,r.minus(t)):Ht(new n(r),s)};Le.naturalExponential=Le.exp=function(){return Pq(this)};Le.naturalLogarithm=Le.ln=function(){return Mm(this)};Le.negated=Le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Le.plus=Le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Eq(t,e):Oq(t,(e.s=-e.s,e))};Le.precision=Le.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(dc+e);if(t=Ir(s)+1,n=s.d.length-1,r=n*rr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Le.squareRoot=Le.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vs+"NaN")}for(e=Ir(l),cr=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Xa(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Tf((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Fi(l,i,o+2)).times(.5),Xa(i.d).slice(0,o)===(t=Xa(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Ht(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return cr=!0,Ht(n,r)};Le.times=Le.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+m[n]*h[s-n-1]+t,i[s--]=l%Jr|0,t=l/Jr|0;i[s]=(i[s]+t)%Jr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,cr?Ht(e,f.precision):e};Le.toDecimalPlaces=Le.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(oi(e,0,Af),t===void 0?t=n.rounding:oi(t,0,8),Ht(r,e+Ir(r)+1,t))};Le.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Mc(n,!0):(oi(e,0,Af),t===void 0?t=s.rounding:oi(t,0,8),n=Ht(new s(n),e+1,t),r=Mc(n,!0,e+1)),r};Le.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Mc(s):(oi(e,0,Af),t===void 0?t=i.rounding:oi(t,0,8),n=Ht(new i(s),e+Ir(s)+1,t),r=Mc(n.abs(),!1,e+Ir(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Le.toInteger=Le.toint=function(){var e=this,t=e.constructor;return Ht(new t(e),Ir(e)+1,t.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ds);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vs+"Infinity");return l}if(l.eq(ds))return l;if(n=c.precision,e.eq(ds))return Ht(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=Cq){for(s=new c(ds),t=Math.ceil(n/rr+4),cr=!1;r%2&&(s=s.times(l),wT(s.d,t)),r=Tf(r/2),r!==0;)l=l.times(l),wT(l.d,t);return cr=!0,e.s<0?new c(ds).div(s):Ht(s,n)}}else if(i<0)throw Error(Vs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,cr=!1,s=e.times(Mm(l,n+u)),cr=!0,s=Pq(s),s.s=i,s};Le.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Ir(s),n=Mc(s,r<=i.toExpNeg||r>=i.toExpPos)):(oi(e,1,Af),t===void 0?t=i.rounding:oi(t,0,8),s=Ht(new i(s),e,t),r=Ir(s),n=Mc(s,e<=r||r<=i.toExpNeg,e)),n};Le.toSignificantDigits=Le.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(oi(e,1,Af),t===void 0?t=n.rounding:oi(t,0,8)),Ht(new n(r),e,t)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ir(e),r=e.constructor;return Mc(e,t<=r.toExpNeg||t>=r.toExpPos)};function Eq(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),cr?Ht(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/rr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Jr|0,c[i]%=Jr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,cr?Ht(t,f):t}function oi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(dc+e)}function Xa(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=rr-n.length,r&&(i+=Po(r)),i+=n;o=e[t],n=o+"",r=rr-n.length,r&&(i+=Po(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Fi=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Jr|0,o=i/Jr|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Jr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,m,g,p,x,b,y,w,_,j,S,N,k,C=n.constructor,O=n.s==s.s?1:-1,L=n.d,E=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(Vs+"Division by zero");for(c=n.e-s.e,N=E.length,j=L.length,m=new C(O),g=m.d=[],u=0;E[u]==(L[u]||0);)++u;if(E[u]>(L[u]||0)&&--c,i==null?y=i=C.precision:o?y=i+(Ir(n)-Ir(s))+1:y=i,y<0)return new C(0);if(y=y/rr+2|0,u=0,N==1)for(d=0,E=E[0],y++;(u<j||d)&&y--;u++)w=d*Jr+(L[u]||0),g[u]=w/E|0,d=w%E|0;else{for(d=Jr/(E[0]+1)|0,d>1&&(E=e(E,d),L=e(L,d),N=E.length,j=L.length),_=N,p=L.slice(0,N),x=p.length;x<N;)p[x++]=0;k=E.slice(),k.unshift(0),S=E[0],E[1]>=Jr/2&&++S;do d=0,l=t(E,p,N,x),l<0?(b=p[0],N!=x&&(b=b*Jr+(p[1]||0)),d=b/S|0,d>1?(d>=Jr&&(d=Jr-1),f=e(E,d),h=f.length,x=p.length,l=t(f,p,h,x),l==1&&(d--,r(f,N<h?k:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<x&&f.unshift(0),r(p,f,x),l==-1&&(x=p.length,l=t(E,p,N,x),l<1&&(d++,r(p,N<x?k:E,x))),x=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[x++]=L[_]||0:(p=[L[_]],x=1);while((_++<j||p[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=c,Ht(m,o?i+Ir(m)+1:i)}}();function Pq(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ir(e)>16)throw Error(uC+Ir(e));if(!e.s)return new d(ds);for(cr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Dl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(ds),d.precision=l;;){if(s=Ht(s.times(e),l),r=r.times(++c),o=i.plus(Fi(s,r,l)),Xa(o.d).slice(0,l)===Xa(i.d).slice(0,l)){for(;u--;)i=Ht(i.times(i),l);return d.precision=f,t==null?(cr=!0,Ht(i,f)):i}i=o}}function Ir(e){for(var t=e.e*rr,r=e.d[0];r>=10;r/=10)t++;return t}function P0(e,t,r){if(t>e.LN10.sd())throw cr=!0,r&&(e.precision=r),Error(Vs+"LN10 precision limit exceeded");return Ht(new e(e.LN10),t)}function Po(e){for(var t="";e--;)t+="0";return t}function Mm(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(Vs+(m.s?"NaN":"-Infinity"));if(m.eq(ds))return new p(0);if(t==null?(cr=!1,u=x):u=t,m.eq(10))return t==null&&(cr=!0),P0(p,u);if(u+=h,p.precision=u,r=Xa(g),n=r.charAt(0),i=Ir(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Xa(m.d),n=r.charAt(0),f++;i=Ir(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=P0(p,u+2,x).times(i+""),m=Mm(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=x,t==null?(cr=!0,Ht(m,x)):m;for(l=o=m=Fi(m.minus(ds),m.plus(ds),u),d=Ht(m.times(m),u),s=3;;){if(o=Ht(o.times(d),u),c=l.plus(Fi(o,new p(s),u)),Xa(c.d).slice(0,u)===Xa(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(P0(p,u+2,x).times(i+""))),l=Fi(l,new p(f),u),p.precision=x,t==null?(cr=!0,Ht(l,x)):l;l=c,s+=2}}function bT(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Tf(r/rr),e.d=[],n=(r+1)%rr,r<0&&(n+=rr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=rr;n<s;)e.d.push(+t.slice(n,n+=rr));t=t.slice(n),n=rr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),cr&&(e.e>Iy||e.e<-Iy))throw Error(uC+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ht(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=rr,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/rr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=rr,s=n-rr+o}if(r!==void 0&&(i=Dl(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Dl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Ir(e),f.length=1,t=t-i-1,f[0]=Dl(10,(rr-t%rr)%rr),e.e=Tf(-t/rr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Dl(10,rr-n),f[d]=s>0?(u/Dl(10,o-s)%Dl(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Jr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Jr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(cr&&(e.e>Iy||e.e<-Iy))throw Error(uC+Ir(e));return e}function Oq(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),cr?Ht(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/rr),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Jr-1;--c[i],c[s]+=Jr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,cr?Ht(t,m):t):new h(0)}function Mc(e,t,r){var n,s=Ir(e),i=Xa(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Po(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Po(-s-1)+i,r&&(n=r-o)>0&&(i+=Po(n))):s>=o?(i+=Po(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Po(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Po(n))),e.s<0?"-"+i:i}function wT(e,t){if(e.length>t)return e.length=t,!0}function Aq(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(dc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return bT(o,i.toString())}else if(typeof i!="string")throw Error(dc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,p1e.test(i))bT(o,i);else throw Error(dc+i)}if(s.prototype=Le,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=Aq,s.config=s.set=g1e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function g1e(e){if(!e||typeof e!="object")throw Error(Vs+"Object expected");var t,r,n,s=["precision",1,Af,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Tf(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(dc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(dc+r+": "+n);return this}var dC=Aq(m1e);ds=new dC(1);const qt=dC;function v1e(e){return w1e(e)||b1e(e)||x1e(e)||y1e()}function y1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x1e(e,t){if(e){if(typeof e=="string")return j1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j1(e,t)}}function b1e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function w1e(e){if(Array.isArray(e))return j1(e)}function j1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j1e=function(t){return t},Tq={},Rq=function(t){return t===Tq},jT=function(t){return function r(){return arguments.length===0||arguments.length===1&&Rq(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},_1e=function e(t,r){return t===1?r:jT(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==Tq}).length;return o>=t?r.apply(void 0,s):e(t-o,jT(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return Rq(f)?c.shift():f});return r.apply(void 0,v1e(d).concat(c))}))})},Fb=function(t){return _1e(t.length,t)},_1=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},S1e=Fb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),N1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return j1e;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},S1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Mq=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function k1e(e){var t;return e===0?t=1:t=Math.floor(new qt(e).abs().log(10).toNumber())+1,t}function C1e(e,t,r){for(var n=new qt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var E1e=Fb(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),P1e=Fb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),O1e=Fb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Ub={rangeStep:C1e,getDigitCount:k1e,interpolateNumber:E1e,uninterpolateNumber:P1e,uninterpolateTruncation:O1e};function N1(e){return R1e(e)||T1e(e)||$q(e)||A1e()}function A1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T1e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function R1e(e){if(Array.isArray(e))return k1(e)}function $m(e,t){return I1e(e)||$1e(e,t)||$q(e,t)||M1e()}function M1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $q(e,t){if(e){if(typeof e=="string")return k1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k1(e,t)}}function k1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $1e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function I1e(e){if(Array.isArray(e))return e}function Iq(e){var t=$m(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function Dq(e,t,r){if(e.lte(0))return new qt(0);var n=Ub.getDigitCount(e.toNumber()),s=new qt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new qt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new qt(Math.ceil(c))}function D1e(e,t,r){var n=1,s=new qt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new qt(10).pow(Ub.getDigitCount(e)-1),s=new qt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new qt(Math.floor(e)))}else e===0?s=new qt(Math.floor((t-1)/2)):r||(s=new qt(Math.floor(e)));var o=Math.floor((t-1)/2),l=N1e(S1e(function(c){return s.add(new qt(c-o).mul(n)).toNumber()}),_1);return l(0,t)}function Lq(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new qt(0),tickMin:new qt(0),tickMax:new qt(0)};var i=Dq(new qt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new qt(0):(o=new qt(e).add(t).div(2),o=o.sub(new qt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new qt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?Lq(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new qt(l).mul(i)),tickMax:o.add(new qt(c).mul(i))})}function L1e(e){var t=$m(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=Iq([r,n]),c=$m(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(N1(_1(0,s-1).map(function(){return 1/0}))):[].concat(N1(_1(0,s-1).map(function(){return-1/0})),[d]);return r>n?S1(f):f}if(u===d)return D1e(u,s,i);var h=Lq(u,d,o,i),m=h.step,g=h.tickMin,p=h.tickMax,x=Ub.rangeStep(g,p.add(new qt(.1).mul(m)),m);return r>n?S1(x):x}function F1e(e,t){var r=$m(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Iq([n,s]),l=$m(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=Dq(new qt(u).sub(c).div(d-1),i,0),h=[].concat(N1(Ub.rangeStep(new qt(c),new qt(u).sub(new qt(.99).mul(f)),f)),[u]);return n>s?S1(h):h}var U1e=Mq(L1e),q1e=Mq(F1e),B1e="Invariant failed";function $c(e,t){throw new Error(B1e)}var z1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(this,arguments)}function W1e(e,t){return G1e(e)||H1e(e,t)||K1e(e,t)||V1e()}function V1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K1e(e,t){if(e){if(typeof e=="string")return _T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _T(e,t)}}function _T(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function G1e(e){if(Array.isArray(e))return e}function Y1e(e,t){if(e==null)return{};var r=Q1e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Q1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function X1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qq(n.key),n)}}function Z1e(e,t,r){return t&&J1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eSe(e,t,r){return t=Ly(t),tSe(e,Fq()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function tSe(e,t){if(t&&(Fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rSe(e)}function rSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fq=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(e)}function nSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C1(e,t)}function C1(e,t){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},C1(e,t)}function Uq(e,t,r){return t=qq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qq(e){var t=sSe(e,"string");return Fd(t)=="symbol"?t:t+""}function sSe(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qb=function(e){function t(){return X1e(this,t),eSe(this,t,arguments)}return nSe(t,e),Z1e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Y1e(n,z1e),m=pt(h,!1);this.props.direction==="x"&&d.type!=="number"&&$c();var g=c.map(function(p){var x=u(p,l),b=x.x,y=x.y,w=x.value,_=x.errorVal;if(!_)return null;var j=[],S,N;if(Array.isArray(_)){var k=W1e(_,2);S=k[0],N=k[1]}else S=N=_;if(i==="vertical"){var C=d.scale,O=y+s,L=O+o,E=O-o,F=C(w-S),$=C(w+N);j.push({x1:$,y1:L,x2:$,y2:E}),j.push({x1:F,y1:O,x2:$,y2:O}),j.push({x1:F,y1:L,x2:F,y2:E})}else if(i==="horizontal"){var K=f.scale,T=b+s,V=T-o,R=T+o,I=K(w-S),D=K(w+N);j.push({x1:V,y1:D,x2:R,y2:D}),j.push({x1:T,y1:I,x2:T,y2:D}),j.push({x1:V,y1:I,x2:R,y2:I})}return M.createElement(hr,Dy({className:"recharts-errorBar",key:"bar-".concat(j.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},m),j.map(function(te){return M.createElement("line",Dy({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return M.createElement(hr,{className:"recharts-errorBars"},g)}}])}(M.Component);Uq(qb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Uq(qb,"displayName","ErrorBar");function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){aSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aSe(e,t,r){return t=iSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iSe(e){var t=oSe(e,"string");return Im(t)=="symbol"?t:t+""}function oSe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bq=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=os(r,Yu);if(!o)return null;var l=Yu.defaultProps,c=l!==void 0?Pl(Pl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Pl(Pl({},h),f.props):{},g=m.dataKey,p=m.name,x=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||x||"square",color:fC(f),value:p||g,payload:m}}),Pl(Pl(Pl({},c),Yu.getWithHeight(o,s)),{},{payload:u,item:o})};function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function NT(e){return dSe(e)||uSe(e)||cSe(e)||lSe()}function lSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cSe(e,t){if(e){if(typeof e=="string")return E1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E1(e,t)}}function uSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dSe(e){if(Array.isArray(e))return E1(e)}function E1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){Xu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xu(e,t,r){return t=fSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fSe(e){var t=hSe(e,"string");return Dm(t)=="symbol"?t:t+""}function hSe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bs(e,t,r){return xt(e)||xt(t)?r:Gr(t)?Bs(e,t,r):ut(t)?t(e):r}function Lh(e,t,r,n){var s=u1e(e,function(l){return bs(l,t)});if(r==="number"){var i=s.filter(function(l){return _e(l)||parseFloat(l)});return i.length?[Lb(i),Ho(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!xt(l)}):s;return o.map(function(l){return Gr(l)||l instanceof Date?l:""})}var mSe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(ba(f-d)!==ba(h-f)){var g=[];if(ba(h-f)===ba(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var x=h+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(t>(y+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},fC=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?wr(wr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},pSe=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,x=g.cateAxisId,b=p.filter(function(N){return Di(N.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?wr(wr({},y),b[0].props):b[0].props,_=w.barSize,j=w[x];o[j]||(o[j]=[]);var S=xt(_)?r:_;o[j].push({item:b[0],stackList:b.slice(1),barSize:xt(S)?void 0:Rc(S,n,0)})}}return o},gSe=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Rc(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,g=o.reduce(function(_,j){return _+j.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&m>0&&(h=!0,m*=.9,g=c*m);var p=(s-g)/2>>0,x={offset:p-u,size:0};d=o.reduce(function(_,j){var S={item:j.item,position:{offset:x.offset+x.size+u,size:h?m:j.barSize}},N=[].concat(NT(_),[S]);return x=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:x})}),N},f)}else{var b=Rc(n,s,0,!0);s-2*b-(c-1)*u<=0&&(u=0);var y=(s-2*b-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=o.reduce(function(_,j,S){var N=[].concat(NT(_),[{item:j.item,position:{offset:b+(y+u)*S+(y-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},vSe=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Bq({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&_e(t[m]))return wr(wr({},t),{},Xu({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&_e(t[g]))return wr(wr({},t),{},Xu({},g,t[g]+(h||0)))}return t},ySe=function(t,r,n){return xt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},zq=function(t,r,n,s,i){var o=r.props.children,l=Ca(o,qb).filter(function(u){return ySe(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=bs(d,n);if(xt(f))return u;var h=Array.isArray(f)?[Lb(f),Ho(f)]:[f,f],m=c.reduce(function(g,p){var x=bs(d,p,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},xSe=function(t,r,n,s,i){var o=r.map(function(l){return zq(t,l,n,i,s)}).filter(function(l){return!xt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Wq=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&zq(t,c,u,s)||Lh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Vq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Kq=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Ti=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ba(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Nf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},O0=new WeakMap,Mg=function(t,r){if(typeof r!="function")return t;O0.has(t)||O0.set(t,new WeakMap);var n=O0.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},bSe=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Em(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Ty(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Dh(),realScaleType:"point"}:i==="category"?{scale:Em(),realScaleType:"band"}:{scale:Ty(),realScaleType:"linear"};if(Tc(s)){var c="scale".concat(Nb(s));return{scale:(xT[c]||Dh)(),realScaleType:xT[c]?c:"point"}}return ut(s)?{scale:s}:{scale:Dh(),realScaleType:"point"}},CT=1e-4,wSe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-CT,o=Math.max(s[0],s[1])+CT,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},jSe=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},_Se=function(t,r){if(!r||r.length!==2||!_e(r[0])||!_e(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!_e(t[0])||t[0]<n)&&(i[0]=n),(!_e(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},SSe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Nf(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},NSe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Nf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},kSe={sign:SSe,expand:qfe,none:Ad,silhouette:Bfe,wiggle:zfe,positive:NSe},CSe=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=kSe[n],o=Ufe().keys(s).value(function(l,c){return+bs(l,c,0)}).order(J_).offset(i);return o(t)},ESe=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?wr(wr({},h.type.defaultProps),h.props):h.props,p=g.stackId,x=g.hide;if(x)return f;var b=g[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(Gr(p)){var w=y.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[Ap("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return wr(wr({},f),{},Xu({},b,y))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,x){var b=m.stackGroups[x];return wr(wr({},p),{},Xu({},x,{numericAxisId:n,cateAxisId:s,items:b.items,stackedData:CSe(t,b.items,i)}))},g)}return wr(wr({},f),{},Xu({},h,m))},d)},PSe=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=U1e(u,i,l);return t.domain([Lb(d),Ho(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=q1e(f,i,l);return{niceTicks:h}}return null};function ET(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xt(s[t.dataKey])){var l=ly(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=bs(s,xt(o)?t.dataKey:o);return xt(c)?null:t.scale(c)}var PT=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=bs(o,r.dataKey,r.domain[l]);return xt(c)?null:r.scale(c)-i/2+s},OSe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},ASe=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?wr(wr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Gr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},TSe=function(t){return t.reduce(function(r,n){return[Lb(n.concat([r[0]]).filter(_e)),Ho(n.concat([r[1]]).filter(_e))]},[1/0,-1/0])},Hq=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=TSe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},OT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,P1=function(t,r,n){if(ut(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(_e(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(OT.test(t[0])){var i=+OT.exec(t[0])[1];s[0]=r[0]-i}else ut(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(_e(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(AT.test(t[1])){var o=+AT.exec(t[1])[1];s[1]=r[1]+o}else ut(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Fy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=Uk(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},TT=function(t,r,n){return!t||!t.length||Rm(t,Bs(n,"type.defaultProps.domain"))?r:t},Gq=function(t,r){var n=t.type.defaultProps?wr(wr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return wr(wr({},pt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:fC(t),value:bs(r,s),type:c,payload:r,chartType:u,hide:d})};function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function MT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){RSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RSe(e,t,r){return t=MSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MSe(e){var t=$Se(e,"string");return Lm(t)=="symbol"?t:t+""}function $Se(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uy=Math.PI/180,ISe=function(t){return t*180/Math.PI},dn=function(t,r,n,s){return{x:t+Math.cos(-Uy*s)*n,y:r+Math.sin(-Uy*s)*n}},DSe=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},LSe=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=DSe({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:ISe(u),angleInRadian:u}},FSe=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},USe=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},$T=function(t,r){var n=t.x,s=t.y,i=LSe({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=FSe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?MT(MT({},r),{},{radius:o,angle:USe(m,r)}):null};function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}var qSe=["offset"];function BSe(e){return KSe(e)||VSe(e)||WSe(e)||zSe()}function zSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WSe(e,t){if(e){if(typeof e=="string")return O1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(e,t)}}function VSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KSe(e){if(Array.isArray(e))return O1(e)}function O1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HSe(e,t){if(e==null)return{};var r=GSe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){YSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YSe(e,t,r){return t=QSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QSe(e){var t=XSe(e,"string");return Fm(t)=="symbol"?t:t+""}function XSe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Um.apply(this,arguments)}var JSe=function(t){var r=t.value,n=t.formatter,s=xt(t.children)?r:t.children;return ut(n)?n(s):s},ZSe=function(t,r){var n=ba(r-t),s=Math.min(Math.abs(r-t),360);return n*s},eNe=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,x=(f+h)/2,b=ZSe(m,g),y=b>=0?1:-1,w,_;s==="insideStart"?(w=m+y*o,_=p):s==="insideEnd"?(w=g-y*o,_=!p):s==="end"&&(w=g+y*o,_=p),_=b<=0?_:!_;var j=dn(u,d,x,w),S=dn(u,d,x,w+(_?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),k=xt(t.id)?Ap("recharts-radial-line-"):t.id;return M.createElement("text",Um({},n,{dominantBaseline:"central",className:St("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:k,d:N})),M.createElement("textPath",{xlinkHref:"#".concat(k)},r))},tNe=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var m=dn(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=dn(o,l,x,h),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},rNe=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,x=p*s,b=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return Fr(Fr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Fr(Fr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Fr(Fr({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Fr(Fr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?Fr({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):i==="insideRight"?Fr({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideTop"?Fr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?Fr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):i==="insideTopLeft"?Fr({x:l+x,y:c+h,textAnchor:y,verticalAnchor:g},N):i==="insideTopRight"?Fr({x:l+u-x,y:c+h,textAnchor:b,verticalAnchor:g},N):i==="insideBottomLeft"?Fr({x:l+x,y:c+d-h,textAnchor:y,verticalAnchor:m},N):i==="insideBottomRight"?Fr({x:l+u-x,y:c+d-h,textAnchor:b,verticalAnchor:m},N):wf(i)&&(_e(i.x)||Gl(i.x))&&(_e(i.y)||Gl(i.y))?Fr({x:l+Rc(i.x,u),y:c+Rc(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):Fr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},nNe=function(t){return"cx"in t&&_e(t.cx)};function jn(e){var t=e.offset,r=t===void 0?5:t,n=HSe(e,qSe),s=Fr({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||xt(l)&&xt(c)&&!v.isValidElement(u)&&!ut(u))return null;if(v.isValidElement(u))return v.cloneElement(u,s);var m;if(ut(u)){if(m=v.createElement(u,s),v.isValidElement(m))return m}else m=JSe(s);var g=nNe(i),p=pt(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return eNe(s,m,p);var x=g?tNe(s):rNe(s);return M.createElement(Sy,Um({className:St("recharts-label",f)},p,x,{breakAll:h}),m)}jn.displayName="Label";var Yq=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,x=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(_e(p)&&_e(x)){if(_e(f)&&_e(h))return{x:f,y:h,width:p,height:x};if(_e(m)&&_e(g))return{x:m,y:g,width:p,height:x}}return _e(f)&&_e(h)?{x:f,y:h,width:0,height:0}:_e(r)&&_e(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},sNe=function(t,r){return t?t===!0?M.createElement(jn,{key:"label-implicit",viewBox:r}):Gr(t)?M.createElement(jn,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===jn?v.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(jn,{key:"label-implicit",content:t,viewBox:r}):ut(t)?M.createElement(jn,{key:"label-implicit",content:t,viewBox:r}):wf(t)?M.createElement(jn,Um({viewBox:r},t,{key:"label-implicit"})):null:null},aNe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=Yq(t),o=Ca(s,jn).map(function(c,u){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=sNe(t.label,r||i);return[l].concat(BSe(o))};jn.parseViewBox=Yq;jn.renderCallByParent=aNe;function iNe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var oNe=iNe;const lNe=zt(oNe);function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}var cNe=["valueAccessor"],uNe=["data","dataKey","clockWise","id","textBreakAll"];function dNe(e){return pNe(e)||mNe(e)||hNe(e)||fNe()}function fNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hNe(e,t){if(e){if(typeof e=="string")return A1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A1(e,t)}}function mNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pNe(e){if(Array.isArray(e))return A1(e)}function A1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(this,arguments)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function LT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){gNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gNe(e,t,r){return t=vNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vNe(e){var t=yNe(e,"string");return qm(t)=="symbol"?t:t+""}function yNe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FT(e,t){if(e==null)return{};var r=xNe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bNe=function(t){return Array.isArray(t.value)?lNe(t.value):t.value};function ol(e){var t=e.valueAccessor,r=t===void 0?bNe:t,n=FT(e,cNe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=FT(n,uNe);return!s||!s.length?null:M.createElement(hr,{className:"recharts-label-list"},s.map(function(d,f){var h=xt(i)?r(d,f):bs(d&&d.payload,i),m=xt(l)?{}:{id:"".concat(l,"-").concat(f)};return M.createElement(jn,qy({},pt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:jn.parseViewBox(xt(o)?d:LT(LT({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ol.displayName="LabelList";function wNe(e,t){return e?e===!0?M.createElement(ol,{key:"labelList-implicit",data:t}):M.isValidElement(e)||ut(e)?M.createElement(ol,{key:"labelList-implicit",data:t,content:e}):wf(e)?M.createElement(ol,qy({data:t},e,{key:"labelList-implicit"})):null:null}function jNe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Ca(n,ol).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=wNe(e.label,t);return[i].concat(dNe(s))}ol.renderCallByParent=jNe;function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T1.apply(this,arguments)}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){_Ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ne(e,t,r){return t=SNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SNe(e){var t=NNe(e,"string");return Bm(t)=="symbol"?t:t+""}function NNe(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kNe=function(t,r){var n=ba(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},$g=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Uy,h=u?i:i+o*f,m=dn(r,n,d,h),g=dn(r,n,s,h),p=u?i-o*f:i,x=dn(r,n,d*Math.cos(f*Uy),p);return{center:m,circleTangency:g,lineTangency:x,theta:f}},Qq=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=kNe(o,l),u=o+c,d=dn(r,n,i,o),f=dn(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=dn(r,n,s,o),g=dn(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},CNe=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ba(d-u),h=$g({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,x=$g({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,y=x.lineTangency,w=x.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Qq({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(s>0){var S=$g({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,k=S.lineTangency,C=S.theta,O=$g({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=O.circleTangency,E=O.lineTangency,F=O.theta,$=c?Math.abs(u-d):Math.abs(u-d)-C-F;if($<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,").concat(+($>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},ENe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Xq=function(t){var r=qT(qT({},ENe),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=St("recharts-sector",h),g=o-i,p=Rc(l,g,0,!0),x;return p>0&&Math.abs(d-f)<360?x=CNe({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=Qq({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),M.createElement("path",T1({},pt(r,!0),{className:m,d:x,role:"img"}))};function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R1.apply(this,arguments)}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){PNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PNe(e,t,r){return t=ONe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ONe(e){var t=ANe(e,"string");return zm(t)=="symbol"?t:t+""}function ANe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WT={curveBasisClosed:Pfe,curveBasisOpen:Ofe,curveBasis:Efe,curveBumpX:mfe,curveBumpY:pfe,curveLinearClosed:Afe,curveLinear:Cb,curveMonotoneX:Tfe,curveMonotoneY:Rfe,curveNatural:Mfe,curveStep:$fe,curveStepAfter:Dfe,curveStepBefore:Ife},Ig=function(t){return t.x===+t.x&&t.y===+t.y},sh=function(t){return t.x},ah=function(t){return t.y},TNe=function(t,r){if(ut(t))return t;var n="curve".concat(Nb(t));return(n==="curveMonotone"||n==="curveBump")&&r?WT["".concat(n).concat(r==="vertical"?"Y":"X")]:WT[n]||Cb},RNe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=TNe(n,l),f=u?i.filter(function(p){return Ig(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return Ig(p)}):o,g=f.map(function(p,x){return zT(zT({},p),{},{base:m[x]})});return l==="vertical"?h=kg().y(ah).x1(sh).x0(function(p){return p.base.x}):h=kg().x(sh).y1(ah).y0(function(p){return p.base.y}),h.defined(Ig).curve(d),h(g)}return l==="vertical"&&_e(o)?h=kg().y(ah).x1(sh).x0(o):_e(o)?h=kg().x(sh).y1(ah).y0(o):h=J5().x(sh).y(ah),h.defined(Ig).curve(d),h(f)},Fh=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?RNe(t):s;return v.createElement("path",R1({},pt(t,!1),cy(t),{className:St("recharts-curve",r),d:o,ref:i}))},Jq={exports:{}},MNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$Ne=MNe,INe=$Ne;function Zq(){}function eB(){}eB.resetWarningCache=Zq;var DNe=function(){function e(n,s,i,o,l,c){if(c!==INe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eB,resetWarningCache:Zq};return r.PropTypes=r,r};Jq.exports=DNe();var LNe=Jq.exports;const Tt=zt(LNe),{getOwnPropertyNames:FNe,getOwnPropertySymbols:UNe}=Object,{hasOwnProperty:qNe}=Object.prototype;function A0(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Dg(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function BNe(e){return e!=null?e[Symbol.toStringTag]:void 0}function VT(e){return FNe(e).concat(UNe(e))}const zNe=Object.hasOwn||((e,t)=>qNe.call(e,t));function Hc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const WNe="__v",VNe="__o",KNe="_owner",{getOwnPropertyDescriptor:KT,keys:HT}=Object;function HNe(e,t){return e.byteLength===t.byteLength&&By(new Uint8Array(e),new Uint8Array(t))}function GNe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function YNe(e,t){return e.byteLength===t.byteLength&&By(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function QNe(e,t){return Hc(e.getTime(),t.getTime())}function XNe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function JNe(e,t){return e===t}function GT(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const ZNe=Hc;function eke(e,t,r){const n=HT(e);let s=n.length;if(HT(t).length!==s)return!1;for(;s-- >0;)if(!tB(e,t,r,n[s]))return!1;return!0}function ih(e,t,r){const n=VT(e);let s=n.length;if(VT(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!tB(e,t,r,i)||(o=KT(e,i),l=KT(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function tke(e,t){return Hc(e.valueOf(),t.valueOf())}function rke(e,t){return e.source===t.source&&e.flags===t.flags}function YT(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function By(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function nke(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function tB(e,t,r,n){return(n===KNe||n===VNe||n===WNe)&&(e.$$typeof||t.$$typeof)?!0:zNe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const ske="[object ArrayBuffer]",ake="[object Arguments]",ike="[object Boolean]",oke="[object DataView]",lke="[object Date]",cke="[object Error]",uke="[object Map]",dke="[object Number]",fke="[object Object]",hke="[object RegExp]",mke="[object Set]",pke="[object String]",gke={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},vke="[object URL]",yke=Object.prototype.toString;function xke({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(x,b,y){if(x===b)return!0;if(x==null||b==null)return!1;const w=typeof x;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(x,b,y):w==="function"?i(x,b,y):!1;const _=x.constructor;if(_!==b.constructor)return!1;if(_===Object)return c(x,b,y);if(Array.isArray(x))return t(x,b,y);if(_===Date)return n(x,b,y);if(_===RegExp)return d(x,b,y);if(_===Map)return o(x,b,y);if(_===Set)return f(x,b,y);const j=yke.call(x);if(j===lke)return n(x,b,y);if(j===hke)return d(x,b,y);if(j===uke)return o(x,b,y);if(j===mke)return f(x,b,y);if(j===fke)return typeof x.then!="function"&&typeof b.then!="function"&&c(x,b,y);if(j===vke)return m(x,b,y);if(j===cke)return s(x,b,y);if(j===ake)return c(x,b,y);if(gke[j])return h(x,b,y);if(j===ske)return e(x,b,y);if(j===oke)return r(x,b,y);if(j===ike||j===dke||j===pke)return u(x,b,y);if(g){let S=g[j];if(!S){const N=BNe(x);N&&(S=g[N])}if(S)return S(x,b,y)}return!1}}function bke({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:HNe,areArraysEqual:r?ih:GNe,areDataViewsEqual:YNe,areDatesEqual:QNe,areErrorsEqual:XNe,areFunctionsEqual:JNe,areMapsEqual:r?A0(GT,ih):GT,areNumbersEqual:ZNe,areObjectsEqual:r?ih:eke,arePrimitiveWrappersEqual:tke,areRegExpsEqual:rke,areSetsEqual:r?A0(YT,ih):YT,areTypedArraysEqual:r?A0(By,ih):By,areUrlsEqual:nke,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=Dg(n.areArraysEqual),i=Dg(n.areMapsEqual),o=Dg(n.areObjectsEqual),l=Dg(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function wke(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function jke({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const _ke=Nl();Nl({strict:!0});Nl({circular:!0});Nl({circular:!0,strict:!0});Nl({createInternalComparator:()=>Hc});Nl({strict:!0,createInternalComparator:()=>Hc});Nl({circular:!0,createInternalComparator:()=>Hc});Nl({circular:!0,createInternalComparator:()=>Hc,strict:!0});function Nl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=bke(e),o=xke(i),l=r?r(o):wke(o);return jke({circular:t,comparator:o,createState:n,equals:l,strict:s})}function Ske(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function QT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Ske(s)};requestAnimationFrame(n)}function M1(e){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}function Nke(e){return Pke(e)||Eke(e)||Cke(e)||kke()}function kke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cke(e,t){if(e){if(typeof e=="string")return XT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XT(e,t)}}function XT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pke(e){if(Array.isArray(e))return e}function Oke(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Nke(o),c=l[0],u=l.slice(1);if(typeof c=="number"){QT(s.bind(null,u),c);return}s(c),QT(s.bind(null,u));return}M1(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){rB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rB(e,t,r){return t=Ake(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ake(e){var t=Tke(e,"string");return Wm(t)==="symbol"?t:String(t)}function Tke(e,t){if(Wm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rke=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},Mke=function(t){return t},$ke=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Uh=function(t,r){return Object.keys(r).reduce(function(n,s){return ZT(ZT({},n),{},rB({},s,t(s,r[s])))},{})},eR=function(t,r,n){return t.map(function(s){return"".concat($ke(s)," ").concat(r,"ms ").concat(n)}).join(",")};function Ike(e,t){return Fke(e)||Lke(e,t)||nB(e,t)||Dke()}function Dke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Fke(e){if(Array.isArray(e))return e}function Uke(e){return zke(e)||Bke(e)||nB(e)||qke()}function qke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nB(e,t){if(e){if(typeof e=="string")return $1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $1(e,t)}}function Bke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zke(e){if(Array.isArray(e))return $1(e)}function $1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zy=1e-4,sB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},aB=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},tR=function(t,r){return function(n){var s=sB(t,r);return aB(s,n)}},Wke=function(t,r){return function(n){var s=sB(t,r),i=[].concat(Uke(s.map(function(o,l){return o*l}).slice(1)),[0]);return aB(i,n)}},rR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Ike(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=tR(s,o),h=tR(i,l),m=Wke(s,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var y=b>1?1:b,w=y,_=0;_<8;++_){var j=f(w)-y,S=m(w);if(Math.abs(j-y)<zy||S<zy)return h(w);w=g(w-j/S)}return h(w)};return p.isStepper=!1,p},Vke=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*i,p=h+(m-g)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<zy&&Math.abs(p)<zy?[f,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},Kke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rR(s);case"spring":return Vke();default:if(s.split("(")[0]==="cubic-bezier")return rR(s)}return typeof s=="function"?s:null};function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function nR(e){return Yke(e)||Gke(e)||iB(e)||Hke()}function Hke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yke(e){if(Array.isArray(e))return D1(e)}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(n){I1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I1(e,t,r){return t=Qke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qke(e){var t=Xke(e,"string");return Vm(t)==="symbol"?t:String(t)}function Xke(e,t){if(Vm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jke(e,t){return tCe(e)||eCe(e,t)||iB(e,t)||Zke()}function Zke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iB(e,t){if(e){if(typeof e=="string")return D1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D1(e,t)}}function D1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tCe(e){if(Array.isArray(e))return e}var Wy=function(t,r,n){return t+(r-t)*n},L1=function(t){var r=t.from,n=t.to;return r!==n},rCe=function e(t,r,n){var s=Uh(function(i,o){if(L1(o)){var l=t(o.from,o.to,o.velocity),c=Jke(l,2),u=c[0],d=c[1];return on(on({},o),{},{from:u,velocity:d})}return o},r);return n<1?Uh(function(i,o){return L1(o)?on(on({},o),{},{velocity:Wy(o.velocity,s[i].velocity,n),from:Wy(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const nCe=function(e,t,r,n,s){var i=Rke(e,t),o=i.reduce(function(x,b){return on(on({},x),{},I1({},b,[e[b],t[b]]))},{}),l=i.reduce(function(x,b){return on(on({},x),{},I1({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Uh(function(b,y){return y.from},l)},m=function(){return!Object.values(l).filter(L1).length},g=function(b){u||(u=b);var y=b-u,w=y/r.dt;l=rCe(r,l,w),s(on(on(on({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var y=(b-d)/n,w=Uh(function(j,S){return Wy.apply(void 0,nR(S).concat([r(y)]))},o);if(s(on(on(on({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var _=Uh(function(j,S){return Wy.apply(void 0,nR(S).concat([r(1)]))},o);s(on(on(on({},e),t),_))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}var sCe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aCe(e,t){if(e==null)return{};var r=iCe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iCe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function T0(e){return uCe(e)||cCe(e)||lCe(e)||oCe()}function oCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lCe(e,t){if(e){if(typeof e=="string")return F1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F1(e,t)}}function cCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uCe(e){if(Array.isArray(e))return F1(e)}function F1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wh(e,t,r){return t=oB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oB(n.key),n)}}function hCe(e,t,r){return t&&fCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oB(e){var t=mCe(e,"string");return Ud(t)==="symbol"?t:String(t)}function mCe(e,t){if(Ud(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U1(e,t)}function U1(e,t){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},U1(e,t)}function gCe(e){var t=vCe();return function(){var n=Vy(e),s;if(t){var i=Vy(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return q1(this,s)}}function q1(e,t){if(t&&(Ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B1(e)}function B1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vy(e){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(e)}var Ji=function(e){pCe(r,e);var t=gCe(r);function r(n,s){var i;dCe(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(B1(i)),i.changeStyle=i.changeStyle.bind(B1(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),q1(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},q1(i);i.state={style:c?wh({},c,u):u}}else i.state={style:{}};return i}return hCe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?wh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(_ke(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:s.to;if(this.state&&h){var x={style:c?wh({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(x)}this.runAnimation(ia(ia({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=nCe(o,l,Kke(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,x,b){if(b===0)return p;var y=x.duration,w=x.easing,_=w===void 0?"ease":w,j=x.style,S=x.properties,N=x.onAnimationEnd,k=b>0?o[b-1]:x,C=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(T0(p),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:y,easing:_}),y]);var O=eR(C,y,_),L=ia(ia(ia({},k.style),j),{},{transition:O});return[].concat(T0(p),[L,y,N]).filter(Mke)};return this.manager.start([c].concat(T0(o.reduce(m,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=Oke());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?wh({},l,c):c,x=eR(Object.keys(p),o,u);g.start([d,i,ia(ia({},p),{},{transition:x}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=aCe(s,sCe),u=v.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var g=m.props,p=g.style,x=p===void 0?{}:p,b=g.className,y=v.cloneElement(m,ia(ia({},c),{},{style:ia(ia({},x),d),className:b}));return y};return u===1?f(v.Children.only(i)):M.createElement("div",null,v.Children.map(i,function(h){return f(h)}))}}]),r}(v.PureComponent);Ji.displayName="Animate";Ji.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ji.propTypes={from:Tt.oneOfType([Tt.object,Tt.string]),to:Tt.oneOfType([Tt.object,Tt.string]),attributeName:Tt.string,duration:Tt.number,begin:Tt.number,easing:Tt.oneOfType([Tt.string,Tt.func]),steps:Tt.arrayOf(Tt.shape({duration:Tt.number.isRequired,style:Tt.object.isRequired,easing:Tt.oneOfType([Tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Tt.func]),properties:Tt.arrayOf("string"),onAnimationEnd:Tt.func})),children:Tt.oneOfType([Tt.node,Tt.func]),isActive:Tt.bool,canBegin:Tt.bool,onAnimationEnd:Tt.func,shouldReAnimate:Tt.bool,onAnimationStart:Tt.func,onAnimationReStart:Tt.func};function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(this,arguments)}function yCe(e,t){return jCe(e)||wCe(e,t)||bCe(e,t)||xCe()}function xCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bCe(e,t){if(e){if(typeof e=="string")return iR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iR(e,t)}}function iR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function jCe(e){if(Array.isArray(e))return e}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){_Ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ce(e,t,r){return t=SCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SCe(e){var t=NCe(e,"string");return Km(t)=="symbol"?t:t+""}function NCe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cR=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},kCe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},CCe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hC=function(t){var r=lR(lR({},CCe),t),n=v.useRef(),s=v.useState(-1),i=yCe(s,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=St("recharts-rectangle",m);return y?M.createElement(Ji,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(_){var j=_.width,S=_.height,N=_.x,k=_.y;return M.createElement(Ji,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:b,easing:g},M.createElement("path",Ky({},pt(r,!0),{className:w,d:cR(N,k,j,S,h),ref:n})))}):M.createElement("path",Ky({},pt(r,!0),{className:w,d:cR(c,u,d,f,h)}))};function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z1.apply(this,arguments)}var mC=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=St("recharts-dot",i);return r===+r&&n===+n&&s===+s?v.createElement("circle",z1({},pt(t,!1),cy(t),{className:o,cx:r,cy:n,r:s})):null};function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}var ECe=["x","y","top","left","width","height","className"];function W1(){return W1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W1.apply(this,arguments)}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function PCe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){OCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OCe(e,t,r){return t=ACe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ACe(e){var t=TCe(e,"string");return Hm(t)=="symbol"?t:t+""}function TCe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RCe(e,t){if(e==null)return{};var r=MCe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $Ce=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},ICe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=RCe(t,ECe),x=PCe({x:n,y:i,top:l,left:u,width:f,height:m},p);return!_e(n)||!_e(i)||!_e(f)||!_e(m)||!_e(l)||!_e(u)?null:M.createElement("path",W1({},pt(x,!0),{className:St("recharts-cross",g),d:$Ce(n,i,f,m,l,u)}))},DCe=jU,LCe=DCe(Object.getPrototypeOf,Object),FCe=LCe,UCe=lo,qCe=FCe,BCe=co,zCe="[object Object]",WCe=Function.prototype,VCe=Object.prototype,lB=WCe.toString,KCe=VCe.hasOwnProperty,HCe=lB.call(Object);function GCe(e){if(!BCe(e)||UCe(e)!=zCe)return!1;var t=qCe(e);if(t===null)return!0;var r=KCe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&lB.call(r)==HCe}var YCe=GCe;const QCe=zt(YCe);var XCe=lo,JCe=co,ZCe="[object Boolean]";function e2e(e){return e===!0||e===!1||JCe(e)&&XCe(e)==ZCe}var t2e=e2e;const r2e=zt(t2e);function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(this,arguments)}function n2e(e,t){return o2e(e)||i2e(e,t)||a2e(e,t)||s2e()}function s2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a2e(e,t){if(e){if(typeof e=="string")return dR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dR(e,t)}}function dR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function o2e(e){if(Array.isArray(e))return e}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){l2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l2e(e,t,r){return t=c2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c2e(e){var t=u2e(e,"string");return Gm(t)=="symbol"?t:t+""}function u2e(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mR=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},d2e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f2e=function(t){var r=hR(hR({},d2e),t),n=v.useRef(),s=v.useState(-1),i=n2e(s,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=St("recharts-trapezoid",m);return b?M.createElement(Ji,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var _=w.upperWidth,j=w.lowerWidth,S=w.height,N=w.x,k=w.y;return M.createElement(Ji,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:g},M.createElement("path",Hy({},pt(r,!0),{className:y,d:mR(N,k,_,j,S),ref:n})))}):M.createElement("g",null,M.createElement("path",Hy({},pt(r,!0),{className:y,d:mR(c,u,d,f,h)})))},h2e=["option","shapeType","propTransformer","activeClassName","isActive"];function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function m2e(e,t){if(e==null)return{};var r=p2e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){g2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g2e(e,t,r){return t=v2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v2e(e){var t=y2e(e,"string");return Ym(t)=="symbol"?t:t+""}function y2e(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x2e(e,t){return Gy(Gy({},t),e)}function b2e(e,t){return e==="symbols"}function gR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(hC,r);case"trapezoid":return M.createElement(f2e,r);case"sector":return M.createElement(Xq,r);case"symbols":if(b2e(t))return M.createElement(Tk,r);break;default:return null}}function w2e(e){return v.isValidElement(e)?e.props:e}function j2e(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?x2e:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=m2e(e,h2e),u;if(v.isValidElement(t))u=v.cloneElement(t,Gy(Gy({},c),w2e(t)));else if(ut(t))u=t(c);else if(QCe(t)&&!r2e(t)){var d=s(t,c);u=M.createElement(gR,{shapeType:r,elementProps:d})}else{var f=c;u=M.createElement(gR,{shapeType:r,elementProps:f})}return l?M.createElement(hr,{className:o},u):u}function Bb(e,t){return t!=null&&"trapezoids"in e.props}function zb(e,t){return t!=null&&"sectors"in e.props}function Qm(e,t){return t!=null&&"points"in e.props}function _2e(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function S2e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function N2e(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function k2e(e,t){var r;return Bb(e,t)?r=_2e:zb(e,t)?r=S2e:Qm(e,t)&&(r=N2e),r}function C2e(e,t){var r;return Bb(e,t)?r="trapezoids":zb(e,t)?r="sectors":Qm(e,t)&&(r="points"),r}function E2e(e,t){if(Bb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(zb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Qm(e,t)?t.payload:{}}function P2e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=C2e(r,t),i=E2e(r,t),o=n.filter(function(c,u){var d=Rm(i,c),f=r.props[s].filter(function(g){var p=k2e(r,t);return p(g,t)}),h=r.props[s].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var O2e=Math.ceil,A2e=Math.max;function T2e(e,t,r,n){for(var s=-1,i=A2e(O2e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var R2e=T2e,M2e=qU,vR=1/0,$2e=17976931348623157e292;function I2e(e){if(!e)return e===0?e:0;if(e=M2e(e),e===vR||e===-vR){var t=e<0?-1:1;return t*$2e}return e===e?e:0}var cB=I2e,D2e=R2e,L2e=Ab,R0=cB;function F2e(e){return function(t,r,n){return n&&typeof n!="number"&&L2e(t,r,n)&&(r=n=void 0),t=R0(t),r===void 0?(r=t,t=0):r=R0(r),n=n===void 0?t<r?1:-1:R0(n),D2e(t,r,n,e)}}var U2e=F2e,q2e=U2e,B2e=q2e(),z2e=B2e;const Yy=zt(z2e);function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){uB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uB(e,t,r){return t=W2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W2e(e){var t=V2e(e,"string");return Xm(t)=="symbol"?t:t+""}function V2e(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K2e=["Webkit","Moz","O","ms"],H2e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=K2e.reduce(function(i,o){return xR(xR({},i),{},uB({},o+n,r))},{});return s[t]=r,s};function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(this,arguments)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function M0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){as(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fB(n.key),n)}}function Y2e(e,t,r){return t&&wR(e.prototype,t),r&&wR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q2e(e,t,r){return t=Xy(t),X2e(e,dB()?Reflect.construct(t,r||[],Xy(e).constructor):t.apply(e,r))}function X2e(e,t){if(t&&(qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J2e(e)}function J2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dB=function(){return!!e})()}function Xy(e){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(e)}function Z2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V1(e,t)}function V1(e,t){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},V1(e,t)}function as(e,t,r){return t=fB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fB(e){var t=eEe(e,"string");return qd(t)=="symbol"?t:t+""}function eEe(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tEe=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Dh().domain(Yy(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},jR=function(t){return t.changedTouches&&!!t.changedTouches.length},Bd=function(e){function t(r){var n;return G2e(this,t),n=Q2e(this,t,[r]),as(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),as(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),as(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),as(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),as(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),as(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),as(n,"handleSlideDragStart",function(s){var i=jR(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Z2e(t,e),Y2e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=bs(i[n],l,n);return ut(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==h||x.endIndex!==m)&&g&&g(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=jR(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),b[o]=u+y;var w=this.getIndex(b),_=w.startIndex,j=w.endIndex,S=function(){var k=x.length-1;return o==="startX"&&(l>c?_%p===0:j%p===0)||l<c&&j===k||o==="endX"&&(l>c?j%p===0:_%p===0)||l>c&&j===k};this.setState(as(as({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(as({},s,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?M.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),y=M0(M0({},pt(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return M.createElement(hr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return M.createElement(hr,{className:"recharts-brush-texts"},M.createElement(Sy,Qy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(s)),M.createElement(Sy,Qy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!s||!s.length||!_e(l)||!_e(c)||!_e(u)||!_e(d)||u<=0||d<=0)return null;var w=St("recharts-brush",i),_=M.Children.count(o)===1,j=H2e("userSelect","none");return M.createElement(hr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||x||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),M.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return M.isValidElement(n)?i=M.cloneElement(n,s):ut(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return M0({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?tEe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(v.PureComponent);as(Bd,"displayName","Brush");as(Bd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rEe=Fk;function nEe(e,t){var r;return rEe(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var sEe=nEe,aEe=mU,iEe=jl,oEe=sEe,lEe=ts,cEe=Ab;function uEe(e,t,r){var n=lEe(e)?aEe:oEe;return r&&cEe(e,t,r)&&(t=void 0),n(e,iEe(t))}var dEe=uEe;const fEe=zt(dEe);var si=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},_R=IU;function hEe(e,t,r){t=="__proto__"&&_R?_R(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var mEe=hEe,pEe=mEe,gEe=MU,vEe=jl;function yEe(e,t){var r={};return t=vEe(t),gEe(e,function(n,s,i){pEe(r,s,t(n,s,i))}),r}var xEe=yEe;const bEe=zt(xEe);function wEe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var jEe=wEe,_Ee=Fk;function SEe(e,t){var r=!0;return _Ee(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var NEe=SEe,kEe=jEe,CEe=NEe,EEe=jl,PEe=ts,OEe=Ab;function AEe(e,t,r){var n=PEe(e)?kEe:CEe;return r&&OEe(e,t,r)&&(t=void 0),n(e,EEe(t))}var TEe=AEe;const hB=zt(TEe);var REe=["x","y"];function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K1.apply(this,arguments)}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){MEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MEe(e,t,r){return t=$Ee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Ee(e){var t=IEe(e,"string");return Jm(t)=="symbol"?t:t+""}function IEe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DEe(e,t){if(e==null)return{};var r=LEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FEe(e,t){var r=e.x,n=e.y,s=DEe(e,REe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return oh(oh(oh(oh(oh({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function NR(e){return M.createElement(j2e,K1({shapeType:"rectangle",propTransformer:FEe,activeClassName:"recharts-active-bar"},e))}var UEe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=_e(n)||Zue(n);return i?t(n,s):(i||$c(),r)}},qEe=["value","background"],mB;function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function BEe(e,t){if(e==null)return{};var r=zEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(this,arguments)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){Go(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gB(n.key),n)}}function VEe(e,t,r){return t&&CR(e.prototype,t),r&&CR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KEe(e,t,r){return t=Zy(t),HEe(e,pB()?Reflect.construct(t,r||[],Zy(e).constructor):t.apply(e,r))}function HEe(e,t){if(t&&(zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GEe(e)}function GEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pB=function(){return!!e})()}function Zy(e){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zy(e)}function YEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H1(e,t)}function H1(e,t){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},H1(e,t)}function Go(e,t,r){return t=gB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gB(e){var t=QEe(e,"string");return zd(t)=="symbol"?t:t+""}function QEe(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gc=function(e){function t(){var r;WEe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=KEe(this,t,[].concat(s)),Go(r,"state",{isAnimationFinished:!1}),Go(r,"id",Ap("recharts-bar-")),Go(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Go(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return YEe(t,e),VEe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=pt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=Or(Or(Or({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return M.createElement(hr,Jy({className:"recharts-bar-rectangle"},uy(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(NR,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return M.createElement(Ji,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(x,b){var y=h&&h[b];if(y){var w=Ts(y.x,x.x),_=Ts(y.y,x.y),j=Ts(y.width,x.width),S=Ts(y.height,x.height);return Or(Or({},x),{},{x:w(g),y:_(g),width:j(g),height:S(g)})}if(o==="horizontal"){var N=Ts(0,x.height),k=N(g);return Or(Or({},x),{},{y:x.y+x.height-k,height:k})}var C=Ts(0,x.width),O=C(g);return Or(Or({},x),{},{width:O})});return M.createElement(hr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Rm(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=pt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=BEe(u,qEe);if(!f)return null;var m=Or(Or(Or(Or(Or({},h),{},{fill:"#eee"},f),c),uy(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(NR,Jy({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ca(d,qb);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:bs(x,b)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return M.createElement(hr,g,f.map(function(p){return M.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=St("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=y||w,j=xt(p)?this.id:p;return M.createElement(hr,{className:b},y||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,M.createElement(hr,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||x)&&ol.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(v.PureComponent);mB=Gc;Go(Gc,"displayName","Bar");Go(Gc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Go(Gc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=jSe(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,x=p!==void 0?Or(Or({},p),r.props):r.props,b=x.dataKey,y=x.children,w=x.minPointSize,_=g==="horizontal"?o:i,j=u?_.scale.domain():null,S=OSe({numericAxis:_}),N=Ca(y,zU),k=f.map(function(C,O){var L,E,F,$,K,T;u?L=_Se(u[d+O],j):(L=bs(C,b),Array.isArray(L)||(L=[S,L]));var V=UEe(w,mB.defaultProps.minPointSize)(L[1],O);if(g==="horizontal"){var R,I=[o.scale(L[0]),o.scale(L[1])],D=I[0],te=I[1];E=PT({axis:i,ticks:l,bandSize:s,offset:m.offset,entry:C,index:O}),F=(R=te??D)!==null&&R!==void 0?R:void 0,$=m.size;var A=D-te;if(K=Number.isNaN(A)?0:A,T={x:E,y:o.y,width:$,height:o.height},Math.abs(V)>0&&Math.abs(K)<Math.abs(V)){var re=ba(K||V)*(Math.abs(V)-Math.abs(K));F-=re,K+=re}}else{var ye=[i.scale(L[0]),i.scale(L[1])],We=ye[0],Ke=ye[1];if(E=We,F=PT({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:C,index:O}),$=Ke-We,K=m.size,T={x:i.x,y:F,width:i.width,height:K},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var pe=ba($||V)*(Math.abs(V)-Math.abs($));$+=pe}}return Or(Or(Or({},C),{},{x:E,y:F,width:$,height:K,value:u?L:L[1],payload:C,background:T},N&&N[O]&&N[O].props),{},{tooltipPayload:[Gq(r,C)],tooltipPosition:{x:E+$/2,y:F+K/2}})});return Or({data:k,layout:g},h)});function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function XEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ER(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vB(n.key),n)}}function JEe(e,t,r){return t&&ER(e.prototype,t),r&&ER(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){Wb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wb(e,t,r){return t=vB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vB(e){var t=ZEe(e,"string");return Zm(t)=="symbol"?t:t+""}function ZEe(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yB=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!os(u,Gc);return d.reduce(function(m,g){var p=r[g],x=p.orientation,b=p.domain,y=p.padding,w=y===void 0?{}:y,_=p.mirror,j=p.reversed,S="".concat(x).concat(_?"Mirror":""),N,k,C,O,L;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var E=b[1]-b[0],F=1/0,$=p.categoricalDomain.sort(rde);if($.forEach(function(ye,We){We>0&&(F=Math.min((ye||0)-($[We-1]||0),F))}),Number.isFinite(F)){var K=F/E,T=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=K*T/2),p.padding==="no-gap"){var V=Rc(t.barCategoryGap,K*T),R=K*T/2;N=R-V-(R-V)/T*V}}}s==="xAxis"?k=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:k=p.range,j&&(k=[k[1],k[0]]);var I=bSe(p,i,h),D=I.scale,te=I.realScaleType;D.domain(b).range(k),wSe(D);var A=PSe(D,pa(pa({},p),{},{realScaleType:te}));s==="xAxis"?(L=x==="top"&&!_||x==="bottom"&&_,C=n.left,O=f[S]-L*p.height):s==="yAxis"&&(L=x==="left"&&!_||x==="right"&&_,C=f[S]-L*p.width,O=n.top);var re=pa(pa(pa({},p),A),{},{realScaleType:te,x:C,y:O,scale:D,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return re.bandSize=Fy(re,A),!p.hide&&s==="xAxis"?f[S]+=(L?-1:1)*re.height:p.hide||(f[S]+=(L?-1:1)*re.width),pa(pa({},m),{},Wb({},g,re))},{})},xB=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},ePe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return xB({x:r,y:n},{x:s,y:i})},bB=function(){function e(t){XEe(this,e),this.scale=t}return JEe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Wb(bB,"EPS",1e-4);var pC=function(t){var r=Object.keys(t).reduce(function(n,s){return pa(pa({},n),{},Wb({},s,bB.create(t[s])))},{});return pa(pa({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return bEe(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return hB(s,function(i,o){return r[o].isInRange(i)})}})};function tPe(e){return(e%180+180)%180}var rPe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=tPe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},nPe=jl,sPe=Tp,aPe=Pb;function iPe(e){return function(t,r,n){var s=Object(t);if(!sPe(t)){var i=nPe(r);t=aPe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var oPe=iPe,lPe=cB;function cPe(e){var t=lPe(e),r=t%1;return t===t?r?t-r:t:0}var uPe=cPe,dPe=EU,fPe=jl,hPe=uPe,mPe=Math.max;function pPe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:hPe(r);return s<0&&(s=mPe(n+s,0)),dPe(e,fPe(t),s)}var gPe=pPe,vPe=oPe,yPe=gPe,xPe=vPe(yPe),bPe=xPe;const wPe=zt(bPe);var jPe=aue(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),gC=v.createContext(void 0),vC=v.createContext(void 0),wB=v.createContext(void 0),jB=v.createContext({}),_B=v.createContext(void 0),SB=v.createContext(0),NB=v.createContext(0),OR=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=jPe(i);return M.createElement(gC.Provider,{value:n},M.createElement(vC.Provider,{value:s},M.createElement(jB.Provider,{value:i},M.createElement(wB.Provider,{value:d},M.createElement(_B.Provider,{value:o},M.createElement(SB.Provider,{value:u},M.createElement(NB.Provider,{value:c},l)))))))},_Pe=function(){return v.useContext(_B)},kB=function(t){var r=v.useContext(gC);r==null&&$c();var n=r[t];return n==null&&$c(),n},SPe=function(){var t=v.useContext(gC);return Mo(t)},NPe=function(){var t=v.useContext(vC),r=wPe(t,function(n){return hB(n.domain,Number.isFinite)});return r||Mo(t)},CB=function(t){var r=v.useContext(vC);r==null&&$c();var n=r[t];return n==null&&$c(),n},kPe=function(){var t=v.useContext(wB);return t},CPe=function(){return v.useContext(jB)},yC=function(){return v.useContext(NB)},xC=function(){return v.useContext(SB)};function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function EPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PB(n.key),n)}}function OPe(e,t,r){return t&&PPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function APe(e,t,r){return t=ex(t),TPe(e,EB()?Reflect.construct(t,r||[],ex(e).constructor):t.apply(e,r))}function TPe(e,t){if(t&&(Wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RPe(e)}function RPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EB=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(e)}function MPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G1(e,t)}function G1(e,t){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},G1(e,t)}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function TR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(n){bC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bC(e,t,r){return t=PB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PB(e){var t=$Pe(e,"string");return Wd(t)=="symbol"?t:t+""}function $Pe(e,t){if(Wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IPe(e,t){return UPe(e)||FPe(e,t)||LPe(e,t)||DPe()}function DPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LPe(e,t){if(e){if(typeof e=="string")return RR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RR(e,t)}}function RR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function UPe(e){if(Array.isArray(e))return e}function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y1.apply(this,arguments)}var qPe=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):ut(t)?n=t(r):n=M.createElement("line",Y1({},r,{className:"recharts-reference-line-line"})),n},BPe=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(si(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?x.reverse():x}if(r){var b=u.x,y=t.x.apply(b,{position:o});if(si(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+m},{x:y,y:f}];return l==="top"?w.reverse():w}if(s){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:o})});return si(u,"discard")&&fEe(j,function(S){return!t.isInRange(S)})?null:j}return null};function zPe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=_Pe(),d=kB(s),f=CB(i),h=kPe();if(!u||!h)return null;Li(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=pC({x:d.scale,y:f.scale}),g=Gr(t),p=Gr(r),x=n&&n.length===2,b=BPe(m,g,p,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=IPe(b,2),w=y[0],_=w.x,j=w.y,S=y[1],N=S.x,k=S.y,C=si(e,"hidden")?"url(#".concat(u,")"):void 0,O=TR(TR({clipPath:C},pt(e,!0)),{},{x1:_,y1:j,x2:N,y2:k});return M.createElement(hr,{className:St("recharts-reference-line",l)},qPe(o,O),jn.renderCallByParent(e,ePe({x1:_,y1:j,x2:N,y2:k})))}var wC=function(e){function t(){return EPe(this,t),APe(this,t,arguments)}return MPe(t,e),OPe(t,[{key:"render",value:function(){return M.createElement(zPe,this.props)}}])}(M.Component);bC(wC,"displayName","ReferenceLine");bC(wC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Q1(){return Q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q1.apply(this,arguments)}function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){Vb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AB(n.key),n)}}function KPe(e,t,r){return t&&VPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HPe(e,t,r){return t=tx(t),GPe(e,OB()?Reflect.construct(t,r||[],tx(e).constructor):t.apply(e,r))}function GPe(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YPe(e)}function YPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OB=function(){return!!e})()}function tx(e){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(e)}function QPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X1(e,t)}function X1(e,t){return X1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},X1(e,t)}function Vb(e,t,r){return t=AB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AB(e){var t=XPe(e,"string");return Vd(t)=="symbol"?t:t+""}function XPe(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JPe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=pC({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return si(t,"discard")&&!o.isInRange(l)?null:l},Kb=function(e){function t(){return WPe(this,t),HPe(this,t,arguments)}return QPe(t,e),KPe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Gr(s),d=Gr(i);if(Li(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=JPe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,x=g.className,b=si(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=$R($R({clipPath:b},pt(this.props,!0)),{},{cx:h,cy:m});return M.createElement(hr,{className:St("recharts-reference-dot",x)},t.renderDot(p,y),jn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(M.Component);Vb(Kb,"displayName","ReferenceDot");Vb(Kb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Vb(Kb,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):ut(e)?r=e(t):r=M.createElement(mC,Q1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function J1(){return J1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J1.apply(this,arguments)}function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function DR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){Hb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RB(n.key),n)}}function tOe(e,t,r){return t&&eOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rOe(e,t,r){return t=rx(t),nOe(e,TB()?Reflect.construct(t,r||[],rx(e).constructor):t.apply(e,r))}function nOe(e,t){if(t&&(Kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sOe(e)}function sOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!e})()}function rx(e){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(e)}function aOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z1(e,t)}function Z1(e,t){return Z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Z1(e,t)}function Hb(e,t,r){return t=RB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=iOe(e,"string");return Kd(t)=="symbol"?t:t+""}function iOe(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oOe=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=pC({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return si(i,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:xB(m,g)},Gb=function(e){function t(){return ZPe(this,t),rOe(this,t,arguments)}return aOe(t,e),tOe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Li(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Gr(s),h=Gr(i),m=Gr(o),g=Gr(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var x=oOe(f,h,m,g,this.props);if(!x&&!p)return null;var b=si(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(hr,{className:St("recharts-reference-area",c)},t.renderRect(p,DR(DR({clipPath:b},pt(this.props,!0)),x)),jn.renderCallByParent(this.props,x))}}])}(M.Component);Hb(Gb,"displayName","ReferenceArea");Hb(Gb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Hb(Gb,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):ut(e)?r=e(t):r=M.createElement(hC,J1({},t,{className:"recharts-reference-area-rect"})),r});function MB(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function lOe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return rPe(n,r)}function cOe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function nx(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function uOe(e,t){return MB(e,t+1)}function dOe(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:MB(n,u)};var p=c,x,b=function(){return x===void 0&&(x=r(g,p)),x},y=g.coordinate,w=c===0||nx(e,y,b,d,l);w||(c=0,d=o,u+=1),w&&(d=y+e*(b()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){fOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fOe(e,t,r){return t=hOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hOe(e){var t=mOe(e,"string");return ep(t)=="symbol"?t:t+""}function mOe(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pOe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var x=e*(m.coordinate+e*p()/2-c);i[h]=m=xn(xn({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[h]=m=xn(xn({},m),{},{tickCoord:m.coordinate});var b=nx(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+s),i[h]=xn(xn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function gOe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=xn(xn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=nx(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=xn(xn({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(y){var w=o[y],_,j=function(){return _===void 0&&(_=r(w,y)),_};if(y===0){var S=e*(w.coordinate-e*j()/2-c);o[y]=w=xn(xn({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[y]=w=xn(xn({},w),{},{tickCoord:w.coordinate});var N=nx(e,w.tickCoord,j,c,u);N&&(c=w.tickCoord+e*(j()/2+s),o[y]=xn(xn({},w),{},{isShow:!0}))},x=0;x<g;x++)p(x);return o}function jC(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(_e(c)||Pf.isSsr)return uOe(s,typeof c=="number"&&_e(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?Ih(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,_){var j=ut(u)?u(w.value,_):w.value;return m==="width"?lOe(Ih(j,{fontSize:t,letterSpacing:r}),g,f):Ih(j,{fontSize:t,letterSpacing:r})[m]},x=s.length>=2?ba(s[1].coordinate-s[0].coordinate):1,b=cOe(i,x,m);return c==="equidistantPreserveStart"?dOe(x,b,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=gOe(x,b,p,s,o,c==="preserveStartEnd"):h=pOe(x,b,p,s,o),h.filter(function(y){return y.isShow}))}var vOe=["viewBox"],yOe=["viewBox"],xOe=["ticks"];function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iu.apply(this,arguments)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){_C(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $0(e,t){if(e==null)return{};var r=bOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IB(n.key),n)}}function jOe(e,t,r){return t&&UR(e.prototype,t),r&&UR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Oe(e,t,r){return t=sx(t),SOe(e,$B()?Reflect.construct(t,r||[],sx(e).constructor):t.apply(e,r))}function SOe(e,t){if(t&&(Hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NOe(e)}function NOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($B=function(){return!!e})()}function sx(e){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sx(e)}function kOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eS(e,t)}function eS(e,t){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},eS(e,t)}function _C(e,t,r){return t=IB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=COe(e,"string");return Hd(t)=="symbol"?t:t+""}function COe(e,t){if(Hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rf=function(e){function t(r){var n;return wOe(this,t),n=_Oe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return kOe(t,e),jOe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=$0(n,vOe),l=this.props,c=l.viewBox,u=$0(l,yOe);return!Gu(i,c)||!Gu(o,u)||!Gu(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,m,g,p,x,b,y,w=f?-1:1,_=n.tickSize||d,j=_e(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,x=o+ +!f*c,p=x-w*_,y=p-w*h,b=j;break;case"left":p=x=n.coordinate,g=i+ +!f*l,m=g-w*_,b=m-w*h,y=j;break;case"right":p=x=n.coordinate,g=i+ +f*l,m=g+w*_,b=m+w*h,y=j;break;default:m=g=n.coordinate,x=o+ +f*c,p=x+w*_,y=p+w*h,b=j;break}return{line:{x1:m,y1:p,x2:g,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Dr(Dr(Dr({},pt(this.props,!1)),pt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Dr(Dr({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Dr(Dr({},f),{},{x1:s+m*o,y1:i,x2:s+m*o,y2:i+l})}return M.createElement("line",Iu({},f,{className:St("recharts-cartesian-axis-line",Bs(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=jC(Dr(Dr({},this.props),{},{ticks:n}),s,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=pt(this.props,!1),b=pt(d,!1),y=Dr(Dr({},x),{},{fill:"none"},pt(c,!1)),w=m.map(function(_,j){var S=o.getTickLineCoord(_),N=S.line,k=S.tick,C=Dr(Dr(Dr(Dr({textAnchor:g,verticalAnchor:p},x),{},{stroke:"none",fill:u},b),k),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return M.createElement(hr,Iu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},uy(o.props,_,j)),c&&M.createElement("line",Iu({},y,N,{className:St("recharts-cartesian-axis-tick-line",Bs(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(ut(f)?f(_.value,j):_.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,m=$0(f,xOe),g=h;return ut(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:M.createElement(hr,{className:St("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),jn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=St(s.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?o=M.cloneElement(n,Dr(Dr({},s),{},{className:l})):ut(n)?o=n(Dr(Dr({},s),{},{className:l})):o=M.createElement(Sy,Iu({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);_C(Rf,"displayName","CartesianAxis");_C(Rf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var EOe=["x1","y1","x2","y2","key"],POe=["offset"];function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){OOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OOe(e,t,r){return t=AOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AOe(e){var t=TOe(e,"string");return Ic(t)=="symbol"?t:t+""}function TOe(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(this,arguments)}function BR(e,t){if(e==null)return{};var r=ROe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ROe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var MOe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return M.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function DB(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(ut(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=BR(t,EOe),u=pt(c,!1);u.offset;var d=BR(u,POe);r=M.createElement("line",Xl({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function $Oe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=_n(_n({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return DB(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function IOe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=_n(_n({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return DB(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function DOe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+o-h:d[m+1]-h;if(p<=0)return null;var x=m%t.length;return M.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function LOe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?i+l-h:d[m+1]-h;if(p<=0)return null;var x=m%n.length;return M.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var FOe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return Kq(jC(_n(_n(_n({},Rf.defaultProps),n),{},{ticks:Ti(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},UOe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return Kq(jC(_n(_n(_n({},Rf.defaultProps),n),{},{ticks:Ti(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},mu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ax(e){var t,r,n,s,i,o,l=yC(),c=xC(),u=CPe(),d=_n(_n({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:mu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:mu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:mu.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:mu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:mu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:mu.verticalFill,x:_e(e.x)?e.x:u.left,y:_e(e.y)?e.y:u.top,width:_e(e.width)?e.width:u.width,height:_e(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,y=SPe(),w=NPe();if(!_e(m)||m<=0||!_e(g)||g<=0||!_e(f)||f!==+f||!_e(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||FOe,j=d.horizontalCoordinatesGenerator||UOe,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&ut(j)){var k=x&&x.length,C=j({yAxis:w?_n(_n({},w),{},{ticks:k?x:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);Li(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ic(C),"]")),Array.isArray(C)&&(S=C)}if((!N||!N.length)&&ut(_)){var O=b&&b.length,L=_({xAxis:y?_n(_n({},y),{},{ticks:O?b:y.ticks}):void 0,width:l,height:c,offset:u},O?!0:p);Li(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ic(L),"]")),Array.isArray(L)&&(N=L)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(MOe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement($Oe,Xl({},d,{offset:u,horizontalPoints:S,xAxis:y,yAxis:w})),M.createElement(IOe,Xl({},d,{offset:u,verticalPoints:N,xAxis:y,yAxis:w})),M.createElement(DOe,Xl({},d,{horizontalPoints:S})),M.createElement(LOe,Xl({},d,{verticalPoints:N})))}ax.displayName="CartesianGrid";var qOe=["layout","type","stroke","connectNulls","isRange","ref"],BOe=["key"],LB;function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function FB(e,t){if(e==null)return{};var r=zOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jl.apply(this,arguments)}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){Ja(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qB(n.key),n)}}function VOe(e,t,r){return t&&WR(e.prototype,t),r&&WR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KOe(e,t,r){return t=ix(t),HOe(e,UB()?Reflect.construct(t,r||[],ix(e).constructor):t.apply(e,r))}function HOe(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GOe(e)}function GOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UB=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ix(e)}function YOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tS(e,t)}function tS(e,t){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},tS(e,t)}function Ja(e,t,r){return t=qB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qB(e){var t=QOe(e,"string");return Gd(t)=="symbol"?t:t+""}function QOe(e,t){if(Gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fo=function(e){function t(){var r;WOe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=KOe(this,t,[].concat(s)),Ja(r,"state",{isAnimationFinished:!0}),Ja(r,"id",Ap("recharts-area-")),Ja(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ut(o)&&o()}),Ja(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ut(o)&&o()}),r}return YOe(t,e),VOe(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=pt(this.props,!1),m=pt(u,!0),g=d.map(function(x,b){var y=So(So(So({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,y)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return M.createElement(hr,Jl({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=Ho(o.map(function(h){return h.y||0}));return _e(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Ho(i.map(function(h){return h.y||0})),f)),_e(f)?M.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=Ho(o.map(function(h){return h.x||0}));return _e(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Ho(i.map(function(h){return h.x||0})),f)),_e(f)?M.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=FB(l,qOe);return M.createElement(hr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},M.createElement(Fh,Jl({},pt(m,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&M.createElement(Fh,Jl({},pt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&M.createElement(Fh,Jl({},pt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,x=g.prevBaseLine;return M.createElement(Ji,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(p){var w=p.length/l.length,_=l.map(function(k,C){var O=Math.floor(C*w);if(p[O]){var L=p[O],E=Ts(L.x,k.x),F=Ts(L.y,k.y);return So(So({},k),{},{x:E(y),y:F(y)})}return k}),j;if(_e(c)&&typeof c=="number"){var S=Ts(x,c);j=S(y)}else if(xt(c)||Nf(c)){var N=Ts(x,0);j=N(y)}else j=c.map(function(k,C){var O=Math.floor(C*w);if(x[O]){var L=x[O],E=Ts(L.x,k.x),F=Ts(L.y,k.y);return So(So({},k),{},{x:E(y),y:F(y)})}return k});return i.renderAreaStatically(_,j,n,s)}return M.createElement(hr,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(y))),M.createElement(hr,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Rm(d,o)||!Rm(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,m=s.width,g=s.height,p=s.isAnimationActive,x=s.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,w=St("recharts-area",c),_=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,S=_||j,N=xt(x)?this.id:x,k=(n=pt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,O=C===void 0?3:C,L=k.strokeWidth,E=L===void 0?2:L,F=dde(o)?o:{},$=F.clipDot,K=$===void 0?!0:$,T=O*2+E;return M.createElement(hr,{className:w},_||j?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(N)},M.createElement("rect",{x:_?d:d-m/2,y:j?u:u-g/2,width:_?m:m*2,height:j?g:g*2})),!K&&M.createElement("clipPath",{id:"clipPath-dots-".concat(N)},M.createElement("rect",{x:d-T/2,y:u-T/2,width:m+T,height:g+T}))):null,y?null:this.renderArea(S,N),(o||y)&&this.renderDots(S,K,N),(!p||b)&&ol.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(v.PureComponent);LB=fo;Ja(fo,"displayName","Area");Ja(fo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Pf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ja(fo,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(_e(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Ja(fo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,g=u&&u.length,p=LB.getBaseValue(t,r,n,s),x=m==="horizontal",b=!1,y=f.map(function(_,j){var S;g?S=u[d+j]:(S=bs(_,c),Array.isArray(S)?b=!0:S=[p,S]);var N=S[1]==null||g&&bs(_,c)==null;return x?{x:ET({axis:n,ticks:i,bandSize:l,entry:_,index:j}),y:N?null:s.scale(S[1]),value:S,payload:_}:{x:N?null:n.scale(S[1]),y:ET({axis:s,ticks:o,bandSize:l,entry:_,index:j}),value:S,payload:_}}),w;return g||b?w=y.map(function(_){var j=Array.isArray(_.value)?_.value[0]:null;return x?{x:_.x,y:j!=null&&_.y!=null?s.scale(j):null}:{x:j!=null?n.scale(j):null,y:_.y}}):w=x?s.scale(p):n.scale(p),So({points:y,baseLine:w,layout:m,isRange:b},h)});Ja(fo,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(ut(e))r=e(t);else{var n=St("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=FB(t,BOe);r=M.createElement(mC,Jl({},i,{key:s,className:n}))}return r});function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function XOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WB(n.key),n)}}function ZOe(e,t,r){return t&&JOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eAe(e,t,r){return t=ox(t),tAe(e,BB()?Reflect.construct(t,r||[],ox(e).constructor):t.apply(e,r))}function tAe(e,t){if(t&&(Yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rAe(e)}function rAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BB=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ox(e)}function nAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rS(e,t)}function rS(e,t){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},rS(e,t)}function zB(e,t,r){return t=WB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WB(e){var t=sAe(e,"string");return Yd(t)=="symbol"?t:t+""}function sAe(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nS.apply(this,arguments)}function aAe(e){var t=e.xAxisId,r=yC(),n=xC(),s=kB(t);return s==null?null:v.createElement(Rf,nS({},s,{className:St("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ti(o,!0)}}))}var Dc=function(e){function t(){return XOe(this,t),eAe(this,t,arguments)}return nAe(t,e),ZOe(t,[{key:"render",value:function(){return v.createElement(aAe,this.props)}}])}(v.Component);zB(Dc,"displayName","XAxis");zB(Dc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function iAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HB(n.key),n)}}function lAe(e,t,r){return t&&oAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cAe(e,t,r){return t=lx(t),uAe(e,VB()?Reflect.construct(t,r||[],lx(e).constructor):t.apply(e,r))}function uAe(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dAe(e)}function dAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VB=function(){return!!e})()}function lx(e){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lx(e)}function fAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}function sS(e,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},sS(e,t)}function KB(e,t,r){return t=HB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HB(e){var t=hAe(e,"string");return Qd(t)=="symbol"?t:t+""}function hAe(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aS.apply(this,arguments)}var mAe=function(t){var r=t.yAxisId,n=yC(),s=xC(),i=CB(r);return i==null?null:v.createElement(Rf,aS({},i,{className:St("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Ti(l,!0)}}))},Lc=function(e){function t(){return iAe(this,t),cAe(this,t,arguments)}return fAe(t,e),lAe(t,[{key:"render",value:function(){return v.createElement(mAe,this.props)}}])}(v.Component);KB(Lc,"displayName","YAxis");KB(Lc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function VR(e){return yAe(e)||vAe(e)||gAe(e)||pAe()}function pAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gAe(e,t){if(e){if(typeof e=="string")return iS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iS(e,t)}}function vAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yAe(e){if(Array.isArray(e))return iS(e)}function iS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oS=function(t,r,n,s,i){var o=Ca(t,wC),l=Ca(t,Kb),c=[].concat(VR(o),VR(l)),u=Ca(t,Gb),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(p,x){if(x.props[d]===n&&si(x.props,"extendDomain")&&_e(x.props[f])){var b=x.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,x){if(x.props[d]===n&&si(x.props,"extendDomain")&&_e(x.props[m])&&_e(x.props[g])){var b=x.props[m],y=x.props[g];return[Math.min(p[0],b,y),Math.max(p[1],b,y)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,x){return _e(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},h)),h},GB={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var x=this._events[p],b=arguments.length,y,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,g),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];x.fn.apply(x.context,y)}else{var _=x.length,j;for(w=0;w<_;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),b){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,f);break;case 4:x[w].fn.call(x[w].context,d,f,h);break;default:if(!y)for(j=1,y=new Array(b-1);j<b;j++)y[j-1]=arguments[j];x[w].fn.apply(x[w].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,x=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&x.push(g[p]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(GB);var xAe=GB.exports;const bAe=zt(xAe);var I0=new bAe,D0="recharts.syncMouseEvents";function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function wAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YB(n.key),n)}}function _Ae(e,t,r){return t&&jAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L0(e,t,r){return t=YB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=SAe(e,"string");return tp(t)=="symbol"?t:t+""}function SAe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NAe=function(){function e(){wAe(this,e),L0(this,"activeIndex",0),L0(this,"coordinateList",[]),L0(this,"layout","horizontal")}return _Ae(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function kAe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&_e(n)&&_e(s))return!0}return!1}function CAe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function QB(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=dn(t,r,n,s),l=dn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function EAe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=dn(l,c,u,f),m=dn(l,c,d,f);n=h.x,s=h.y,i=m.x,o=m.y}else return QB(t);return[{x:n,y:s},{x:i,y:o}]}function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function KR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(r),!0).forEach(function(n){PAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PAe(e,t,r){return t=OAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OAe(e){var t=AAe(e,"string");return rp(t)=="symbol"?t:t+""}function AAe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TAe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,p=Fh;if(h==="ScatterChart")g=o,p=ICe;else if(h==="BarChart")g=CAe(f,o,c,d),p=hC;else if(f==="radial"){var x=QB(o),b=x.cx,y=x.cy,w=x.radius,_=x.startAngle,j=x.endAngle;g={cx:b,cy:y,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},p=Xq}else g={points:EAe(f,o,c)},p=Fh;var S=Lg(Lg(Lg(Lg({stroke:"#ccc",pointerEvents:"none"},c),g),pt(m,!1)),{},{payload:l,payloadIndex:u,className:St("recharts-tooltip-cursor",m.className)});return v.isValidElement(m)?v.cloneElement(m,S):v.createElement(p,S)}var RAe=["item"],MAe=["children","className","width","height","style","compact","title","desc"];function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Du.apply(this,arguments)}function HR(e,t){return DAe(e)||IAe(e,t)||JB(e,t)||$Ae()}function $Ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function DAe(e){if(Array.isArray(e))return e}function GR(e,t){if(e==null)return{};var r=LAe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZB(n.key),n)}}function qAe(e,t,r){return t&&UAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BAe(e,t,r){return t=cx(t),zAe(e,XB()?Reflect.construct(t,r||[],cx(e).constructor):t.apply(e,r))}function zAe(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WAe(e)}function WAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XB=function(){return!!e})()}function cx(e){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cx(e)}function VAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lS(e,t)}function lS(e,t){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lS(e,t)}function Jd(e){return GAe(e)||HAe(e)||JB(e)||KAe()}function KAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JB(e,t){if(e){if(typeof e=="string")return cS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cS(e,t)}}function HAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GAe(e){if(Array.isArray(e))return cS(e)}function cS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){Ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ge(e,t,r){return t=ZB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZB(e){var t=YAe(e,"string");return Xd(t)=="symbol"?t:t+""}function YAe(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QAe={xAxis:["bottom","top"],yAxis:["left","right"]},XAe={width:"100%",height:"100%"},e6={x:0,y:0};function Fg(e){return e}var JAe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ZAe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return ae(ae(ae({},s),dn(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return ae(ae(ae({},s),dn(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return e6},Yb=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Jd(l),Jd(u)):l},[]);return o.length>0?o:t&&t.length&&_e(s)&&_e(i)?t.slice(s,i+1):[]};function t6(e){return e==="number"?[0,"auto"]:void 0}var uS=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Yb(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=ly(m,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(Jd(c),[Gq(u,h)]):c},[])},QR=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=JAe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=mSe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=uS(t,r,d,f),m=ZAe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},eTe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=Vq(d,i);return n.reduce(function(g,p){var x,b=p.type.defaultProps!==void 0?ae(ae({},p.type.defaultProps),p.props):p.props,y=b.type,w=b.dataKey,_=b.allowDataOverflow,j=b.allowDuplicatedCategory,S=b.scale,N=b.ticks,k=b.includeHidden,C=b[o];if(g[C])return g;var O=Yb(t.data,{graphicalItems:s.filter(function(A){var re,ye=o in A.props?A.props[o]:(re=A.type.defaultProps)===null||re===void 0?void 0:re[o];return ye===C}),dataStartIndex:c,dataEndIndex:u}),L=O.length,E,F,$;kAe(b.domain,_,y)&&(E=P1(b.domain,null,_),m&&(y==="number"||S!=="auto")&&($=Lh(O,w,"category")));var K=t6(y);if(!E||E.length===0){var T,V=(T=b.domain)!==null&&T!==void 0?T:K;if(w){if(E=Lh(O,w,y),y==="category"&&m){var R=tde(E);j&&R?(F=E,E=Yy(0,L)):j||(E=TT(V,E,p).reduce(function(A,re){return A.indexOf(re)>=0?A:[].concat(Jd(A),[re])},[]))}else if(y==="category")j?E=E.filter(function(A){return A!==""&&!xt(A)}):E=TT(V,E,p).reduce(function(A,re){return A.indexOf(re)>=0||re===""||xt(re)?A:[].concat(Jd(A),[re])},[]);else if(y==="number"){var I=xSe(O,s.filter(function(A){var re,ye,We=o in A.props?A.props[o]:(re=A.type.defaultProps)===null||re===void 0?void 0:re[o],Ke="hide"in A.props?A.props.hide:(ye=A.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return We===C&&(k||!Ke)}),w,i,d);I&&(E=I)}m&&(y==="number"||S!=="auto")&&($=Lh(O,w,"category"))}else m?E=Yy(0,L):l&&l[C]&&l[C].hasStack&&y==="number"?E=h==="expand"?[0,1]:Hq(l[C].stackGroups,c,u):E=Wq(O,s.filter(function(A){var re=o in A.props?A.props[o]:A.type.defaultProps[o],ye="hide"in A.props?A.props.hide:A.type.defaultProps.hide;return re===C&&(k||!ye)}),y,d,!0);if(y==="number")E=oS(f,E,C,i,N),V&&(E=P1(V,E,_));else if(y==="category"&&V){var D=V,te=E.every(function(A){return D.indexOf(A)>=0});te&&(E=D)}}return ae(ae({},g),{},Ge({},C,ae(ae({},b),{},{axisType:i,domain:E,categoricalDomain:$,duplicateDomain:F,originalDomain:(x=b.domain)!==null&&x!==void 0?x:K,isCategorical:m,layout:d})))},{})},tTe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Yb(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=Vq(d,i),p=-1;return n.reduce(function(x,b){var y=b.type.defaultProps!==void 0?ae(ae({},b.type.defaultProps),b.props):b.props,w=y[o],_=t6("number");if(!x[w]){p++;var j;return g?j=Yy(0,m):l&&l[w]&&l[w].hasStack?(j=Hq(l[w].stackGroups,c,u),j=oS(f,j,w,i)):(j=P1(_,Wq(h,n.filter(function(S){var N,k,C=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],O="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!O}),"number",d),s.defaultProps.allowDataOverflow),j=oS(f,j,w,i)),ae(ae({},x),{},Ge({},w,ae(ae({axisType:i},s.defaultProps),{},{hide:!0,orientation:Bs(QAe,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:_,isCategorical:g,layout:d})))}return x},{})},rTe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=Ca(d,i),m={};return h&&h.length?m=eTe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=tTe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},nTe=function(t){var r=Mo(t),n=Ti(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Uk(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Fy(r,n)}},XR=function(t){var r=t.children,n=t.defaultShowTooltip,s=os(r,Bd),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},sTe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Di(r&&r.type);return n&&n.indexOf("Bar")>=0})},JR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},aTe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=os(f,Bd),g=os(f,Yu),p=Object.keys(c).reduce(function(j,S){var N=c[S],k=N.orientation;return!N.mirror&&!N.hide?ae(ae({},j),{},Ge({},k,j[k]+N.width)):j},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(j,S){var N=o[S],k=N.orientation;return!N.mirror&&!N.hide?ae(ae({},j),{},Ge({},k,Bs(j,"".concat(k))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=ae(ae({},x),p),y=b.bottom;m&&(b.bottom+=m.props.height||Bd.defaultProps.height),g&&r&&(b=vSe(b,s,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return ae(ae({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},iTe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},r6=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var w=y.graphicalItems,_=y.stackGroups,j=y.offset,S=y.updateId,N=y.dataStartIndex,k=y.dataEndIndex,C=b.barSize,O=b.layout,L=b.barGap,E=b.barCategoryGap,F=b.maxBarSize,$=JR(O),K=$.numericAxisName,T=$.cateAxisName,V=sTe(w),R=[];return w.forEach(function(I,D){var te=Yb(b.data,{graphicalItems:[I],dataStartIndex:N,dataEndIndex:k}),A=I.type.defaultProps!==void 0?ae(ae({},I.type.defaultProps),I.props):I.props,re=A.dataKey,ye=A.maxBarSize,We=A["".concat(K,"Id")],Ke=A["".concat(T,"Id")],pe={},Ne=c.reduce(function(B,G){var z=y["".concat(G.axisType,"Map")],me=A["".concat(G.axisType,"Id")];z&&z[me]||G.axisType==="zAxis"||$c();var xe=z[me];return ae(ae({},B),{},Ge(Ge({},G.axisType,xe),"".concat(G.axisType,"Ticks"),Ti(xe)))},pe),se=Ne[T],ve=Ne["".concat(T,"Ticks")],Y=_&&_[We]&&_[We].hasStack&&ASe(I,_[We].stackGroups),Q=Di(I.type).indexOf("Bar")>=0,Xe=Fy(se,ve),He=[],bt=V&&pSe({barSize:C,stackGroups:_,totalSize:iTe(Ne,T)});if(Q){var ft,Wt,Cr=xt(ye)?F:ye,mn=(ft=(Wt=Fy(se,ve,!0))!==null&&Wt!==void 0?Wt:Cr)!==null&&ft!==void 0?ft:0;He=gSe({barGap:L,barCategoryGap:E,bandSize:mn!==Xe?mn:Xe,sizeList:bt[Ke],maxBarSize:Cr}),mn!==Xe&&(He=He.map(function(B){return ae(ae({},B),{},{position:ae(ae({},B.position),{},{offset:B.position.offset-mn/2})})}))}var _s=I&&I.type&&I.type.getComposedData;_s&&R.push({props:ae(ae({},_s(ae(ae({},Ne),{},{displayedData:te,props:b,dataKey:re,item:I,bandSize:Xe,barPosition:He,offset:j,stackedData:Y,layout:O,dataStartIndex:N,dataEndIndex:k}))),{},Ge(Ge(Ge({key:I.key||"item-".concat(D)},K,Ne[K]),T,Ne[T]),"animationId",S)),childIndex:mde(I,b.children),item:I})}),R},m=function(b,y){var w=b.props,_=b.dataStartIndex,j=b.dataEndIndex,S=b.updateId;if(!NO({props:w}))return null;var N=w.children,k=w.layout,C=w.stackOffset,O=w.data,L=w.reverseStackOrder,E=JR(k),F=E.numericAxisName,$=E.cateAxisName,K=Ca(N,n),T=ESe(O,K,"".concat(F,"Id"),"".concat($,"Id"),C,L),V=c.reduce(function(A,re){var ye="".concat(re.axisType,"Map");return ae(ae({},A),{},Ge({},ye,rTe(w,ae(ae({},re),{},{graphicalItems:K,stackGroups:re.axisType===F&&T,dataStartIndex:_,dataEndIndex:j}))))},{}),R=aTe(ae(ae({},V),{},{props:w,graphicalItems:K}),y==null?void 0:y.legendBBox);Object.keys(V).forEach(function(A){V[A]=d(w,V[A],R,A.replace("Map",""),r)});var I=V["".concat($,"Map")],D=nTe(I),te=h(w,ae(ae({},V),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:K,stackGroups:T,offset:R}));return ae(ae({formattedGraphicalItems:te,graphicalItems:K,offset:R,stackGroups:T},D),V)},g=function(x){function b(y){var w,_,j;return FAe(this,b),j=BAe(this,b,[y]),Ge(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(j,"accessibilityManager",new NAe),Ge(j,"handleLegendBBoxUpdate",function(S){if(S){var N=j.state,k=N.dataStartIndex,C=N.dataEndIndex,O=N.updateId;j.setState(ae({legendBBox:S},m({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:O},ae(ae({},j.state),{},{legendBBox:S}))))}}),Ge(j,"handleReceiveSyncEvent",function(S,N,k){if(j.props.syncId===S){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),Ge(j,"handleBrushChange",function(S){var N=S.startIndex,k=S.endIndex;if(N!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return ae({dataStartIndex:N,dataEndIndex:k},m({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),Ge(j,"handleMouseEnter",function(S){var N=j.getMouseInfo(S);if(N){var k=ae(ae({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;ut(C)&&C(k,S)}}),Ge(j,"triggeredAfterMouseMove",function(S){var N=j.getMouseInfo(S),k=N?ae(ae({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;ut(C)&&C(k,S)}),Ge(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ge(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ge(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Ge(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseLeave;ut(k)&&k(N,S)}),Ge(j,"handleOuterEvent",function(S){var N=hde(S),k=Bs(j.props,"".concat(N));if(N&&ut(k)){var C,O;/.*touch.*/i.test(N)?O=j.getMouseInfo(S.changedTouches[0]):O=j.getMouseInfo(S),k((C=O)!==null&&C!==void 0?C:{},S)}}),Ge(j,"handleClick",function(S){var N=j.getMouseInfo(S);if(N){var k=ae(ae({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;ut(C)&&C(k,S)}}),Ge(j,"handleMouseDown",function(S){var N=j.props.onMouseDown;if(ut(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleMouseUp",function(S){var N=j.props.onMouseUp;if(ut(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ge(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Ge(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Ge(j,"handleDoubleClick",function(S){var N=j.props.onDoubleClick;if(ut(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleContextMenu",function(S){var N=j.props.onContextMenu;if(ut(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&I0.emit(D0,j.props.syncId,S,j.eventEmitterSymbol)}),Ge(j,"applySyncEvent",function(S){var N=j.props,k=N.layout,C=N.syncMethod,O=j.state.updateId,L=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(ae({dataStartIndex:L,dataEndIndex:E},m({props:j.props,dataStartIndex:L,dataEndIndex:E,updateId:O},j.state)));else if(S.activeTooltipIndex!==void 0){var F=S.chartX,$=S.chartY,K=S.activeTooltipIndex,T=j.state,V=T.offset,R=T.tooltipTicks;if(!V)return;if(typeof C=="function")K=C(R,S);else if(C==="value"){K=-1;for(var I=0;I<R.length;I++)if(R[I].value===S.activeLabel){K=I;break}}var D=ae(ae({},V),{},{x:V.left,y:V.top}),te=Math.min(F,D.x+D.width),A=Math.min($,D.y+D.height),re=R[K]&&R[K].value,ye=uS(j.state,j.props.data,K),We=R[K]?{x:k==="horizontal"?R[K].coordinate:te,y:k==="horizontal"?A:R[K].coordinate}:e6;j.setState(ae(ae({},S),{},{activeLabel:re,activeCoordinate:We,activePayload:ye,activeTooltipIndex:K}))}else j.setState(S)}),Ge(j,"renderCursor",function(S){var N,k=j.state,C=k.isTooltipActive,O=k.activeCoordinate,L=k.activePayload,E=k.offset,F=k.activeTooltipIndex,$=k.tooltipAxisBandSize,K=j.getTooltipEventType(),T=(N=S.props.active)!==null&&N!==void 0?N:C,V=j.props.layout,R=S.key||"_recharts-cursor";return M.createElement(TAe,{key:R,activeCoordinate:O,activePayload:L,activeTooltipIndex:F,chartName:r,element:S,isActive:T,layout:V,offset:E,tooltipAxisBandSize:$,tooltipEventType:K})}),Ge(j,"renderPolarAxis",function(S,N,k){var C=Bs(S,"type.axisType"),O=Bs(j.state,"".concat(C,"Map")),L=S.type.defaultProps,E=L!==void 0?ae(ae({},L),S.props):S.props,F=O&&O[E["".concat(C,"Id")]];return v.cloneElement(S,ae(ae({},F),{},{className:St(C,F.className),key:S.key||"".concat(N,"-").concat(k),ticks:Ti(F,!0)}))}),Ge(j,"renderPolarGrid",function(S){var N=S.props,k=N.radialLines,C=N.polarAngles,O=N.polarRadius,L=j.state,E=L.radiusAxisMap,F=L.angleAxisMap,$=Mo(E),K=Mo(F),T=K.cx,V=K.cy,R=K.innerRadius,I=K.outerRadius;return v.cloneElement(S,{polarAngles:Array.isArray(C)?C:Ti(K,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(O)?O:Ti($,!0).map(function(D){return D.coordinate}),cx:T,cy:V,innerRadius:R,outerRadius:I,key:S.key||"polar-grid",radialLines:k})}),Ge(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,N=j.props,k=N.children,C=N.width,O=N.height,L=j.props.margin||{},E=C-(L.left||0)-(L.right||0),F=Bq({children:k,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!F)return null;var $=F.item,K=GR(F,RAe);return v.cloneElement($,ae(ae({},K),{},{chartWidth:C,chartHeight:O,margin:L,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ge(j,"renderTooltip",function(){var S,N=j.props,k=N.children,C=N.accessibilityLayer,O=os(k,Ps);if(!O)return null;var L=j.state,E=L.isTooltipActive,F=L.activeCoordinate,$=L.activePayload,K=L.activeLabel,T=L.offset,V=(S=O.props.active)!==null&&S!==void 0?S:E;return v.cloneElement(O,{viewBox:ae(ae({},T),{},{x:T.left,y:T.top}),active:V,label:K,payload:V?$:[],coordinate:F,accessibilityLayer:C})}),Ge(j,"renderBrush",function(S){var N=j.props,k=N.margin,C=N.data,O=j.state,L=O.offset,E=O.dataStartIndex,F=O.dataEndIndex,$=O.updateId;return v.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Mg(j.handleBrushChange,S.props.onChange),data:C,x:_e(S.props.x)?S.props.x:L.left,y:_e(S.props.y)?S.props.y:L.top+L.height+L.brushBottom-(k.bottom||0),width:_e(S.props.width)?S.props.width:L.width,startIndex:E,endIndex:F,updateId:"brush-".concat($)})}),Ge(j,"renderReferenceElement",function(S,N,k){if(!S)return null;var C=j,O=C.clipPathId,L=j.state,E=L.xAxisMap,F=L.yAxisMap,$=L.offset,K=S.type.defaultProps||{},T=S.props,V=T.xAxisId,R=V===void 0?K.xAxisId:V,I=T.yAxisId,D=I===void 0?K.yAxisId:I;return v.cloneElement(S,{key:S.key||"".concat(N,"-").concat(k),xAxis:E[R],yAxis:F[D],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:O})}),Ge(j,"renderActivePoints",function(S){var N=S.item,k=S.activePoint,C=S.basePoint,O=S.childIndex,L=S.isRange,E=[],F=N.props.key,$=N.item.type.defaultProps!==void 0?ae(ae({},N.item.type.defaultProps),N.item.props):N.item.props,K=$.activeDot,T=$.dataKey,V=ae(ae({index:O,dataKey:T,cx:k.x,cy:k.y,r:4,fill:fC(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},pt(K,!1)),cy(K));return E.push(b.renderActiveDot(K,V,"".concat(F,"-activePoint-").concat(O))),C?E.push(b.renderActiveDot(K,ae(ae({},V),{},{cx:C.x,cy:C.y}),"".concat(F,"-basePoint-").concat(O))):L&&E.push(null),E}),Ge(j,"renderGraphicChild",function(S,N,k){var C=j.filterFormatItem(S,N,k);if(!C)return null;var O=j.getTooltipEventType(),L=j.state,E=L.isTooltipActive,F=L.tooltipAxis,$=L.activeTooltipIndex,K=L.activeLabel,T=j.props.children,V=os(T,Ps),R=C.props,I=R.points,D=R.isRange,te=R.baseLine,A=C.item.type.defaultProps!==void 0?ae(ae({},C.item.type.defaultProps),C.item.props):C.item.props,re=A.activeDot,ye=A.hide,We=A.activeBar,Ke=A.activeShape,pe=!!(!ye&&E&&V&&(re||We||Ke)),Ne={};O!=="axis"&&V&&V.props.trigger==="click"?Ne={onClick:Mg(j.handleItemMouseEnter,S.props.onClick)}:O!=="axis"&&(Ne={onMouseLeave:Mg(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Mg(j.handleItemMouseEnter,S.props.onMouseEnter)});var se=v.cloneElement(S,ae(ae({},C.props),Ne));function ve(G){return typeof F.dataKey=="function"?F.dataKey(G.payload):null}if(pe)if($>=0){var Y,Q;if(F.dataKey&&!F.allowDuplicatedCategory){var Xe=typeof F.dataKey=="function"?ve:"payload.".concat(F.dataKey.toString());Y=ly(I,Xe,K),Q=D&&te&&ly(te,Xe,K)}else Y=I==null?void 0:I[$],Q=D&&te&&te[$];if(Ke||We){var He=S.props.activeIndex!==void 0?S.props.activeIndex:$;return[v.cloneElement(S,ae(ae(ae({},C.props),Ne),{},{activeIndex:He})),null,null]}if(!xt(Y))return[se].concat(Jd(j.renderActivePoints({item:C,activePoint:Y,basePoint:Q,childIndex:$,isRange:D})))}else{var bt,ft=(bt=j.getItemByXY(j.state.activeCoordinate))!==null&&bt!==void 0?bt:{graphicalItem:se},Wt=ft.graphicalItem,Cr=Wt.item,mn=Cr===void 0?S:Cr,_s=Wt.childIndex,B=ae(ae(ae({},C.props),Ne),{},{activeIndex:_s});return[v.cloneElement(mn,B),null,null]}return D?[se,null,null]:[se,null]}),Ge(j,"renderCustomized",function(S,N,k){return v.cloneElement(S,ae(ae({key:"recharts-customized-".concat(k)},j.props),j.state))}),Ge(j,"renderMap",{CartesianGrid:{handler:Fg,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Fg},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Fg},YAxis:{handler:Fg},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:Ap("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=BU(j.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return VAe(b,x),qAe(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,j=w.data,S=w.height,N=w.layout,k=os(_,Ps);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,L=uS(this.state,j,C,O),E=this.state.tooltipTicks[C].coordinate,F=(this.state.offset.top+S)/2,$=N==="horizontal",K=$?{x:E,y:F}:{y:E,x:F},T=this.state.formattedGraphicalItems.find(function(R){var I=R.item;return I.type.name==="Scatter"});T&&(K=ae(ae({},K),T.props.points[C].tooltipPosition),L=T.props.points[C].tooltipPayload);var V={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:O,activePayload:L,activeCoordinate:K};this.setState(V),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){z_([os(w.children,Ps)],[os(this.props.children,Ps)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=os(this.props.children,Ps);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=Uwe(j),N={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},k=j.width/_.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,k);if(!C)return null;var O=this.state,L=O.xAxisMap,E=O.yAxisMap,F=this.getTooltipEventType(),$=QR(this.state,this.props.data,this.props.layout,C);if(F!=="axis"&&L&&E){var K=Mo(L).scale,T=Mo(E).scale,V=K&&K.invert?K.invert(N.chartX):null,R=T&&T.invert?T.invert(N.chartY):null;return ae(ae({},N),{},{xValue:V,yValue:R},$)}return $?ae(ae({},N),$):null}},{key:"inRange",value:function(w,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=w/j,k=_/j;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,O=N>=C.left&&N<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return O?{x:N,y:k}:null}var L=this.state,E=L.angleAxisMap,F=L.radiusAxisMap;if(E&&F){var $=Mo(E);return $T({x:N,y:k},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),j=os(w,Ps),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=cy(this.props,this.handleOuterEvent);return ae(ae({},N),S)}},{key:"addListener",value:function(){I0.on(D0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){I0.removeListener(D0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,j){for(var S=this.state.formattedGraphicalItems,N=0,k=S.length;N<k;N++){var C=S[N];if(C.item===w||C.props.key===w.key||_===Di(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,N=_.height,k=_.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:j,y:S,height:N,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=HR(j,2),N=S[0],k=S[1];return ae(ae({},_),{},Ge({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=HR(j,2),N=S[0],k=S[1];return ae(ae({},_),{},Ge({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var N=0,k=j.length;N<k;N++){var C=j[N],O=C.props,L=C.item,E=L.type.defaultProps!==void 0?ae(ae({},L.type.defaultProps),L.props):L.props,F=Di(L.type);if(F==="Bar"){var $=(O.data||[]).find(function(R){return kCe(w,R)});if($)return{graphicalItem:C,payload:$}}else if(F==="RadialBar"){var K=(O.data||[]).find(function(R){return $T(w,R)});if(K)return{graphicalItem:C,payload:K}}else if(Bb(C,S)||zb(C,S)||Qm(C,S)){var T=P2e({graphicalItem:C,activeTooltipItem:S,itemData:E.data}),V=E.activeIndex===void 0?T:E.activeIndex;return{graphicalItem:ae(ae({},C),{},{childIndex:V}),payload:Qm(C,S)?E.data[T]:C.props.data[T]}}}return null}},{key:"render",value:function(){var w=this;if(!NO(this))return null;var _=this.props,j=_.children,S=_.className,N=_.width,k=_.height,C=_.style,O=_.compact,L=_.title,E=_.desc,F=GR(_,MAe),$=pt(F,!1);if(O)return M.createElement(OR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(V_,Du({},$,{width:N,height:k,title:L,desc:E}),this.renderClipPath(),CO(j,this.renderMap)));if(this.props.accessibilityLayer){var K,T;$.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,$.role=(T=this.props.role)!==null&&T!==void 0?T:"application",$.onKeyDown=function(R){w.accessibilityManager.keyboardEvent(R)},$.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return M.createElement(OR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Du({className:St("recharts-wrapper",S),style:ae({position:"relative",cursor:"default",width:N,height:k},C)},V,{ref:function(I){w.container=I}}),M.createElement(V_,Du({},$,{width:N,height:k,title:L,desc:E,style:XAe}),this.renderClipPath(),CO(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Ge(g,"displayName",r),Ge(g,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ge(g,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,w=x.data,_=x.children,j=x.width,S=x.height,N=x.layout,k=x.stackOffset,C=x.margin,O=b.dataStartIndex,L=b.dataEndIndex;if(b.updateId===void 0){var E=XR(x);return ae(ae(ae({},E),{},{updateId:0},m(ae(ae({props:x},E),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(y!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||S!==b.prevHeight||N!==b.prevLayout||k!==b.prevStackOffset||!Gu(C,b.prevMargin)){var F=XR(x),$={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},K=ae(ae({},QR(b,w,N)),{},{updateId:b.updateId+1}),T=ae(ae(ae({},F),$),K);return ae(ae(ae({},T),m(ae({props:x},T),b)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(!z_(_,b.prevChildren)){var V,R,I,D,te=os(_,Bd),A=te&&(V=(R=te.props)===null||R===void 0?void 0:R.startIndex)!==null&&V!==void 0?V:O,re=te&&(I=(D=te.props)===null||D===void 0?void 0:D.endIndex)!==null&&I!==void 0?I:L,ye=A!==O||re!==L,We=!xt(w),Ke=We&&!ye?b.updateId:b.updateId+1;return ae(ae({updateId:Ke},m(ae(ae({props:x},b),{},{updateId:Ke,dataStartIndex:A,dataEndIndex:re}),b)),{},{prevChildren:_,dataStartIndex:A,dataEndIndex:re})}return null}),Ge(g,"renderActiveDot",function(x,b,y){var w;return v.isValidElement(x)?w=v.cloneElement(x,b):ut(x)?w=x(b):w=M.createElement(mC,b),M.createElement(hr,{className:"recharts-active-dot",key:y},w)});var p=v.forwardRef(function(b,y){return M.createElement(g,Du({},b,{ref:y}))});return p.displayName=g.displayName,p},oTe=r6({chartName:"BarChart",GraphicalChild:Gc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Dc},{axisType:"yAxis",AxisComp:Lc}],formatAxisMap:yB}),n6=r6({chartName:"AreaChart",GraphicalChild:fo,axisComponents:[{axisType:"xAxis",AxisComp:Dc},{axisType:"yAxis",AxisComp:Lc}],formatAxisMap:yB});const Ia={getProviders:async()=>{const{data:e,error:t}=await U.from("model_providers").select("*").order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProvider:async e=>{const{data:t,error:r}=await U.from("model_providers").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProvider:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("model_providers").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProvider:async(e,t)=>{const{data:r,error:n}=await U.from("model_providers").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProvider:async e=>{const{error:t}=await U.from("model_providers").delete().eq("id",e);if(t)throw new Error(t.message)},getRequests:async e=>{let t=U.from("model_requests").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getRequest:async e=>{const{data:t,error:r}=await U.from("model_requests").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createRequest:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("model_requests").insert(r).select().single();if(s)throw new Error(s.message);return n},updateRequest:async(e,t)=>{const{data:r,error:n}=await U.from("model_requests").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getUsageMetrics:async e=>{let t=U.from("usage_metrics").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.since&&(t=t.gte("created_at",e.since)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getUsageSummary:async e=>{const t=await Ia.getUsageMetrics({limit:1e4,providerId:e==null?void 0:e.providerId,since:e==null?void 0:e.since}),r=t.reduce((i,o)=>i+o.token_count_input,0),n=t.reduce((i,o)=>i+o.token_count_output,0),s=new Set(t.map(i=>i.request_id));return{totalInputTokens:r,totalOutputTokens:n,requestCount:s.size}},createUsageMetric:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("usage_metrics").insert(r).select().single();if(s)throw new Error(s.message);return n},getConfigurationOverrides:async e=>{if(!e)return null;const{data:t,error:r}=await U.from("configuration_overrides").select("*").eq("request_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},getConfigurationOverridesByRequestIds:async e=>{if(e.length===0)return[];const{data:t,error:r}=await U.from("configuration_overrides").select("*").in("request_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},upsertConfigurationOverride:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("configuration_overrides").upsert({request_id:r.request_id,user_id:r.user_id,model_name:r.model_name??null,temperature:r.temperature??null,max_tokens:r.max_tokens??null,parameters:r.parameters??{}},{onConflict:"request_id"}).select().single();if(s)throw new Error(s.message);return n},updateConfigurationOverride:async(e,t)=>{const{data:r,error:n}=await U.from("configuration_overrides").update(t).eq("request_id",e).select().single();if(n)throw new Error(n.message);return r}};function SC(e,t){return e().catch(()=>t)}const Rr={all:["model-providers"],providers:()=>[...Rr.all,"providers"],provider:e=>[...Rr.all,"provider",e],requests:e=>[...Rr.all,"requests",e],request:e=>[...Rr.all,"request",e],usageMetrics:e=>[...Rr.all,"usage-metrics",e],usageSummary:e=>[...Rr.all,"usage-summary",e],configOverride:e=>[...Rr.all,"config-override",e]};function lTe(){return Se({queryKey:Rr.providers(),queryFn:()=>SC(()=>Ia.getProviders(),[])})}function cTe(){const e=ue();return ce({mutationFn:t=>Ia.createProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.providers()}),q.success("Provider added")},onError:t=>{q.error(t.message||"Failed to add provider")}})}function uTe(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Ia.updateProvider(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Rr.providers()}),e.invalidateQueries({queryKey:Rr.provider(r)}),q.success("Provider updated")},onError:t=>{q.error(t.message||"Failed to update provider")}})}function dTe(){const e=ue();return ce({mutationFn:t=>Ia.deleteProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.providers()}),e.invalidateQueries({queryKey:Rr.requests()}),q.success("Provider removed")},onError:t=>{q.error(t.message||"Failed to remove provider")}})}function fTe(e){return Se({queryKey:Rr.requests(e),queryFn:()=>SC(()=>Ia.getRequests(e),[])})}function hTe(){const e=ue();return ce({mutationFn:t=>Ia.createRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.requests()}),q.success("Request logged")},onError:t=>{q.error(t.message||"Failed to log request")}})}function mTe(e){return Se({queryKey:Rr.usageMetrics(e),queryFn:()=>SC(()=>Ia.getUsageMetrics(e),[])})}function pTe(e){return Se({queryKey:Rr.usageSummary(e),queryFn:()=>Ia.getUsageSummary(e)})}function gTe(){const e=ue();return ce({mutationFn:t=>Ia.createUsageMetric(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.usageMetrics()}),e.invalidateQueries({queryKey:Rr.usageSummary()})},onError:t=>{q.error(t.message||"Failed to record usage")}})}function vTe(){const e=ue();return ce({mutationFn:t=>Ia.upsertConfigurationOverride(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Rr.configOverride(r.request_id)}),q.success("Configuration saved")},onError:t=>{q.error(t.message||"Failed to save configuration")}})}const ZR={openai:"OpenAI",anthropic:"Anthropic",local:"Local",ollama:"Ollama",vllm:"vLLM",custom:"Custom"},yTe=tt({name:we().min(1,"Name is required").max(128),slug:ir(["openai","anthropic","local","ollama","vllm","custom"]),api_endpoint_base:we().url().optional().or(uk("")),priority:Tn.number().int().min(0).max(999),is_default:Yr(),status:ir(["active","inactive","error"])});function xTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,provider:s}){const i=!!s,o=Ze({resolver:et(yTe),defaultValues:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"}});v.useEffect(()=>{e&&o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"})},[e,s,o]);const l=o.handleSubmit(u=>{r({name:u.name,slug:u.slug,api_endpoint_base:u.api_endpoint_base||null,priority:u.priority,is_default:u.is_default,status:u.status}),o.reset()}),c=u=>{u||o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:void 0),t(u)};return a.jsx(Re,{open:e,onOpenChange:c,children:a.jsxs(Ee,{className:"max-w-md",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:i?"Edit provider":"Add provider"}),a.jsx(Ae,{children:i?"Update model provider settings and priority.":"Register a new AI model provider (OpenAI, Anthropic, local, etc.)."})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"name",children:"Name"}),a.jsx(ge,{id:"name",placeholder:"e.g. OpenAI GPT-4",...o.register("name"),className:J(o.formState.errors.name&&"border-destructive")}),o.formState.errors.name&&a.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Provider type"}),a.jsxs(ot,{value:o.watch("slug"),onValueChange:u=>o.setValue("slug",u),disabled:i,children:[a.jsx(at,{children:a.jsx(lt,{placeholder:"Select type"})}),a.jsx(it,{children:Object.keys(ZR).map(u=>a.jsx(ke,{value:u,children:ZR[u]},u))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"api_endpoint_base",children:"API endpoint (optional)"}),a.jsx(ge,{id:"api_endpoint_base",placeholder:"https://api.openai.com/v1",...o.register("api_endpoint_base")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"priority",children:"Priority (higher = preferred)"}),a.jsx(ge,{id:"priority",type:"number",min:0,max:999,...o.register("priority")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsx(H,{htmlFor:"is_default",className:"cursor-pointer",children:"Default provider"}),a.jsx(Rt,{id:"is_default",checked:o.watch("is_default"),onCheckedChange:u=>o.setValue("is_default",u)})]}),i&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Status"}),a.jsxs(ot,{value:o.watch("status"),onValueChange:u=>o.setValue("status",u),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(ke,{value:"active",children:"Active"}),a.jsx(ke,{value:"inactive",children:"Inactive"}),a.jsx(ke,{value:"error",children:"Error"})]})]})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":i?"Update":"Add"})]})]})]})})}const bTe=tt({provider_id:we().uuid().optional().nullable(),model_name:we().max(128).optional(),temperature:Tn.number().min(0).max(2).optional(),max_tokens:Tn.number().int().min(1).max(128e3).optional()}),wTe={pending:"secondary",running:"default",completed:"secondary",failed:"destructive"},jTe={active:"success",inactive:"secondary",error:"destructive"};function _Te(){const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s]=v.useState(()=>fk(new Date,7).toISOString()),{data:i=[],isLoading:o}=lTe(),{data:l=[],isLoading:c}=fTe({limit:50}),{data:u,isLoading:d}=pTe({since:s}),{data:f=[]}=mTe({limit:100,since:s}),h=cTe(),m=uTe(),g=dTe(),p=hTe(),x=gTe(),b=vTe(),y=Ze({resolver:et(bTe),defaultValues:{provider_id:null,model_name:"",temperature:.7,max_tokens:4096}}),w=S=>{r?m.mutate({id:r.id,data:{name:S.name,slug:S.slug,api_endpoint_base:S.api_endpoint_base??void 0,priority:S.priority,is_default:S.is_default,status:S.status}},{onSettled:()=>{n(null),t(!1)}}):h.mutate({name:S.name,slug:S.slug,api_endpoint_base:S.api_endpoint_base??null,priority:S.priority,is_default:S.is_default,status:S.status},{onSuccess:()=>t(!1)})},_=y.handleSubmit(async S=>{var C,O;const N=S.provider_id??((C=i.find(L=>L.is_default))==null?void 0:C.id)??((O=i[0])==null?void 0:O.id)??null,k=await p.mutateAsync({provider_id:N,status:"pending"});await b.mutateAsync({request_id:k.id,model_name:S.model_name??null,temperature:S.temperature??null,max_tokens:S.max_tokens??null}),await x.mutateAsync({request_id:k.id,provider_id:N,token_count_input:0,token_count_output:0}),y.reset()}),j=f.slice().reverse().reduce((S,N)=>{const k=Qa(N.created_at,"yyyy-MM-dd");S.find(O=>O.date===k)||S.push({date:k,tokens:0,requests:0});const C=S.find(O=>O.date===k);return C&&(C.tokens+=N.token_count_input+N.token_count_output,C.requests+=1),S},[]);return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Model Providers"})}),a.jsxs(Ra,{defaultValue:"request",className:"space-y-4",children:[a.jsxs(Ys,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsxs(jt,{value:"request",className:"gap-2",children:[a.jsx(wd,{className:"h-4 w-4"}),"Request"]}),a.jsxs(jt,{value:"usage",className:"gap-2",children:[a.jsx(vh,{className:"h-4 w-4"}),"Usage"]}),a.jsxs(jt,{value:"providers",className:"gap-2",children:[a.jsx(Sa,{className:"h-4 w-4"}),"Providers"]})]}),a.jsxs(_t,{value:"request",className:"space-y-4",children:[a.jsxs(X,{className:"shadow-card",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"New request"}),a.jsx(he,{children:"Select provider and optional overrides. Request will be logged for usage and history."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:_,className:"flex flex-col gap-4 sm:max-w-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Provider"}),a.jsxs(ot,{value:y.watch("provider_id")??"",onValueChange:S=>y.setValue("provider_id",S||null),children:[a.jsx(at,{children:a.jsx(lt,{placeholder:"Default provider"})}),a.jsxs(it,{children:[i.map(S=>a.jsxs(ke,{value:S.id,children:[S.name," ",S.is_default&&"(default)"]},S.id)),i.length===0&&a.jsx(ke,{value:"_none",disabled:!0,children:"Add a provider first"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"model_name",children:"Model (optional)"}),a.jsx(ge,{id:"model_name",placeholder:"e.g. gpt-4o",...y.register("model_name")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"temperature",children:"Temperature"}),a.jsx(ge,{id:"temperature",type:"number",step:.1,min:0,max:2,...y.register("temperature")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"max_tokens",children:"Max tokens"}),a.jsx(ge,{id:"max_tokens",type:"number",...y.register("max_tokens")})]})]}),a.jsx(P,{type:"submit",disabled:p.isPending||i.length===0,children:p.isPending?"Submitting":"Log request"})]})})]}),a.jsxs(X,{className:"shadow-card",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Recent requests"}),a.jsx(he,{children:"Last 50 model requests"})]}),a.jsx(Z,{children:c?a.jsx(oe,{className:"h-32 w-full rounded-lg"}):l.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No requests yet. Submit a request above or run from chat/skills."}):a.jsx(ht,{className:"h-64",children:a.jsx("ul",{className:"space-y-2",children:l.map(S=>{var N;return a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border p-3 transition-colors hover:bg-secondary/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(gp,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:S.provider_id?((N=i.find(k=>k.id===S.provider_id))==null?void 0:N.name)??"Unknown":"No provider"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:vr(S.created_at,{addSuffix:!0})})]})]}),a.jsx(ze,{variant:wTe[S.status],children:S.status})]},S.id)})})})})]})]}),a.jsxs(_t,{value:"usage",className:"space-y-4",children:[d?a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsx(oe,{className:"h-24 rounded-lg"}),a.jsx(oe,{className:"h-24 rounded-lg"}),a.jsx(oe,{className:"h-24 rounded-lg"})]}):a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-sm font-medium",children:"Total input tokens"}),a.jsx(LE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalInputTokens)??0})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-sm font-medium",children:"Total output tokens"}),a.jsx(LE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalOutputTokens)??0})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-sm font-medium",children:"Requests (period)"}),a.jsx(qH,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.requestCount)??0})})]})]}),a.jsxs(X,{className:"shadow-card",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Usage over time"}),a.jsx(he,{children:"Tokens and request count (last 7 days by default)"})]}),a.jsx(Z,{children:j.length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-8 text-center",children:"No usage data in this period."}):a.jsx(f1,{width:"100%",height:280,children:a.jsxs(n6,{data:j,children:[a.jsx(ax,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Dc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Lc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Ps,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"}}),a.jsx(fo,{type:"monotone",dataKey:"tokens",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Tokens"})]})})})]})]}),a.jsxs(_t,{value:"providers",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure AI model providers (OpenAI, Anthropic, local). Priority and default control routing and failover."}),a.jsxs(P,{onClick:()=>{n(null),t(!0)},children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add provider"]})]}),o?a.jsx(oe,{className:"h-48 w-full rounded-lg"}):i.length===0?a.jsx(X,{className:"shadow-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Sa,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"No providers yet. Add one to start logging requests and usage."}),a.jsxs(P,{onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add provider"]})]})}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.map(S=>a.jsxs(X,{className:"shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",children:[a.jsxs(ee,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ne,{className:"text-base flex items-center gap-2",children:[S.name,S.is_default&&a.jsx(ze,{variant:"secondary",className:"text-xs",children:"Default"})]}),a.jsxs(he,{className:"text-xs mt-1",children:[S.api_endpoint_base??S.slug," Priority ",S.priority]})]}),a.jsxs(Us,{children:[a.jsx(qs,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(Na,{className:"h-4 w-4"})})}),a.jsxs(gs,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{n(S),t(!0)},children:[a.jsx($i,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>g.mutate(S.id),children:[a.jsx(rn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]}),a.jsx(Z,{children:a.jsx(ze,{variant:jTe[S.status],children:S.status})})]},S.id))})]})]}),a.jsx(xTe,{open:e,onOpenChange:t,onSubmit:w,isSubmitting:h.isPending||m.isPending,provider:r})]})}const qn={getProfiles:async()=>{const{data:e,error:t}=await U.from("browser_profiles").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProfile:async e=>{const{data:t,error:r}=await U.from("browser_profiles").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProfile:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("browser_profiles").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProfile:async(e,t)=>{const{data:r,error:n}=await U.from("browser_profiles").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProfile:async e=>{const{error:t}=await U.from("browser_profiles").delete().eq("id",e);if(t)throw new Error(t.message)},getTabs:async e=>{if(!e)return[];const{data:t,error:r}=await U.from("browser_tabs").select("*").eq("browser_profile_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getTab:async e=>{const{data:t,error:r}=await U.from("browser_tabs").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertTabs:async(e,t)=>{const r=t.map(i=>({...i,browser_profile_id:e})),{data:n,error:s}=await U.from("browser_tabs").upsert(r,{onConflict:"id"}).select();if(s)throw new Error(s.message);return n??[]},updateTab:async(e,t)=>{const{data:r,error:n}=await U.from("browser_tabs").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteTab:async e=>{const{error:t}=await U.from("browser_tabs").delete().eq("id",e);if(t)throw new Error(t.message)},getScripts:async()=>{const{data:e,error:t}=await U.from("browser_scripts").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getScript:async e=>{const{data:t,error:r}=await U.from("browser_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createScript:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("browser_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateScript:async(e,t)=>{const{data:r,error:n}=await U.from("browser_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteScript:async e=>{const{error:t}=await U.from("browser_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getCaptureRecords:async(e,t)=>{if(!e)return[];let r=U.from("browser_capture_records").select("*").eq("browser_profile_id",e).order("created_at",{ascending:!1});t!=null&&t.type&&(r=r.eq("capture_type",t.type)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createCaptureRecord:async e=>{const{data:t,error:r}=await U.from("browser_capture_records").insert(e).select().single();if(r)throw new Error(r.message);return t},getCommands:async e=>{if(!e)return[];const{data:t,error:r}=await U.from("browser_commands").select("*").eq("browser_profile_id",e).order("sequence_order",{ascending:!0}).order("created_at",{ascending:!0});if(r)throw new Error(r.message);return t??[]},getCommand:async e=>{const{data:t,error:r}=await U.from("browser_commands").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCommand:async e=>{const{data:t,error:r}=await U.from("browser_commands").insert(e).select().single();if(r)throw new Error(r.message);return t},updateCommand:async(e,t)=>{const{data:r,error:n}=await U.from("browser_commands").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCommand:async e=>{const{error:t}=await U.from("browser_commands").delete().eq("id",e);if(t)throw new Error(t.message)},deleteCaptureRecord:async e=>{const{error:t}=await U.from("browser_capture_records").delete().eq("id",e);if(t)throw new Error(t.message)},getCdpTokens:async()=>{const{data:e,error:t}=await U.from("browser_cdp_tokens").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getCdpToken:async e=>{const{data:t,error:r}=await U.from("browser_cdp_tokens").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCdpToken:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("browser_cdp_tokens").insert(r).select().single();if(s)throw new Error(s.message);return n},updateCdpToken:async(e,t)=>{const{data:r,error:n}=await U.from("browser_cdp_tokens").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCdpToken:async e=>{const{error:t}=await U.from("browser_cdp_tokens").delete().eq("id",e);if(t)throw new Error(t.message)}};function NC(e,t){return e().catch(()=>t)}const Kt={all:["browser"],profiles:()=>[...Kt.all,"profiles"],profile:e=>[...Kt.all,"profile",e??""],tabs:e=>[...Kt.all,"tabs",e??""],tab:e=>[...Kt.all,"tab",e??""],scripts:()=>[...Kt.all,"scripts"],script:e=>[...Kt.all,"script",e??""],captures:(e,t)=>[...Kt.all,"captures",e??"",t],commands:e=>[...Kt.all,"commands",e??""],command:e=>[...Kt.all,"command",e??""],cdpTokens:()=>[...Kt.all,"cdpTokens"],cdpToken:e=>[...Kt.all,"cdpToken",e??""]};function STe(){return Se({queryKey:Kt.profiles(),queryFn:()=>NC(()=>qn.getProfiles(),[])})}function NTe(e){return Se({queryKey:Kt.profile(e),queryFn:()=>e?qn.getProfile(e):Promise.resolve(null),enabled:!!e})}function kTe(){const e=ue();return ce({mutationFn:t=>qn.createProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.profiles()}),q.success("Profile created")},onError:t=>{q.error(t.message||"Failed to create profile")}})}function CTe(){const e=ue();return ce({mutationFn:({id:t,data:r})=>qn.updateProfile(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Kt.profiles()}),e.invalidateQueries({queryKey:Kt.profile(r)}),q.success("Profile updated")},onError:t=>{q.error(t.message||"Failed to update profile")}})}function ETe(e){return Se({queryKey:Kt.tabs(e),queryFn:()=>qn.getTabs(e),enabled:!!e})}function PTe(){return Se({queryKey:Kt.scripts(),queryFn:()=>NC(()=>qn.getScripts(),[])})}function OTe(){const e=ue();return ce({mutationFn:t=>qn.createScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.scripts()}),q.success("Script added")},onError:t=>{q.error(t.message||"Failed to add script")}})}function ATe(e,t){return Se({queryKey:Kt.captures(e,t),queryFn:()=>qn.getCaptureRecords(e,t),enabled:!!e})}function TTe(){const e=ue();return ce({mutationFn:t=>qn.createCaptureRecord(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Kt.captures(r.browser_profile_id)}),q.success("Capture saved")},onError:t=>{q.error(t.message||"Failed to save capture")}})}function RTe(){const e=ue();return ce({mutationFn:t=>qn.deleteCaptureRecord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.all}),q.success("Capture removed")},onError:t=>{q.error(t.message||"Failed to remove capture")}})}function MTe(e){return Se({queryKey:Kt.commands(e),queryFn:()=>qn.getCommands(e),enabled:!!e})}function $Te(){const e=ue();return ce({mutationFn:t=>qn.createCommand(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Kt.commands(r.browser_profile_id)}),q.success("Command added to queue")},onError:t=>{q.error(t.message||"Failed to add command")}})}function ITe(){const e=ue();return ce({mutationFn:t=>qn.deleteCommand(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.all}),q.success("Command removed")},onError:t=>{q.error(t.message||"Failed to remove command")}})}function DTe(){return Se({queryKey:Kt.cdpTokens(),queryFn:()=>NC(()=>qn.getCdpTokens(),[])})}function LTe(){const e=ue();return ce({mutationFn:t=>qn.createCdpToken(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.cdpTokens()}),q.success("CDP token added")},onError:t=>{q.error(t.message||"Failed to add CDP token")}})}function FTe({open:e,onOpenChange:t,action:r,onConfirm:n,isPending:s=!1,profilePath:i,isIsolated:o=!0}){const l=r==="start";return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:l?"Start managed profile":"Stop managed profile"}),a.jsx(Ae,{children:l?"Start the managed Chromium profile. The profile will run in an isolated environment.":"Stop the managed Chromium profile. Any open tabs and automation will be terminated."})]}),(i!=null||o!=null)&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm text-muted-foreground",children:[i&&a.jsxs("p",{className:"truncate",title:i,children:[a.jsx("span",{className:"font-medium text-foreground",children:"Path:"})," ",i]}),o!=null&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-foreground",children:"Isolation:"})," ",o?"Enabled":"Disabled"]})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:l?"default":"destructive",onClick:()=>{n(),t(!1)},disabled:s,children:s?"Please wait":l?a.jsxs(a.Fragment,{children:[a.jsx(Ds,{className:"mr-2 h-4 w-4"}),"Start profile"]}):a.jsxs(a.Fragment,{children:[a.jsx(mm,{className:"mr-2 h-4 w-4"}),"Stop profile"]})})]})]})})}function UTe({open:e,onOpenChange:t,tab:r}){if(!r)return null;const n=r.url||"about:blank",s=r.title||n;return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Pe,{children:[a.jsx(Oe,{className:"flex items-center gap-2 truncate pr-8",children:s}),a.jsx(Ae,{className:"break-all",children:n})]}),a.jsxs("div",{className:"space-y-4",children:[r.snapshot_url&&a.jsx("div",{className:"rounded-lg border border-border overflow-hidden bg-secondary/30",children:a.jsx("img",{src:r.snapshot_url,alt:`Snapshot of ${s}`,className:"w-full h-auto max-h-48 object-cover object-top"})}),a.jsxs("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"URL"}),a.jsx("dd",{className:"min-w-0 truncate text-right font-mono text-xs",title:r.url,children:r.url||""})]}),r.external_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"External ID"}),a.jsx("dd",{className:"font-mono text-xs",children:r.external_id})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Updated"}),a.jsx("dd",{children:new Date(r.updated_at).toLocaleString()})]})]}),n.startsWith("http")&&a.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:J("inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium","bg-primary/10 text-primary hover:bg-primary/20 transition-colors"),children:[a.jsx(Mi,{className:"h-4 w-4"}),"Open in new tab"]})]})]})})}const qTe=tt({name:we().min(1,"Name is required").max(200,"Name too long"),script_content:we().optional()}),eM={name:"",script_content:""};function BTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=Ze({resolver:et(qTe),defaultValues:eM}),c=u=>{var d;r({name:u.name.trim(),script_content:((d=u.script_content)==null?void 0:d.trim())||null,execution_status:"pending"}),o(eM),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Add automation script"}),a.jsx(Ae,{children:"Upload or paste an automation script. It will appear in the Automation Runner and can be executed against the managed profile."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"script-name",children:"Script name"}),a.jsx(ge,{id:"script-name",placeholder:"e.g. login-flow.js",...s("name"),className:l.name?"border-destructive":""}),l.name&&a.jsx("p",{className:"text-sm text-destructive",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"script-content",children:"Content (optional)"}),a.jsx("textarea",{id:"script-content",placeholder:"Paste script content or leave empty to upload later",...s("script_content"),rows:6,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Adding":"Add script"})]})]})]})})}const zTe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},WTe={screenshot:hm,pdf:sr,dom:Fv};function VTe({open:e,onOpenChange:t,captureType:r,fileUrl:n,filePath:s,onDownload:i,onClose:o}){const l=WTe[r],c=zTe[r],u=!!n,d=()=>{o==null||o(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Pe,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(l,{className:"h-5 w-5 text-accent"}),c," captured"]}),a.jsxs(Ae,{children:["Your ",c.toLowerCase()," has been saved. You can download it or continue capturing."]})]}),s&&a.jsx("p",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm font-mono text-muted-foreground truncate",title:s,children:s}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:d,children:"Close"}),u&&a.jsxs(P,{onClick:()=>{if(i==null||i(),n){const f=document.createElement("a");f.href=n,f.download=`capture-${r}-${Date.now()}`,f.click()}d()},children:[a.jsx(Nr,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})}const KTe=tt({connection_type:ir(["local","node_proxy"]),token_preview:we().max(20).optional(),config_json:we().optional()}),F0={connection_type:"local",token_preview:"",config_json:"{}"};function HTe({open:e,onOpenChange:t,existing:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=Ze({resolver:et(KTe),defaultValues:r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:F0}),f=c("connection_type");v.useEffect(()=>{e&&u(r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:F0)},[e,r,u]);const h=m=>{let g={};try{g=m.config_json?JSON.parse(m.config_json):{}}catch{g={}}n(r?{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}:{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}),u(F0),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:r?"Edit CDP connector":"Add CDP connector"}),a.jsx(Ae,{children:"Configure local or node proxy CDP connection. Sensitive token data is stored securely and only a redacted preview is shown here."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Connection type"}),a.jsxs(ot,{value:f,onValueChange:m=>l("connection_type",m),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(ke,{value:"local",children:"Local"}),a.jsx(ke,{value:"node_proxy",children:"Node proxy"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{htmlFor:"token-preview",className:"flex items-center gap-2",children:[a.jsx(BI,{className:"h-4 w-4 text-muted-foreground"}),"Token preview (redacted)"]}),a.jsx(ge,{id:"token-preview",placeholder:"e.g. ws://***...***",...i("token_preview")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional label or redacted preview for this token. The actual token is never stored in plain text."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"config-json",children:"Config (JSON, optional)"}),a.jsx("textarea",{id:"config-json",placeholder:'{"host": "localhost", "port": 9222}',...i("config_json"),rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),d.config_json&&a.jsx("p",{className:"text-sm text-destructive",children:d.config_json.message})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":r?"Save changes":"Add connector"})]})]})]})})}const GTe=[{value:"click",label:"Click"},{value:"type",label:"Type"},{value:"select",label:"Select"},{value:"navigate",label:"Navigate"},{value:"scroll",label:"Scroll"},{value:"wait",label:"Wait"},{value:"screenshot",label:"Screenshot"}],YTe=tt({command_type:ir(["click","type","select","navigate","scroll","wait","screenshot"]),selector:we().optional(),text:we().optional(),url:we().url().optional().or(uk("")),value:we().optional(),x:Tn.number().optional(),y:Tn.number().optional(),ms:Tn.number().min(0).optional(),sequence_order:Tn.number().min(0).optional()}),U0={command_type:"click",selector:"",text:"",url:"",value:"",sequence_order:0};function QTe({open:e,onOpenChange:t,browserProfileId:r,nextSequenceOrder:n,onSubmit:s,isSubmitting:i=!1}){const{register:o,handleSubmit:l,watch:c,setValue:u,reset:d,formState:{errors:f}}=Ze({resolver:et(YTe),defaultValues:{...U0,sequence_order:n}}),h=c("command_type");v.useEffect(()=>{e&&r&&d({...U0,sequence_order:n})},[e,r,n,d]);const m=p=>{var b,y;const x={};return(b=p.selector)!=null&&b.trim()&&(x.selector=p.selector.trim()),p.text!==void 0&&p.text!==""&&(x.text=p.text),(y=p.url)!=null&&y.trim()&&(x.url=p.url.trim()),p.value!==void 0&&p.value!==""&&(x.value=p.value),p.x!==void 0&&(x.x=p.x),p.y!==void 0&&(x.y=p.y),p.ms!==void 0&&(x.ms=p.ms),x},g=p=>{if(!r)return;const x=m(p);s({browser_profile_id:r,command_type:p.command_type,parameters:x,sequence_order:p.sequence_order??n,status:"pending"}),d({...U0,sequence_order:n+1}),t(!1)};return r?a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[480px]",showClose:!0,children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Add command to queue"}),a.jsx(Ae,{children:"Add an automation command. Commands run in sequence within the deterministic tab control environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Command type"}),a.jsxs(ot,{value:h,onValueChange:p=>u("command_type",p),children:[a.jsx(at,{className:"w-full",children:a.jsx(lt,{placeholder:"Select type"})}),a.jsx(it,{children:GTe.map(({value:p,label:x})=>a.jsx(ke,{value:p,children:x},p))})]})]}),(h==="click"||h==="type"||h==="select"||h==="wait")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"selector",children:"Selector (CSS or XPath)"}),a.jsx(ge,{id:"selector",placeholder:"e.g. #submit-btn or //button[text()='OK']",...o("selector"),className:f.selector?"border-destructive":""}),f.selector&&a.jsx("p",{className:"text-sm text-destructive",children:f.selector.message})]}),h==="type"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"text",children:"Text to type"}),a.jsx(ge,{id:"text",placeholder:"Text to enter",...o("text"),className:f.text?"border-destructive":""})]}),h==="select"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"value",children:"Option value"}),a.jsx(ge,{id:"value",placeholder:"Value to select",...o("value")})]}),h==="navigate"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"url",children:"URL"}),a.jsx(ge,{id:"url",type:"url",placeholder:"https://example.com",...o("url"),className:f.url?"border-destructive":""}),f.url&&a.jsx("p",{className:"text-sm text-destructive",children:f.url.message})]}),h==="scroll"&&a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"scroll-x",children:"X (px)"}),a.jsx(ge,{id:"scroll-x",type:"number",placeholder:"0",...o("x")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"scroll-y",children:"Y (px)"}),a.jsx(ge,{id:"scroll-y",type:"number",placeholder:"0",...o("y")})]})]}),h==="wait"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"ms",children:"Delay (ms)"}),a.jsx(ge,{id:"ms",type:"number",min:0,placeholder:"1000",...o("ms"),className:f.ms?"border-destructive":""}),f.ms&&a.jsx("p",{className:"text-sm text-destructive",children:f.ms.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"sequence_order",children:"Order in queue"}),a.jsx(ge,{id:"sequence_order",type:"number",min:0,...o("sequence_order"),className:f.sequence_order?"border-destructive":""}),f.sequence_order&&a.jsx("p",{className:"text-sm text-destructive",children:f.sequence_order.message})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:i,className:"transition-transform hover:scale-[1.02]",children:i?"Adding":"Add command"})]})]})]})}):null}const XTe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},JTe={screenshot:hm,pdf:sr,dom:Fv};function ZTe({open:e,onOpenChange:t,captures:r,onDownload:n,onDelete:s,isDeleting:i=!1}){const o=l=>{l.file_url&&window.open(l.file_url,"_blank","noopener,noreferrer")};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[640px] max-h-[85vh] flex flex-col",showClose:!0,children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Captured outputs"}),a.jsx(Ae,{children:"View, download, or delete captured screenshots, PDFs, and DOM snapshots from this session."})]}),a.jsx(ht,{className:"flex-1 min-h-[200px] rounded-lg border border-border",children:r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[a.jsx(hm,{className:"h-12 w-12 mb-3 opacity-50"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No captures yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Capture a screenshot, PDF, or DOM snapshot from the session to see them here."})]}):a.jsx("ul",{className:"p-2 space-y-2",children:r.map(l=>{const c=JTe[l.capture_type],u=XTe[l.capture_type],d=new Date(l.created_at).toLocaleString(),f=!!l.file_url;return a.jsxs("li",{className:J("flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3","transition-shadow hover:shadow-md"),children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-md bg-primary/10 text-primary",children:a.jsx(c,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:u}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",title:l.file_path??l.file_url??"",children:l.file_path??l.file_url??d}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f&&a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>o(l),"aria-label":"View in new tab",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(Mi,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>n(l),"aria-label":"Download",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(Nr,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>s(l.id),disabled:i,"aria-label":"Delete",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:a.jsx(rn,{className:"h-4 w-4"})})]})]},l.id)})})})]})})}const eRe={running:"Running",stopped:"Stopped",starting:"Starting",stopping:"Stopping",error:"Error"},tM={click:"Click",type:"Type",select:"Select",navigate:"Navigate",scroll:"Scroll",wait:"Wait",screenshot:"Screenshot"};function tRe(){const[e,t]=v.useState(null),[r,n]=v.useState(null),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(null),[h,m]=v.useState(!1),[g,p]=v.useState(!1),[x,b]=v.useState(!1),{data:y=[],isLoading:w}=STe(),_=v.useMemo(()=>y.find(Y=>Y.status==="running")??y[0]??null,[y]),j=r??(_==null?void 0:_.id)??null,{data:S}=NTe(j),{data:N=[],isLoading:k,refetch:C}=ETe(j),{data:O=[],isLoading:L}=PTe(),{data:E=[]}=ATe(j,{limit:20}),{data:F=[]}=DTe(),{data:$=[],isLoading:K}=MTe(j),T=CTe(),V=kTe(),R=OTe(),I=TTe(),D=RTe(),te=LTe(),A=$Te(),re=ITe(),ye=(S==null?void 0:S.status)==="running",We=v.useMemo(()=>$.length===0?0:Math.max(...$.map(Y=>Y.sequence_order),0)+1,[$]),Ke=Y=>{j&&t({open:!0,action:Y})},pe=()=>{if(!e||!j)return;const Y=e.action==="start"?"running":"stopped";T.mutate({id:j,data:{status:Y}},{onSettled:()=>t(null)})},Ne=Y=>{j&&I.mutate({browser_profile_id:j,capture_type:Y,file_path:null,file_url:`/api/browser/captures/${Y}-${Date.now()}`,tab_id:null},{onSuccess:Q=>{f({open:!0,type:Y,fileUrl:Q.file_url,filePath:Q.file_path})}})},se=Y=>{if(Y.file_url){const Q=document.createElement("a");Q.href=Y.file_url,Q.download=`capture-${Y.capture_type}-${Date.now()}`,Q.click()}},ve=v.useMemo(()=>{const Y=[];return $.slice(0,5).forEach(Q=>{Y.push({id:Q.id,label:`${tM[Q.command_type]}  ${Q.status}`,time:new Date(Q.created_at).toLocaleTimeString(),createdAt:Q.created_at})}),E.slice(0,3).forEach(Q=>{Y.push({id:Q.id,label:`Capture: ${Q.capture_type}`,time:new Date(Q.created_at).toLocaleTimeString(),createdAt:Q.created_at})}),Y.sort((Q,Xe)=>Xe.createdAt.localeCompare(Q.createdAt)).slice(0,8).map(({id:Q,label:Xe,time:He})=>({id:Q,label:Xe,time:He}))},[$,E]);return a.jsxs("div",{className:"flex flex-col h-full animate-fade-in-up",children:[a.jsxs("header",{className:"shrink-0 mb-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Browser Automation Console"}),a.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Managed Chromium profile, command queue, and capture tools. Control your session from the footer."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0",children:[a.jsxs(X,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(WI,{className:"h-5 w-5 text-primary"}),"Command Queue"]}),a.jsxs(P,{size:"sm",onClick:()=>p(!0),disabled:!j||A.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Dt,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(he,{children:"Add and manage automation commands. They run in sequence."})]}),a.jsx(Z,{className:"flex-1 flex flex-col min-h-0",children:j?K?a.jsx("ul",{className:"space-y-2",children:[1,2,3].map(Y=>a.jsx(oe,{className:"h-10 rounded-md"},Y))}):$.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(RH,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No commands in queue"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a command to run automations."}),a.jsxs(P,{className:"mt-3 transition-transform hover:scale-[1.02]",variant:"outline",size:"sm",onClick:()=>p(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add command"]})]}):a.jsx(ht,{className:"flex-1 -mx-1 px-1",children:a.jsx("ul",{className:"space-y-1",children:$.map(Y=>a.jsxs("li",{className:"flex items-center gap-2 rounded-md border border-border bg-secondary/30 px-2 py-1.5 group",children:[a.jsx("span",{className:"text-xs text-muted-foreground w-6 shrink-0",children:Y.sequence_order+1}),a.jsx("span",{className:"truncate text-sm flex-1",children:tM[Y.command_type]}),a.jsx(ze,{variant:"secondary",className:"text-xs shrink-0",children:Y.status}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>re.mutate(Y.id),disabled:re.isPending,"aria-label":"Remove command",children:a.jsx(rn,{className:"h-3 w-3"})})]},Y.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select or create a profile to add commands."})})]}),a.jsxs(X,{className:"lg:col-span-6 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Ix,{className:"h-5 w-5 text-primary"}),"Browser Viewport"]}),j&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:j,onChange:Y=>n(Y.target.value||null),children:y.map(Y=>a.jsxs("option",{value:Y.id,children:["Profile  ",eRe[Y.status]??Y.status]},Y.id))}),a.jsxs(P,{size:"sm",onClick:()=>Ke("start"),disabled:ye||T.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ds,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Ke("stop"),disabled:!ye||T.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(mm,{className:"h-4 w-4 mr-1"}),"Stop"]}),a.jsx(P,{variant:"ghost",size:"sm",onClick:()=>C(),disabled:k||!ye,children:a.jsx(hf,{className:J("h-4 w-4",k&&"animate-spin")})})]})]}),a.jsx(he,{children:"Tab inspector and active session. Start the profile to see tabs."})]}),a.jsx(Z,{className:"flex-1 flex flex-col min-h-0",children:j?k?a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:[1,2,3,4].map(Y=>a.jsx(oe,{className:"h-24 rounded-lg"},Y))}):N.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(FE,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No tabs"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:ye?"Open pages in the managed browser or refresh.":"Start the profile to see tabs."})]}):a.jsx(ht,{className:"flex-1",children:a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:N.map(Y=>a.jsxs("button",{type:"button",onClick:()=>{i(Y),l(!0)},className:"flex flex-col overflow-hidden rounded-lg border border-border bg-secondary/30 text-left transition-all hover:border-primary/50 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[Y.snapshot_url?a.jsx("img",{src:Y.snapshot_url,alt:"",className:"h-20 w-full object-cover object-top"}):a.jsx("div",{className:"flex h-20 w-full items-center justify-center bg-muted",children:a.jsx(FE,{className:"h-8 w-8 text-muted-foreground"})}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"truncate text-sm font-medium",title:Y.title??Y.url,children:Y.title||Y.url||"Untitled"}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",title:Y.url,children:Y.url||""})]})]},Y.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a profile to start."})})]}),a.jsxs(X,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(hm,{className:"h-5 w-5 text-primary"}),"Output Capture"]}),a.jsx(he,{children:"Screenshot, PDF, or DOM snapshot. View and manage captures below."})]}),a.jsxs(Z,{className:"flex-1 flex flex-col gap-3 min-h-0",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Ne("screenshot"),disabled:!j||!ye||I.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(hm,{className:"h-4 w-4 mr-1"}),"Screenshot"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Ne("pdf"),disabled:!j||!ye||I.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(sr,{className:"h-4 w-4 mr-1"}),"PDF"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Ne("dom"),disabled:!j||!ye||I.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Fv,{className:"h-4 w-4 mr-1"}),"DOM"]})]}),a.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recent"}),a.jsxs(P,{variant:"ghost",size:"sm",onClick:()=>b(!0),className:"text-primary hover:text-primary",children:["Manage",a.jsx(jr,{className:"h-4 w-4 ml-0.5"})]})]}),E.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No captures yet."}):a.jsx(ht,{className:"flex-1",children:a.jsx("ul",{className:"space-y-1",children:E.slice(0,5).map(Y=>a.jsxs("li",{className:"flex items-center justify-between rounded-md border border-border bg-secondary/30 px-2 py-1.5 text-sm",children:[a.jsx("span",{children:Y.capture_type}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(Y.created_at).toLocaleDateString()})]},Y.id))})})]})]})]})]}),a.jsx("footer",{className:"shrink-0 mt-4 pt-4 border-t border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Session"}),y.length>0&&j&&a.jsxs(a.Fragment,{children:[a.jsxs(P,{size:"sm",onClick:()=>Ke("start"),disabled:ye||T.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ds,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Ke("stop"),disabled:!ye||T.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(mm,{className:"h-4 w-4 mr-1"}),"Stop"]})]}),y.length===0&&a.jsx(P,{size:"sm",variant:"outline",onClick:()=>V.mutate({status:"stopped",is_isolated:!0}),disabled:V.isPending,children:V.isPending?"Creating":"Create profile"})]}),a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(gp,{className:"h-4 w-4 text-muted-foreground shrink-0"}),a.jsx(ht,{className:"max-w-full",children:a.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground",children:ve.length===0?a.jsx("span",{children:"No activity yet"}):ve.map(Y=>a.jsx("span",{className:"shrink-0 whitespace-nowrap",title:Y.time,children:Y.label},Y.id))})})]})]})}),!w&&y.length===0&&a.jsx(X,{className:"mt-4 shadow-card",children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No profile yet. Create a default profile to start the managed browser."}),a.jsx(P,{size:"sm",variant:"outline",onClick:()=>V.mutate({status:"stopped",is_isolated:!0}),disabled:V.isPending,className:"transition-transform hover:scale-[1.02]",children:V.isPending?"Creating":"Create profile"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-base",children:[a.jsx(Fv,{className:"h-4 w-4 text-primary"}),"Automation Runner"]}),a.jsxs(P,{size:"sm",onClick:()=>u(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(XI,{className:"h-4 w-4 mr-1"}),"Add script"]})]}),a.jsx(he,{children:"Upload and run automation scripts."})]}),a.jsx(Z,{children:L?a.jsx(oe,{className:"h-10 rounded-md"}):O.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No scripts. Add one to run automations."}):a.jsx("ul",{className:"space-y-1",children:O.slice(0,3).map(Y=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"truncate",children:Y.name}),a.jsx(ze,{variant:"secondary",children:Y.execution_status})]},Y.id))})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-base",children:[a.jsx($n,{className:"h-4 w-4 text-primary"}),"CDP Connector"]}),a.jsxs(P,{size:"sm",variant:"outline",onClick:()=>m(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Dt,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(he,{children:"Local or node proxy CDP settings."})]}),a.jsx(Z,{children:F.length===0?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(BI,{className:"h-4 w-4"}),"No CDP connectors. Add one for remote CDP."]}):a.jsx("ul",{className:"space-y-1",children:F.slice(0,3).map(Y=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-mono truncate",children:Y.token_preview||Y.connection_type}),a.jsx(ze,{variant:"secondary",children:Y.connection_type})]},Y.id))})})]})]}),e&&a.jsx(FTe,{open:e.open,onOpenChange:Y=>!Y&&t(null),action:e.action,onConfirm:pe,isPending:T.isPending,profilePath:S==null?void 0:S.footprint_path,isIsolated:S==null?void 0:S.is_isolated}),a.jsx(UTe,{open:o,onOpenChange:l,tab:s}),a.jsx(BTe,{open:c,onOpenChange:u,onSubmit:Y=>R.mutate(Y),isSubmitting:R.isPending}),d&&a.jsx(VTe,{open:d.open,onOpenChange:Y=>!Y&&f(null),captureType:d.type,fileUrl:d.fileUrl,filePath:d.filePath}),a.jsx(HTe,{open:h,onOpenChange:m,existing:null,onSubmit:Y=>te.mutate(Y),isSubmitting:te.isPending}),a.jsx(QTe,{open:g,onOpenChange:p,browserProfileId:j,nextSequenceOrder:We,onSubmit:Y=>A.mutate(Y),isSubmitting:A.isPending}),a.jsx(ZTe,{open:x,onOpenChange:b,captures:E,onDownload:se,onDelete:Y=>D.mutate(Y),isDeleting:D.isPending})]})}const Qb="/runtime",pu=`${Qb}/tools`,Ol=`${Qb}/runs`,Ug=`${Qb}/feedback`,Da={listTools:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return de.get(`${pu}${t?`?${t}`:""}`)},getTool:e=>de.get(`${pu}/${e}`),createTool:e=>de.post(pu,e),updateTool:(e,t)=>de.patch(`${pu}/${e}`,t),deleteTool:e=>de.delete(`${pu}/${e}`),checkPolicy:e=>de.get(`${pu}/${e}/check-policy`),checkSkillPolicy:e=>de.get(`${Qb}/skills/${e}/check-policy`),listRuns:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null).map(([r,n])=>[r,String(n)])).toString():"";return de.get(`${Ol}${t?`?${t}`:""}`)},getRun:e=>de.get(`${Ol}/${e}`),startRun:e=>de.post(`${Ol}/start`,e),abortRun:e=>de.post(`${Ol}/${e}/abort`,{}),updateRun:(e,t)=>de.patch(`${Ol}/${e}`,t),listOutputs:(e,t)=>{const r=t?new URLSearchParams(Object.entries(t).map(([n,s])=>[n,String(s)])).toString():"";return de.get(`${Ol}/${e}/outputs${r?`?${r}`:""}`)},createOutput:(e,t)=>de.post(`${Ol}/${e}/outputs`,t),getFeedback:e=>de.get(`${Ug}?run_id=${encodeURIComponent(e)}`),listFeedback:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return de.get(`${Ug}${t?`?${t}`:""}`)},submitFeedback:e=>de.post(Ug,e),updateFeedback:(e,t)=>de.patch(`${Ug}/${e}`,t)};function Dp(e,t){return e().catch(()=>t)}const Br={all:["runtime"],tools:e=>[...Br.all,"tools",e],tool:e=>[...Br.all,"tool",e],runs:e=>[...Br.all,"runs",e],run:e=>[...Br.all,"run",e],outputs:(e,t)=>[...Br.all,"outputs",e,t],feedback:e=>[...Br.all,"feedback",e],policy:(e,t)=>[...Br.all,"policy",e,t]};function rRe(e){return Se({queryKey:Br.tools(e),queryFn:()=>Dp(()=>Da.listTools(e),[])})}function nRe(e){return Se({queryKey:Br.runs(e),queryFn:()=>Dp(()=>Da.listRuns(e),[])})}function sRe(e){return Se({queryKey:Br.run(e??""),queryFn:()=>e?Dp(()=>Da.getRun(e),null):Promise.resolve(null),enabled:!!e,refetchInterval:t=>{const r=t.state.data;return(r==null?void 0:r.status)==="running"?2e3:!1}})}function aRe(){const e=ue();return ce({mutationFn:t=>Da.startRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Br.runs()}),q.success("Run started")},onError:t=>{q.error(t.message||"Failed to start run")}})}function iRe(){const e=ue();return ce({mutationFn:t=>Da.abortRun(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Br.runs()}),e.invalidateQueries({queryKey:Br.run(r)}),q.success("Run aborted")},onError:t=>{q.error(t.message||"Failed to abort run")}})}function oRe(e,t){return Se({queryKey:Br.outputs(e??"",t),queryFn:()=>e?Dp(()=>Da.listOutputs(e,t),[]):Promise.resolve([]),enabled:!!e,refetchInterval:r=>r.queryKey[2]??""?1500:!1})}function lRe(e){return Se({queryKey:Br.feedback(e??void 0),queryFn:()=>e?Dp(()=>Da.getFeedback(e),null):Promise.resolve(null),enabled:!!e})}function cRe(){const e=ue();return ce({mutationFn:t=>Da.submitFeedback(t),onSuccess:(t,{run_id:r})=>{e.invalidateQueries({queryKey:Br.feedback(r)}),q.success("Feedback submitted")},onError:t=>{q.error(t.message||"Failed to submit feedback")}})}function uRe(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Da.updateFeedback(t,r),onSuccess:(t,{runId:r})=>{e.invalidateQueries({queryKey:Br.feedback(r)}),q.success("Feedback updated")},onError:t=>{q.error(t.message||"Failed to update feedback")}})}function dRe(e){return Se({queryKey:Br.policy("tool",e??""),queryFn:()=>e?Da.checkPolicy(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}function fRe(e){return Se({queryKey:Br.policy("skill",e??""),queryFn:()=>e?Da.checkSkillPolicy(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}const Zi=v.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Zi.displayName="Textarea";function hRe({open:e,onOpenChange:t,target:r,policyResult:n,onStart:s,isStarting:i=!1}){const[o,l]=v.useState("{}"),[c,u]=v.useState(""),[d,f]=v.useState(null),h=()=>{let y={};if(o.trim())try{y=JSON.parse(o)}catch{f("Invalid JSON");return}f(null);const w={};c.split(`
`).map(_=>_.trim()).filter(Boolean).forEach(_=>{const j=_.indexOf("=");j>0&&(w[_.slice(0,j).trim()]=_.slice(j+1).trim())}),s({parameters:Object.keys(y).length?y:void 0,env:Object.keys(w).length?w:void 0})},m=y=>{y||(l("{}"),u(""),f(null)),t(y)},g=(n==null?void 0:n.passed)??!0,p=(n==null?void 0:n.requirements)??[];if(!r)return null;const x=(r.type==="tool",r.item.name),b=r.type==="tool"?`Tool: ${r.item.tool_type}`:`Skill: ${r.item.registry_slug??r.item.name}`;return a.jsx(Re,{open:e,onOpenChange:m,children:a.jsxs(Ee,{className:"max-w-[640px]","aria-describedby":"run-config-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Run configuration"}),a.jsx(Ae,{id:"run-config-description",children:"Configure parameters and environment for this run. Policy checks must pass before starting."})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"rounded-lg border border-[rgb(var(--border))] bg-[rgb(var(--card))] p-3",children:[a.jsx("p",{className:"font-medium text-[rgb(var(--foreground))]",children:x}),a.jsx("p",{className:"text-sm text-[rgb(var(--muted-foreground))]",children:b})]}),p.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx(qc,{className:J("h-4 w-4",g?"text-[rgb(var(--success))]":"text-[rgb(var(--warning))]")}),"Policy checks"]}),a.jsx("ul",{className:"list-inside list-disc space-y-1 text-sm text-[rgb(var(--muted-foreground))]",children:p.map(y=>a.jsxs("li",{children:[y.label,": ",y.met?"Met":y.message??"Not met"]},y.id))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"params",children:"Parameters (JSON)"}),a.jsx(Zi,{id:"params",value:o,onChange:y=>l(y.target.value),placeholder:'{"key": "value"}',className:"min-h-[80px] font-mono text-sm",rows:3}),d&&a.jsx("p",{className:"text-sm text-[rgb(var(--destructive))]",children:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"env",children:"Environment (KEY=value per line)"}),a.jsx(Zi,{id:"env",value:c,onChange:y=>u(y.target.value),placeholder:"API_KEY=secret",className:"min-h-[60px] font-mono text-sm",rows:2})]})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>m(!1),disabled:i,children:"Cancel"}),a.jsx(P,{onClick:h,disabled:i||!g,className:"min-w-[100px]",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Starting"]}):"Start run"})]})]})})}function mRe({runId:e,existingFeedback:t,onSubmit:r,onUpdate:n,isSubmitting:s=!1,className:i}){const[o,l]=v.useState((t==null?void 0:t.rating)??0),[c,u]=v.useState((t==null?void 0:t.comment)??""),d=!!t;v.useEffect(()=>{t&&(l(t.rating??0),u(t.comment??""))},[t==null?void 0:t.id,t==null?void 0:t.rating,t==null?void 0:t.comment]);const f=h=>{h.preventDefault(),!(o<1||o>5)&&(d&&n?n({rating:o,comment:c.trim()}):r({rating:o,comment:c.trim()}))};return a.jsxs("form",{onSubmit:f,className:J("space-y-4",i),"aria-label":"Run feedback form",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Rating (15)"}),a.jsx("div",{className:"flex gap-1",role:"group","aria-label":"Rating",children:[1,2,3,4,5].map(h=>a.jsx("button",{type:"button",onClick:()=>l(h),className:J("rounded p-1 transition-colors hover:bg-[rgb(var(--secondary))]",o>=h?"text-[rgb(var(--warning))]":"text-[rgb(var(--muted-foreground))]"),"aria-pressed":o>=h,"aria-label":`Rate ${h} star${h>1?"s":""}`,children:a.jsx(UH,{className:J("h-6 w-6",o>=h?"fill-current":"")})},h))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:`feedback-comment-${e}`,children:"Comment (optional)"}),a.jsx(Zi,{id:`feedback-comment-${e}`,value:c,onChange:h=>u(h.target.value),placeholder:"How did this run perform?",className:"min-h-[80px]",rows:3})]}),a.jsx(P,{type:"submit",disabled:s||o<1||o>5,className:"min-w-[120px]",children:s?a.jsxs(a.Fragment,{children:[a.jsx(ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting"]}):d?"Update feedback":"Submit feedback"})]})}const rM={pending:"secondary",running:"default",completed:"outline",failed:"destructive",aborted:"secondary"};function pRe(){const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(null),{data:d=[],isLoading:f}=rRe({status:"active"}),{data:h=[],isLoading:m}=S5(),{data:g=[],isLoading:p}=nRe({limit:50}),{data:x,isLoading:b}=sRe(c),{data:y=[]}=oRe(c,{limit:200}),{data:w}=lRe(c),{data:_}=kp(),j=(_==null?void 0:_.user_id)??"",S=aRe(),N=iRe(),k=cRe(),C=uRe(),O=(o==null?void 0:o.type)==="tool"?o.item.id:null,L=(o==null?void 0:o.type)==="skill"?o.item.id:null,{data:E}=dRe(O),{data:F}=fRe(L),$=(o==null?void 0:o.type)==="tool"?E:F,K=v.useMemo(()=>{if(!e.trim())return d;const A=e.toLowerCase();return d.filter(re=>re.name.toLowerCase().includes(A)||re.tool_type.toLowerCase().includes(A))},[d,e]),T=v.useMemo(()=>{if(!r.trim())return h;const A=r.toLowerCase();return h.filter(re=>re.name.toLowerCase().includes(A)||(re.registry_slug??"").toLowerCase().includes(A))},[h,r]),V=v.useMemo(()=>g.filter(A=>A.status==="running"),[g]),R=A=>{l(A),i(!0)},I=A=>{if(!o)return;const re=o.type==="tool"?{tool_id:o.item.id,parameters:A.parameters,env:A.env}:{skill_id:o.item.id,parameters:A.parameters,env:A.env};S.mutate(re,{onSuccess:ye=>{i(!1),l(null),u(ye.run_id)}})},D=A=>{!c||!j||(w!=null&&w.id?C.mutate({id:w.id,data:{rating:A.rating,comment:A.comment||null},runId:c}):k.mutate({user_id:j,run_id:c,rating:A.rating,comment:A.comment||null}))},te=A=>{!c||!(w!=null&&w.id)||C.mutate({id:w.id,data:{rating:A.rating,comment:A.comment||null},runId:c})};return a.jsxs("div",{className:"space-y-6 animate-in fade-in-0 duration-300",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsxs("div",{children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[a.jsx(fe,{to:"/dashboard",className:"hover:text-foreground transition-colors",children:"Dashboard"}),a.jsx(jr,{className:"h-4 w-4"}),a.jsx("span",{className:"text-foreground",children:"Tool & Skill Runtime"})]}),a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Tool & Skill Runtime"})]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-12",children:[a.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[a.jsxs(X,{className:"overflow-hidden",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Sc,{className:"h-5 w-5 text-muted-foreground"}),"Run a tool or skill"]}),a.jsx(he,{children:"Select a tool or installed skill, configure parameters and environment, then start a run. Policy checks run before execution."})]}),a.jsx(Z,{children:a.jsxs(Ra,{defaultValue:"tools",className:"w-full",children:[a.jsxs(Ys,{className:"grid w-full grid-cols-2",children:[a.jsx(jt,{value:"tools",children:"Tools"}),a.jsx(jt,{value:"skills",children:"Skills"})]}),a.jsxs(_t,{value:"tools",className:"mt-4 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(_c,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{placeholder:"Search tools...",className:"pl-9",value:e,onChange:A=>t(A.target.value)})]}),f?a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:[1,2,3,4].map(A=>a.jsx(oe,{className:"h-20 rounded-lg"},A))}):K.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border bg-muted/20 py-8 text-center",children:[a.jsx(Sc,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No tools available"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Tools are defined in settings or via API. Add tools to run them here."})]}):a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:K.map(A=>a.jsx(X,{className:J("cursor-pointer transition-all duration-200 hover:shadow-md hover:border-primary/30",(o==null?void 0:o.type)==="tool"&&o.item.id===A.id&&"ring-2 ring-primary border-primary/50"),onClick:()=>R({type:"tool",item:A}),children:a.jsxs(ee,{className:"pb-2 pt-3 px-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(ne,{className:"text-sm font-medium truncate",children:A.name}),a.jsxs(P,{size:"sm",className:"shrink-0",onClick:re=>{re.stopPropagation(),R({type:"tool",item:A})},children:[a.jsx(Ds,{className:"h-3.5 w-3.5 mr-1"}),"Run"]})]}),a.jsx(he,{className:"text-xs font-mono",children:A.tool_type})]})},A.id))})]}),a.jsxs(_t,{value:"skills",className:"mt-4 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(_c,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{placeholder:"Search skills...",className:"pl-9",value:r,onChange:A=>n(A.target.value)})]}),m?a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:[1,2,3,4].map(A=>a.jsx(oe,{className:"h-20 rounded-lg"},A))}):T.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border bg-muted/20 py-8 text-center",children:[a.jsx(bc,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No skills installed"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Install skills from the Skills Library to run them here."}),a.jsx(P,{variant:"outline",asChild:!0,className:"mt-3",children:a.jsx(fe,{to:"/skills",children:"Skills Library"})})]}):a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:T.filter(A=>A.enabled).map(A=>a.jsx(X,{className:J("cursor-pointer transition-all duration-200 hover:shadow-md hover:border-primary/30",(o==null?void 0:o.type)==="skill"&&o.item.id===A.id&&"ring-2 ring-primary border-primary/50"),onClick:()=>R({type:"skill",item:A}),children:a.jsxs(ee,{className:"pb-2 pt-3 px-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(ne,{className:"text-sm font-medium truncate",children:A.name}),a.jsxs(P,{size:"sm",className:"shrink-0",onClick:re=>{re.stopPropagation(),R({type:"skill",item:A})},children:[a.jsx(Ds,{className:"h-3.5 w-3.5 mr-1"}),"Run"]})]}),a.jsxs(he,{className:"text-xs font-mono",children:["v",A.version,A.registry_slug&&`  ${A.registry_slug}`]})]})},A.id))})]})]})})]}),a.jsxs(X,{className:"overflow-hidden",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(pm,{className:"h-5 w-5 text-muted-foreground"}),"Execution console"]}),a.jsx(he,{children:"Active runs and streamed output. Select a run in the sidebar to view full output and submit feedback."})]}),a.jsxs(Z,{className:"space-y-4",children:[V.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Active runs"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:V.map(A=>a.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-border bg-card px-3 py-2",children:[a.jsx(ar,{className:"h-4 w-4 animate-spin text-primary"}),a.jsx("span",{className:"text-sm font-mono",children:A.id.slice(0,8)}),a.jsx(ze,{variant:rM[A.status],children:A.status}),a.jsx(P,{size:"sm",variant:"outline",onClick:()=>N.mutate(A.id),disabled:N.isPending,children:"Abort"})]},A.id))})]}),c&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm font-medium text-foreground",children:["Output stream",x&&a.jsxs("span",{className:"ml-2 text-muted-foreground font-normal",children:[" ",x.status,"  started"," ",vr(new Date(x.started_at),{addSuffix:!0})]})]}),a.jsx("div",{className:"min-h-[160px] max-h-[320px] overflow-auto rounded-lg border border-border bg-[rgb(var(--background))] p-3 font-mono text-sm",children:b?a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(ar,{className:"h-4 w-4 animate-spin"}),"Loading run"]}):y.length===0?a.jsx("p",{className:"text-muted-foreground",children:"No output yet. Output streams here as the run executes."}):y.map(A=>{var re;return a.jsxs("div",{className:"border-b border-border/50 py-1 last:border-0",children:[a.jsx("span",{className:"text-muted-foreground text-xs",children:new Date(A.emitted_at).toISOString()}),a.jsx("pre",{className:"mt-0.5 whitespace-pre-wrap break-all text-foreground",children:A.output_format==="json"?JSON.stringify(A.output_data,null,2):String(((re=A.output_data)==null?void 0:re.text)??A.output_data)})]},A.id)})})]}),!c&&V.length===0&&a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border bg-muted/20 py-12 text-center",children:[a.jsx(pm,{className:"h-12 w-12 text-muted-foreground mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No run selected"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Start a run from the panel above or select a run from the history in the sidebar."})]})]})]})]}),a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Mu,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(he,{children:"Recent runs. Click to view output and submit feedback."})]}),a.jsx(Z,{children:p?a.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(A=>a.jsx(oe,{className:"h-14 rounded-lg"},A))}):g.length===0?a.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"No runs yet. Start a tool or skill run above."}):a.jsx("div",{className:"space-y-2 max-h-[280px] overflow-auto",children:g.slice(0,20).map(A=>a.jsxs("button",{type:"button",onClick:()=>u(A.id),className:J("w-full flex items-center gap-3 rounded-lg border px-3 py-2 text-left transition-colors hover:bg-muted/50",c===A.id?"border-primary bg-primary/10":"border-border"),children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-mono text-muted-foreground truncate",children:A.id}),a.jsxs("p",{className:"text-sm font-medium text-foreground flex items-center gap-2 mt-0.5",children:[a.jsx(ze,{variant:rM[A.status],className:"text-xs",children:A.status}),A.policy_compliant&&a.jsx(qc,{className:"h-3.5 w-3.5 text-[rgb(var(--success))]"})]})]}),a.jsx(Ei,{className:"h-3.5 w-3.5 text-muted-foreground shrink-0"}),a.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:vr(new Date(A.started_at),{addSuffix:!0})})]},A.id))})})]}),c&&a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(ff,{className:"h-5 w-5 text-muted-foreground"}),"Feedback"]}),a.jsx(he,{children:"Rate this run and add optional comment."})]}),a.jsx(Z,{children:a.jsx(mRe,{runId:c,existingFeedback:w??void 0,onSubmit:D,onUpdate:te,isSubmitting:k.isPending||C.isPending},c)})]})]})]}),a.jsx(hRe,{open:s,onOpenChange:i,target:o,policyResult:$??null,onStart:I,isStarting:S.isPending})]})}const Js={getWakeWords:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await U.from("wake_words").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createWakeWord:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("wake_words").insert(r).select().single();if(s)throw new Error(s.message);return n},updateWakeWord:async(e,t)=>{const{data:r,error:n}=await U.from("wake_words").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWakeWord:async e=>{const{error:t}=await U.from("wake_words").delete().eq("id",e);if(t)throw new Error(t.message)},getTalkModeSettings:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await U.from("talk_mode_settings").select("*").eq("user_id",e.id).order("node_id",{ascending:!0,nullsFirst:!0});if(r)throw new Error(r.message);return t??[]},getTalkModeSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");let r=U.from("talk_mode_settings").select("*").eq("user_id",t.id);e===null?r=r.is("node_id",null):r=r.eq("node_id",e);const{data:n,error:s}=await r.maybeSingle();if(s)throw new Error(s.message);return n},upsertTalkModeSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id,node_id:e.node_id??null},{data:n,error:s}=await U.from("talk_mode_settings").upsert(r,{onConflict:"user_id,node_id"}).select().single();if(s)throw new Error(s.message);return n},updateTalkModeSetting:async(e,t)=>{const{data:r,error:n}=await U.from("talk_mode_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getTranscriptionBackends:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await U.from("transcription_backends").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTranscriptionBackends:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("transcription_backends").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTranscriptionBackends:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await U.from("transcription_backends").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getTtsProviderSetting:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await U.from("tts_provider_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTtsProviderSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("tts_provider_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTtsProviderSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await U.from("tts_provider_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getMediaSetting:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await U.from("media_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertMediaSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("media_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateMediaSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await U.from("media_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r}};function s6(e,t){return e().catch(()=>t)}const Wr={all:["voice"],wakeWords:()=>[...Wr.all,"wakeWords"],talkModeSettings:()=>[...Wr.all,"talkModeSettings"],talkModeSetting:e=>[...Wr.all,"talkModeSetting",e],transcriptionBackends:()=>[...Wr.all,"transcriptionBackends"],ttsProviderSetting:()=>[...Wr.all,"ttsProviderSetting"],mediaSetting:()=>[...Wr.all,"mediaSetting"]};function gRe(){return Se({queryKey:Wr.wakeWords(),queryFn:()=>s6(()=>Js.getWakeWords(),[])})}function vRe(){const e=ue();return ce({mutationFn:t=>Js.createWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.wakeWords()}),q.success("Wake word added")},onError:t=>{q.error(t.message||"Failed to add wake word")}})}function yRe(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Js.updateWakeWord(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.wakeWords()}),q.success("Wake word updated")},onError:t=>{q.error(t.message||"Failed to update wake word")}})}function xRe(){const e=ue();return ce({mutationFn:t=>Js.deleteWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.wakeWords()}),q.success("Wake word removed")},onError:t=>{q.error(t.message||"Failed to remove wake word")}})}function bRe(){return Se({queryKey:Wr.talkModeSettings(),queryFn:()=>s6(()=>Js.getTalkModeSettings(),[])})}function wRe(){const e=ue();return ce({mutationFn:t=>Js.upsertTalkModeSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.talkModeSettings()}),e.invalidateQueries({queryKey:Wr.all}),q.success("Talk mode saved")},onError:t=>{q.error(t.message||"Failed to save talk mode")}})}function jRe(){return Se({queryKey:Wr.transcriptionBackends(),queryFn:()=>Js.getTranscriptionBackends()})}function _Re(){const e=ue();return ce({mutationFn:t=>Js.upsertTranscriptionBackends(t),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.transcriptionBackends()}),q.success("Transcription backends saved")},onError:t=>{q.error(t.message||"Failed to save transcription backends")}})}function SRe(){return Se({queryKey:Wr.ttsProviderSetting(),queryFn:()=>Js.getTtsProviderSetting()})}function NRe(){const e=ue();return ce({mutationFn:t=>Js.upsertTtsProviderSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.ttsProviderSetting()}),q.success("TTS provider saved")},onError:t=>{q.error(t.message||"Failed to save TTS provider")}})}function kRe(){return Se({queryKey:Wr.mediaSetting(),queryFn:()=>Js.getMediaSetting()})}function CRe(){const e=ue();return ce({mutationFn:t=>Js.upsertMediaSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.mediaSetting()}),q.success("Media settings saved")},onError:t=>{q.error(t.message||"Failed to save media settings")}})}const ERe=tt({word:we().min(1,"Wake word is required").max(64),status:ir(["active","inactive"]),propagate_to_nodes:Yr()}),q0={word:"",status:"active",propagate_to_nodes:!0};function PRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initial:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=Ze({resolver:et(ERe),defaultValues:q0}),f=c("propagate_to_nodes"),h=c("status"),m=p=>{r(p),u(q0),t(!1)},g=p=>{p&&s?u({word:s.word,status:s.status,propagate_to_nodes:s.propagate_to_nodes}):p||u(q0),t(p)};return a.jsx(Re,{open:e,onOpenChange:g,children:a.jsxs(Ee,{className:"max-w-md","aria-describedby":"wake-word-form-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:s?"Edit wake word":"Add wake word"}),a.jsx(Ae,{id:"wake-word-form-description",children:"Configure a voice wake word. Optionally propagate to connected nodes."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"wake-word-input",children:"Wake word"}),a.jsx(ge,{id:"wake-word-input",placeholder:"e.g. Hey Clawgate",...i("word"),className:"transition-colors focus-visible:ring-2"}),d.word&&a.jsx("p",{className:"text-sm text-destructive",children:d.word.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Status"}),a.jsxs(ot,{value:h,onValueChange:p=>l("status",p),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(ke,{value:"active",children:"Active"}),a.jsx(ke,{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"propagate-nodes",children:"Propagate to nodes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this wake word to paired devices"})]}),a.jsx(Rt,{id:"propagate-nodes",checked:f,onCheckedChange:p=>l("propagate_to_nodes",p)})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":s?"Update":"Add"})]})]})]})})}const ORe=tt({node_id:we().nullable(),enabled:Yr(),interrupt_sensitivity:ir(["low","medium","high"])});function ARe({nodes:e,settings:t,defaultSetting:r,onSave:n,isSubmitting:s=!1}){const i="",o={node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"},{handleSubmit:l,setValue:c,watch:u,reset:d}=Ze({resolver:et(ORe),defaultValues:o});v.useEffect(()=>{d({node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"})},[r,d]);const f=u("node_id"),h=u("enabled"),m=u("interrupt_sensitivity"),g=p=>{const x=p.node_id===""||!p.node_id?null:p.node_id;n({node_id:x,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity}),d({node_id:p.node_id,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity})};return a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Talk mode"}),a.jsx(he,{children:"Enable or disable voice interaction per node and set interrupt sensitivity."})]}),a.jsx(Z,{className:"space-y-6",children:a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Node"}),a.jsxs(ot,{value:f||i,onValueChange:p=>{const x=p===i?null:p,b=x===null?r:t.find(y=>y.node_id===x);c("node_id",p||i),c("enabled",(b==null?void 0:b.enabled)??!1),c("interrupt_sensitivity",(b==null?void 0:b.interrupt_sensitivity)??"medium")},children:[a.jsx(at,{children:a.jsx(lt,{placeholder:"Default (all nodes)"})}),a.jsxs(it,{children:[a.jsx(ke,{value:"",children:"Default (all nodes)"}),e.map(p=>a.jsx(ke,{value:p.id,children:p.name||p.id.slice(0,8)},p.id))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"talk-enabled",children:"Talk mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Enable for this node":"Enable for all nodes by default"})]}),a.jsx(Rt,{id:"talk-enabled",checked:h,onCheckedChange:p=>c("enabled",p)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Interrupt sensitivity"}),a.jsxs(ot,{value:m,onValueChange:p=>c("interrupt_sensitivity",p),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(ke,{value:"low",children:"Low"}),a.jsx(ke,{value:"medium",children:"Medium"}),a.jsx(ke,{value:"high",children:"High"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How quickly the agent stops when you start speaking"})]}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save talk mode"})]})})]})}const nM=["whisper","google","assemblyai","deepgram","local-cli"];function TRe({open:e,onOpenChange:t,providerList:r,cliFallback:n,onSave:s,isSubmitting:i=!1}){const[o,l]=v.useState(r.length>0?[...r]:[...nM]),[c,u]=v.useState(n??"");v.useEffect(()=>{e&&(l(r.length>0?[...r]:[...nM]),u(n??""))},[e,r,n]);const d=g=>{if(g<=0)return;const p=[...o];[p[g-1],p[g]]=[p[g],p[g-1]],l(p)},f=g=>{if(g>=o.length-1)return;const p=[...o];[p[g],p[g+1]]=[p[g+1],p[g]],l(p)},h=g=>{l(p=>p.filter((x,b)=>b!==g))},m=()=>{s(o,c.trim()||null),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-lg","aria-describedby":"transcription-backend-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Transcription backends"}),a.jsx(Ae,{id:"transcription-backend-description",children:"Set the order of preference for transcription providers. First available is used."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Provider order (first = preferred)"}),a.jsx("ul",{className:"flex flex-col gap-2 rounded-lg border border-border p-2",children:o.map((g,p)=>a.jsxs("li",{className:J("flex items-center gap-2 rounded-md border border-border bg-card px-3 py-2 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsx("span",{className:"text-muted-foreground","aria-hidden":!0,children:a.jsx(WI,{className:"h-4 w-4"})}),a.jsx("span",{className:"flex-1 font-medium",children:g}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(p),disabled:p===0,"aria-label":"Move up",children:""}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(p),disabled:p===o.length-1,"aria-label":"Move down",children:""}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h(p),"aria-label":"Remove",children:a.jsx(rn,{className:"h-4 w-4"})})]})]},`${g}-${p}`))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"cli-fallback",children:"CLI fallback command"}),a.jsx(ge,{id:"cli-fallback",placeholder:"e.g. /usr/bin/whisper-cli",value:c,onChange:g=>u(g.target.value),className:"transition-colors focus-visible:ring-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional local CLI used when cloud providers are unavailable"})]})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:m,disabled:i,children:i?"Saving":"Save order"})]})]})})}const RRe=tt({provider:we().min(1,"Provider is required"),model:we().optional()}),MRe=[{id:"default",label:"Default (system)"},{id:"openai",label:"OpenAI"},{id:"google",label:"Google Cloud TTS"},{id:"amazon",label:"Amazon Polly"},{id:"elevenlabs",label:"ElevenLabs"},{id:"azure",label:"Azure Speech"},{id:"local",label:"Local / Ollama"}],sM={provider:"default",model:""};function $Re({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s="default",initialModel:i=null}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=Ze({resolver:et(RRe),defaultValues:{provider:s,model:i??""}}),h=u("provider"),m=p=>{var x;r({provider:p.provider,model:((x=p.model)==null?void 0:x.trim())||null}),d(sM),t(!1)},g=p=>{d(p?{provider:s,model:i??""}:sM),t(p)};return a.jsx(Re,{open:e,onOpenChange:g,children:a.jsxs(Ee,{className:"max-w-md","aria-describedby":"tts-provider-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"TTS provider"}),a.jsx(Ae,{id:"tts-provider-description",children:"Choose the text-to-speech provider and model for voice output."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Provider"}),a.jsxs(ot,{value:h,onValueChange:p=>c("provider",p),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsx(it,{children:MRe.map(p=>a.jsx(ke,{value:p.id,children:p.label},p.id))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"tts-model",children:"Model (optional)"}),a.jsx(ge,{id:"tts-model",placeholder:"e.g. tts-1, en-US-Standard-D",...o("model"),className:"transition-colors focus-visible:ring-2"}),f.model&&a.jsx("p",{className:"text-sm text-destructive",children:f.model.message})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":"Save"})]})]})]})})}const IRe=tt({retention_days:Tn.number().min(1).max(3650),size_cap_mb:Tn.number().min(1).max(1048576),fallback_strategy:ir(["local","cloud","none"]),audio_note_handling:ir(["store","transcribe_and_store","transcribe_only","discard"])}),aM={retention_days:30,size_cap_mb:1024,fallback_strategy:"local",audio_note_handling:"store"};function DRe({initial:e,onSave:t,isSubmitting:r=!1}){const{register:n,handleSubmit:s,setValue:i,watch:o,reset:l,formState:{errors:c}}=Ze({resolver:et(IRe),defaultValues:e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:aM}),u=o("fallback_strategy"),d=o("audio_note_handling");return v.useEffect(()=>{l(e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:aM)},[e,l]),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Media storage"}),a.jsx(he,{children:"Retention, size caps, and fallback for audio notes and media capture."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:s(t),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"retention-days",children:"Retention (days)"}),a.jsx(ge,{id:"retention-days",type:"number",min:1,max:3650,...n("retention_days"),className:"transition-colors focus-visible:ring-2"}),c.retention_days&&a.jsx("p",{className:"text-sm text-destructive",children:c.retention_days.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep media before cleanup (13650)"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"size-cap-mb",children:"Size cap (MB)"}),a.jsx(ge,{id:"size-cap-mb",type:"number",min:1,...n("size_cap_mb"),className:"transition-colors focus-visible:ring-2"}),c.size_cap_mb&&a.jsx("p",{className:"text-sm text-destructive",children:c.size_cap_mb.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum storage for media; oldest items are removed when exceeded"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Fallback strategy"}),a.jsxs(ot,{value:u,onValueChange:f=>i("fallback_strategy",f),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(ke,{value:"local",children:"Local only"}),a.jsx(ke,{value:"cloud",children:"Cloud when local full"}),a.jsx(ke,{value:"none",children:"No fallback (fail when full)"})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Audio note handling"}),a.jsxs(ot,{value:d,onValueChange:f=>i("audio_note_handling",f),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(ke,{value:"store",children:"Store only"}),a.jsx(ke,{value:"transcribe_and_store",children:"Transcribe and store"}),a.jsx(ke,{value:"transcribe_only",children:"Transcribe only"}),a.jsx(ke,{value:"discard",children:"Discard"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"What to do with captured audio notes"})]}),a.jsx(P,{type:"submit",disabled:r,children:r?"Saving":"Save media settings"})]})})]})}function LRe(){var R;const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(!1),[o,l]=v.useState(!1),{data:c=[],isLoading:u}=gRe(),d=vRe(),f=yRe(),h=xRe(),{data:m=[],isLoading:g}=bRe(),p=wRe(),x=m.find(I=>I.node_id===null)??null,{data:b=[]}=AF(),{data:y,isLoading:w}=jRe(),_=_Re(),{data:j,isLoading:S}=SRe(),N=NRe(),{data:k,isLoading:C}=kRe(),O=CRe(),L=()=>{n(null),t(!0)},E=I=>{n(I),t(!0)},F=I=>{r?f.mutate({id:r.id,data:{word:I.word,status:I.status,propagate_to_nodes:I.propagate_to_nodes}},{onSuccess:()=>t(!1)}):d.mutate({word:I.word,status:I.status,propagate_to_nodes:I.propagate_to_nodes},{onSuccess:()=>t(!1)})},$=I=>{p.mutate({node_id:I.node_id,enabled:I.enabled,interrupt_sensitivity:I.interrupt_sensitivity})},K=(I,D)=>{_.mutate({provider_list:I,cli_fallback:D})},T=I=>{N.mutate({provider:I.provider,model:I.model})},V=I=>{O.mutate(I)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(fe,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(jr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Voice & Media"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(bd,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Voice & Media"]}),a.jsx("p",{className:"text-muted-foreground",children:"Configure wake words, talk mode, transcription, TTS, and media storage."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_240px]",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(ne,{children:"Wake words"}),a.jsx(he,{children:"Voice activation phrases; optionally propagated to nodes."})]}),a.jsxs(P,{type:"button",size:"sm",onClick:L,className:"shrink-0 transition-transform hover:scale-[1.02]",children:[a.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Add"]})]}),a.jsx(Z,{children:u?a.jsx(oe,{className:"h-24 w-full rounded-lg"}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(bd,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No wake words configured"}),a.jsx(P,{type:"button",variant:"outline",size:"sm",onClick:L,children:"Add wake word"})]}):a.jsx("ul",{className:"space-y-2",children:c.map(I=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-card px-4 py-3 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium",children:I.word}),a.jsx(ze,{variant:I.status==="active"?"success":"secondary",children:I.status}),I.propagate_to_nodes&&a.jsx("span",{className:"text-muted-foreground text-xs",children:" nodes"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>E(I),"aria-label":"Edit wake word",children:a.jsx($i,{className:"h-4 w-4"})}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h.mutate(I.id),"aria-label":"Delete wake word",children:a.jsx(rn,{className:"h-4 w-4"})})]})]},I.id))})})]}),g?a.jsx(oe,{className:"h-64 w-full rounded-lg"}):a.jsx(ARe,{nodes:b,settings:m,defaultSetting:x,onSave:$,isSubmitting:p.isPending}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(TH,{className:"h-5 w-5 text-primary"}),"Transcription backends"]}),a.jsx(he,{children:"Provider order and CLI fallback for voice-to-text."})]}),a.jsx(P,{type:"button",size:"sm",variant:"outline",onClick:()=>i(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Edit order"})]}),a.jsx(Z,{children:w?a.jsx(oe,{className:"h-16 w-full rounded-lg"}):y?a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-muted-foreground",children:["Order: ",(R=y.provider_list)!=null&&R.length?y.provider_list.join("  "):"default"]}),y.cli_fallback&&a.jsxs("p",{className:"text-muted-foreground",children:["CLI fallback: ",a.jsx("code",{className:"rounded bg-secondary px-1",children:y.cli_fallback})]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No backends configured. Use default order or set your preference."})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(FH,{className:"h-5 w-5 text-primary"}),"TTS provider"]}),a.jsx(he,{children:"Text-to-speech provider and model for voice output."})]}),a.jsx(P,{type:"button",size:"sm",variant:"outline",onClick:()=>l(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Configure"})]}),a.jsx(Z,{children:S?a.jsx(oe,{className:"h-12 w-full rounded-lg"}):j?a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:j.provider}),j.model&&a.jsxs("span",{className:"text-muted-foreground",children:[" / ",j.model]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default (system)"})})]}),C?a.jsx(oe,{className:"h-80 w-full rounded-lg"}):a.jsx(DRe,{initial:k??null,onSave:V,isSubmitting:O.isPending})]}),a.jsxs("aside",{className:"space-y-4 lg:order-last",children:[a.jsxs(X,{className:"border-border bg-card/80",children:[a.jsx(ee,{className:"pb-2",children:a.jsx(ne,{className:"text-base",children:"Related"})}),a.jsxs(Z,{className:"space-y-2",children:[a.jsxs(fe,{to:"/settings",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[a.jsx($n,{className:"h-4 w-4 shrink-0"}),"Settings"]}),a.jsx(fe,{to:"/nodes",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:"Nodes"})]})]}),a.jsxs(X,{className:"border-border bg-card/80",children:[a.jsx(ee,{className:"pb-2",children:a.jsxs(ne,{className:"text-base flex items-center gap-2",children:[a.jsx(df,{className:"h-4 w-4"}),"Help"]})}),a.jsx(Z,{children:a.jsx(fe,{to:"/help",className:"text-sm text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Docs & quick start"})})]})]})]}),a.jsx(PRe,{open:e,onOpenChange:t,onSubmit:F,isSubmitting:d.isPending||f.isPending,initial:r}),a.jsx(TRe,{open:s,onOpenChange:i,providerList:(y==null?void 0:y.provider_list)??[],cliFallback:(y==null?void 0:y.cli_fallback)??null,onSave:K,isSubmitting:_.isPending}),a.jsx($Re,{open:o,onOpenChange:l,onSubmit:T,isSubmitting:N.isPending,initialProvider:(j==null?void 0:j.provider)??"default",initialModel:(j==null?void 0:j.model)??null})]})}async function vn(){const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");return e.id}const La={getNetworkSettings:async()=>{const e=await vn(),{data:t,error:r}=await U.from("network_settings").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertNetworkSettings:async e=>{const r={user_id:e.user_id??await vn(),bind_address:e.bind_address??"0.0.0.0",port:e.port??3e3,tls_options:e.tls_options??{}},{data:n,error:s}=await U.from("network_settings").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateNetworkSettings:async e=>{const t=await vn(),{data:r,error:n}=await U.from("network_settings").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},getRemoteAccess:async()=>{const e=await vn(),{data:t,error:r}=await U.from("remote_access").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertRemoteAccess:async e=>{const r={user_id:e.user_id??await vn(),tailnet_config:e.tailnet_config??{},relay_settings:e.relay_settings??{},pairing_policies:e.pairing_policies??{}},{data:n,error:s}=await U.from("remote_access").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateRemoteAccess:async e=>{const t=await vn(),{data:r,error:n}=await U.from("remote_access").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},getSecretsPrefs:async()=>{const e=await vn(),{data:t,error:r}=await U.from("settings_secrets_prefs").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertSecretsPrefs:async e=>{const r={user_id:e.user_id??await vn(),os_keychain_enabled:e.os_keychain_enabled??!0,onepassword_integration:e.onepassword_integration??!1},{data:n,error:s}=await U.from("settings_secrets_prefs").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateSecretsPrefs:async e=>{const t=await vn(),{data:r,error:n}=await U.from("settings_secrets_prefs").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},getToolPolicies:async()=>{const e=await vn(),{data:t,error:r}=await U.from("tool_policies").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertToolPolicies:async e=>{const r={user_id:e.user_id??await vn(),exec_allowlist:e.exec_allowlist??[],sandbox_mode:e.sandbox_mode??!0,docker_config:e.docker_config??{}},{data:n,error:s}=await U.from("tool_policies").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateToolPolicies:async e=>{const t=await vn(),{data:r,error:n}=await U.from("tool_policies").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},getModelDefaults:async()=>{const e=await vn(),{data:t,error:r}=await U.from("model_defaults").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertModelDefaults:async e=>{const r={user_id:e.user_id??await vn(),provider_priority:e.provider_priority??[],failover_rules:e.failover_rules??{},usage_caps:e.usage_caps??{}},{data:n,error:s}=await U.from("model_defaults").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateModelDefaults:async e=>{const t=await vn(),{data:r,error:n}=await U.from("model_defaults").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},applySettings:async()=>(await vn(),{ok:!0,message:"Settings applied. Restart may be required for some changes."})},Nn={all:["settings"],network:()=>[...Nn.all,"network"],remoteAccess:()=>[...Nn.all,"remoteAccess"],secretsPrefs:()=>[...Nn.all,"secretsPrefs"],toolPolicies:()=>[...Nn.all,"toolPolicies"],modelDefaults:()=>[...Nn.all,"modelDefaults"]};function Lp(e,t){return e().catch(()=>t)}function FRe(){return Se({queryKey:Nn.network(),queryFn:()=>Lp(()=>La.getNetworkSettings(),null)})}function URe(){const e=ue();return ce({mutationFn:t=>La.upsertNetworkSettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nn.network()}),q.success("Network settings saved")},onError:t=>{q.error(t.message||"Failed to save network settings")}})}function qRe(){return Se({queryKey:Nn.remoteAccess(),queryFn:()=>Lp(()=>La.getRemoteAccess(),null)})}function BRe(){const e=ue();return ce({mutationFn:t=>La.upsertRemoteAccess(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nn.remoteAccess()}),q.success("Remote access settings saved")},onError:t=>{q.error(t.message||"Failed to save remote access settings")}})}function zRe(){return Se({queryKey:Nn.secretsPrefs(),queryFn:()=>Lp(()=>La.getSecretsPrefs(),null)})}function WRe(){const e=ue();return ce({mutationFn:t=>La.upsertSecretsPrefs(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nn.secretsPrefs()}),q.success("Secrets preferences saved")},onError:t=>{q.error(t.message||"Failed to save secrets preferences")}})}function VRe(){return Se({queryKey:Nn.toolPolicies(),queryFn:()=>Lp(()=>La.getToolPolicies(),null)})}function KRe(){const e=ue();return ce({mutationFn:t=>La.upsertToolPolicies(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nn.toolPolicies()}),q.success("Tool policies saved")},onError:t=>{q.error(t.message||"Failed to save tool policies")}})}function HRe(){return Se({queryKey:Nn.modelDefaults(),queryFn:()=>Lp(()=>La.getModelDefaults(),null)})}function GRe(){const e=ue();return ce({mutationFn:t=>La.upsertModelDefaults(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nn.modelDefaults()}),q.success("Model defaults saved")},onError:t=>{q.error(t.message||"Failed to save model defaults")}})}function YRe(){const e=ue();return ce({mutationFn:()=>La.applySettings(),onSuccess:t=>{e.invalidateQueries({queryKey:Nn.all}),t.message?q.success(t.message):q.success("Settings applied")},onError:t=>{q.error(t.message||"Failed to apply settings")}})}const QRe=tt({bind_address:we().min(1,"Bind address is required"),port:Tn.number().int().min(1).max(65535),tls_enabled:Yr().optional(),tls_cert_path:we().optional(),tls_key_path:we().optional()}),XRe=tt({tailnet_enabled:Yr().optional(),tailnet_name:we().optional(),relay_enabled:Yr().optional(),pairing_require_approval:Yr().optional()}),JRe=tt({os_keychain_enabled:Yr(),onepassword_integration:Yr()}),ZRe=tt({exec_allowlist_text:we().optional(),sandbox_mode:Yr(),docker_enabled:Yr().optional(),docker_image:we().optional()}),eMe=tt({provider_priority_text:we().optional(),usage_cap_daily:Tn.number().min(0).optional(),failover_enabled:Yr().optional()}),B0={bind_address:"0.0.0.0",port:3e3,tls_enabled:!1,tls_cert_path:"",tls_key_path:""},tMe={tailnet_enabled:!1,tailnet_name:"",relay_enabled:!1,pairing_require_approval:!0},rMe={os_keychain_enabled:!0,onepassword_integration:!1},nMe={exec_allowlist_text:"",sandbox_mode:!0,docker_enabled:!1,docker_image:""},sMe={provider_priority_text:"",usage_cap_daily:0,failover_enabled:!0};function aMe(){const[e,t]=v.useState(!1),[r,n]=v.useState([]),{data:s,isLoading:i}=FRe(),{data:o,isLoading:l}=qRe(),{data:c,isLoading:u}=zRe(),{data:d,isLoading:f}=VRe(),{data:h,isLoading:m}=HRe(),g=URe(),p=BRe(),x=WRe(),b=KRe(),y=GRe(),w=YRe(),_=Ze({resolver:et(QRe),defaultValues:B0}),j=Ze({resolver:et(XRe),defaultValues:tMe}),S=Ze({resolver:et(JRe),defaultValues:rMe}),N=Ze({resolver:et(ZRe),defaultValues:nMe}),k=Ze({resolver:et(eMe),defaultValues:sMe});v.useEffect(()=>{if(s){const T=s.tls_options||{};_.reset({bind_address:s.bind_address??B0.bind_address,port:s.port??B0.port,tls_enabled:!!T.enabled,tls_cert_path:T.cert_path??"",tls_key_path:T.key_path??""})}},[s,_]),v.useEffect(()=>{if(o){const T=o.tailnet_config||{},V=o.relay_settings||{},R=o.pairing_policies||{};j.reset({tailnet_enabled:!!T.enabled,tailnet_name:T.name??"",relay_enabled:!!V.enabled,pairing_require_approval:R.require_approval!==!1})}},[o,j]),v.useEffect(()=>{c&&S.reset({os_keychain_enabled:c.os_keychain_enabled,onepassword_integration:c.onepassword_integration})},[c,S]),v.useEffect(()=>{if(d){const T=d.exec_allowlist||[],V=d.docker_config||{};N.reset({exec_allowlist_text:Array.isArray(T)?T.join(`
`):"",sandbox_mode:d.sandbox_mode,docker_enabled:!!V.enabled,docker_image:V.image??""})}},[d,N]),v.useEffect(()=>{if(h){const T=h.provider_priority||[],V=h.usage_caps||{},R=h.failover_rules||{};k.reset({provider_priority_text:Array.isArray(T)?T.join(`
`):"",usage_cap_daily:V.daily??0,failover_enabled:R.enabled!==!1})}},[h,k]);const C=()=>{n([]),t(!0)},O=async()=>{await w.mutateAsync(),t(!1),r.length>0&&n([])},L=T=>{g.mutate({bind_address:T.bind_address,port:T.port,tls_options:{enabled:T.tls_enabled,cert_path:T.tls_cert_path||void 0,key_path:T.tls_key_path||void 0}})},E=T=>{p.mutate({tailnet_config:{enabled:T.tailnet_enabled,name:T.tailnet_name||void 0},relay_settings:{enabled:T.relay_enabled},pairing_policies:{require_approval:T.pairing_require_approval}})},F=T=>{x.mutate({os_keychain_enabled:T.os_keychain_enabled,onepassword_integration:T.onepassword_integration})},$=T=>{const V=T.exec_allowlist_text?T.exec_allowlist_text.split(`
`).map(R=>R.trim()).filter(Boolean):[];b.mutate({exec_allowlist:V,sandbox_mode:T.sandbox_mode,docker_config:{enabled:T.docker_enabled,image:T.docker_image||void 0}})},K=T=>{const V=T.provider_priority_text?T.provider_priority_text.split(`
`).map(R=>R.trim()).filter(Boolean):[];y.mutate({provider_priority:V,usage_caps:{daily:T.usage_cap_daily??0},failover_rules:{enabled:T.failover_enabled}})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up max-w-[1200px] mx-auto",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx($n,{className:"h-6 w-6 text-primary","aria-hidden":!0}),"Settings / Preferences"]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Global gateway and workspace configuration. Restart may be required for some changes."})]}),a.jsxs(Ra,{defaultValue:"network",className:"space-y-4",children:[a.jsxs(Ys,{className:"grid w-full grid-cols-2 sm:grid-cols-5 gap-1 bg-card border border-border rounded-lg p-1",children:[a.jsx(jt,{value:"network",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Network"}),a.jsx(jt,{value:"remote",children:"Remote access"}),a.jsx(jt,{value:"secrets",children:"Secrets"}),a.jsx(jt,{value:"tools",children:"Tool policies"}),a.jsx(jt,{value:"model",children:"Model defaults"})]}),a.jsx(_t,{value:"network",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yp,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Network binding / TLS"})]}),a.jsx(he,{children:"Bind address, port, and TLS options. Save or reset to defaults."})]}),a.jsx(Z,{children:i?a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"h-10 w-full rounded-md"}),a.jsx(oe,{className:"h-10 w-1/3 rounded-md"}),a.jsx(oe,{className:"h-10 w-full rounded-md"})]}):a.jsxs("form",{onSubmit:_.handleSubmit(L),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"bind_address",children:"Bind address"}),a.jsx(ge,{id:"bind_address",placeholder:"0.0.0.0",className:"focus-visible:ring-primary",..._.register("bind_address")}),_.formState.errors.bind_address&&a.jsx("p",{className:"text-sm text-destructive",children:_.formState.errors.bind_address.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"port",children:"Port"}),a.jsx(ge,{id:"port",type:"number",placeholder:"3000",className:"focus-visible:ring-primary",..._.register("port")}),_.formState.errors.port&&a.jsx("p",{className:"text-sm text-destructive",children:_.formState.errors.port.message})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"tls_enabled",children:"Enable TLS"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use HTTPS with certificate."})]}),a.jsx(Rt,{id:"tls_enabled",checked:_.watch("tls_enabled"),onCheckedChange:T=>_.setValue("tls_enabled",T)})]}),_.watch("tls_enabled")&&a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"tls_cert_path",children:"Certificate path"}),a.jsx(ge,{id:"tls_cert_path",placeholder:"/path/to/cert.pem",..._.register("tls_cert_path")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"tls_key_path",children:"Key path"}),a.jsx(ge,{id:"tls_key_path",placeholder:"/path/to/key.pem",..._.register("tls_key_path")})]})]}),a.jsx(P,{type:"submit",disabled:g.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:g.isPending?"Saving":"Save network settings"})]})})]})}),a.jsx(_t,{value:"remote",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zI,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Remote access (tailnet / proxy)"})]}),a.jsx(he,{children:"Configure Tailscale or relay for remote access; device pairing policies."})]}),a.jsx(Z,{children:l?a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):a.jsxs("form",{onSubmit:j.handleSubmit(E),className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Tailnet (Tailscale)"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable tailnet for remote access."})]}),a.jsx(Rt,{checked:j.watch("tailnet_enabled"),onCheckedChange:T=>j.setValue("tailnet_enabled",T)})]}),j.watch("tailnet_enabled")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"tailnet_name",children:"Tailnet name"}),a.jsx(ge,{id:"tailnet_name",placeholder:"my-tailnet",...j.register("tailnet_name")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Relay / proxy"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use relay for device access."})]}),a.jsx(Rt,{checked:j.watch("relay_enabled"),onCheckedChange:T=>j.setValue("relay_enabled",T)})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Pairing require approval"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"New devices need approval."})]}),a.jsx(Rt,{checked:j.watch("pairing_require_approval"),onCheckedChange:T=>j.setValue("pairing_require_approval",T)})]}),a.jsx(P,{type:"submit",disabled:p.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:p.isPending?"Saving":"Save remote access"})]})})]})}),a.jsx(_t,{value:"secrets",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ni,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Secrets management"})]}),a.jsx(he,{children:"OS keychain and 1Password CLI integration. Never write long-lived tokens to plaintext."})]}),a.jsx(Z,{className:"space-y-4",children:u?a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("form",{onSubmit:S.handleSubmit(F),className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"OS keychain"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use system keychain for secrets."})]}),a.jsx(Rt,{checked:S.watch("os_keychain_enabled"),onCheckedChange:T=>S.setValue("os_keychain_enabled",T)})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"1Password integration"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use 1Password CLI for vault."})]}),a.jsx(Rt,{checked:S.watch("onepassword_integration"),onCheckedChange:T=>S.setValue("onepassword_integration",T)})]}),a.jsx(P,{type:"submit",disabled:x.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:x.isPending?"Saving":"Save preferences"})]}),a.jsxs("div",{className:"pt-4 border-t border-border",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Manage stored secrets and keychain."}),a.jsx(P,{asChild:!0,variant:"secondary",className:"transition-transform hover:scale-[1.02]",children:a.jsxs(fe,{to:"/secrets",children:[a.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Open Secrets & Keychain"]})})]})]})})]})}),a.jsx(_t,{value:"tools",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sr,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Tool policies"})]}),a.jsx(he,{children:"Exec allowlist, sandbox mode, and Docker sandbox settings."})]}),a.jsx(Z,{children:f?a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"h-24 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):a.jsxs("form",{onSubmit:N.handleSubmit($),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"exec_allowlist",children:"Exec allowlist (one path per line)"}),a.jsx(Zi,{id:"exec_allowlist",placeholder:`/usr/bin/python3
/usr/bin/node`,rows:4,className:"font-mono text-sm focus-visible:ring-primary resize-y",...N.register("exec_allowlist_text")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Sandbox tools"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Run tools in sandbox when possible."})]}),a.jsx(Rt,{checked:N.watch("sandbox_mode"),onCheckedChange:T=>N.setValue("sandbox_mode",T)})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Docker sandbox"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use Docker for isolation."})]}),a.jsx(Rt,{checked:N.watch("docker_enabled"),onCheckedChange:T=>N.setValue("docker_enabled",T)})]}),N.watch("docker_enabled")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"docker_image",children:"Docker image"}),a.jsx(ge,{id:"docker_image",placeholder:"sandbox:latest",...N.register("docker_image")})]}),a.jsx(P,{type:"submit",disabled:b.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:b.isPending?"Saving":"Save tool policies"})]})})]})}),a.jsx(_t,{value:"model",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sa,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Model defaults"})]}),a.jsx(he,{children:"Provider priority, failover rules, and usage caps for runs."})]}),a.jsx(Z,{children:m?a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"h-24 w-full rounded-lg"}),a.jsx(oe,{className:"h-10 w-1/3 rounded-lg"})]}):a.jsxs("form",{onSubmit:k.handleSubmit(K),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"provider_priority",children:"Provider priority (one per line, first = default)"}),a.jsx(Zi,{id:"provider_priority",placeholder:`openai
anthropic
ollama`,rows:4,className:"font-mono text-sm focus-visible:ring-primary resize-y",...k.register("provider_priority_text")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Failover enabled"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Try next provider on failure."})]}),a.jsx(Rt,{checked:k.watch("failover_enabled"),onCheckedChange:T=>k.setValue("failover_enabled",T)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"usage_cap_daily",children:"Daily usage cap (requests)"}),a.jsx(ge,{id:"usage_cap_daily",type:"number",min:0,placeholder:"0 = no cap",...k.register("usage_cap_daily")})]}),a.jsx(P,{type:"submit",disabled:y.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:y.isPending?"Saving":"Save model defaults"})]})})]})})]}),a.jsx(X,{className:"border-border shadow-card",children:a.jsxs(Z,{className:"pt-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Apply configuration"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Validate and apply settings. Restart gateway if needed for network or tool changes."})]}),a.jsxs(P,{onClick:C,disabled:w.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98] shrink-0",children:[a.jsx(IH,{className:J("h-4 w-4 mr-2",w.isPending&&"animate-spin"),"aria-hidden":!0}),"Restart / Apply"]})]})}),a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-md",showClose:!0,children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Apply settings"}),a.jsx(Ae,{children:"This will validate your configuration and apply changes. Some options may require a gateway restart to take effect."})]}),r.length>0&&a.jsxs("div",{className:"rounded-lg border border-warning/50 bg-warning/10 p-3 text-sm text-foreground",children:[a.jsx("p",{className:"font-medium mb-1",children:"Warnings"}),a.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:r.map((T,V)=>a.jsx("li",{children:T},V))})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"secondary",onClick:()=>t(!1),className:"transition-transform hover:scale-[1.02]",children:"Cancel"}),a.jsx(P,{onClick:O,disabled:w.isPending,className:"transition-transform hover:scale-[1.02]",children:w.isPending?"Applying":"Apply"})]})]})})]})}const iM="[ENCRYPTED]";async function a6(){const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");return e.id}async function qg(e,t,r={}){const s={user_id:await a6(),secret_id:t,action:e,details:r};await U.from("secret_audit_logs").insert(s)}const Yc={getSecrets:async()=>{const{data:e,error:t}=await U.from("secrets").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSecret:async e=>{const{data:t,error:r}=await U.from("secrets").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSecret:async e=>{const t=await a6(),r=e.storage_method==="encrypted_fallback"&&e.value!=null?iM:null,n={user_id:t,name:e.name.trim(),storage_method:e.storage_method,encrypted_value:r,key_reference:e.key_reference??null},{data:s,error:i}=await U.from("secrets").insert(n).select().single();if(i)throw new Error(i.message);const o=s;return await qg("secret_created",o.id,{name:o.name}),o},updateSecret:async(e,t)=>{const{data:r,error:n}=await U.from("secrets").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);const s=r;return await qg("secret_updated",e,{name:s.name}),s},rotateSecret:async(e,t)=>{const r=t.value!=null?iM:void 0,{data:n,error:s}=await U.from("secrets").update({encrypted_value:r}).eq("id",e).select().single();if(s)throw new Error(s.message);return await qg("secret_rotated",e),n},deleteSecret:async e=>{const t=await Yc.getSecret(e),{error:r}=await U.from("secrets").delete().eq("id",e);if(r)throw new Error(r.message);t&&await qg("secret_deleted",null,{name:t.name})},getAuditLogs:async(e=50)=>{const{data:t,error:r}=await U.from("secret_audit_logs").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}};function iMe(e,t){return e().catch(()=>t)}const In={all:["secrets"],list:()=>[...In.all,"list"],detail:e=>[...In.all,"detail",e],auditLogs:e=>[...In.all,"auditLogs",e]};function oMe(){return Se({queryKey:In.list(),queryFn:()=>iMe(()=>Yc.getSecrets(),[])})}function lMe(){const e=ue();return ce({mutationFn:t=>Yc.createSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:In.list()}),e.invalidateQueries({queryKey:In.auditLogs()}),q.success("Secret created")},onError:t=>{q.error(t.message||"Failed to create secret")}})}function cMe(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Yc.updateSecret(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:In.list()}),e.invalidateQueries({queryKey:In.detail(r)}),e.invalidateQueries({queryKey:In.auditLogs()}),q.success("Secret updated")},onError:t=>{q.error(t.message||"Failed to update secret")}})}function uMe(){const e=ue();return ce({mutationFn:({id:t,value:r})=>Yc.rotateSecret(t,{value:r}),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:In.list()}),e.invalidateQueries({queryKey:In.detail(r)}),e.invalidateQueries({queryKey:In.auditLogs()}),q.success("Secret rotated")},onError:t=>{q.error(t.message||"Failed to rotate secret")}})}function dMe(){const e=ue();return ce({mutationFn:t=>Yc.deleteSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:In.list()}),e.invalidateQueries({queryKey:In.auditLogs()}),q.success("Secret removed")},onError:t=>{q.error(t.message||"Failed to remove secret")}})}function fMe(e=50){return Se({queryKey:In.auditLogs(e),queryFn:()=>Yc.getAuditLogs(e)})}const hMe=tt({name:we().min(1,"Name is required").max(128,"Name too long"),storage_method:ir(["os_keychain","onepassword","encrypted_fallback"]),value:we().optional(),key_reference:we().optional()}),z0={name:"",storage_method:"encrypted_fallback",value:"",key_reference:""};function mMe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,watch:l,setValue:c,formState:{errors:u}}=Ze({resolver:et(hMe),defaultValues:z0}),d=l("storage_method"),f=m=>{var g,p;r({name:m.name.trim(),storage_method:m.storage_method,value:((g=m.value)==null?void 0:g.trim())||void 0,key_reference:((p=m.key_reference)==null?void 0:p.trim())||null}),o(z0)},h=m=>{m||o(z0),t(m)};return a.jsx(Re,{open:e,onOpenChange:h,children:a.jsxs(Ee,{className:"max-w-lg","aria-describedby":"add-secret-form-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Add secret"}),a.jsx(Ae,{id:"add-secret-form-description",children:"Store a secret securely. Choose where it will be stored; value is never stored in plaintext."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"name",children:"Name"}),a.jsx(ge,{id:"name",placeholder:"e.g. API_KEY_GITHUB",...s("name"),className:u.name?"border-destructive":"",autoComplete:"off"}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Storage method"}),a.jsxs(ot,{value:d,onValueChange:m=>c("storage_method",m),children:[a.jsx(at,{className:u.storage_method?"border-destructive":"",children:a.jsx(lt,{placeholder:"Select storage"})}),a.jsxs(it,{children:[a.jsx(ke,{value:"os_keychain",children:"OS Keychain"}),a.jsx(ke,{value:"onepassword",children:"1Password"}),a.jsx(ke,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"OS Keychain (macOS/Windows/Linux), 1Password CLI, or encrypted fallback when keychain is unavailable."})]}),d==="encrypted_fallback"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"value",children:"Value"}),a.jsx(ge,{id:"value",type:"password",placeholder:"Enter secret value",autoComplete:"new-password",...s("value")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value is encrypted before storage; never stored in plaintext."})]}),(d==="os_keychain"||d==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"key_reference",children:"Key reference (optional)"}),a.jsx(ge,{id:"key_reference",placeholder:"e.g. service/account/key",...s("key_reference"),autoComplete:"off"})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>h(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Adding":"Add secret"})]})]})]})})}const pMe=tt({name:we().min(1,"Name is required").max(128,"Name too long"),storage_method:ir(["os_keychain","onepassword","encrypted_fallback"]),key_reference:we().optional()});function gMe({open:e,onOpenChange:t,secret:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,reset:l,watch:c,setValue:u,formState:{errors:d}}=Ze({resolver:et(pMe),defaultValues:{name:(r==null?void 0:r.name)??"",storage_method:(r==null?void 0:r.storage_method)??"encrypted_fallback",key_reference:(r==null?void 0:r.key_reference)??""}}),f=c("storage_method");v.useEffect(()=>{e&&r&&l({name:r.name,storage_method:r.storage_method,key_reference:r.key_reference??""})},[e,r,l]);const h=g=>{var p;n({name:g.name.trim(),storage_method:g.storage_method,key_reference:((p=g.key_reference)==null?void 0:p.trim())||null}),t(!1)},m=g=>{g||t(!1)};return r?a.jsx(Re,{open:e,onOpenChange:m,children:a.jsxs(Ee,{className:"max-w-lg","aria-describedby":"edit-secret-form-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Edit secret"}),a.jsx(Ae,{id:"edit-secret-form-description",children:"Update name or storage method. The secret value is never displayed; use Rotate to set a new value."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"edit-name",children:"Name"}),a.jsx(ge,{id:"edit-name",placeholder:"e.g. API_KEY_GITHUB",...i("name"),className:d.name?"border-destructive":"",autoComplete:"off"}),d.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Storage method"}),a.jsxs(ot,{value:f,onValueChange:g=>u("storage_method",g),children:[a.jsx(at,{className:d.storage_method?"border-destructive":"",children:a.jsx(lt,{placeholder:"Select storage"})}),a.jsxs(it,{children:[a.jsx(ke,{value:"os_keychain",children:"OS Keychain"}),a.jsx(ke,{value:"onepassword",children:"1Password"}),a.jsx(ke,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]})]}),(f==="os_keychain"||f==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"edit-key_reference",children:"Key reference (optional)"}),a.jsx(ge,{id:"edit-key_reference",placeholder:"e.g. service/account/key",...i("key_reference"),autoComplete:"off"})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>m(!1),disabled:s,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save changes"})]})]})]})}):null}function vMe({values:e,onChange:t,disabled:r=!1,className:n}){return a.jsxs(X,{className:J("shadow-card transition-shadow hover:shadow-card-hover",n),children:[a.jsxs(ee,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xd,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{children:"Setup & configuration"})]}),a.jsx(he,{children:"Choose where secrets are stored. OS keychain and 1Password keep credentials out of the database; encrypted fallback is used when keychain is unavailable."})]}),a.jsxs(Z,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"keychain",className:"text-base font-medium",children:"OS Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"macOS Keychain, Windows Credential Manager, or Linux secret store"})]}),a.jsx(Rt,{id:"keychain",checked:e.keychainEnabled,onCheckedChange:s=>t({...e,keychainEnabled:s}),disabled:r,"aria-label":"Toggle OS keychain"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"onepassword",className:"text-base font-medium",children:"1Password integration"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Store and retrieve secrets via 1Password CLI"})]}),a.jsx(Rt,{id:"onepassword",checked:e.onepasswordEnabled,onCheckedChange:s=>t({...e,onepasswordEnabled:s}),disabled:r,"aria-label":"Toggle 1Password"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"fallback",className:"text-base font-medium",children:"Encrypted fallback"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Encrypt and store in database when keychain is unavailable"})]}),a.jsx(Rt,{id:"fallback",checked:e.encryptedFallbackEnabled,onCheckedChange:s=>t({...e,encryptedFallbackEnabled:s}),disabled:r,"aria-label":"Toggle encrypted fallback"})]}),a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Sr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Long-lived tokens are never written to plaintext. Runtime retrieval uses least-privilege scoping."]})]})]})}const oM={os_keychain:"OS Keychain",onepassword:"1Password",encrypted_fallback:"Encrypted fallback"};function yMe(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[s,i]=v.useState(null),[o,l]=v.useState({keychainEnabled:!0,onepasswordEnabled:!1,encryptedFallbackEnabled:!0}),{data:c=[],isLoading:u}=oMe(),{data:d=[],isLoading:f}=fMe(50),h=lMe(),m=cMe(),g=dMe(),p=uMe(),x=async j=>{await h.mutateAsync(j),t(!1)},b=async j=>{s&&(await m.mutateAsync({id:s.id,data:j}),n(!1),i(null))},y=j=>{i(j),n(!0)},w=j=>{p.mutate({id:j.id},{onSuccess:()=>n(!1)})},_=j=>{window.confirm(`Remove secret "${j.name}"? This cannot be undone.`)&&g.mutate(j.id)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Secrets & Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Store and manage secrets securely. No plaintext on disk."})]}),a.jsxs(P,{onClick:()=>t(!0),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}),a.jsxs(X,{className:"border-border shadow-card",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sr,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-base",children:"Keychain status"})]}),a.jsx(he,{children:o.keychainEnabled||o.onepasswordEnabled?"Keychain or 1Password is configured. Secrets can be stored in the vault.":"Using encrypted fallback only. Enable OS keychain or 1Password for stronger isolation."})]}),a.jsxs(Z,{className:"flex flex-wrap gap-2",children:[o.keychainEnabled&&a.jsxs(ze,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Pa,{className:"h-3 w-3 mr-1"}),"OS Keychain"]}),o.onepasswordEnabled&&a.jsxs(ze,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Pa,{className:"h-3 w-3 mr-1"}),"1Password"]}),!o.keychainEnabled&&!o.onepasswordEnabled&&a.jsxs(ze,{variant:"secondary",className:"bg-warning/15 text-warning border-0",children:[a.jsx(so,{className:"h-3 w-3 mr-1"}),"Fallback only"]})]})]}),a.jsxs(Ra,{defaultValue:"secrets",className:"space-y-4",children:[a.jsxs(Ys,{children:[a.jsx(jt,{value:"secrets",children:"Secrets management"}),a.jsx(jt,{value:"setup",children:"Setup & configuration"}),a.jsx(jt,{value:"audit",children:"Audit logs"})]}),a.jsx(_t,{value:"secrets",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{className:"text-lg",children:"Stored secrets"}),a.jsx(he,{children:"Add, edit, or rotate secrets. Values are never shown after save."})]}),a.jsx(Z,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>a.jsx(oe,{className:"h-14 w-full rounded-lg"},j))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(xd,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No secrets yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Add a secret to store API keys, tokens, or other credentials securely."}),a.jsxs(P,{variant:"default",className:"mt-4 transition-transform hover:scale-[1.02]",onClick:()=>t(!0),children:[a.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}):a.jsx(ht,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:c.map(j=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border p-4","transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:a.jsx(xd,{className:"h-5 w-5 text-primary","aria-hidden":!0})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:j.name}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[oM[j.storage_method]??j.storage_method,"  Updated"," ",vr(new Date(j.updated_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(ze,{variant:"secondary",className:"text-xs",children:oM[j.storage_method]??j.storage_method}),a.jsxs(Us,{children:[a.jsx(qs,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon","aria-label":"Actions",children:a.jsx(Na,{className:"h-4 w-4"})})}),a.jsxs(gs,{align:"end",children:[a.jsxs(Mt,{onClick:()=>y(j),children:[a.jsx($i,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(Mt,{onClick:()=>w(j),children:[a.jsx(hf,{className:"h-4 w-4 mr-2"}),"Rotate secret"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>_(j),children:[a.jsx(rn,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})]})]},j.id))})})})]})}),a.jsx(_t,{value:"setup",className:"space-y-4",children:a.jsx(vMe,{values:o,onChange:l})}),a.jsx(_t,{value:"audit",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sr,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Audit logs"})]}),a.jsx(he,{children:"Recent secret access, rotation, and configuration changes."})]}),a.jsx(Z,{children:f?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(j=>a.jsx(oe,{className:"h-12 w-full rounded-lg"},j))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(sr,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No audit entries yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Actions on secrets will appear here."})]}):a.jsx(ht,{className:"h-[360px] pr-4",children:a.jsx("ul",{className:"space-y-2",role:"list",children:d.map(j=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3 text-sm",children:[a.jsx("span",{className:"font-medium capitalize",children:j.action.replace(/_/g," ")}),a.jsx("span",{className:"text-muted-foreground",children:vr(new Date(j.created_at),{addSuffix:!0})})]},j.id))})})})]})})]}),a.jsx(mMe,{open:e,onOpenChange:t,onSubmit:x,isSubmitting:h.isPending}),a.jsx(gMe,{open:r,onOpenChange:n,secret:s,onSubmit:b,isSubmitting:m.isPending})]})}const ns="/security",Qc={runAudit:()=>de.post(`${ns}/audit/run`,{}),getAudits:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return de.get(`${ns}/audits${t?`?${t}`:""}`)},getAudit:e=>de.get(`${ns}/audits/${e}`),createAudit:e=>de.post(`${ns}/audits`,e),getIssuesByAuditId:e=>de.get(`${ns}/audits/${e}/issues`),createIssue:e=>de.post(`${ns}/issues`,e),applyAutoFix:e=>de.post(`${ns}/issues/${e}/auto-fix`,{}),updateIssue:(e,t)=>de.patch(`${ns}/issues/${e}`,t),getIncidentActions:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return de.get(`${ns}/incident-actions${t?`?${t}`:""}`)},createIncidentAction:e=>de.post(`${ns}/incident-actions`,e),exportAuditLogs:e=>de.post(`${ns}/export`,e),getAuditLogs:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return de.get(`${ns}/audit-logs${t?`?${t}`:""}`)},createAuditLog:e=>de.post(`${ns}/audit-logs`,e)};function i6(e,t){return e().catch(()=>t)}const fs={all:["security"],audits:e=>[...fs.all,"audits",e],audit:e=>[...fs.all,"audit",e??""],issues:e=>[...fs.all,"issues",e??""],incidentActions:e=>[...fs.all,"incident-actions",e],auditLogs:e=>[...fs.all,"audit-logs",e]};function xMe(e){return Se({queryKey:fs.audits(e),queryFn:()=>i6(()=>Qc.getAudits(e),[])})}function bMe(e){return Se({queryKey:fs.issues(e),queryFn:()=>e?i6(()=>Qc.getIssuesByAuditId(e),[]):Promise.resolve([]),enabled:!!e})}function wMe(){const e=ue();return ce({mutationFn:()=>Qc.runAudit(),onSuccess:t=>{var r;e.invalidateQueries({queryKey:fs.all}),(r=t==null?void 0:t.audit)!=null&&r.id&&(e.invalidateQueries({queryKey:fs.audit(t.audit.id)}),e.invalidateQueries({queryKey:fs.issues(t.audit.id)})),q.success("Security audit completed")},onError:t=>{q.error(t.message||"Audit failed")}})}function jMe(){const e=ue();return ce({mutationFn:t=>Qc.applyAutoFix(t),onSuccess:()=>{e.invalidateQueries({queryKey:fs.all}),q.success("Auto-fix applied")},onError:t=>{q.error(t.message||"Auto-fix failed")}})}function _Me(){const e=ue();return ce({mutationFn:({issueId:t,data:r})=>Qc.updateIssue(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:fs.all}),q.success("Issue updated")},onError:t=>{q.error(t.message||"Update failed")}})}function SMe(){const e=ue();return ce({mutationFn:t=>Qc.createIncidentAction(t),onSuccess:()=>{e.invalidateQueries({queryKey:fs.all}),q.success("Action submitted")},onError:t=>{q.error(t.message||"Action failed")}})}function NMe(){return ce({mutationFn:e=>Qc.exportAuditLogs(e),onSuccess:e=>{e!=null&&e.download_url&&window.open(e.download_url,"_blank"),q.success("Export started")},onError:e=>{q.error(e.message||"Export failed")}})}function kMe({open:e,onOpenChange:t,onConfirm:r,isSubmitting:n=!1,mode:s="auto_fix",issueDescription:i}){const o=s==="auto_fix",l=o?"Apply auto-fix?":"Record manual remediation?",c=o?"This will apply the recommended automated fix for this issue. The change will be logged for compliance.":"This will record your manual fix for this issue. The change will be logged for compliance.",u=()=>{r(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[480px]","aria-describedby":"remediation-confirm-desc",children:[a.jsxs(Pe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qc,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Oe,{children:l})]}),a.jsxs(Ae,{id:"remediation-confirm-desc",children:[c,i&&a.jsxs("span",{className:"mt-2 block text-muted-foreground truncate max-w-full",title:i,children:["Issue: ",i.slice(0,80),i.length>80?"":""]})]})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{onClick:u,disabled:n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:n?"Applying":o?"Apply auto-fix":"Record fix"})]})]})})}const lM={critical:{label:"Critical",icon:so,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:ao,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:yN,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:xN,className:"text-accent bg-accent/15 border-accent/30"}};function CMe(e){return e?e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):""}function EMe({issue:e,open:t,onOpenChange:r,autoFixEnabled:n=!1,onAutoFixChange:s,onApplyAutoFix:i,isApplyingAutoFix:o=!1,onApplyManualFix:l,isApplyingManualFix:c=!1}){const[u,d]=v.useState(!1),[f,h]=v.useState("");if(!e)return null;const m=lM[e.severity]??lM.medium,g=m.icon,p=o||c,x=()=>{d(!0)},b=()=>{i==null||i(e.id)},y=()=>{const w=f.trim();w&&l&&(l(e.id,w),h(""))};return a.jsxs(a.Fragment,{children:[a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Ee,{className:"max-w-[640px] max-h-[85vh] flex flex-col","aria-describedby":"audit-issue-description",children:[a.jsxs(Pe,{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(g,{className:J("h-5 w-5 shrink-0",m.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(ze,{variant:"secondary",className:J("border text-xs font-medium",m.className),children:m.label})]}),a.jsx(Oe,{className:"text-left pt-1",children:"Security finding"}),a.jsx(Ae,{id:"audit-issue-description",className:"text-left",children:"Details, affected files, and remediation for this issue."})]}),a.jsx(ht,{className:"flex-1 max-h-[50vh] rounded-md border border-border px-3 py-2",children:a.jsxs("div",{className:"space-y-4 pr-2",children:[e.category&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Category"}),a.jsx(ze,{variant:"outline",className:"text-xs font-medium",children:CMe(e.category)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-foreground",children:e.description})]}),e.remediation&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Recommended fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap",children:e.remediation})]}),e.affected_files&&e.affected_files.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Affected files / configs"}),a.jsx("ul",{className:"text-sm font-mono text-foreground list-disc list-inside space-y-0.5",children:e.affected_files.map((w,_)=>a.jsx("li",{children:w},_))})]}),e.applied_fix&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Applied fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap bg-success/10 border border-success/30 rounded-lg px-3 py-2",children:e.applied_fix})]}),e.auto_fix_available&&!e.applied_fix&&a.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border border-border p-3 bg-card/50",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"audit-autofix-toggle",className:"text-sm font-medium",children:"Auto-fix available"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Apply safe automated remediation for this issue."})]}),a.jsx(Rt,{id:"audit-autofix-toggle",checked:n,onCheckedChange:s,disabled:p,"aria-label":"Enable auto-fix for this issue"})]})]})}),a.jsxs("div",{className:"flex flex-col gap-3 pt-2 border-t border-border",children:[e.auto_fix_available&&!e.applied_fix&&a.jsx("div",{className:"flex justify-end",children:a.jsx(P,{variant:"default",size:"sm",onClick:x,disabled:p||!n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:o?"Applying":"Apply auto-fix now"})}),l&&!e.applied_fix&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{htmlFor:"audit-manual-fix",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Sc,{className:"h-4 w-4","aria-hidden":!0}),"Manual remediation"]}),a.jsx(Zi,{id:"audit-manual-fix",placeholder:"Describe the fix you applied (e.g. moved secret to keychain, updated config)...",value:f,onChange:w=>h(w.target.value),disabled:p,rows:3,className:"resize-none text-sm font-mono","aria-describedby":"audit-manual-fix-hint"}),a.jsx("p",{id:"audit-manual-fix-hint",className:"text-xs text-muted-foreground",children:"Record your custom fix for compliance. This will be logged."}),a.jsx(P,{variant:"outline",size:"sm",onClick:y,disabled:p||!f.trim(),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:c?"Saving":"Record manual fix"})]})]})]})}),a.jsx(kMe,{open:u,onOpenChange:d,onConfirm:b,isSubmitting:o,mode:"auto_fix",issueDescription:e.description})]})}const PMe={revoke_sessions:{label:"Revoke sessions",description:"This will revoke all active sessions except the current one. Users will need to sign in again on other devices.",icon:wN,variant:"destructive"},rotate_secrets:{label:"Rotate secrets",description:"This will rotate API keys and tokens. Any integrations using old credentials will need to be updated.",icon:hf,variant:"destructive"},export_logs:{label:"Export security logs",description:"Export audit and security logs for external analysis or compliance. Redaction will be applied by default.",icon:Nr,variant:"default"},stop_blast_radius:{label:"Stop blast radius",description:"Contain the impact of a potential incident by stopping affected runs and isolating resources.",icon:vN,variant:"destructive"},quarantine_skill:{label:"Quarantine skill",description:"Disable and isolate a skill that may be risky until you review and approve it.",icon:NN,variant:"destructive"}};function OMe({actionType:e,open:t,onOpenChange:r,onConfirm:n,isSubmitting:s=!1}){if(!e)return null;const i=PMe[e]??{label:e.replace(/_/g," "),description:"This action will be logged and may have side effects.",icon:NN,variant:"default"},o=i.icon,l=()=>{n(e),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Ee,{"aria-describedby":"incident-action-description",children:[a.jsxs(Pe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Oe,{children:i.label})]}),a.jsx(Ae,{id:"incident-action-description",children:i.description})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:i.variant==="destructive"?"destructive":"default",onClick:l,disabled:s,children:s?"Processing":"Confirm"})]})]})})}const AMe=tt({format:ir(["json","csv"]),applyRedaction:Yr(),from:we().optional(),to:we().optional()});function TMe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const{register:s,handleSubmit:i,setValue:o,watch:l}=Ze({resolver:et(AMe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:""}}),c=l("applyRedaction"),u=l("format"),d=f=>{const h={format:f.format,apply_redaction:f.applyRedaction,from:f.from||void 0,to:f.to||void 0};r(h),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[480px]","aria-describedby":"security-export-desc",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Export security logs"}),a.jsx(Ae,{id:"security-export-desc",children:"Configure format, date range, and redaction. Export will download audit and security logs for compliance or analysis."})]}),a.jsxs("form",{onSubmit:i(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"security-export-format",children:"Format"}),a.jsxs(ot,{value:u,onValueChange:f=>o("format",f),children:[a.jsx(at,{id:"security-export-format",children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(ke,{value:"json",children:"JSON"}),a.jsx(ke,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"security-export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Redact sensitive data in exported logs (recommended)."})]}),a.jsx(Rt,{id:"security-export-redaction",checked:c,onCheckedChange:f=>o("applyRedaction",f)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"security-export-from",children:"From (optional)"}),a.jsx(ge,{id:"security-export-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"security-export-to",children:"To (optional)"}),a.jsx(ge,{id:"security-export-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const cM={critical:{label:"Critical",icon:so,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:ao,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:yN,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:xN,className:"text-accent bg-accent/15 border-accent/30"}};function uM(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function RMe(e){return e>=70?"High risk":e>=40?"Medium risk":e>=10?"Low risk":"No critical issues"}function dM(e){return e>=70?"text-destructive":e>=40?"text-warning":e>=10?"text-accent":"text-success"}function MMe({issue:e,isSelected:t,onSelect:r}){const n=cM[e.severity]??cM.medium,s=n.icon,i=e.description.length>120?e.description.slice(0,120)+"":e.description;return a.jsxs("button",{type:"button",onClick:r,className:J("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View details for issue: ${e.description.slice(0,50)}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(s,{className:J("h-4 w-4 shrink-0",n.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(ze,{variant:"secondary",className:J("text-xs font-medium border shrink-0",n.className),children:n.label}),e.auto_fix_available&&a.jsx(ze,{variant:"outline",className:"text-xs shrink-0",children:"Auto-fix"})]}),a.jsx("p",{className:"mt-1.5 text-sm text-foreground line-clamp-2",children:i})]})}const $Me=[{type:"revoke_sessions",label:"Revoke sessions",icon:wN},{type:"rotate_secrets",label:"Rotate secrets",icon:hf},{type:"export_logs",label:"Export logs",icon:Nr},{type:"stop_blast_radius",label:"Stop blast radius",icon:vN}];function IMe(){const{user:e}=pp(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState(!1),{data:m=[],isLoading:g}=xMe({limit:10}),p=m[0]??null,x=(p==null?void 0:p.id)??null,{data:b=[],isLoading:y}=bMe(x),w=wMe(),_=SMe(),j=NMe(),S=jMe(),N=_Me(),k={critical:b.filter(T=>T.severity==="critical").length,high:b.filter(T=>T.severity==="high").length,medium:b.filter(T=>T.severity==="medium").length,low:b.filter(T=>T.severity==="low").length},C=(p==null?void 0:p.risk_score)??0,O=T=>{r(T),s(!1),o(!0)},L=T=>{if(T==="export_logs"){h(!0);return}d(T),c(!0)},E=T=>{_.mutate({user_id:(e==null?void 0:e.id)??"",audit_id:x??void 0,action_type:T},{onSuccess:()=>{d(null)}})},F=T=>{j.mutate(T,{onSuccess:V=>{V!=null&&V.download_url&&window.open(V.download_url,"_blank")}})},$=T=>{S.mutate(T,{onSuccess:()=>{o(!1),r(null)}})},K=(T,V)=>{N.mutate({issueId:T,data:{applied_fix:V}},{onSuccess:()=>{o(!1),r(null)}})};return a.jsxs("div",{className:"animate-fade-in-up flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0 space-y-6",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(fe,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(jr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Security Audit"})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Sr,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Security Audit"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Run automated security checks and manage remediation. Review issues and use incident response actions when needed."})]}),a.jsxs("nav",{className:"flex items-center gap-3 text-sm","aria-label":"Quick links",children:[a.jsx(fe,{to:"/dashboard",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Home"}),a.jsx(fe,{to:"/settings",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Settings"}),a.jsx(fe,{to:"/help",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Help"})]})]})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Run audit"}),a.jsx(he,{children:"Start automated checks for plaintext secrets, open binds, risky permissions, and misconfigurations."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs(P,{onClick:()=>w.mutate(),disabled:w.isPending,size:"lg",className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Ds,{className:"mr-2 h-4 w-4"}),w.isPending?"Running":"Start Audit"]}),w.isPending&&a.jsxs("div",{className:"space-y-2",role:"status","aria-live":"polite",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Running security checks"}),a.jsx(gk,{value:50,className:"h-2 animate-pulse","aria-label":"Audit in progress"})]})]})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Audit summary"}),a.jsx(he,{children:"Overall risk score and issue counts from the latest audit."})]}),a.jsx(Z,{children:g?a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(oe,{className:"h-14 w-14 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-6 w-32"}),a.jsx(oe,{className:"h-4 w-48"})]})]}):p?a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:J("flex h-14 w-14 items-center justify-center rounded-full border-2 font-semibold text-xl",dM(C),C>=70&&"border-destructive bg-destructive/10",C>=40&&C<70&&"border-warning bg-warning/10",C<40&&"border-success bg-success/10"),children:C}),a.jsxs("div",{children:[a.jsx("p",{className:J("font-semibold text-lg",dM(C)),children:RMe(C)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last run: ",uM(p.created_at)]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.critical>0&&a.jsxs(ze,{variant:"secondary",className:"border-destructive/50 text-destructive",children:[k.critical," critical"]}),k.high>0&&a.jsxs(ze,{variant:"secondary",className:"border-warning/50 text-warning",children:[k.high," high"]}),k.medium>0&&a.jsxs(ze,{variant:"secondary",className:"text-muted-foreground",children:[k.medium," medium"]}),k.low>0&&a.jsxs(ze,{variant:"secondary",className:"border-accent/50 text-accent",children:[k.low," low"]}),b.length===0&&a.jsx(ze,{variant:"secondary",className:"text-success",children:"No issues"})]})]}):a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Sr,{className:"h-10 w-10 text-muted-foreground","aria-hidden":!0}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:"No audit yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Start Audit" to get your current risk score and issues.'})]})]})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Issue list"}),a.jsx(he,{children:"Findings from the audit. Click an issue for details and remediation. Auto-fix is available where marked."})]}),a.jsx(Z,{children:a.jsx(ht,{className:"h-[360px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:y?[1,2,3,4].map(T=>a.jsx(oe,{className:"h-20 w-full rounded-lg"},T)):b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(yN,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No issues"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Checks include plaintext secrets, open binds, and risky skill permissions. Run an audit to see results."})]}):b.map(T=>a.jsx(MMe,{issue:T,isSelected:(t==null?void 0:t.id)===T.id,onSelect:()=>O(T)},T.id))})})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Incident response"}),a.jsx(he,{children:"Quick actions to contain threats: revoke sessions, rotate secrets, export logs, or stop blast radius."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:$Me.map(({type:T,label:V,icon:R})=>a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>L(T),disabled:_.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(R,{className:"mr-2 h-4 w-4"}),V]},T))})})]})]}),a.jsxs("aside",{className:"w-full lg:w-72 shrink-0 space-y-4","aria-label":"Security audit sidebar",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsxs(ne,{className:"text-base flex items-center gap-2",children:[a.jsx(Mu,{className:"h-4 w-4","aria-hidden":!0}),"Previous audits"]}),a.jsx(he,{children:"Quick links to recent audit runs."})]}),a.jsx(Z,{children:g?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(T=>a.jsx(oe,{className:"h-12 w-full rounded-lg"},T))}):m.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No audits yet."}):a.jsx("ul",{className:"space-y-2",role:"list",children:m.slice(0,5).map(T=>a.jsx("li",{children:a.jsx("div",{className:J("rounded-lg border px-3 py-2 transition-colors",(p==null?void 0:p.id)===T.id?"border-primary bg-primary/10":"border-border bg-card/50 hover:bg-secondary/50"),children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("span",{className:"text-sm font-medium",children:["Risk ",T.risk_score]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:uM(T.created_at)})]})})},T.id))})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsx(ne,{className:"text-base",children:"Export"}),a.jsx(he,{children:"Export audit logs for compliance or incident response."})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",className:"w-full transition-transform hover:scale-[1.02] active:scale-[0.98]",onClick:()=>h(!0),children:[a.jsx(Nr,{className:"mr-2 h-4 w-4"}),"Export logs"]})})]})]}),a.jsx(EMe,{issue:t,open:i,onOpenChange:o,autoFixEnabled:n,onAutoFixChange:s,onApplyAutoFix:$,isApplyingAutoFix:S.isPending,onApplyManualFix:K,isApplyingManualFix:N.isPending}),a.jsx(OMe,{actionType:u,open:l,onOpenChange:c,onConfirm:E,isSubmitting:_.isPending}),a.jsx(TMe,{open:f,onOpenChange:h,onExport:F,isExporting:j.isPending})]})}const Cn="/logs",Xc={getLogs:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&r!=="").map(([r,n])=>[r,Array.isArray(n)?n.join(","):String(n)])).toString():"";return de.get(`${Cn}${t?`?${t}`:""}`)},getLog:e=>de.get(`${Cn}/${e}`),createLog:e=>de.post(`${Cn}`,e),getTraceByLogId:e=>de.get(`${Cn}/${e}/trace`),getTrace:e=>de.get(`${Cn}/traces/${e}`),createTrace:e=>de.post(`${Cn}/traces`,e),updateTrace:(e,t)=>de.patch(`${Cn}/traces/${e}`,t),exportLogs:e=>de.post(`${Cn}/export`,e),getRetentionSettings:()=>de.get(`${Cn}/retention`),updateRetentionSettings:e=>de.patch(`${Cn}/retention`,e),createRetentionSettings:e=>de.post(`${Cn}/retention`,e),getRedactionRules:()=>de.get(`${Cn}/redaction-rules`),createRedactionRule:e=>de.post(`${Cn}/redaction-rules`,e),updateRedactionRule:(e,t)=>de.patch(`${Cn}/redaction-rules/${e}`,t),deleteRedactionRule:e=>de.delete(`${Cn}/redaction-rules/${e}`)};function kC(e,t){return e().catch(()=>t)}const Rs={all:["logs"],list:e=>[...Rs.all,"list",e],detail:e=>[...Rs.all,"detail",e],traceByLogId:e=>[...Rs.all,"trace",e],trace:e=>[...Rs.all,"trace-id",e],retention:()=>[...Rs.all,"retention"],redactionRules:()=>[...Rs.all,"redaction-rules"]};function DMe(e){return Se({queryKey:Rs.list(e),queryFn:()=>kC(()=>Xc.getLogs(e),[])})}function LMe(e){return Se({queryKey:Rs.traceByLogId(e??""),queryFn:()=>e?kC(()=>Xc.getTraceByLogId(e),null):Promise.resolve(null),enabled:!!e})}function FMe(){return ce({mutationFn:e=>Xc.exportLogs(e),onSuccess:()=>{q.success("Export started")},onError:e=>{q.error(e.message||"Export failed")}})}function UMe(){return Se({queryKey:Rs.redactionRules(),queryFn:()=>kC(()=>Xc.getRedactionRules(),[])})}function qMe(){const e=ue();return ce({mutationFn:t=>Xc.createRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rs.redactionRules()}),q.success("Redaction rule added")},onError:t=>{q.error(t.message||"Failed to add redaction rule")}})}function BMe(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Xc.updateRedactionRule(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Rs.redactionRules()}),q.success("Redaction rule updated")},onError:t=>{q.error(t.message||"Failed to update redaction rule")}})}function zMe(){const e=ue();return ce({mutationFn:t=>Xc.deleteRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rs.redactionRules()}),q.success("Redaction rule removed")},onError:t=>{q.error(t.message||"Failed to remove redaction rule")}})}const o6=["debug","info","warning","error","critical"],WMe=tt({severity:ir(o6).optional(),from:we().optional(),to:we().optional(),search:we().optional(),limit:Tn.number().min(10).max(500).optional()});function VMe({open:e,onOpenChange:t,currentFilters:r,onApply:n}){const{register:s,handleSubmit:i,setValue:o,watch:l,reset:c,formState:{isDirty:u}}=Ze({resolver:et(WMe),defaultValues:{severity:void 0,from:(r==null?void 0:r.from)??"",to:(r==null?void 0:r.to)??"",search:(r==null?void 0:r.search)??"",limit:(r==null?void 0:r.limit)??100}}),d=l("severity"),f=m=>{const g={limit:m.limit,search:m.search||void 0,from:m.from||void 0,to:m.to||void 0};m.severity&&(g.severity=m.severity),n(g),t(!1)},h=()=>{c({severity:void 0,from:"",to:"",search:"",limit:100}),n({limit:100}),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[480px]","aria-describedby":"filter-desc",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Filter logs"}),a.jsx(Ae,{id:"filter-desc",children:"Refine the log stream by severity, date range, and keywords."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-severity",children:"Severity"}),a.jsxs(ot,{value:d??"",onValueChange:m=>o("severity",m||void 0,{shouldDirty:!0}),children:[a.jsx(at,{id:"filter-severity",children:a.jsx(lt,{placeholder:"All severities"})}),a.jsx(it,{children:o6.map(m=>a.jsx(ke,{value:m,children:m},m))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-from",children:"From (ISO date)"}),a.jsx(ge,{id:"filter-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-to",children:"To (ISO date)"}),a.jsx(ge,{id:"filter-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-search",children:"Keyword search"}),a.jsx(ge,{id:"filter-search",placeholder:"Search in message",...s("search"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-limit",children:"Max results"}),a.jsx(ge,{id:"filter-limit",type:"number",min:10,max:500,...s("limit"),className:"font-mono"})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:h,children:"Clear"}),a.jsx(P,{type:"submit",disabled:!u,children:"Apply"})]})]})]})})}const l6=["debug","info","warning","error","critical"],KMe=tt({format:ir(["json","csv"]),applyRedaction:Yr(),from:we().optional(),to:we().optional(),severity:ir(l6).optional()});function HMe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1,selectedLogIds:s}){const[i,o]=v.useState("json"),{register:l,handleSubmit:c,setValue:u,watch:d}=Ze({resolver:et(KMe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:"",severity:void 0}}),f=d("applyRedaction"),h=d("severity"),m=p=>{const x={format:p.format,applyRedaction:p.applyRedaction,from:p.from||void 0,to:p.to||void 0,severity:p.severity,...s!=null&&s.length?{logIds:s}:{}};r(x),t(!1)},g=s!=null&&s.length?`Export ${s.length} selected log${s.length===1?"":"s"}`:"Export logs with your chosen format and redaction options.";return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[480px]","aria-describedby":"export-desc",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Export logs"}),a.jsx(Ae,{id:"export-desc",children:g})]}),a.jsxs("form",{onSubmit:c(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"export-format",children:"Format"}),a.jsxs(ot,{value:i,onValueChange:p=>{o(p),u("format",p)},children:[a.jsx(at,{id:"export-format",children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(ke,{value:"json",children:"JSON"}),a.jsx(ke,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use redacted message content in export"})]}),a.jsx(Rt,{id:"export-redaction",checked:f,onCheckedChange:p=>u("applyRedaction",p)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"export-from",children:"From (optional)"}),a.jsx(ge,{id:"export-from",type:"datetime-local",...l("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"export-to",children:"To (optional)"}),a.jsx(ge,{id:"export-to",type:"datetime-local",...l("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"export-severity",children:"Severity filter (optional)"}),a.jsxs(ot,{value:h??"",onValueChange:p=>u("severity",p||void 0),children:[a.jsx(at,{id:"export-severity",children:a.jsx(lt,{placeholder:"All severities"})}),a.jsx(it,{children:l6.map(p=>a.jsx(ke,{value:p,children:p},p))})]})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const GMe=tt({field_name:we().min(1,"Field name is required").max(120),is_redacted:Yr()});function YMe({open:e,onOpenChange:t}){const[r,n]=v.useState(!1),{data:s=[],isLoading:i}=UMe(),o=qMe(),l=BMe(),c=zMe(),{register:u,handleSubmit:d,setValue:f,watch:h,reset:m,formState:{errors:g,isDirty:p}}=Ze({resolver:et(GMe),defaultValues:{field_name:"",is_redacted:!0}}),x=h("field_name"),b=h("is_redacted"),y=j=>{o.mutate({field_name:j.field_name.trim(),is_redacted:j.is_redacted},{onSuccess:()=>{m({field_name:"",is_redacted:!0}),n(!1)}})},w=j=>{l.mutate({id:j.id,data:{is_redacted:!j.is_redacted}})},_=j=>{c.mutate(j)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[520px] max-h-[90vh] flex flex-col","aria-describedby":"redaction-desc",children:[a.jsxs(Pe,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Sr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Redaction rules"]}),a.jsx(Ae,{id:"redaction-desc",children:"Configure which log and trace fields are redacted before storage and export. Rules apply by default to exports."})]}),a.jsx(ht,{className:"flex-1 min-h-0 rounded-md border border-border",children:a.jsx("div",{className:"p-2 space-y-3",children:i?a.jsxs(a.Fragment,{children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):s.length===0&&!r?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(Sr,{className:"h-10 w-10 text-muted-foreground/50 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No redaction rules"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 max-w-xs",children:"Add field names (e.g. message, metadata) to redact in logs and exports."}),a.jsxs(P,{type:"button",variant:"outline",size:"sm",className:"mt-3",onClick:()=>n(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add rule"]})]}):a.jsxs(a.Fragment,{children:[s.map(j=>a.jsxs("div",{className:J("flex items-center justify-between gap-3 rounded-lg border px-3 py-2","border-border bg-card/50 transition-colors hover:bg-secondary/30"),children:[a.jsx("span",{className:"font-mono text-sm truncate flex-1",children:j.field_name}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(Rt,{checked:j.is_redacted,onCheckedChange:()=>w(j),"aria-label":`Redact ${j.field_name}`}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>_(j.id),"aria-label":`Delete rule ${j.field_name}`,children:a.jsx(rn,{className:"h-4 w-4"})})]})]},j.id)),r&&a.jsxs("form",{onSubmit:d(y),className:"rounded-lg border border-primary/30 bg-primary/5 p-3 space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"redaction-field-name",children:"Field name"}),a.jsx(ge,{id:"redaction-field-name",placeholder:"e.g. message, metadata",className:"font-mono text-sm",...u("field_name"),autoFocus:!0}),g.field_name&&a.jsx("p",{className:"text-xs text-destructive",children:g.field_name.message})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx(H,{htmlFor:"redaction-enabled",children:"Redact by default"}),a.jsx(Rt,{id:"redaction-enabled",checked:b,onCheckedChange:j=>f("is_redacted",j)})]}),a.jsxs($e,{className:"gap-2 sm:gap-0 pt-2",children:[a.jsx(P,{type:"button",variant:"outline",size:"sm",onClick:()=>{n(!1),m({field_name:"",is_redacted:!0})},children:"Cancel"}),a.jsx(P,{type:"submit",size:"sm",disabled:!(x!=null&&x.trim())||o.isPending||!p,children:o.isPending?"Adding":"Add rule"})]})]}),!r&&a.jsxs(P,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>n(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add rule"]})]})})})]})})}function QMe(e){return e==null?"":e<1e3?`${e} ms`:`${(e/1e3).toFixed(2)} s`}function fM({label:e,icon:t,children:r,defaultOpen:n=!0}){const[s,i]=v.useState(n);return a.jsxs("div",{className:"rounded border border-border bg-secondary/30 overflow-hidden",children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 px-3 py-2 text-left text-sm font-medium hover:bg-secondary/50 transition-colors",onClick:()=>i(o=>!o),"aria-expanded":s,children:[s?a.jsx(yl,{className:"h-4 w-4 shrink-0"}):a.jsx(jr,{className:"h-4 w-4 shrink-0"}),a.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),e]}),s&&a.jsx("div",{className:"border-t border-border px-3 py-2 font-mono text-xs text-muted-foreground",children:r})]})}function hM({trace:e,isLoading:t,onClose:r,onExport:n,className:s}){if(t)return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsx(ee,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]})}),a.jsx(Z,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(oe,{className:"h-10 w-full"}),a.jsx(oe,{className:"h-24 w-full"}),a.jsx(oe,{className:"h-24 w-full"})]})})]});if(!e)return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),r&&a.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(jd,{className:"h-4 w-4"})})]}),a.jsx(Z,{className:"p-6",children:a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a log entry to view its trace."})})]});const i=Array.isArray(e.tool_invocation)?e.tool_invocation:[],o=Array.isArray(e.model_calls)?e.model_calls:[];return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[n&&a.jsx(P,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Export trace",children:a.jsx(Nr,{className:"h-4 w-4"})}),r&&a.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(jd,{className:"h-4 w-4"})})]})]}),a.jsxs(Z,{className:"p-0",children:[a.jsxs("div",{className:"flex items-center gap-2 border-b border-border px-4 py-2 text-xs text-muted-foreground",children:[a.jsx(Ei,{className:"h-3.5 w-3.5"}),"Duration: ",QMe(e.duration_ms)]}),a.jsx(ht,{className:"h-[320px]",children:a.jsxs("div",{className:"space-y-2 p-3",children:[a.jsx(fM,{label:"Tool invocations",icon:Sc,defaultOpen:!0,children:i.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(i,null,2)})}),a.jsx(fM,{label:"Model calls",icon:Sa,defaultOpen:!0,children:o.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(o,null,2)})})]})})]})]})}const mM={debug:{label:"debug",icon:SH,className:"text-muted-foreground"},info:{label:"info",icon:xN,className:"text-primary"},warning:{label:"warning",icon:ao,className:"text-warning"},error:{label:"error",icon:so,className:"text-destructive"},critical:{label:"critical",icon:Mx,className:"text-destructive font-semibold"}};function XMe(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function W0({log:e,isSelected:t,onSelect:r,isExportSelected:n,onExportSelect:s}){const i=mM[e.severity]??mM.info,o=i.icon,l=e.redacted_message??e.message,c=l.length>200?l.slice(0,200)+"":l;return a.jsxs("div",{className:J("flex items-start gap-2 w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus-within:ring-2 focus-within:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),children:[s&&a.jsx("button",{type:"button",role:"checkbox","aria-checked":n,onClick:u=>{u.stopPropagation(),s()},className:"shrink-0 mt-0.5 rounded border border-border p-1 hover:bg-secondary focus:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":n?"Deselect for export":"Select for export",children:a.jsx("span",{className:J("inline-block h-4 w-4 rounded border-2 border-current",n?"bg-primary border-primary":"bg-transparent"),"aria-hidden":!0})}),a.jsxs("button",{type:"button",onClick:r,className:"flex-1 min-w-0 text-left","aria-pressed":t,"aria-label":`View trace for log ${e.id}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(o,{className:J("h-4 w-4 shrink-0",i.className),"aria-hidden":!0}),a.jsx(ze,{variant:"secondary",className:J("text-xs font-mono shrink-0",i.className),children:i.label}),a.jsx("span",{className:"text-xs font-mono text-muted-foreground shrink-0",children:XMe(e.timestamp)})]}),a.jsx("p",{className:"mt-1.5 font-mono text-xs text-foreground break-words line-clamp-2",children:c})]})]})}function JMe(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[s,i]=v.useState(!1),[o,l]=v.useState("logs"),[c,u]=v.useState({limit:100}),[d,f]=v.useState(null),[h,m]=v.useState(new Set),{data:g=[],isLoading:p}=DMe(c),{data:x,isLoading:b}=LMe(d),y=FMe(),w=C=>{u(C)},_=C=>{y.mutate(C,{onSuccess:O=>{O!=null&&O.download_url&&window.open(O.download_url,"_blank")}})},j=C=>{m(O=>{const L=new Set(O);return L.has(C)?L.delete(C):L.add(C),L})},S=()=>{h.size===g.length?m(new Set):m(new Set(g.map(C=>C.id)))},N=v.useMemo(()=>h.size>0?Array.from(h):void 0,[h]),k=C=>{C&&h.size>0||m(new Set),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(fe,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(jr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Logs & Tracing"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(sr,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Logs & Tracing"]}),a.jsx("p",{className:"text-muted-foreground",children:"Structured logs and per-run traces. Filter, view traces, and export with redaction."})]}),a.jsxs(Ra,{value:o,onValueChange:l,className:"space-y-4",children:[a.jsxs(Ys,{className:"grid w-full max-w-md grid-cols-3 rounded-lg bg-muted p-1",children:[a.jsxs(jt,{value:"logs",className:"gap-2",children:[a.jsx(sr,{className:"h-4 w-4"}),"Logs"]}),a.jsxs(jt,{value:"traces",className:"gap-2",children:[a.jsx(UE,{className:"h-4 w-4"}),"Traces"]}),a.jsxs(jt,{value:"export",className:"gap-2",children:[a.jsx(jc,{className:"h-4 w-4"}),"Export"]})]}),a.jsx(_t,{value:"logs",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(ne,{children:"Log stream"}),a.jsx(he,{children:"Real-time logs with severity. Select a row to view its run trace."})]})}),a.jsx(Z,{children:a.jsx(ht,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(oe,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(sr,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Connect the gateway to stream logs, or logs will appear here once available."})]}):g.map(C=>a.jsx(W0,{log:C,isSelected:d===C.id,onSelect:()=>f(O=>O===C.id?null:C.id)},C.id))})})})]}),a.jsx(hM,{trace:x??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsx(ne,{className:"text-base",children:"Filters & actions"}),a.jsx(he,{children:"Refine the log view, export, and redaction rules."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(Rh,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>{m(new Set),n(!0)},children:[a.jsx(Nr,{className:"mr-2 h-4 w-4"}),"Export logs"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),a.jsx(_t,{value:"traces",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(ne,{children:"Run traces"}),a.jsx(he,{children:"Select a log entry to view its run trace (tool invocations and model calls)."})]})}),a.jsx(Z,{children:a.jsx(ht,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(oe,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(UE,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No log entries"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Logs appear here when available. Select one to view its run trace."})]}):g.map(C=>a.jsx(W0,{log:C,isSelected:d===C.id,onSelect:()=>f(O=>O===C.id?null:C.id)},C.id))})})})]}),a.jsx(hM,{trace:x??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsx(ne,{className:"text-base",children:"Trace actions"}),a.jsx(he,{children:"View run trace details and configure redaction for exports."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(Rh,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),a.jsx(_t,{value:"export",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsx("div",{className:"space-y-6 min-w-0",children:a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(ne,{children:"Export logs"}),a.jsx(he,{children:"Select logs to export, or export all filtered results. Choose format and redaction in the confirmation dialog."})]})}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>S(),"aria-pressed":g.length>0&&h.size===g.length,children:h.size===g.length&&g.length>0?"Deselect all":"Select all"}),a.jsxs(P,{size:"sm",onClick:()=>k(h.size>0),disabled:p||g.length===0,children:[a.jsx(Nr,{className:"mr-2 h-4 w-4"}),h.size>0?`Export ${h.size} selected`:"Export all (filtered)"]})]}),a.jsx(ht,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(oe,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(jc,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs to export"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Apply filters or wait for logs to appear, then select and export."})]}):g.map(C=>a.jsx(W0,{log:C,isSelected:d===C.id,onSelect:()=>f(O=>O===C.id?null:C.id),isExportSelected:h.has(C.id),onExportSelect:()=>j(C.id)},C.id))})})]})]})}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsx(ne,{className:"text-base",children:"Export options"}),a.jsx(he,{children:"Configure redaction rules and retention. Export uses your selected format and redaction settings."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Redaction rules"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(Rh,{className:"mr-2 h-4 w-4"}),"Filters"]})]})]})})]})})]}),a.jsx("footer",{className:"pt-4 border-t border-border",children:a.jsxs(fe,{to:"/settings",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:[a.jsx($n,{className:"h-4 w-4"}),"Manage retention settings"]})}),a.jsx(VMe,{open:e,onOpenChange:t,currentFilters:c,onApply:w}),a.jsx(HMe,{open:r,onOpenChange:n,onExport:_,isExporting:y.isPending,selectedLogIds:N}),a.jsx(YMe,{open:s,onOpenChange:i})]})}const lh="admin_workspaces",ch="admin_workspace_members",uh="admin_licenses",pM="admin_analytics_metrics",Bn={getWorkspaces:async()=>{const{data:e,error:t}=await U.from(lh).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWorkspace:async e=>{const{data:t,error:r}=await U.from(lh).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWorkspace:async e=>{const{data:t,error:r}=await U.from(lh).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspace:async(e,t)=>{const{data:r,error:n}=await U.from(lh).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWorkspace:async e=>{const{error:t}=await U.from(lh).delete().eq("id",e);if(t)throw new Error(t.message)},getWorkspaceMembers:async e=>{const{data:t,error:r}=await U.from(ch).select("*").eq("workspace_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getAllMembers:async()=>{const{data:e,error:t}=await U.from(ch).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},addWorkspaceMember:async e=>{const{data:t,error:r}=await U.from(ch).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspaceMember:async(e,t)=>{const{data:r,error:n}=await U.from(ch).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},removeWorkspaceMember:async e=>{const{error:t}=await U.from(ch).delete().eq("id",e);if(t)throw new Error(t.message)},getLicenses:async e=>{let t=U.from(uh).select("*").order("created_at",{ascending:!1});e!=null&&e.workspace_id&&(t=t.eq("workspace_id",e.workspace_id)),(e==null?void 0:e.user_id)!=null&&(t=t.eq("user_id",e.user_id));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getLicense:async e=>{const{data:t,error:r}=await U.from(uh).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createLicense:async e=>{const{data:t,error:r}=await U.from(uh).insert(e).select().single();if(r)throw new Error(r.message);return t},updateLicense:async(e,t)=>{const{data:r,error:n}=await U.from(uh).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteLicense:async e=>{const{error:t}=await U.from(uh).delete().eq("id",e);if(t)throw new Error(t.message)},getAnalyticsMetrics:async e=>{let t=U.from(pM).select("*").order("bucket_time",{ascending:!1});(e==null?void 0:e.workspace_id)!=null&&(t=e.workspace_id?t.eq("workspace_id",e.workspace_id):t.is("workspace_id",null)),e!=null&&e.metric_type&&(t=t.eq("metric_type",e.metric_type)),e!=null&&e.from&&(t=t.gte("bucket_time",e.from)),e!=null&&e.to&&(t=t.lte("bucket_time",e.to)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},insertAnalyticsMetric:async e=>{const{data:t,error:r}=await U.from(pM).insert(e).select().single();if(r)throw new Error(r.message);return t},getProfileByUserId:async e=>{const{data:t,error:r}=await U.from("profiles").select("*").eq("user_id",e).maybeSingle();return r?null:t}};function Fp(e,t){return e().catch(()=>t)}const Qt={all:["admin"],workspaces:()=>[...Qt.all,"workspaces"],workspace:e=>[...Qt.all,"workspace",e],workspaceMembers:e=>[...Qt.all,"workspace-members",e],allMembers:()=>[...Qt.all,"members"],licenses:e=>[...Qt.all,"licenses",e],license:e=>[...Qt.all,"license",e],analytics:e=>[...Qt.all,"analytics",e]};function ZMe(){return Se({queryKey:Qt.workspaces(),queryFn:()=>Fp(()=>Bn.getWorkspaces(),[])})}function e$e(){const e=ue();return ce({mutationFn:t=>Bn.createWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qt.workspaces()}),q.success("Workspace created")},onError:t=>{q.error(t.message??"Failed to create workspace")}})}function t$e(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Bn.updateWorkspace(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Qt.workspaces()}),e.invalidateQueries({queryKey:Qt.workspace(r)}),q.success("Workspace updated")},onError:t=>{q.error(t.message??"Failed to update workspace")}})}function r$e(){const e=ue();return ce({mutationFn:t=>Bn.deleteWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qt.workspaces()}),q.success("Workspace deleted")},onError:t=>{q.error(t.message??"Failed to delete workspace")}})}function n$e(){return Se({queryKey:Qt.allMembers(),queryFn:()=>Fp(()=>Bn.getAllMembers(),[])})}function s$e(){const e=ue();return ce({mutationFn:t=>Bn.addWorkspaceMember(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Qt.allMembers()}),e.invalidateQueries({queryKey:Qt.workspaceMembers(r.workspace_id)}),q.success("User added to workspace")},onError:t=>{q.error(t.message??"Failed to add user")}})}function a$e(){const e=ue();return ce({mutationFn:({id:t,data:r,workspaceId:n})=>Bn.updateWorkspaceMember(t,r),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:Qt.allMembers()}),e.invalidateQueries({queryKey:Qt.workspaceMembers(r)}),q.success("Member updated")},onError:t=>{q.error(t.message??"Failed to update member")}})}function i$e(){const e=ue();return ce({mutationFn:({id:t})=>Bn.removeWorkspaceMember(t),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:Qt.allMembers()}),e.invalidateQueries({queryKey:Qt.workspaceMembers(r)}),q.success("Member removed")},onError:t=>{q.error(t.message??"Failed to remove member")}})}function o$e(e){return Se({queryKey:Qt.licenses(e),queryFn:()=>Fp(()=>Bn.getLicenses(e),[])})}function l$e(){const e=ue();return ce({mutationFn:t=>Bn.createLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qt.licenses()}),q.success("License created")},onError:t=>{q.error(t.message??"Failed to create license")}})}function c$e(){const e=ue();return ce({mutationFn:({id:t,data:r})=>Bn.updateLicense(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Qt.licenses()}),e.invalidateQueries({queryKey:Qt.license(r)}),q.success("License updated")},onError:t=>{q.error(t.message??"Failed to update license")}})}function u$e(){const e=ue();return ce({mutationFn:t=>Bn.deleteLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qt.licenses()}),q.success("License deleted")},onError:t=>{q.error(t.message??"Failed to delete license")}})}function d$e(e){return Se({queryKey:Qt.analytics(e),queryFn:()=>Fp(()=>Bn.getAnalyticsMetrics(e),[])})}const f$e=e=>[...Qt.all,"profile",e];function h$e(e){return Se({queryKey:f$e(e??""),queryFn:()=>e?Fp(()=>Bn.getProfileByUserId(e),null):Promise.resolve(null),enabled:!!e})}const m$e=tt({name:we().min(1,"Name is required").max(200,"Name too long"),active_users_count:Tn.number().min(0,"Must be 0 or more"),status:ir(["active","archived","suspended"])}),gM={name:"",active_users_count:0,status:"active"};function p$e({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s=null}){const i=!!s,{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=Ze({resolver:et(m$e),defaultValues:gM}),h=u("status");v.useEffect(()=>{e&&s?d({name:s.name,active_users_count:s.active_users_count,status:s.status}):e&&!s&&d(gM)},[e,s,d]);const m=g=>{r(i&&s?{name:g.name,active_users_count:g.active_users_count,status:g.status}:{name:g.name,active_users_count:g.active_users_count,status:g.status}),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[640px]",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:i?"Edit workspace":"Create workspace"}),a.jsx(Ae,{children:i?"Update workspace name, user count, and status.":"Add a new workspace for multi-tenant management."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"workspace-name",children:"Name"}),a.jsx(ge,{id:"workspace-name",placeholder:"Workspace name",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("name")}),f.name&&a.jsx("p",{className:"text-sm text-destructive",children:f.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"workspace-active-users",children:"Active users count"}),a.jsx(ge,{id:"workspace-active-users",type:"number",min:0,className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("active_users_count")}),f.active_users_count&&a.jsx("p",{className:"text-sm text-destructive",children:f.active_users_count.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Status"}),a.jsxs(ot,{value:h,onValueChange:g=>c("status",g),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace status",children:a.jsx(lt,{placeholder:"Select status"})}),a.jsxs(it,{children:[a.jsx(ke,{value:"active",children:"Active"}),a.jsx(ke,{value:"archived",children:"Archived"}),a.jsx(ke,{value:"suspended",children:"Suspended"})]})]})]}),a.jsxs($e,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":i?"Save":"Create"})]})]})]})})}const g$e=tt({user_id:we().uuid("Invalid user ID"),role:ir(["admin","member","viewer"])}),vM={user_id:"",role:"member"};function v$e({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s,member:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=Ze({resolver:et(g$e),defaultValues:vM}),m=d("role");v.useEffect(()=>{e&&i?f({user_id:i.user_id,role:i.role}):e&&!i&&f(vM)},[e,i,f]);const g=p=>{if(o&&i)r({role:p.role});else{if(!s)return;r({workspace_id:s.id,user_id:p.user_id,role:p.role})}t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[640px]",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:o?"Edit workspace member":"Add user to workspace"}),a.jsx(Ae,{children:o?"Update the member role for this workspace.":"Assign a user to this workspace with a role. Enter the user ID from your auth system."})]}),a.jsxs("form",{onSubmit:c(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"member-user-id",children:"User ID"}),a.jsx(ge,{id:"member-user-id",placeholder:"UUID from auth.users",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id"),disabled:o}),h.user_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.user_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Role"}),a.jsxs(ot,{value:m,onValueChange:p=>u("role",p),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Member role",children:a.jsx(lt,{placeholder:"Select role"})}),a.jsxs(it,{children:[a.jsx(ke,{value:"admin",children:"Admin"}),a.jsx(ke,{value:"member",children:"Member"}),a.jsx(ke,{value:"viewer",children:"Viewer"})]})]})]}),a.jsxs($e,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n||!o&&!s,children:n?"Saving":o?"Save":"Add user"})]})]})]})})}const y$e=tt({workspace_id:we().uuid("Select a workspace"),user_id:we().optional(),license_type:ir(["seat","pro","enterprise","trial"]),expiry_date:we().optional()}),yM={workspace_id:"",user_id:"",license_type:"seat",expiry_date:""};function x$e({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspaces:s,license:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=Ze({resolver:et(y$e),defaultValues:yM}),m=d("workspace_id"),g=d("license_type");v.useEffect(()=>{var x;e&&i?f({workspace_id:i.workspace_id,user_id:i.user_id??"",license_type:i.license_type,expiry_date:i.expiry_date?i.expiry_date.slice(0,10):""}):e&&!i&&f({...yM,workspace_id:((x=s[0])==null?void 0:x.id)??""})},[e,i,s,f]);const p=x=>{const b=x.expiry_date?new Date(x.expiry_date).toISOString():null;r(o&&i?{user_id:x.user_id||null,license_type:x.license_type,expiry_date:b}:{workspace_id:x.workspace_id,user_id:x.user_id||null,license_type:x.license_type,expiry_date:b}),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[640px]",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:o?"Edit license":"Allocate license"}),a.jsx(Ae,{children:o?"Update license type and expiry. Reassign to a workspace/user if needed.":"Assign a license to a workspace or user. Leave user empty for workspace-level license."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Workspace"}),a.jsxs(ot,{value:m,onValueChange:x=>u("workspace_id",x),disabled:o,children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace",children:a.jsx(lt,{placeholder:"Select workspace"})}),a.jsx(it,{children:s.map(x=>a.jsx(ke,{value:x.id,children:x.name},x.id))})]}),h.workspace_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.workspace_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"license-user-id",children:"User ID (optional)"}),a.jsx(ge,{id:"license-user-id",placeholder:"UUID or leave empty for workspace license",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"License type"}),a.jsxs(ot,{value:g,onValueChange:x=>u("license_type",x),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"License type",children:a.jsx(lt,{placeholder:"Select type"})}),a.jsxs(it,{children:[a.jsx(ke,{value:"seat",children:"Seat"}),a.jsx(ke,{value:"pro",children:"Pro"}),a.jsx(ke,{value:"enterprise",children:"Enterprise"}),a.jsx(ke,{value:"trial",children:"Trial"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"license-expiry",children:"Expiry date (optional)"}),a.jsx(ge,{id:"license-expiry",type:"date",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("expiry_date")})]}),a.jsxs($e,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":o?"Save":"Allocate"})]})]})]})})}const b$e=tt({workspace_id:we().optional(),metric_type:we().optional(),from:we().optional(),to:we().optional(),limit:Tn.number().min(10).max(500).optional()}),Bg={workspace_id:"",metric_type:"",from:"",to:"",limit:100},w$e=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"];function j$e({open:e,onOpenChange:t,onApply:r,workspaces:n,currentValues:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=Ze({resolver:et(b$e),defaultValues:s??Bg});v.useEffect(()=>{e&&u(s??Bg)},[e,s,u]);const f=c("workspace_id"),h=c("metric_type"),m=p=>{r(p),t(!1)},g=()=>{u(Bg),r(Bg),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[640px]",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Filter analytics"}),a.jsx(Ae,{children:"Refine data by workspace, metric type, date range, and limit."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Workspace"}),a.jsxs(ot,{value:f||"all",onValueChange:p=>l("workspace_id",p==="all"?"":p),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:a.jsx(lt,{placeholder:"All workspaces"})}),a.jsxs(it,{children:[a.jsx(ke,{value:"all",children:"All workspaces"}),n.map(p=>a.jsx(ke,{value:p.id,children:p.name},p.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Metric type"}),a.jsxs(ot,{value:h||"all",onValueChange:p=>l("metric_type",p==="all"?"":p),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:a.jsx(lt,{placeholder:"All types"})}),a.jsxs(it,{children:[a.jsx(ke,{value:"all",children:"All types"}),w$e.map(p=>a.jsx(ke,{value:p,children:p.replace(/_/g," ")},p))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-from",children:"From date"}),a.jsx("input",{id:"filter-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("from")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-to",children:"To date"}),a.jsx("input",{id:"filter-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("to")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-limit",children:"Max results"}),a.jsx("input",{id:"filter-limit",type:"number",min:10,max:500,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("limit",{valueAsNumber:!0})}),d.limit&&a.jsx("p",{className:"text-sm text-destructive",children:d.limit.message})]}),a.jsxs($e,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:g,children:"Reset"}),a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",children:"Apply"})]})]})]})})}const _$e={admin:"default",member:"secondary",viewer:"outline"};function S$e({open:e,onOpenChange:t,member:r,workspace:n,onEdit:s,onRevoke:i,isRevoking:o=!1}){const l=(r==null?void 0:r.user_id)??null,{data:c,isLoading:u}=h$e(l);if(!r)return null;const d=(c==null?void 0:c.display_name)??null,f=r.created_at?Qa(Ul(r.created_at),"MMM d, yyyy"):"";return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[640px]",children:[a.jsxs(Pe,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(vp,{className:"h-5 w-5 text-muted-foreground"}),"User details"]}),a.jsx(Ae,{children:"View and manage this user's workspace access and role."})]}),a.jsx("div",{className:"space-y-4 py-2",children:a.jsxs("div",{className:"grid gap-3 rounded-lg border border-border bg-secondary/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),u?a.jsx(oe,{className:"h-5 w-24"}):a.jsx("span",{className:"font-medium",children:d||""})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(wc,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"User ID"}),a.jsx("code",{className:"rounded bg-muted/50 px-2 py-0.5 text-xs font-mono",children:r.user_id})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(rv,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Workspace"}),a.jsx("span",{children:(n==null?void 0:n.name)??r.workspace_id})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Sr,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Role"}),a.jsx(ze,{variant:_$e[r.role],className:J("capitalize"),children:r.role})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(vl,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Member since"}),a.jsx("span",{children:f})]})]})}),a.jsxs($e,{className:"gap-2 border-t border-border pt-4",children:[a.jsxs(P,{type:"button",variant:"outline",onClick:()=>{s(),t(!1)},className:"transition-transform hover:scale-[1.02]",children:[a.jsx($i,{className:"mr-2 h-4 w-4"}),"Edit role"]}),a.jsxs(P,{type:"button",variant:"destructive",onClick:()=>{i(),t(!1)},disabled:o,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(zH,{className:"mr-2 h-4 w-4"}),o?"Revoking":"Revoke access"]})]})]})})}function N$e({open:e,onOpenChange:t,title:r="Confirm changes",description:n="Are you sure you want to save these settings? This may affect workspace behavior.",confirmLabel:s="Save changes",cancelLabel:i="Cancel",onConfirm:o,isSubmitting:l=!1}){const c=()=>{o(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[440px]",children:[a.jsxs(Pe,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(ao,{className:"h-5 w-5 text-warning","aria-hidden":!0}),r]}),a.jsx(Ae,{children:n})]}),a.jsxs($e,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l,children:i}),a.jsx(P,{type:"button",onClick:c,disabled:l,className:"transition-transform hover:scale-[1.02]",children:l?"Saving":s})]})]})})}const k$e={allow_user_registration:!1,data_retention_days:90,registry_enabled:!0};function C$e({workspace:e,onUpdate:t,isSubmitting:r=!1}){var x,b,y;const[n,s]=v.useState(((x=e==null?void 0:e.configuration_details)==null?void 0:x.allow_user_registration)===!0),[i,o]=v.useState(Number((b=e==null?void 0:e.configuration_details)==null?void 0:b.data_retention_days)||90),[l,c]=v.useState(((y=e==null?void 0:e.configuration_details)==null?void 0:y.registry_enabled)!==!1),[u,d]=v.useState(!1),[f,h]=v.useState(!1);v.useEffect(()=>{const w=e==null?void 0:e.configuration_details;s((w==null?void 0:w.allow_user_registration)===!0),o(Number(w==null?void 0:w.data_retention_days)||90),c((w==null?void 0:w.registry_enabled)!==!1),h(!1)},[e==null?void 0:e.id,e==null?void 0:e.configuration_details]);const m=(w,_)=>{w==="allow_user_registration"&&s(!!_),w==="data_retention_days"&&o(Number(_)||90),w==="registry_enabled"&&c(!!_),h(!0)},g=()=>{!f||!e||d(!0)},p=()=>{e&&(t(e.id,{configuration_details:{...k$e,...e.configuration_details||{},allow_user_registration:n,data_retention_days:i,registry_enabled:l}}),h(!1))};return e?a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] transition-all duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{className:"pb-2",children:[a.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[a.jsx($n,{className:"h-5 w-5 text-muted-foreground"}),"Workspace settings"]}),a.jsxs(he,{children:["Default policies and registry controls for ",e.name,". Changes require confirmation."]})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/20 p-3",children:[a.jsx(H,{htmlFor:"ws-allow-registration",className:"cursor-pointer flex-1",children:"Allow user registration"}),a.jsx(Rt,{id:"ws-allow-registration",checked:n,onCheckedChange:w=>m("allow_user_registration",w),className:"data-[state=checked]:bg-primary"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/20 p-3",children:[a.jsx(H,{htmlFor:"ws-registry",className:"cursor-pointer flex-1",children:"Registry enabled"}),a.jsx(Rt,{id:"ws-registry",checked:l,onCheckedChange:w=>m("registry_enabled",w),className:"data-[state=checked]:bg-primary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"ws-retention",children:"Data retention (days)"}),a.jsxs(ot,{value:String(i),onValueChange:w=>m("data_retention_days",Number(w)),children:[a.jsx(at,{id:"ws-retention",className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",children:a.jsx(lt,{})}),a.jsx(it,{children:[30,60,90,180,365].map(w=>a.jsxs(ke,{value:String(w),children:[w," days"]},w))})]})]}),a.jsxs(P,{onClick:g,disabled:!f||r,className:"w-full transition-transform hover:scale-[1.02]",children:[a.jsx(_N,{className:"mr-2 h-4 w-4"}),f?"Save changes":"No changes"]})]})]}),a.jsx(N$e,{open:u,onOpenChange:d,title:"Confirm workspace settings",description:"Saving will update default policies and registry controls for this workspace. Continue?",confirmLabel:"Save changes",onConfirm:p,isSubmitting:r})]}):a.jsx(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)]",children:a.jsxs(ee,{children:[a.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[a.jsx($n,{className:"h-5 w-5 text-muted-foreground"}),"Workspace settings"]}),a.jsx(he,{children:"Select a workspace above or create one to configure policies and registry controls."})]})})}const E$e={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function P$e({open:e,onOpenChange:t,license:r=null,workspaceName:n=""}){const s=r!=null&&r.expiry_date?Qa(Ul(r.expiry_date),"MMM d, yyyy"):"No expiry",i=(r==null?void 0:r.expiry_date)&&new Date(r.expiry_date)<new Date;return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[640px]",children:[a.jsxs(Pe,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(sr,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),"Billing & invoice details"]}),a.jsx(Ae,{children:"Current license and billing information. Use Upgrade plan to change tier or manage payment."})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/20 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Workspace"}),a.jsx("span",{className:"font-medium",children:n})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"License type"}),a.jsx(ze,{variant:i?"destructive":"default",children:E$e[r.license_type]??r.license_type})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Expires"}),a.jsx("span",{className:i?"text-destructive":"",children:s})]})]}),!r&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No license linked. Allocate a license from License Management to see details here."})]}),a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/20 p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Payment options"}),a.jsx("p",{className:"text-sm text-foreground/90 mb-3",children:"Billing is processed securely. Invoices are available after each billing cycle."}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Nr,{className:"mr-2 h-4 w-4"}),"Download invoice"]}),a.jsxs(P,{variant:"outline",size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx($x,{className:"mr-2 h-4 w-4"}),"Payment method"]}),a.jsxs(P,{size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Mi,{className:"mr-2 h-4 w-4"}),"Upgrade plan"]})]})]})]}),a.jsx($e,{className:"border-t border-border pt-4",children:a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}const O$e=tt({workspace_id:we().optional(),from:we().min(1,"From date is required"),to:we().min(1,"To date is required"),format:ir(["csv","json"]),metric_type:we().optional()}),A$e=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"],T$e={workspace_id:"",from:Qa(fk(new Date,30),"yyyy-MM-dd"),to:Qa(new Date,"yyyy-MM-dd"),format:"csv",metric_type:""};function R$e(e){const t=`bucket_time,workspace_id,metric_type,value,dimensions
`,r=e.map(n=>`${n.bucket_time},${n.workspace_id??""},${n.metric_type},${n.value},"${JSON.stringify(n.dimensions??{}).replace(/"/g,'""')}"`);return t+r.join(`
`)}function M$e({open:e,onOpenChange:t,workspaces:r}){const{register:n,handleSubmit:s,setValue:i,watch:o,formState:{errors:l,isSubmitting:c}}=Ze({resolver:et(O$e),defaultValues:T$e}),u=o("format"),d=o("workspace_id"),f=o("metric_type"),h=async m=>{try{const g=await Bn.getAnalyticsMetrics({workspace_id:m.workspace_id||void 0,metric_type:m.metric_type||void 0,from:m.from,to:m.to,limit:5e3});if(g.length===0){q.info("No data in the selected range. Try a different date or filter.");return}const p=`analytics-report-${m.from}-${m.to}.${m.format}`;if(m.format==="csv"){const x=new Blob([R$e(g)],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(x),y=document.createElement("a");y.href=b,y.download=p,y.click(),URL.revokeObjectURL(b)}else{const x=new Blob([JSON.stringify(g,null,2)],{type:"application/json;charset=utf-8;"}),b=URL.createObjectURL(x),y=document.createElement("a");y.href=b,y.download=p,y.click(),URL.revokeObjectURL(b)}q.success("Report downloaded"),t(!1)}catch(g){q.error(g instanceof Error?g.message:"Failed to download report")}};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"max-w-[640px]",children:[a.jsxs(Pe,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Nr,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),"Export analytics report"]}),a.jsx(Ae,{children:"Select date range, format, and optional filters. Data will be downloaded for offline analysis."})]}),a.jsxs("form",{onSubmit:s(h),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"report-from",children:"From date"}),a.jsx("input",{id:"report-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2",...n("from")}),l.from&&a.jsx("p",{className:"text-sm text-destructive",children:l.from.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"report-to",children:"To date"}),a.jsx("input",{id:"report-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2",...n("to")}),l.to&&a.jsx("p",{className:"text-sm text-destructive",children:l.to.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Workspace"}),a.jsxs(ot,{value:d||"all",onValueChange:m=>i("workspace_id",m==="all"?"":m),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:a.jsx(lt,{placeholder:"All workspaces"})}),a.jsxs(it,{children:[a.jsx(ke,{value:"all",children:"All workspaces"}),r.map(m=>a.jsx(ke,{value:m.id,children:m.name},m.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Metric type"}),a.jsxs(ot,{value:f||"all",onValueChange:m=>i("metric_type",m==="all"?"":m),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:a.jsx(lt,{placeholder:"All types"})}),a.jsxs(it,{children:[a.jsx(ke,{value:"all",children:"All types"}),A$e.map(m=>a.jsx(ke,{value:m,children:m.replace(/_/g," ")},m))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Format"}),a.jsxs(ot,{value:u,onValueChange:m=>i("format",m),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Export format",children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(ke,{value:"csv",children:"CSV"}),a.jsx(ke,{value:"json",children:"JSON"})]})]})]}),a.jsxs($e,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),a.jsxs(P,{type:"submit",disabled:c,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Nr,{className:"mr-2 h-4 w-4"}),c?"Preparing":"Download report"]})]})]})]})})}const $$e={active:"default",archived:"secondary",suspended:"destructive"},I$e={admin:"default",member:"secondary",viewer:"outline"},D$e={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function L$e(){var G;const[e,t]=v.useState("workspaces"),[r,n]=v.useState(!1),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(null),[h,m]=v.useState(!1),[g,p]=v.useState(null),[x,b]=v.useState(!1),[y,w]=v.useState(null),[_,j]=v.useState(null),[S,N]=v.useState(!1),[k,C]=v.useState(null),[O,L]=v.useState(!1),[E,F]=v.useState(null),[$,K]=v.useState(!1),[T,V]=v.useState(""),{data:R=[],isLoading:I}=ZMe(),{data:D=[],isLoading:te}=n$e();v.useEffect(()=>{R.length>0&&!k&&C(R[0])},[R,k]);const{data:A=[],isLoading:re}=o$e(),{data:ye=[],isLoading:We}=d$e({workspace_id:(y==null?void 0:y.workspace_id)||void 0,metric_type:(y==null?void 0:y.metric_type)||void 0,from:(y==null?void 0:y.from)||void 0,to:(y==null?void 0:y.to)||void 0,limit:(y==null?void 0:y.limit)??100}),Ke=e$e(),pe=t$e(),Ne=r$e(),se=s$e(),ve=a$e(),Y=i$e(),Q=l$e(),Xe=c$e(),He=u$e(),bt=v.useMemo(()=>{const z={},me=y!=null&&y.from?Ul(y.from):fk(new Date,30),xe=y!=null&&y.to?Ul(y.to):new Date;for(let ie=new Date(me);ie<=xe;ie.setDate(ie.getDate()+1)){const Ce=Qa(ie,"yyyy-MM-dd");z[Ce]={date:Ce,value:0,sessions:0,runs:0}}return ye.forEach(ie=>{const Ce=ie.bucket_time.slice(0,10);z[Ce]||(z[Ce]={date:Ce,value:0,sessions:0,runs:0}),z[Ce].value+=Number(ie.value),ie.metric_type==="active_sessions"&&(z[Ce].sessions=Number(ie.value)),(ie.metric_type==="run_success_rate"||ie.metric_type==="run_failure_count")&&(z[Ce].runs=Number(ie.value))}),Object.values(z).sort((ie,Ce)=>new Date(ie.date).getTime()-new Date(Ce.date).getTime())},[ye,y]),ft=v.useMemo(()=>{const z={};return R.forEach(me=>{z[me.id]=me}),z},[R]),Wt=v.useMemo(()=>{if(!T.trim())return D;const z=T.trim().toLowerCase();return D.filter(me=>{var xe;return me.user_id.toLowerCase().includes(z)||(((xe=ft[me.workspace_id])==null?void 0:xe.name)??"").toLowerCase().includes(z)||me.role.toLowerCase().includes(z)})},[D,T,ft]),Cr=v.useMemo(()=>{const z=new Date,me=new Date(z.getTime()+30*24*60*60*1e3);let xe=0,ie=0;return A.forEach(Ce=>{(!Ce.expiry_date||new Date(Ce.expiry_date)>=z)&&xe++,Ce.expiry_date&&new Date(Ce.expiry_date)<=me&&new Date(Ce.expiry_date)>=z&&ie++}),{total:A.length,active:xe,expiringSoon:ie}},[A]),mn=z=>{s?(pe.mutate({id:s.id,data:z}),i(null)):Ke.mutate(z),n(!1)},_s=z=>{c?(ve.mutate({id:c.id,data:z,workspaceId:c.workspace_id}),u(null)):d&&"workspace_id"in z&&(se.mutate(z),f(null)),l(!1)},B=z=>{g?(Xe.mutate({id:g.id,data:z}),p(null)):Q.mutate(z),m(!1)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Admin & Analytics"}),a.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Workspace management, user provisioning, license controls, and analytics. Cloud-only."})]})}),a.jsxs(Ra,{value:e,onValueChange:t,className:"space-y-4",children:[a.jsxs(Ys,{className:"inline-flex h-10 items-center justify-center rounded-lg bg-card border border-border p-1 gap-1",children:[a.jsxs(jt,{value:"workspaces",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(rv,{className:"mr-2 h-4 w-4"}),"Workspace Management"]}),a.jsxs(jt,{value:"users",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(Uw,{className:"mr-2 h-4 w-4"}),"User Management"]}),a.jsxs(jt,{value:"licenses",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(Ni,{className:"mr-2 h-4 w-4"}),"License Management"]}),a.jsxs(jt,{value:"analytics",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(vh,{className:"mr-2 h-4 w-4"}),"Analytics"]})]}),a.jsx(_t,{value:"workspaces",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 lg:grid-cols-[1fr_340px]",children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-lg",children:"Workspaces"}),a.jsxs(P,{size:"sm",onClick:()=>{i(null),n(!0)},children:[a.jsx(Dt,{className:"mr-1 h-4 w-4"}),"Add workspace"]})]}),a.jsx(Z,{children:I?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):R.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(rv,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No workspaces yet. Add one to manage users and licenses."}),a.jsxs(P,{onClick:()=>n(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add workspace"]})]}):a.jsx(ht,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:R.map(z=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md",(k==null?void 0:k.id)===z.id&&"ring-2 ring-primary/50"),children:[a.jsxs("button",{type:"button",className:"min-w-0 flex-1 text-left",onClick:()=>C(z),children:[a.jsx("p",{className:"font-medium truncate",children:z.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.active_users_count," active users"]})]}),a.jsx(ze,{variant:$$e[z.status],className:"shrink-0 ml-2",children:z.status}),a.jsxs(Us,{children:[a.jsx(qs,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 ml-2",children:[a.jsx(Na,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(gs,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{i(z),n(!0)},children:[a.jsx($i,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this workspace? This will remove members and licenses.")&&Ne.mutate(z.id)},children:[a.jsx(rn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},z.id))})})})]}),a.jsx(C$e,{workspace:k??R[0]??null,onUpdate:(z,me)=>pe.mutate({id:z,data:me}),isSubmitting:pe.isPending})]})}),a.jsx(_t,{value:"users",className:"space-y-4 mt-4",children:a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ee,{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-lg",children:"User Management"}),a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx(_c,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(ge,{placeholder:"Search by user ID, workspace, role",value:T,onChange:z=>V(z.target.value),className:"pl-9 w-full sm:w-[240px] h-9 rounded-md border border-input bg-background text-sm focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Search users"})]}),a.jsxs(P,{size:"sm",onClick:()=>{u(null),f(R[0]??null),l(!0)},disabled:R.length===0,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(qE,{className:"mr-1 h-4 w-4"}),"Add user"]})]})]}),a.jsx(Z,{children:te?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):D.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Uw,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No users assigned to workspaces. Add a workspace first, then add users."}),a.jsxs(P,{onClick:()=>{f(R[0]??null),l(!0)},disabled:R.length===0,children:[a.jsx(qE,{className:"mr-2 h-4 w-4"}),"Add user"]})]}):a.jsx(ht,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",role:"grid","aria-label":"User management table",children:[a.jsx("thead",{className:"sticky top-0 z-10 bg-card border-b border-border",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12",children:"User ID"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12 hidden sm:table-cell",children:"Workspace"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12",children:"Role"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12 hidden md:table-cell",children:"Last login"}),a.jsx("th",{className:"text-right font-medium text-muted-foreground px-3 py-3 h-12 w-[100px]",children:"Actions"})]})}),a.jsx("tbody",{children:Wt.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-3 py-8 text-center text-muted-foreground",children:"No users match your search."})}):Wt.map(z=>{var me;return a.jsxs("tr",{className:"border-b border-border last:border-0 bg-secondary/20 hover:bg-secondary/40 transition-colors",children:[a.jsxs("td",{className:"px-3 py-3 font-mono text-xs truncate max-w-[140px]",children:[z.user_id.slice(0,8),""]}),a.jsx("td",{className:"px-3 py-3 text-muted-foreground hidden sm:table-cell truncate max-w-[120px]",children:((me=ft[z.workspace_id])==null?void 0:me.name)??z.workspace_id.slice(0,8)}),a.jsx("td",{className:"px-3 py-3",children:a.jsx(ze,{variant:I$e[z.role],className:"capitalize",children:z.role})}),a.jsx("td",{className:"px-3 py-3 text-muted-foreground hidden md:table-cell",children:""}),a.jsx("td",{className:"px-3 py-3 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{j(z),N(!0)},"aria-label":"View user details",children:a.jsx(kH,{className:"h-4 w-4"})}),a.jsxs(Us,{children:[a.jsx(qs,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"Actions",children:a.jsx(Na,{className:"h-4 w-4"})})}),a.jsxs(gs,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{u(z),f(null),l(!0)},children:[a.jsx($i,{className:"mr-2 h-4 w-4"}),"Edit role"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this user from the workspace?")&&Y.mutate({id:z.id,workspaceId:z.workspace_id})},children:[a.jsx(rn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})})]},z.id)})})]})})})})]})}),a.jsxs(_t,{value:"licenses",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Total licenses"}),a.jsx(Ni,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:Cr.total})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Active"}),a.jsx(Ni,{className:"h-4 w-4 text-success"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:Cr.active})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Expiring soon"}),a.jsx(Ni,{className:"h-4 w-4 text-warning"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:Cr.expiringSoon})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Billing"}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",size:"sm",className:"w-full transition-transform hover:scale-[1.02]",onClick:()=>{F(null),L(!0)},children:[a.jsx(sr,{className:"mr-2 h-4 w-4"}),"View billing & invoices"]})})]})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-lg",children:"License Management"}),a.jsxs(P,{size:"sm",onClick:()=>{p(null),m(!0)},className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Dt,{className:"mr-1 h-4 w-4"}),"Allocate license"]})]}),a.jsx(Z,{children:re?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):A.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Ni,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No licenses allocated. Allocate a license to a workspace or user."}),a.jsxs(P,{onClick:()=>m(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Allocate license"]})]}):a.jsx(ht,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:A.map(z=>{var me;return a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:D$e[z.license_type]??z.license_type}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[((me=ft[z.workspace_id])==null?void 0:me.name)??z.workspace_id,z.user_id?`  ${z.user_id.slice(0,8)}`:""]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[z.expiry_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",Qa(Ul(z.expiry_date),"MMM d, yyyy")]}),a.jsxs(Us,{children:[a.jsx(qs,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(Na,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(gs,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{F(z),L(!0)},children:[a.jsx(sr,{className:"mr-2 h-4 w-4"}),"View billing"]}),a.jsxs(Mt,{onClick:()=>{p(z),m(!0)},children:[a.jsx($i,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this license allocation?")&&He.mutate(z.id)},children:[a.jsx(rn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]},z.id)})})})})]})]}),a.jsxs(_t,{value:"analytics",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Sessions, run success rates, skill installs. Filter by workspace and date range."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Rh,{className:"mr-1 h-4 w-4"}),"Filter"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>K(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Nr,{className:"mr-1 h-4 w-4"}),"Download report"]})]})]}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active sessions",value:ye.filter(z=>z.metric_type==="active_sessions").reduce((z,me)=>z+Number(me.value),0),icon:Uw},{title:"Run success rate",value:ye.filter(z=>z.metric_type==="run_success_rate").reduce((z,me)=>z+Number(me.value),0)||"",icon:vh},{title:"Skill installs",value:ye.filter(z=>z.metric_type==="skill_installs").reduce((z,me)=>z+Number(me.value),0),icon:rv},{title:"Data points",value:ye.length,icon:vh}].map(({title:z,value:me,icon:xe})=>a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-lg hover:scale-[1.02]",children:[a.jsxs(ee,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:z}),a.jsx(xe,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:me})})]},z))}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Metrics over time"}),a.jsx(he,{children:"Aggregated metrics by date. Use Filter to change workspace or date range."})]}),a.jsx(Z,{children:We?a.jsx(oe,{className:"h-[280px] w-full rounded-lg"}):bt.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(vh,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No metrics in this period. Data is populated when runs and sessions are recorded."}),a.jsxs(P,{variant:"outline",onClick:()=>b(!0),children:[a.jsx(Rh,{className:"mr-2 h-4 w-4"}),"Change filter"]})]}):a.jsx(f1,{width:"100%",height:280,children:a.jsxs(n6,{data:bt,children:[a.jsx(ax,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Dc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Lc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Ps,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"},formatter:z=>[z,"Value"],labelFormatter:z=>Qa(Ul(z),"MMM d, yyyy")}),a.jsx(fo,{type:"monotone",dataKey:"value",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Value"})]})})})]}),bt.length>0&&a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Metric breakdown (bar)"}),a.jsx(he,{children:"Daily values for the selected period."})]}),a.jsx(Z,{children:a.jsx(f1,{width:"100%",height:240,children:a.jsxs(oTe,{data:bt,children:[a.jsx(ax,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Dc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Lc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Ps,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelFormatter:z=>Qa(Ul(z),"MMM d, yyyy")}),a.jsx(Gc,{dataKey:"value",fill:"rgb(var(--accent))",radius:[4,4,0,0],name:"Value"})]})})})]})]})]}),a.jsx(p$e,{open:r,onOpenChange:n,onSubmit:mn,isSubmitting:Ke.isPending||pe.isPending,workspace:s}),a.jsx(v$e,{open:o,onOpenChange:l,onSubmit:_s,isSubmitting:se.isPending||ve.isPending,workspace:c?ft[c.workspace_id]??null:d,member:c}),a.jsx(x$e,{open:h,onOpenChange:m,onSubmit:B,isSubmitting:Q.isPending||Xe.isPending,workspaces:R,license:g}),a.jsx(j$e,{open:x,onOpenChange:b,onApply:w,workspaces:R,currentValues:y}),a.jsx(S$e,{open:S,onOpenChange:N,member:_,workspace:_?ft[_.workspace_id]??null:null,onEdit:()=>{_&&(N(!1),u(_),f(null),l(!0))},onRevoke:()=>{_&&(Y.mutate({id:_.id,workspaceId:_.workspace_id}),j(null),N(!1))},isRevoking:Y.isPending}),a.jsx(P$e,{open:O,onOpenChange:L,license:E,workspaceName:E?((G=ft[E.workspace_id])==null?void 0:G.name)??"":void 0}),a.jsx(M$e,{open:$,onOpenChange:K,workspaces:R})]})}var Xb="Collapsible",[F$e,c6]=Ks(Xb),[U$e,CC]=F$e(Xb),u6=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c,u]=ai({prop:n,defaultProp:s??!1,onChange:o,caller:Xb});return a.jsx(U$e,{scope:r,disabled:i,contentId:Ls(),open:c,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),children:a.jsx(Qe.div,{"data-state":PC(c),"data-disabled":i?"":void 0,...l,ref:t})})});u6.displayName=Xb;var d6="CollapsibleTrigger",f6=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=CC(d6,r);return a.jsx(Qe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":PC(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Ie(e.onClick,s.onOpenToggle)})});f6.displayName=d6;var EC="CollapsibleContent",h6=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=CC(EC,e.__scopeCollapsible);return a.jsx(es,{present:r||s.open,children:({present:i})=>a.jsx(q$e,{...n,ref:t,present:i})})});h6.displayName=EC;var q$e=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=CC(EC,r),[l,c]=v.useState(n),u=v.useRef(null),d=gt(t,u),f=v.useRef(0),h=f.current,m=v.useRef(0),g=m.current,p=o.open||l,x=v.useRef(p),b=v.useRef(void 0);return v.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),kr(()=>{const y=u.current;if(y){b.current=b.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,m.current=w.width,x.current||(y.style.transitionDuration=b.current.transitionDuration,y.style.animationName=b.current.animationName),c(n)}},[o.open,n]),a.jsx(Qe.div,{"data-state":PC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&s})});function PC(e){return e?"open":"closed"}var B$e=u6,z$e=f6,W$e=h6,Fa="Accordion",V$e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[OC,K$e,H$e]=Gx(Fa),[Jb]=Ks(Fa,[H$e,c6]),AC=c6(),m6=M.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,i=n;return a.jsx(OC.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(X$e,{...i,ref:t}):a.jsx(Q$e,{...s,ref:t})})});m6.displayName=Fa;var[p6,G$e]=Jb(Fa),[g6,Y$e]=Jb(Fa,{collapsible:!1}),Q$e=M.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=ai({prop:r,defaultProp:n??"",onChange:s,caller:Fa});return a.jsx(p6,{scope:e.__scopeAccordion,value:M.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:M.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(g6,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(v6,{...o,ref:t})})})}),X$e=M.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=e,[o,l]=ai({prop:r,defaultProp:n??[],onChange:s,caller:Fa}),c=M.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=M.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx(p6,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(g6,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(v6,{...i,ref:t})})})}),[J$e,Zb]=Jb(Fa),v6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=e,l=M.useRef(null),c=gt(l,t),u=K$e(r),f=pf(s)==="ltr",h=Ie(e.onKeyDown,m=>{var k;if(!V$e.includes(m.key))return;const g=m.target,p=u().filter(C=>{var O;return!((O=C.ref.current)!=null&&O.disabled)}),x=p.findIndex(C=>C.ref.current===g),b=p.length;if(x===-1)return;m.preventDefault();let y=x;const w=0,_=b-1,j=()=>{y=x+1,y>_&&(y=w)},S=()=>{y=x-1,y<w&&(y=_)};switch(m.key){case"Home":y=w;break;case"End":y=_;break;case"ArrowRight":i==="horizontal"&&(f?j():S());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(f?S():j());break;case"ArrowUp":i==="vertical"&&S();break}const N=y%b;(k=p[N].ref.current)==null||k.focus()});return a.jsx(J$e,{scope:r,disabled:n,direction:s,orientation:i,children:a.jsx(OC.Slot,{scope:r,children:a.jsx(Qe.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),ux="AccordionItem",[Z$e,TC]=Jb(ux),y6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,i=Zb(ux,r),o=G$e(ux,r),l=AC(r),c=Ls(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return a.jsx(Z$e,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(B$e,{"data-orientation":i.orientation,"data-state":S6(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});y6.displayName=ux;var x6="AccordionHeader",b6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Zb(Fa,r),i=TC(x6,r);return a.jsx(Qe.h3,{"data-orientation":s.orientation,"data-state":S6(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});b6.displayName=x6;var dS="AccordionTrigger",w6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Zb(Fa,r),i=TC(dS,r),o=Y$e(dS,r),l=AC(r);return a.jsx(OC.ItemSlot,{scope:r,children:a.jsx(z$e,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...n,ref:t})})});w6.displayName=dS;var j6="AccordionContent",_6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Zb(Fa,r),i=TC(j6,r),o=AC(r);return a.jsx(W$e,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});_6.displayName=j6;function S6(e){return e?"open":"closed"}var e4e=m6,N6=y6,t4e=b6,k6=w6,C6=_6;const r4e=e4e,E6=v.forwardRef(({className:e,...t},r)=>a.jsx(N6,{ref:r,className:J("border-b border-border",e),...t}));E6.displayName=N6.displayName;const P6=v.forwardRef(({className:e,children:t,...r},n)=>a.jsx(t4e,{className:"flex",children:a.jsxs(k6,{ref:n,className:J("flex flex-1 items-center justify-between py-4 text-left font-medium transition-all duration-200 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(yl,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-muted-foreground"})]})}));P6.displayName=k6.displayName;const O6=v.forwardRef(({className:e,children:t,...r},n)=>a.jsx(C6,{ref:n,className:J("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...r,children:a.jsx("div",{className:"pb-4 pt-0 text-muted-foreground",children:t})}));O6.displayName=C6.displayName;const n4e="help_faqs",s4e="help_doc_links",a4e="support_requests",i4e="help_changelog",ew={getFaqs:async()=>{const{data:e,error:t}=await U.from(n4e).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},getDocLinks:async()=>{const{data:e,error:t}=await U.from(s4e).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},submitSupportRequest:async e=>{const t={...e,user_id:e.user_id??null,context_info:e.context_info??{},status:e.status??"open"},{data:r,error:n}=await U.from(a4e).insert(t).select().single();if(n)throw new Error(n.message);return r},getChangelog:async(e=50)=>{const{data:t,error:r}=await U.from(i4e).select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}},fc={all:["help"],faqs:()=>[...fc.all,"faqs"],docLinks:()=>[...fc.all,"doc-links"],changelog:()=>[...fc.all,"changelog"]};function RC(e,t){return e().catch(()=>t)}function o4e(){return Se({queryKey:fc.faqs(),queryFn:()=>RC(ew.getFaqs,[])})}function l4e(){return Se({queryKey:fc.docLinks(),queryFn:()=>RC(ew.getDocLinks,[])})}function c4e(){const e=ue();return ce({mutationFn:t=>ew.submitSupportRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:fc.all}),q.success("Support request submitted. Well get back to you soon.")},onError:t=>{q.error(t.message||"Failed to submit support request")}})}function u4e(e){return Se({queryKey:[...fc.changelog(),50],queryFn:()=>RC(()=>ew.getChangelog(50),[])})}function d4e({open:e,onOpenChange:t}){return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{showClose:!0,className:"max-w-md",children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15 text-success",children:a.jsx(Pa,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx(Oe,{children:"Request received"}),a.jsx(Ae,{children:"Thanks for reaching out. Well review your message and get back to you soon."})]})]})}),a.jsx($e,{className:"sm:justify-end",children:a.jsx(P,{onClick:()=>t(!1),children:"Done"})})]})})}const f4e=tt({name:we().min(1,"Name is required").max(255,"Name is too long"),email:we().min(1,"Email is required").email("Enter a valid email"),issue_description:we().min(10,"Please describe your issue in at least 10 characters").max(4e3,"Description must be 4000 characters or less")}),V0={name:"",email:"",issue_description:""};function h4e(){var f;const{user:e}=pp(),t=c4e(),[r,n]=v.useState(!1),s=v.useMemo(()=>{const h={page:"help",pathname:typeof window<"u"?window.location.pathname:""};return e!=null&&e.id&&(h.user_id=e.id),e!=null&&e.email&&(h.user_email=e.email),h},[e==null?void 0:e.id,e==null?void 0:e.email]),{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=Ze({resolver:et(f4e),defaultValues:e!=null&&e.email?{...V0,name:((f=e.user_metadata)==null?void 0:f.full_name)??"",email:e.email??""}:V0}),d=async h=>{const m={name:h.name.trim(),email:h.email.trim(),issue_description:h.issue_description.trim(),context_info:s,user_id:(e==null?void 0:e.id)??null};await t.mutateAsync(m),l(V0),n(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ee,{children:[a.jsx(ne,{className:"text-lg font-semibold",children:"Send a request"}),a.jsx(he,{children:"Describe your issue and well get back to you. Context (current page, account) is included to help us respond faster."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:o(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"support_name",children:"Name"}),a.jsx(ge,{id:"support_name",placeholder:"Your name",className:"rounded-md border border-input px-3 py-2",...i("name")}),c.name&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"support_email",children:"Email"}),a.jsx(ge,{id:"support_email",type:"email",placeholder:"you@example.com",className:"rounded-md border border-input px-3 py-2",...i("email")}),c.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"support_issue",children:"Issue description"}),a.jsx(Zi,{id:"support_issue",placeholder:"Describe what you need help with...",rows:4,className:"rounded-md border border-input px-3 py-2",...i("issue_description")}),c.issue_description&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.issue_description.message})]}),a.jsx(P,{type:"submit",className:"rounded-md px-4 py-3 font-medium",disabled:u,children:u?"Sending":"Send request"})]})})]}),a.jsx(d4e,{open:r,onOpenChange:n})]})}const m4e=[{title:"Install Gateway",description:"Download and run the Clawgate gateway on your machine to get started.",href:"/download",icon:Nr,cta:"Download"},{title:"Connect first channel",description:"Add Telegram, Slack, Discord, or WhatsApp so you can talk to your agent from chat.",href:"/channels",icon:Kl,cta:"Channels"},{title:"Open Control UI",description:"Use the dashboard to monitor sessions, runs, skills, and nodes.",href:"/dashboard",icon:QI,cta:"Dashboard"}];function p4e(){const[e,t]=v.useState(""),{data:r=[],isLoading:n}=o4e(),{data:s=[],isLoading:i}=l4e(),{data:o=[],isLoading:l}=u4e(),c=v.useMemo(()=>{if(!e.trim())return r;const u=e.trim().toLowerCase();return r.filter(d=>d.question_text.toLowerCase().includes(u)||d.answer_text.toLowerCase().includes(u)||d.category&&d.category.toLowerCase().includes(u))},[r,e]);return a.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{"aria-label":"Breadcrumb",className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(fe,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Dashboard"}),a.jsx(jr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"About / Help"})]}),a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"About / Help"}),a.jsx("p",{className:"text-muted-foreground max-w-xl",children:"Quick start guides, FAQs, documentation links, and support. Find what you need in a few clicks."})]}),a.jsxs("section",{"aria-labelledby":"quick-start-heading",children:[a.jsx("h2",{id:"quick-start-heading",className:"mb-4 text-lg font-semibold",children:"Quick start"}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:m4e.map((u,d)=>a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30","animate-fade-in-up"),style:{animationDelay:`${d*100}ms`},children:[a.jsxs(ee,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/15 text-primary",children:a.jsx(u.icon,{className:"h-5 w-5"})}),a.jsx(ne,{className:"text-base",children:u.title})]}),a.jsx(he,{className:"text-sm",children:u.description})]}),a.jsx(Z,{className:"pt-0",children:a.jsx(P,{variant:"outline",size:"sm",className:"rounded-md",asChild:!0,children:a.jsx(fe,{to:u.href,children:u.cta})})})]},u.href))})]}),a.jsxs("section",{"aria-labelledby":"faq-heading",children:[a.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h2",{id:"faq-heading",className:"text-lg font-semibold",children:"Frequently asked questions"}),a.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[a.jsx(_c,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{type:"search",placeholder:"Search FAQs",value:e,onChange:u=>t(u.target.value),className:"rounded-md border border-input pl-9 pr-3 py-2","aria-label":"Search FAQs"})]})]}),n?a.jsx(X,{className:"rounded-[10px] border border-border",children:a.jsx(Z,{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>a.jsx(oe,{className:"h-12 w-full rounded-md"},u))})})}):c.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(df,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e.trim()?"No FAQs match your search. Try different keywords.":"No FAQs yet. Check back later or contact support."})]})}):a.jsx(r4e,{type:"single",collapsible:!0,className:"w-full",children:c.map(u=>a.jsxs(E6,{value:u.id,children:[a.jsx(P6,{className:"text-left font-medium hover:no-underline",children:u.question_text}),a.jsx(O6,{children:a.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-muted-foreground",children:u.answer_text})})]},u.id))})]}),a.jsxs("section",{"aria-labelledby":"docs-heading",children:[a.jsx("h2",{id:"docs-heading",className:"mb-4 text-lg font-semibold",children:"Documentation"}),i?a.jsx("ul",{className:"space-y-2",children:[1,2,3,4].map(u=>a.jsx(oe,{className:"h-10 w-full rounded-md"},u))}):s.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(sr,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Documentation links will appear here."}),a.jsx(P,{variant:"link",className:"mt-2",asChild:!0,children:a.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1",children:["Open docs ",a.jsx(Mi,{className:"h-4 w-4"})]})})]})}):a.jsx("ul",{className:"grid gap-2 sm:grid-cols-2",children:s.map(u=>a.jsx("li",{children:a.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:J("flex items-center gap-2 rounded-md border border-border bg-card px-4 py-3","text-foreground transition-all duration-200 hover:border-primary/50 hover:shadow-card","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),children:[a.jsx(bc,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),a.jsx("span",{className:"flex-1 font-medium",children:u.title}),a.jsx(Mi,{className:"h-4 w-4 shrink-0 text-muted-foreground"})]})},u.id))})]}),a.jsxs("section",{"aria-labelledby":"support-heading",children:[a.jsx("h2",{id:"support-heading",className:"mb-4 text-lg font-semibold",children:"Contact support"}),a.jsx(h4e,{})]}),a.jsxs("section",{"aria-labelledby":"changelog-heading",children:[a.jsx("h2",{id:"changelog-heading",className:"mb-4 text-lg font-semibold",children:"Changelog"}),l?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(u=>a.jsx(oe,{className:"h-16 w-full rounded-md"},u))}):o.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(vl,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Changelog entries will appear here."})]})}):a.jsx("ul",{className:"space-y-0 border-l-2 border-border pl-6",children:o.map(u=>a.jsxs("li",{className:"relative pb-6 last:pb-0",children:[a.jsx("span",{className:"absolute -left-[29px] top-1.5 h-3 w-3 rounded-full bg-primary","aria-hidden":!0}),a.jsxs("div",{className:"flex flex-wrap items-baseline gap-2",children:[u.version_number&&a.jsx("span",{className:"font-medium text-foreground",children:u.version_number}),a.jsx("time",{dateTime:u.date,className:"text-sm text-muted-foreground",children:new Date(u.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:u.description})]},u.id))})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[a.jsx(fe,{to:"/terms",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Terms of Service"}),a.jsx(fe,{to:"/privacy",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Privacy Policy"}),a.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:["Docs ",a.jsx(Mi,{className:"h-3.5 w-3.5"})]})]})})]})}const tw={getPrivacySettings:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)return null;const{data:t,error:r}=await U.from("privacy_policy_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t??null},updatePrivacySettings:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,...e},{data:n,error:s}=await U.from("privacy_policy_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},ensurePrivacySettings:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const t=await tw.getPrivacySettings();if(t)return t;const r={user_id:e.id},{data:n,error:s}=await U.from("privacy_policy_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},getCurrentPolicyDocument:async(e="privacy")=>{const{data:t,error:r}=await U.from("policy_documents").select("*").eq("document_type",e).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(r)throw new Error(r.message);return t??null}},np={all:["privacy"],settings:()=>[...np.all,"settings"],policyDocument:e=>[...np.all,"policy",e]};function A6(e,t){return e().catch(()=>t)}function g4e(){return Se({queryKey:np.settings(),queryFn:()=>A6(tw.getPrivacySettings,null)})}function v4e(){const e=ue();return ce({mutationFn:t=>tw.updatePrivacySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:np.settings()}),q.success("Privacy preferences updated")},onError:t=>{q.error(t.message||"Failed to update privacy preferences")}})}function y4e(e="privacy"){return Se({queryKey:np.policyDocument(e),queryFn:()=>A6(()=>tw.getCurrentPolicyDocument(e),null)})}function x4e({open:e,onOpenChange:t,telemetryOptOut:r,onConfirm:n,isUpdating:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{"aria-describedby":"preferences-modal-description",children:[a.jsxs(Pe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Oe,{children:"Confirm privacy preference"})]}),a.jsx(Ae,{id:"preferences-modal-description",children:r?a.jsx(a.Fragment,{children:"You are opting out of telemetry and optional usage data collection. We will not send diagnostic or usage data from this account. This preference will be saved and can be changed anytime in Settings or on this page."}):a.jsx(a.Fragment,{children:"You are opting in to optional telemetry. We may collect anonymous usage and diagnostic data to improve the product. No personal data is shared. You can opt out anytime in Settings or on this page."})})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{onClick:i,disabled:s,className:"transition-transform hover:scale-[1.02]",children:s?"Saving":"Save preference"})]})]})})}function T6({open:e,onOpenChange:t,onDownload:r,onOpenInNewTab:n,title:s="Download Privacy Policy",description:i="Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."}){const o=()=>{r(),t(!1)},l=()=>{n==null||n(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{"aria-describedby":"download-confirmation-description",children:[a.jsxs(Pe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Oe,{children:s})]}),a.jsx(Ae,{id:"download-confirmation-description",children:i})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n&&a.jsx(P,{variant:"outline",onClick:l,className:"transition-transform hover:scale-[1.02]",children:"Open in new tab"}),a.jsxs(P,{onClick:o,className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Nr,{className:"h-4 w-4","aria-hidden":!0}),"Download"]})]})]})})}const xM=[{id:"intro",title:"Introduction",content:"Clawgate is a local-first, chat-native personal agent platform. This policy explains how we handle your data when you use the Control UI and optional cloud-linked features. We are committed to transparency and putting you in control."},{id:"data-collection",title:"Data collection",content:"When you use local-only mode, data stays on your devices. We do not collect or transmit personal data from your gateway. If you link a cloud account, we store only what is necessary to provide that service (e.g. profile, session tokens). Optional telemetryanonymous usage and diagnostic datamay be collected only if you have not opted out. We do not sell your data."},{id:"storage",title:"Storage and local-first",content:"Session transcripts, skill definitions, cron jobs, and node pairings are stored locally by default. Cloud-backed features (e.g. sync, backup) store only what you explicitly enable. Credentials and long-lived tokens are stored in your system keychain or an encrypted fallback when available."},{id:"retention",title:"Retention",content:"Local data is retained according to your settings (e.g. log retention, media caps). Cloud-stored data is retained only as long as your account is active and in line with our terms. You can request deletion of cloud data at any time."},{id:"third-party",title:"Third-party services and APIs",content:"Channel adapters (e.g. Telegram, Slack) and model providers (e.g. OpenAI, Anthropic) process data according to their policies when you use those integrations. We pass only the minimum data required. We recommend reviewing each providers privacy policy."}];function b4e({id:e,title:t,content:r,defaultOpen:n=!1}){const[s,i]=v.useState(n);return a.jsxs("details",{id:e,open:s,onToggle:o=>i(o.target.open),className:"group border-b border-border last:border-b-0",children:[a.jsxs("summary",{className:"flex cursor-pointer list-none items-center gap-2 py-4 text-left font-medium text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-md px-1 -mx-1",children:[s?a.jsx(yl,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}):a.jsx(jr,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{children:t})]}),a.jsx("div",{className:"prose prose-invert prose-sm max-w-none pb-4 pl-6 text-muted-foreground",children:a.jsx("p",{className:"m-0 leading-relaxed",children:r})})]})}function w4e(){const{data:e,isLoading:t}=g4e(),r=v4e(),{data:n}=y4e("privacy"),[s,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(!1),d=(e==null?void 0:e.telemetry_opt_out)??!1,f=v.useCallback(b=>{l(b),i(!0)},[]),h=v.useCallback(()=>{o!==null&&r.mutate({telemetry_opt_out:o},{onSuccess:()=>l(null)})},[o,r]),m=(n==null?void 0:n.content)??xM.map(b=>`${b.title}

${b.content}`).join(`

`),g=n!=null&&n.content?[{id:"policy",title:"Full policy",content:n.content}]:xM,p=v.useCallback(()=>{const b=new Blob([m],{type:"text/plain;charset=utf-8"}),y=URL.createObjectURL(b),w=document.createElement("a");w.href=y,w.download="privacy-policy.txt",w.click(),URL.revokeObjectURL(y)},[m]),x=v.useCallback(()=>{const b=new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Privacy Policy - Clawgate</title><style>body{font-family:Inter,sans-serif;max-width:720px;margin:2rem auto;padding:0 1rem;line-height:1.6;color:#e2e8f0;} h1{font-size:1.75rem;} h2{font-size:1.25rem;margin-top:1.5rem;} p{white-space:pre-wrap;}</style></head><body><h1>Privacy Policy</h1><p>${m.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}</p></body></html>`],{type:"text/html;charset=utf-8"}),y=URL.createObjectURL(b);window.open(y,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(y),5e3)},[m]);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8 sm:px-6 animate-fade-in-up",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-[28px] font-semibold leading-tight text-foreground",children:"Privacy Policy"}),a.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"How we collect, store, and use your data. Clawgate is local-first; your data stays on your devices unless you use cloud-linked features."})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(ee,{children:[a.jsx(ne,{className:"text-lg",children:"Policy sections"}),a.jsx(he,{children:"Expand each section for details on data collection, storage, retention, and third-party services."})]}),a.jsx(Z,{className:"px-0 sm:px-6",children:a.jsx("div",{className:"divide-y-0",children:g.map((b,y)=>a.jsx(b4e,{id:b.id,title:b.title,content:b.content,defaultOpen:y===0},b.id))})})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(ee,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Opt-out controls"})]}),a.jsx(he,{children:"Manage your data collection preferences. Changes are saved to your account and reflected in Settings."})]}),a.jsxs(Z,{children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(H,{htmlFor:"telemetry-opt-out",className:"text-sm font-medium text-foreground",children:"Opt out of telemetry"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"When on, we do not send anonymous usage or diagnostic data from your account."})]}),a.jsx(Rt,{id:"telemetry-opt-out",checked:d,onCheckedChange:f,disabled:t,"aria-describedby":"telemetry-opt-out-description"})]}),t&&a.jsx("p",{id:"telemetry-opt-out-description",className:"mt-2 text-xs text-muted-foreground",children:"Loading preferences"})]})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(ee,{children:[a.jsx(ne,{className:"text-lg",children:"Download policy"}),a.jsx(he,{children:"Save a copy for your records or open in a new tab to print or save as PDF."})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",onClick:()=>u(!0),className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Nr,{className:"h-4 w-4","aria-hidden":!0}),"Download Privacy Policy"]})})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx(P,{variant:"outline",asChild:!0,children:a.jsx(fe,{to:"/",children:"Back to home"})}),a.jsxs("nav",{className:"flex flex-wrap gap-6",children:[a.jsx(fe,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms of Service"}),a.jsx(fe,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Help & support"})]})]})})]}),a.jsx(x4e,{open:s,onOpenChange:i,telemetryOptOut:o??d,onConfirm:h,isUpdating:r.isPending}),a.jsx(T6,{open:c,onOpenChange:u,onDownload:p,onOpenInNewTab:x,title:"Download Privacy Policy",description:"Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."})]})}const rw={getCurrentTerms:async()=>{const{data:e,error:t}=await U.from("policy_documents").select("*").eq("document_type","terms").order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(t)throw new Error(t.message);return e??null},getUserAgreement:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)return{data:null};const{data:r,error:n}=await U.from("user_agreements").select("*").eq("user_id",t.id).eq("policy_document_id",e).maybeSingle();if(n)throw new Error(n.message);return{data:r??null}},recordAgreement:async(e,t)=>{const{data:{user:r}}=await U.auth.getUser();if(!r)throw new Error("Not authenticated");const n={user_id:r.id,policy_document_id:e,status:t},{data:s,error:i}=await U.from("user_agreements").upsert(n,{onConflict:"user_id,policy_document_id"}).select().single();if(i)throw new Error(i.message);return s},submitDeclineFeedback:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,comments:e.comments,user_agreement_id:e.user_agreement_id??null},{error:n}=await U.from("terms_decline_feedback").insert(r);if(n)throw new Error(n.message)}},Zd={all:["terms"],document:()=>[...Zd.all,"document"],agreement:e=>[...Zd.all,"agreement",e]};function j4e(e,t){return e().catch(()=>t)}function _4e(){return Se({queryKey:Zd.document(),queryFn:()=>j4e(rw.getCurrentTerms,null)})}function S4e(e){return Se({queryKey:Zd.agreement(e??""),queryFn:()=>e?rw.getUserAgreement(e).then(t=>t.data):Promise.resolve(null),enabled:!!e})}function N4e(){const e=ue();return ce({mutationFn:({policyDocumentId:t,status:r})=>rw.recordAgreement(t,r),onSuccess:(t,{policyDocumentId:r})=>{e.invalidateQueries({queryKey:Zd.agreement(r)}),e.invalidateQueries({queryKey:Zd.document()}),q.success(t.status==="accepted"?"Terms of Service accepted.":"Your response has been recorded.")},onError:t=>{q.error(t.message||"Failed to record your response")}})}function k4e(){return ce({mutationFn:e=>rw.submitDeclineFeedback(e),onSuccess:()=>{q.success("Thank you for your feedback.")},onError:e=>{q.error(e.message||"Failed to submit feedback")}})}const C4e=tt({comments:we().max(2e3,"Feedback must be 2000 characters or less").default("")}),K0={comments:""};function E4e({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=Ze({resolver:et(C4e),defaultValues:K0}),c=d=>{d||o(K0),t(d)},u=async d=>{await r(d),o(K0),c(!1)};return a.jsx(Re,{open:e,onOpenChange:c,children:a.jsxs(Ee,{"aria-describedby":"terms-decline-feedback-description",children:[a.jsxs(Pe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kl,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Oe,{children:"Feedback (optional)"})]}),a.jsx(Ae,{id:"terms-decline-feedback-description",children:"Help us improve by sharing why you declined. Your feedback is optional and will not affect your ability to use local-only features."})]}),a.jsxs("form",{onSubmit:i(u),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"terms-decline-comments",children:"Comments"}),a.jsx(Zi,{id:"terms-decline-comments",placeholder:"e.g. concerns about data handling, unclear clauses...",className:"min-h-[100px] resize-y",maxLength:2e3,"aria-invalid":!!l.comments,"aria-describedby":l.comments?"terms-decline-comments-error":void 0,...s("comments")}),l.comments&&a.jsx("p",{id:"terms-decline-comments-error",className:"text-sm text-destructive",children:l.comments.message})]}),a.jsxs($e,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>c(!1),disabled:n,children:"Skip"}),a.jsx(P,{type:"submit",disabled:n,className:"transition-transform hover:scale-[1.02]",children:n?"Submitting":"Submit feedback"})]})]})]})})}const bM=[{id:"acceptance",title:"Acceptance of terms",content:"By accessing or using Clawgate software and any associated cloud features, you agree to be bound by these Terms of Service. If you do not agree, do not use the service. Local-only use of the gateway may be subject to separate terms."},{id:"use-of-service",title:"Use of service",content:"You may use Clawgate for personal or internal business use in accordance with these terms and applicable law. You are responsible for maintaining the security of your credentials and for all activity under your account. You must not use the service for illegal purposes or to violate the rights of others."},{id:"account",title:"Account and data",content:"When you create a cloud-linked account, you provide accurate information and keep it updated. You are responsible for safeguarding your password. Session data, skills, and configurations may be stored locally or, when enabled, in the cloud. We process data as described in our Privacy Policy."},{id:"acceptable-use",title:"Acceptable use",content:"You must not misuse the service, including by attempting to gain unauthorized access, distributing malware, violating laws, or interfering with other users. We may suspend or terminate access for violations and report activity to authorities where required."},{id:"ip-and-licence",title:"Intellectual property and licence",content:"Clawgate software and associated materials are licensed, not sold. We grant you a limited, non-exclusive licence to use the software in accordance with these terms. You retain rights to content you create; you grant us limited rights to operate and improve the service."},{id:"disclaimer",title:"Disclaimer",content:'The service is provided "as is" without warranties of any kind. We do not guarantee uninterrupted or error-free operation. Use of third-party integrations (e.g. channel adapters, model providers) is at your own risk and subject to their terms.'},{id:"limitation",title:"Limitation of liability",content:"To the maximum extent permitted by law, we are not liable for indirect, incidental, special, or consequential damages arising from your use of the service. Our total liability is limited to the amount you paid us in the twelve months preceding the claim, or a nominal amount if no fee applied."},{id:"changes",title:"Changes to terms",content:"We may update these terms from time to time. We will notify you of material changes (e.g. by email or in-app notice). Continued use after the effective date constitutes acceptance. If you do not agree, you may stop using cloud features or close your account."},{id:"contact",title:"Contact",content:"For questions about these terms or legal inquiries, contact us at the Legal Contact information provided on this page."}];function P4e({id:e,title:t,content:r,defaultOpen:n=!1}){const[s,i]=v.useState(n);return a.jsxs("details",{id:e,open:s,onToggle:o=>i(o.target.open),className:"group border-b border-border last:border-b-0",children:[a.jsxs("summary",{className:"flex cursor-pointer list-none items-center gap-2 py-4 text-left font-medium text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-md px-1 -mx-1",children:[s?a.jsx(yl,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}):a.jsx(jr,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{children:t})]}),a.jsx("div",{className:"prose prose-invert prose-sm max-w-none pb-4 pl-6 text-muted-foreground",children:a.jsx("p",{className:"m-0 leading-relaxed",children:r})})]})}const wM="legal@clawgate.example.com";function O4e(){const e=ro(),{user:t}=pp(),{data:r,isLoading:n}=_4e(),{data:s,isLoading:i}=S4e(r==null?void 0:r.id),o=N4e(),l=k4e(),[c,u]=v.useState(!1),[d,f]=v.useState(!1),h=r!=null&&r.content?[{id:"terms",title:"Terms of Service",content:r.content}]:bM,m=r==null?void 0:r.id,g=!!s,p=(s==null?void 0:s.status)==="accepted",x=v.useCallback(()=>{m&&o.mutate({policyDocumentId:m,status:"accepted"},{onSuccess:()=>{e("/dashboard",{replace:!0})}})},[m,o,e]),b=v.useCallback(()=>{m&&o.mutate({policyDocumentId:m,status:"declined"},{onSuccess:()=>{u(!0)}})},[m,o]),y=v.useCallback(async S=>{await l.mutateAsync({comments:S.comments.trim(),user_agreement_id:(s==null?void 0:s.id)??null})},[l,s==null?void 0:s.id]),w=(r==null?void 0:r.content)??bM.map(S=>`${S.title}

${S.content}`).join(`

`),_=v.useCallback(()=>{const S=new Blob([w],{type:"text/plain;charset=utf-8"}),N=URL.createObjectURL(S),k=document.createElement("a");k.href=N,k.download="terms-of-service.txt",k.click(),URL.revokeObjectURL(N)},[w]),j=v.useCallback(()=>{const S=w.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>"),N=new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Terms of Service - Clawgate</title><style>body{font-family:Inter,sans-serif;max-width:720px;margin:2rem auto;padding:0 1rem;line-height:1.6;color:#e2e8f0;} h1{font-size:1.75rem;} h2{font-size:1.25rem;margin-top:1.5rem;} p{white-space:pre-wrap;}</style></head><body><h1>Terms of Service</h1><p>${S}</p></body></html>`],{type:"text/html;charset=utf-8"}),k=URL.createObjectURL(N);window.open(k,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(k),5e3)},[w]);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8 sm:px-6 animate-fade-in-up",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-[28px] font-semibold leading-tight text-foreground",children:"Terms of Service"}),a.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"Legal terms and conditions governing the use of Clawgate software and associated cloud features. Please read them carefully."}),r&&a.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Version ",r.version,"  Effective ",new Date(r.effective_date).toLocaleDateString()]})]}),h.length>1&&a.jsx("nav",{"aria-label":"Terms sections",className:"mb-6",children:a.jsx("ul",{className:"flex flex-wrap gap-2",children:h.map(S=>a.jsx("li",{children:a.jsx("a",{href:`#${S.id}`,className:"text-sm text-primary underline-offset-4 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:S.title})},S.id))})}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(sr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Terms sections"]}),a.jsx(he,{children:"Expand each section to read the full terms. Use the links above to jump to a section."})]}),a.jsx(Z,{className:"px-0 sm:px-6",children:a.jsx("div",{className:"divide-y-0",children:h.map((S,N)=>a.jsx(P4e,{id:S.id,title:S.title,content:S.content,defaultOpen:N===0},S.id))})})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(ee,{children:[a.jsx(ne,{className:"text-lg",children:"Your agreement"}),a.jsx(he,{children:t?g?p?"You have accepted the current terms. You can continue using software and cloud features.":"You have declined the current terms. You can still use local-only features.":"Accept to proceed with software and cloud features, or decline and optionally provide feedback.":"Sign in to accept or decline the terms. You can still read and download the document."})]}),a.jsxs(Z,{className:"flex flex-wrap gap-3",children:[t&&!i&&!n&&m&&a.jsxs(a.Fragment,{children:[!g&&a.jsxs(a.Fragment,{children:[a.jsx(P,{onClick:x,disabled:o.isPending,className:"rounded-[8px] py-3 transition-transform hover:scale-[1.02]",children:o.isPending?"Processing":"Accept"}),a.jsx(P,{variant:"outline",onClick:b,disabled:o.isPending,className:"rounded-[8px] py-3 transition-transform hover:scale-[1.02]",children:"Decline"})]}),g&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[p?"Accepted":"Declined"," on"," ",s&&new Date(s.agreed_at).toLocaleDateString(),"."]})]}),!t&&a.jsx(P,{variant:"outline",asChild:!0,children:a.jsx(fe,{to:"/login",className:"rounded-[8px] py-3",children:"Sign in to accept or decline"})})]})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(wc,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Legal contact"]}),a.jsx(he,{children:"For questions about these terms or legal inquiries, contact us."})]}),a.jsx(Z,{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Email:"," ",a.jsx("a",{href:`mailto:${wM}`,className:"text-primary underline-offset-4 hover:underline",children:wM})]})})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(ee,{children:[a.jsx(ne,{className:"text-lg",children:"Download document"}),a.jsx(he,{children:"Save a copy for your records or open in a new tab to print or save as PDF."})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",onClick:()=>f(!0),className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Nr,{className:"h-4 w-4","aria-hidden":!0}),"Download Terms of Service"]})})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx(P,{variant:"outline",asChild:!0,children:a.jsx(fe,{to:"/",children:"Back to home"})}),a.jsxs("nav",{className:"flex flex-wrap gap-6",children:[a.jsx(fe,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy Policy"}),a.jsx(fe,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Help & support"})]})]})})]}),a.jsx(E4e,{open:c,onOpenChange:u,onSubmit:y,isSubmitting:l.isPending}),a.jsx(T6,{open:d,onOpenChange:f,onDownload:_,onOpenInNewTab:j,title:"Download Terms of Service",description:"Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."})]})}async function A4e(e){var s;let t=U.from("marketplace_skills").select("*").order("created_at",{ascending:!1});if((e==null?void 0:e.status)!==void 0?t=t.eq("status",e.status):t=t.eq("status","active"),e!=null&&e.category&&(t=t.eq("category",e.category)),(s=e==null?void 0:e.search)!=null&&s.trim()){const i=e.search.trim();t=t.or(`name.ilike.%${i}%,description.ilike.%${i}%`)}const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]}async function T4e(e){const{data:t,error:r}=await U.from("marketplace_skills").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t}async function R4e(){const{data:{user:e}}=await U.auth.getUser();if(!e)return[];const{data:t,error:r}=await U.from("marketplace_transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function M4e(){const{data:{user:e}}=await U.auth.getUser();if(!e)return[];const{data:t,error:r}=await U.from("marketplace_licenses").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function $4e(e){return de.post("/marketplace/checkout-session",e)}async function I4e(e){await de.post("/marketplace/subscription/cancel",{subscription_id:e})}async function D4e(e,t){const{data:r,error:n}=await U.from("marketplace_licenses").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}function MC(e,t){return e().catch(()=>t)}const wa={all:["marketplace"],skills:e=>[...wa.all,"skills",e],skill:e=>[...wa.all,"skill",e],transactions:()=>[...wa.all,"transactions"],licenses:()=>[...wa.all,"licenses"]};function R6(e){return Se({queryKey:wa.skills(e),queryFn:()=>MC(()=>A4e(e),[])})}function L4e(e){return Se({queryKey:wa.skill(e??""),queryFn:()=>e?T4e(e):Promise.resolve(null),enabled:!!e})}function F4e(){return Se({queryKey:wa.transactions(),queryFn:()=>MC(()=>R4e(),[])})}function M6(){return Se({queryKey:wa.licenses(),queryFn:()=>MC(()=>M4e(),[])})}function $6(){return ce({mutationFn:$4e,onSuccess:e=>{e!=null&&e.url?window.location.href=e.url:q.success("Checkout session created")},onError:e=>{q.error(e.message||"Failed to start checkout")}})}function U4e(){const e=ue();return ce({mutationFn:I4e,onSuccess:()=>{e.invalidateQueries({queryKey:wa.transactions()}),e.invalidateQueries({queryKey:wa.licenses()}),q.success("Subscription cancelled")},onError:t=>{q.error(t.message||"Failed to cancel subscription")}})}function q4e(){const e=ue();return ce({mutationFn:({id:t,data:r})=>D4e(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:wa.licenses()}),q.success("License updated")},onError:t=>{q.error(t.message||"Failed to update license")}})}function jM(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function B4e({open:e,onOpenChange:t,skill:r,mode:n,onConfirm:s,isSubmitting:i=!1}){if(!r)return null;const o=n==="subscription"?`${jM(r.price,r.currency)} / month`:jM(r.price,r.currency);return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Confirm purchase"}),a.jsx(Ae,{children:"You are about to purchase this skill. You will be redirected to secure checkout."})]}),a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsx("p",{className:"font-medium text-foreground",children:r.name}),r.description&&a.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:r.description}),a.jsx("p",{className:"mt-2 text-sm font-medium text-primary",children:o}),n==="subscription"&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Subscription; you can cancel anytime from your account."})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsxs(P,{onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(ar,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(YI,{className:"mr-2 h-4 w-4"}),i?"Redirecting":"Continue to checkout"]})]})]})})}function I6({open:e,onOpenChange:t,title:r="Payment failed",message:n="Something went wrong while processing your payment. Please try again or use a different payment method.",onRetry:s}){return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"sm:max-w-[440px]",children:[a.jsxs(Pe,{children:[a.jsxs(Oe,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(so,{className:"h-5 w-5"}),r]}),a.jsx(Ae,{children:n})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Close"}),s&&a.jsx(P,{onClick:s,className:"transition-transform hover:scale-[1.02]",children:"Try again"})]})]})})}function _M(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function z4e({skill:e,hasLicense:t,onPurchase:r}){const n=e.is_subscription?`${_M(e.price,e.currency)} / mo`:_M(e.price,e.currency);return a.jsx(X,{className:J("overflow-hidden transition-all duration-200 hover:shadow-card-hover hover:scale-[1.01]","border-border bg-card"),children:a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.image_url?a.jsx("div",{className:"h-32 w-full shrink-0 bg-secondary sm:h-auto sm:w-40",children:a.jsx("img",{src:e.image_url,alt:"",className:"h-full w-full object-cover"})}):a.jsx("div",{className:"flex h-32 w-full shrink-0 items-center justify-center bg-secondary/80 sm:h-auto sm:w-40",children:a.jsx(QI,{className:"h-10 w-10 text-muted-foreground"})}),a.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx(ne,{className:"text-lg",children:e.name}),e.category&&a.jsx(ze,{variant:"secondary",className:"mt-1",children:e.category})]}),a.jsx("span",{className:"font-medium text-primary",children:n})]}),e.description&&a.jsx(he,{className:"mt-2 line-clamp-2",children:e.description}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t?a.jsx(ze,{variant:"success",children:"Owned"}):a.jsxs(a.Fragment,{children:[a.jsxs(P,{size:"sm",onClick:()=>r(e,"one_time"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Dx,{className:"mr-1.5 h-4 w-4"}),"Purchase"]}),e.is_subscription&&a.jsxs(P,{size:"sm",variant:"outline",onClick:()=>r(e,"subscription"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx($x,{className:"mr-1.5 h-4 w-4"}),"Subscribe"]})]})})]})]})})}function W4e(){const[e,t]=v.useState(""),[r,n]=v.useState(),[s,i]=v.useState(null),[o,l]=v.useState("one_time"),[c,u]=v.useState(!1),{data:d=[],isLoading:f}=R6({search:e.trim()||void 0,category:r}),{data:h=[]}=M6(),m=$6(),g=new Set(h.filter(y=>y.activation_status==="active").map(y=>y.skill_id)),p=(y,w)=>{i(y),l(w)},x=()=>{s&&m.mutate({skill_id:s.id,mode:o,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace`},{onError:()=>u(!0)})},b=Array.from(new Set(d.map(y=>y.category).filter(Boolean)));return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Marketplace"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse and purchase premium skills. One-time or subscription."})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(fe,{to:"/marketplace/licenses",children:[a.jsx(jc,{className:"mr-2 h-4 w-4"}),"My licenses"]})})})]}),a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Browse skills"}),a.jsx(he,{children:"Search and filter by category. Click Purchase or Subscribe to checkout."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(_c,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{placeholder:"Search skills...",value:e,onChange:y=>t(y.target.value),className:"pl-9"})]}),a.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:r??"",onChange:y=>n(y.target.value?y.target.value:void 0),children:[a.jsx("option",{value:"",children:"All categories"}),b.map(y=>a.jsx("option",{value:y,children:y},y))]})]}),f?a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:[1,2,3].map(y=>a.jsx(oe,{className:"h-32 rounded-lg"},y))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Dx,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No skills found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Try a different search or category, or check back later for new listings."})]}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:d.map(y=>a.jsx(z4e,{skill:y,hasLicense:g.has(y.id),onPurchase:p},y.id))})]})]}),a.jsx(B4e,{open:!!s,onOpenChange:y=>!y&&i(null),skill:s,mode:o,onConfirm:x,isSubmitting:m.isPending}),a.jsx(I6,{open:c,onOpenChange:u,onRetry:()=>{u(!1),s&&x()}})]})}const V4e=tt({email:we().email("Invalid email"),accept_terms:Yr().refine(e=>e===!0,{message:"You must accept the terms to continue"})});function SM(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function K4e({skill:e,mode:t,onSubmit:r,isSubmitting:n=!1,defaultEmail:s=""}){const{register:i,handleSubmit:o,formState:{errors:l}}=Ze({resolver:et(V4e),defaultValues:{email:s,accept_terms:!1}});if(!e)return a.jsx(X,{children:a.jsx(Z,{className:"pt-6",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to checkout."})})});const c=t==="subscription"?`${SM(e.price,e.currency)} / month`:SM(e.price,e.currency);return a.jsxs("form",{onSubmit:o(r),className:"space-y-6",children:[a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Order summary"}),a.jsx(he,{children:"Review your selection before payment."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:e.name}),a.jsx("span",{className:"font-medium",children:c})]}),t==="subscription"&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be charged each billing period until you cancel."})]})]}),a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Contact"}),a.jsx(he,{children:"Receipt and updates will be sent to this email."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"checkout-email",children:"Email"}),a.jsx(ge,{id:"checkout-email",type:"email",placeholder:"you@example.com",className:"transition-colors focus-visible:ring-[rgb(var(--primary))]",...i("email")}),l.email&&a.jsx("p",{className:"text-sm text-destructive",children:l.email.message})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"checkout-terms",className:"h-4 w-4 rounded border-input focus:ring-[rgb(var(--primary))]",...i("accept_terms")}),a.jsxs(H,{htmlFor:"checkout-terms",className:"text-sm font-normal",children:["I accept the"," ",a.jsx("a",{href:"/terms",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"/privacy",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]})]}),l.accept_terms&&a.jsx("p",{className:"text-sm text-destructive",children:l.accept_terms.message})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be redirected to our secure payment provider to complete the transaction. Your payment details are never stored on our servers."}),a.jsxs(P,{type:"submit",className:"w-full transition-transform hover:scale-[1.02]",disabled:n,children:[n?a.jsx(ar,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(YI,{className:"mr-2 h-4 w-4"}),n?"Redirecting to checkout":"Proceed to payment"]})]})}function H4e(){const[e]=lI(),t=e.get("skillId")??"",r=e.get("mode")||"one_time",[n,s]=v.useState(!1),{data:i,isLoading:o}=L4e(t),l=$6(),c=u=>{t&&l.mutate({skill_id:t,mode:r,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace/checkout?skillId=${t}&mode=${r}`},{onError:()=>s(!0)})};return t?o?a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(oe,{className:"h-8 w-48"}),a.jsx(oe,{className:"h-64 w-full"})]}):a.jsxs("div",{className:"mx-auto max-w-2xl space-y-6 animate-fade-in-up",children:[a.jsx(P,{variant:"ghost",asChild:!0,children:a.jsxs(fe,{to:"/marketplace",children:[a.jsx(yd,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Checkout"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete your purchase. You will be redirected to secure payment."})]}),a.jsx(K4e,{skill:i??null,mode:r,onSubmit:c,isSubmitting:l.isPending}),a.jsx(I6,{open:n,onOpenChange:s,onRetry:()=>s(!1)})]}):a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(P,{variant:"ghost",asChild:!0,children:a.jsxs(fe,{to:"/marketplace",children:[a.jsx(yd,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsx(X,{children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-muted-foreground",children:"Select a skill from the marketplace to checkout."}),a.jsx(P,{asChild:!0,className:"mt-4",children:a.jsx(fe,{to:"/marketplace",children:"Browse Marketplace"})})]})})]})}function G4e({open:e,onOpenChange:t,subscription:r,skillName:n="Skill",onCancelSubscription:s,isSubmitting:i=!1}){if(!r)return null;const o=r.status==="completed"&&r.stripe_subscription_id;return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Ee,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Manage subscription"}),a.jsxs(Ae,{children:["View and manage your subscription for ",n,"."]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx(ze,{variant:r.status==="completed"?"success":"secondary",children:r.status})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Amount"}),a.jsx("span",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:r.currency.toUpperCase()}).format(r.amount)})]}),r.created_at&&a.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Started"}),a.jsx("span",{children:new Date(r.created_at).toLocaleDateString()})]})]}),o&&a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx($x,{className:"h-4 w-4"}),"Renewal and payment methods are managed in the checkout provider."]})]}),a.jsxs($e,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Close"}),o&&a.jsxs(P,{variant:"destructive",onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(ar,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(so,{className:"mr-2 h-4 w-4"}),i?"Cancelling":"Cancel subscription"]})]})]})})}function Y4e(){var m;const[e,t]=v.useState(null),{data:r=[],isLoading:n}=M6(),{data:s=[]}=R6(),{data:i=[]}=F4e(),o=q4e(),l=U4e(),c=new Map(s.map(g=>[g.id,g])),u=new Map(i.map(g=>[g.id,g])),d=g=>{const p=g.activation_status==="active"?"inactive":"active";o.mutate({id:g.id,data:{activation_status:p}})},f=g=>{t(g)},h=g=>g.transaction_id?u.get(g.transaction_id):i.find(p=>p.skill_id===g.skill_id&&p.stripe_subscription_id&&p.status==="completed");return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"My licenses"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your purchased skill licenses and subscriptions."})]}),a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(fe,{to:"/marketplace",children:[a.jsx(jc,{className:"mr-2 h-4 w-4"}),"Browse Marketplace"]})})]}),a.jsxs(X,{children:[a.jsxs(ee,{children:[a.jsx(ne,{children:"Licenses"}),a.jsx(he,{children:"Activate or deactivate licenses. Manage subscriptions from the action below."})]}),a.jsx(Z,{children:n?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(g=>a.jsx(oe,{className:"h-16 w-full rounded-lg"},g))}):r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(jc,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No licenses yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Purchase a skill from the marketplace to see your licenses here."}),a.jsx(P,{asChild:!0,className:"mt-4",children:a.jsx(fe,{to:"/marketplace",children:"Go to Marketplace"})})]}):a.jsx("ul",{className:"space-y-3",children:r.map(g=>{const p=c.get(g.skill_id),x=h(g),b=g.activation_status==="active";return a.jsxs("li",{className:J("flex flex-wrap items-center justify-between gap-4 rounded-lg border border-border p-4 transition-colors hover:bg-secondary/30",!b&&"opacity-75"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:(p==null?void 0:p.name)??"Unknown skill"}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[a.jsx(ze,{variant:g.activation_status==="active"?"success":g.activation_status==="expired"?"destructive":"secondary",children:g.activation_status}),g.expiration_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",new Date(g.expiration_date).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(x==null?void 0:x.stripe_subscription_id)&&a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>f(x),children:[a.jsx($x,{className:"mr-1.5 h-4 w-4"}),"Manage subscription"]}),g.activation_status!=="expired"&&a.jsx(P,{variant:"outline",size:"sm",onClick:()=>d(g),disabled:o.isPending,children:b?a.jsxs(a.Fragment,{children:[a.jsx(CN,{className:"mr-1.5 h-4 w-4"}),"Deactivate"]}):a.jsxs(a.Fragment,{children:[a.jsx(kN,{className:"mr-1.5 h-4 w-4"}),"Activate"]})})]})]},g.id)})})})]}),a.jsx(G4e,{open:!!e,onOpenChange:g=>!g&&t(null),subscription:e,skillName:e?(m=c.get(e.skill_id))==null?void 0:m.name:void 0,onCancelSubscription:()=>{e!=null&&e.stripe_subscription_id&&l.mutate(e.stripe_subscription_id,{onSettled:()=>t(null)})},isSubmitting:l.isPending})]})}async function Q4e(e,t,r){try{const{data:{user:n}}=await U.auth.getUser(),s={error_code:"404",url_attempted:e,user_id:(n==null?void 0:n.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null)};await U.from("error_logs").insert(s)}catch{}}async function X4e(e,t,r,n){try{const{data:{user:s}}=await U.auth.getUser(),i={error_code:"500",url_attempted:e,user_id:(s==null?void 0:s.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null),metadata:n??{}};await U.from("error_logs").insert(i)}catch{}}function NM(){const e=ci(),t=e.pathname+e.search;v.useEffect(()=>{Q4e(t,typeof document<"u"&&document.referrer||null,typeof navigator<"u"?navigator.userAgent:null)},[t]);const r=()=>{window.location.reload()};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(fe,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-4",children:[a.jsx(fe,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(P,{asChild:!0,size:"sm",children:a.jsx(fe,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:J("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-muted/50",children:a.jsx(EH,{className:"h-12 w-12 text-muted-foreground","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"Oops! Page Not Found"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."}),t!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Attempted: ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:t})]})]}),a.jsx(X,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(Z,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(P,{onClick:r,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(hf,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(fe,{to:"/",children:[a.jsx(VI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(fe,{to:"/dashboard",children:[a.jsx(bN,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsxs(fe,{to:"/help",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(sr,{className:"h-4 w-4"}),"Docs & support"]}),a.jsx("span",{className:"mx-2 text-muted-foreground/60",children:""}),a.jsx(fe,{to:"/logs",className:"inline-flex items-center text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Logs & tracing"})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(fe,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(fe,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(fe,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]})}async function J4e(e){var i;const{data:{user:t}}=await U.auth.getUser(),r={user_id:(t==null?void 0:t.id)??null,error_type:e.error_type.trim(),description:e.description.trim(),contact_email:((i=e.contact_email)==null?void 0:i.trim())||null,context:e.context??{}},{data:n,error:s}=await U.from("user_reports").insert(r).select("id").single();if(s)throw new Error(s.message);return{id:n.id}}const Z4e=tt({description:we().min(10,"Please provide at least 10 characters describing what happened").max(2e3,"Description must be 2000 characters or less"),contact_email:we().max(255).optional().refine(e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),"Enter a valid email address"),comments:we().max(1e3).optional()}),H0={description:"",contact_email:"",comments:""};function eIe({open:e,onOpenChange:t,onSubmit:r,errorType:n="500",errorContext:s}){const{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=Ze({resolver:et(Z4e),defaultValues:H0}),d=async h=>{var m,g;await r({error_type:n,description:h.description.trim(),contact_email:((m=h.contact_email)==null?void 0:m.trim())||null,context:{...s,comments:((g=h.comments)==null?void 0:g.trim())||void 0}}),l(H0),t(!1)},f=h=>{h||l(H0),t(h)};return a.jsx(Re,{open:e,onOpenChange:f,children:a.jsxs(Ee,{className:"max-w-lg","aria-describedby":"report-issue-form-description",children:[a.jsxs(Pe,{children:[a.jsx(Oe,{children:"Report an issue"}),a.jsx(Ae,{id:"report-issue-form-description",children:"Describe what happened so we can investigate. Your report helps us improve reliability."})]}),a.jsxs("form",{onSubmit:o(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"report-description",children:"What happened?"}),a.jsx("textarea",{id:"report-description",rows:4,placeholder:"e.g. I was on the dashboard and clicked Save; the page showed an error.",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("description"),"aria-invalid":!!c.description}),c.description&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.description.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"report-contact",children:"Contact email (optional)"}),a.jsx(ge,{id:"report-contact",type:"email",placeholder:"you@example.com",...i("contact_email"),className:c.contact_email?"border-destructive":"",autoComplete:"email","aria-invalid":!!c.contact_email}),c.contact_email&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.contact_email.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"report-comments",children:"Additional details (optional)"}),a.jsx("textarea",{id:"report-comments",rows:2,placeholder:"Any other context that might help",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("comments")})]}),a.jsxs($e,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:u,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:u,children:u?"Sending":"Send report"})]})]})]})})}function tIe(){const e=ci(),[t,r]=v.useState(!1),n=e.pathname+e.search,s=typeof document<"u"&&document.referrer||null,i=typeof navigator<"u"?navigator.userAgent:null;v.useEffect(()=>{X4e(n,s,i,{path:n,referrer:s??void 0})},[n,s,i]);const o=()=>{window.location.reload()},l=async c=>{await J4e(c),q.success("Report sent",{description:"Thank you. Well use this to improve reliability."})};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(fe,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex gap-4",children:[a.jsx(fe,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(P,{asChild:!0,size:"sm",children:a.jsx(fe,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:J("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(ao,{className:"h-12 w-12 text-destructive","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"500 Server Error"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"Something went wrong on our side. Weve been notified and are looking into it. You can retry, go back home, or report more details below."}),n!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Page:"," ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:n})]})]}),a.jsx(X,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(Z,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(P,{onClick:o,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(hf,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(fe,{to:"/",children:[a.jsx(VI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsxs(P,{variant:"default",onClick:()=>r(!0),className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Report this issue to support",children:[a.jsx(ff,{className:"mr-2 h-4 w-4"}),"Report issue"]}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(fe,{to:"/dashboard",children:[a.jsx(bN,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Logs & security"}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-1 text-sm",children:[a.jsxs(fe,{to:"/logs",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(sr,{className:"h-4 w-4"}),"Logs & tracing"]}),a.jsxs(fe,{to:"/security",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(Sr,{className:"h-4 w-4"}),"Security audit"]})]})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(fe,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(fe,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(fe,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})}),a.jsx(eIe,{open:t,onOpenChange:r,onSubmit:l,errorType:"500",errorContext:{url:n,referrer:s??void 0}})]})}const rIe=new zV({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});function nIe(){return a.jsxs(WV,{client:rIe,children:[a.jsx(mV,{children:a.jsx(vH,{children:a.jsx(wQ,{children:a.jsxs(aV,{children:[a.jsx(yt,{path:"/",element:a.jsx(pee,{})}),a.jsx(yt,{path:"/login",element:a.jsx(Nte,{})}),a.jsx(yt,{path:"/signup",element:a.jsx(Cte,{})}),a.jsx(yt,{path:"/forgot-password",element:a.jsx(Tte,{})}),a.jsx(yt,{path:"/verify-email",element:a.jsx(Mte,{})}),a.jsx(yt,{path:"/download",element:a.jsx(Rne,{})}),a.jsx(yt,{path:"/privacy",element:a.jsx(w4e,{})}),a.jsx(yt,{path:"/terms",element:a.jsx(O4e,{})}),a.jsx(yt,{path:"/500",element:a.jsx(tIe,{})}),a.jsxs(yt,{element:a.jsx(lee,{}),children:[a.jsx(yt,{path:"/dashboard",element:a.jsx(Bse,{})}),a.jsx(yt,{path:"/profile",element:a.jsx(yH,{}),children:a.jsx(yt,{index:!0,element:a.jsx(Tne,{})})}),a.jsx(yt,{path:"/chat",element:a.jsx(Nae,{})}),a.jsx(yt,{path:"/channels",element:a.jsx(Vae,{})}),a.jsx(yt,{path:"/skills",element:a.jsx(uie,{})}),a.jsx(yt,{path:"/skill-editor/:skillId?",element:a.jsx(gie,{})}),a.jsx(yt,{path:"/marketplace",element:a.jsx(W4e,{})}),a.jsx(yt,{path:"/marketplace/checkout",element:a.jsx(H4e,{})}),a.jsx(yt,{path:"/marketplace/licenses",element:a.jsx(Y4e,{})}),a.jsx(yt,{path:"/nodes",element:a.jsx(Wie,{})}),a.jsx(yt,{path:"/cron",element:a.jsx(Yie,{})}),a.jsx(yt,{path:"/webhooks",element:a.jsx(joe,{})}),a.jsx(yt,{path:"/model-providers",element:a.jsx(_Te,{})}),a.jsx(yt,{path:"/browser",element:a.jsx(tRe,{})}),a.jsx(yt,{path:"/tool-skill-runtime",element:a.jsx(pRe,{})}),a.jsx(yt,{path:"/voice",element:a.jsx(LRe,{})}),a.jsx(yt,{path:"/secrets",element:a.jsx(yMe,{})}),a.jsx(yt,{path:"/settings",element:a.jsx(aMe,{})}),a.jsx(yt,{path:"/security",element:a.jsx(IMe,{})}),a.jsx(yt,{path:"/logs",element:a.jsx(JMe,{})}),a.jsx(yt,{path:"/admin",element:a.jsx(L$e,{})}),a.jsx(yt,{path:"/help",element:a.jsx(p4e,{})})]}),a.jsx(yt,{path:"/404",element:a.jsx(NM,{})}),a.jsx(yt,{path:"*",element:a.jsx(NM,{})})]})})})}),a.jsx(E9,{position:"top-right",richColors:!0,closeButton:!0})]})}const D6=document.getElementById("root");if(!D6)throw new Error("Root element not found");G0.createRoot(D6).render(a.jsx(M.StrictMode,{children:a.jsx(nIe,{})}));

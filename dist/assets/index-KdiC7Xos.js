var jC=e=>{throw TypeError(e)};var Yb=(e,t,r)=>t.has(e)||jC("Cannot "+r);var W=(e,t,r)=>(Yb(e,t,"read from private field"),r?r.call(e):t.get(e)),ze=(e,t,r)=>t.has(e)?jC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ce=(e,t,r,n)=>(Yb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ct=(e,t,r)=>(Yb(e,t,"access private method"),r);var Pp=(e,t,r,n)=>({set _(s){Ce(e,t,s,r)},get _(){return W(e,t,n)}});function _6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bM={exports:{}},Jy={},wM={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm=Symbol.for("react.element"),S6=Symbol.for("react.portal"),N6=Symbol.for("react.fragment"),k6=Symbol.for("react.strict_mode"),C6=Symbol.for("react.profiler"),E6=Symbol.for("react.provider"),P6=Symbol.for("react.context"),O6=Symbol.for("react.forward_ref"),A6=Symbol.for("react.suspense"),T6=Symbol.for("react.memo"),R6=Symbol.for("react.lazy"),_C=Symbol.iterator;function M6(e){return e===null||typeof e!="object"?null:(e=_C&&e[_C]||e["@@iterator"],typeof e=="function"?e:null)}var jM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_M=Object.assign,SM={};function Wd(e,t,r){this.props=e,this.context=t,this.refs=SM,this.updater=r||jM}Wd.prototype.isReactComponent={};Wd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function NM(){}NM.prototype=Wd.prototype;function tS(e,t,r){this.props=e,this.context=t,this.refs=SM,this.updater=r||jM}var rS=tS.prototype=new NM;rS.constructor=tS;_M(rS,Wd.prototype);rS.isPureReactComponent=!0;var SC=Array.isArray,kM=Object.prototype.hasOwnProperty,nS={current:null},CM={key:!0,ref:!0,__self:!0,__source:!0};function EM(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)kM.call(t,n)&&!CM.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Zm,type:e,key:i,ref:o,props:s,_owner:nS.current}}function $6(e,t){return{$$typeof:Zm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zm}function I6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var NC=/\/+/g;function Qb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?I6(""+e.key):t.toString(36)}function Og(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Zm:case S6:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Qb(o,0):n,SC(s)?(r="",e!=null&&(r=e.replace(NC,"$&/")+"/"),Og(s,t,r,"",function(u){return u})):s!=null&&(sS(s)&&(s=$6(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(NC,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",SC(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Qb(i,l);o+=Og(i,t,r,c,s)}else if(c=M6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Qb(i,l++),o+=Og(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ap(e,t,r){if(e==null)return e;var n=[],s=0;return Og(e,n,"","",function(i){return t.call(r,i,s++)}),n}function D6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $n={current:null},Ag={transition:null},L6={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:Ag,ReactCurrentOwner:nS};function PM(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:Ap,forEach:function(e,t,r){Ap(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ap(e,function(){t++}),t},toArray:function(e){return Ap(e,function(t){return t})||[]},only:function(e){if(!sS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vt.Component=Wd;vt.Fragment=N6;vt.Profiler=C6;vt.PureComponent=tS;vt.StrictMode=k6;vt.Suspense=A6;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L6;vt.act=PM;vt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_M({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=nS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)kM.call(t,c)&&!CM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Zm,type:e.type,key:s,ref:i,props:n,_owner:o}};vt.createContext=function(e){return e={$$typeof:P6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:E6,_context:e},e.Consumer=e};vt.createElement=EM;vt.createFactory=function(e){var t=EM.bind(null,e);return t.type=e,t};vt.createRef=function(){return{current:null}};vt.forwardRef=function(e){return{$$typeof:O6,render:e}};vt.isValidElement=sS;vt.lazy=function(e){return{$$typeof:R6,_payload:{_status:-1,_result:e},_init:D6}};vt.memo=function(e,t){return{$$typeof:T6,type:e,compare:t===void 0?null:t}};vt.startTransition=function(e){var t=Ag.transition;Ag.transition={};try{e()}finally{Ag.transition=t}};vt.unstable_act=PM;vt.useCallback=function(e,t){return $n.current.useCallback(e,t)};vt.useContext=function(e){return $n.current.useContext(e)};vt.useDebugValue=function(){};vt.useDeferredValue=function(e){return $n.current.useDeferredValue(e)};vt.useEffect=function(e,t){return $n.current.useEffect(e,t)};vt.useId=function(){return $n.current.useId()};vt.useImperativeHandle=function(e,t,r){return $n.current.useImperativeHandle(e,t,r)};vt.useInsertionEffect=function(e,t){return $n.current.useInsertionEffect(e,t)};vt.useLayoutEffect=function(e,t){return $n.current.useLayoutEffect(e,t)};vt.useMemo=function(e,t){return $n.current.useMemo(e,t)};vt.useReducer=function(e,t,r){return $n.current.useReducer(e,t,r)};vt.useRef=function(e){return $n.current.useRef(e)};vt.useState=function(e){return $n.current.useState(e)};vt.useSyncExternalStore=function(e,t,r){return $n.current.useSyncExternalStore(e,t,r)};vt.useTransition=function(){return $n.current.useTransition()};vt.version="18.3.1";wM.exports=vt;var y=wM.exports;const R=zt(y),Zy=_6({__proto__:null,default:R},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F6=y,U6=Symbol.for("react.element"),q6=Symbol.for("react.fragment"),B6=Object.prototype.hasOwnProperty,z6=F6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W6={key:!0,ref:!0,__self:!0,__source:!0};function OM(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)B6.call(t,n)&&!W6.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:U6,type:e,key:i,ref:o,props:s,_owner:z6.current}}Jy.Fragment=q6;Jy.jsx=OM;Jy.jsxs=OM;bM.exports=Jy;var a=bM.exports,I0={},AM={exports:{}},xs={},TM={exports:{}},RM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,$){var I=M.length;M.push($);e:for(;0<I;){var ee=I-1>>>1,L=M[ee];if(0<s(L,$))M[ee]=$,M[I]=L,I=ee;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var $=M[0],I=M.pop();if(I!==$){M[0]=I;e:for(var ee=0,L=M.length,oe=L>>>1;ee<oe;){var ye=2*(ee+1)-1,Ve=M[ye],Ke=ye+1,he=M[Ke];if(0>s(Ve,I))Ke<L&&0>s(he,Ve)?(M[ee]=he,M[Ke]=I,ee=Ke):(M[ee]=Ve,M[ye]=I,ee=ye);else if(Ke<L&&0>s(he,I))M[ee]=he,M[Ke]=I,ee=Ke;else break e}}return $}function s(M,$){var I=M.sortIndex-$.sortIndex;return I!==0?I:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=M)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function _(M){if(p=!1,w(M),!g)if(r(c)!==null)g=!0,T(j);else{var $=r(u);$!==null&&K(_,$.startTime-M)}}function j(M,$){g=!1,p&&(p=!1,b(k),k=-1),m=!0;var I=h;try{for(w($),f=r(c);f!==null&&(!(f.expirationTime>$)||M&&!D());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var L=ee(f.expirationTime<=$);$=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),w($)}else n(c);f=r(c)}if(f!==null)var oe=!0;else{var ye=r(u);ye!==null&&K(_,ye.startTime-$),oe=!1}return oe}finally{f=null,h=I,m=!1}}var S=!1,N=null,k=-1,C=5,E=-1;function D(){return!(e.unstable_now()-E<C)}function O(){if(N!==null){var M=e.unstable_now();E=M;var $=!0;try{$=N(!0,M)}finally{$?q():(S=!1,N=null)}}else S=!1}var q;if(typeof v=="function")q=function(){v(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,V=A.port2;A.port1.onmessage=O,q=function(){V.postMessage(null)}}else q=function(){x(O,0)};function T(M){N=M,S||(S=!0,q())}function K(M,$){k=x(function(){M(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,T(j))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var I=h;h=$;try{return M()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var I=h;h=M;try{return $()}finally{h=I}},e.unstable_scheduleCallback=function(M,$,I){var ee=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ee+I:ee):I=ee,M){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=I+L,M={id:d++,callback:$,priorityLevel:M,startTime:I,expirationTime:L,sortIndex:-1},I>ee?(M.sortIndex=I,t(u,M),r(c)===null&&M===r(u)&&(p?(b(k),k=-1):p=!0,K(_,I-ee))):(M.sortIndex=L,t(c,M),g||m||(g=!0,T(j))),M},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(M){var $=h;return function(){var I=h;h=$;try{return M.apply(this,arguments)}finally{h=I}}}})(RM);TM.exports=RM;var V6=TM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K6=y,gs=V6;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MM=new Set,Ah={};function Pc(e,t){Zu(e,t),Zu(e+"Capture",t)}function Zu(e,t){for(Ah[e]=t,e=0;e<t.length;e++)MM.add(t[e])}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D0=Object.prototype.hasOwnProperty,H6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kC={},CC={};function G6(e){return D0.call(CC,e)?!0:D0.call(kC,e)?!1:H6.test(e)?CC[e]=!0:(kC[e]=!0,!1)}function Y6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q6(e,t,r,n){if(t===null||typeof t>"u"||Y6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function In(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dn[e]=new In(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dn[t]=new In(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dn[e]=new In(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dn[e]=new In(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dn[e]=new In(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dn[e]=new In(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dn[e]=new In(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dn[e]=new In(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dn[e]=new In(e,5,!1,e.toLowerCase(),null,!1,!1)});var aS=/[\-:]([a-z])/g;function iS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(aS,iS);dn[t]=new In(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(aS,iS);dn[t]=new In(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(aS,iS);dn[t]=new In(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dn[e]=new In(e,1,!1,e.toLowerCase(),null,!1,!1)});dn.xlinkHref=new In("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dn[e]=new In(e,1,!1,e.toLowerCase(),null,!0,!0)});function oS(e,t,r,n){var s=dn.hasOwnProperty(t)?dn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Q6(t,r,s,n)&&(r=null),n||s===null?G6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Qi=K6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tp=Symbol.for("react.element"),uu=Symbol.for("react.portal"),du=Symbol.for("react.fragment"),lS=Symbol.for("react.strict_mode"),L0=Symbol.for("react.profiler"),$M=Symbol.for("react.provider"),IM=Symbol.for("react.context"),cS=Symbol.for("react.forward_ref"),F0=Symbol.for("react.suspense"),U0=Symbol.for("react.suspense_list"),uS=Symbol.for("react.memo"),bo=Symbol.for("react.lazy"),DM=Symbol.for("react.offscreen"),EC=Symbol.iterator;function Nf(e){return e===null||typeof e!="object"?null:(e=EC&&e[EC]||e["@@iterator"],typeof e=="function"?e:null)}var pr=Object.assign,Xb;function eh(e){if(Xb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xb=t&&t[1]||""}return`
`+Xb+e}var Jb=!1;function Zb(e,t){if(!e||Jb)return"";Jb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Jb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?eh(e):""}function X6(e){switch(e.tag){case 5:return eh(e.type);case 16:return eh("Lazy");case 13:return eh("Suspense");case 19:return eh("SuspenseList");case 0:case 2:case 15:return e=Zb(e.type,!1),e;case 11:return e=Zb(e.type.render,!1),e;case 1:return e=Zb(e.type,!0),e;default:return""}}function q0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case du:return"Fragment";case uu:return"Portal";case L0:return"Profiler";case lS:return"StrictMode";case F0:return"Suspense";case U0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case IM:return(e.displayName||"Context")+".Consumer";case $M:return(e._context.displayName||"Context")+".Provider";case cS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uS:return t=e.displayName||null,t!==null?t:q0(e.type)||"Memo";case bo:t=e._payload,e=e._init;try{return q0(e(t))}catch{}}return null}function J6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q0(t);case 8:return t===lS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function LM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Z6(e){var t=LM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rp(e){e._valueTracker||(e._valueTracker=Z6(e))}function FM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=LM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function B0(e,t){var r=t.checked;return pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function PC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=sl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function UM(e,t){t=t.checked,t!=null&&oS(e,"checked",t,!1)}function z0(e,t){UM(e,t);var r=sl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?W0(e,t.type,r):t.hasOwnProperty("defaultValue")&&W0(e,t.type,sl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function OC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function W0(e,t,r){(t!=="number"||Gg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var th=Array.isArray;function Cu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+sl(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function V0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function AC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ve(92));if(th(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:sl(r)}}function qM(e,t){var r=sl(t.value),n=sl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function TC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function BM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?BM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mp,zM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mp=Mp||document.createElement("div"),Mp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Th(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e8=["Webkit","ms","Moz","O"];Object.keys(fh).forEach(function(e){e8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fh[t]=fh[e]})});function WM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fh.hasOwnProperty(e)&&fh[e]?(""+t).trim():t+"px"}function VM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=WM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var t8=pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function H0(e,t){if(t){if(t8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function G0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y0=null;function dS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Q0=null,Eu=null,Pu=null;function RC(e){if(e=rp(e)){if(typeof Q0!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=sx(t),Q0(e.stateNode,e.type,t))}}function KM(e){Eu?Pu?Pu.push(e):Pu=[e]:Eu=e}function HM(){if(Eu){var e=Eu,t=Pu;if(Pu=Eu=null,RC(e),t)for(e=0;e<t.length;e++)RC(t[e])}}function GM(e,t){return e(t)}function YM(){}var ew=!1;function QM(e,t,r){if(ew)return e(t,r);ew=!0;try{return GM(e,t,r)}finally{ew=!1,(Eu!==null||Pu!==null)&&(YM(),HM())}}function Rh(e,t){var r=e.stateNode;if(r===null)return null;var n=sx(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,t,typeof r));return r}var X0=!1;if(Li)try{var kf={};Object.defineProperty(kf,"passive",{get:function(){X0=!0}}),window.addEventListener("test",kf,kf),window.removeEventListener("test",kf,kf)}catch{X0=!1}function r8(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var hh=!1,Yg=null,Qg=!1,J0=null,n8={onError:function(e){hh=!0,Yg=e}};function s8(e,t,r,n,s,i,o,l,c){hh=!1,Yg=null,r8.apply(n8,arguments)}function a8(e,t,r,n,s,i,o,l,c){if(s8.apply(this,arguments),hh){if(hh){var u=Yg;hh=!1,Yg=null}else throw Error(ve(198));Qg||(Qg=!0,J0=u)}}function Oc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function XM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function MC(e){if(Oc(e)!==e)throw Error(ve(188))}function i8(e){var t=e.alternate;if(!t){if(t=Oc(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return MC(s),e;if(i===n)return MC(s),t;i=i.sibling}throw Error(ve(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:t}function JM(e){return e=i8(e),e!==null?ZM(e):null}function ZM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ZM(e);if(t!==null)return t;e=e.sibling}return null}var e$=gs.unstable_scheduleCallback,$C=gs.unstable_cancelCallback,o8=gs.unstable_shouldYield,l8=gs.unstable_requestPaint,br=gs.unstable_now,c8=gs.unstable_getCurrentPriorityLevel,fS=gs.unstable_ImmediatePriority,t$=gs.unstable_UserBlockingPriority,Xg=gs.unstable_NormalPriority,u8=gs.unstable_LowPriority,r$=gs.unstable_IdlePriority,ex=null,Ya=null;function d8(e){if(Ya&&typeof Ya.onCommitFiberRoot=="function")try{Ya.onCommitFiberRoot(ex,e,void 0,(e.current.flags&128)===128)}catch{}}var ya=Math.clz32?Math.clz32:m8,f8=Math.log,h8=Math.LN2;function m8(e){return e>>>=0,e===0?32:31-(f8(e)/h8|0)|0}var $p=64,Ip=4194304;function rh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=rh(l):(i&=o,i!==0&&(n=rh(i)))}else o=r&~s,o!==0?n=rh(o):i!==0&&(n=rh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ya(t),s=1<<r,n|=e[r],t&=~s;return n}function p8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ya(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=p8(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Z0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function n$(){var e=$p;return $p<<=1,!($p&4194240)&&($p=64),e}function tw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ep(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ya(t),e[t]=r}function v8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ya(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function hS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ya(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Lt=0;function s$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var a$,mS,i$,o$,l$,ej=!1,Dp=[],Vo=null,Ko=null,Ho=null,Mh=new Map,$h=new Map,No=[],y8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IC(e,t){switch(e){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":Ko=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":Mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$h.delete(t.pointerId)}}function Cf(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=rp(t),t!==null&&mS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function x8(e,t,r,n,s){switch(t){case"focusin":return Vo=Cf(Vo,e,t,r,n,s),!0;case"dragenter":return Ko=Cf(Ko,e,t,r,n,s),!0;case"mouseover":return Ho=Cf(Ho,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Mh.set(i,Cf(Mh.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,$h.set(i,Cf($h.get(i)||null,e,t,r,n,s)),!0}return!1}function c$(e){var t=Il(e.target);if(t!==null){var r=Oc(t);if(r!==null){if(t=r.tag,t===13){if(t=XM(r),t!==null){e.blockedOn=t,l$(e.priority,function(){i$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Y0=n,r.target.dispatchEvent(n),Y0=null}else return t=rp(r),t!==null&&mS(t),e.blockedOn=r,!1;t.shift()}return!0}function DC(e,t,r){Tg(e)&&r.delete(t)}function b8(){ej=!1,Vo!==null&&Tg(Vo)&&(Vo=null),Ko!==null&&Tg(Ko)&&(Ko=null),Ho!==null&&Tg(Ho)&&(Ho=null),Mh.forEach(DC),$h.forEach(DC)}function Ef(e,t){e.blockedOn===t&&(e.blockedOn=null,ej||(ej=!0,gs.unstable_scheduleCallback(gs.unstable_NormalPriority,b8)))}function Ih(e){function t(s){return Ef(s,e)}if(0<Dp.length){Ef(Dp[0],e);for(var r=1;r<Dp.length;r++){var n=Dp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Vo!==null&&Ef(Vo,e),Ko!==null&&Ef(Ko,e),Ho!==null&&Ef(Ho,e),Mh.forEach(t),$h.forEach(t),r=0;r<No.length;r++)n=No[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<No.length&&(r=No[0],r.blockedOn===null);)c$(r),r.blockedOn===null&&No.shift()}var Ou=Qi.ReactCurrentBatchConfig,Zg=!0;function w8(e,t,r,n){var s=Lt,i=Ou.transition;Ou.transition=null;try{Lt=1,pS(e,t,r,n)}finally{Lt=s,Ou.transition=i}}function j8(e,t,r,n){var s=Lt,i=Ou.transition;Ou.transition=null;try{Lt=4,pS(e,t,r,n)}finally{Lt=s,Ou.transition=i}}function pS(e,t,r,n){if(Zg){var s=tj(e,t,r,n);if(s===null)dw(e,t,n,ev,r),IC(e,n);else if(x8(s,e,t,r,n))n.stopPropagation();else if(IC(e,n),t&4&&-1<y8.indexOf(e)){for(;s!==null;){var i=rp(s);if(i!==null&&a$(i),i=tj(e,t,r,n),i===null&&dw(e,t,n,ev,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else dw(e,t,n,null,r)}}var ev=null;function tj(e,t,r,n){if(ev=null,e=dS(n),e=Il(e),e!==null)if(t=Oc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=XM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ev=e,null}function u$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c8()){case fS:return 1;case t$:return 4;case Xg:case u8:return 16;case r$:return 536870912;default:return 16}default:return 16}}var Fo=null,gS=null,Rg=null;function d$(){if(Rg)return Rg;var e,t=gS,r=t.length,n,s="value"in Fo?Fo.value:Fo.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Rg=s.slice(e,1<n?1-n:void 0)}function Mg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lp(){return!0}function LC(){return!1}function bs(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lp:LC,this.isPropagationStopped=LC,this}return pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lp)},persist:function(){},isPersistent:Lp}),t}var Vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vS=bs(Vd),tp=pr({},Vd,{view:0,detail:0}),_8=bs(tp),rw,nw,Pf,tx=pr({},tp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pf&&(Pf&&e.type==="mousemove"?(rw=e.screenX-Pf.screenX,nw=e.screenY-Pf.screenY):nw=rw=0,Pf=e),rw)},movementY:function(e){return"movementY"in e?e.movementY:nw}}),FC=bs(tx),S8=pr({},tx,{dataTransfer:0}),N8=bs(S8),k8=pr({},tp,{relatedTarget:0}),sw=bs(k8),C8=pr({},Vd,{animationName:0,elapsedTime:0,pseudoElement:0}),E8=bs(C8),P8=pr({},Vd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O8=bs(P8),A8=pr({},Vd,{data:0}),UC=bs(A8),T8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=M8[e])?!!t[e]:!1}function yS(){return $8}var I8=pr({},tp,{key:function(e){if(e.key){var t=T8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?R8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yS,charCode:function(e){return e.type==="keypress"?Mg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),D8=bs(I8),L8=pr({},tx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qC=bs(L8),F8=pr({},tp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yS}),U8=bs(F8),q8=pr({},Vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),B8=bs(q8),z8=pr({},tx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W8=bs(z8),V8=[9,13,27,32],xS=Li&&"CompositionEvent"in window,mh=null;Li&&"documentMode"in document&&(mh=document.documentMode);var K8=Li&&"TextEvent"in window&&!mh,f$=Li&&(!xS||mh&&8<mh&&11>=mh),BC=" ",zC=!1;function h$(e,t){switch(e){case"keyup":return V8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fu=!1;function H8(e,t){switch(e){case"compositionend":return m$(t);case"keypress":return t.which!==32?null:(zC=!0,BC);case"textInput":return e=t.data,e===BC&&zC?null:e;default:return null}}function G8(e,t){if(fu)return e==="compositionend"||!xS&&h$(e,t)?(e=d$(),Rg=gS=Fo=null,fu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return f$&&t.locale!=="ko"?null:t.data;default:return null}}var Y8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Y8[e.type]:t==="textarea"}function p$(e,t,r,n){KM(n),t=tv(t,"onChange"),0<t.length&&(r=new vS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ph=null,Dh=null;function Q8(e){k$(e,0)}function rx(e){var t=pu(e);if(FM(t))return e}function X8(e,t){if(e==="change")return t}var g$=!1;if(Li){var aw;if(Li){var iw="oninput"in document;if(!iw){var VC=document.createElement("div");VC.setAttribute("oninput","return;"),iw=typeof VC.oninput=="function"}aw=iw}else aw=!1;g$=aw&&(!document.documentMode||9<document.documentMode)}function KC(){ph&&(ph.detachEvent("onpropertychange",v$),Dh=ph=null)}function v$(e){if(e.propertyName==="value"&&rx(Dh)){var t=[];p$(t,Dh,e,dS(e)),QM(Q8,t)}}function J8(e,t,r){e==="focusin"?(KC(),ph=t,Dh=r,ph.attachEvent("onpropertychange",v$)):e==="focusout"&&KC()}function Z8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rx(Dh)}function ez(e,t){if(e==="click")return rx(t)}function tz(e,t){if(e==="input"||e==="change")return rx(t)}function rz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sa=typeof Object.is=="function"?Object.is:rz;function Lh(e,t){if(Sa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!D0.call(t,s)||!Sa(e[s],t[s]))return!1}return!0}function HC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function GC(e,t){var r=HC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=HC(r)}}function y$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?y$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function x$(){for(var e=window,t=Gg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gg(e.document)}return t}function bS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nz(e){var t=x$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&y$(r.ownerDocument.documentElement,r)){if(n!==null&&bS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=GC(r,i);var o=GC(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sz=Li&&"documentMode"in document&&11>=document.documentMode,hu=null,rj=null,gh=null,nj=!1;function YC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nj||hu==null||hu!==Gg(n)||(n=hu,"selectionStart"in n&&bS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gh&&Lh(gh,n)||(gh=n,n=tv(rj,"onSelect"),0<n.length&&(t=new vS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=hu)))}function Fp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var mu={animationend:Fp("Animation","AnimationEnd"),animationiteration:Fp("Animation","AnimationIteration"),animationstart:Fp("Animation","AnimationStart"),transitionend:Fp("Transition","TransitionEnd")},ow={},b$={};Li&&(b$=document.createElement("div").style,"AnimationEvent"in window||(delete mu.animationend.animation,delete mu.animationiteration.animation,delete mu.animationstart.animation),"TransitionEvent"in window||delete mu.transitionend.transition);function nx(e){if(ow[e])return ow[e];if(!mu[e])return e;var t=mu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in b$)return ow[e]=t[r];return e}var w$=nx("animationend"),j$=nx("animationiteration"),_$=nx("animationstart"),S$=nx("transitionend"),N$=new Map,QC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ul(e,t){N$.set(e,t),Pc(t,[e])}for(var lw=0;lw<QC.length;lw++){var cw=QC[lw],az=cw.toLowerCase(),iz=cw[0].toUpperCase()+cw.slice(1);ul(az,"on"+iz)}ul(w$,"onAnimationEnd");ul(j$,"onAnimationIteration");ul(_$,"onAnimationStart");ul("dblclick","onDoubleClick");ul("focusin","onFocus");ul("focusout","onBlur");ul(S$,"onTransitionEnd");Zu("onMouseEnter",["mouseout","mouseover"]);Zu("onMouseLeave",["mouseout","mouseover"]);Zu("onPointerEnter",["pointerout","pointerover"]);Zu("onPointerLeave",["pointerout","pointerover"]);Pc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oz=new Set("cancel close invalid load scroll toggle".split(" ").concat(nh));function XC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,a8(n,t,void 0,e),e.currentTarget=null}function k$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;XC(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;XC(s,l,u),i=c}}}if(Qg)throw e=J0,Qg=!1,J0=null,e}function er(e,t){var r=t[lj];r===void 0&&(r=t[lj]=new Set);var n=e+"__bubble";r.has(n)||(C$(t,e,2,!1),r.add(n))}function uw(e,t,r){var n=0;t&&(n|=4),C$(r,e,n,t)}var Up="_reactListening"+Math.random().toString(36).slice(2);function Fh(e){if(!e[Up]){e[Up]=!0,MM.forEach(function(r){r!=="selectionchange"&&(oz.has(r)||uw(r,!1,e),uw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Up]||(t[Up]=!0,uw("selectionchange",!1,t))}}function C$(e,t,r,n){switch(u$(t)){case 1:var s=w8;break;case 4:s=j8;break;default:s=pS}r=s.bind(null,t,r,e),s=void 0,!X0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function dw(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Il(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}QM(function(){var u=i,d=dS(r),f=[];e:{var h=N$.get(e);if(h!==void 0){var m=vS,g=e;switch(e){case"keypress":if(Mg(r)===0)break e;case"keydown":case"keyup":m=D8;break;case"focusin":g="focus",m=sw;break;case"focusout":g="blur",m=sw;break;case"beforeblur":case"afterblur":m=sw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=FC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=N8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=U8;break;case w$:case j$:case _$:m=E8;break;case S$:m=B8;break;case"scroll":m=_8;break;case"wheel":m=W8;break;case"copy":case"cut":case"paste":m=O8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=qC}var p=(t&4)!==0,x=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var v=u,w;v!==null;){w=v;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=Rh(v,b),_!=null&&p.push(Uh(v,_,w)))),x)break;v=v.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Y0&&(g=r.relatedTarget||r.fromElement)&&(Il(g)||g[Fi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Il(g):null,g!==null&&(x=Oc(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=FC,_="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=qC,_="onPointerLeave",b="onPointerEnter",v="pointer"),x=m==null?h:pu(m),w=g==null?h:pu(g),h=new p(_,v+"leave",m,r,d),h.target=x,h.relatedTarget=w,_=null,Il(d)===u&&(p=new p(b,v+"enter",g,r,d),p.target=w,p.relatedTarget=x,_=p),x=_,m&&g)t:{for(p=m,b=g,v=0,w=p;w;w=zc(w))v++;for(w=0,_=b;_;_=zc(_))w++;for(;0<v-w;)p=zc(p),v--;for(;0<w-v;)b=zc(b),w--;for(;v--;){if(p===b||b!==null&&p===b.alternate)break t;p=zc(p),b=zc(b)}p=null}else p=null;m!==null&&JC(f,h,m,p,!1),g!==null&&x!==null&&JC(f,x,g,p,!0)}}e:{if(h=u?pu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=X8;else if(WC(h))if(g$)j=tz;else{j=Z8;var S=J8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=ez);if(j&&(j=j(e,u))){p$(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&W0(h,"number",h.value)}switch(S=u?pu(u):window,e){case"focusin":(WC(S)||S.contentEditable==="true")&&(hu=S,rj=u,gh=null);break;case"focusout":gh=rj=hu=null;break;case"mousedown":nj=!0;break;case"contextmenu":case"mouseup":case"dragend":nj=!1,YC(f,r,d);break;case"selectionchange":if(sz)break;case"keydown":case"keyup":YC(f,r,d)}var N;if(xS)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else fu?h$(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(f$&&r.locale!=="ko"&&(fu||k!=="onCompositionStart"?k==="onCompositionEnd"&&fu&&(N=d$()):(Fo=d,gS="value"in Fo?Fo.value:Fo.textContent,fu=!0)),S=tv(u,k),0<S.length&&(k=new UC(k,e,null,r,d),f.push({event:k,listeners:S}),N?k.data=N:(N=m$(r),N!==null&&(k.data=N)))),(N=K8?H8(e,r):G8(e,r))&&(u=tv(u,"onBeforeInput"),0<u.length&&(d=new UC("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}k$(f,t)})}function Uh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tv(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rh(e,r),i!=null&&n.unshift(Uh(e,i,s)),i=Rh(e,t),i!=null&&n.push(Uh(e,i,s))),e=e.return}return n}function zc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function JC(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Rh(r,i),c!=null&&o.unshift(Uh(r,c,l))):s||(c=Rh(r,i),c!=null&&o.push(Uh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var lz=/\r\n?/g,cz=/\u0000|\uFFFD/g;function ZC(e){return(typeof e=="string"?e:""+e).replace(lz,`
`).replace(cz,"")}function qp(e,t,r){if(t=ZC(t),ZC(e)!==t&&r)throw Error(ve(425))}function rv(){}var sj=null,aj=null;function ij(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oj=typeof setTimeout=="function"?setTimeout:void 0,uz=typeof clearTimeout=="function"?clearTimeout:void 0,e2=typeof Promise=="function"?Promise:void 0,dz=typeof queueMicrotask=="function"?queueMicrotask:typeof e2<"u"?function(e){return e2.resolve(null).then(e).catch(fz)}:oj;function fz(e){setTimeout(function(){throw e})}function fw(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ih(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ih(t)}function Go(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function t2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Kd=Math.random().toString(36).slice(2),za="__reactFiber$"+Kd,qh="__reactProps$"+Kd,Fi="__reactContainer$"+Kd,lj="__reactEvents$"+Kd,hz="__reactListeners$"+Kd,mz="__reactHandles$"+Kd;function Il(e){var t=e[za];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fi]||r[za]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=t2(e);e!==null;){if(r=e[za])return r;e=t2(e)}return t}e=r,r=e.parentNode}return null}function rp(e){return e=e[za]||e[Fi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function sx(e){return e[qh]||null}var cj=[],gu=-1;function dl(e){return{current:e}}function nr(e){0>gu||(e.current=cj[gu],cj[gu]=null,gu--)}function Xt(e,t){gu++,cj[gu]=e.current,e.current=t}var al={},Sn=dl(al),Yn=dl(!1),oc=al;function ed(e,t){var r=e.type.contextTypes;if(!r)return al;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qn(e){return e=e.childContextTypes,e!=null}function nv(){nr(Yn),nr(Sn)}function r2(e,t,r){if(Sn.current!==al)throw Error(ve(168));Xt(Sn,t),Xt(Yn,r)}function E$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ve(108,J6(e)||"Unknown",s));return pr({},r,n)}function sv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||al,oc=Sn.current,Xt(Sn,e),Xt(Yn,Yn.current),!0}function n2(e,t,r){var n=e.stateNode;if(!n)throw Error(ve(169));r?(e=E$(e,t,oc),n.__reactInternalMemoizedMergedChildContext=e,nr(Yn),nr(Sn),Xt(Sn,e)):nr(Yn),Xt(Yn,r)}var yi=null,ax=!1,hw=!1;function P$(e){yi===null?yi=[e]:yi.push(e)}function pz(e){ax=!0,P$(e)}function fl(){if(!hw&&yi!==null){hw=!0;var e=0,t=Lt;try{var r=yi;for(Lt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yi=null,ax=!1}catch(s){throw yi!==null&&(yi=yi.slice(e+1)),e$(fS,fl),s}finally{Lt=t,hw=!1}}return null}var vu=[],yu=0,av=null,iv=0,Es=[],Ps=0,lc=null,Si=1,Ni="";function kl(e,t){vu[yu++]=iv,vu[yu++]=av,av=e,iv=t}function O$(e,t,r){Es[Ps++]=Si,Es[Ps++]=Ni,Es[Ps++]=lc,lc=e;var n=Si;e=Ni;var s=32-ya(n)-1;n&=~(1<<s),r+=1;var i=32-ya(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Si=1<<32-ya(t)+s|r<<s|n,Ni=i+e}else Si=1<<i|r<<s|n,Ni=e}function wS(e){e.return!==null&&(kl(e,1),O$(e,1,0))}function jS(e){for(;e===av;)av=vu[--yu],vu[yu]=null,iv=vu[--yu],vu[yu]=null;for(;e===lc;)lc=Es[--Ps],Es[Ps]=null,Ni=Es[--Ps],Es[Ps]=null,Si=Es[--Ps],Es[Ps]=null}var hs=null,fs=null,ir=!1,fa=null;function A$(e,t){var r=Ts(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function s2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hs=e,fs=Go(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hs=e,fs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=lc!==null?{id:Si,overflow:Ni}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ts(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,hs=e,fs=null,!0):!1;default:return!1}}function uj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dj(e){if(ir){var t=fs;if(t){var r=t;if(!s2(e,t)){if(uj(e))throw Error(ve(418));t=Go(r.nextSibling);var n=hs;t&&s2(e,t)?A$(n,r):(e.flags=e.flags&-4097|2,ir=!1,hs=e)}}else{if(uj(e))throw Error(ve(418));e.flags=e.flags&-4097|2,ir=!1,hs=e}}}function a2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hs=e}function Bp(e){if(e!==hs)return!1;if(!ir)return a2(e),ir=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ij(e.type,e.memoizedProps)),t&&(t=fs)){if(uj(e))throw T$(),Error(ve(418));for(;t;)A$(e,t),t=Go(t.nextSibling)}if(a2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){fs=Go(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}fs=null}}else fs=hs?Go(e.stateNode.nextSibling):null;return!0}function T$(){for(var e=fs;e;)e=Go(e.nextSibling)}function td(){fs=hs=null,ir=!1}function _S(e){fa===null?fa=[e]:fa.push(e)}var gz=Qi.ReactCurrentBatchConfig;function Of(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function zp(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function i2(e){var t=e._init;return t(e._payload)}function R$(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function s(b,v){return b=Jo(b,v),b.index=0,b.sibling=null,b}function i(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=2,v):w):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,w,_){return v===null||v.tag!==6?(v=bw(w,b.mode,_),v.return=b,v):(v=s(v,w),v.return=b,v)}function c(b,v,w,_){var j=w.type;return j===du?d(b,v,w.props.children,_,w.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===bo&&i2(j)===v.type)?(_=s(v,w.props),_.ref=Of(b,v,w),_.return=b,_):(_=qg(w.type,w.key,w.props,null,b.mode,_),_.ref=Of(b,v,w),_.return=b,_)}function u(b,v,w,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=ww(w,b.mode,_),v.return=b,v):(v=s(v,w.children||[]),v.return=b,v)}function d(b,v,w,_,j){return v===null||v.tag!==7?(v=nc(w,b.mode,_,j),v.return=b,v):(v=s(v,w),v.return=b,v)}function f(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=bw(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Tp:return w=qg(v.type,v.key,v.props,null,b.mode,w),w.ref=Of(b,null,v),w.return=b,w;case uu:return v=ww(v,b.mode,w),v.return=b,v;case bo:var _=v._init;return f(b,_(v._payload),w)}if(th(v)||Nf(v))return v=nc(v,b.mode,w,null),v.return=b,v;zp(b,v)}return null}function h(b,v,w,_){var j=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tp:return w.key===j?c(b,v,w,_):null;case uu:return w.key===j?u(b,v,w,_):null;case bo:return j=w._init,h(b,v,j(w._payload),_)}if(th(w)||Nf(w))return j!==null?null:d(b,v,w,_,null);zp(b,w)}return null}function m(b,v,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,l(v,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tp:return b=b.get(_.key===null?w:_.key)||null,c(v,b,_,j);case uu:return b=b.get(_.key===null?w:_.key)||null,u(v,b,_,j);case bo:var S=_._init;return m(b,v,w,S(_._payload),j)}if(th(_)||Nf(_))return b=b.get(w)||null,d(v,b,_,j,null);zp(v,_)}return null}function g(b,v,w,_){for(var j=null,S=null,N=v,k=v=0,C=null;N!==null&&k<w.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var E=h(b,N,w[k],_);if(E===null){N===null&&(N=C);break}e&&N&&E.alternate===null&&t(b,N),v=i(E,v,k),S===null?j=E:S.sibling=E,S=E,N=C}if(k===w.length)return r(b,N),ir&&kl(b,k),j;if(N===null){for(;k<w.length;k++)N=f(b,w[k],_),N!==null&&(v=i(N,v,k),S===null?j=N:S.sibling=N,S=N);return ir&&kl(b,k),j}for(N=n(b,N);k<w.length;k++)C=m(N,b,k,w[k],_),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),v=i(C,v,k),S===null?j=C:S.sibling=C,S=C);return e&&N.forEach(function(D){return t(b,D)}),ir&&kl(b,k),j}function p(b,v,w,_){var j=Nf(w);if(typeof j!="function")throw Error(ve(150));if(w=j.call(w),w==null)throw Error(ve(151));for(var S=j=null,N=v,k=v=0,C=null,E=w.next();N!==null&&!E.done;k++,E=w.next()){N.index>k?(C=N,N=null):C=N.sibling;var D=h(b,N,E.value,_);if(D===null){N===null&&(N=C);break}e&&N&&D.alternate===null&&t(b,N),v=i(D,v,k),S===null?j=D:S.sibling=D,S=D,N=C}if(E.done)return r(b,N),ir&&kl(b,k),j;if(N===null){for(;!E.done;k++,E=w.next())E=f(b,E.value,_),E!==null&&(v=i(E,v,k),S===null?j=E:S.sibling=E,S=E);return ir&&kl(b,k),j}for(N=n(b,N);!E.done;k++,E=w.next())E=m(N,b,k,E.value,_),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?k:E.key),v=i(E,v,k),S===null?j=E:S.sibling=E,S=E);return e&&N.forEach(function(O){return t(b,O)}),ir&&kl(b,k),j}function x(b,v,w,_){if(typeof w=="object"&&w!==null&&w.type===du&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Tp:e:{for(var j=w.key,S=v;S!==null;){if(S.key===j){if(j=w.type,j===du){if(S.tag===7){r(b,S.sibling),v=s(S,w.props.children),v.return=b,b=v;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===bo&&i2(j)===S.type){r(b,S.sibling),v=s(S,w.props),v.ref=Of(b,S,w),v.return=b,b=v;break e}r(b,S);break}else t(b,S);S=S.sibling}w.type===du?(v=nc(w.props.children,b.mode,_,w.key),v.return=b,b=v):(_=qg(w.type,w.key,w.props,null,b.mode,_),_.ref=Of(b,v,w),_.return=b,b=_)}return o(b);case uu:e:{for(S=w.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(b,v.sibling),v=s(v,w.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else t(b,v);v=v.sibling}v=ww(w,b.mode,_),v.return=b,b=v}return o(b);case bo:return S=w._init,x(b,v,S(w._payload),_)}if(th(w))return g(b,v,w,_);if(Nf(w))return p(b,v,w,_);zp(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(b,v.sibling),v=s(v,w),v.return=b,b=v):(r(b,v),v=bw(w,b.mode,_),v.return=b,b=v),o(b)):r(b,v)}return x}var rd=R$(!0),M$=R$(!1),ov=dl(null),lv=null,xu=null,SS=null;function NS(){SS=xu=lv=null}function kS(e){var t=ov.current;nr(ov),e._currentValue=t}function fj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Au(e,t){lv=e,SS=xu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kn=!0),e.firstContext=null)}function Us(e){var t=e._currentValue;if(SS!==e)if(e={context:e,memoizedValue:t,next:null},xu===null){if(lv===null)throw Error(ve(308));xu=e,lv.dependencies={lanes:0,firstContext:e}}else xu=xu.next=e;return t}var Dl=null;function CS(e){Dl===null?Dl=[e]:Dl.push(e)}function $$(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,CS(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ui(e,n)}function Ui(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wo=!1;function ES(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_t&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ui(e,r)}return s=n.interleaved,s===null?(t.next=t,CS(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ui(e,r)}function $g(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hS(e,r)}}function o2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cv(e,t,r,n){var s=e.updateQueue;wo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=pr({},f,h);break e;case 2:wo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);uc|=o,e.lanes=o,e.memoizedState=f}}function l2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ve(191,s));s.call(n)}}}var np={},Qa=dl(np),Bh=dl(np),zh=dl(np);function Ll(e){if(e===np)throw Error(ve(174));return e}function PS(e,t){switch(Xt(zh,t),Xt(Bh,e),Xt(Qa,np),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:K0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=K0(t,e)}nr(Qa),Xt(Qa,t)}function nd(){nr(Qa),nr(Bh),nr(zh)}function D$(e){Ll(zh.current);var t=Ll(Qa.current),r=K0(t,e.type);t!==r&&(Xt(Bh,e),Xt(Qa,r))}function OS(e){Bh.current===e&&(nr(Qa),nr(Bh))}var ur=dl(0);function uv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mw=[];function AS(){for(var e=0;e<mw.length;e++)mw[e]._workInProgressVersionPrimary=null;mw.length=0}var Ig=Qi.ReactCurrentDispatcher,pw=Qi.ReactCurrentBatchConfig,cc=0,hr=null,qr=null,Jr=null,dv=!1,vh=!1,Wh=0,vz=0;function hn(){throw Error(ve(321))}function TS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Sa(e[r],t[r]))return!1;return!0}function RS(e,t,r,n,s,i){if(cc=i,hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ig.current=e===null||e.memoizedState===null?wz:jz,e=r(n,s),vh){i=0;do{if(vh=!1,Wh=0,25<=i)throw Error(ve(301));i+=1,Jr=qr=null,t.updateQueue=null,Ig.current=_z,e=r(n,s)}while(vh)}if(Ig.current=fv,t=qr!==null&&qr.next!==null,cc=0,Jr=qr=hr=null,dv=!1,t)throw Error(ve(300));return e}function MS(){var e=Wh!==0;return Wh=0,e}function La(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?hr.memoizedState=Jr=e:Jr=Jr.next=e,Jr}function qs(){if(qr===null){var e=hr.alternate;e=e!==null?e.memoizedState:null}else e=qr.next;var t=Jr===null?hr.memoizedState:Jr.next;if(t!==null)Jr=t,qr=e;else{if(e===null)throw Error(ve(310));qr=e,e={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},Jr===null?hr.memoizedState=Jr=e:Jr=Jr.next=e}return Jr}function Vh(e,t){return typeof t=="function"?t(e):t}function gw(e){var t=qs(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=qr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((cc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,hr.lanes|=d,uc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Sa(n,t.memoizedState)||(Kn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,hr.lanes|=i,uc|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function vw(e){var t=qs(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Sa(i,t.memoizedState)||(Kn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function L$(){}function F$(e,t){var r=hr,n=qs(),s=t(),i=!Sa(n.memoizedState,s);if(i&&(n.memoizedState=s,Kn=!0),n=n.queue,$S(B$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Jr!==null&&Jr.memoizedState.tag&1){if(r.flags|=2048,Kh(9,q$.bind(null,r,n,s,t),void 0,null),en===null)throw Error(ve(349));cc&30||U$(r,t,s)}return s}function U$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function q$(e,t,r,n){t.value=r,t.getSnapshot=n,z$(t)&&W$(e)}function B$(e,t,r){return r(function(){z$(t)&&W$(e)})}function z$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Sa(e,r)}catch{return!0}}function W$(e){var t=Ui(e,1);t!==null&&xa(t,e,1,-1)}function c2(e){var t=La();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},t.queue=e,e=e.dispatch=bz.bind(null,hr,e),[t.memoizedState,e]}function Kh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function V$(){return qs().memoizedState}function Dg(e,t,r,n){var s=La();hr.flags|=e,s.memoizedState=Kh(1|t,r,void 0,n===void 0?null:n)}function ix(e,t,r,n){var s=qs();n=n===void 0?null:n;var i=void 0;if(qr!==null){var o=qr.memoizedState;if(i=o.destroy,n!==null&&TS(n,o.deps)){s.memoizedState=Kh(t,r,i,n);return}}hr.flags|=e,s.memoizedState=Kh(1|t,r,i,n)}function u2(e,t){return Dg(8390656,8,e,t)}function $S(e,t){return ix(2048,8,e,t)}function K$(e,t){return ix(4,2,e,t)}function H$(e,t){return ix(4,4,e,t)}function G$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Y$(e,t,r){return r=r!=null?r.concat([e]):null,ix(4,4,G$.bind(null,t,e),r)}function IS(){}function Q$(e,t){var r=qs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&TS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function X$(e,t){var r=qs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&TS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function J$(e,t,r){return cc&21?(Sa(r,t)||(r=n$(),hr.lanes|=r,uc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kn=!0),e.memoizedState=r)}function yz(e,t){var r=Lt;Lt=r!==0&&4>r?r:4,e(!0);var n=pw.transition;pw.transition={};try{e(!1),t()}finally{Lt=r,pw.transition=n}}function Z$(){return qs().memoizedState}function xz(e,t,r){var n=Xo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},e4(e))t4(t,r);else if(r=$$(e,t,r,n),r!==null){var s=Tn();xa(r,e,n,s),r4(r,t,n)}}function bz(e,t,r){var n=Xo(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(e4(e))t4(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Sa(l,o)){var c=t.interleaved;c===null?(s.next=s,CS(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=$$(e,t,s,n),r!==null&&(s=Tn(),xa(r,e,n,s),r4(r,t,n))}}function e4(e){var t=e.alternate;return e===hr||t!==null&&t===hr}function t4(e,t){vh=dv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function r4(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hS(e,r)}}var fv={readContext:Us,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},wz={readContext:Us,useCallback:function(e,t){return La().memoizedState=[e,t===void 0?null:t],e},useContext:Us,useEffect:u2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Dg(4194308,4,G$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Dg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dg(4,2,e,t)},useMemo:function(e,t){var r=La();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=La();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xz.bind(null,hr,e),[n.memoizedState,e]},useRef:function(e){var t=La();return e={current:e},t.memoizedState=e},useState:c2,useDebugValue:IS,useDeferredValue:function(e){return La().memoizedState=e},useTransition:function(){var e=c2(!1),t=e[0];return e=yz.bind(null,e[1]),La().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=hr,s=La();if(ir){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=t(),en===null)throw Error(ve(349));cc&30||U$(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,u2(B$.bind(null,n,i,e),[e]),n.flags|=2048,Kh(9,q$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=La(),t=en.identifierPrefix;if(ir){var r=Ni,n=Si;r=(n&~(1<<32-ya(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vz++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jz={readContext:Us,useCallback:Q$,useContext:Us,useEffect:$S,useImperativeHandle:Y$,useInsertionEffect:K$,useLayoutEffect:H$,useMemo:X$,useReducer:gw,useRef:V$,useState:function(){return gw(Vh)},useDebugValue:IS,useDeferredValue:function(e){var t=qs();return J$(t,qr.memoizedState,e)},useTransition:function(){var e=gw(Vh)[0],t=qs().memoizedState;return[e,t]},useMutableSource:L$,useSyncExternalStore:F$,useId:Z$,unstable_isNewReconciler:!1},_z={readContext:Us,useCallback:Q$,useContext:Us,useEffect:$S,useImperativeHandle:Y$,useInsertionEffect:K$,useLayoutEffect:H$,useMemo:X$,useReducer:vw,useRef:V$,useState:function(){return vw(Vh)},useDebugValue:IS,useDeferredValue:function(e){var t=qs();return qr===null?t.memoizedState=e:J$(t,qr.memoizedState,e)},useTransition:function(){var e=vw(Vh)[0],t=qs().memoizedState;return[e,t]},useMutableSource:L$,useSyncExternalStore:F$,useId:Z$,unstable_isNewReconciler:!1};function aa(e,t){if(e&&e.defaultProps){t=pr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ox={isMounted:function(e){return(e=e._reactInternals)?Oc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Tn(),s=Xo(e),i=Oi(n,s);i.payload=t,r!=null&&(i.callback=r),t=Yo(e,i,s),t!==null&&(xa(t,e,s,n),$g(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Tn(),s=Xo(e),i=Oi(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Yo(e,i,s),t!==null&&(xa(t,e,s,n),$g(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tn(),n=Xo(e),s=Oi(r,n);s.tag=2,t!=null&&(s.callback=t),t=Yo(e,s,n),t!==null&&(xa(t,e,n,r),$g(t,e,n))}};function d2(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Lh(r,n)||!Lh(s,i):!0}function n4(e,t,r){var n=!1,s=al,i=t.contextType;return typeof i=="object"&&i!==null?i=Us(i):(s=Qn(t)?oc:Sn.current,n=t.contextTypes,i=(n=n!=null)?ed(e,s):al),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ox,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function f2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ox.enqueueReplaceState(t,t.state,null)}function mj(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ES(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Us(i):(i=Qn(t)?oc:Sn.current,s.context=ed(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(hj(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ox.enqueueReplaceState(s,s.state,null),cv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function sd(e,t){try{var r="",n=t;do r+=X6(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function yw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function pj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Sz=typeof WeakMap=="function"?WeakMap:Map;function s4(e,t,r){r=Oi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){mv||(mv=!0,Nj=n),pj(e,t)},r}function a4(e,t,r){r=Oi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){pj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){pj(e,t),typeof n!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function h2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Sz;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Lz.bind(null,e,t,r),t.then(e,e))}function m2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function p2(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Oi(-1,1),t.tag=2,Yo(r,t,1))),r.lanes|=1),e)}var Nz=Qi.ReactCurrentOwner,Kn=!1;function En(e,t,r,n){t.child=e===null?M$(t,null,r,n):rd(t,e.child,r,n)}function g2(e,t,r,n,s){r=r.render;var i=t.ref;return Au(t,s),n=RS(e,t,r,n,i,s),r=MS(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qi(e,t,s)):(ir&&r&&wS(t),t.flags|=1,En(e,t,n,s),t.child)}function v2(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!WS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,i4(e,t,i,n,s)):(e=qg(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Lh,r(o,n)&&e.ref===t.ref)return qi(e,t,s)}return t.flags|=1,e=Jo(i,n),e.ref=t.ref,e.return=t,t.child=e}function i4(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Lh(i,n)&&e.ref===t.ref)if(Kn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Kn=!0);else return t.lanes=e.lanes,qi(e,t,s)}return gj(e,t,r,n,s)}function o4(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(wu,as),as|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xt(wu,as),as|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Xt(wu,as),as|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Xt(wu,as),as|=n;return En(e,t,s,r),t.child}function l4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gj(e,t,r,n,s){var i=Qn(r)?oc:Sn.current;return i=ed(t,i),Au(t,s),r=RS(e,t,r,n,i,s),n=MS(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qi(e,t,s)):(ir&&n&&wS(t),t.flags|=1,En(e,t,r,s),t.child)}function y2(e,t,r,n,s){if(Qn(r)){var i=!0;sv(t)}else i=!1;if(Au(t,s),t.stateNode===null)Lg(e,t),n4(t,r,n),mj(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Us(u):(u=Qn(r)?oc:Sn.current,u=ed(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&f2(t,o,n,u),wo=!1;var h=t.memoizedState;o.state=h,cv(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Yn.current||wo?(typeof d=="function"&&(hj(t,r,d,n),c=t.memoizedState),(l=wo||d2(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,I$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:aa(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Us(c):(c=Qn(r)?oc:Sn.current,c=ed(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&f2(t,o,n,c),wo=!1,h=t.memoizedState,o.state=h,cv(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||Yn.current||wo?(typeof m=="function"&&(hj(t,r,m,n),g=t.memoizedState),(u=wo||d2(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return vj(e,t,r,n,i,s)}function vj(e,t,r,n,s,i){l4(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&n2(t,r,!1),qi(e,t,i);n=t.stateNode,Nz.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=rd(t,e.child,null,i),t.child=rd(t,null,l,i)):En(e,t,l,i),t.memoizedState=n.state,s&&n2(t,r,!0),t.child}function c4(e){var t=e.stateNode;t.pendingContext?r2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&r2(e,t.context,!1),PS(e,t.containerInfo)}function x2(e,t,r,n,s){return td(),_S(s),t.flags|=256,En(e,t,r,n),t.child}var yj={dehydrated:null,treeContext:null,retryLane:0};function xj(e){return{baseLanes:e,cachePool:null,transitions:null}}function u4(e,t,r){var n=t.pendingProps,s=ur.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Xt(ur,s&1),e===null)return dj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ux(o,n,0,null),e=nc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=xj(r),t.memoizedState=yj,e):DS(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return kz(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Jo(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Jo(l,i):(i=nc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?xj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=yj,n}return i=e.child,e=i.sibling,n=Jo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function DS(e,t){return t=ux({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wp(e,t,r,n){return n!==null&&_S(n),rd(t,e.child,null,r),e=DS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kz(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=yw(Error(ve(422))),Wp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ux({mode:"visible",children:n.children},s,0,null),i=nc(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&rd(t,e.child,null,o),t.child.memoizedState=xj(o),t.memoizedState=yj,i);if(!(t.mode&1))return Wp(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ve(419)),n=yw(i,n,void 0),Wp(e,t,o,n)}if(l=(o&e.childLanes)!==0,Kn||l){if(n=en,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ui(e,s),xa(n,e,s,-1))}return zS(),n=yw(Error(ve(421))),Wp(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Fz.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,fs=Go(s.nextSibling),hs=t,ir=!0,fa=null,e!==null&&(Es[Ps++]=Si,Es[Ps++]=Ni,Es[Ps++]=lc,Si=e.id,Ni=e.overflow,lc=t),t=DS(t,n.children),t.flags|=4096,t)}function b2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fj(e.return,t,r)}function xw(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function d4(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(En(e,t,n.children,r),n=ur.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&b2(e,r,t);else if(e.tag===19)b2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Xt(ur,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&uv(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),xw(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&uv(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}xw(t,!0,r,null,i);break;case"together":xw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),uc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,r=Jo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Cz(e,t,r){switch(t.tag){case 3:c4(t),td();break;case 5:D$(t);break;case 1:Qn(t.type)&&sv(t);break;case 4:PS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Xt(ov,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Xt(ur,ur.current&1),t.flags|=128,null):r&t.child.childLanes?u4(e,t,r):(Xt(ur,ur.current&1),e=qi(e,t,r),e!==null?e.sibling:null);Xt(ur,ur.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return d4(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xt(ur,ur.current),n)break;return null;case 22:case 23:return t.lanes=0,o4(e,t,r)}return qi(e,t,r)}var f4,bj,h4,m4;f4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bj=function(){};h4=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ll(Qa.current);var i=null;switch(r){case"input":s=B0(e,s),n=B0(e,n),i=[];break;case"select":s=pr({},s,{value:void 0}),n=pr({},n,{value:void 0}),i=[];break;case"textarea":s=V0(e,s),n=V0(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=rv)}H0(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ah.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ah.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&er("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};m4=function(e,t,r,n){r!==n&&(t.flags|=4)};function Af(e,t){if(!ir)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function mn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ez(e,t,r){var n=t.pendingProps;switch(jS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(t),null;case 1:return Qn(t.type)&&nv(),mn(t),null;case 3:return n=t.stateNode,nd(),nr(Yn),nr(Sn),AS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fa!==null&&(Ej(fa),fa=null))),bj(e,t),mn(t),null;case 5:OS(t);var s=Ll(zh.current);if(r=t.type,e!==null&&t.stateNode!=null)h4(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ve(166));return mn(t),null}if(e=Ll(Qa.current),Bp(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[za]=t,n[qh]=i,e=(t.mode&1)!==0,r){case"dialog":er("cancel",n),er("close",n);break;case"iframe":case"object":case"embed":er("load",n);break;case"video":case"audio":for(s=0;s<nh.length;s++)er(nh[s],n);break;case"source":er("error",n);break;case"img":case"image":case"link":er("error",n),er("load",n);break;case"details":er("toggle",n);break;case"input":PC(n,i),er("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},er("invalid",n);break;case"textarea":AC(n,i),er("invalid",n)}H0(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&qp(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qp(n.textContent,l,e),s=["children",""+l]):Ah.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&er("scroll",n)}switch(r){case"input":Rp(n),OC(n,i,!0);break;case"textarea":Rp(n),TC(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=rv)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=BM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[za]=t,e[qh]=n,f4(e,t,!1,!1),t.stateNode=e;e:{switch(o=G0(r,n),r){case"dialog":er("cancel",e),er("close",e),s=n;break;case"iframe":case"object":case"embed":er("load",e),s=n;break;case"video":case"audio":for(s=0;s<nh.length;s++)er(nh[s],e);s=n;break;case"source":er("error",e),s=n;break;case"img":case"image":case"link":er("error",e),er("load",e),s=n;break;case"details":er("toggle",e),s=n;break;case"input":PC(e,n),s=B0(e,n),er("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=pr({},n,{value:void 0}),er("invalid",e);break;case"textarea":AC(e,n),s=V0(e,n),er("invalid",e);break;default:s=n}H0(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?VM(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zM(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Th(e,c):typeof c=="number"&&Th(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ah.hasOwnProperty(i)?c!=null&&i==="onScroll"&&er("scroll",e):c!=null&&oS(e,i,c,o))}switch(r){case"input":Rp(e),OC(e,n,!1);break;case"textarea":Rp(e),TC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+sl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Cu(e,!!n.multiple,i,!1):n.defaultValue!=null&&Cu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=rv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mn(t),null;case 6:if(e&&t.stateNode!=null)m4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ve(166));if(r=Ll(zh.current),Ll(Qa.current),Bp(t)){if(n=t.stateNode,r=t.memoizedProps,n[za]=t,(i=n.nodeValue!==r)&&(e=hs,e!==null))switch(e.tag){case 3:qp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qp(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[za]=t,t.stateNode=n}return mn(t),null;case 13:if(nr(ur),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ir&&fs!==null&&t.mode&1&&!(t.flags&128))T$(),td(),t.flags|=98560,i=!1;else if(i=Bp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[za]=t}else td(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mn(t),i=!1}else fa!==null&&(Ej(fa),fa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ur.current&1?Vr===0&&(Vr=3):zS())),t.updateQueue!==null&&(t.flags|=4),mn(t),null);case 4:return nd(),bj(e,t),e===null&&Fh(t.stateNode.containerInfo),mn(t),null;case 10:return kS(t.type._context),mn(t),null;case 17:return Qn(t.type)&&nv(),mn(t),null;case 19:if(nr(ur),i=t.memoizedState,i===null)return mn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Af(i,!1);else{if(Vr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=uv(e),o!==null){for(t.flags|=128,Af(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xt(ur,ur.current&1|2),t.child}e=e.sibling}i.tail!==null&&br()>ad&&(t.flags|=128,n=!0,Af(i,!1),t.lanes=4194304)}else{if(!n)if(e=uv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Af(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ir)return mn(t),null}else 2*br()-i.renderingStartTime>ad&&r!==1073741824&&(t.flags|=128,n=!0,Af(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=br(),t.sibling=null,r=ur.current,Xt(ur,n?r&1|2:r&1),t):(mn(t),null);case 22:case 23:return BS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?as&1073741824&&(mn(t),t.subtreeFlags&6&&(t.flags|=8192)):mn(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function Pz(e,t){switch(jS(t),t.tag){case 1:return Qn(t.type)&&nv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nd(),nr(Yn),nr(Sn),AS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return OS(t),null;case 13:if(nr(ur),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));td()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nr(ur),null;case 4:return nd(),null;case 10:return kS(t.type._context),null;case 22:case 23:return BS(),null;case 24:return null;default:return null}}var Vp=!1,yn=!1,Oz=typeof WeakSet=="function"?WeakSet:Set,$e=null;function bu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){yr(e,t,n)}else r.current=null}function wj(e,t,r){try{r()}catch(n){yr(e,t,n)}}var w2=!1;function Az(e,t){if(sj=Zg,e=x$(),bS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(aj={focusedElem:e,selectionRange:r},Zg=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:aa(t.type,p),x);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(_){yr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return g=w2,w2=!1,g}function yh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&wj(t,r,i)}s=s.next}while(s!==n)}}function lx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function jj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function p4(e){var t=e.alternate;t!==null&&(e.alternate=null,p4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[za],delete t[qh],delete t[lj],delete t[hz],delete t[mz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function g4(e){return e.tag===5||e.tag===3||e.tag===4}function j2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||g4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _j(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rv));else if(n!==4&&(e=e.child,e!==null))for(_j(e,t,r),e=e.sibling;e!==null;)_j(e,t,r),e=e.sibling}function Sj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Sj(e,t,r),e=e.sibling;e!==null;)Sj(e,t,r),e=e.sibling}var on=null,ca=!1;function fo(e,t,r){for(r=r.child;r!==null;)v4(e,t,r),r=r.sibling}function v4(e,t,r){if(Ya&&typeof Ya.onCommitFiberUnmount=="function")try{Ya.onCommitFiberUnmount(ex,r)}catch{}switch(r.tag){case 5:yn||bu(r,t);case 6:var n=on,s=ca;on=null,fo(e,t,r),on=n,ca=s,on!==null&&(ca?(e=on,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):on.removeChild(r.stateNode));break;case 18:on!==null&&(ca?(e=on,r=r.stateNode,e.nodeType===8?fw(e.parentNode,r):e.nodeType===1&&fw(e,r),Ih(e)):fw(on,r.stateNode));break;case 4:n=on,s=ca,on=r.stateNode.containerInfo,ca=!0,fo(e,t,r),on=n,ca=s;break;case 0:case 11:case 14:case 15:if(!yn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wj(r,t,o),s=s.next}while(s!==n)}fo(e,t,r);break;case 1:if(!yn&&(bu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){yr(r,t,l)}fo(e,t,r);break;case 21:fo(e,t,r);break;case 22:r.mode&1?(yn=(n=yn)||r.memoizedState!==null,fo(e,t,r),yn=n):fo(e,t,r);break;default:fo(e,t,r)}}function _2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Oz),t.forEach(function(n){var s=Uz.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Zs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:on=l.stateNode,ca=!1;break e;case 3:on=l.stateNode.containerInfo,ca=!0;break e;case 4:on=l.stateNode.containerInfo,ca=!0;break e}l=l.return}if(on===null)throw Error(ve(160));v4(i,o,s),on=null,ca=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){yr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)y4(t,e),t=t.sibling}function y4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zs(t,e),Da(e),n&4){try{yh(3,e,e.return),lx(3,e)}catch(p){yr(e,e.return,p)}try{yh(5,e,e.return)}catch(p){yr(e,e.return,p)}}break;case 1:Zs(t,e),Da(e),n&512&&r!==null&&bu(r,r.return);break;case 5:if(Zs(t,e),Da(e),n&512&&r!==null&&bu(r,r.return),e.flags&32){var s=e.stateNode;try{Th(s,"")}catch(p){yr(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&UM(s,i),G0(l,o);var u=G0(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?VM(s,f):d==="dangerouslySetInnerHTML"?zM(s,f):d==="children"?Th(s,f):oS(s,d,f,u)}switch(l){case"input":z0(s,i);break;case"textarea":qM(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Cu(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Cu(s,!!i.multiple,i.defaultValue,!0):Cu(s,!!i.multiple,i.multiple?[]:"",!1))}s[qh]=i}catch(p){yr(e,e.return,p)}}break;case 6:if(Zs(t,e),Da(e),n&4){if(e.stateNode===null)throw Error(ve(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){yr(e,e.return,p)}}break;case 3:if(Zs(t,e),Da(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ih(t.containerInfo)}catch(p){yr(e,e.return,p)}break;case 4:Zs(t,e),Da(e);break;case 13:Zs(t,e),Da(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(US=br())),n&4&&_2(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(yn=(u=yn)||d,Zs(t,e),yn=u):Zs(t,e),Da(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($e=e,d=e.child;d!==null;){for(f=$e=d;$e!==null;){switch(h=$e,m=h.child,h.tag){case 0:case 11:case 14:case 15:yh(4,h,h.return);break;case 1:bu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){yr(n,r,p)}}break;case 5:bu(h,h.return);break;case 22:if(h.memoizedState!==null){N2(f);continue}}m!==null?(m.return=h,$e=m):N2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=WM("display",o))}catch(p){yr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){yr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zs(t,e),Da(e),n&4&&_2(e);break;case 21:break;default:Zs(t,e),Da(e)}}function Da(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(g4(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Th(s,""),n.flags&=-33);var i=j2(e);Sj(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=j2(e);_j(e,l,o);break;default:throw Error(ve(161))}}catch(c){yr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tz(e,t,r){$e=e,x4(e)}function x4(e,t,r){for(var n=(e.mode&1)!==0;$e!==null;){var s=$e,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Vp;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||yn;l=Vp;var u=yn;if(Vp=o,(yn=c)&&!u)for($e=s;$e!==null;)o=$e,c=o.child,o.tag===22&&o.memoizedState!==null?k2(s):c!==null?(c.return=o,$e=c):k2(s);for(;i!==null;)$e=i,x4(i),i=i.sibling;$e=s,Vp=l,yn=u}S2(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$e=i):S2(e)}}function S2(e){for(;$e!==null;){var t=$e;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yn||lx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!yn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:aa(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&l2(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}l2(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ih(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}yn||t.flags&512&&jj(t)}catch(h){yr(t,t.return,h)}}if(t===e){$e=null;break}if(r=t.sibling,r!==null){r.return=t.return,$e=r;break}$e=t.return}}function N2(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$e=r;break}$e=t.return}}function k2(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{lx(4,t)}catch(c){yr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){yr(t,s,c)}}var i=t.return;try{jj(t)}catch(c){yr(t,i,c)}break;case 5:var o=t.return;try{jj(t)}catch(c){yr(t,o,c)}}}catch(c){yr(t,t.return,c)}if(t===e){$e=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$e=l;break}$e=t.return}}var Rz=Math.ceil,hv=Qi.ReactCurrentDispatcher,LS=Qi.ReactCurrentOwner,Ms=Qi.ReactCurrentBatchConfig,_t=0,en=null,Tr=null,un=0,as=0,wu=dl(0),Vr=0,Hh=null,uc=0,cx=0,FS=0,xh=null,Vn=null,US=0,ad=1/0,gi=null,mv=!1,Nj=null,Qo=null,Kp=!1,Uo=null,pv=0,bh=0,kj=null,Fg=-1,Ug=0;function Tn(){return _t&6?br():Fg!==-1?Fg:Fg=br()}function Xo(e){return e.mode&1?_t&2&&un!==0?un&-un:gz.transition!==null?(Ug===0&&(Ug=n$()),Ug):(e=Lt,e!==0||(e=window.event,e=e===void 0?16:u$(e.type)),e):1}function xa(e,t,r,n){if(50<bh)throw bh=0,kj=null,Error(ve(185));ep(e,r,n),(!(_t&2)||e!==en)&&(e===en&&(!(_t&2)&&(cx|=r),Vr===4&&ko(e,un)),Xn(e,n),r===1&&_t===0&&!(t.mode&1)&&(ad=br()+500,ax&&fl()))}function Xn(e,t){var r=e.callbackNode;g8(e,t);var n=Jg(e,e===en?un:0);if(n===0)r!==null&&$C(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&$C(r),t===1)e.tag===0?pz(C2.bind(null,e)):P$(C2.bind(null,e)),dz(function(){!(_t&6)&&fl()}),r=null;else{switch(s$(n)){case 1:r=fS;break;case 4:r=t$;break;case 16:r=Xg;break;case 536870912:r=r$;break;default:r=Xg}r=C4(r,b4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function b4(e,t){if(Fg=-1,Ug=0,_t&6)throw Error(ve(327));var r=e.callbackNode;if(Tu()&&e.callbackNode!==r)return null;var n=Jg(e,e===en?un:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gv(e,n);else{t=n;var s=_t;_t|=2;var i=j4();(en!==e||un!==t)&&(gi=null,ad=br()+500,rc(e,t));do try{Iz();break}catch(l){w4(e,l)}while(!0);NS(),hv.current=i,_t=s,Tr!==null?t=0:(en=null,un=0,t=Vr)}if(t!==0){if(t===2&&(s=Z0(e),s!==0&&(n=s,t=Cj(e,s))),t===1)throw r=Hh,rc(e,0),ko(e,n),Xn(e,br()),r;if(t===6)ko(e,n);else{if(s=e.current.alternate,!(n&30)&&!Mz(s)&&(t=gv(e,n),t===2&&(i=Z0(e),i!==0&&(n=i,t=Cj(e,i))),t===1))throw r=Hh,rc(e,0),ko(e,n),Xn(e,br()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ve(345));case 2:Cl(e,Vn,gi);break;case 3:if(ko(e,n),(n&130023424)===n&&(t=US+500-br(),10<t)){if(Jg(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Tn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=oj(Cl.bind(null,e,Vn,gi),t);break}Cl(e,Vn,gi);break;case 4:if(ko(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ya(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=br()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Rz(n/1960))-n,10<n){e.timeoutHandle=oj(Cl.bind(null,e,Vn,gi),n);break}Cl(e,Vn,gi);break;case 5:Cl(e,Vn,gi);break;default:throw Error(ve(329))}}}return Xn(e,br()),e.callbackNode===r?b4.bind(null,e):null}function Cj(e,t){var r=xh;return e.current.memoizedState.isDehydrated&&(rc(e,t).flags|=256),e=gv(e,t),e!==2&&(t=Vn,Vn=r,t!==null&&Ej(t)),e}function Ej(e){Vn===null?Vn=e:Vn.push.apply(Vn,e)}function Mz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Sa(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ko(e,t){for(t&=~FS,t&=~cx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ya(t),n=1<<r;e[r]=-1,t&=~n}}function C2(e){if(_t&6)throw Error(ve(327));Tu();var t=Jg(e,0);if(!(t&1))return Xn(e,br()),null;var r=gv(e,t);if(e.tag!==0&&r===2){var n=Z0(e);n!==0&&(t=n,r=Cj(e,n))}if(r===1)throw r=Hh,rc(e,0),ko(e,t),Xn(e,br()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cl(e,Vn,gi),Xn(e,br()),null}function qS(e,t){var r=_t;_t|=1;try{return e(t)}finally{_t=r,_t===0&&(ad=br()+500,ax&&fl())}}function dc(e){Uo!==null&&Uo.tag===0&&!(_t&6)&&Tu();var t=_t;_t|=1;var r=Ms.transition,n=Lt;try{if(Ms.transition=null,Lt=1,e)return e()}finally{Lt=n,Ms.transition=r,_t=t,!(_t&6)&&fl()}}function BS(){as=wu.current,nr(wu)}function rc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,uz(r)),Tr!==null)for(r=Tr.return;r!==null;){var n=r;switch(jS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nv();break;case 3:nd(),nr(Yn),nr(Sn),AS();break;case 5:OS(n);break;case 4:nd();break;case 13:nr(ur);break;case 19:nr(ur);break;case 10:kS(n.type._context);break;case 22:case 23:BS()}r=r.return}if(en=e,Tr=e=Jo(e.current,null),un=as=t,Vr=0,Hh=null,FS=cx=uc=0,Vn=xh=null,Dl!==null){for(t=0;t<Dl.length;t++)if(r=Dl[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Dl=null}return e}function w4(e,t){do{var r=Tr;try{if(NS(),Ig.current=fv,dv){for(var n=hr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}dv=!1}if(cc=0,Jr=qr=hr=null,vh=!1,Wh=0,LS.current=null,r===null||r.return===null){Vr=1,Hh=t,Tr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=un,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=m2(o);if(m!==null){m.flags&=-257,p2(m,o,l,i,t),m.mode&1&&h2(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){h2(i,u,t),zS();break e}c=Error(ve(426))}}else if(ir&&l.mode&1){var x=m2(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),p2(x,o,l,i,t),_S(sd(c,l));break e}}i=c=sd(c,l),Vr!==4&&(Vr=2),xh===null?xh=[i]:xh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=s4(i,c,t);o2(i,b);break e;case 1:l=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qo===null||!Qo.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=a4(i,l,t);o2(i,_);break e}}i=i.return}while(i!==null)}S4(r)}catch(j){t=j,Tr===r&&r!==null&&(Tr=r=r.return);continue}break}while(!0)}function j4(){var e=hv.current;return hv.current=fv,e===null?fv:e}function zS(){(Vr===0||Vr===3||Vr===2)&&(Vr=4),en===null||!(uc&268435455)&&!(cx&268435455)||ko(en,un)}function gv(e,t){var r=_t;_t|=2;var n=j4();(en!==e||un!==t)&&(gi=null,rc(e,t));do try{$z();break}catch(s){w4(e,s)}while(!0);if(NS(),_t=r,hv.current=n,Tr!==null)throw Error(ve(261));return en=null,un=0,Vr}function $z(){for(;Tr!==null;)_4(Tr)}function Iz(){for(;Tr!==null&&!o8();)_4(Tr)}function _4(e){var t=k4(e.alternate,e,as);e.memoizedProps=e.pendingProps,t===null?S4(e):Tr=t,LS.current=null}function S4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Pz(r,t),r!==null){r.flags&=32767,Tr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vr=6,Tr=null;return}}else if(r=Ez(r,t,as),r!==null){Tr=r;return}if(t=t.sibling,t!==null){Tr=t;return}Tr=t=e}while(t!==null);Vr===0&&(Vr=5)}function Cl(e,t,r){var n=Lt,s=Ms.transition;try{Ms.transition=null,Lt=1,Dz(e,t,r,n)}finally{Ms.transition=s,Lt=n}return null}function Dz(e,t,r,n){do Tu();while(Uo!==null);if(_t&6)throw Error(ve(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(v8(e,i),e===en&&(Tr=en=null,un=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Kp||(Kp=!0,C4(Xg,function(){return Tu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ms.transition,Ms.transition=null;var o=Lt;Lt=1;var l=_t;_t|=4,LS.current=null,Az(e,r),y4(r,e),nz(aj),Zg=!!sj,aj=sj=null,e.current=r,Tz(r),l8(),_t=l,Lt=o,Ms.transition=i}else e.current=r;if(Kp&&(Kp=!1,Uo=e,pv=s),i=e.pendingLanes,i===0&&(Qo=null),d8(r.stateNode),Xn(e,br()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(mv)throw mv=!1,e=Nj,Nj=null,e;return pv&1&&e.tag!==0&&Tu(),i=e.pendingLanes,i&1?e===kj?bh++:(bh=0,kj=e):bh=0,fl(),null}function Tu(){if(Uo!==null){var e=s$(pv),t=Ms.transition,r=Lt;try{if(Ms.transition=null,Lt=16>e?16:e,Uo===null)var n=!1;else{if(e=Uo,Uo=null,pv=0,_t&6)throw Error(ve(331));var s=_t;for(_t|=4,$e=e.current;$e!==null;){var i=$e,o=i.child;if($e.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for($e=u;$e!==null;){var d=$e;switch(d.tag){case 0:case 11:case 15:yh(8,d,i)}var f=d.child;if(f!==null)f.return=d,$e=f;else for(;$e!==null;){d=$e;var h=d.sibling,m=d.return;if(p4(d),d===u){$e=null;break}if(h!==null){h.return=m,$e=h;break}$e=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}$e=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$e=o;else e:for(;$e!==null;){if(i=$e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yh(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,$e=b;break e}$e=i.return}}var v=e.current;for($e=v;$e!==null;){o=$e;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,$e=w;else e:for(o=v;$e!==null;){if(l=$e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lx(9,l)}}catch(j){yr(l,l.return,j)}if(l===o){$e=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,$e=_;break e}$e=l.return}}if(_t=s,fl(),Ya&&typeof Ya.onPostCommitFiberRoot=="function")try{Ya.onPostCommitFiberRoot(ex,e)}catch{}n=!0}return n}finally{Lt=r,Ms.transition=t}}return!1}function E2(e,t,r){t=sd(r,t),t=s4(e,t,1),e=Yo(e,t,1),t=Tn(),e!==null&&(ep(e,1,t),Xn(e,t))}function yr(e,t,r){if(e.tag===3)E2(e,e,r);else for(;t!==null;){if(t.tag===3){E2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qo===null||!Qo.has(n))){e=sd(r,e),e=a4(t,e,1),t=Yo(t,e,1),e=Tn(),t!==null&&(ep(t,1,e),Xn(t,e));break}}t=t.return}}function Lz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Tn(),e.pingedLanes|=e.suspendedLanes&r,en===e&&(un&r)===r&&(Vr===4||Vr===3&&(un&130023424)===un&&500>br()-US?rc(e,0):FS|=r),Xn(e,t)}function N4(e,t){t===0&&(e.mode&1?(t=Ip,Ip<<=1,!(Ip&130023424)&&(Ip=4194304)):t=1);var r=Tn();e=Ui(e,t),e!==null&&(ep(e,t,r),Xn(e,r))}function Fz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),N4(e,r)}function Uz(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ve(314))}n!==null&&n.delete(t),N4(e,r)}var k4;k4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yn.current)Kn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Kn=!1,Cz(e,t,r);Kn=!!(e.flags&131072)}else Kn=!1,ir&&t.flags&1048576&&O$(t,iv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Lg(e,t),e=t.pendingProps;var s=ed(t,Sn.current);Au(t,r),s=RS(null,t,n,e,s,r);var i=MS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qn(n)?(i=!0,sv(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ES(t),s.updater=ox,t.stateNode=s,s._reactInternals=t,mj(t,n,e,r),t=vj(null,t,n,!0,i,r)):(t.tag=0,ir&&i&&wS(t),En(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Lg(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Bz(n),e=aa(n,e),s){case 0:t=gj(null,t,n,e,r);break e;case 1:t=y2(null,t,n,e,r);break e;case 11:t=g2(null,t,n,e,r);break e;case 14:t=v2(null,t,n,aa(n.type,e),r);break e}throw Error(ve(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:aa(n,s),gj(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:aa(n,s),y2(e,t,n,s,r);case 3:e:{if(c4(t),e===null)throw Error(ve(387));n=t.pendingProps,i=t.memoizedState,s=i.element,I$(e,t),cv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=sd(Error(ve(423)),t),t=x2(e,t,n,r,s);break e}else if(n!==s){s=sd(Error(ve(424)),t),t=x2(e,t,n,r,s);break e}else for(fs=Go(t.stateNode.containerInfo.firstChild),hs=t,ir=!0,fa=null,r=M$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(td(),n===s){t=qi(e,t,r);break e}En(e,t,n,r)}t=t.child}return t;case 5:return D$(t),e===null&&dj(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ij(n,s)?o=null:i!==null&&ij(n,i)&&(t.flags|=32),l4(e,t),En(e,t,o,r),t.child;case 6:return e===null&&dj(t),null;case 13:return u4(e,t,r);case 4:return PS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=rd(t,null,n,r):En(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:aa(n,s),g2(e,t,n,s,r);case 7:return En(e,t,t.pendingProps,r),t.child;case 8:return En(e,t,t.pendingProps.children,r),t.child;case 12:return En(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Xt(ov,n._currentValue),n._currentValue=o,i!==null)if(Sa(i.value,o)){if(i.children===s.children&&!Yn.current){t=qi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Oi(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),fj(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ve(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),fj(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}En(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Au(t,r),s=Us(s),n=n(s),t.flags|=1,En(e,t,n,r),t.child;case 14:return n=t.type,s=aa(n,t.pendingProps),s=aa(n.type,s),v2(e,t,n,s,r);case 15:return i4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:aa(n,s),Lg(e,t),t.tag=1,Qn(n)?(e=!0,sv(t)):e=!1,Au(t,r),n4(t,n,s),mj(t,n,s,r),vj(null,t,n,!0,e,r);case 19:return d4(e,t,r);case 22:return o4(e,t,r)}throw Error(ve(156,t.tag))};function C4(e,t){return e$(e,t)}function qz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(e,t,r,n){return new qz(e,t,r,n)}function WS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bz(e){if(typeof e=="function")return WS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cS)return 11;if(e===uS)return 14}return 2}function Jo(e,t){var r=e.alternate;return r===null?(r=Ts(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qg(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")WS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case du:return nc(r.children,s,i,t);case lS:o=8,s|=8;break;case L0:return e=Ts(12,r,t,s|2),e.elementType=L0,e.lanes=i,e;case F0:return e=Ts(13,r,t,s),e.elementType=F0,e.lanes=i,e;case U0:return e=Ts(19,r,t,s),e.elementType=U0,e.lanes=i,e;case DM:return ux(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $M:o=10;break e;case IM:o=9;break e;case cS:o=11;break e;case uS:o=14;break e;case bo:o=16,n=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=Ts(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function nc(e,t,r,n){return e=Ts(7,e,n,t),e.lanes=r,e}function ux(e,t,r,n){return e=Ts(22,e,n,t),e.elementType=DM,e.lanes=r,e.stateNode={isHidden:!1},e}function bw(e,t,r){return e=Ts(6,e,null,t),e.lanes=r,e}function ww(e,t,r){return t=Ts(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zz(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tw(0),this.expirationTimes=tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tw(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function VS(e,t,r,n,s,i,o,l,c){return e=new zz(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ts(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ES(i),e}function Wz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function E4(e){if(!e)return al;e=e._reactInternals;e:{if(Oc(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(Qn(r))return E$(e,r,t)}return t}function P4(e,t,r,n,s,i,o,l,c){return e=VS(r,n,!0,e,s,i,o,l,c),e.context=E4(null),r=e.current,n=Tn(),s=Xo(r),i=Oi(n,s),i.callback=t??null,Yo(r,i,s),e.current.lanes=s,ep(e,s,n),Xn(e,n),e}function dx(e,t,r,n){var s=t.current,i=Tn(),o=Xo(s);return r=E4(r),t.context===null?t.context=r:t.pendingContext=r,t=Oi(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yo(s,t,o),e!==null&&(xa(e,s,o,i),$g(e,s,o)),o}function vv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function P2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function KS(e,t){P2(e,t),(e=e.alternate)&&P2(e,t)}function Vz(){return null}var O4=typeof reportError=="function"?reportError:function(e){console.error(e)};function HS(e){this._internalRoot=e}fx.prototype.render=HS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));dx(e,t,null,null)};fx.prototype.unmount=HS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dc(function(){dx(null,e,null,null)}),t[Fi]=null}};function fx(e){this._internalRoot=e}fx.prototype.unstable_scheduleHydration=function(e){if(e){var t=o$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<No.length&&t!==0&&t<No[r].priority;r++);No.splice(r,0,e),r===0&&c$(e)}};function GS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function O2(){}function Kz(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=vv(o);i.call(u)}}var o=P4(t,n,e,0,null,!1,!1,"",O2);return e._reactRootContainer=o,e[Fi]=o.current,Fh(e.nodeType===8?e.parentNode:e),dc(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=vv(c);l.call(u)}}var c=VS(e,0,!1,null,null,!1,!1,"",O2);return e._reactRootContainer=c,e[Fi]=c.current,Fh(e.nodeType===8?e.parentNode:e),dc(function(){dx(t,c,r,n)}),c}function mx(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=vv(o);l.call(c)}}dx(t,o,e,s)}else o=Kz(r,t,e,s,n);return vv(o)}a$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rh(t.pendingLanes);r!==0&&(hS(t,r|1),Xn(t,br()),!(_t&6)&&(ad=br()+500,fl()))}break;case 13:dc(function(){var n=Ui(e,1);if(n!==null){var s=Tn();xa(n,e,1,s)}}),KS(e,1)}};mS=function(e){if(e.tag===13){var t=Ui(e,134217728);if(t!==null){var r=Tn();xa(t,e,134217728,r)}KS(e,134217728)}};i$=function(e){if(e.tag===13){var t=Xo(e),r=Ui(e,t);if(r!==null){var n=Tn();xa(r,e,t,n)}KS(e,t)}};o$=function(){return Lt};l$=function(e,t){var r=Lt;try{return Lt=e,t()}finally{Lt=r}};Q0=function(e,t,r){switch(t){case"input":if(z0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=sx(n);if(!s)throw Error(ve(90));FM(n),z0(n,s)}}}break;case"textarea":qM(e,r);break;case"select":t=r.value,t!=null&&Cu(e,!!r.multiple,t,!1)}};GM=qS;YM=dc;var Hz={usingClientEntryPoint:!1,Events:[rp,pu,sx,KM,HM,qS]},Tf={findFiberByHostInstance:Il,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gz={bundleType:Tf.bundleType,version:Tf.version,rendererPackageName:Tf.rendererPackageName,rendererConfig:Tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=JM(e),e===null?null:e.stateNode},findFiberByHostInstance:Tf.findFiberByHostInstance||Vz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{ex=Hp.inject(Gz),Ya=Hp}catch{}}xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hz;xs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GS(t))throw Error(ve(200));return Wz(e,t,null,r)};xs.createRoot=function(e,t){if(!GS(e))throw Error(ve(299));var r=!1,n="",s=O4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=VS(e,1,!1,null,null,r,!1,n,s),e[Fi]=t.current,Fh(e.nodeType===8?e.parentNode:e),new HS(t)};xs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=JM(t),e=e===null?null:e.stateNode,e};xs.flushSync=function(e){return dc(e)};xs.hydrate=function(e,t,r){if(!hx(t))throw Error(ve(200));return mx(null,e,t,!0,r)};xs.hydrateRoot=function(e,t,r){if(!GS(e))throw Error(ve(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=O4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=P4(t,null,e,1,r??null,s,!1,i,o),e[Fi]=t.current,Fh(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new fx(t)};xs.render=function(e,t,r){if(!hx(t))throw Error(ve(200));return mx(null,e,t,!1,r)};xs.unmountComponentAtNode=function(e){if(!hx(e))throw Error(ve(40));return e._reactRootContainer?(dc(function(){mx(null,null,e,!1,function(){e._reactRootContainer=null,e[Fi]=null})}),!0):!1};xs.unstable_batchedUpdates=qS;xs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hx(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return mx(e,t,r,!1,n)};xs.version="18.3.1-next-f1338f8080-20240426";function A4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A4)}catch(e){console.error(e)}}A4(),AM.exports=xs;var Hd=AM.exports;const T4=zt(Hd);var A2=Hd;I0.createRoot=A2.createRoot,I0.hydrateRoot=A2.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(this,arguments)}var qo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qo||(qo={}));const T2="popstate";function Yz(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Pj("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:yv(s)}return Xz(t,r,null,e)}function mr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Qz(){return Math.random().toString(36).substr(2,8)}function R2(e,t){return{usr:e.state,key:e.key,idx:t}}function Pj(e,t,r,n){return r===void 0&&(r=null),Gh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Gd(t):t,{state:r,key:t&&t.key||n||Qz()})}function yv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Gd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Xz(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=qo.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Gh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=qo.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:b})}function h(x,b){l=qo.Push;let v=Pj(p.location,x,b);u=d()+1;let w=R2(v,u),_=p.createHref(v);try{o.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function m(x,b){l=qo.Replace;let v=Pj(p.location,x,b);u=d();let w=R2(v,u),_=p.createHref(v);o.replaceState(w,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function g(x){let b=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:yv(x);return v=v.replace(/ $/,"%20"),mr(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let p={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(T2,f),c=x,()=>{s.removeEventListener(T2,f),c=null}},createHref(x){return t(s,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(x){return o.go(x)}};return p}var M2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(M2||(M2={}));function Jz(e,t,r){return r===void 0&&(r="/"),Zz(e,t,r)}function Zz(e,t,r,n){let s=typeof t=="string"?Gd(t):t,i=id(s.pathname||"/",r);if(i==null)return null;let o=R4(e);eW(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=dW(i);l=cW(o[c],u)}return l}function R4(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(mr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Zo([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(mr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),R4(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:oW(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of M4(i.path))s(i,o,c)}),t}function M4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=M4(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function eW(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:lW(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const tW=/^:[\w-]+$/,rW=3,nW=2,sW=1,aW=10,iW=-2,$2=e=>e==="*";function oW(e,t){let r=e.split("/"),n=r.length;return r.some($2)&&(n+=iW),t&&(n+=nW),r.filter(s=>!$2(s)).reduce((s,i)=>s+(tW.test(i)?rW:i===""?sW:aW),n)}function lW(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function cW(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Oj({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Zo([i,f.pathname]),pathnameBase:gW(Zo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Zo([i,f.pathnameBase]))}return o}function Oj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=uW(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function uW(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),YS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function dW(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return YS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function id(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const fW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hW=e=>fW.test(e);function mW(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Gd(e):e,i;if(r)if(hW(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),YS(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=I2(r.substring(1),"/"):i=I2(r,t)}else i=t;return{pathname:i,search:vW(n),hash:yW(s)}}function I2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function jw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pW(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function QS(e,t){let r=pW(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function XS(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Gd(e):(s=Gh({},e),mr(!s.pathname||!s.pathname.includes("?"),jw("?","pathname","search",s)),mr(!s.pathname||!s.pathname.includes("#"),jw("#","pathname","hash",s)),mr(!s.search||!s.search.includes("#"),jw("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=mW(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Zo=e=>e.join("/").replace(/\/\/+/g,"/"),gW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $4=["post","put","patch","delete"];new Set($4);const bW=["get",...$4];new Set(bW);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yh.apply(this,arguments)}const px=y.createContext(null),I4=y.createContext(null),Xi=y.createContext(null),gx=y.createContext(null),ai=y.createContext({outlet:null,matches:[],isDataRoute:!1}),D4=y.createContext(null);function wW(e,t){let{relative:r}=t===void 0?{}:t;Yd()||mr(!1);let{basename:n,navigator:s}=y.useContext(Xi),{hash:i,pathname:o,search:l}=vx(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Zo([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Yd(){return y.useContext(gx)!=null}function ii(){return Yd()||mr(!1),y.useContext(gx).location}function L4(e){y.useContext(Xi).static||y.useLayoutEffect(e)}function hl(){let{isDataRoute:e}=y.useContext(ai);return e?DW():jW()}function jW(){Yd()||mr(!1);let e=y.useContext(px),{basename:t,future:r,navigator:n}=y.useContext(Xi),{matches:s}=y.useContext(ai),{pathname:i}=ii(),o=JSON.stringify(QS(s,r.v7_relativeSplatPath)),l=y.useRef(!1);return L4(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=XS(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Zo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const _W=y.createContext(null);function SW(e){let t=y.useContext(ai).outlet;return t&&y.createElement(_W.Provider,{value:e},t)}function NW(){let{matches:e}=y.useContext(ai),t=e[e.length-1];return t?t.params:{}}function vx(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(Xi),{matches:s}=y.useContext(ai),{pathname:i}=ii(),o=JSON.stringify(QS(s,n.v7_relativeSplatPath));return y.useMemo(()=>XS(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function kW(e,t){return CW(e,t)}function CW(e,t,r,n){Yd()||mr(!1);let{navigator:s}=y.useContext(Xi),{matches:i}=y.useContext(ai),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ii(),d;if(t){var f;let x=typeof t=="string"?Gd(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||mr(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Jz(e,{pathname:m}),p=TW(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Zo([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Zo([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&p?y.createElement(gx.Provider,{value:{location:Yh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:qo.Pop}},p):p}function EW(){let e=IW(),t=xW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:s},r):null,null)}const PW=y.createElement(EW,null);class OW extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(ai.Provider,{value:this.props.routeContext},y.createElement(D4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AW(e){let{routeContext:t,match:r,children:n}=e,s=y.useContext(px);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(ai.Provider,{value:t},n)}function TW(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||mr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,x=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||PW,c&&(u<0&&h===0?(LW("route-fallback"),g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),v=()=>{let w;return m?w=p:g?w=x:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(AW,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(OW,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var F4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(F4||{}),U4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(U4||{});function RW(e){let t=y.useContext(px);return t||mr(!1),t}function MW(e){let t=y.useContext(I4);return t||mr(!1),t}function $W(e){let t=y.useContext(ai);return t||mr(!1),t}function q4(e){let t=$W(),r=t.matches[t.matches.length-1];return r.route.id||mr(!1),r.route.id}function IW(){var e;let t=y.useContext(D4),r=MW(),n=q4();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function DW(){let{router:e}=RW(F4.UseNavigateStable),t=q4(U4.UseNavigateStable),r=y.useRef(!1);return L4(()=>{r.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Yh({fromRouteId:t},i)))},[e,t])}const D2={};function LW(e,t,r){D2[e]||(D2[e]=!0)}function FW(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function UW(e){let{to:t,replace:r,state:n,relative:s}=e;Yd()||mr(!1);let{future:i,static:o}=y.useContext(Xi),{matches:l}=y.useContext(ai),{pathname:c}=ii(),u=hl(),d=XS(t,QS(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function B4(e){return SW(e.context)}function bt(e){mr(!1)}function qW(e){let{basename:t="/",children:r=null,location:n,navigationType:s=qo.Pop,navigator:i,static:o=!1,future:l}=e;Yd()&&mr(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:Yh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Gd(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=y.useMemo(()=>{let x=id(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:g},navigationType:s}},[c,d,f,h,m,g,s]);return p==null?null:y.createElement(Xi.Provider,{value:u},y.createElement(gx.Provider,{children:r,value:p}))}function BW(e){let{children:t,location:r}=e;return kW(Aj(t),r)}new Promise(()=>{});function Aj(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,s)=>{if(!y.isValidElement(n))return;let i=[...t,s];if(n.type===y.Fragment){r.push.apply(r,Aj(n.props.children,i));return}n.type!==bt&&mr(!1),!n.props.index||!n.props.children||mr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Aj(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(this,arguments)}function z4(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function zW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WW(e,t){return e.button===0&&(!t||t==="_self")&&!zW(e)}function Tj(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function VW(e,t){let r=Tj(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const KW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HW=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],GW="6";try{window.__reactRouterVersion=GW}catch{}const YW=y.createContext({isTransitioning:!1}),QW="startTransition",L2=Zy[QW];function XW(e){let{basename:t,children:r,future:n,window:s}=e,i=y.useRef();i.current==null&&(i.current=Yz({window:s,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=y.useCallback(f=>{u&&L2?L2(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>FW(n),[n]),y.createElement(qW,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const JW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe=y.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=z4(t,KW),{basename:m}=y.useContext(Xi),g,p=!1;if(typeof u=="string"&&ZW.test(u)&&(g=u,JW))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=id(_.pathname,m);_.origin===w.origin&&j!=null?u=j+_.search+_.hash:p=!0}catch{}let x=wW(u,{relative:s}),b=tV(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(w){n&&n(w),w.defaultPrevented||b(w)}return y.createElement("a",xv({},h,{href:g||x,onClick:p||i?n:v,ref:r,target:c}))}),W4=y.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=z4(t,HW),h=vx(c,{relative:f.relative}),m=ii(),g=y.useContext(I4),{navigator:p,basename:x}=y.useContext(Xi),b=g!=null&&rV(h)&&u===!0,v=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,w=m.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(w=w.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&x&&(_=id(_,x)||_);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=w===v||!o&&w.startsWith(v)&&w.charAt(j)==="/",N=_!=null&&(_===v||!o&&_.startsWith(v)&&_.charAt(v.length)==="/"),k={isActive:S,isPending:N,isTransitioning:b},C=S?n:void 0,E;typeof i=="function"?E=i(k):E=[i,S?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(k):l;return y.createElement(fe,xv({},f,{"aria-current":C,className:E,ref:r,style:D,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var Rj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rj||(Rj={}));var F2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(F2||(F2={}));function eV(e){let t=y.useContext(px);return t||mr(!1),t}function tV(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=hl(),u=ii(),d=vx(e,{relative:o});return y.useCallback(f=>{if(WW(f,r)){f.preventDefault();let h=n!==void 0?n:yv(u)===yv(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function V4(e){let t=y.useRef(Tj(e)),r=y.useRef(!1),n=ii(),s=y.useMemo(()=>VW(n.search,r.current?null:t.current),[n.search]),i=hl(),o=y.useCallback((l,c)=>{const u=Tj(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function rV(e,t){t===void 0&&(t={});let r=y.useContext(YW);r==null&&mr(!1);let{basename:n}=eV(Rj.useViewTransitionState),s=vx(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=id(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=id(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Oj(s.pathname,o)!=null||Oj(s.pathname,i)!=null}var Qd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nV={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Oo,eS,cM,sV=(cM=class{constructor(){ze(this,Oo,nV);ze(this,eS,!1)}setTimeoutProvider(e){Ce(this,Oo,e)}setTimeout(e,t){return W(this,Oo).setTimeout(e,t)}clearTimeout(e){W(this,Oo).clearTimeout(e)}setInterval(e,t){return W(this,Oo).setInterval(e,t)}clearInterval(e){W(this,Oo).clearInterval(e)}},Oo=new WeakMap,eS=new WeakMap,cM),Fl=new sV;function aV(e){setTimeout(e,0)}var fc=typeof window>"u"||"Deno"in globalThis;function Pn(){}function iV(e,t){return typeof e=="function"?e(t):e}function Mj(e){return typeof e=="number"&&e>=0&&e!==1/0}function K4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function el(e,t){return typeof e=="function"?e(t):e}function ks(e,t){return typeof e=="function"?e(t):e}function U2(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==JS(o,t.options))return!1}else if(!Qh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function q2(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(hc(t.options.mutationKey)!==hc(i))return!1}else if(!Qh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function JS(e,t){return((t==null?void 0:t.queryKeyHashFn)||hc)(e)}function hc(e){return JSON.stringify(e,(t,r)=>$j(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Qh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Qh(e[r],t[r])):!1}var oV=Object.prototype.hasOwnProperty;function H4(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=B2(e)&&B2(t);if(!n&&!($j(e)&&$j(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:o[d],h=e[f],m=t[f];if(h===m){c[f]=h,(n?d<i:oV.call(e,f))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){c[f]=m;continue}const g=H4(h,m,r+1);c[f]=g,g===h&&u++}return i===l&&u===i?e:c}function bv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function B2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $j(e){if(!z2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!z2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function z2(e){return Object.prototype.toString.call(e)==="[object Object]"}function lV(e){return new Promise(t=>{Fl.setTimeout(t,e)})}function Ij(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?H4(e,t):t}function cV(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function uV(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ZS=Symbol();function G4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ZS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function eN(e,t){return typeof e=="function"?e(...t):!!e}function dV(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var Hl,Ao,qu,uM,fV=(uM=class extends Qd{constructor(){super();ze(this,Hl);ze(this,Ao);ze(this,qu);Ce(this,qu,t=>{if(!fc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){W(this,Ao)||this.setEventListener(W(this,qu))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Ao))==null||t.call(this),Ce(this,Ao,void 0))}setEventListener(t){var r;Ce(this,qu,t),(r=W(this,Ao))==null||r.call(this),Ce(this,Ao,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){W(this,Hl)!==t&&(Ce(this,Hl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof W(this,Hl)=="boolean"?W(this,Hl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Hl=new WeakMap,Ao=new WeakMap,qu=new WeakMap,uM),tN=new fV;function Dj(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var hV=aV;function mV(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=hV;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Br=mV(),Bu,To,zu,dM,pV=(dM=class extends Qd{constructor(){super();ze(this,Bu,!0);ze(this,To);ze(this,zu);Ce(this,zu,t=>{if(!fc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){W(this,To)||this.setEventListener(W(this,zu))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,To))==null||t.call(this),Ce(this,To,void 0))}setEventListener(t){var r;Ce(this,zu,t),(r=W(this,To))==null||r.call(this),Ce(this,To,t(this.setOnline.bind(this)))}setOnline(t){W(this,Bu)!==t&&(Ce(this,Bu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return W(this,Bu)}},Bu=new WeakMap,To=new WeakMap,zu=new WeakMap,dM),wv=new pV;function gV(e){return Math.min(1e3*2**e,3e4)}function Y4(e){return(e??"online")==="online"?wv.isOnline():!0}var Lj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Q4(e){let t=!1,r=0,n;const s=Dj(),i=()=>s.status!=="pending",o=p=>{var x;if(!i()){const b=new Lj(p);h(b),(x=e.onCancel)==null||x.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>tN.isFocused()&&(e.networkMode==="always"||wv.isOnline())&&e.canRun(),d=()=>Y4(e.networkMode)&&e.canRun(),f=p=>{i()||(n==null||n(),s.resolve(p))},h=p=>{i()||(n==null||n(),s.reject(p))},m=()=>new Promise(p=>{var x;n=b=>{(i()||u())&&p(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;n=void 0,i()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(i())return;let p;const x=r===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var S;if(i())return;const v=e.retry??(fc?0:3),w=e.retryDelay??gV,_=typeof w=="function"?w(r,b):w,j=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(t||!j){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),lV(_).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var Gl,fM,X4=(fM=class{constructor(){ze(this,Gl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mj(this.gcTime)&&Ce(this,Gl,Fl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(fc?1/0:5*60*1e3))}clearGcTimeout(){W(this,Gl)&&(Fl.clearTimeout(W(this,Gl)),Ce(this,Gl,void 0))}},Gl=new WeakMap,fM),Yl,Wu,Ns,Ql,Qr,Gm,Xl,oa,pi,hM,vV=(hM=class extends X4{constructor(t){super();ze(this,oa);ze(this,Yl);ze(this,Wu);ze(this,Ns);ze(this,Ql);ze(this,Qr);ze(this,Gm);ze(this,Xl);Ce(this,Xl,!1),Ce(this,Gm,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ce(this,Ql,t.client),Ce(this,Ns,W(this,Ql).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ce(this,Yl,V2(this.options)),this.state=t.state??W(this,Yl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,Qr))==null?void 0:t.promise}setOptions(t){if(this.options={...W(this,Gm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=V2(this.options);r.data!==void 0&&(this.setState(W2(r.data,r.dataUpdatedAt)),Ce(this,Yl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Ns).remove(this)}setData(t,r){const n=Ij(this.state.data,t,this.options);return ct(this,oa,pi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ct(this,oa,pi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=W(this,Qr))==null?void 0:n.promise;return(s=W(this,Qr))==null||s.cancel(t),r?r.then(Pn).catch(Pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Yl))}isActive(){return this.observers.some(t=>ks(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ZS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>el(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!K4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,Qr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,Qr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,Ns).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(W(this,Qr)&&(W(this,Xl)?W(this,Qr).cancel({revert:!0}):W(this,Qr).cancelRetry()),this.scheduleGc()),W(this,Ns).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ct(this,oa,pi).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,g,p,x,b,v,w;if(this.state.fetchStatus!=="idle"&&((c=W(this,Qr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,Qr))return W(this,Qr).continueRetry(),W(this,Qr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(j=>j.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Ce(this,Xl,!0),n.signal)})},i=()=>{const _=G4(this.options,r),S=(()=>{const N={client:W(this,Ql),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return Ce(this,Xl,!1),this.options.persister?this.options.persister(_,S,this):_(S)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:W(this,Ql),state:this.state,fetchFn:i};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Ce(this,Wu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ct(this,oa,pi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Ce(this,Qr,Q4({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof Lj&&_.revert&&this.setState({...W(this,Wu),fetchStatus:"idle"}),n.abort()},onFail:(_,j)=>{ct(this,oa,pi).call(this,{type:"failed",failureCount:_,error:j})},onPause:()=>{ct(this,oa,pi).call(this,{type:"pause"})},onContinue:()=>{ct(this,oa,pi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await W(this,Qr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(m=(h=W(this,Ns).config).onSuccess)==null||m.call(h,_,this),(p=(g=W(this,Ns).config).onSettled)==null||p.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof Lj){if(_.silent)return W(this,Qr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw ct(this,oa,pi).call(this,{type:"error",error:_}),(b=(x=W(this,Ns).config).onError)==null||b.call(x,_,this),(w=(v=W(this,Ns).config).onSettled)==null||w.call(v,this.state.data,_,this),_}finally{this.scheduleGc()}}},Yl=new WeakMap,Wu=new WeakMap,Ns=new WeakMap,Ql=new WeakMap,Qr=new WeakMap,Gm=new WeakMap,Xl=new WeakMap,oa=new WeakSet,pi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...J4(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...W2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ce(this,Wu,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Br.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),W(this,Ns).notify({query:this,type:"updated",action:t})})},hM);function J4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function W2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function V2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var qn,wt,Ym,kn,Jl,Vu,xi,Ro,Qm,Ku,Hu,Zl,ec,Mo,Gu,$t,sh,Fj,Uj,qj,Bj,zj,Wj,Vj,Z4,mM,yV=(mM=class extends Qd{constructor(t,r){super();ze(this,$t);ze(this,qn);ze(this,wt);ze(this,Ym);ze(this,kn);ze(this,Jl);ze(this,Vu);ze(this,xi);ze(this,Ro);ze(this,Qm);ze(this,Ku);ze(this,Hu);ze(this,Zl);ze(this,ec);ze(this,Mo);ze(this,Gu,new Set);this.options=r,Ce(this,qn,t),Ce(this,Ro,null),Ce(this,xi,Dj()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,wt).addObserver(this),K2(W(this,wt),this.options)?ct(this,$t,sh).call(this):this.updateResult(),ct(this,$t,Bj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kj(W(this,wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kj(W(this,wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ct(this,$t,zj).call(this),ct(this,$t,Wj).call(this),W(this,wt).removeObserver(this)}setOptions(t){const r=this.options,n=W(this,wt);if(this.options=W(this,qn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ks(this.options.enabled,W(this,wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ct(this,$t,Vj).call(this),W(this,wt).setOptions(this.options),r._defaulted&&!bv(this.options,r)&&W(this,qn).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,wt),observer:this});const s=this.hasListeners();s&&H2(W(this,wt),n,this.options,r)&&ct(this,$t,sh).call(this),this.updateResult(),s&&(W(this,wt)!==n||ks(this.options.enabled,W(this,wt))!==ks(r.enabled,W(this,wt))||el(this.options.staleTime,W(this,wt))!==el(r.staleTime,W(this,wt)))&&ct(this,$t,Fj).call(this);const i=ct(this,$t,Uj).call(this);s&&(W(this,wt)!==n||ks(this.options.enabled,W(this,wt))!==ks(r.enabled,W(this,wt))||i!==W(this,Mo))&&ct(this,$t,qj).call(this,i)}getOptimisticResult(t){const r=W(this,qn).getQueryCache().build(W(this,qn),t),n=this.createResult(r,t);return bV(this,n)&&(Ce(this,kn,n),Ce(this,Vu,this.options),Ce(this,Jl,W(this,wt).state)),n}getCurrentResult(){return W(this,kn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&W(this,xi).status==="pending"&&W(this,xi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){W(this,Gu).add(t)}getCurrentQuery(){return W(this,wt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=W(this,qn).defaultQueryOptions(t),n=W(this,qn).getQueryCache().build(W(this,qn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ct(this,$t,sh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,kn)))}createResult(t,r){var C;const n=W(this,wt),s=this.options,i=W(this,kn),o=W(this,Jl),l=W(this,Vu),u=t!==n?t.state:W(this,Ym),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const E=this.hasListeners(),D=!E&&K2(t,r),O=E&&H2(t,n,r,s);(D||O)&&(f={...f,...J4(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:x}=f;m=f.data;let b=!1;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let E;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(E=i.data,b=!0):E=typeof r.placeholderData=="function"?r.placeholderData((C=W(this,Hu))==null?void 0:C.state.data,W(this,Hu)):r.placeholderData,E!==void 0&&(x="success",m=Ij(i==null?void 0:i.data,E,r),h=!0)}if(r.select&&m!==void 0&&!b)if(i&&m===(o==null?void 0:o.data)&&r.select===W(this,Qm))m=W(this,Ku);else try{Ce(this,Qm,r.select),m=r.select(m),m=Ij(i==null?void 0:i.data,m,r),Ce(this,Ku,m),Ce(this,Ro,null)}catch(E){Ce(this,Ro,E)}W(this,Ro)&&(g=W(this,Ro),m=W(this,Ku),p=Date.now(),x="error");const v=f.fetchStatus==="fetching",w=x==="pending",_=x==="error",j=w&&v,S=m!==void 0,k={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:_,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:_&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:rN(t,r),refetch:this.refetch,promise:W(this,xi),isEnabled:ks(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=k.data!==void 0,D=k.status==="error"&&!E,O=V=>{D?V.reject(k.error):E&&V.resolve(k.data)},q=()=>{const V=Ce(this,xi,k.promise=Dj());O(V)},A=W(this,xi);switch(A.status){case"pending":t.queryHash===n.queryHash&&O(A);break;case"fulfilled":(D||k.data!==A.value)&&q();break;case"rejected":(!D||k.error!==A.reason)&&q();break}}return k}updateResult(){const t=W(this,kn),r=this.createResult(W(this,wt),this.options);if(Ce(this,Jl,W(this,wt).state),Ce(this,Vu,this.options),W(this,Jl).data!==void 0&&Ce(this,Hu,W(this,wt)),bv(r,t))return;Ce(this,kn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!W(this,Gu).size)return!0;const o=new Set(i??W(this,Gu));return this.options.throwOnError&&o.add("error"),Object.keys(W(this,kn)).some(l=>{const c=l;return W(this,kn)[c]!==t[c]&&o.has(c)})};ct(this,$t,Z4).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ct(this,$t,Bj).call(this)}},qn=new WeakMap,wt=new WeakMap,Ym=new WeakMap,kn=new WeakMap,Jl=new WeakMap,Vu=new WeakMap,xi=new WeakMap,Ro=new WeakMap,Qm=new WeakMap,Ku=new WeakMap,Hu=new WeakMap,Zl=new WeakMap,ec=new WeakMap,Mo=new WeakMap,Gu=new WeakMap,$t=new WeakSet,sh=function(t){ct(this,$t,Vj).call(this);let r=W(this,wt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Pn)),r},Fj=function(){ct(this,$t,zj).call(this);const t=el(this.options.staleTime,W(this,wt));if(fc||W(this,kn).isStale||!Mj(t))return;const n=K4(W(this,kn).dataUpdatedAt,t)+1;Ce(this,Zl,Fl.setTimeout(()=>{W(this,kn).isStale||this.updateResult()},n))},Uj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,wt)):this.options.refetchInterval)??!1},qj=function(t){ct(this,$t,Wj).call(this),Ce(this,Mo,t),!(fc||ks(this.options.enabled,W(this,wt))===!1||!Mj(W(this,Mo))||W(this,Mo)===0)&&Ce(this,ec,Fl.setInterval(()=>{(this.options.refetchIntervalInBackground||tN.isFocused())&&ct(this,$t,sh).call(this)},W(this,Mo)))},Bj=function(){ct(this,$t,Fj).call(this),ct(this,$t,qj).call(this,ct(this,$t,Uj).call(this))},zj=function(){W(this,Zl)&&(Fl.clearTimeout(W(this,Zl)),Ce(this,Zl,void 0))},Wj=function(){W(this,ec)&&(Fl.clearInterval(W(this,ec)),Ce(this,ec,void 0))},Vj=function(){const t=W(this,qn).getQueryCache().build(W(this,qn),this.options);if(t===W(this,wt))return;const r=W(this,wt);Ce(this,wt,t),Ce(this,Ym,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Z4=function(t){Br.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(W(this,kn))}),W(this,qn).getQueryCache().notify({query:W(this,wt),type:"observerResultsUpdated"})})},mM);function xV(e,t){return ks(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function K2(e,t){return xV(e,t)||e.state.data!==void 0&&Kj(e,t,t.refetchOnMount)}function Kj(e,t,r){if(ks(t.enabled,e)!==!1&&el(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&rN(e,t)}return!1}function H2(e,t,r,n){return(e!==t||ks(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&rN(e,r)}function rN(e,t){return ks(t.enabled,e)!==!1&&e.isStaleByTime(el(t.staleTime,e))}function bV(e,t){return!bv(e.getCurrentResult(),t)}function G2(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=w=>{dV(w,()=>t.signal,()=>p=!0)},b=G4(t.options,t.fetchOptions),v=async(w,_,j)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return x(D),D})(),k=await b(N),{maxPages:C}=t.options,E=j?uV:cV;return{pages:E(w.pages,k,C),pageParams:E(w.pageParams,_,C)}};if(s&&i.length){const w=s==="backward",_=w?wV:Y2,j={pages:i,pageParams:o},S=_(n,j);l=await v(j,S,w)}else{const w=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:Y2(n,l);if(c>0&&_==null)break;l=await v(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Y2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function wV(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Xm,Ua,gn,tc,qa,vo,pM,jV=(pM=class extends X4{constructor(t){super();ze(this,qa);ze(this,Xm);ze(this,Ua);ze(this,gn);ze(this,tc);Ce(this,Xm,t.client),this.mutationId=t.mutationId,Ce(this,gn,t.mutationCache),Ce(this,Ua,[]),this.state=t.state||eI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,Ua).includes(t)||(W(this,Ua).push(t),this.clearGcTimeout(),W(this,gn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ce(this,Ua,W(this,Ua).filter(r=>r!==t)),this.scheduleGc(),W(this,gn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,Ua).length||(this.state.status==="pending"?this.scheduleGc():W(this,gn).remove(this))}continue(){var t;return((t=W(this,tc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,g,p,x,b,v,w,_,j,S,N;const r=()=>{ct(this,qa,vo).call(this,{type:"continue"})},n={client:W(this,Xm),meta:this.options.meta,mutationKey:this.options.mutationKey};Ce(this,tc,Q4({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{ct(this,qa,vo).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{ct(this,qa,vo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,gn).canRun(this)}));const s=this.state.status==="pending",i=!W(this,tc).canStart();try{if(s)r();else{ct(this,qa,vo).call(this,{type:"pending",variables:t,isPaused:i}),W(this,gn).config.onMutate&&await W(this,gn).config.onMutate(t,this,n);const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));C!==this.state.context&&ct(this,qa,vo).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const k=await W(this,tc).start();return await((u=(c=W(this,gn).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,n)),await((m=(h=W(this,gn).config).onSettled)==null?void 0:m.call(h,k,null,this.state.variables,this.state.context,this,n)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,k,null,t,this.state.context,n)),ct(this,qa,vo).call(this,{type:"success",data:k}),k}catch(k){try{await((b=(x=W(this,gn).config).onError)==null?void 0:b.call(x,k,t,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((w=(v=this.options).onError)==null?void 0:w.call(v,k,t,this.state.context,n))}catch(C){Promise.reject(C)}try{await((j=(_=W(this,gn).config).onSettled)==null?void 0:j.call(_,void 0,k,this.state.variables,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((N=(S=this.options).onSettled)==null?void 0:N.call(S,void 0,k,t,this.state.context,n))}catch(C){Promise.reject(C)}throw ct(this,qa,vo).call(this,{type:"error",error:k}),k}finally{W(this,gn).runNext(this)}}},Xm=new WeakMap,Ua=new WeakMap,gn=new WeakMap,tc=new WeakMap,qa=new WeakSet,vo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Br.batch(()=>{W(this,Ua).forEach(n=>{n.onMutationUpdate(t)}),W(this,gn).notify({mutation:this,type:"updated",action:t})})},pM);function eI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bi,la,Jm,gM,_V=(gM=class extends Qd{constructor(t={}){super();ze(this,bi);ze(this,la);ze(this,Jm);this.config=t,Ce(this,bi,new Set),Ce(this,la,new Map),Ce(this,Jm,0)}build(t,r,n){const s=new jV({client:t,mutationCache:this,mutationId:++Pp(this,Jm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){W(this,bi).add(t);const r=Gp(t);if(typeof r=="string"){const n=W(this,la).get(r);n?n.push(t):W(this,la).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(W(this,bi).delete(t)){const r=Gp(t);if(typeof r=="string"){const n=W(this,la).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&W(this,la).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Gp(t);if(typeof r=="string"){const n=W(this,la).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Gp(t);if(typeof r=="string"){const s=(n=W(this,la).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Br.batch(()=>{W(this,bi).forEach(t=>{this.notify({type:"removed",mutation:t})}),W(this,bi).clear(),W(this,la).clear()})}getAll(){return Array.from(W(this,bi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>q2(r,n))}findAll(t={}){return this.getAll().filter(r=>q2(t,r))}notify(t){Br.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Br.batch(()=>Promise.all(t.map(r=>r.continue().catch(Pn))))}},bi=new WeakMap,la=new WeakMap,Jm=new WeakMap,gM);function Gp(e){var t;return(t=e.options.scope)==null?void 0:t.id}var wi,$o,Bn,ji,Di,Bg,Hj,vM,SV=(vM=class extends Qd{constructor(r,n){super();ze(this,Di);ze(this,wi);ze(this,$o);ze(this,Bn);ze(this,ji);Ce(this,wi,r),this.setOptions(n),this.bindMethods(),ct(this,Di,Bg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=W(this,wi).defaultMutationOptions(r),bv(this.options,n)||W(this,wi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,Bn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&hc(n.mutationKey)!==hc(this.options.mutationKey)?this.reset():((s=W(this,Bn))==null?void 0:s.state.status)==="pending"&&W(this,Bn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=W(this,Bn))==null||r.removeObserver(this)}onMutationUpdate(r){ct(this,Di,Bg).call(this),ct(this,Di,Hj).call(this,r)}getCurrentResult(){return W(this,$o)}reset(){var r;(r=W(this,Bn))==null||r.removeObserver(this),Ce(this,Bn,void 0),ct(this,Di,Bg).call(this),ct(this,Di,Hj).call(this)}mutate(r,n){var s;return Ce(this,ji,n),(s=W(this,Bn))==null||s.removeObserver(this),Ce(this,Bn,W(this,wi).getMutationCache().build(W(this,wi),this.options)),W(this,Bn).addObserver(this),W(this,Bn).execute(r)}},wi=new WeakMap,$o=new WeakMap,Bn=new WeakMap,ji=new WeakMap,Di=new WeakSet,Bg=function(){var n;const r=((n=W(this,Bn))==null?void 0:n.state)??eI();Ce(this,$o,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Hj=function(r){Br.batch(()=>{var n,s,i,o,l,c,u,d;if(W(this,ji)&&this.hasListeners()){const f=W(this,$o).variables,h=W(this,$o).context,m={client:W(this,wi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=W(this,ji)).onSuccess)==null||s.call(n,r.data,f,h,m)}catch(g){Promise.reject(g)}try{(o=(i=W(this,ji)).onSettled)==null||o.call(i,r.data,null,f,h,m)}catch(g){Promise.reject(g)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=W(this,ji)).onError)==null||c.call(l,r.error,f,h,m)}catch(g){Promise.reject(g)}try{(d=(u=W(this,ji)).onSettled)==null||d.call(u,void 0,r.error,f,h,m)}catch(g){Promise.reject(g)}}}this.listeners.forEach(f=>{f(W(this,$o))})})},vM),Ba,yM,NV=(yM=class extends Qd{constructor(t={}){super();ze(this,Ba);this.config=t,Ce(this,Ba,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??JS(s,r);let o=this.get(i);return o||(o=new vV({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){W(this,Ba).has(t.queryHash)||(W(this,Ba).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=W(this,Ba).get(t.queryHash);r&&(t.destroy(),r===t&&W(this,Ba).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Br.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,Ba).get(t)}getAll(){return[...W(this,Ba).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>U2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>U2(t,n)):r}notify(t){Br.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Br.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Br.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ba=new WeakMap,yM),gr,Io,Do,Yu,Qu,Lo,Xu,Ju,xM,kV=(xM=class{constructor(e={}){ze(this,gr);ze(this,Io);ze(this,Do);ze(this,Yu);ze(this,Qu);ze(this,Lo);ze(this,Xu);ze(this,Ju);Ce(this,gr,e.queryCache||new NV),Ce(this,Io,e.mutationCache||new _V),Ce(this,Do,e.defaultOptions||{}),Ce(this,Yu,new Map),Ce(this,Qu,new Map),Ce(this,Lo,0)}mount(){Pp(this,Lo)._++,W(this,Lo)===1&&(Ce(this,Xu,tN.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,gr).onFocus())})),Ce(this,Ju,wv.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,gr).onOnline())})))}unmount(){var e,t;Pp(this,Lo)._--,W(this,Lo)===0&&((e=W(this,Xu))==null||e.call(this),Ce(this,Xu,void 0),(t=W(this,Ju))==null||t.call(this),Ce(this,Ju,void 0))}isFetching(e){return W(this,gr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,Io).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,gr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=W(this,gr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(el(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return W(this,gr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=W(this,gr).get(n.queryHash),i=s==null?void 0:s.state.data,o=iV(t,i);if(o!==void 0)return W(this,gr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Br.batch(()=>W(this,gr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,gr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=W(this,gr);Br.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=W(this,gr);return Br.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Br.batch(()=>W(this,gr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Pn).catch(Pn)}invalidateQueries(e,t={}){return Br.batch(()=>(W(this,gr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Br.batch(()=>W(this,gr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Pn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Pn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=W(this,gr).build(this,t);return r.isStaleByTime(el(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Pn).catch(Pn)}fetchInfiniteQuery(e){return e.behavior=G2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Pn).catch(Pn)}ensureInfiniteQueryData(e){return e.behavior=G2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wv.isOnline()?W(this,Io).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,gr)}getMutationCache(){return W(this,Io)}getDefaultOptions(){return W(this,Do)}setDefaultOptions(e){Ce(this,Do,e)}setQueryDefaults(e,t){W(this,Yu).set(hc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,Yu).values()],r={};return t.forEach(n=>{Qh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){W(this,Qu).set(hc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,Qu).values()],r={};return t.forEach(n=>{Qh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,Do).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=JS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ZS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,Do).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,gr).clear(),W(this,Io).clear()}},gr=new WeakMap,Io=new WeakMap,Do=new WeakMap,Yu=new WeakMap,Qu=new WeakMap,Lo=new WeakMap,Xu=new WeakMap,Ju=new WeakMap,xM),tI=y.createContext(void 0),de=e=>{const t=y.useContext(tI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},CV=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(tI.Provider,{value:e,children:t})),rI=y.createContext(!1),EV=()=>y.useContext(rI);rI.Provider;function PV(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var OV=y.createContext(PV()),AV=()=>y.useContext(OV),TV=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?eN(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},RV=e=>{y.useEffect(()=>{e.clearReset()},[e])},MV=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||eN(r,[e.error,n])),$V=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},IV=(e,t)=>e.isLoading&&e.isFetching&&!t,DV=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Q2=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function LV(e,t,r){var h,m,g,p;const n=EV(),s=AV(),i=de(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",$V(o),TV(o,s,l),RV(s);const c=!i.getQueryCache().get(o.queryHash),[u]=y.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(x=>{const b=f?u.subscribe(Br.batchCalls(x)):Pn;return u.updateResult(),b},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),y.useEffect(()=>{u.setOptions(o)},[o,u]),DV(o,d))throw Q2(o,u,s);if(MV({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((p=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||p.call(g,o,d),o.experimental_prefetchInRender&&!fc&&IV(d,n)){const x=c?Q2(o,u,s):l==null?void 0:l.promise;x==null||x.catch(Pn).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function ke(e,t){return LV(e,yV)}function ue(e,t){const r=de(),[n]=y.useState(()=>new SV(r,e));y.useEffect(()=>{n.setOptions(e)},[n,e]);const s=y.useSyncExternalStore(y.useCallback(o=>n.subscribe(Br.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=y.useCallback((o,l)=>{n.mutate(o,l).catch(Pn)},[n]);if(s.error&&eN(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var FV=e=>{switch(e){case"success":return BV;case"info":return WV;case"warning":return zV;case"error":return VV;default:return null}},UV=Array(12).fill(0),qV=({visible:e,className:t})=>R.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},R.createElement("div",{className:"sonner-spinner"},UV.map((r,n)=>R.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),BV=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zV=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WV=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),VV=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),KV=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},R.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),R.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HV=()=>{let[e,t]=R.useState(document.hidden);return R.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Gj=1,GV=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Gj++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],R.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(QV(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Gj++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},zn=new GV,YV=(e,t)=>{let r=(t==null?void 0:t.id)||Gj++;return zn.addToast({title:e,...t,id:r}),r},QV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",XV=YV,JV=()=>zn.toasts,ZV=()=>zn.getActiveToasts(),B=Object.assign(XV,{success:zn.success,info:zn.info,warning:zn.warning,error:zn.error,custom:zn.custom,message:zn.message,promise:zn.promise,dismiss:zn.dismiss,loading:zn.loading},{getHistory:JV,getToasts:ZV});function e9(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}e9(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Yp(e){return e.label!==void 0}var t9=3,r9="32px",n9="16px",X2=4e3,s9=356,a9=14,i9=20,o9=200;function ea(...e){return e.filter(Boolean).join(" ")}function l9(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var c9=e=>{var t,r,n,s,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:x,visibleToasts:b,heights:v,index:w,toasts:_,expanded:j,removeToast:S,defaultRichColors:N,closeButton:k,style:C,cancelButtonStyle:E,actionButtonStyle:D,className:O="",descriptionClassName:q="",duration:A,position:V,gap:T,loadingIcon:K,expandByDefault:M,classNames:$,icons:I,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:L}=e,[oe,ye]=R.useState(null),[Ve,Ke]=R.useState(null),[he,Be]=R.useState(!1),[ae,_e]=R.useState(!1),[Y,Q]=R.useState(!1),[Xe,He]=R.useState(!1),[xt,ft]=R.useState(!1),[Wt,Nr]=R.useState(0),[fn,ws]=R.useState(0),U=R.useRef(m.duration||A||X2),G=R.useRef(null),z=R.useRef(null),ce=w===0,pe=w+1<=b,se=m.type,Ne=m.dismissible!==!1,Ot=m.className||"",At=m.descriptionClassName||"",kr=R.useMemo(()=>v.findIndex(st=>st.toastId===m.id)||0,[v,m.id]),di=R.useMemo(()=>{var st;return(st=m.closeButton)!=null?st:k},[m.closeButton,k]),Ys=R.useMemo(()=>m.duration||A||X2,[m.duration,A]),_f=R.useRef(0),Ia=R.useRef(0),Bc=R.useRef(0),oo=R.useRef(null),[Ep,Hb]=V.split("-"),Sf=R.useMemo(()=>v.reduce((st,Ut,ar)=>ar>=kr?st:st+Ut.height,0),[v,kr]),wC=HV(),w6=m.invert||h,Gb=se==="loading";Ia.current=R.useMemo(()=>kr*T+Sf,[kr,Sf]),R.useEffect(()=>{U.current=Ys},[Ys]),R.useEffect(()=>{Be(!0)},[]),R.useEffect(()=>{let st=z.current;if(st){let Ut=st.getBoundingClientRect().height;return ws(Ut),x(ar=>[{toastId:m.id,height:Ut,position:m.position},...ar]),()=>x(ar=>ar.filter(Qs=>Qs.toastId!==m.id))}},[x,m.id]),R.useLayoutEffect(()=>{if(!he)return;let st=z.current,Ut=st.style.height;st.style.height="auto";let ar=st.getBoundingClientRect().height;st.style.height=Ut,ws(ar),x(Qs=>Qs.find(Xs=>Xs.toastId===m.id)?Qs.map(Xs=>Xs.toastId===m.id?{...Xs,height:ar}:Xs):[{toastId:m.id,height:ar,position:m.position},...Qs])},[he,m.title,m.description,x,m.id]);let lo=R.useCallback(()=>{_e(!0),Nr(Ia.current),x(st=>st.filter(Ut=>Ut.toastId!==m.id)),setTimeout(()=>{S(m)},o9)},[m,S,x,Ia]);R.useEffect(()=>{if(m.promise&&se==="loading"||m.duration===1/0||m.type==="loading")return;let st;return j||p||L&&wC?(()=>{if(Bc.current<_f.current){let Ut=new Date().getTime()-_f.current;U.current=U.current-Ut}Bc.current=new Date().getTime()})():U.current!==1/0&&(_f.current=new Date().getTime(),st=setTimeout(()=>{var Ut;(Ut=m.onAutoClose)==null||Ut.call(m,m),lo()},U.current)),()=>clearTimeout(st)},[j,p,m,se,L,wC,lo]),R.useEffect(()=>{m.delete&&lo()},[lo,m.delete]);function j6(){var st,Ut,ar;return I!=null&&I.loading?R.createElement("div",{className:ea($==null?void 0:$.loader,(st=m==null?void 0:m.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":se==="loading"},I.loading):K?R.createElement("div",{className:ea($==null?void 0:$.loader,(Ut=m==null?void 0:m.classNames)==null?void 0:Ut.loader,"sonner-loader"),"data-visible":se==="loading"},K):R.createElement(qV,{className:ea($==null?void 0:$.loader,(ar=m==null?void 0:m.classNames)==null?void 0:ar.loader),visible:se==="loading"})}return R.createElement("li",{tabIndex:0,ref:z,className:ea(O,Ot,$==null?void 0:$.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[se],(r=m==null?void 0:m.classNames)==null?void 0:r[se]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":he,"data-promise":!!m.promise,"data-swiped":xt,"data-removed":ae,"data-visible":pe,"data-y-position":Ep,"data-x-position":Hb,"data-index":w,"data-front":ce,"data-swiping":Y,"data-dismissible":Ne,"data-type":se,"data-invert":w6,"data-swipe-out":Xe,"data-swipe-direction":Ve,"data-expanded":!!(j||M&&he),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${ae?Wt:Ia.current}px`,"--initial-height":M?"auto":`${fn}px`,...C,...m.style},onDragEnd:()=>{Q(!1),ye(null),oo.current=null},onPointerDown:st=>{Gb||!Ne||(G.current=new Date,Nr(Ia.current),st.target.setPointerCapture(st.pointerId),st.target.tagName!=="BUTTON"&&(Q(!0),oo.current={x:st.clientX,y:st.clientY}))},onPointerUp:()=>{var st,Ut,ar,Qs;if(Xe||!Ne)return;oo.current=null;let Xs=Number(((st=z.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),co=Number(((Ut=z.current)==null?void 0:Ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jl=new Date().getTime()-((ar=G.current)==null?void 0:ar.getTime()),Js=oe==="x"?Xs:co,uo=Math.abs(Js)/jl;if(Math.abs(Js)>=i9||uo>.11){Nr(Ia.current),(Qs=m.onDismiss)==null||Qs.call(m,m),Ke(oe==="x"?Xs>0?"right":"left":co>0?"down":"up"),lo(),He(!0),ft(!1);return}Q(!1),ye(null)},onPointerMove:st=>{var Ut,ar,Qs,Xs;if(!oo.current||!Ne||((Ut=window.getSelection())==null?void 0:Ut.toString().length)>0)return;let co=st.clientY-oo.current.y,jl=st.clientX-oo.current.x,Js=(ar=e.swipeDirections)!=null?ar:l9(V);!oe&&(Math.abs(jl)>1||Math.abs(co)>1)&&ye(Math.abs(jl)>Math.abs(co)?"x":"y");let uo={x:0,y:0};oe==="y"?(Js.includes("top")||Js.includes("bottom"))&&(Js.includes("top")&&co<0||Js.includes("bottom")&&co>0)&&(uo.y=co):oe==="x"&&(Js.includes("left")||Js.includes("right"))&&(Js.includes("left")&&jl<0||Js.includes("right")&&jl>0)&&(uo.x=jl),(Math.abs(uo.x)>0||Math.abs(uo.y)>0)&&ft(!0),(Qs=z.current)==null||Qs.style.setProperty("--swipe-amount-x",`${uo.x}px`),(Xs=z.current)==null||Xs.style.setProperty("--swipe-amount-y",`${uo.y}px`)}},di&&!m.jsx?R.createElement("button",{"aria-label":ee,"data-disabled":Gb,"data-close-button":!0,onClick:Gb||!Ne?()=>{}:()=>{var st;lo(),(st=m.onDismiss)==null||st.call(m,m)},className:ea($==null?void 0:$.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=I==null?void 0:I.close)!=null?i:KV):null,m.jsx||y.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:R.createElement(R.Fragment,null,se||m.icon||m.promise?R.createElement("div",{"data-icon":"",className:ea($==null?void 0:$.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||j6():null,m.type!=="loading"?m.icon||(I==null?void 0:I[se])||FV(se):null):null,R.createElement("div",{"data-content":"",className:ea($==null?void 0:$.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},R.createElement("div",{"data-title":"",className:ea($==null?void 0:$.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?R.createElement("div",{"data-description":"",className:ea(q,At,$==null?void 0:$.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),y.isValidElement(m.cancel)?m.cancel:m.cancel&&Yp(m.cancel)?R.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:st=>{var Ut,ar;Yp(m.cancel)&&Ne&&((ar=(Ut=m.cancel).onClick)==null||ar.call(Ut,st),lo())},className:ea($==null?void 0:$.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,y.isValidElement(m.action)?m.action:m.action&&Yp(m.action)?R.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:st=>{var Ut,ar;Yp(m.action)&&((ar=(Ut=m.action).onClick)==null||ar.call(Ut,st),!st.defaultPrevented&&lo())},className:ea($==null?void 0:$.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function J2(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function u9(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?n9:r9;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var d9=y.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=t9,toastOptions:p,dir:x=J2(),gap:b=a9,loadingIcon:v,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[S,N]=R.useState([]),k=R.useMemo(()=>Array.from(new Set([n].concat(S.filter(L=>L.position).map(L=>L.position)))),[S,n]),[C,E]=R.useState([]),[D,O]=R.useState(!1),[q,A]=R.useState(!1),[V,T]=R.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=R.useRef(null),M=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=R.useRef(null),I=R.useRef(!1),ee=R.useCallback(L=>{N(oe=>{var ye;return(ye=oe.find(Ve=>Ve.id===L.id))!=null&&ye.delete||zn.dismiss(L.id),oe.filter(({id:Ve})=>Ve!==L.id)})},[]);return R.useEffect(()=>zn.subscribe(L=>{if(L.dismiss){N(oe=>oe.map(ye=>ye.id===L.id?{...ye,delete:!0}:ye));return}setTimeout(()=>{T4.flushSync(()=>{N(oe=>{let ye=oe.findIndex(Ve=>Ve.id===L.id);return ye!==-1?[...oe.slice(0,ye),{...oe[ye],...L},...oe.slice(ye+1)]:[L,...oe]})})})}),[]),R.useEffect(()=>{if(d!=="system"){T(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;let L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:oe})=>{T(oe?"dark":"light")})}catch{L.addListener(({matches:ye})=>{try{T(ye?"dark":"light")}catch(Ve){console.error(Ve)}})}},[d]),R.useEffect(()=>{S.length<=1&&O(!1)},[S]),R.useEffect(()=>{let L=oe=>{var ye,Ve;s.every(Ke=>oe[Ke]||oe.code===Ke)&&(O(!0),(ye=K.current)==null||ye.focus()),oe.code==="Escape"&&(document.activeElement===K.current||(Ve=K.current)!=null&&Ve.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[s]),R.useEffect(()=>{if(K.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,I.current=!1)}},[K.current]),R.createElement("section",{ref:t,"aria-label":`${_} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((L,oe)=>{var ye;let[Ve,Ke]=L.split("-");return S.length?R.createElement("ol",{key:L,dir:x==="auto"?J2():x,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":Ve,"data-lifted":D&&S.length>1&&!i,"data-x-position":Ke,style:{"--front-toast-height":`${((ye=C[0])==null?void 0:ye.height)||0}px`,"--width":`${s9}px`,"--gap":`${b}px`,...m,...u9(c,u)},onBlur:he=>{I.current&&!he.currentTarget.contains(he.relatedTarget)&&(I.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||I.current||(I.current=!0,$.current=he.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{q||O(!1)},onDragEnd:()=>O(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},S.filter(he=>!he.position&&oe===0||he.position===L).map((he,Be)=>{var ae,_e;return R.createElement(c9,{key:he.id,icons:w,index:Be,toast:he,defaultRichColors:f,duration:(ae=p==null?void 0:p.duration)!=null?ae:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(_e=p==null?void 0:p.closeButton)!=null?_e:o,interacting:q,position:L,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ee,toasts:S.filter(Y=>Y.position==he.position),heights:C.filter(Y=>Y.position==he.position),setHeights:E,expandByDefault:i,gap:b,loadingIcon:v,expanded:D,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))}),Wa=function(){return Wa=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Wa.apply(this,arguments)};function Xd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function f9(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function h9(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const m9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class nN extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class p9 extends nN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Z2 extends nN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class eE extends nN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Yj||(Yj={}));class g9{constructor(t,{headers:r={},customFetch:n,region:s=Yj.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=m9(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return f9(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let x=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:x}).catch(j=>{throw new p9(j)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new Z2(b);if(!b.ok)throw new eE(b);let w=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof eE||l instanceof Z2?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var v9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},y9=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new v9(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},x9=class extends y9{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const tE=new RegExp("[,()]");var au=class extends x9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&tE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&tE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},b9=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new au({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new au({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new au({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new au({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new au({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},w9=class nI{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new b9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new nI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new au({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class j9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const _9="2.93.3",S9=`realtime-js/${_9}`,N9="1.0.0",sI="2.0.0",rE=sI,Qj=1e4,k9=1e3,C9=100;var jo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(jo||(jo={}));var Ur;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ur||(Ur={}));var ua;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ua||(ua={}));var Xj;(function(e){e.websocket="websocket"})(Xj||(Xj={}));var Rl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Rl||(Rl={}));class E9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,o.length),g.setUint8(p++,u.length),g.setUint8(p++,f.length),g.setUint8(p++,r),Array.from(c,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(p++,b.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class aI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Gt||(Gt={}));const nE=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=P9(o,e,t,s),i),{}):{}},P9=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?iI(i,o):Jj(o)},iI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return R9(t,r)}switch(e){case Gt.bool:return O9(t);case Gt.float4:case Gt.float8:case Gt.int2:case Gt.int4:case Gt.int8:case Gt.numeric:case Gt.oid:return A9(t);case Gt.json:case Gt.jsonb:return T9(t);case Gt.timestamp:return M9(t);case Gt.abstime:case Gt.date:case Gt.daterange:case Gt.int4range:case Gt.int8range:case Gt.money:case Gt.reltime:case Gt.text:case Gt.time:case Gt.timestamptz:case Gt.timetz:case Gt.tsrange:case Gt.tstzrange:return Jj(t);default:return Jj(t)}},Jj=e=>e,O9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},A9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},T9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},R9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>iI(t,l))}return e},M9=e=>typeof e=="string"?e.replace(" ","T"):e,oI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class _w{constructor(t,r,n={},s=Qj){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sE||(sE={}));class wh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wh.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=wh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wh.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),g=d.filter(x=>m.indexOf(x.presence_ref)<0),p=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var aE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(aE||(aE={}));var jh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jh||(jh={}));var vi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vi||(vi={}));class ju{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ur.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _w(this,ua.join,this.params,this.timeout),this.rejoinTimer=new aI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ur.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ur.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ua.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new wh(this),this.broadcastEndpointURL=oI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ur.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[jh.PRESENCE]&&this.bindings[jh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(vi.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(vi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(vi.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,b=[];for(let v=0;v<x;v++){const w=p[v],{filter:{event:_,schema:j,table:S,filter:N}}=w,k=m&&m[v];if(k&&k.event===_&&ju.isFilterValueEqual(k.schema,j)&&ju.isFilterValueEqual(k.table,S)&&ju.isFilterValueEqual(k.filter,N))b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Ur.errored,t==null||t(vi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(vi.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ur.errored,t==null||t(vi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ur.joined&&t===jh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ur.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ua.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new _w(this,ua.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ur.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _w(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>C9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ua;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,x;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,x,b,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(v=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:x,commit_timestamp:b,type:v,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:b,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Ur.closed}_isJoined(){return this.state===Ur.joined}_isJoining(){return this.state===Ur.joining}_isLeaving(){return this.state===Ur.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ju.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ua.close,{},t)}_onError(t){this._on(ua.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ur.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=nE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=nE(t.columns,t.old_record)),r}}const Sw=()=>{},Qp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$9=[1e3,2e3,5e3,1e4],I9=1e4,D9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class L9{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qj,this.transport=null,this.heartbeatIntervalMs=Qp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sw,this.ref=0,this.reconnectTimer=null,this.vsn=rE,this.logger=Sw,this.conn=null,this.sendBuffer=[],this.serializer=new E9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Xj.websocket}`,this.httpEndpoint=oI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case jo.connecting:return Rl.Connecting;case jo.open:return Rl.Open;case jo.closing:return Rl.Closing;default:return Rl.Closed}}isConnected(){return this.connectionState()===Rl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ju(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(k9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Qp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===jo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===jo.open||this.conn.readyState===jo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ua.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([D9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:S9};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ua.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new aI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Qj,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Qp.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Sw,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:rE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>$9[g-1]||I9,this.vsn){case N9:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,p)=>p(JSON.parse(g));break;case sI:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Xh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function F9(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function U9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function q9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=F9(e.baseUrl,n,s),c=await U9(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new Xh((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Xp(e){return e.join("")}var B9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Xp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xp(e.namespace)}`}),!0}catch(t){if(t instanceof Xh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Xh&&r.status===409)return;throw r}}};function Wc(e){return e.join("")}var z9=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Xh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Xh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},W9=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=q9({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new B9(this.client,t),this.tableOps=new z9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},yx=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function xx(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Jp=class extends yx{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lI=class extends yx{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const V9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),K9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zj=e=>{if(Array.isArray(e))return e.map(r=>Zj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Zj(n)}),t},H9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function G9(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y9(e){var t=G9(e,"string");return Jh(t)=="symbol"?t:t+""}function Q9(e,t,r){return(t=Y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(r),!0).forEach(function(n){Q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const oE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},X9=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Jp(oE(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new Jp(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new Jp(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new Jp(s.statusText||`HTTP ${i} error`,i,o,n))}}else t(new lI(oE(e),e,n))},J9=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Je(Je({},s),r):(K9(n)?(s.headers=Je({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Je(Je({},s),r))};async function Rf(e,t,r,n,s,i,o){return new Promise((l,c)=>{e(r,J9(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>X9(u,c,n,o))})}function cI(e="storage"){return{get:async(t,r,n,s)=>Rf(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>Rf(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>Rf(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>Rf(t,"HEAD",r,Je(Je({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>Rf(t,"DELETE",r,s,i,n,e)}}const Z9=cI("storage"),{get:Zh,post:ia,put:e_,head:eK,remove:sN}=Z9,ls=cI("vectors");var Jd=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=V9(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xx(r))return{data:null,error:r};throw r}}},tK=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(xx(t))return{data:null,error:t};throw t}}};let uI;uI=Symbol.toStringTag;var rK=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[uI]="BlobDownloadBuilder",this.promise=null}asStream(){return new tK(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(xx(t))return{data:null,error:t};throw t}}};const nK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sK=class extends Jd{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=Je(Je({},lE),n);let l=Je(Je({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Je(Je({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?e_:ia)(s.fetch,`${s.url}/object/${d}`,i,Je({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=Je({upsert:lE.upsert},n),d=Je(Je({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await e_(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=Je({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await ia(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new yx("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ia(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ia(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await ia(n.fetch,`${n.url}/object/sign/${s}`,Je({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await ia(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>Je(Je({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Zh(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new rK(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Zj(await Zh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await eK(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xx(n)&&n instanceof lI){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await sN(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=Je(Je(Je({},nK),t),{},{prefix:e||""});return await ia(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Je({},e);return await ia(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const aK="2.93.3",sp={"X-Client-Info":`storage-js/${aK}`};var iK=class extends Jd{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=Je(Je({},sp),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Zh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Zh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ia(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await e_(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ia(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await sN(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},oK=class extends Jd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},sp),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ia(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Zh(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await sN(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!H9(e))throw new yx("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new W9({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},lK=class extends Jd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},sp),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await ls.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await ls.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},cK=class extends Jd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},sp),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},uK=class extends Jd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},sp),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},dK=class extends uK{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new fK(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},fK=class extends lK{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new hK(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},hK=class extends cK{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},mK=class extends iK{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new sK(this.url,this.headers,e,this.fetch)}get vectors(){return new dK(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new oK(this.url+"/iceberg",this.headers,this.fetch)}};const dI="2.93.3",iu=30*1e3,t_=3,Nw=t_*iu,pK="http://localhost:9999",gK="supabase.auth.token",vK={"X-Client-Info":`gotrue-js/${dI}`},r_="X-Supabase-Api-Version",fI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xK=10*60*1e3;class em extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bK extends em{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function wK(e){return qe(e)&&e.name==="AuthApiError"}class Ml extends em{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ji extends em{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ns extends Ji{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kw(e){return qe(e)&&e.name==="AuthSessionMissingError"}class Vc extends Ji{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zp extends Ji{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class eg extends Ji{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jK(e){return qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class cE extends Ji{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _K extends Ji{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class n_ extends Ji{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Cw(e){return qe(e)&&e.name==="AuthRetryableFetchError"}class uE extends Ji{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class s_ extends Ji{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const jv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dE=` 	
\r=`.split(""),SK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dE.length;t+=1)e[dE[t].charCodeAt(0)]=-2;for(let t=0;t<jv.length;t+=1)e[jv[t].charCodeAt(0)]=t;return e})();function fE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jv[n]),t.queuedBits-=6}}function hI(e,t,r){const n=SK[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{CK(o,n,r)};for(let o=0;o<e.length;o+=1)hI(e.charCodeAt(o),s,i);return t.join("")}function NK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kK(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}NK(n,t)}}function CK(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ru(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)hI(e.charCodeAt(s),r,n);return new Uint8Array(t)}function EK(e){const t=[];return kK(e,r=>t.push(r)),new Uint8Array(t)}function Ul(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>fE(s,r,n)),fE(null,r,n),t.join("")}function PK(e){return Math.round(Date.now()/1e3)+e}function OK(){return Symbol("auth-callback")}const sn=()=>typeof window<"u"&&typeof document<"u",_l={tested:!1,writable:!1},mI=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_l.tested)return _l.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_l.tested=!0,_l.writable=!0}catch{_l.tested=!0,_l.writable=!1}return _l.writable};function AK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const pI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),TK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ou=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Sl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},nn=async(e,t)=>{await e.removeItem(t)};class bx{constructor(){this.promise=new bx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}bx.promiseConstructor=Promise;function tg(e){const t=e.split(".");if(t.length!==3)throw new s_("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!yK.test(t[n]))throw new s_("JWT not in base64url format");return{header:JSON.parse(hE(t[0])),payload:JSON.parse(hE(t[1])),signature:Ru(t[2]),raw:{header:t[0],payload:t[1]}}}async function RK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function MK(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function $K(e){return("0"+e.toString(16)).substr(-2)}function IK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,$K).join("")}async function DK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function LK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await DK(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kc(e,t,r=!1){const n=IK();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ou(e,`${t}-code-verifier`,s);const i=await LK(n);return[i,n===i?"plain":"s256"]}const FK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UK(e){const t=e.headers.get(r_);if(!t||!t.match(FK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function BK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hc(e){if(!zK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ew(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WK(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function mE(e){return JSON.parse(JSON.stringify(e))}const El=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VK=[502,503,504];async function pE(e){var t;if(!TK(e))throw new n_(El(e),0);if(VK.includes(e.status))throw new n_(El(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ml(El(i),i)}let n;const s=UK(e);if(s&&s.getTime()>=fI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new uE(El(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ns}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new uE(El(r),e.status,r.weak_password.reasons);throw new bK(El(r),e.status||500,n)}const KK=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ye(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[r_]||(i[r_]=fI["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await HK(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function HK(e,t,r,n,s,i){const o=KK(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new n_(El(c),0)}if(l.ok||await pE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await pE(c)}}function na(e){var t;let r=null;QK(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=PK(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function gE(e){const t=na(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Co(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function GK(e){return{data:e,error:null}}function YK(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Xd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function vE(e){return e}function QK(e){return e.access_token&&e.refresh_token&&e.expires_in}const Pw=["global","local","others"];class XK{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=pI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Pw[0]){if(Pw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pw.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Co})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Xd(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:YK,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Co})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(qe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Hc(t);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Co})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Hc(t);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Co})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Hc(t);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Co})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Hc(t.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Hc(t.userId),Hc(t.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(qe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}}function yE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Gc={debug:!!(globalThis&&mI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class JK extends gI{}async function ZK(e,t,r){Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new JK(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function eH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function tH(e){return parseInt(e,16)}function rH(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function nH(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=vI(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}b+=v}return`${x}
${b}`}class Pr extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class _v extends Pr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function sH({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Pr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Pr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Pr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Pr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(yI(o)){if(i.rp.id!==o)return new Pr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Pr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function aH({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(yI(n)){if(r.rpId!==n)return new Pr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class iH{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const oH=new iH;function lH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Xd(e,["challenge","user","excludeCredentials"]),i=Ru(t).buffer,o=Object.assign(Object.assign({},r),{id:Ru(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ru(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function cH(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Xd(e,["challenge","allowCredentials"]),s=Ru(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ru(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function uH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ul(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ul(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ul(new Uint8Array(s.authenticatorData)),clientDataJSON:Ul(new Uint8Array(s.clientDataJSON)),signature:Ul(new Uint8Array(s.signature)),userHandle:s.userHandle?Ul(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function yI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function xE(){var e,t;return!!(sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function fH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _v("Browser returned unexpected credential type",t)}:{data:null,error:new _v("Empty credential response",t)}}catch(t){return{data:null,error:sH({error:t,options:e})}}}async function hH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _v("Browser returned unexpected credential type",t)}:{data:null,error:new _v("Empty credential response",t)}}catch(t){return{data:null,error:aH({error:t,options:e})}}}const mH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},pH={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sv(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Sv(l,o):n[i]=Sv(o)}else n[i]=o}return n}function gH(e,t){return Sv(mH,e,t||{})}function vH(e,t){return Sv(pH,e,t||{})}class yH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??oH.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const m=(await this.client.getUser()).data.user,g=((o=m==null?void 0:m.user_metadata)===null||o===void 0?void 0:o.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=gH(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await fH({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=vH(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await hH(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return qe(l)?{data:null,error:l}:{data:null,error:new Ml("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new em("rpId is required for WebAuthn authentication")};try{if(!xE())return{data:null,error:new Ml("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return qe(o)?{data:null,error:o}:{data:null,error:new Ml("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new em("rpId is required for WebAuthn registration")};try{if(!xE())return{data:null,error:new Ml("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return qe(o)?{data:null,error:o}:{data:null,error:new Ml("Unexpected error in register",o)}}}}eH();const xH={url:pK,storageKey:gK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function bE(e,t,r){return await r()}const Yc={};class tm{get jwks(){var t,r;return(r=(t=Yc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Yc[this.storageKey]=Object.assign(Object.assign({},Yc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Yc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yc[this.storageKey]=Object.assign(Object.assign({},Yc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},xH),t);if(this.storageKey=i.storageKey,this.instanceID=(r=tm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,tm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&sn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new XK({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=pI(i.fetch),this.lock=i.lock||bE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&sn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ZK:this.lock=bE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:mI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=yE(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(sn()&&(r=AK(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),sn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jK(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return qe(r)?this._returnResult({error:r}):this._returnResult({error:new Ml("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:na}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Kc(this.storage,this.storageKey)),i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:na})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:na})}else throw new Zp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await nn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await nn(this.storage,`${this.storageKey}-code-verifier`),qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gE})}else throw new Zp("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Vc;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:x,statement:b,options:v}=t;let w;if(sn())if(typeof x=="object")w=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=vI(j[0]);let N=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await w.request({method:"eth_chainId"});N=tH(C)}const k={domain:_.host,address:S,statement:b,uri:_.href,version:"1",chainId:N,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=nH(k),g=await w.request({method:"personal_sign",params:[rH(m),S]})}try{const{data:p,error:x}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:na});if(x)throw x;if(!p||!p.session||!p.user){const b=new Vc;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(qe(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:x,wallet:b,statement:v,options:w}=t;let _;if(sn())if(typeof b=="object")_=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:x,error:b}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ul(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:na});if(b)throw b;if(!x||!x.session||!x.user){const v=new Vc;return this._returnResult({data:{user:null,session:null},error:v})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(qe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Sl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new _K;const{data:i,error:o}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:na});if(await nn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Vc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await nn(this.storage,`${this.storageKey}-code-verifier`),qe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:na}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Vc;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Kc(this.storage,this.storageKey));const{error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Zp("You must provide either an email or phone number.")}catch(l){if(await nn(this.storage,`${this.storageKey}-code-verifier`),qe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:na});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(qe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Kc(this.storage,this.storageKey));const u=await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:GK});return!((i=u.data)===null||i===void 0)&&i.url&&sn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await nn(this.storage,`${this.storageKey}-code-verifier`),qe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ns;const{error:s}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(qe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Zp("You must provide either an email or phone number and a type")}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Sl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Nw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Sl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ew()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=WK(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Co}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ns}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Co})})}catch(r){if(qe(r))return kw(r)&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ns;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Kc(this.storage,this.storageKey));const{data:u,error:d}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Co});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await nn(this.storage,`${this.storageKey}-code-verifier`),qe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ns;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=tg(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ns;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!sn())throw new eg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new eg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new cE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new eg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new cE("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new eg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=iu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const b={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(qe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Sl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!kw(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(wK(l)&&(l.status===404||l.status===401||l.status===403)||kw(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=OK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Kc(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await nn(this.storage,`${this.storageKey}-code-verifier`),qe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return sn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(qe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:na}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Vc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await nn(this.storage,`${this.storageKey}-code-verifier`),qe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await MK(async s=>(s>0&&await RK(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:na})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Cw(i)&&Date.now()+o-n<iu})}catch(n){if(this._debug(r,"error",n),qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),sn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Sl(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Sl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ou(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ew()}else if(s&&!s.user&&!s.user){const o=await Sl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await nn(this.storage,this.storageKey+"-user"),await ou(this.storage,this.storageKey,s)):s.user=Ew()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Nw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Nw}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Cw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bx;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ns;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),qe(i)){const o={data:null,error:i};return Cw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await nn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ou(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=mE(s);await ou(this.storage,this.storageKey,i)}else{const s=mE(r);await ou(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nn(this.storage,this.storageKey),await nn(this.storage,this.storageKey+"-code-verifier"),await nn(this.storage,this.storageKey+"-user"),this.userStorage&&await nn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),iu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/iu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${iu}ms, refresh threshold is ${t_} ticks`),s<=t_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Kc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?uH(t.webauthn.credential_response):dH(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:lH(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:cH(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:m}=tg(t);let g=null;m.aal&&(g=m.aal);let p=g;const{data:{user:x},error:b}=await this.getUser(t);if(b)return this._returnResult({data:null,error:b});((n=(r=x==null?void 0:x.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:w},error:null}}catch(m){if(qe(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=tg(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ns})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ns});const o=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&sn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ns});const o=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&sn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ns})})}catch(t){if(qe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ns})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+xK>s)return n;const{data:i,error:o}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=tg(n);r!=null&&r.allowExpired||qK(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=BK(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,EK(`${l}.${c}`)))throw new s_("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}}tm.nextInstanceID={};const bH=tm,wH="2.93.3";let ah="";typeof Deno<"u"?ah="deno":typeof document<"u"?ah="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ah="react-native":ah="node";const jH={"X-Client-Info":`supabase-js-${ah}/${wH}`},_H={headers:jH},SH={schema:"public"},NH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kH={};function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function CH(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EH(e){var t=CH(e,"string");return rm(t)=="symbol"?t:t+""}function PH(e,t,r){return(t=EH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(n){PH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const OH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AH=()=>Headers,TH=(e,t,r)=>{const n=OH(r),s=AH();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,vr(vr({},o),{},{headers:u}))}};function RH(e){return e.endsWith("/")?e:e+"/"}function MH(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:vr(vr({},c),s),auth:vr(vr({},u),i),realtime:vr(vr({},d),o),storage:{},global:vr(vr(vr({},f),l),{},{headers:vr(vr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function $H(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(RH(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var IH=class extends bH{constructor(e){super(e)}},DH=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=$H(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:SH,realtime:kH,auth:vr(vr({},NH),{},{storageKey:o}),global:_H},c=MH(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=TH(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(vr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new w9(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new mK(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new g9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IH({url:this.authUrl.href,headers:vr(vr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new L9(this.realtimeUrl.href,vr(vr({},e),{},{params:vr(vr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const LH=(e,t,r)=>new DH(e,t,r);function FH(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}FH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const UH="https://prqmzdstrfmahymkekef.supabase.co",qH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycW16ZHN0cmZtYWh5bWtla2VmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDEwNjI5NiwiZXhwIjoyMDg1NjgyMjk2fQ.EE1JucZWP0ov1l93KyprUqoVMrLoNAUiJbl6xoHRSNs",F=LH(UH,qH);async function BH(e,t){const{error:r}=await F.auth.signInWithPassword({email:e,password:t});return r?{success:!1,error:r.message}:{success:!0}}async function zH(){const{error:e}=await F.auth.signOut({scope:"local"});return e?{success:!1,error:e.message}:{success:!0}}async function WH(){const{data:{session:e}}=await F.auth.getSession();return{user:(e==null?void 0:e.user)??null,session:e}}function VH(e){const{data:{subscription:t}}=F.auth.onAuthStateChange((r,n)=>{e(r,n)});return()=>t.unsubscribe()}async function KH(e,t){const r=typeof window<"u"?window.location.origin:"",n=t!=null&&t.redirectTo?`${r}${t.redirectTo.startsWith("/")?t.redirectTo:`/${t.redirectTo}`}`:`${r}/dashboard`,{error:s}=await F.auth.signInWithOAuth({provider:e,options:{redirectTo:n}});return s?{success:!1,error:s.message}:{success:!0}}async function HH(e,t,r){var c,u,d;const n=typeof window<"u"?window.location.origin:"",s=r!=null&&r.redirectTo?`${n}${r.redirectTo.startsWith("/")?r.redirectTo:`/${r.redirectTo}`}`:`${n}/verify-email`,{data:i,error:o}=await F.auth.signUp({email:e,password:t,options:{emailRedirectTo:s}});return o?{success:!1,error:o.message}:{success:!0,needsEmailVerification:!!(i.user&&!((u=(c=i.session)==null?void 0:c.user)!=null&&u.email_confirmed_at)&&((d=i.user.identities)==null?void 0:d.length))}}async function GH(e,t){const n=`${typeof window<"u"?window.location.origin:""}${t.startsWith("/")?t:`/${t}`}`,{error:s}=await F.auth.resetPasswordForEmail(e,{redirectTo:n});return s?{success:!1,error:s.message}:{success:!0}}async function YH(e){const{error:t}=await F.auth.updateUser({password:e});return t?{success:!1,error:t.message}:{success:!0}}function QH(){return typeof window>"u"?!1:window.location.hash.includes("type=recovery")}async function XH(){const{data:{user:e}}=await F.auth.getUser();if(!(e!=null&&e.email))return{success:!1,error:"You must be signed in to resend the verification email."};const r=`${typeof window<"u"?window.location.origin:""}/verify-email`,{error:n}=await F.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:r}});return n?{success:!1,error:n.message}:{success:!0}}async function jE(e){const t=e.trim();if(!t)return{success:!1,error:"Verification token is required."};const{error:r}=await F.auth.verifyOtp({token_hash:t,type:"email"});return r?{success:!1,error:r.message}:{success:!0}}function JH(){if(typeof window>"u")return null;const t=new URLSearchParams(window.location.search).get("token_hash");if(t)return t;const r=window.location.hash;return r?new URLSearchParams(r.replace(/^#/,"")).get("token_hash"):null}async function ZH(){const{data:{user:e}}=await F.auth.getUser();return e?!!e.email_confirmed_at:!1}const xI=y.createContext(null);function e7({children:e}){const[t,r]=y.useState({user:null,session:null,isLoading:!0});y.useEffect(()=>{let i=!1;WH().then(({user:l,session:c})=>{i||r({user:l,session:c,isLoading:!1})});const o=VH((l,c)=>{i||r(u=>({...u,user:(c==null?void 0:c.user)??null,session:c,isLoading:!1}))});return()=>{i=!0,o()}},[]);const n=y.useCallback(async()=>{await zH(),r({user:null,session:null,isLoading:!1})},[]),s=y.useMemo(()=>({...t,signOut:n}),[t.user,t.session,t.isLoading,n]);return a.jsx(xI.Provider,{value:s,children:e})}function wx(){const e=y.useContext(xI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function t7(){const{user:e,isLoading:t}=wx(),r=ii();if(t)return a.jsxs("div",{className:"flex flex-1 items-center justify-center p-8",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent","aria-hidden":!0}),a.jsx("span",{className:"sr-only",children:"Loading"})]});if(!e){const n=encodeURIComponent(r.pathname+r.search);return a.jsx(UW,{to:`/login?returnTo=${n}`,state:{from:r},replace:!0})}return a.jsx(B4,{})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...n7,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:bI("lucide",s),...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const r=y.forwardRef(({className:n,...s},i)=>y.createElement(s7,{ref:i,iconNode:t,className:bI(`lucide-${r7(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=le("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=le("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=le("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=le("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=le("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=le("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=le("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=le("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=le("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=le("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=le("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=le("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=le("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=le("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=le("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=le("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=le("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=le("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=le("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=le("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=le("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=le("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=le("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=le("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=le("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=le("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=le("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=le("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=le("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=le("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=le("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=le("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=le("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=le("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=le("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=le("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=le("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=le("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=le("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=le("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=le("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=le("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=le("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=le("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=le("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=le("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=le("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=le("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=le("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=le("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=le("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=le("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function FI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=FI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function jt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=FI(e))&&(n&&(n+=" "),n+=t);return n}const mN="-",C7=e=>{const t=P7(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(mN);return l[0]===""&&l.length!==1&&l.shift(),UI(l,t)||E7(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},UI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?UI(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(mN);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},EE=/^\[(.+)\]$/,E7=e=>{if(EE.test(e)){const t=EE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},P7=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return A7(Object.entries(e.classGroups),r).forEach(([i,o])=>{i_(o,n,i,t)}),n},i_=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:PE(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(O7(s)){i_(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{i_(o,PE(t,i),r,n)})})},PE=(e,t)=>{let r=e;return t.split(mN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},O7=e=>e.isThemeGetter,A7=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,T7=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},qI="!",R7=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===s&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(qI),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},M7=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},$7=e=>({cache:T7(e.cacheSize),parseClassName:R7(e),...C7(e)}),I7=/\s+/,D7=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(I7);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=M7(d).join(":"),b=f?x+qI:x,v=b+p;if(i.includes(v))continue;i.push(v);const w=s(p,g);for(let _=0;_<w.length;++_){const j=w[_];i.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function L7(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=BI(t))&&(n&&(n+=" "),n+=r);return n}const BI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=BI(e[n]))&&(r&&(r+=" "),r+=t);return r};function F7(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=$7(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=D7(c,r);return s(c,d),d}return function(){return i(L7.apply(null,arguments))}}const Jt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},zI=/^\[(?:([a-z-]+):)?(.+)\]$/i,U7=/^\d+\/\d+$/,q7=new Set(["px","full","screen"]),B7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,W7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,V7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,K7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fi=e=>Mu(e)||q7.has(e)||U7.test(e),ho=e=>rf(e,"length",eG),Mu=e=>!!e&&!Number.isNaN(Number(e)),Aw=e=>rf(e,"number",Mu),Mf=e=>!!e&&Number.isInteger(Number(e)),H7=e=>e.endsWith("%")&&Mu(e.slice(0,-1)),at=e=>zI.test(e),mo=e=>B7.test(e),G7=new Set(["length","size","percentage"]),Y7=e=>rf(e,G7,WI),Q7=e=>rf(e,"position",WI),X7=new Set(["image","url"]),J7=e=>rf(e,X7,rG),Z7=e=>rf(e,"",tG),$f=()=>!0,rf=(e,t,r)=>{const n=zI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},eG=e=>z7.test(e)&&!W7.test(e),WI=()=>!1,tG=e=>V7.test(e),rG=e=>K7.test(e),nG=()=>{const e=Jt("colors"),t=Jt("spacing"),r=Jt("blur"),n=Jt("brightness"),s=Jt("borderColor"),i=Jt("borderRadius"),o=Jt("borderSpacing"),l=Jt("borderWidth"),c=Jt("contrast"),u=Jt("grayscale"),d=Jt("hueRotate"),f=Jt("invert"),h=Jt("gap"),m=Jt("gradientColorStops"),g=Jt("gradientColorStopPositions"),p=Jt("inset"),x=Jt("margin"),b=Jt("opacity"),v=Jt("padding"),w=Jt("saturate"),_=Jt("scale"),j=Jt("sepia"),S=Jt("skew"),N=Jt("space"),k=Jt("translate"),C=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",at,t],O=()=>[at,t],q=()=>["",fi,ho],A=()=>["auto",Mu,at],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",at],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Mu,at];return{cacheSize:500,separator:":",theme:{colors:[$f],spacing:[fi,ho],blur:["none","",mo,at],brightness:ee(),borderColor:[e],borderRadius:["none","","full",mo,at],borderSpacing:O(),borderWidth:q(),contrast:ee(),grayscale:$(),hueRotate:ee(),invert:$(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[H7,ho],inset:D(),margin:D(),opacity:ee(),padding:O(),saturate:ee(),scale:ee(),sepia:$(),skew:ee(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",at]}],container:["container"],columns:[{columns:[mo]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),at]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mf,at]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",at]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Mf,at]}],"grid-cols":[{"grid-cols":[$f]}],"col-start-end":[{col:["auto",{span:["full",Mf,at]},at]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[$f]}],"row-start-end":[{row:["auto",{span:[Mf,at]},at]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",at]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",at]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",at,t]}],"min-w":[{"min-w":[at,t,"min","max","fit"]}],"max-w":[{"max-w":[at,t,"none","full","min","max","fit","prose",{screen:[mo]},mo]}],h:[{h:[at,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[at,t,"auto","min","max","fit"]}],"font-size":[{text:["base",mo,ho]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Aw]}],"font-family":[{font:[$f]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",at]}],"line-clamp":[{"line-clamp":["none",Mu,Aw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fi,at]}],"list-image":[{"list-image":["none",at]}],"list-style-type":[{list:["none","disc","decimal",at]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fi,ho]}],"underline-offset":[{"underline-offset":["auto",fi,at]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),Q7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Y7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},J7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[fi,at]}],"outline-w":[{outline:[fi,ho]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[fi,ho]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",mo,Z7]}],"shadow-color":[{shadow:[$f]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",mo,at]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",at]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",at]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",at]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Mf,at]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",at]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fi,ho,Aw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sG=F7(nG);function J(...e){return sG(jt(e))}function aG({visible:e,message:t="Processing",className:r}){return e?a.jsxs("div",{role:"status","aria-live":"polite","aria-label":t,className:J("fixed inset-0 z-[100] flex flex-col items-center justify-center gap-4","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200",r),children:[a.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-xl bg-card p-8 shadow-card-hover",children:[a.jsx(wr,{className:"h-10 w-10 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:t})]}),a.jsx("span",{className:"sr-only",children:t})]}):null}function Re(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function OE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function to(...e){return t=>{let r=!1;const n=e.map(s=>{const i=OE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():OE(e[s],null)}}}}function gt(...e){return y.useCallback(to(...e),e)}function iG(e,t){const r=y.createContext(t),n=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function zs(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=y.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,oG(s,...t)]}function oG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var _r=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},lG=Zy[" useId ".trim().toString()]||(()=>{}),cG=0;function $s(e){const[t,r]=y.useState(lG());return _r(()=>{r(n=>n??String(cG++))},[e]),t?`radix-${t}`:""}var uG=Zy[" useInsertionEffect ".trim().toString()]||_r;function ri({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=dG({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=y.useCallback(d=>{var f;if(l){const h=fG(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function dG({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),s=y.useRef(r),i=y.useRef(t);return uG(()=>{i.current=t},[t]),y.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function fG(e){return typeof e=="function"}function hG(e){const t=mG(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(gG);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function mG(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=yG(s),l=vG(i,s.props);return s.type!==y.Fragment&&(l.ref=n?to(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pG=Symbol("radix.slottable");function gG(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pG}function vG(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function yG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var xG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=xG.reduce((e,t)=>{const r=hG(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function VI(e,t){e&&Hd.flushSync(()=>e.dispatchEvent(t))}function Zr(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function bG(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e);y.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var wG="DismissableLayer",o_="dismissableLayer.update",jG="dismissableLayer.pointerDownOutside",_G="dismissableLayer.focusOutside",AE,KI=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Px=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(KI),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),g=gt(t,N=>f(N)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(x),v=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=v>=b,j=kG(N=>{const k=N.target,C=[...u.branches].some(E=>E.contains(k));!_||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),S=CG(N=>{const k=N.target;[...u.branches].some(E=>E.contains(k))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return bG(N=>{v===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(AE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),TE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=AE)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),TE())},[d,u]),y.useEffect(()=>{const N=()=>m({});return document.addEventListener(o_,N),()=>document.removeEventListener(o_,N)},[]),a.jsx(Qe.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Re(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Re(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Re(e.onPointerDownCapture,j.onPointerDownCapture)})});Px.displayName=wG;var SG="DismissableLayerBranch",NG=y.forwardRef((e,t)=>{const r=y.useContext(KI),n=y.useRef(null),s=gt(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Qe.div,{...e,ref:s})});NG.displayName=SG;function kG(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){HI(jG,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function CG(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!n.current&&HI(_G,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function TE(){const e=new CustomEvent(o_);document.dispatchEvent(e)}function HI(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?VI(s,i):s.dispatchEvent(i)}var Tw="focusScope.autoFocusOnMount",Rw="focusScope.autoFocusOnUnmount",RE={bubbles:!1,cancelable:!0},EG="FocusScope",Ox=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),u=Zr(s),d=Zr(i),f=y.useRef(null),h=gt(t,p=>c(p)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:yo(f.current,{select:!0})},x=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||yo(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&yo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),v.disconnect()}}},[n,l,m.paused]),y.useEffect(()=>{if(l){$E.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(Tw,RE);l.addEventListener(Tw,u),l.dispatchEvent(b),b.defaultPrevented||(PG(MG(GI(l)),{select:!0}),document.activeElement===p&&yo(l))}return()=>{l.removeEventListener(Tw,u),setTimeout(()=>{const b=new CustomEvent(Rw,RE);l.addEventListener(Rw,d),l.dispatchEvent(b),b.defaultPrevented||yo(p??document.body,{select:!0}),l.removeEventListener(Rw,d),$E.remove(m)},0)}}},[l,u,d,m]);const g=y.useCallback(p=>{if(!r&&!n||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(x&&b){const v=p.currentTarget,[w,_]=OG(v);w&&_?!p.shiftKey&&b===_?(p.preventDefault(),r&&yo(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&yo(_,{select:!0})):b===v&&p.preventDefault()}},[r,n,m.paused]);return a.jsx(Qe.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Ox.displayName=EG;function PG(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(yo(n,{select:t}),document.activeElement!==r)return}function OG(e){const t=GI(e),r=ME(t,e),n=ME(t.reverse(),e);return[r,n]}function GI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ME(e,t){for(const r of e)if(!AG(r,{upTo:t}))return r}function AG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TG(e){return e instanceof HTMLInputElement&&"select"in e}function yo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&TG(e)&&t&&e.select()}}var $E=RG();function RG(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=IE(e,t),e.unshift(t)},remove(t){var r;e=IE(e,t),(r=e[0])==null||r.resume()}}}function IE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function MG(e){return e.filter(t=>t.tagName!=="A")}var $G="Portal",Ax=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=y.useState(!1);_r(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?T4.createPortal(a.jsx(Qe.div,{...n,ref:t}),o):null});Ax.displayName=$G;function IG(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Zn=e=>{const{present:t,children:r}=e,n=DG(t),s=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=gt(n.ref,LG(s));return typeof r=="function"||n.isPresent?y.cloneElement(s,{ref:i}):null};Zn.displayName="Presence";function DG(e){const[t,r]=y.useState(),n=y.useRef(null),s=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=IG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=rg(n.current);i.current=l==="mounted"?u:"none"},[l]),_r(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=rg(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),_r(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=rg(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(i.current=rg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function rg(e){return(e==null?void 0:e.animationName)||"none"}function LG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Mw=0;function pN(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??DE()),document.body.insertAdjacentElement("beforeend",e[1]??DE()),Mw++,()=>{Mw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mw--}},[])}function DE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wg="right-scroll-bar-position",Vg="width-before-scroll-bar",FG="with-scroll-bars-hidden",UG="--removed-body-scroll-bar-size";function $w(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qG(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var BG=typeof window<"u"?y.useLayoutEffect:y.useEffect,LE=new WeakMap;function zG(e,t){var r=qG(null,function(n){return e.forEach(function(s){return $w(s,n)})});return BG(function(){var n=LE.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||$w(l,null)}),i.forEach(function(l){s.has(l)||$w(l,o)})}LE.set(r,e)},[e]),r}function WG(e){return e}function VG(e,t){t===void 0&&(t=WG);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function KG(e){e===void 0&&(e={});var t=VG(null);return t.options=Wa({async:!0,ssr:!1},e),t}var YI=function(e){var t=e.sideCar,r=Xd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Wa({},r))};YI.isSideCarExport=!0;function HG(e,t){return e.useMedium(t),YI}var QI=KG(),Iw=function(){},Tx=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:Iw,onWheelCapture:Iw,onTouchMoveCapture:Iw}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,x=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,w=e.gapMode,_=Xd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=zG([r,t]),N=Wa(Wa({},_),s);return y.createElement(y.Fragment,null,d&&y.createElement(j,{sideCar:QI,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:w}),o?y.cloneElement(y.Children.only(l),Wa(Wa({},N),{ref:S})):y.createElement(v,Wa({},N,{className:c,ref:S}),l))});Tx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tx.classNames={fullWidth:Vg,zeroRight:Wg};var GG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YG(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=GG();return t&&e.setAttribute("nonce",t),e}function QG(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function XG(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var JG=function(){var e=0,t=null;return{add:function(r){e==0&&(t=YG())&&(QG(t,r),XG(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ZG=function(){var e=JG();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},XI=function(){var e=ZG(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},eY={left:0,top:0,right:0,gap:0},Dw=function(e){return parseInt(e||"",10)||0},tY=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Dw(r),Dw(n),Dw(s)]},rY=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return eY;var t=tY(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},nY=XI(),$u="data-scroll-locked",sY=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(FG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat($u,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Vg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Wg," .").concat(Wg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Vg," .").concat(Vg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat($u,`] {
    `).concat(UG,": ").concat(l,`px;
  }
`)},FE=function(){var e=parseInt(document.body.getAttribute($u)||"0",10);return isFinite(e)?e:0},aY=function(){y.useEffect(function(){return document.body.setAttribute($u,(FE()+1).toString()),function(){var e=FE()-1;e<=0?document.body.removeAttribute($u):document.body.setAttribute($u,e.toString())}},[])},iY=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;aY();var i=y.useMemo(function(){return rY(s)},[s]);return y.createElement(nY,{styles:sY(i,!t,s,r?"":"!important")})},l_=!1;if(typeof window<"u")try{var ng=Object.defineProperty({},"passive",{get:function(){return l_=!0,!0}});window.addEventListener("test",ng,ng),window.removeEventListener("test",ng,ng)}catch{l_=!1}var Qc=l_?{passive:!1}:!1,oY=function(e){return e.tagName==="TEXTAREA"},JI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!oY(e)&&r[t]==="visible")},lY=function(e){return JI(e,"overflowY")},cY=function(e){return JI(e,"overflowX")},UE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=ZI(e,n);if(s){var i=eD(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},uY=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},dY=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},ZI=function(e,t){return e==="v"?lY(t):cY(t)},eD=function(e,t){return e==="v"?uY(t):dY(t)},fY=function(e,t){return e==="h"&&t==="rtl"?-1:1},hY=function(e,t,r,n,s){var i=fY(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=eD(e,l),g=m[0],p=m[1],x=m[2],b=p-x-i*g;(g||b)&&ZI(e,l)&&(f+=b,h+=g);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},sg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qE=function(e){return[e.deltaX,e.deltaY]},BE=function(e){return e&&"current"in e?e.current:e},mY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},pY=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gY=0,Xc=[];function vY(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),s=y.useState(gY++)[0],i=y.useState(XI)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=h9([e.lockRef.current],(e.shards||[]).map(BE),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=sg(p),v=r.current,w="deltaX"in p?p.deltaX:v[0]-b[0],_="deltaY"in p?p.deltaY:v[1]-b[1],j,S=p.target,N=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&N==="h"&&S.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,E=C?C===S||C.contains(S):!1;if(E)return!1;var D=UE(N,S);if(!D)return!0;if(D?j=N:(j=N==="v"?"h":"v",D=UE(N,S)),!D)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=j),!j)return!0;var O=n.current||j;return hY(O,x,p,O==="h"?w:_)},[]),c=y.useCallback(function(p){var x=p;if(!(!Xc.length||Xc[Xc.length-1]!==i)){var b="deltaY"in x?qE(x):sg(x),v=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&mY(j.delta,b)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(BE).filter(Boolean).filter(function(j){return j.contains(x.target)}),_=w.length>0?l(x,w[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=y.useCallback(function(p,x,b,v){var w={name:p,delta:x,target:b,should:v,shadowParent:yY(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=y.useCallback(function(p){r.current=sg(p),n.current=void 0},[]),f=y.useCallback(function(p){u(p.type,qE(p),p.target,l(p,e.lockRef.current))},[]),h=y.useCallback(function(p){u(p.type,sg(p),p.target,l(p,e.lockRef.current))},[]);y.useEffect(function(){return Xc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Qc),document.addEventListener("touchmove",c,Qc),document.addEventListener("touchstart",d,Qc),function(){Xc=Xc.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Qc),document.removeEventListener("touchmove",c,Qc),document.removeEventListener("touchstart",d,Qc)}},[]);var m=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(i,{styles:pY(s)}):null,m?y.createElement(iY,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function yY(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const xY=HG(QI,vY);var Rx=y.forwardRef(function(e,t){return y.createElement(Tx,Wa({},e,{ref:t,sideCar:xY}))});Rx.classNames=Tx.classNames;var bY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jc=new WeakMap,ag=new WeakMap,ig={},Lw=0,tD=function(e){return e&&(e.host||tD(e.parentNode))},wY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=tD(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},jY=function(e,t,r,n){var s=wY(t,Array.isArray(e)?e:[e]);ig[r]||(ig[r]=new WeakMap);var i=ig[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Jc.get(h)||0)+1,x=(i.get(h)||0)+1;Jc.set(h,p),i.set(h,x),o.push(h),p===1&&g&&ag.set(h,!0),x===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),Lw++,function(){o.forEach(function(f){var h=Jc.get(f)-1,m=i.get(f)-1;Jc.set(f,h),i.set(f,m),h||(ag.has(f)||f.removeAttribute(n),ag.delete(f)),m||f.removeAttribute(r)}),Lw--,Lw||(Jc=new WeakMap,Jc=new WeakMap,ag=new WeakMap,ig={})}},gN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=bY(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),jY(n,s,r,"aria-hidden")):function(){return null}};function _Y(e){const t=SY(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(kY);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function SY(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=EY(s),l=CY(i,s.props);return s.type!==y.Fragment&&(l.ref=n?to(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NY=Symbol("radix.slottable");function kY(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NY}function CY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function EY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Mx="Dialog",[rD]=zs(Mx),[PY,Pa]=rD(Mx),nD=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[u,d]=ri({prop:n,defaultProp:s??!1,onChange:i,caller:Mx});return a.jsx(PY,{scope:t,triggerRef:l,contentRef:c,contentId:$s(),titleId:$s(),descriptionId:$s(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};nD.displayName=Mx;var sD="DialogTrigger",OY=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pa(sD,r),i=gt(t,s.triggerRef);return a.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":xN(s.open),...n,ref:i,onClick:Re(e.onClick,s.onOpenToggle)})});OY.displayName=sD;var vN="DialogPortal",[AY,aD]=rD(vN,{forceMount:void 0}),iD=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Pa(vN,t);return a.jsx(AY,{scope:t,forceMount:r,children:y.Children.map(n,o=>a.jsx(Zn,{present:r||i.open,children:a.jsx(Ax,{asChild:!0,container:s,children:o})}))})};iD.displayName=vN;var Ev="DialogOverlay",oD=y.forwardRef((e,t)=>{const r=aD(Ev,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Pa(Ev,e.__scopeDialog);return i.modal?a.jsx(Zn,{present:n||i.open,children:a.jsx(RY,{...s,ref:t})}):null});oD.displayName=Ev;var TY=_Y("DialogOverlay.RemoveScroll"),RY=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pa(Ev,r);return a.jsx(Rx,{as:TY,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Qe.div,{"data-state":xN(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),pc="DialogContent",lD=y.forwardRef((e,t)=>{const r=aD(pc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Pa(pc,e.__scopeDialog);return a.jsx(Zn,{present:n||i.open,children:i.modal?a.jsx(MY,{...s,ref:t}):a.jsx($Y,{...s,ref:t})})});lD.displayName=pc;var MY=y.forwardRef((e,t)=>{const r=Pa(pc,e.__scopeDialog),n=y.useRef(null),s=gt(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return gN(i)},[]),a.jsx(cD,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Re(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Re(e.onFocusOutside,i=>i.preventDefault())})}),$Y=y.forwardRef((e,t)=>{const r=Pa(pc,e.__scopeDialog),n=y.useRef(!1),s=y.useRef(!1);return a.jsx(cD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),cD=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Pa(pc,r),c=y.useRef(null),u=gt(t,c);return pN(),a.jsxs(a.Fragment,{children:[a.jsx(Ox,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Px,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":xN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(IY,{titleId:l.titleId}),a.jsx(LY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),yN="DialogTitle",uD=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pa(yN,r);return a.jsx(Qe.h2,{id:s.titleId,...n,ref:t})});uD.displayName=yN;var dD="DialogDescription",fD=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pa(dD,r);return a.jsx(Qe.p,{id:s.descriptionId,...n,ref:t})});fD.displayName=dD;var hD="DialogClose",mD=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pa(hD,r);return a.jsx(Qe.button,{type:"button",...n,ref:t,onClick:Re(e.onClick,()=>s.onOpenChange(!1))})});mD.displayName=hD;function xN(e){return e?"open":"closed"}var pD="DialogTitleWarning",[y4e,gD]=iG(pD,{contentName:pc,titleName:yN,docsSlug:"dialog"}),IY=({titleId:e})=>{const t=gD(pD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},DY="DialogDescriptionWarning",LY=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gD(DY).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},FY=nD,UY=iD,vD=oD,yD=lD,xD=uD,bD=fD,qY=mD;const Me=FY,BY=UY,wD=y.forwardRef(({className:e,...t},r)=>a.jsx(vD,{ref:r,className:J("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));wD.displayName=vD.displayName;const Pe=y.forwardRef(({className:e,children:t,showClose:r=!0,...n},s)=>a.jsxs(BY,{children:[a.jsx(wD,{}),a.jsxs(yD,{ref:s,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[640px] translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",e),...n,children:[t,r&&a.jsxs(qY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(hd,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pe.displayName=yD.displayName;const Oe=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Oe.displayName="DialogHeader";const De=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});De.displayName="DialogFooter";const Ae=y.forwardRef(({className:e,...t},r)=>a.jsx(xD,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));Ae.displayName=xD.displayName;const Te=y.forwardRef(({className:e,...t},r)=>a.jsx(bD,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Te.displayName=bD.displayName;var zY=Symbol.for("react.lazy"),Pv=Zy[" use ".trim().toString()];function WY(e){return typeof e=="object"&&e!==null&&"then"in e}function jD(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===zY&&"_payload"in e&&WY(e._payload)}function cp(e){const t=KY(e),r=y.forwardRef((n,s)=>{let{children:i,...o}=n;jD(i)&&typeof Pv=="function"&&(i=Pv(i._payload));const l=y.Children.toArray(i),c=l.find(GY);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var VY=cp("Slot");function KY(e){const t=y.forwardRef((r,n)=>{let{children:s,...i}=r;if(jD(s)&&typeof Pv=="function"&&(s=Pv(s._payload)),y.isValidElement(s)){const o=QY(s),l=YY(i,s.props);return s.type!==y.Fragment&&(l.ref=n?to(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HY=Symbol("radix.slottable");function GY(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HY}function YY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function QY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const zE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,WE=jt,bN=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return WE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=zE(d)||zE(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...u,f,h]:u},[]);return WE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},XY=bN("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow hover:opacity-90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:opacity-90",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),P=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?VY:"button";return a.jsx(o,{className:J(XY({variant:t,size:r,className:e})),ref:i,...s})});P.displayName="Button";function JY({open:e,onOpenChange:t,message:r="Operation completed successfully.",nextSteps:n,onClose:s,className:i}){const o=l=>{l||s==null||s(),t(l)};return a.jsx(Me,{open:e,onOpenChange:o,children:a.jsxs(Pe,{showClose:!0,className:J("max-w-[640px]",i),"aria-describedby":"operation-success-description",children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15",children:a.jsx(Na,{className:"h-6 w-6 text-success","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ae,{children:"Success"}),a.jsx(Te,{id:"operation-success-description",children:r})]})]})}),n&&n.length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/30 p-4",children:[a.jsx("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Next steps"}),a.jsx("ul",{className:"flex flex-col gap-2",children:n.map((l,c)=>a.jsx("li",{children:l.href?a.jsx(P,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",asChild:!0,children:a.jsx("a",{href:l.href,children:l.label})}):a.jsx(P,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",onClick:()=>{var u;(u=l.onClick)==null||u.call(l),o(!1)},children:l.label})},c))})]}),a.jsx(De,{children:a.jsx(P,{onClick:()=>o(!1),className:"transition-transform hover:scale-[1.02]",children:"Done"})})]})})}function ZY({open:e,onOpenChange:t,message:r="Are you sure you want to cancel this operation? Progress may be lost.",confirmLabel:n="Yes, cancel",onConfirm:s,onCancel:i,isConfirming:o=!1,className:l}){const c=()=>{s==null||s(),t(!1)},u=()=>{i==null||i(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{showClose:!0,className:J("max-w-[640px]",l),"aria-describedby":"abort-confirm-description",children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-warning/15",children:a.jsx(eo,{className:"h-6 w-6 text-warning","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ae,{children:"Cancel operation?"}),a.jsx(Te,{id:"abort-confirm-description",children:r})]})]})}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:u,disabled:o,className:"transition-transform hover:scale-[1.02]",children:"No, continue"}),a.jsx(P,{variant:"destructive",onClick:c,disabled:o,className:"transition-transform hover:scale-[1.02]",children:o?"Cancelling":n})]})]})})}const VE={visible:!1},KE={visible:!1},HE={visible:!1},_D=y.createContext(null);function eQ({children:e}){const[t,r]=y.useState(VE),[n,s]=y.useState(KE),[i,o]=y.useState(HE),l=y.useCallback(g=>{r({visible:!0,message:g})},[]),c=y.useCallback(()=>{r(VE)},[]),u=y.useCallback((g,p)=>{s({visible:!0,message:g,nextSteps:p})},[]),d=y.useCallback(()=>{s(KE)},[]),f=y.useCallback(g=>{o({visible:!0,message:g.message,onConfirm:g.onConfirm,onCancel:g.onCancel,confirmLabel:g.confirmLabel})},[]),h=y.useCallback(()=>{o(HE)},[]),m=y.useMemo(()=>({loading:t,success:n,abortConfirm:i,showLoading:l,hideLoading:c,showSuccess:u,hideSuccess:d,showAbortConfirm:f,hideAbortConfirm:h}),[t,n,i,l,c,u,d,f,h]);return a.jsx(_D.Provider,{value:m,children:e})}function tQ(){const e=y.useContext(_D);if(!e)throw new Error("useOperationStateContext must be used within OperationStateProvider");return e}function rQ(){const{loading:e,success:t,abortConfirm:r,hideSuccess:n,hideAbortConfirm:s}=tQ();return a.jsxs(a.Fragment,{children:[a.jsx(aG,{visible:e.visible,message:e.message}),a.jsx(JY,{open:t.visible,onOpenChange:i=>!i&&n(),message:t.message,nextSteps:t.nextSteps,onClose:n}),a.jsx(ZY,{open:r.visible,onOpenChange:i=>!i&&s(),message:r.message,confirmLabel:r.confirmLabel??"Yes, cancel",onConfirm:r.onConfirm,onCancel:r.onCancel})]})}function nQ({children:e}){return a.jsxs(eQ,{children:[a.jsx(rQ,{}),e]})}var sQ=y.createContext(void 0);function nf(e){const t=y.useContext(sQ);return e||t||"ltr"}function c_(e,[t,r]){return Math.min(r,Math.max(t,e))}function aQ(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var wN="ScrollArea",[SD]=zs(wN),[iQ,Ws]=SD(wN),ND=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,g]=y.useState(null),[p,x]=y.useState(null),[b,v]=y.useState(0),[w,_]=y.useState(0),[j,S]=y.useState(!1),[N,k]=y.useState(!1),C=gt(t,D=>c(D)),E=nf(s);return a.jsx(iQ,{scope:r,type:n,dir:E,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:v,onCornerHeightChange:_,children:a.jsx(Qe.div,{dir:E,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});ND.displayName=wN;var kD="ScrollAreaViewport",CD=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=Ws(kD,r),l=y.useRef(null),c=gt(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Qe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});CD.displayName=kD;var oi="ScrollAreaScrollbar",jN=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ws(oi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return y.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(oQ,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(lQ,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(ED,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(_N,{...n,ref:t}):null});jN.displayName=oi;var oQ=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ws(oi,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Zn,{present:r||i,children:a.jsx(ED,{"data-state":i?"visible":"hidden",...n,ref:t})})}),lQ=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ws(oi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Ix(()=>c("SCROLL_END"),100),[l,c]=aQ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),y.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(Zn,{present:r||l!=="hidden",children:a.jsx(_N,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Re(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Re(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ED=y.forwardRef((e,t)=>{const r=Ws(oi,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=y.useState(!1),l=e.orientation==="horizontal",c=Ix(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return md(r.viewport,c),md(r.content,c),a.jsx(Zn,{present:n||i,children:a.jsx(_N,{"data-state":i?"visible":"hidden",...s,ref:t})})}),_N=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Ws(oi,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=RD(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return mQ(h,o.current,l,m)}return r==="horizontal"?a.jsx(cQ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=GE(h,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(uQ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=GE(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),cQ=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ws(oi,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=gt(t,c,i.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(OD,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$x(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),$D(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Av(o.paddingLeft),paddingEnd:Av(o.paddingRight)}})}})}),uQ=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ws(oi,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=gt(t,c,i.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(OD,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$x(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),$D(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Av(o.paddingTop),paddingEnd:Av(o.paddingBottom)}})}})}),[dQ,PD]=SD(oi),OD=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Ws(oi,r),[g,p]=y.useState(null),x=gt(t,C=>p(C)),b=y.useRef(null),v=y.useRef(""),w=m.viewport,_=n.content-n.viewport,j=Zr(d),S=Zr(c),N=Ix(f,10);function k(C){if(b.current){const E=C.clientX-b.current.left,D=C.clientY-b.current.top;u({x:E,y:D})}}return y.useEffect(()=>{const C=E=>{const D=E.target;(g==null?void 0:g.contains(D))&&j(E,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,_,j]),y.useEffect(S,[n,S]),md(g,N),md(m.content,N),a.jsx(dQ,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:Zr(i),onThumbPointerUp:Zr(o),onThumbPositionChange:S,onThumbPointerDown:Zr(l),children:a.jsx(Qe.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:Re(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:Re(e.onPointerMove,k),onPointerUp:Re(e.onPointerUp,C=>{const E=C.target;E.hasPointerCapture(C.pointerId)&&E.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Ov="ScrollAreaThumb",AD=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=PD(Ov,e.__scopeScrollArea);return a.jsx(Zn,{present:r||s.hasThumb,children:a.jsx(fQ,{ref:t,...n})})}),fQ=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Ws(Ov,r),o=PD(Ov,r),{onThumbPositionChange:l}=o,c=gt(t,f=>o.onThumbChange(f)),u=y.useRef(void 0),d=Ix(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=pQ(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Qe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Re(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:Re(e.onPointerUp,o.onThumbPointerUp)})});AD.displayName=Ov;var SN="ScrollAreaCorner",TD=y.forwardRef((e,t)=>{const r=Ws(SN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(hQ,{...e,ref:t}):null});TD.displayName=SN;var hQ=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Ws(SN,r),[i,o]=y.useState(0),[l,c]=y.useState(0),u=!!(i&&l);return md(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),md(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Qe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Av(e){return e?parseInt(e,10):0}function RD(e,t){const r=e/t;return isNaN(r)?0:r}function $x(e){const t=RD(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function mQ(e,t,r,n="ltr"){const s=$x(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return MD([c,u],f)(e)}function GE(e,t,r="ltr"){const n=$x(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=c_(e,c);return MD([0,o],[0,l])(u)}function MD(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function $D(e,t){return e>0&&e<t}var pQ=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Ix(e,t){const r=Zr(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function md(e,t){const r=Zr(t);_r(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var ID=ND,gQ=CD,vQ=TD;const pt=y.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(ID,{ref:n,className:J("relative overflow-hidden",e),...r,children:[a.jsx(gQ,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(DD,{}),a.jsx(vQ,{})]}));pt.displayName=ID.displayName;const DD=y.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(jN,{ref:n,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(AD,{className:"relative flex-1 rounded-full bg-border"})}));DD.displayName=jN.displayName;var yQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xQ=yQ.reduce((e,t)=>{const r=cp(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),bQ="Separator",YE="horizontal",wQ=["horizontal","vertical"],LD=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=YE,...s}=e,i=jQ(n)?n:YE,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(xQ.div,{"data-orientation":i,...l,...s,ref:t})});LD.displayName=bQ;function jQ(e){return wQ.includes(e)}var FD=LD;const NN=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(FD,{ref:s,decorative:r,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));NN.displayName=FD.displayName;const _Q=[{to:"/dashboard",label:"Dashboard",icon:lN},{to:"/profile",label:"Profile",icon:lp},{to:"/chat",label:"Chat Session",icon:ap},{to:"/channels",label:"Channels & Adapters",icon:y7},{to:"/skills",label:"Skills Library",icon:ld},{to:"/skill-editor",label:"Skill Editor",icon:lr},{to:"/marketplace",label:"Marketplace",icon:kx},{to:"/nodes",label:"Nodes",icon:ba},{to:"/cron",label:"Cron Jobs",icon:ml},{to:"/webhooks",label:"Webhooks & Hooks",icon:Cv},{to:"/model-providers",label:"Model Providers",icon:wI},{to:"/browser",label:"Browser Automation",icon:Nx},{to:"/voice",label:"Voice & Media",icon:dd},{to:"/secrets",label:"Secrets & Keychain",icon:cd},{to:"/settings",label:"Settings",icon:Rn},{to:"/security",label:"Security Audit",icon:jr},{to:"/logs",label:"Logs & Tracing",icon:lr},{to:"/admin",label:"Admin",icon:jr}];function SQ(){const[e,t]=y.useState(!1);return a.jsxs("aside",{className:J("flex flex-col border-r border-border bg-card transition-[width] duration-200",e?"w-[72px]":"w-56"),children:[a.jsxs("div",{className:"flex h-14 items-center justify-between border-b border-border px-3",children:[!e&&a.jsx("span",{className:"truncate text-sm font-semibold",children:"Clawgate"}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>t(r=>!r),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(Rr,{className:"h-4 w-4"}):a.jsx(Nv,{className:"h-4 w-4"})})]}),a.jsx(pt,{className:"flex-1 py-2",children:a.jsx("nav",{className:"flex flex-col gap-0.5 px-2",children:_Q.map(({to:r,label:n,icon:s})=>a.jsxs(W4,{to:r,className:({isActive:i})=>J("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",e&&"justify-center px-2"),children:[a.jsx(s,{className:"h-5 w-5 shrink-0"}),!e&&a.jsx("span",{className:"truncate",children:n})]},r))})}),a.jsx(NN,{})]})}const me=y.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));me.displayName="Input";function NQ(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=y.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,kQ(s,...t)]}function kQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var CQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kN=CQ.reduce((e,t)=>{const r=cp(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),UD={exports:{}},qD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=y;function EQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PQ=typeof Object.is=="function"?Object.is:EQ,OQ=pd.useState,AQ=pd.useEffect,TQ=pd.useLayoutEffect,RQ=pd.useDebugValue;function MQ(e,t){var r=t(),n=OQ({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return TQ(function(){s.value=r,s.getSnapshot=t,Fw(s)&&i({inst:s})},[e,r,t]),AQ(function(){return Fw(s)&&i({inst:s}),e(function(){Fw(s)&&i({inst:s})})},[e]),RQ(r),r}function Fw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!PQ(e,r)}catch{return!0}}function $Q(e,t){return t()}var IQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$Q:MQ;qD.useSyncExternalStore=pd.useSyncExternalStore!==void 0?pd.useSyncExternalStore:IQ;UD.exports=qD;var DQ=UD.exports;function LQ(){return DQ.useSyncExternalStore(FQ,()=>!0,()=>!1)}function FQ(){return()=>{}}var CN="Avatar",[UQ]=NQ(CN),[qQ,BD]=UQ(CN),zD=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=y.useState("idle");return a.jsx(qQ,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(kN.span,{...n,ref:t})})});zD.displayName=CN;var WD="AvatarImage",VD=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=BD(WD,r),l=BQ(n,i),c=Zr(u=>{s(u),o.onImageLoadingStatusChange(u)});return _r(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(kN.img,{...i,ref:t,src:n}):null});VD.displayName=WD;var KD="AvatarFallback",HD=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=BD(KD,r),[o,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(kN.span,{...s,ref:t}):null});HD.displayName=KD;function QE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function BQ(e,{referrerPolicy:t,crossOrigin:r}){const n=LQ(),s=y.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=y.useState(()=>QE(i,e));return _r(()=>{l(QE(i,e))},[i,e]),_r(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var GD=zD,YD=VD,QD=HD;const Dx=y.forwardRef(({className:e,...t},r)=>a.jsx(GD,{ref:r,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Dx.displayName=GD.displayName;const EN=y.forwardRef(({className:e,...t},r)=>a.jsx(YD,{ref:r,className:J("aspect-square h-full w-full",e),...t}));EN.displayName=YD.displayName;const Lx=y.forwardRef(({className:e,...t},r)=>a.jsx(QD,{ref:r,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted text-sm font-medium",e),...t}));Lx.displayName=QD.displayName;function XE(e){const t=zQ(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(VQ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function zQ(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=HQ(s),l=KQ(i,s.props);return s.type!==y.Fragment&&(l.ref=n?to(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WQ=Symbol("radix.slottable");function VQ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WQ}function KQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function HQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Fx(e){const t=e+"CollectionProvider",[r,n]=zs(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:b}=p,v=R.useRef(null),w=R.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:w,collectionRef:v,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=XE(l),u=R.forwardRef((p,x)=>{const{scope:b,children:v}=p,w=i(l,b),_=gt(x,w.collectionRef);return a.jsx(c,{ref:_,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=XE(d),m=R.forwardRef((p,x)=>{const{scope:b,children:v,...w}=p,_=R.useRef(null),j=gt(x,_),S=i(d,b);return R.useEffect(()=>(S.itemMap.set(_,{ref:_,...w}),()=>void S.itemMap.delete(_))),a.jsx(h,{[f]:"",ref:j,children:v})});m.displayName=d;function g(p){const x=i(e+"CollectionConsumer",p);return R.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((S,N)=>w.indexOf(S.ref.current)-w.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}const GQ=["top","right","bottom","left"],il=Math.min,os=Math.max,Tv=Math.round,og=Math.floor,Ja=e=>({x:e,y:e}),YQ={left:"right",right:"left",bottom:"top",top:"bottom"},QQ={start:"end",end:"start"};function u_(e,t,r){return os(e,il(t,r))}function Bi(e,t){return typeof e=="function"?e(t):e}function zi(e){return e.split("-")[0]}function sf(e){return e.split("-")[1]}function PN(e){return e==="x"?"y":"x"}function ON(e){return e==="y"?"height":"width"}const XQ=new Set(["top","bottom"]);function Va(e){return XQ.has(zi(e))?"y":"x"}function AN(e){return PN(Va(e))}function JQ(e,t,r){r===void 0&&(r=!1);const n=sf(e),s=AN(e),i=ON(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Rv(o)),[o,Rv(o)]}function ZQ(e){const t=Rv(e);return[d_(e),t,d_(t)]}function d_(e){return e.replace(/start|end/g,t=>QQ[t])}const JE=["left","right"],ZE=["right","left"],eX=["top","bottom"],tX=["bottom","top"];function rX(e,t,r){switch(e){case"top":case"bottom":return r?t?ZE:JE:t?JE:ZE;case"left":case"right":return t?eX:tX;default:return[]}}function nX(e,t,r,n){const s=sf(e);let i=rX(zi(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(d_)))),i}function Rv(e){return e.replace(/left|right|bottom|top/g,t=>YQ[t])}function sX(e){return{top:0,right:0,bottom:0,left:0,...e}}function XD(e){return typeof e!="number"?sX(e):{top:e,right:e,bottom:e,left:e}}function Mv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function eP(e,t,r){let{reference:n,floating:s}=e;const i=Va(t),o=AN(t),l=ON(o),c=zi(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(sf(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}async function aX(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Bi(t,e),g=XD(m),x=l[h?f==="floating"?"reference":"floating":f],b=Mv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Mv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(b.top-j.top+g.top)/_.y,bottom:(j.bottom-b.bottom+g.bottom)/_.y,left:(b.left-j.left+g.left)/_.x,right:(j.right-b.right+g.right)/_.x}}const iX=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=eP(u,n,c),h=n,m={},g=0;for(let x=0;x<l.length;x++){var p;const{name:b,fn:v}=l[x],{x:w,y:_,data:j,reset:S}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:{...o,detectOverflow:(p=o.detectOverflow)!=null?p:aX},elements:{reference:e,floating:t}});d=w??d,f=_??f,m={...m,[b]:{...m[b],...j}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=eP(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}},oX=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Bi(e,t)||{};if(u==null)return{};const f=XD(d),h={x:r,y:n},m=AN(s),g=ON(m),p=await o.getDimensions(u),x=m==="y",b=x?"top":"left",v=x?"bottom":"right",w=x?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[m]-h[m]-i.floating[g],j=h[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[w]||i.floating[g]);const k=_/2-j/2,C=N/2-p[g]/2-1,E=il(f[b],C),D=il(f[v],C),O=E,q=N-p[g]-D,A=N/2-p[g]/2+k,V=u_(O,A,q),T=!c.arrow&&sf(s)!=null&&A!==V&&i.reference[g]/2-(A<O?E:D)-p[g]/2<0,K=T?A<O?A-O:A-q:0;return{[m]:h[m]+K,data:{[m]:V,centerOffset:A-V-K,...T&&{alignmentOffset:K}},reset:T}}}),lX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=Bi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=zi(s),v=Va(l),w=zi(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[Rv(l)]:ZQ(l)),S=g!=="none";!h&&S&&j.push(...nX(l,p,g,_));const N=[l,...j],k=await c.detectOverflow(t,x),C=[];let E=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[b]),f){const A=JQ(s,o,_);C.push(k[A[0]],k[A[1]])}if(E=[...E,{placement:s,overflows:C}],!C.every(A=>A<=0)){var D,O;const A=(((D=i.flip)==null?void 0:D.index)||0)+1,V=N[A];if(V&&(!(f==="alignment"?v!==Va(V):!1)||E.every(M=>Va(M.placement)===v?M.overflows[0]>0:!0)))return{data:{index:A,overflows:E},reset:{placement:V}};let T=(O=E.filter(K=>K.overflows[0]<=0).sort((K,M)=>K.overflows[1]-M.overflows[1])[0])==null?void 0:O.placement;if(!T)switch(m){case"bestFit":{var q;const K=(q=E.filter(M=>{if(S){const $=Va(M.placement);return $===v||$==="y"}return!0}).map(M=>[M.placement,M.overflows.filter($=>$>0).reduce(($,I)=>$+I,0)]).sort((M,$)=>M[1]-$[1])[0])==null?void 0:q[0];K&&(T=K);break}case"initialPlacement":T=l;break}if(s!==T)return{reset:{placement:T}}}return{}}}};function tP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rP(e){return GQ.some(t=>e[t]>=0)}const cX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...i}=Bi(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...i,elementContext:"reference"}),l=tP(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:rP(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...i,altBoundary:!0}),l=tP(o,r.floating);return{data:{escapedOffsets:l,escaped:rP(l)}}}default:return{}}}}},JD=new Set(["left","top"]);async function uX(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=zi(r),l=sf(r),c=Va(r)==="y",u=JD.has(o)?-1:1,d=i&&c?-1:1,f=Bi(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const dX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await uX(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},fX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:v,y:w}=b;return{x:v,y:w}}},...u}=Bi(e,t),d={x:r,y:n},f=await i.detectOverflow(t,u),h=Va(zi(s)),m=PN(h);let g=d[m],p=d[h];if(o){const b=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=g+f[b],_=g-f[v];g=u_(w,g,_)}if(l){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=p+f[b],_=p-f[v];p=u_(w,p,_)}const x=c.fn({...t,[m]:g,[h]:p});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:o,[h]:l}}}}}},hX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Bi(e,t),d={x:r,y:n},f=Va(s),h=PN(f);let m=d[h],g=d[f];const p=Bi(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+x.mainAxis,j=i.reference[h]+i.reference[w]-x.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var b,v;const w=h==="y"?"width":"height",_=JD.has(zi(s)),j=i.reference[f]-i.floating[w]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:x.crossAxis),S=i.reference[f]+i.reference[w]+(_?0:((v=o.offset)==null?void 0:v[f])||0)-(_?x.crossAxis:0);g<j?g=j:g>S&&(g=S)}return{[h]:m,[f]:g}}}},mX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Bi(e,t),d=await o.detectOverflow(t,u),f=zi(s),h=sf(s),m=Va(s)==="y",{width:g,height:p}=i.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,x=h==="end"?"top":"bottom");const v=p-d.top-d.bottom,w=g-d.left-d.right,_=il(p-d[x],v),j=il(g-d[b],w),S=!t.middlewareData.shift;let N=_,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=v),S&&!h){const E=os(d.left,0),D=os(d.right,0),O=os(d.top,0),q=os(d.bottom,0);m?k=g-2*(E!==0||D!==0?E+D:os(d.left,d.right)):N=p-2*(O!==0||q!==0?O+q:os(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function Ux(){return typeof window<"u"}function af(e){return ZD(e)?(e.nodeName||"").toLowerCase():"#document"}function ms(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function li(e){var t;return(t=(ZD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ZD(e){return Ux()?e instanceof Node||e instanceof ms(e).Node:!1}function ka(e){return Ux()?e instanceof Element||e instanceof ms(e).Element:!1}function ni(e){return Ux()?e instanceof HTMLElement||e instanceof ms(e).HTMLElement:!1}function nP(e){return!Ux()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ms(e).ShadowRoot}const pX=new Set(["inline","contents"]);function up(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ca(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!pX.has(s)}const gX=new Set(["table","td","th"]);function vX(e){return gX.has(af(e))}const yX=[":popover-open",":modal"];function qx(e){return yX.some(t=>{try{return e.matches(t)}catch{return!1}})}const xX=["transform","translate","scale","rotate","perspective"],bX=["transform","translate","scale","rotate","perspective","filter"],wX=["paint","layout","strict","content"];function TN(e){const t=RN(),r=ka(e)?Ca(e):e;return xX.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||bX.some(n=>(r.willChange||"").includes(n))||wX.some(n=>(r.contain||"").includes(n))}function jX(e){let t=ol(e);for(;ni(t)&&!gd(t);){if(TN(t))return t;if(qx(t))return null;t=ol(t)}return null}function RN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _X=new Set(["html","body","#document"]);function gd(e){return _X.has(af(e))}function Ca(e){return ms(e).getComputedStyle(e)}function Bx(e){return ka(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ol(e){if(af(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nP(e)&&e.host||li(e);return nP(t)?t.host:t}function eL(e){const t=ol(e);return gd(t)?e.ownerDocument?e.ownerDocument.body:e.body:ni(t)&&up(t)?t:eL(t)}function am(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=eL(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=ms(s);if(i){const l=f_(o);return t.concat(o,o.visualViewport||[],up(s)?s:[],l&&r?am(l):[])}return t.concat(s,am(s,[],r))}function f_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tL(e){const t=Ca(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ni(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Tv(r)!==i||Tv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function MN(e){return ka(e)?e:e.contextElement}function Iu(e){const t=MN(e);if(!ni(t))return Ja(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=tL(t);let o=(i?Tv(r.width):r.width)/n,l=(i?Tv(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const SX=Ja(0);function rL(e){const t=ms(e);return!RN()||!t.visualViewport?SX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function NX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ms(e)?!1:t}function gc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=MN(e);let o=Ja(1);t&&(n?ka(n)&&(o=Iu(n)):o=Iu(e));const l=NX(i,r,n)?rL(i):Ja(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=ms(i),m=n&&ka(n)?ms(n):n;let g=h,p=f_(g);for(;p&&n&&m!==g;){const x=Iu(p),b=p.getBoundingClientRect(),v=Ca(p),w=b.left+(p.clientLeft+parseFloat(v.paddingLeft))*x.x,_=b.top+(p.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=w,u+=_,g=ms(p),p=f_(g)}}return Mv({width:d,height:f,x:c,y:u})}function zx(e,t){const r=Bx(e).scrollLeft;return t?t.left+r:gc(li(e)).left+r}function nL(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-zx(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function kX(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=li(n),l=t?qx(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ja(1);const d=Ja(0),f=ni(n);if((f||!f&&!i)&&((af(n)!=="body"||up(o))&&(c=Bx(n)),ni(n))){const m=gc(n);u=Iu(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?nL(o,c):Ja(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function CX(e){return Array.from(e.getClientRects())}function EX(e){const t=li(e),r=Bx(e),n=e.ownerDocument.body,s=os(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=os(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+zx(e);const l=-r.scrollTop;return Ca(n).direction==="rtl"&&(o+=os(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const sP=25;function PX(e,t){const r=ms(e),n=li(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=RN();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=zx(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-m);g<=sP&&(i-=g)}else u<=sP&&(i+=u);return{width:i,height:o,x:l,y:c}}const OX=new Set(["absolute","fixed"]);function AX(e,t){const r=gc(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=ni(e)?Iu(e):Ja(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function aP(e,t,r){let n;if(t==="viewport")n=PX(e,r);else if(t==="document")n=EX(li(e));else if(ka(t))n=AX(t,r);else{const s=rL(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Mv(n)}function sL(e,t){const r=ol(e);return r===t||!ka(r)||gd(r)?!1:Ca(r).position==="fixed"||sL(r,t)}function TX(e,t){const r=t.get(e);if(r)return r;let n=am(e,[],!1).filter(l=>ka(l)&&af(l)!=="body"),s=null;const i=Ca(e).position==="fixed";let o=i?ol(e):e;for(;ka(o)&&!gd(o);){const l=Ca(o),c=TN(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&OX.has(s.position)||up(o)&&!c&&sL(e,o))?n=n.filter(d=>d!==o):s=l,o=ol(o)}return t.set(e,n),n}function RX(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?qx(t)?[]:TX(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=aP(t,d,s);return u.top=os(f.top,u.top),u.right=il(f.right,u.right),u.bottom=il(f.bottom,u.bottom),u.left=os(f.left,u.left),u},aP(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function MX(e){const{width:t,height:r}=tL(e);return{width:t,height:r}}function $X(e,t,r){const n=ni(t),s=li(t),i=r==="fixed",o=gc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ja(0);function u(){c.x=zx(s)}if(n||!n&&!i)if((af(t)!=="body"||up(s))&&(l=Bx(t)),n){const m=gc(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?nL(s,l):Ja(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Uw(e){return Ca(e).position==="static"}function iP(e,t){if(!ni(e)||Ca(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return li(e)===r&&(r=r.ownerDocument.body),r}function aL(e,t){const r=ms(e);if(qx(e))return r;if(!ni(e)){let s=ol(e);for(;s&&!gd(s);){if(ka(s)&&!Uw(s))return s;s=ol(s)}return r}let n=iP(e,t);for(;n&&vX(n)&&Uw(n);)n=iP(n,t);return n&&gd(n)&&Uw(n)&&!TN(n)?r:n||jX(e)||r}const IX=async function(e){const t=this.getOffsetParent||aL,r=this.getDimensions,n=await r(e.floating);return{reference:$X(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function DX(e){return Ca(e).direction==="rtl"}const LX={convertOffsetParentRelativeRectToViewportRelativeRect:kX,getDocumentElement:li,getClippingRect:RX,getOffsetParent:aL,getElementRects:IX,getClientRects:CX,getDimensions:MX,getScale:Iu,isElement:ka,isRTL:DX};function iL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function FX(e,t){let r=null,n;const s=li(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=og(f),p=og(s.clientWidth-(d+h)),x=og(s.clientHeight-(f+m)),b=og(d),w={rootMargin:-g+"px "+-p+"px "+-x+"px "+-b+"px",threshold:os(0,il(1,c))||1};let _=!0;function j(S){const N=S[0].intersectionRatio;if(N!==c){if(!_)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!iL(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function UX(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=MN(e),d=s||i?[...u?am(u):[],...am(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?FX(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?gc(e):null;c&&x();function x(){const b=gc(e);p&&!iL(p,b)&&r(),p=b,g=requestAnimationFrame(x)}return r(),()=>{var b;d.forEach(v=>{s&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const qX=dX,BX=fX,zX=lX,WX=mX,VX=cX,oP=oX,KX=hX,HX=(e,t,r)=>{const n=new Map,s={platform:LX,...r},i={...s.platform,_c:n};return iX(e,t,{...s,platform:i})};var GX=typeof document<"u",YX=function(){},Kg=GX?y.useLayoutEffect:YX;function $v(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!$v(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!$v(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function oL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lP(e,t){const r=oL(e);return Math.round(t*r)/r}function qw(e){const t=y.useRef(e);return Kg(()=>{t.current=e}),t}function QX(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(n);$v(h,n)||m(n);const[g,p]=y.useState(null),[x,b]=y.useState(null),v=y.useCallback(M=>{M!==S.current&&(S.current=M,p(M))},[]),w=y.useCallback(M=>{M!==N.current&&(N.current=M,b(M))},[]),_=i||g,j=o||x,S=y.useRef(null),N=y.useRef(null),k=y.useRef(d),C=c!=null,E=qw(c),D=qw(s),O=qw(u),q=y.useCallback(()=>{if(!S.current||!N.current)return;const M={placement:t,strategy:r,middleware:h};D.current&&(M.platform=D.current),HX(S.current,N.current,M).then($=>{const I={...$,isPositioned:O.current!==!1};A.current&&!$v(k.current,I)&&(k.current=I,Hd.flushSync(()=>{f(I)}))})},[h,t,r,D,O]);Kg(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const A=y.useRef(!1);Kg(()=>(A.current=!0,()=>{A.current=!1}),[]),Kg(()=>{if(_&&(S.current=_),j&&(N.current=j),_&&j){if(E.current)return E.current(_,j,q);q()}},[_,j,q,E,C]);const V=y.useMemo(()=>({reference:S,floating:N,setReference:v,setFloating:w}),[v,w]),T=y.useMemo(()=>({reference:_,floating:j}),[_,j]),K=y.useMemo(()=>{const M={position:r,left:0,top:0};if(!T.floating)return M;const $=lP(T.floating,d.x),I=lP(T.floating,d.y);return l?{...M,transform:"translate("+$+"px, "+I+"px)",...oL(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:I}},[r,l,T.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:q,refs:V,elements:T,floatingStyles:K}),[d,q,V,T,K])}const XX=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?oP({element:n.current,padding:s}).fn(r):{}:n?oP({element:n,padding:s}).fn(r):{}}}},JX=(e,t)=>({...qX(e),options:[e,t]}),ZX=(e,t)=>({...BX(e),options:[e,t]}),eJ=(e,t)=>({...KX(e),options:[e,t]}),tJ=(e,t)=>({...zX(e),options:[e,t]}),rJ=(e,t)=>({...WX(e),options:[e,t]}),nJ=(e,t)=>({...VX(e),options:[e,t]}),sJ=(e,t)=>({...XX(e),options:[e,t]});var aJ="Arrow",lL=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Qe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});lL.displayName=aJ;var iJ=lL;function cL(e){const[t,r]=y.useState(void 0);return _r(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var $N="Popper",[uL,Wx]=zs($N),[oJ,dL]=uL($N),fL=e=>{const{__scopePopper:t,children:r}=e,[n,s]=y.useState(null);return a.jsx(oJ,{scope:t,anchor:n,onAnchorChange:s,children:r})};fL.displayName=$N;var hL="PopperAnchor",mL=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=dL(hL,r),o=y.useRef(null),l=gt(t,o),c=y.useRef(null);return y.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Qe.div,{...s,ref:l})});mL.displayName=hL;var IN="PopperContent",[lJ,cJ]=uL(IN),pL=y.forwardRef((e,t)=>{var he,Be,ae,_e,Y,Q;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,x=dL(IN,r),[b,v]=y.useState(null),w=gt(t,Xe=>v(Xe)),[_,j]=y.useState(null),S=cL(_),N=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,C=n+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],O=D.length>0,q={padding:E,boundary:D.filter(dJ),altBoundary:O},{refs:A,floatingStyles:V,placement:T,isPositioned:K,middlewareData:M}=QX({strategy:"fixed",placement:C,whileElementsMounted:(...Xe)=>UX(...Xe,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[JX({mainAxis:s+k,alignmentAxis:o}),c&&ZX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?eJ():void 0,...q}),c&&tJ({...q}),rJ({...q,apply:({elements:Xe,rects:He,availableWidth:xt,availableHeight:ft})=>{const{width:Wt,height:Nr}=He.reference,fn=Xe.floating.style;fn.setProperty("--radix-popper-available-width",`${xt}px`),fn.setProperty("--radix-popper-available-height",`${ft}px`),fn.setProperty("--radix-popper-anchor-width",`${Wt}px`),fn.setProperty("--radix-popper-anchor-height",`${Nr}px`)}}),_&&sJ({element:_,padding:l}),fJ({arrowWidth:N,arrowHeight:k}),h&&nJ({strategy:"referenceHidden",...q})]}),[$,I]=yL(T),ee=Zr(g);_r(()=>{K&&(ee==null||ee())},[K,ee]);const L=(he=M.arrow)==null?void 0:he.x,oe=(Be=M.arrow)==null?void 0:Be.y,ye=((ae=M.arrow)==null?void 0:ae.centerOffset)!==0,[Ve,Ke]=y.useState();return _r(()=>{b&&Ke(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:K?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(_e=M.transformOrigin)==null?void 0:_e.x,(Y=M.transformOrigin)==null?void 0:Y.y].join(" "),...((Q=M.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(lJ,{scope:r,placedSide:$,onArrowChange:j,arrowX:L,arrowY:oe,shouldHideArrow:ye,children:a.jsx(Qe.div,{"data-side":$,"data-align":I,...p,ref:w,style:{...p.style,animation:K?void 0:"none"}})})})});pL.displayName=IN;var gL="PopperArrow",uJ={top:"bottom",right:"left",bottom:"top",left:"right"},vL=y.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=cJ(gL,n),o=uJ[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(iJ,{...s,ref:r,style:{...s.style,display:"block"}})})});vL.displayName=gL;function dJ(e){return e!==null}var fJ=e=>({name:"transformOrigin",options:e,fn(t){var x,b,v;const{placement:r,rects:n,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=yL(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function yL(e){const[t,r="center"]=e.split("-");return[t,r]}var xL=fL,bL=mL,wL=pL,jL=vL,Bw="rovingFocusGroup.onEntryFocus",hJ={bubbles:!1,cancelable:!0},dp="RovingFocusGroup",[h_,_L,mJ]=Fx(dp),[pJ,Vx]=zs(dp,[mJ]),[gJ,vJ]=pJ(dp),SL=y.forwardRef((e,t)=>a.jsx(h_.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(h_.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(yJ,{...e,ref:t})})}));SL.displayName=dp;var yJ=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),m=gt(t,h),g=nf(i),[p,x]=ri({prop:o,defaultProp:l??null,onChange:c,caller:dp}),[b,v]=y.useState(!1),w=Zr(u),_=_L(r),j=y.useRef(!1),[S,N]=y.useState(0);return y.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Bw,w),()=>k.removeEventListener(Bw,w)},[w]),a.jsx(gJ,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:p,onItemFocus:y.useCallback(k=>x(k),[x]),onItemShiftTab:y.useCallback(()=>v(!0),[]),onFocusableItemAdd:y.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:y.useCallback(()=>N(k=>k-1),[]),children:a.jsx(Qe.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Re(e.onMouseDown,()=>{j.current=!0}),onFocus:Re(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!b){const E=new CustomEvent(Bw,hJ);if(k.currentTarget.dispatchEvent(E),!E.defaultPrevented){const D=_().filter(T=>T.focusable),O=D.find(T=>T.active),q=D.find(T=>T.id===p),V=[O,q,...D].filter(Boolean).map(T=>T.ref.current);CL(V,d)}}j.current=!1}),onBlur:Re(e.onBlur,()=>v(!1))})})}),NL="RovingFocusGroupItem",kL=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=$s(),u=i||c,d=vJ(NL,r),f=d.currentTabStopId===u,h=_L(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return y.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),a.jsx(h_.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Qe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Re(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:Re(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Re(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=wJ(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(x.currentTarget);w=d.loop?jJ(w,_+1):w.slice(_+1)}setTimeout(()=>CL(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});kL.displayName=NL;var xJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wJ(e,t,r){const n=bJ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return xJ[n]}function CL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function jJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var EL=SL,PL=kL;function _J(e){const t=SJ(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(kJ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function SJ(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=EJ(s),l=CJ(i,s.props);return s.type!==y.Fragment&&(l.ref=n?to(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NJ=Symbol("radix.slottable");function kJ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NJ}function CJ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function EJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var m_=["Enter"," "],PJ=["ArrowDown","PageUp","Home"],OL=["ArrowUp","PageDown","End"],OJ=[...PJ,...OL],AJ={ltr:[...m_,"ArrowRight"],rtl:[...m_,"ArrowLeft"]},TJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fp="Menu",[im,RJ,MJ]=Fx(fp),[Tc,AL]=zs(fp,[MJ,Wx,Vx]),Kx=Wx(),TL=Vx(),[$J,Rc]=Tc(fp),[IJ,hp]=Tc(fp),RL=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=Kx(t),[c,u]=y.useState(null),d=y.useRef(!1),f=Zr(i),h=nf(s);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),a.jsx(xL,{...l,children:a.jsx($J,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(IJ,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};RL.displayName=fp;var DJ="MenuAnchor",DN=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Kx(r);return a.jsx(bL,{...s,...n,ref:t})});DN.displayName=DJ;var LN="MenuPortal",[LJ,ML]=Tc(LN,{forceMount:void 0}),$L=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Rc(LN,t);return a.jsx(LJ,{scope:t,forceMount:r,children:a.jsx(Zn,{present:r||i.open,children:a.jsx(Ax,{asChild:!0,container:s,children:n})})})};$L.displayName=LN;var Is="MenuContent",[FJ,FN]=Tc(Is),IL=y.forwardRef((e,t)=>{const r=ML(Is,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Rc(Is,e.__scopeMenu),o=hp(Is,e.__scopeMenu);return a.jsx(im.Provider,{scope:e.__scopeMenu,children:a.jsx(Zn,{present:n||i.open,children:a.jsx(im.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(UJ,{...s,ref:t}):a.jsx(qJ,{...s,ref:t})})})})}),UJ=y.forwardRef((e,t)=>{const r=Rc(Is,e.__scopeMenu),n=y.useRef(null),s=gt(t,n);return y.useEffect(()=>{const i=n.current;if(i)return gN(i)},[]),a.jsx(UN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Re(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),qJ=y.forwardRef((e,t)=>{const r=Rc(Is,e.__scopeMenu);return a.jsx(UN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),BJ=_J("MenuContent.ScrollLock"),UN=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,x=Rc(Is,r),b=hp(Is,r),v=Kx(r),w=TL(r),_=RJ(r),[j,S]=y.useState(null),N=y.useRef(null),k=gt(t,N,x.onContentChange),C=y.useRef(0),E=y.useRef(""),D=y.useRef(0),O=y.useRef(null),q=y.useRef("right"),A=y.useRef(0),V=g?Rx:y.Fragment,T=g?{as:BJ,allowPinchZoom:!0}:void 0,K=$=>{var he,Be;const I=E.current+$,ee=_().filter(ae=>!ae.disabled),L=document.activeElement,oe=(he=ee.find(ae=>ae.ref.current===L))==null?void 0:he.textValue,ye=ee.map(ae=>ae.textValue),Ve=eZ(ye,I,oe),Ke=(Be=ee.find(ae=>ae.textValue===Ve))==null?void 0:Be.ref.current;(function ae(_e){E.current=_e,window.clearTimeout(C.current),_e!==""&&(C.current=window.setTimeout(()=>ae(""),1e3))})(I),Ke&&setTimeout(()=>Ke.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),pN();const M=y.useCallback($=>{var ee,L;return q.current===((ee=O.current)==null?void 0:ee.side)&&rZ($,(L=O.current)==null?void 0:L.area)},[]);return a.jsx(FJ,{scope:r,searchRef:E,onItemEnter:y.useCallback($=>{M($)&&$.preventDefault()},[M]),onItemLeave:y.useCallback($=>{var I;M($)||((I=N.current)==null||I.focus(),S(null))},[M]),onTriggerLeave:y.useCallback($=>{M($)&&$.preventDefault()},[M]),pointerGraceTimerRef:D,onPointerGraceIntentChange:y.useCallback($=>{O.current=$},[]),children:a.jsx(V,{...T,children:a.jsx(Ox,{asChild:!0,trapped:s,onMountAutoFocus:Re(i,$=>{var I;$.preventDefault(),(I=N.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Px,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:a.jsx(EL,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:Re(c,$=>{b.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(wL,{role:"menu","aria-orientation":"vertical","data-state":JL(x.open),"data-radix-menu-content":"",dir:b.dir,...v,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:Re(p.onKeyDown,$=>{const ee=$.target.closest("[data-radix-menu-content]")===$.currentTarget,L=$.ctrlKey||$.altKey||$.metaKey,oe=$.key.length===1;ee&&($.key==="Tab"&&$.preventDefault(),!L&&oe&&K($.key));const ye=N.current;if($.target!==ye||!OJ.includes($.key))return;$.preventDefault();const Ke=_().filter(he=>!he.disabled).map(he=>he.ref.current);OL.includes($.key)&&Ke.reverse(),JJ(Ke)}),onBlur:Re(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(C.current),E.current="")}),onPointerMove:Re(e.onPointerMove,om($=>{const I=$.target,ee=A.current!==$.clientX;if($.currentTarget.contains(I)&&ee){const L=$.clientX>A.current?"right":"left";q.current=L,A.current=$.clientX}}))})})})})})})});IL.displayName=Is;var zJ="MenuGroup",qN=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{role:"group",...n,ref:t})});qN.displayName=zJ;var WJ="MenuLabel",DL=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{...n,ref:t})});DL.displayName=WJ;var Iv="MenuItem",cP="menu.itemSelect",Hx=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=y.useRef(null),o=hp(Iv,e.__scopeMenu),l=FN(Iv,e.__scopeMenu),c=gt(t,i),u=y.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(cP,{bubbles:!0,cancelable:!0});f.addEventListener(cP,m=>n==null?void 0:n(m),{once:!0}),VI(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(LL,{...s,ref:c,disabled:r,onClick:Re(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Re(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Re(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||m_.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Hx.displayName=Iv;var LL=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=FN(Iv,r),l=TL(r),c=y.useRef(null),u=gt(t,c),[d,f]=y.useState(!1),[h,m]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),a.jsx(im.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(PL,{asChild:!0,...l,focusable:!n,children:a.jsx(Qe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Re(e.onPointerMove,om(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Re(e.onPointerLeave,om(g=>o.onItemLeave(g))),onFocus:Re(e.onFocus,()=>f(!0)),onBlur:Re(e.onBlur,()=>f(!1))})})})}),VJ="MenuCheckboxItem",FL=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(WL,{scope:e.__scopeMenu,checked:r,children:a.jsx(Hx,{role:"menuitemcheckbox","aria-checked":Dv(r)?"mixed":r,...s,ref:t,"data-state":zN(r),onSelect:Re(s.onSelect,()=>n==null?void 0:n(Dv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});FL.displayName=VJ;var UL="MenuRadioGroup",[KJ,HJ]=Tc(UL,{value:void 0,onValueChange:()=>{}}),qL=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Zr(n);return a.jsx(KJ,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(qN,{...s,ref:t})})});qL.displayName=UL;var BL="MenuRadioItem",zL=y.forwardRef((e,t)=>{const{value:r,...n}=e,s=HJ(BL,e.__scopeMenu),i=r===s.value;return a.jsx(WL,{scope:e.__scopeMenu,checked:i,children:a.jsx(Hx,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":zN(i),onSelect:Re(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});zL.displayName=BL;var BN="MenuItemIndicator",[WL,GJ]=Tc(BN,{checked:!1}),VL=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=GJ(BN,r);return a.jsx(Zn,{present:n||Dv(i.checked)||i.checked===!0,children:a.jsx(Qe.span,{...s,ref:t,"data-state":zN(i.checked)})})});VL.displayName=BN;var YJ="MenuSeparator",KL=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});KL.displayName=YJ;var QJ="MenuArrow",HL=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Kx(r);return a.jsx(jL,{...s,...n,ref:t})});HL.displayName=QJ;var XJ="MenuSub",[x4e,GL]=Tc(XJ),lh="MenuSubTrigger",YL=y.forwardRef((e,t)=>{const r=Rc(lh,e.__scopeMenu),n=hp(lh,e.__scopeMenu),s=GL(lh,e.__scopeMenu),i=FN(lh,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(DN,{asChild:!0,...u,children:a.jsx(LL,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":JL(r.open),...e,ref:to(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Re(e.onPointerMove,om(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Re(e.onPointerLeave,om(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,x=p==="right",b=x?-5:5,v=h[x?"left":"right"],w=h[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:v,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:v,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Re(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||AJ[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});YL.displayName=lh;var QL="MenuSubContent",XL=y.forwardRef((e,t)=>{const r=ML(Is,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Rc(Is,e.__scopeMenu),o=hp(Is,e.__scopeMenu),l=GL(QL,e.__scopeMenu),c=y.useRef(null),u=gt(t,c);return a.jsx(im.Provider,{scope:e.__scopeMenu,children:a.jsx(Zn,{present:n||i.open,children:a.jsx(im.Slot,{scope:e.__scopeMenu,children:a.jsx(UN,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Re(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Re(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Re(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=TJ[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});XL.displayName=QL;function JL(e){return e?"open":"closed"}function Dv(e){return e==="indeterminate"}function zN(e){return Dv(e)?"indeterminate":e?"checked":"unchecked"}function JJ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function ZJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function eZ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=ZJ(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function tZ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function rZ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return tZ(r,t)}function om(e){return t=>t.pointerType==="mouse"?e(t):void 0}var nZ=RL,sZ=DN,aZ=$L,iZ=IL,oZ=qN,lZ=DL,cZ=Hx,uZ=FL,dZ=qL,fZ=zL,hZ=VL,mZ=KL,pZ=HL,gZ=YL,vZ=XL,Gx="DropdownMenu",[yZ]=zs(Gx,[AL]),Dn=AL(),[xZ,ZL]=yZ(Gx),e3=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Dn(t),u=y.useRef(null),[d,f]=ri({prop:s,defaultProp:i??!1,onChange:o,caller:Gx});return a.jsx(xZ,{scope:t,triggerId:$s(),triggerRef:u,contentId:$s(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(nZ,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};e3.displayName=Gx;var t3="DropdownMenuTrigger",r3=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=ZL(t3,r),o=Dn(r);return a.jsx(sZ,{asChild:!0,...o,children:a.jsx(Qe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:to(t,i.triggerRef),onPointerDown:Re(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Re(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});r3.displayName=t3;var bZ="DropdownMenuPortal",n3=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Dn(t);return a.jsx(aZ,{...n,...r})};n3.displayName=bZ;var s3="DropdownMenuContent",a3=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ZL(s3,r),i=Dn(r),o=y.useRef(!1);return a.jsx(iZ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:Re(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Re(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});a3.displayName=s3;var wZ="DropdownMenuGroup",jZ=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dn(r);return a.jsx(oZ,{...s,...n,ref:t})});jZ.displayName=wZ;var _Z="DropdownMenuLabel",i3=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dn(r);return a.jsx(lZ,{...s,...n,ref:t})});i3.displayName=_Z;var SZ="DropdownMenuItem",o3=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dn(r);return a.jsx(cZ,{...s,...n,ref:t})});o3.displayName=SZ;var NZ="DropdownMenuCheckboxItem",l3=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dn(r);return a.jsx(uZ,{...s,...n,ref:t})});l3.displayName=NZ;var kZ="DropdownMenuRadioGroup",CZ=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dn(r);return a.jsx(dZ,{...s,...n,ref:t})});CZ.displayName=kZ;var EZ="DropdownMenuRadioItem",c3=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dn(r);return a.jsx(fZ,{...s,...n,ref:t})});c3.displayName=EZ;var PZ="DropdownMenuItemIndicator",u3=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dn(r);return a.jsx(hZ,{...s,...n,ref:t})});u3.displayName=PZ;var OZ="DropdownMenuSeparator",d3=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dn(r);return a.jsx(mZ,{...s,...n,ref:t})});d3.displayName=OZ;var AZ="DropdownMenuArrow",TZ=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dn(r);return a.jsx(pZ,{...s,...n,ref:t})});TZ.displayName=AZ;var RZ="DropdownMenuSubTrigger",f3=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dn(r);return a.jsx(gZ,{...s,...n,ref:t})});f3.displayName=RZ;var MZ="DropdownMenuSubContent",h3=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dn(r);return a.jsx(vZ,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});h3.displayName=MZ;var $Z=e3,IZ=r3,DZ=n3,m3=a3,p3=i3,g3=o3,v3=l3,y3=c3,x3=u3,b3=d3,w3=f3,j3=h3;const Ds=$Z,Ls=IZ,LZ=y.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(w3,{ref:s,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Rr,{className:"ml-auto h-4 w-4"})]}));LZ.displayName=w3.displayName;const FZ=y.forwardRef(({className:e,...t},r)=>a.jsx(j3,{ref:r,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));FZ.displayName=j3.displayName;const ps=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(DZ,{children:a.jsx(m3,{ref:n,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ps.displayName=m3.displayName;const Mt=y.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(g3,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Mt.displayName=g3.displayName;const UZ=y.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(v3,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(x3,{children:a.jsx(Zd,{className:"h-4 w-4"})})}),t]}));UZ.displayName=v3.displayName;const qZ=y.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(y3,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(x3,{children:a.jsx(a_,{className:"h-2 w-2 fill-current"})})}),t]}));qZ.displayName=y3.displayName;const _3=y.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(p3,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));_3.displayName=p3.displayName;const p_=y.forwardRef(({className:e,...t},r)=>a.jsx(b3,{ref:r,className:J("-mx-1 my-1 h-px bg-border",e),...t}));p_.displayName=b3.displayName;function BZ({open:e,onOpenChange:t,onConfirm:r,isConfirming:n=!1,className:s}){const i=async()=>{await r(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:J("max-w-[640px] rounded-[10px] border border-border bg-card shadow-lg",s),"aria-describedby":"logout-confirm-description",children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-muted",children:a.jsx(PI,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ae,{children:"Sign out"}),a.jsx(Te,{id:"logout-confirm-description",children:"Are you sure you want to sign out? You can sign in again anytime."})]})]})}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"button",variant:"default",onClick:i,disabled:n,className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-md",children:n?"Signing out":"Sign out"})]})]})})}function zZ({className:e}){var d;const{user:t,signOut:r,isLoading:n}=wx(),s=hl(),[i,o]=y.useState(!1),[l,c]=y.useState(!1),u=async()=>{c(!0),await r(),c(!1),o(!1),s("/",{replace:!0})};return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:J("flex h-14 items-center gap-4 border-b border-border bg-card px-4",e),children:[a.jsx("div",{className:"flex flex-1 items-center gap-4",children:a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(ip,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(me,{type:"search",placeholder:"Search...",className:"pl-9 rounded-md border-border","aria-label":"Search"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P,{variant:"ghost",size:"icon","aria-label":"Notifications",children:a.jsx(i7,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(fe,{to:"/help","aria-label":"Help",children:a.jsx(ef,{className:"h-4 w-4"})})}),!n&&(t?a.jsxs(Ds,{children:[a.jsx(Ls,{asChild:!0,children:a.jsx(P,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all hover:scale-[1.02]","aria-label":"Account menu",children:a.jsxs(Dx,{className:"h-10 w-10",children:[a.jsx(EN,{src:(d=t.user_metadata)==null?void 0:d.avatar_url,alt:t.email??"User"}),a.jsx(Lx,{className:"bg-primary/20 text-primary",children:a.jsx(lp,{className:"h-5 w-5"})})]})})}),a.jsxs(ps,{align:"end",className:"w-56 rounded-md border-border bg-card shadow-lg",children:[a.jsx(_3,{children:a.jsx("span",{className:"font-normal text-muted-foreground",children:t.email})}),a.jsx(p_,{}),a.jsx(Mt,{asChild:!0,children:a.jsx(fe,{to:"/profile",children:"Profile"})}),a.jsx(Mt,{asChild:!0,children:a.jsx(fe,{to:"/settings",children:"Settings"})}),a.jsx(p_,{}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onSelect:f=>{f.preventDefault(),o(!0)},children:[a.jsx(PI,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Log out"]})]})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx(fe,{to:"/login",children:"Sign in"})}),a.jsx(P,{size:"sm",asChild:!0,children:a.jsx(fe,{to:"/signup",children:"Sign up"})})]}))]})]}),a.jsx(BZ,{open:i,onOpenChange:o,onConfirm:u,isConfirming:l})]})}function WZ(){return a.jsxs("div",{className:"flex min-h-screen bg-background",children:[a.jsx(SQ,{}),a.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[a.jsx(zZ,{}),a.jsx("main",{className:J("flex-1 overflow-auto p-4 md:p-6","max-w-content mx-auto w-full"),children:a.jsx(B4,{})})]})]})}const X=y.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("rounded-[10px] border border-border bg-card text-card-foreground shadow-card transition-shadow hover:shadow-card-hover",e),...t}));X.displayName="Card";const te=y.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-3 sm:p-6",e),...t}));te.displayName="CardHeader";const ne=y.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));ne.displayName="CardTitle";const ge=y.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));ge.displayName="CardDescription";const Z=y.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));Z.displayName="CardContent";const VZ=y.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex items-center p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));VZ.displayName="CardFooter";const KZ="reveal-visible";function lg(e){const t=y.useRef(null),[r,n]=y.useState(!1);return y.useEffect(()=>{const s=t.current;if(!s)return;const i=new IntersectionObserver(([o])=>{o!=null&&o.isIntersecting&&(n(!0),s.classList.add(KZ))},{rootMargin:"0px 0px -60px 0px",threshold:.1,...e});return i.observe(s),()=>i.disconnect()},[e==null?void 0:e.rootMargin,e==null?void 0:e.threshold]),{ref:t,visible:r}}const HZ=[{id:"1",name:"Chat-native control",description:"Control your agent from WhatsApp, Telegram, Slack, and Discord. One gateway, all your channels.",iconName:"MessageSquare"},{id:"2",name:"Skills & tools",description:"Load skills from SKILL.md with gating checks, run tools with sandboxing and policy whitelists.",iconName:"Zap"},{id:"3",name:"Paired nodes",description:"Pair devices via QR or code. Manage exec allowlists, wake config, and approvals per node.",iconName:"Smartphone"},{id:"4",name:"Browser automation",description:"Managed Chromium profile, CDP abstraction, and capture tools for screenshots, PDF, and DOM.",iconName:"Globe"},{id:"5",name:"Security audit",description:"Automated checks for plaintext secrets, open binds, and risky permissions. Remediation and auto-fix.",iconName:"Shield"},{id:"6",name:"Cron & webhooks",description:"Schedule jobs and inbound webhooks with token auth, lifecycle hooks, and payload transforms.",iconName:"Clock"}],GZ=[{id:"tg",providerName:"Telegram",category:"chat"},{id:"wa",providerName:"WhatsApp",category:"chat"},{id:"slack",providerName:"Slack",category:"chat"},{id:"discord",providerName:"Discord",category:"chat"},{id:"openai",providerName:"OpenAI",category:"model"},{id:"anthropic",providerName:"Anthropic",category:"model"},{id:"ollama",providerName:"Ollama",category:"model"}],YZ=[{id:"free",planName:"Free",description:"Local gateway, core features",price:"$0",features:["Local-only mode","Control UI","1 channel","Community support"]},{id:"pro",planName:"Pro",description:"Cloud-linked, more channels",price:"TBD",features:["Everything in Free","Multiple channels","Skills registry","Email support"]},{id:"enterprise",planName:"Enterprise",description:"Multi-workspace, SSO, SLA",price:"Contact us",features:["Everything in Pro","Admin dashboard","RBAC","Dedicated support"]}],QZ={MessageSquare:ap,Zap:LI,Smartphone:w7,Globe:kI,Shield:jr,Clock:Bo};function XZ(){const[e,t]=y.useState(null),r=lg(),n=lg(),s=lg(),i=lg();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed left-0 right-0 top-0 z-40 border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(fe,{to:"/",className:"text-xl font-semibold text-foreground",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-6",children:[a.jsx("a",{href:"#features",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Features"}),a.jsx("a",{href:"#quick-start",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Quick start"}),a.jsx("a",{href:"#pricing",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Pricing"}),a.jsx(fe,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Docs"}),a.jsx(fe,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(P,{asChild:!0,size:"sm",children:a.jsx(fe,{to:"/signup",children:"Sign up"})})]})]})}),a.jsxs("main",{children:[a.jsxs("section",{className:"relative overflow-hidden px-4 pt-32 pb-24 sm:px-6 sm:pt-40 sm:pb-32",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"landing-hero-blob absolute -left-32 top-20 h-80 w-80 rounded-full opacity-40",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.4) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-2 absolute right-0 top-1/3 h-96 w-96 rounded-full opacity-30",style:{background:"radial-gradient(circle, rgb(var(--accent) / 0.35) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-3 absolute bottom-20 left-1/3 h-64 w-64 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.3) 0%, transparent 70%)"}})]}),a.jsxs("div",{className:"relative mx-auto max-w-3xl text-center",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:"Local-first, chat-native personal agent"}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground sm:text-xl",children:"Run tools, schedule jobs, pair devices, and control your agent from the chat surfaces you already use."}),a.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-4",children:[a.jsx(P,{size:"lg",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(fe,{to:"/download",className:"inline-flex items-center gap-2",children:[a.jsx(Ir,{className:"h-5 w-5"}),"Install Gateway"]})}),a.jsx(P,{size:"lg",variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(fe,{to:"/dashboard",className:"inline-flex items-center gap-2",children:[a.jsx(Ai,{className:"h-5 w-5"}),"Open Local UI"]})}),a.jsx(P,{size:"lg",variant:"ghost",asChild:!0,className:"min-h-[44px] text-muted-foreground",children:a.jsxs(fe,{to:"/help",className:"inline-flex items-center gap-2",children:[a.jsx(lr,{className:"h-5 w-5"}),"Docs"]})})]})]})]}),a.jsxs("section",{id:"features",ref:r.ref,className:J("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Features"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"One gateway for chat, skills, nodes, automation, and security."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:HZ.map((o,l)=>a.jsx(JZ,{feature:o,index:l},o.id))})]}),a.jsx("section",{id:"quick-start",ref:n.ref,className:J("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Quick start"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Get running in a few steps."}),a.jsx("ol",{className:"mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:["Install and start the gateway (local-only or cloud-linked).","Open the Control UI at your local URL.","Add a channel (e.g. Telegram) and message your agent.","Try Summarize this URL with a link in chat."].map((o,l)=>a.jsxs("li",{className:"relative flex gap-4 rounded-lg border border-border bg-card p-6 shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground","aria-hidden":!0,children:l+1}),a.jsx("span",{className:"text-muted-foreground",children:o})]},l))})]})}),a.jsxs("section",{id:"integrations",ref:s.ref,className:J("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Works with your stack"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Chat providers and model backends you can connect today."}),a.jsx("div",{className:"mt-12 flex flex-wrap items-center justify-center gap-8",children:GZ.map(o=>a.jsx("div",{className:"flex h-14 min-w-[120px] items-center justify-center rounded-lg border border-border bg-card/50 px-6 py-3 text-sm font-medium text-muted-foreground transition-colors hover:border-primary/50 hover:text-foreground",children:o.providerName},o.id))})]}),a.jsx("section",{id:"pricing",ref:i.ref,className:J("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Plans"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Start free, scale when you need more."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-3",children:YZ.map(o=>a.jsxs(X,{className:"cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",onClick:()=>t(o),children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-lg",children:o.planName}),a.jsx(ge,{children:o.description}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:o.price})]}),a.jsxs(Z,{children:[a.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.features.slice(0,3).map((l,c)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"h-4 w-4 text-accent"}),l]},c))}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:l=>{l.stopPropagation(),t(o)},children:"Learn more"})]})]},o.id))})]})}),a.jsx("footer",{className:"border-t border-border py-12",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(fe,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Repository"}),a.jsx(fe,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(fe,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]}),a.jsx(Me,{open:!!e,onOpenChange:o=>{o||t(null)},children:a.jsx(Pe,{className:"max-w-md",children:e&&a.jsxs(a.Fragment,{children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:e.planName}),a.jsx(Te,{children:e.description})]}),a.jsx("p",{className:"text-2xl font-semibold text-foreground",children:e.price}),a.jsx("ul",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:e.features.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"h-4 w-4 text-accent"}),o]},l))}),a.jsx(P,{asChild:!0,className:"mt-6 w-full",children:a.jsx(fe,{to:"/signup",children:"Get started"})})]})})})]})}function JZ({feature:e,index:t}){const r=QZ[e.iconName]??LI;return a.jsx(X,{className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",style:{transitionDelay:`${t*50}ms`},children:a.jsxs(te,{children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 text-primary",children:a.jsx(r,{className:"h-6 w-6"})}),a.jsx(ne,{className:"text-lg",children:e.name}),a.jsx(ge,{children:e.description})]})})}var mp=e=>e.type==="checkbox",ql=e=>e instanceof Date,Wn=e=>e==null;const S3=e=>typeof e=="object";var Mr=e=>!Wn(e)&&!Array.isArray(e)&&S3(e)&&!ql(e),ZZ=e=>Mr(e)&&e.target?mp(e.target)?e.target.checked:e.target.value:e,eee=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,tee=(e,t)=>e.has(eee(t)),ree=e=>{const t=e.constructor&&e.constructor.prototype;return Mr(t)&&t.hasOwnProperty("isPrototypeOf")},WN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(WN&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Mr(e)&&ree(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Lr(e[s]));return n}var Yx=e=>/^\w*$/.test(e),cr=e=>e===void 0,VN=e=>Array.isArray(e)?e.filter(Boolean):[],KN=e=>VN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Le=(e,t,r)=>{if(!t||!Mr(e))return r;const n=(Yx(t)?[t]:KN(t)).reduce((s,i)=>Wn(s)?s:s[i],e);return cr(n)||n===e?cr(e[t])?r:e[t]:n},Fa=e=>typeof e=="boolean",ha=e=>typeof e=="function",Vt=(e,t,r)=>{let n=-1;const s=Yx(t)?[t]:KN(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Mr(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const uP={BLUR:"blur",FOCUS_OUT:"focusout"},ma={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},hi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nee=R.createContext(null);nee.displayName="HookFormControlContext";var see=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ma.all&&(t._proxyFormState[o]=!n||ma.all),e[o]}});return s};const aee=typeof window<"u"?R.useLayoutEffect:R.useEffect;var cs=e=>typeof e=="string",iee=(e,t,r,n,s)=>cs(e)?(n&&t.watch.add(e),Le(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Le(r,i))):(n&&(t.watchAll=!0),r),g_=e=>Wn(e)||!S3(e);function Eo(e,t,r=new WeakSet){if(g_(e)||g_(t))return Object.is(e,t);if(ql(e)&&ql(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(ql(o)&&ql(l)||Mr(o)&&Mr(l)||Array.isArray(o)&&Array.isArray(l)?!Eo(o,l,r):!Object.is(o,l))return!1}}return!0}const oee=R.createContext(null);oee.displayName="HookFormContext";var N3=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Sh=e=>Array.isArray(e)?e:[e],dP=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function k3(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&Mr(s)&&i){const o=k3(s,i);Mr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var Cn=e=>Mr(e)&&!Object.keys(e).length,HN=e=>e.type==="file",Lv=e=>{if(!WN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},C3=e=>e.type==="select-multiple",GN=e=>e.type==="radio",lee=e=>GN(e)||mp(e),zw=e=>Lv(e)&&e.isConnected;function cee(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=cr(e)?n++:e[t[n++]];return e}function uee(e){for(const t in e)if(e.hasOwnProperty(t)&&!cr(e[t]))return!1;return!0}function Cr(e,t){const r=Array.isArray(t)?t:Yx(t)?[t]:KN(t),n=r.length===1?e:cee(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Mr(n)&&Cn(n)||Array.isArray(n)&&uee(n))&&Cr(e,r.slice(0,-1)),e}var dee=e=>{for(const t in e)if(ha(e[t]))return!0;return!1};function E3(e){return Array.isArray(e)||Mr(e)&&!dee(e)}function v_(e,t={}){for(const r in e){const n=e[r];E3(n)?(t[r]=Array.isArray(n)?[]:{},v_(n,t[r])):cr(n)||(t[r]=!0)}return t}function lu(e,t,r){r||(r=v_(t));for(const n in e){const s=e[n];if(E3(s))cr(t)||g_(r[n])?r[n]=v_(s,Array.isArray(s)?[]:{}):lu(s,Wn(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!Eo(s,i)}}return r}const fP={value:!1,isValid:!1},hP={value:!0,isValid:!0};var P3=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!cr(e[0].attributes.value)?cr(e[0].value)||e[0].value===""?hP:{value:e[0].value,isValid:!0}:hP:fP}return fP},O3=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>cr(e)?e:t?e===""?NaN:e&&+e:r&&cs(e)?new Date(e):n?n(e):e;const mP={isValid:!1,value:null};var A3=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,mP):mP;function pP(e){const t=e.ref;return HN(t)?t.files:GN(t)?A3(e.refs).value:C3(t)?[...t.selectedOptions].map(({value:r})=>r):mp(t)?P3(e.refs).value:O3(cr(t.value)?e.ref.value:t.value,e)}var fee=(e,t,r,n)=>{const s={};for(const i of e){const o=Le(t,i);o&&Vt(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Fv=e=>e instanceof RegExp,If=e=>cr(e)?e:Fv(e)?e.source:Mr(e)?Fv(e.value)?e.value.source:e.value:e,gP=e=>({isOnSubmit:!e||e===ma.onSubmit,isOnBlur:e===ma.onBlur,isOnChange:e===ma.onChange,isOnAll:e===ma.all,isOnTouch:e===ma.onTouched});const vP="AsyncFunction";var hee=e=>!!e&&!!e.validate&&!!(ha(e.validate)&&e.validate.constructor.name===vP||Mr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===vP)),mee=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),yP=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Nh=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Le(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Nh(l,t))break}else if(Mr(l)&&Nh(l,t))break}}};function xP(e,t,r){const n=Le(e,r);if(n||Yx(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Le(t,i),l=Le(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var pee=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Cn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ma.all))},gee=(e,t,r)=>!e||!t||e===t||Sh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),vee=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,yee=(e,t)=>!VN(Le(e,t)).length&&Cr(e,t),xee=(e,t,r)=>{const n=Sh(Le(e,r));return Vt(n,"root",t[r]),Vt(e,r,n),e};function bP(e,t,r="validate"){if(cs(e)||Array.isArray(e)&&e.every(cs)||Fa(e)&&!e)return{type:r,message:cs(e)?e:"",ref:t}}var Zc=e=>Mr(e)&&!Fv(e)?e:{value:e,message:""},wP=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:x,mount:b}=e._f,v=Le(r,p);if(!b||t.has(p))return{};const w=l?l[0]:o,_=O=>{s&&w.reportValidity&&(w.setCustomValidity(Fa(O)?"":O||""),w.reportValidity())},j={},S=GN(o),N=mp(o),k=S||N,C=(x||HN(o))&&cr(o.value)&&cr(v)||Lv(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,E=N3.bind(null,p,n,j),D=(O,q,A,V=hi.maxLength,T=hi.minLength)=>{const K=O?q:A;j[p]={type:O?V:T,message:K,ref:o,...E(O?V:T,K)}};if(i?!Array.isArray(v)||!v.length:c&&(!k&&(C||Wn(v))||Fa(v)&&!v||N&&!P3(l).isValid||S&&!A3(l).isValid)){const{value:O,message:q}=cs(c)?{value:!!c,message:c}:Zc(c);if(O&&(j[p]={type:hi.required,message:q,ref:w,...E(hi.required,q)},!n))return _(q),j}if(!C&&(!Wn(f)||!Wn(h))){let O,q;const A=Zc(h),V=Zc(f);if(!Wn(v)&&!isNaN(v)){const T=o.valueAsNumber||v&&+v;Wn(A.value)||(O=T>A.value),Wn(V.value)||(q=T<V.value)}else{const T=o.valueAsDate||new Date(v),K=I=>new Date(new Date().toDateString()+" "+I),M=o.type=="time",$=o.type=="week";cs(A.value)&&v&&(O=M?K(v)>K(A.value):$?v>A.value:T>new Date(A.value)),cs(V.value)&&v&&(q=M?K(v)<K(V.value):$?v<V.value:T<new Date(V.value))}if((O||q)&&(D(!!O,A.message,V.message,hi.max,hi.min),!n))return _(j[p].message),j}if((u||d)&&!C&&(cs(v)||i&&Array.isArray(v))){const O=Zc(u),q=Zc(d),A=!Wn(O.value)&&v.length>+O.value,V=!Wn(q.value)&&v.length<+q.value;if((A||V)&&(D(A,O.message,q.message),!n))return _(j[p].message),j}if(m&&!C&&cs(v)){const{value:O,message:q}=Zc(m);if(Fv(O)&&!v.match(O)&&(j[p]={type:hi.pattern,message:q,ref:o,...E(hi.pattern,q)},!n))return _(q),j}if(g){if(ha(g)){const O=await g(v,r),q=bP(O,w);if(q&&(j[p]={...q,...E(hi.validate,q.message)},!n))return _(q.message),j}else if(Mr(g)){let O={};for(const q in g){if(!Cn(O)&&!n)break;const A=bP(await g[q](v,r),w,q);A&&(O={...A,...E(q,A.message)},_(A.message),n&&(j[p]=O))}if(!Cn(O)&&(j[p]={ref:w,...O},!n))return j}}return _(!0),j};const bee={mode:ma.onSubmit,reValidateMode:ma.onChange,shouldFocusError:!0};function wee(e={}){let t={...bee,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ha(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Mr(t.defaultValues)||Mr(t.values)?Lr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Lr(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const m={array:dP(),state:dP()},g=t.criteriaMode===ma.all,p=U=>G=>{clearTimeout(u),u=setTimeout(U,G)},x=async U=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||U)){let G;t.resolver?(G=Cn((await k()).errors),b()):G=await E(n,!0),G!==r.isValid&&m.state.next({isValid:G})}},b=(U,G)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((U||Array.from(l.mount)).forEach(z=>{z&&(G?Vt(r.validatingFields,z,G):Cr(r.validatingFields,z))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Cn(r.validatingFields)}))},v=(U,G=[],z,ce,pe=!0,se=!0)=>{if(ce&&z&&!t.disabled){if(o.action=!0,se&&Array.isArray(Le(n,U))){const Ne=z(Le(n,U),ce.argA,ce.argB);pe&&Vt(n,U,Ne)}if(se&&Array.isArray(Le(r.errors,U))){const Ne=z(Le(r.errors,U),ce.argA,ce.argB);pe&&Vt(r.errors,U,Ne),yee(r.errors,U)}if((f.touchedFields||h.touchedFields)&&se&&Array.isArray(Le(r.touchedFields,U))){const Ne=z(Le(r.touchedFields,U),ce.argA,ce.argB);pe&&Vt(r.touchedFields,U,Ne)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=lu(s,i)),m.state.next({name:U,isDirty:O(U,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Vt(i,U,G)},w=(U,G)=>{Vt(r.errors,U,G),m.state.next({errors:r.errors})},_=U=>{r.errors=U,m.state.next({errors:r.errors,isValid:!1})},j=(U,G,z,ce)=>{const pe=Le(n,U);if(pe){const se=Le(i,U,cr(z)?Le(s,U):z);cr(se)||ce&&ce.defaultChecked||G?Vt(i,U,G?se:pP(pe._f)):V(U,se),o.mount&&!o.action&&x()}},S=(U,G,z,ce,pe)=>{let se=!1,Ne=!1;const Ot={name:U};if(!t.disabled){if(!z||ce){(f.isDirty||h.isDirty)&&(Ne=r.isDirty,r.isDirty=Ot.isDirty=O(),se=Ne!==Ot.isDirty);const At=Eo(Le(s,U),G);Ne=!!Le(r.dirtyFields,U),At?Cr(r.dirtyFields,U):Vt(r.dirtyFields,U,!0),Ot.dirtyFields=r.dirtyFields,se=se||(f.dirtyFields||h.dirtyFields)&&Ne!==!At}if(z){const At=Le(r.touchedFields,U);At||(Vt(r.touchedFields,U,z),Ot.touchedFields=r.touchedFields,se=se||(f.touchedFields||h.touchedFields)&&At!==z)}se&&pe&&m.state.next(Ot)}return se?Ot:{}},N=(U,G,z,ce)=>{const pe=Le(r.errors,U),se=(f.isValid||h.isValid)&&Fa(G)&&r.isValid!==G;if(t.delayError&&z?(c=p(()=>w(U,z)),c(t.delayError)):(clearTimeout(u),c=null,z?Vt(r.errors,U,z):Cr(r.errors,U)),(z?!Eo(pe,z):pe)||!Cn(ce)||se){const Ne={...ce,...se&&Fa(G)?{isValid:G}:{},errors:r.errors,name:U};r={...r,...Ne},m.state.next(Ne)}},k=async U=>(b(U,!0),await t.resolver(i,t.context,fee(U||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async U=>{const{errors:G}=await k(U);if(b(U),U)for(const z of U){const ce=Le(G,z);ce?Vt(r.errors,z,ce):Cr(r.errors,z)}else r.errors=G;return G},E=async(U,G,z={valid:!0})=>{for(const ce in U){const pe=U[ce];if(pe){const{_f:se,...Ne}=pe;if(se){const Ot=l.array.has(se.name),At=pe._f&&hee(pe._f);At&&f.validatingFields&&b([se.name],!0);const kr=await wP(pe,l.disabled,i,g,t.shouldUseNativeValidation&&!G,Ot);if(At&&f.validatingFields&&b([se.name]),kr[se.name]&&(z.valid=!1,G||e.shouldUseNativeValidation))break;!G&&(Le(kr,se.name)?Ot?xee(r.errors,kr,se.name):Vt(r.errors,se.name,kr[se.name]):Cr(r.errors,se.name))}!Cn(Ne)&&await E(Ne,G,z)}}return z.valid},D=()=>{for(const U of l.unMount){const G=Le(n,U);G&&(G._f.refs?G._f.refs.every(z=>!zw(z)):!zw(G._f.ref))&&Be(U)}l.unMount=new Set},O=(U,G)=>!t.disabled&&(U&&G&&Vt(i,U,G),!Eo(ee(),s)),q=(U,G,z)=>iee(U,l,{...o.mount?i:cr(G)?s:cs(U)?{[U]:G}:G},z,G),A=U=>VN(Le(o.mount?i:s,U,t.shouldUnregister?Le(s,U,[]):[])),V=(U,G,z={})=>{const ce=Le(n,U);let pe=G;if(ce){const se=ce._f;se&&(!se.disabled&&Vt(i,U,O3(G,se)),pe=Lv(se.ref)&&Wn(G)?"":G,C3(se.ref)?[...se.ref.options].forEach(Ne=>Ne.selected=pe.includes(Ne.value)):se.refs?mp(se.ref)?se.refs.forEach(Ne=>{(!Ne.defaultChecked||!Ne.disabled)&&(Array.isArray(pe)?Ne.checked=!!pe.find(Ot=>Ot===Ne.value):Ne.checked=pe===Ne.value||!!pe)}):se.refs.forEach(Ne=>Ne.checked=Ne.value===pe):HN(se.ref)?se.ref.value="":(se.ref.value=pe,se.ref.type||m.state.next({name:U,values:Lr(i)})))}(z.shouldDirty||z.shouldTouch)&&S(U,pe,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&I(U)},T=(U,G,z)=>{for(const ce in G){if(!G.hasOwnProperty(ce))return;const pe=G[ce],se=U+"."+ce,Ne=Le(n,se);(l.array.has(U)||Mr(pe)||Ne&&!Ne._f)&&!ql(pe)?T(se,pe,z):V(se,pe,z)}},K=(U,G,z={})=>{const ce=Le(n,U),pe=l.array.has(U),se=Lr(G);Vt(i,U,se),pe?(m.array.next({name:U,values:Lr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&z.shouldDirty&&m.state.next({name:U,dirtyFields:lu(s,i),isDirty:O(U,se)})):ce&&!ce._f&&!Wn(se)?T(U,se,z):V(U,se,z),yP(U,l)?m.state.next({...r,name:U,values:Lr(i)}):m.state.next({name:o.mount?U:void 0,values:Lr(i)})},M=async U=>{o.mount=!0;const G=U.target;let z=G.name,ce=!0;const pe=Le(n,z),se=At=>{ce=Number.isNaN(At)||ql(At)&&isNaN(At.getTime())||Eo(At,Le(i,z,At))},Ne=gP(t.mode),Ot=gP(t.reValidateMode);if(pe){let At,kr;const di=G.type?pP(pe._f):ZZ(U),Ys=U.type===uP.BLUR||U.type===uP.FOCUS_OUT,_f=!mee(pe._f)&&!t.resolver&&!Le(r.errors,z)&&!pe._f.deps||vee(Ys,Le(r.touchedFields,z),r.isSubmitted,Ot,Ne),Ia=yP(z,l,Ys);Vt(i,z,di),Ys?(!G||!G.readOnly)&&(pe._f.onBlur&&pe._f.onBlur(U),c&&c(0)):pe._f.onChange&&pe._f.onChange(U);const Bc=S(z,di,Ys),oo=!Cn(Bc)||Ia;if(!Ys&&m.state.next({name:z,type:U.type,values:Lr(i)}),_f)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Ys&&x():Ys||x()),oo&&m.state.next({name:z,...Ia?{}:Bc});if(!Ys&&Ia&&m.state.next({...r}),t.resolver){const{errors:Ep}=await k([z]);if(b([z]),se(di),ce){const Hb=xP(r.errors,n,z),Sf=xP(Ep,n,Hb.name||z);At=Sf.error,z=Sf.name,kr=Cn(Ep)}}else b([z],!0),At=(await wP(pe,l.disabled,i,g,t.shouldUseNativeValidation))[z],b([z]),se(di),ce&&(At?kr=!1:(f.isValid||h.isValid)&&(kr=await E(n,!0)));ce&&(pe._f.deps&&(!Array.isArray(pe._f.deps)||pe._f.deps.length>0)&&I(pe._f.deps),N(z,kr,At,Bc))}},$=(U,G)=>{if(Le(r.errors,G)&&U.focus)return U.focus(),1},I=async(U,G={})=>{let z,ce;const pe=Sh(U);if(t.resolver){const se=await C(cr(U)?U:pe);z=Cn(se),ce=U?!pe.some(Ne=>Le(se,Ne)):z}else U?(ce=(await Promise.all(pe.map(async se=>{const Ne=Le(n,se);return await E(Ne&&Ne._f?{[se]:Ne}:Ne)}))).every(Boolean),!(!ce&&!r.isValid)&&x()):ce=z=await E(n);return m.state.next({...!cs(U)||(f.isValid||h.isValid)&&z!==r.isValid?{}:{name:U},...t.resolver||!U?{isValid:z}:{},errors:r.errors}),G.shouldFocus&&!ce&&Nh(n,$,U?pe:l.mount),ce},ee=(U,G)=>{let z={...o.mount?i:s};return G&&(z=k3(G.dirtyFields?r.dirtyFields:r.touchedFields,z)),cr(U)?z:cs(U)?Le(z,U):U.map(ce=>Le(z,ce))},L=(U,G)=>({invalid:!!Le((G||r).errors,U),isDirty:!!Le((G||r).dirtyFields,U),error:Le((G||r).errors,U),isValidating:!!Le(r.validatingFields,U),isTouched:!!Le((G||r).touchedFields,U)}),oe=U=>{U&&Sh(U).forEach(G=>Cr(r.errors,G)),m.state.next({errors:U?r.errors:{}})},ye=(U,G,z)=>{const ce=(Le(n,U,{_f:{}})._f||{}).ref,pe=Le(r.errors,U)||{},{ref:se,message:Ne,type:Ot,...At}=pe;Vt(r.errors,U,{...At,...G,ref:ce}),m.state.next({name:U,errors:r.errors,isValid:!1}),z&&z.shouldFocus&&ce&&ce.focus&&ce.focus()},Ve=(U,G)=>ha(U)?m.state.subscribe({next:z=>"values"in z&&U(q(void 0,G),z)}):q(U,G,!0),Ke=U=>m.state.subscribe({next:G=>{gee(U.name,G.name,U.exact)&&pee(G,U.formState||f,Nr,U.reRenderRoot)&&U.callback({values:{...i},...r,...G,defaultValues:s})}}).unsubscribe,he=U=>(o.mount=!0,h={...h,...U.formState},Ke({...U,formState:{...d,...U.formState}})),Be=(U,G={})=>{for(const z of U?Sh(U):l.mount)l.mount.delete(z),l.array.delete(z),G.keepValue||(Cr(n,z),Cr(i,z)),!G.keepError&&Cr(r.errors,z),!G.keepDirty&&Cr(r.dirtyFields,z),!G.keepTouched&&Cr(r.touchedFields,z),!G.keepIsValidating&&Cr(r.validatingFields,z),!t.shouldUnregister&&!G.keepDefaultValue&&Cr(s,z);m.state.next({values:Lr(i)}),m.state.next({...r,...G.keepDirty?{isDirty:O()}:{}}),!G.keepIsValid&&x()},ae=({disabled:U,name:G})=>{if(Fa(U)&&o.mount||U||l.disabled.has(G)){const pe=l.disabled.has(G)!==!!U;U?l.disabled.add(G):l.disabled.delete(G),pe&&o.mount&&!o.action&&x()}},_e=(U,G={})=>{let z=Le(n,U);const ce=Fa(G.disabled)||Fa(t.disabled);return Vt(n,U,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:U}},name:U,mount:!0,...G}}),l.mount.add(U),z?ae({disabled:Fa(G.disabled)?G.disabled:t.disabled,name:U}):j(U,!0,G.value),{...ce?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:If(G.min),max:If(G.max),minLength:If(G.minLength),maxLength:If(G.maxLength),pattern:If(G.pattern)}:{},name:U,onChange:M,onBlur:M,ref:pe=>{if(pe){_e(U,G),z=Le(n,U);const se=cr(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,Ne=lee(se),Ot=z._f.refs||[];if(Ne?Ot.find(At=>At===se):se===z._f.ref)return;Vt(n,U,{_f:{...z._f,...Ne?{refs:[...Ot.filter(zw),se,...Array.isArray(Le(s,U))?[{}]:[]],ref:{type:se.type,name:U}}:{ref:se}}}),j(U,!1,void 0,se)}else z=Le(n,U,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(tee(l.array,U)&&o.action)&&l.unMount.add(U)}}},Y=()=>t.shouldFocusError&&Nh(n,$,l.mount),Q=U=>{Fa(U)&&(m.state.next({disabled:U}),Nh(n,(G,z)=>{const ce=Le(n,z);ce&&(G.disabled=ce._f.disabled||U,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(pe=>{pe.disabled=ce._f.disabled||U}))},0,!1))},Xe=(U,G)=>async z=>{let ce;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let pe=Lr(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:se,values:Ne}=await k();b(),r.errors=se,pe=Lr(Ne)}else await E(n);if(l.disabled.size)for(const se of l.disabled)Cr(pe,se);if(Cr(r.errors,"root"),Cn(r.errors)){m.state.next({errors:{}});try{await U(pe,z)}catch(se){ce=se}}else G&&await G({...r.errors},z),Y(),setTimeout(Y);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cn(r.errors)&&!ce,submitCount:r.submitCount+1,errors:r.errors}),ce)throw ce},He=(U,G={})=>{Le(n,U)&&(cr(G.defaultValue)?K(U,Lr(Le(s,U))):(K(U,G.defaultValue),Vt(s,U,Lr(G.defaultValue))),G.keepTouched||Cr(r.touchedFields,U),G.keepDirty||(Cr(r.dirtyFields,U),r.isDirty=G.defaultValue?O(U,Lr(Le(s,U))):O()),G.keepError||(Cr(r.errors,U),f.isValid&&x()),m.state.next({...r}))},xt=(U,G={})=>{const z=U?Lr(U):s,ce=Lr(z),pe=Cn(U),se=pe?s:ce;if(G.keepDefaultValues||(s=z),!G.keepValues){if(G.keepDirtyValues){const Ne=new Set([...l.mount,...Object.keys(lu(s,i))]);for(const Ot of Array.from(Ne)){const At=Le(r.dirtyFields,Ot),kr=Le(i,Ot),di=Le(se,Ot);At&&!cr(kr)?Vt(se,Ot,kr):!At&&!cr(di)&&K(Ot,di)}}else{if(WN&&cr(U))for(const Ne of l.mount){const Ot=Le(n,Ne);if(Ot&&Ot._f){const At=Array.isArray(Ot._f.refs)?Ot._f.refs[0]:Ot._f.ref;if(Lv(At)){const kr=At.closest("form");if(kr){kr.reset();break}}}}if(G.keepFieldsRef)for(const Ne of l.mount)K(Ne,Le(se,Ne));else n={}}i=t.shouldUnregister?G.keepDefaultValues?Lr(s):{}:Lr(se),m.array.next({values:{...se}}),m.state.next({values:{...se}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!G.keepIsValid||!!G.keepDirtyValues||!t.shouldUnregister&&!Cn(se),o.watch=!!t.shouldUnregister,o.keepIsValid=!!G.keepIsValid,o.action=!1,G.keepErrors||(r.errors={}),m.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:pe?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!Eo(U,s)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pe?{}:G.keepDirtyValues?G.keepDefaultValues&&i?lu(s,i):r.dirtyFields:G.keepDefaultValues&&U?lu(s,U):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ft=(U,G)=>xt(ha(U)?U(i):U,{...t.resetOptions,...G}),Wt=(U,G={})=>{const z=Le(n,U),ce=z&&z._f;if(ce){const pe=ce.refs?ce.refs[0]:ce.ref;pe.focus&&setTimeout(()=>{pe.focus(),G.shouldSelect&&ha(pe.select)&&pe.select()})}},Nr=U=>{r={...r,...U}},ws={control:{register:_e,unregister:Be,getFieldState:L,handleSubmit:Xe,setError:ye,_subscribe:Ke,_runSchema:k,_updateIsValidating:b,_focusError:Y,_getWatch:q,_getDirty:O,_setValid:x,_setFieldArray:v,_setDisabledField:ae,_setErrors:_,_getFieldArray:A,_reset:xt,_resetDefaultValues:()=>ha(t.defaultValues)&&t.defaultValues().then(U=>{ft(U,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:Q,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(U){o=U},get _defaultValues(){return s},get _names(){return l},set _names(U){l=U},get _formState(){return r},get _options(){return t},set _options(U){t={...t,...U}}},subscribe:he,trigger:I,register:_e,handleSubmit:Xe,watch:Ve,setValue:K,getValues:ee,reset:ft,resetField:He,clearErrors:oe,unregister:Be,setError:ye,setFocus:Wt,getFieldState:L};return{...ws,formControl:ws}}function et(e={}){const t=R.useRef(void 0),r=R.useRef(void 0),[n,s]=R.useState({isDirty:!1,isValidating:!1,isLoading:ha(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ha(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ha(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=wee(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,aee(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),R.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),R.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),R.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),R.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),R.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),R.useEffect(()=>{var o;e.values&&!Eo(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),R.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=R.useMemo(()=>see(n,i),[i,n]),t.current}const jP=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Le(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},T3=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?jP(n.ref,r,e):n.refs&&n.refs.forEach(s=>jP(s,r,e))}},jee=(e,t)=>{t.shouldUseNativeValidation&&T3(e,t);const r={};for(const n in e){const s=Le(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(_ee(t.names||Object.keys(e),n)){const o=Object.assign({},Le(r,n));Vt(o,"root",i),Vt(r,n,o)}else Vt(r,n,i)}return r},_ee=(e,t)=>e.some(r=>r.startsWith(t+"."));var See=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=N3(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},tt=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&T3({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:jee(See(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Et;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Et||(Et={}));var _P;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(_P||(_P={}));const Fe=Et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_o=e=>{switch(typeof e){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return Number.isNaN(e)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(e)?Fe.array:e===null?Fe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Fe.promise:typeof Map<"u"&&e instanceof Map?Fe.map:typeof Set<"u"&&e instanceof Set?Fe.set:typeof Date<"u"&&e instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},be=Et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Wi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Wi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Wi.create=e=>new Wi(e);const y_=(e,t)=>{let r;switch(e.code){case be.invalid_type:e.received===Fe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case be.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Et.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:r=`Unrecognized key(s) in object: ${Et.joinValues(e.keys,", ")}`;break;case be.invalid_union:r="Invalid input";break;case be.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Et.joinValues(e.options)}`;break;case be.invalid_enum_value:r=`Invalid enum value. Expected ${Et.joinValues(e.options)}, received '${e.received}'`;break;case be.invalid_arguments:r="Invalid function arguments";break;case be.invalid_return_type:r="Invalid function return type";break;case be.invalid_date:r="Invalid date";break;case be.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Et.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case be.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case be.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case be.custom:r="Invalid input";break;case be.invalid_intersection_types:r="Intersection results could not be merged";break;case be.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case be.not_finite:r="Number must be finite";break;default:r=t.defaultError,Et.assertNever(e)}return{message:r}};let Nee=y_;function kee(){return Nee}const Cee=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function Ee(e,t){const r=kee(),n=Cee({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===y_?void 0:y_].filter(s=>!!s)});e.common.issues.push(n)}class vs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ze;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return vs.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ze;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Ze=Object.freeze({status:"aborted"}),ch=e=>({status:"dirty",value:e}),Vs=e=>({status:"valid",value:e}),SP=e=>e.status==="aborted",NP=e=>e.status==="dirty",vd=e=>e.status==="valid",Uv=e=>typeof Promise<"u"&&e instanceof Promise;var Ue;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ue||(Ue={}));class ll{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const kP=(e,t)=>{if(vd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Wi(e.common.issues);return this._error=r,this._error}}};function ht(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class kt{get description(){return this._def.description}_getType(t){return _o(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:_o(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new vs,ctx:{common:t.parent.common,data:t.data,parsedType:_o(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Uv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_o(t)},s=this._parseSync({data:t,path:n.path,parent:n});return kP(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_o(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return vd(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>vd(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_o(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Uv(s)?s:Promise.resolve(s));return kP(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:be.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new bd({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return tl.create(this,this._def)}nullable(){return wd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Za.create(this)}promise(){return Wv.create(this,this._def)}or(t){return Bv.create([this,t],this._def)}and(t){return zv.create(this,t,this._def)}transform(t){return new bd({...ht(this._def),schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new w_({...ht(this._def),innerType:this,defaultValue:r,typeName:rt.ZodDefault})}brand(){return new Qee({typeName:rt.ZodBranded,type:this,...ht(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new j_({...ht(this._def),innerType:this,catchValue:r,typeName:rt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return YN.create(this,t)}readonly(){return __.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Eee=/^c[^\s-]{8,}$/i,Pee=/^[0-9a-z]+$/,Oee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Aee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Tee=/^[a-z0-9_-]{21}$/i,Ree=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Mee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$ee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Iee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ww;const Dee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Lee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Fee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Uee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Bee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,R3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zee=new RegExp(`^${R3}$`);function M3(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Wee(e){return new RegExp(`^${M3(e)}$`)}function Vee(e){let t=`${R3}T${M3(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Kee(e,t){return!!((t==="v4"||!t)&&Dee.test(e)||(t==="v6"||!t)&&Fee.test(e))}function Hee(e,t){if(!Ree.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function Gee(e,t){return!!((t==="v4"||!t)&&Lee.test(e)||(t==="v6"||!t)&&Uee.test(e))}class ki extends kt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Fe.string){const i=this._getOrReturnCtx(t);return Ee(i,{code:be.invalid_type,expected:Fe.string,received:i.parsedType}),Ze}const n=new vs;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Ee(s,{code:be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ee(s,{code:be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")$ee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"email",code:be.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ww||(Ww=new RegExp(Iee,"u")),Ww.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"emoji",code:be.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Aee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"uuid",code:be.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Tee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"nanoid",code:be.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Eee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cuid",code:be.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Pee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cuid2",code:be.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Oee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"ulid",code:be.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Ee(s,{validation:"url",code:be.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"regex",code:be.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:be.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:be.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:be.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Vee(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:be.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?zee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:be.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Wee(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:be.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Mee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"duration",code:be.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Kee(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"ip",code:be.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Hee(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"jwt",code:be.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Gee(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cidr",code:be.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?qee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"base64",code:be.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Bee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"base64url",code:be.invalid_string,message:i.message}),n.dirty()):Et.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:be.invalid_string,...Ue.errToObj(n)})}_addCheck(t){return new ki({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ue.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ue.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ue.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ue.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ue.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ue.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ue.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ue.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ue.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ue.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ue.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ue.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ue.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ue.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ue.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ue.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ue.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ue.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ue.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ue.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ue.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ue.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ue.errToObj(r)})}nonempty(t){return this.min(1,Ue.errToObj(t))}trim(){return new ki({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ki({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ki({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ki.create=e=>new ki({checks:[],typeName:rt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ht(e)});function Yee(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class vc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Fe.number){const i=this._getOrReturnCtx(t);return Ee(i,{code:be.invalid_type,expected:Fe.number,received:i.parsedType}),Ze}let n;const s=new vs;for(const i of this._def.checks)i.kind==="int"?Et.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:be.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:be.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:be.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Yee(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:be.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:be.not_finite,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ue.toString(r))}setLimit(t,r,n,s){return new vc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ue.toString(s)}]})}_addCheck(t){return new vc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ue.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ue.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ue.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ue.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ue.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Et.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}vc.create=e=>new vc({checks:[],typeName:rt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ht(e)});class yc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Fe.bigint)return this._getInvalidInput(t);let n;const s=new vs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:be.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:be.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:be.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:be.invalid_type,expected:Fe.bigint,received:r.parsedType}),Ze}gte(t,r){return this.setLimit("min",t,!0,Ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ue.toString(r))}setLimit(t,r,n,s){return new yc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ue.toString(s)}]})}_addCheck(t){return new yc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ue.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}yc.create=e=>new yc({checks:[],typeName:rt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ht(e)});class qv extends kt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Fe.boolean){const n=this._getOrReturnCtx(t);return Ee(n,{code:be.invalid_type,expected:Fe.boolean,received:n.parsedType}),Ze}return Vs(t.data)}}qv.create=e=>new qv({typeName:rt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ht(e)});class yd extends kt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Fe.date){const i=this._getOrReturnCtx(t);return Ee(i,{code:be.invalid_type,expected:Fe.date,received:i.parsedType}),Ze}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ee(i,{code:be.invalid_date}),Ze}const n=new vs;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:be.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:be.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Et.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new yd({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ue.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ue.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}yd.create=e=>new yd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:rt.ZodDate,...ht(e)});class CP extends kt{_parse(t){if(this._getType(t)!==Fe.symbol){const n=this._getOrReturnCtx(t);return Ee(n,{code:be.invalid_type,expected:Fe.symbol,received:n.parsedType}),Ze}return Vs(t.data)}}CP.create=e=>new CP({typeName:rt.ZodSymbol,...ht(e)});class EP extends kt{_parse(t){if(this._getType(t)!==Fe.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:be.invalid_type,expected:Fe.undefined,received:n.parsedType}),Ze}return Vs(t.data)}}EP.create=e=>new EP({typeName:rt.ZodUndefined,...ht(e)});class PP extends kt{_parse(t){if(this._getType(t)!==Fe.null){const n=this._getOrReturnCtx(t);return Ee(n,{code:be.invalid_type,expected:Fe.null,received:n.parsedType}),Ze}return Vs(t.data)}}PP.create=e=>new PP({typeName:rt.ZodNull,...ht(e)});class OP extends kt{constructor(){super(...arguments),this._any=!0}_parse(t){return Vs(t.data)}}OP.create=e=>new OP({typeName:rt.ZodAny,...ht(e)});class AP extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Vs(t.data)}}AP.create=e=>new AP({typeName:rt.ZodUnknown,...ht(e)});class cl extends kt{_parse(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:be.invalid_type,expected:Fe.never,received:r.parsedType}),Ze}}cl.create=e=>new cl({typeName:rt.ZodNever,...ht(e)});class TP extends kt{_parse(t){if(this._getType(t)!==Fe.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:be.invalid_type,expected:Fe.void,received:n.parsedType}),Ze}return Vs(t.data)}}TP.create=e=>new TP({typeName:rt.ZodVoid,...ht(e)});class Za extends kt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Fe.array)return Ee(r,{code:be.invalid_type,expected:Fe.array,received:r.parsedType}),Ze;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Ee(r,{code:o?be.too_big:be.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Ee(r,{code:be.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Ee(r,{code:be.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new ll(r,o,r.path,l)))).then(o=>vs.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new ll(r,o,r.path,l)));return vs.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Za({...this._def,minLength:{value:t,message:Ue.toString(r)}})}max(t,r){return new Za({...this._def,maxLength:{value:t,message:Ue.toString(r)}})}length(t,r){return new Za({...this._def,exactLength:{value:t,message:Ue.toString(r)}})}nonempty(t){return this.min(1,t)}}Za.create=(e,t)=>new Za({type:e,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray,...ht(t)});function cu(e){if(e instanceof Or){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=tl.create(cu(n))}return new Or({...e._def,shape:()=>t})}else return e instanceof Za?new Za({...e._def,type:cu(e.element)}):e instanceof tl?tl.create(cu(e.unwrap())):e instanceof wd?wd.create(cu(e.unwrap())):e instanceof xc?xc.create(e.items.map(t=>cu(t))):e}class Or extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Et.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Fe.object){const u=this._getOrReturnCtx(t);return Ee(u,{code:be.invalid_type,expected:Fe.object,received:u.parsedType}),Ze}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof cl&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ll(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof cl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Ee(s,{code:be.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ll(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>vs.mergeObjectSync(n,u)):vs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ue.errToObj,new Or({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ue.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Or({...this._def,unknownKeys:"strip"})}passthrough(){return new Or({...this._def,unknownKeys:"passthrough"})}extend(t){return new Or({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Or({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:rt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Or({...this._def,catchall:t})}pick(t){const r={};for(const n of Et.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Or({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Et.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Or({...this._def,shape:()=>r})}deepPartial(){return cu(this)}partial(t){const r={};for(const n of Et.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Or({...this._def,shape:()=>r})}required(t){const r={};for(const n of Et.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof tl;)i=i._def.innerType;r[n]=i}return new Or({...this._def,shape:()=>r})}keyof(){return $3(Et.objectKeys(this.shape))}}Or.create=(e,t)=>new Or({shape:()=>e,unknownKeys:"strip",catchall:cl.create(),typeName:rt.ZodObject,...ht(t)});Or.strictCreate=(e,t)=>new Or({shape:()=>e,unknownKeys:"strict",catchall:cl.create(),typeName:rt.ZodObject,...ht(t)});Or.lazycreate=(e,t)=>new Or({shape:e,unknownKeys:"strip",catchall:cl.create(),typeName:rt.ZodObject,...ht(t)});class Bv extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Wi(l.ctx.common.issues));return Ee(r,{code:be.invalid_union,unionErrors:o}),Ze}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Wi(c));return Ee(r,{code:be.invalid_union,unionErrors:l}),Ze}}get options(){return this._def.options}}Bv.create=(e,t)=>new Bv({options:e,typeName:rt.ZodUnion,...ht(t)});function x_(e,t){const r=_o(e),n=_o(t);if(e===t)return{valid:!0,data:e};if(r===Fe.object&&n===Fe.object){const s=Et.objectKeys(t),i=Et.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=x_(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Fe.array&&n===Fe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=x_(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Fe.date&&n===Fe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class zv extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(SP(i)||SP(o))return Ze;const l=x_(i.value,o.value);return l.valid?((NP(i)||NP(o))&&r.dirty(),{status:r.value,value:l.data}):(Ee(n,{code:be.invalid_intersection_types}),Ze)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}zv.create=(e,t,r)=>new zv({left:e,right:t,typeName:rt.ZodIntersection,...ht(r)});class xc extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.array)return Ee(n,{code:be.invalid_type,expected:Fe.array,received:n.parsedType}),Ze;if(n.data.length<this._def.items.length)return Ee(n,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&n.data.length>this._def.items.length&&(Ee(n,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ll(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>vs.mergeArray(r,o)):vs.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new xc({...this._def,rest:t})}}xc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xc({items:e,typeName:rt.ZodTuple,rest:null,...ht(t)})};class RP extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.map)return Ee(n,{code:be.invalid_type,expected:Fe.map,received:n.parsedType}),Ze;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new ll(n,l,n.path,[u,"key"])),value:i._parse(new ll(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}RP.create=(e,t,r)=>new RP({valueType:t,keyType:e,typeName:rt.ZodMap,...ht(r)});class lm extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.set)return Ee(n,{code:be.invalid_type,expected:Fe.set,received:n.parsedType}),Ze;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Ee(n,{code:be.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Ee(n,{code:be.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ze;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new ll(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new lm({...this._def,minSize:{value:t,message:Ue.toString(r)}})}max(t,r){return new lm({...this._def,maxSize:{value:t,message:Ue.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}lm.create=(e,t)=>new lm({valueType:e,minSize:null,maxSize:null,typeName:rt.ZodSet,...ht(t)});class MP extends kt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}MP.create=(e,t)=>new MP({getter:e,typeName:rt.ZodLazy,...ht(t)});class b_ extends kt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ee(r,{received:r.data,code:be.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}b_.create=(e,t)=>new b_({value:e,typeName:rt.ZodLiteral,...ht(t)});function $3(e,t){return new xd({values:e,typeName:rt.ZodEnum,...ht(t)})}class xd extends kt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{expected:Et.joinValues(n),received:r.parsedType,code:be.invalid_type}),Ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{received:r.data,code:be.invalid_enum_value,options:n}),Ze}return Vs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return xd.create(t,{...this._def,...r})}exclude(t,r=this._def){return xd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}xd.create=$3;class $P extends kt{_parse(t){const r=Et.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Fe.string&&n.parsedType!==Fe.number){const s=Et.objectValues(r);return Ee(n,{expected:Et.joinValues(s),received:n.parsedType,code:be.invalid_type}),Ze}if(this._cache||(this._cache=new Set(Et.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Et.objectValues(r);return Ee(n,{received:n.data,code:be.invalid_enum_value,options:s}),Ze}return Vs(t.data)}get enum(){return this._def.values}}$P.create=(e,t)=>new $P({values:e,typeName:rt.ZodNativeEnum,...ht(t)});class Wv extends kt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.promise&&r.common.async===!1)return Ee(r,{code:be.invalid_type,expected:Fe.promise,received:r.parsedType}),Ze;const n=r.parsedType===Fe.promise?r.data:Promise.resolve(r.data);return Vs(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Wv.create=(e,t)=>new Wv({type:e,typeName:rt.ZodPromise,...ht(t)});class bd extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Ee(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ze;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ze:c.status==="dirty"||r.value==="dirty"?ch(c.value):c});{if(r.value==="aborted")return Ze;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ze:l.status==="dirty"||r.value==="dirty"?ch(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!vd(o))return Ze;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>vd(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):Ze);Et.assertNever(s)}}bd.create=(e,t,r)=>new bd({schema:e,typeName:rt.ZodEffects,effect:t,...ht(r)});bd.createWithPreprocess=(e,t,r)=>new bd({schema:t,effect:{type:"preprocess",transform:e},typeName:rt.ZodEffects,...ht(r)});class tl extends kt{_parse(t){return this._getType(t)===Fe.undefined?Vs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}tl.create=(e,t)=>new tl({innerType:e,typeName:rt.ZodOptional,...ht(t)});class wd extends kt{_parse(t){return this._getType(t)===Fe.null?Vs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wd.create=(e,t)=>new wd({innerType:e,typeName:rt.ZodNullable,...ht(t)});class w_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Fe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}w_.create=(e,t)=>new w_({innerType:e,typeName:rt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ht(t)});class j_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Uv(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Wi(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Wi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}j_.create=(e,t)=>new j_({innerType:e,typeName:rt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ht(t)});class IP extends kt{_parse(t){if(this._getType(t)!==Fe.nan){const n=this._getOrReturnCtx(t);return Ee(n,{code:be.invalid_type,expected:Fe.nan,received:n.parsedType}),Ze}return{status:"valid",value:t.data}}}IP.create=e=>new IP({typeName:rt.ZodNaN,...ht(e)});class Qee extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class YN extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ze:i.status==="dirty"?(r.dirty(),ch(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ze:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new YN({in:t,out:r,typeName:rt.ZodPipeline})}}class __ extends kt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(vd(s)&&(s.value=Object.freeze(s.value)),s);return Uv(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}__.create=(e,t)=>new __({innerType:e,typeName:rt.ZodReadonly,...ht(t)});var rt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(rt||(rt={}));const xe=ki.create,Xee=vc.create;yc.create;const Gr=qv.create;yd.create;cl.create;Za.create;const nt=Or.create,Jee=Bv.create;zv.create;xc.create;const QN=b_.create,sr=xd.create;Wv.create;tl.create;wd.create;const On={string:e=>ki.create({...e,coerce:!0}),number:e=>vc.create({...e,coerce:!0}),boolean:e=>qv.create({...e,coerce:!0}),bigint:e=>yc.create({...e,coerce:!0}),date:e=>yd.create({...e,coerce:!0})};var Zee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ete=Zee.reduce((e,t)=>{const r=cp(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),tte="Label",I3=y.forwardRef((e,t)=>a.jsx(ete.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));I3.displayName=tte;var D3=I3;const rte=bN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=y.forwardRef(({className:e,...t},r)=>a.jsx(D3,{ref:r,className:J(rte(),e),...t}));H.displayName=D3.displayName;var Qx="Tabs",[nte]=zs(Qx,[Vx]),L3=Vx(),[ste,XN]=nte(Qx),F3=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=nf(l),[f,h]=ri({prop:n,onChange:s,defaultProp:i??"",caller:Qx});return a.jsx(ste,{scope:r,baseId:$s(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Qe.div,{dir:d,"data-orientation":o,...u,ref:t})})});F3.displayName=Qx;var U3="TabsList",q3=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=XN(U3,r),o=L3(r);return a.jsx(EL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Qe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});q3.displayName=U3;var B3="TabsTrigger",z3=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=XN(B3,r),l=L3(r),c=K3(o.baseId,n),u=H3(o.baseId,n),d=n===o.value;return a.jsx(PL,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Qe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Re(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Re(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Re(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});z3.displayName=B3;var W3="TabsContent",V3=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=XN(W3,r),c=K3(l.baseId,n),u=H3(l.baseId,n),d=n===l.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Zn,{present:s||d,children:({present:h})=>a.jsx(Qe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});V3.displayName=W3;function K3(e,t){return`${e}-trigger-${t}`}function H3(e,t){return`${e}-content-${t}`}var ate=F3,G3=q3,Y3=z3,Q3=V3;const ci=ate,Oa=y.forwardRef(({className:e,...t},r)=>a.jsx(G3,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Oa.displayName=G3.displayName;const St=y.forwardRef(({className:e,...t},r)=>a.jsx(Y3,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));St.displayName=Y3.displayName;const Nt=y.forwardRef(({className:e,...t},r)=>a.jsx(Q3,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Nt.displayName=Q3.displayName;const ite=nt({email:xe().email("Invalid email"),password:xe().min(1,"Password required")});function ote(){const e=hl(),[t]=V4(),r=t.get("returnTo")??"/dashboard",{register:n,handleSubmit:s,formState:{errors:i,isSubmitting:o}}=et({resolver:tt(ite)}),l=async u=>{const d=await BH(u.email,u.password);d.success?(B.success("Signed in",{description:"Welcome back."}),e(r,{replace:!0})):B.error("Sign in failed",{description:d.error})},c=async u=>{const d=await KH(u,{redirectTo:r});d.success||B.error("Sign in failed",{description:d.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Sign in"}),a.jsx(ge,{children:"Choose local-only or cloud-linked mode."})]}),a.jsx(Z,{children:a.jsxs(ci,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Oa,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(St,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(St,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Nt,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. Access the Control UI at your local URL and use QR or pairing code to connect devices."}),a.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(fe,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Nt,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:s(l),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"email",children:"Email"}),a.jsx(me,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...n("email"),"aria-invalid":!!i.email}),i.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"password",children:"Password"}),a.jsx(me,{id:"password",type:"password",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"current-password",...n("password"),"aria-invalid":!!i.password}),i.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.password.message})]}),a.jsx("div",{className:"flex items-center justify-between text-sm",children:a.jsx(fe,{to:"/forgot-password",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Forgot password?"})}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Signing in"]}):"Sign in"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("span",{className:"relative flex justify-center text-xs uppercase text-muted-foreground",children:"Or continue with"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(P,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("github"),children:[a.jsx(m7,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"GitHub"]}),a.jsxs(P,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("google"),children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24","aria-hidden":!0,children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["No account?"," ",a.jsx(fe,{to:"/signup",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign up"})]})]})]})})]})})}const lte=nt({email:xe().email("Invalid email"),password:xe().min(8,"At least 8 characters"),confirmPassword:xe()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function cte(){const e=hl(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:s}}=et({resolver:tt(lte)}),i=async o=>{const l=await HH(o.email,o.password,{redirectTo:"/verify-email"});l.success?l.needsEmailVerification?(B.success("Check your email",{description:"We sent a verification link. Click it or enter the code on the next page."}),e("/verify-email",{replace:!0})):(B.success("Account created",{description:"You can sign in now."}),e("/dashboard",{replace:!0})):B.error("Sign up failed",{description:l.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Create account"}),a.jsx(ge,{children:"Choose local-only or sign up for cloud-linked mode."})]}),a.jsx(Z,{children:a.jsxs(ci,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Oa,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(St,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(St,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Nt,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. No signup required. Open the Control UI and connect devices via QR or pairing code."}),a.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(fe,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Nt,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:r(i),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"email",children:"Email"}),a.jsx(me,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...t("email"),"aria-invalid":!!n.email}),n.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"password",children:"Password"}),a.jsx(me,{id:"password",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("password"),"aria-invalid":!!n.password}),n.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"confirmPassword",children:"Confirm password"}),a.jsx(me,{id:"confirmPassword",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("confirmPassword"),"aria-invalid":!!n.confirmPassword}),n.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.confirmPassword.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Creating account"]}):"Sign up"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx(fe,{to:"/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Log in"})]})]})]})})]})})}const DP={empty:"",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"};function ute(e){if(!e||e.length===0)return{level:"empty",score:0,label:DP.empty,minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1};const t=/[a-z]/.test(e),r=/[A-Z]/.test(e),n=/\d/.test(e),s=/[^A-Za-z0-9]/.test(e),i=e.length>=8;let o=0;e.length>=8&&(o+=1),e.length>=12&&(o+=1),t&&r&&(o+=1),n&&(o+=1),s&&(o+=1),o=Math.min(4,o);const l=o===0||o===1?"weak":o===2?"fair":o===3?"good":"strong";return{level:l,score:o,label:DP[l],minLength:i,hasLower:t,hasUpper:r,hasNumber:n,hasSpecial:s}}function dte(e){switch(e){case"empty":return"bg-muted-foreground/30";case"weak":return"bg-destructive";case"fair":return"bg-warning";case"good":return"bg-accent";case"strong":return"bg-success";default:return"bg-muted-foreground/30"}}const fte=nt({email:xe().min(1,"Email is required").email("Enter a valid email address")}),hte=nt({password:xe().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must include a lowercase letter").regex(/[A-Z]/,"Password must include an uppercase letter").regex(/\d/,"Password must include a number"),confirmPassword:xe().min(1,"Confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function mte(){const[e,t]=y.useState("email"),[r,n]=y.useState(!0),s=et({resolver:tt(fte),defaultValues:{email:""}}),i=et({resolver:tt(hte),defaultValues:{password:"",confirmPassword:""}}),o=i.watch("password",""),l=ute(o);y.useEffect(()=>{if(!QH()){n(!1);return}F.auth.getSession().then(({data:{session:d}})=>{d&&(t("set_password"),window.history.replaceState(null,"",window.location.pathname)),n(!1)})},[]);const c=async d=>{const f=await GH(d.email,"/forgot-password");f.success?(t("email_sent"),B.success("Check your email",{description:"If an account exists, we sent a reset link. Check spam if you dont see it."})):B.error("Could not send reset link",{description:f.error})},u=async d=>{const f=await YH(d.password);f.success?(t("success"),B.success("Password updated",{description:"You can now sign in with your new password."}),await F.auth.signOut()):B.error("Could not update password",{description:f.error})};return r?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(fe,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md",children:[a.jsx(od,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsx("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Checking your reset link"})})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(fe,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(od,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(fe,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{className:"space-y-1",children:[a.jsx(ne,{className:"text-xl font-semibold",children:e==="email"||e==="email_sent"?"Reset password":e==="set_password"?"Set new password":"Password updated"}),a.jsxs(ge,{children:[e==="email"&&"Enter your cloud account email and well send a secure reset link. For local-only mode, you dont need a password.",e==="email_sent"&&"If an account exists for that email, we sent a reset link. Check your inbox and spam folder.",e==="set_password"&&"Choose a strong password. Youll use it to sign in to your cloud-linked account.",e==="success"&&"Your password has been updated. You can now sign in with your new credentials."]})]}),a.jsxs(Z,{className:"space-y-4",children:[(e==="email"||e==="email_sent")&&a.jsx(a.Fragment,{children:e==="email"?a.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"password-reset-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(ud,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(me,{id:"password-reset-email",type:"email",placeholder:"you@example.com",className:"pl-9 rounded-md border-border py-3",autoComplete:"email",...s.register("email"),"aria-invalid":!!s.formState.errors.email})]}),s.formState.errors.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:s.formState.errors.email.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Sending":"Send reset link"})]}):a.jsxs("div",{className:"rounded-md border border-border bg-secondary/30 px-4 py-3 text-sm text-muted-foreground",children:[a.jsx("p",{children:"Check your email for the reset link. The link expires after a short time."}),a.jsx(P,{type:"button",variant:"ghost",className:"mt-3 text-primary hover:text-primary",onClick:()=>t("email"),children:"Send another link"})]})}),e==="set_password"&&a.jsxs("form",{onSubmit:i.handleSubmit(u),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"new-password",children:"New password"}),a.jsxs("div",{className:"relative",children:[a.jsx(cN,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(me,{id:"new-password",type:"password",placeholder:"",className:"pl-9 rounded-md border-border py-3",autoComplete:"new-password",...i.register("password"),"aria-invalid":!!i.formState.errors.password})]}),o.length>0&&a.jsxs("div",{className:"space-y-1","aria-live":"polite",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"Strength"}),a.jsx("span",{className:J(l.level!=="empty"&&l.level!=="weak"?"text-success":l.level==="weak"?"text-destructive":"text-muted-foreground"),children:l.label})]}),a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-secondary",role:"progressbar","aria-valuenow":l.score*25,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Password strength",children:a.jsx("div",{className:J("h-full rounded-full transition-all duration-300",dte(l.level)),style:{width:`${l.score*25}%`}})})]}),i.formState.errors.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"confirm-password",children:"Confirm password"}),a.jsx(me,{id:"confirm-password",type:"password",placeholder:"",className:"rounded-md border-border py-3",autoComplete:"new-password",...i.register("confirmPassword"),"aria-invalid":!!i.formState.errors.confirmPassword}),i.formState.errors.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.confirmPassword.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Updating":"Update password"})]}),e==="success"&&a.jsxs("div",{className:"animate-fade-in-up space-y-4 text-center",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"rounded-full bg-success/15 p-3",children:a.jsx(Na,{className:"h-8 w-8 text-success","aria-hidden":!0})})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now sign in with your new password."}),a.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 font-medium",size:"lg",children:a.jsx(fe,{to:"/login",children:"Sign in"})})]}),e!=="success"&&a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:a.jsx(fe,{to:"/login",className:"font-medium text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Back to login"})})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(fe,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(ef,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})})]})}const pte=nt({token:xe().min(1,"Enter the verification code from your email")});function gte(){const e=hl(),[t,r]=y.useState("checking"),[n,s]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(null),u=et({resolver:tt(pte),defaultValues:{token:""}});y.useEffect(()=>{let m=!1;async function g(){const p=JH();if(p){const v=await jE(p);m||(v.success?(r("verified"),B.success("Email verified",{description:"Your email has been confirmed. You can continue to the dashboard."}),window.history.replaceState(null,"",window.location.pathname)):B.error("Verification failed",{description:v.error}));return}const x=await ZH();if(m)return;if(x){r("verified");return}const{data:{user:b}}=await F.auth.getUser();m||(b!=null&&b.email&&c(b.email),r("pending"))}return g(),()=>{m=!0}},[]);const d=async m=>{const g=await jE(m.token);g.success?(r("verified"),u.reset(),B.success("Email verified",{description:"Your email has been confirmed."})):B.error("Verification failed",{description:g.error})},f=async()=>{o(!0);const m=await XH();o(!1),s(!1),m.success?B.success("Verification email sent",{description:"Check your inbox and spam folder for the link."}):B.error("Could not resend email",{description:m.error})},h=()=>{e("/dashboard",{replace:!0})};return t==="checking"?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(fe,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md","aria-label":"Back to login",children:[a.jsx(od,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsxs("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:[a.jsx(wr,{className:"mx-auto h-8 w-8 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking verification status"})]})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(fe,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(od,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(fe,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{className:"space-y-1",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-xl font-semibold",children:[a.jsx(ud,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Verify your email"]}),a.jsxs(ge,{children:["Required for signup and sensitive operations (e.g. skill install). We sent a link to",l?` ${l}`:" your email","."]})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx("div",{role:"status","aria-live":"polite",className:t==="verified"?"flex items-center gap-2 rounded-md border border-success/30 bg-success/10 px-3 py-2.5 text-sm text-success":"flex items-center gap-2 rounded-md border border-warning/30 bg-warning/10 px-3 py-2.5 text-sm text-warning",children:t==="verified"?a.jsxs(a.Fragment,{children:[a.jsx(_I,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Verified"]}):a.jsxs(a.Fragment,{children:[a.jsx(ud,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Pending"]})}),t==="verified"?a.jsxs("div",{className:"animate-fade-in-up space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Youre all set. Continue to your dashboard or complete your profile."}),a.jsx(P,{onClick:h,className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md",size:"lg",children:"Continue to dashboard"}),a.jsx(P,{asChild:!0,variant:"outline",className:"w-full rounded-md py-3",children:a.jsx(fe,{to:"/profile",children:"Go to profile"})})]}):a.jsxs(a.Fragment,{children:[a.jsx(P,{type:"button",variant:"outline",className:"w-full rounded-md py-3",onClick:()=>s(!0),children:"Resend verification email"}),a.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"verify-token",children:"Or enter code manually"}),a.jsxs("div",{className:"relative",children:[a.jsx(_i,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(me,{id:"verify-token",type:"text",placeholder:"Paste verification code from email",className:"pl-9 rounded-md border-border py-3",autoComplete:"one-time-code",...u.register("token"),"aria-invalid":!!u.formState.errors.token})]}),u.formState.errors.token&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:u.formState.errors.token.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Verifying"]}):a.jsxs(a.Fragment,{children:[a.jsx(fd,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Verify"]})})]})]})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(fe,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(ef,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})}),a.jsx(Me,{open:n,onOpenChange:s,children:a.jsxs(Pe,{className:"rounded-[10px] border border-border bg-card shadow-lg max-w-[640px]","aria-describedby":"resend-dialog-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Resend verification email"}),a.jsx(Te,{id:"resend-dialog-description",children:"Well send another verification link to your email. Check your spam folder if you dont see the first one."})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(P,{type:"button",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Sending"]}):"Send again"})]})]})})]})}function ie({className:e,...t}){return a.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}function X3(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Xx="Switch",[vte]=zs(Xx),[yte,xte]=vte(Xx),J3=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=y.useState(null),g=gt(t,w=>m(w)),p=y.useRef(!1),x=h?d||!!h.closest("form"):!0,[b,v]=ri({prop:s,defaultProp:i??!1,onChange:u,caller:Xx});return a.jsxs(yte,{scope:r,checked:b,disabled:l,children:[a.jsx(Qe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":rF(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Re(e.onClick,w=>{v(_=>!_),x&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),x&&a.jsx(tF,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});J3.displayName=Xx;var Z3="SwitchThumb",eF=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=xte(Z3,r);return a.jsx(Qe.span,{"data-state":rF(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});eF.displayName=Z3;var bte="SwitchBubbleInput",tF=y.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=y.useRef(null),l=gt(o,i),c=X3(r),u=cL(t);return y.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});tF.displayName=bte;function rF(e){return e?"checked":"unchecked"}var nF=J3,wte=eF;const Rt=y.forwardRef(({className:e,...t},r)=>a.jsx(nF,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),ref:r,...t,children:a.jsx(wte,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rt.displayName=nF.displayName;const jte="http://localhost:3000/api";async function Df(e,t={}){const r=`${jte}${e}`,n={"Content-Type":"application/json",...t.headers},s=typeof window<"u"?localStorage.getItem("auth_token"):null;s&&(n.Authorization=`Bearer ${s}`);const i=await fetch(r,{...t,headers:n});if(!i.ok)throw i.status===401&&typeof window<"u"&&(localStorage.removeItem("auth_token"),window.location.href="/login"),new Error(`API Error: ${i.status}`);const o=await i.text();if(o)return JSON.parse(o)}const we={get:e=>Df(e),post:(e,t)=>Df(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>Df(e,{method:"PUT",body:JSON.stringify(t)}),patch:(e,t)=>Df(e,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>Df(e,{method:"DELETE"})},ta="/profile",Aa={getProfile:()=>we.get(`${ta}`),updateProfile:e=>we.patch(`${ta}`,e),getOAuthAccounts:()=>we.get(`${ta}/oauth-accounts`),unlinkOAuthAccount:e=>we.delete(`${ta}/oauth-accounts/${e}`),getDeviceSessions:()=>we.get(`${ta}/sessions`),revokeSession:e=>we.delete(`${ta}/sessions/${e}`),getApiKeys:()=>we.get(`${ta}/api-keys`),createApiKey:e=>we.post(`${ta}/api-keys`,e),revokeApiKey:e=>we.delete(`${ta}/api-keys/${e}`),getSecuritySettings:()=>we.get(`${ta}/security-settings`),updateSecuritySettings:e=>we.patch(`${ta}/security-settings`,e)},jn={all:["profile"],profile:()=>[...jn.all,"detail"],oauthAccounts:()=>[...jn.all,"oauth-accounts"],sessions:()=>[...jn.all,"sessions"],apiKeys:()=>[...jn.all,"api-keys"],securitySettings:()=>[...jn.all,"security-settings"]};function pp(e,t){return e().catch(()=>t)}function Jx(){return ke({queryKey:jn.profile(),queryFn:()=>pp(Aa.getProfile,null)})}function _te(){const e=de();return ue({mutationFn:t=>Aa.updateProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:jn.profile()}),B.success("Profile updated")},onError:t=>{B.error(t.message||"Failed to update profile")}})}function Ste(){return ke({queryKey:jn.oauthAccounts(),queryFn:()=>pp(Aa.getOAuthAccounts,[])})}function Nte(){const e=de();return ue({mutationFn:t=>Aa.unlinkOAuthAccount(t),onSuccess:()=>{e.invalidateQueries({queryKey:jn.oauthAccounts()}),B.success("Account unlinked")},onError:t=>{B.error(t.message||"Failed to unlink account")}})}function kte(){return ke({queryKey:jn.sessions(),queryFn:()=>pp(Aa.getDeviceSessions,[])})}function Cte(){const e=de();return ue({mutationFn:t=>Aa.revokeSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:jn.sessions()}),B.success("Session revoked")},onError:t=>{B.error(t.message||"Failed to revoke session")}})}function Ete(){return ke({queryKey:jn.apiKeys(),queryFn:()=>pp(Aa.getApiKeys,[])})}function Pte(){const e=de();return ue({mutationFn:t=>Aa.createApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:jn.apiKeys()}),B.success("API key created")},onError:t=>{B.error(t.message||"Failed to create API key")}})}function Ote(){const e=de();return ue({mutationFn:t=>Aa.revokeApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:jn.apiKeys()}),B.success("API key revoked")},onError:t=>{B.error(t.message||"Failed to revoke API key")}})}function sF(){return ke({queryKey:jn.securitySettings(),queryFn:()=>pp(Aa.getSecuritySettings,null)})}function aF(){const e=de();return ue({mutationFn:t=>Aa.updateSecuritySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:jn.securitySettings()}),B.success("Security settings updated")},onError:t=>{B.error(t.message||"Failed to update security settings")}})}function Bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Vi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ate(e,t){const r=Bt(e);return isNaN(t)?Vi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const iF=6048e5,Tte=864e5,oF=6e4,lF=36e5,cg=43200,LP=1440;let Rte={};function gp(){return Rte}function cm(e,t){var l,c,u,d;const r=gp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Bt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Vv(e){return cm(e,{weekStartsOn:1})}function cF(e){const t=Bt(e),r=t.getFullYear(),n=Vi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Vv(n),i=Vi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Vv(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function FP(e){const t=Bt(e);return t.setHours(0,0,0,0),t}function Kv(e){const t=Bt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Mte(e,t){const r=FP(e),n=FP(t),s=+r-Kv(r),i=+n-Kv(n);return Math.round((s-i)/Tte)}function $te(e){const t=cF(e),r=Vi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Vv(r)}function Hg(e,t){const r=Bt(e),n=Bt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function Ite(e){return Vi(e,Date.now())}function Dte(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Lte(e){if(!Dte(e)&&typeof e!="number")return!1;const t=Bt(e);return!isNaN(Number(t))}function Fte(e,t){const r=Bt(e),n=Bt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Ute(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function qte(e,t){return+Bt(e)-+Bt(t)}function Bte(e){const t=Bt(e);return t.setHours(23,59,59,999),t}function zte(e){const t=Bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Wte(e){const t=Bt(e);return+Bte(t)==+zte(t)}function Vte(e,t){const r=Bt(e),n=Bt(t),s=Hg(r,n),i=Math.abs(Fte(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=Hg(r,n)===-s;Wte(Bt(e))&&i===1&&Hg(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function Kte(e,t,r){const n=qte(e,t)/1e3;return Ute(r==null?void 0:r.roundingMethod)(n)}function Hte(e){const t=Bt(e),r=Vi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Gte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yte=(e,t,r)=>{let n;const s=Gte[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Vw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Qte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Xte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Jte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zte={date:Vw({formats:Qte,defaultWidth:"full"}),time:Vw({formats:Xte,defaultWidth:"full"}),dateTime:Vw({formats:Jte,defaultWidth:"full"})},ere={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tre=(e,t,r,n)=>ere[e];function Lf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const rre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},are={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ire={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ore={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lre=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},cre={ordinalNumber:lre,era:Lf({values:rre,defaultWidth:"wide"}),quarter:Lf({values:nre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Lf({values:sre,defaultWidth:"wide"}),day:Lf({values:are,defaultWidth:"wide"}),dayPeriod:Lf({values:ire,defaultWidth:"wide",formattingValues:ore,defaultFormattingWidth:"wide"})};function Ff(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?dre(l,f=>f.test(o)):ure(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function ure(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function dre(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function fre(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const hre=/^(\d+)(th|st|nd|rd)?/i,mre=/\d+/i,pre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gre={any:[/^b/i,/^(a|c)/i]},vre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yre={any:[/1/i,/2/i,/3/i,/4/i]},xre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_re={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nre={ordinalNumber:fre({matchPattern:hre,parsePattern:mre,valueCallback:e=>parseInt(e,10)}),era:Ff({matchPatterns:pre,defaultMatchWidth:"wide",parsePatterns:gre,defaultParseWidth:"any"}),quarter:Ff({matchPatterns:vre,defaultMatchWidth:"wide",parsePatterns:yre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ff({matchPatterns:xre,defaultMatchWidth:"wide",parsePatterns:bre,defaultParseWidth:"any"}),day:Ff({matchPatterns:wre,defaultMatchWidth:"wide",parsePatterns:jre,defaultParseWidth:"any"}),dayPeriod:Ff({matchPatterns:_re,defaultMatchWidth:"any",parsePatterns:Sre,defaultParseWidth:"any"})},uF={code:"en-US",formatDistance:Yte,formatLong:Zte,formatRelative:tre,localize:cre,match:Nre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kre(e){const t=Bt(e);return Mte(t,Hte(t))+1}function Cre(e){const t=Bt(e),r=+Vv(t)-+$te(t);return Math.round(r/iF)+1}function dF(e,t){var d,f,h,m;const r=Bt(e),n=r.getFullYear(),s=gp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Vi(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=cm(o,t),c=Vi(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=cm(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Ere(e,t){var l,c,u,d;const r=gp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=dF(e,t),i=Vi(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),cm(i,t)}function Pre(e,t){const r=Bt(e),n=+cm(r,t)-+Ere(r,t);return Math.round(n/iF)+1}function It(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const po={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return It(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):It(r+1,2)},d(e,t){return It(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return It(e.getHours()%12||12,t.length)},H(e,t){return It(e.getHours(),t.length)},m(e,t){return It(e.getMinutes(),t.length)},s(e,t){return It(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return It(s,t.length)}},eu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UP={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return po.y(e,t)},Y:function(e,t,r,n){const s=dF(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return It(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):It(i,t.length)},R:function(e,t){const r=cF(e);return It(r,t.length)},u:function(e,t){const r=e.getFullYear();return It(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return It(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return It(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return po.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return It(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Pre(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):It(s,t.length)},I:function(e,t,r){const n=Cre(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):It(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):po.d(e,t)},D:function(e,t,r){const n=kre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):It(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return It(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return It(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return It(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=eu.noon:n===0?s=eu.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=eu.evening:n>=12?s=eu.afternoon:n>=4?s=eu.morning:s=eu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return po.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):po.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):It(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):It(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):po.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):po.s(e,t)},S:function(e,t){return po.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return BP(n);case"XXXX":case"XX":return Pl(n);case"XXXXX":case"XXX":default:return Pl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return BP(n);case"xxxx":case"xx":return Pl(n);case"xxxxx":case"xxx":default:return Pl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+qP(n,":");case"OOOO":default:return"GMT"+Pl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+qP(n,":");case"zzzz":default:return"GMT"+Pl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return It(n,t.length)},T:function(e,t,r){const n=e.getTime();return It(n,t.length)}};function qP(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+It(i,2)}function BP(e,t){return e%60===0?(e>0?"-":"+")+It(Math.abs(e)/60,2):Pl(e,t)}function Pl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=It(Math.trunc(n/60),2),i=It(n%60,2);return r+s+t+i}const zP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},fF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ore=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return zP(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",zP(n,t)).replace("{{time}}",fF(s,t))},Are={p:fF,P:Ore},Tre=/^D+$/,Rre=/^Y+$/,Mre=["D","DD","YY","YYYY"];function $re(e){return Tre.test(e)}function Ire(e){return Rre.test(e)}function Dre(e,t,r){const n=Lre(e,t,r);if(console.warn(n),Mre.includes(e))throw new RangeError(n)}function Lre(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ure=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qre=/^'([^]*?)'?$/,Bre=/''/g,zre=/[a-zA-Z]/;function Ka(e,t,r){var d,f,h,m;const n=gp(),s=n.locale??uF,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=Bt(e);if(!Lte(l))throw new RangeError("Invalid time value");let c=t.match(Ure).map(g=>{const p=g[0];if(p==="p"||p==="P"){const x=Are[p];return x(g,s.formatLong)}return g}).join("").match(Fre).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:Wre(g)};if(UP[p])return{isToken:!0,value:g};if(p.match(zre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(Ire(p)||$re(p))&&Dre(p,t,String(e));const x=UP[p[0]];return x(l,p,s.localize,u)}).join("")}function Wre(e){const t=e.match(qre);return t?t[1].replace(Bre,"'"):e}function Vre(e,t,r){const n=gp(),s=(r==null?void 0:r.locale)??n.locale??uF,i=2520,o=Hg(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Bt(t),u=Bt(e)):(c=Bt(e),u=Bt(t));const d=Kte(u,c),f=(Kv(u)-Kv(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<LP){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<cg){const g=Math.round(h/LP);return s.formatDistance("xDays",g,l)}else if(h<cg*2)return m=Math.round(h/cg),s.formatDistance("aboutXMonths",m,l)}if(m=Vte(u,c),m<12){const g=Math.round(h/cg);return s.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",p,l):g<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function Sr(e,t){return Vre(e,Ite(e),t)}function JN(e,t){return Ate(e,-t)}function $l(e,t){const n=Yre(e);let s;if(n.date){const c=Qre(n.date,2);s=Xre(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=Jre(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=Zre(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const ug={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Kre=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Hre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Gre=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Yre(e){const t={},r=e.split(ug.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ug.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ug.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=ug.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function Qre(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Xre(e,t){if(t===null)return new Date(NaN);const r=e.match(Kre);if(!r)return new Date(NaN);const n=!!r[4],s=Uf(r[1]),i=Uf(r[2])-1,o=Uf(r[3]),l=Uf(r[4]),c=Uf(r[5])-1;if(n)return sne(t,l,c)?ene(t,l,c):new Date(NaN);{const u=new Date(0);return!rne(t,i,o)||!nne(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function Uf(e){return e?parseInt(e):1}function Jre(e){const t=e.match(Hre);if(!t)return NaN;const r=Kw(t[1]),n=Kw(t[2]),s=Kw(t[3]);return ane(r,n,s)?r*lF+n*oF+s*1e3:NaN}function Kw(e){return e&&parseFloat(e.replace(",","."))||0}function Zre(e){if(e==="Z")return 0;const t=e.match(Gre);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return ine(n,s)?r*(n*lF+s*oF):NaN}function ene(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const tne=[31,null,31,30,31,30,31,31,30,31,30,31];function hF(e){return e%400===0||e%4===0&&e%100!==0}function rne(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(tne[t]||(hF(e)?29:28))}function nne(e,t){return t>=1&&t<=(hF(e)?366:365)}function sne(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function ane(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function ine(e,t){return t>=0&&t<=59}const one=nt({name:xe().min(1,"Name is required").max(64),scope:xe().min(1,"Scope is required").max(128)}),lne={github:"GitHub",google:"Google",discord:"Discord",slack:"Slack"};function cne(){const{data:e,isLoading:t}=Jx(),r=_te(),[n,s]=y.useState(!1),[i,o]=y.useState((e==null?void 0:e.display_name)??"");if(y.useEffect(()=>{!n&&(e==null?void 0:e.display_name)!==void 0&&o(e.display_name??"")},[e==null?void 0:e.display_name,n]),t)return a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ie,{className:"h-6 w-32"}),a.jsx(ie,{className:"h-4 w-48 mt-2"})]}),a.jsxs(Z,{className:"flex items-center gap-4",children:[a.jsx(ie,{className:"h-16 w-16 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ie,{className:"h-5 w-40"}),a.jsx(ie,{className:"h-4 w-24"})]})]})]});const l=(e==null?void 0:e.display_name)||"User",c=(e==null?void 0:e.email)??"",u=(e==null?void 0:e.workspace_path)??"",d=l.slice(0,2).toUpperCase(),f=()=>{r.mutate({display_name:i||null},{onSuccess:()=>s(!1)})};return a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(lp,{className:"h-5 w-5"}),"Profile summary"]}),a.jsx(ge,{children:"Account and avatar."})]}),a.jsxs(Z,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-6",children:[a.jsxs(Dx,{className:"h-16 w-16 shrink-0",children:[a.jsx(EN,{src:(e==null?void 0:e.avatar_url)??void 0,alt:l}),a.jsx(Lx,{className:"text-lg bg-primary/20 text-primary",children:d})]}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[n?a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(me,{value:i,onChange:h=>o(h.target.value),placeholder:"Display name",className:"max-w-xs","aria-label":"Display name"}),a.jsx(P,{size:"sm",onClick:f,disabled:r.isPending,children:r.isPending?a.jsx(wr,{className:"h-4 w-4 animate-spin"}):"Save"}),a.jsx(P,{size:"sm",variant:"ghost",onClick:()=>{s(!1),o((e==null?void 0:e.display_name)??"")},children:"Cancel"})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium truncate",children:l}),a.jsx(P,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",onClick:()=>{o((e==null?void 0:e.display_name)??""),s(!0)},"aria-label":"Edit display name",children:"Edit"})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Workspace: ",a.jsx("span",{className:"font-mono truncate",children:u})]})]})]})]})}function une(){const{data:e,isLoading:t}=Ste(),r=Nte(),[n,s]=y.useState(null);if(t)return a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ie,{className:"h-6 w-40"}),a.jsx(ie,{className:"h-4 w-56 mt-2"})]}),a.jsxs(Z,{children:[a.jsx(ie,{className:"h-12 w-full"}),a.jsx(ie,{className:"h-12 w-full mt-2"})]})]});const i=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(S7,{className:"h-5 w-5"}),"Connected accounts"]}),a.jsx(ge,{children:"OAuth and linked accounts; unlink here."})]}),a.jsx(Z,{children:i.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected accounts."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connect GitHub, Google, or other providers from Settings."})]}):a.jsx("ul",{className:"space-y-2",children:i.map(o=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsx("span",{className:"font-medium",children:lne[o.provider]??o.provider}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>s(o.id),disabled:r.isPending,"aria-label":`Unlink ${o.provider}`,children:"Unlink"})]},o.id))})})]}),a.jsx(Me,{open:!!n,onOpenChange:()=>s(null),children:a.jsxs(Pe,{showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Unlink account"}),a.jsx(Te,{children:"Are you sure you want to unlink this account? You may need to sign in again with this provider to reconnect."})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>s(null),children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:()=>{n&&r.mutate(n,{onSuccess:()=>s(null)})},disabled:r.isPending,children:r.isPending?a.jsx(wr,{className:"h-4 w-4 animate-spin"}):"Unlink"})]})]})})]})}function dne(){const{data:e,isLoading:t}=kte(),{data:r,isLoading:n}=sF(),s=aF(),i=Cte(),[o,l]=y.useState(null),c=t||n,u=(r==null?void 0:r.two_factor_enabled)??!1;if(c)return a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ie,{className:"h-6 w-24"}),a.jsx(ie,{className:"h-4 w-48 mt-2"})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(ie,{className:"h-10 w-32"}),a.jsx(ie,{className:"h-6 w-full"})]})]});const d=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(jr,{className:"h-5 w-5"}),"Security"]}),a.jsx(ge,{children:"Password, 2FA, active sessions."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(fe,{to:"/forgot-password",children:"Change password"})}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(H,{htmlFor:"2fa",className:"cursor-pointer",children:"Two-factor authentication"}),a.jsx(Rt,{id:"2fa",checked:u,onCheckedChange:f=>s.mutate({two_factor_enabled:f}),disabled:s.isPending})]}),a.jsx(NN,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Active sessions"}),d.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No other sessions."}):a.jsx("ul",{className:"space-y-2",children:d.map(f=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nx,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:f.device_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Sr(new Date(f.last_active_at),{addSuffix:!0})})]})]}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(f.id),disabled:i.isPending,"aria-label":`Revoke ${f.device_name}`,children:"Revoke"})]},f.id))})]})]})]}),a.jsx(Me,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Pe,{showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Revoke session"}),a.jsx(Te,{children:"This device will be signed out. Are you sure?"})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:()=>{o&&i.mutate(o,{onSuccess:()=>l(null)})},disabled:i.isPending,children:i.isPending?a.jsx(wr,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function fne(){const{data:e,isLoading:t}=Ete(),r=Pte(),n=Ote(),[s,i]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState(null),d=et({resolver:tt(one),defaultValues:{name:"",scope:"read"}}),f=m=>{r.mutate(m,{onSuccess:g=>{u(g.key),d.reset()}})};if(t)return a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ie,{className:"h-6 w-24"}),a.jsx(ie,{className:"h-4 w-40 mt-2"})]}),a.jsxs(Z,{children:[a.jsx(ie,{className:"h-10 w-28"}),a.jsx(ie,{className:"h-12 w-full mt-4"})]})]});const h=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(cd,{className:"h-5 w-5"}),"API Keys"]}),a.jsx(ge,{children:"Create and manage scoped API keys for integrations."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>{i(!0),u(null)},children:"Create API key"}),h.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-6 text-center",children:[a.jsx(_i,{className:"mx-auto h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No API keys yet."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a key to use with external tools or scripts."})]}):a.jsx("ul",{className:"space-y-2",children:h.map(m=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:m.name}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[m.key_prefix,""]})]}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(m.id),disabled:n.isPending,"aria-label":`Revoke key ${m.name}`,children:"Revoke"})]},m.id))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Keychain / 1Password integration can be enabled below."})]})]}),a.jsx(Me,{open:s,onOpenChange:i,children:a.jsxs(Pe,{showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Create API key"}),a.jsx(Te,{children:"Choose a name and scope. The key value is shown only once."})]}),c?a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Your new key (copy now)"}),a.jsx(me,{readOnly:!0,value:c,className:"font-mono text-sm","aria-label":"API key value"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Store this securely; it won't be shown again."}),a.jsx(De,{children:a.jsx(P,{onClick:()=>i(!1),children:"Done"})})]}):a.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"key-name",children:"Name"}),a.jsx(me,{id:"key-name",...d.register("name"),placeholder:"e.g. CI pipeline","aria-invalid":!!d.formState.errors.name}),d.formState.errors.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"key-scope",children:"Scope"}),a.jsx(me,{id:"key-scope",...d.register("scope"),placeholder:"e.g. read, write","aria-invalid":!!d.formState.errors.scope}),d.formState.errors.scope&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.scope.message})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:r.isPending,children:r.isPending?a.jsx(wr,{className:"h-4 w-4 animate-spin"}):"Create"})]})]})]})}),a.jsx(Me,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Pe,{showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Revoke API key"}),a.jsx(Te,{children:"This key will stop working immediately. Any integrations using it will need a new key."})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:()=>{o&&n.mutate(o,{onSuccess:()=>l(null)})},disabled:n.isPending,children:n.isPending?a.jsx(wr,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function hne(){const{data:e,isLoading:t}=sF(),r=aF(),n=(e==null?void 0:e.keychain_integration_enabled)??!1;return t?a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ie,{className:"h-6 w-48"}),a.jsx(ie,{className:"h-4 w-64 mt-2"})]}),a.jsx(Z,{children:a.jsx(ie,{className:"h-6 w-full"})})]}):a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(_i,{className:"h-5 w-5"}),"Keychain / 1Password"]}),a.jsx(ge,{children:"Use 1Password or system keychain for secure login and autofill."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(H,{htmlFor:"keychain",className:"cursor-pointer",children:"Enable 1Password integration"}),a.jsx(Rt,{id:"keychain",checked:n,onCheckedChange:s=>r.mutate({keychain_integration_enabled:s}),disabled:r.isPending})]})})]})}function mne(){return a.jsxs("div",{className:J("mx-auto max-w-3xl space-y-6 animate-fade-in-up"),children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Profile"}),a.jsx(cne,{}),a.jsx(une,{}),a.jsx(dne,{}),a.jsx(fne,{}),a.jsx(hne,{}),a.jsx("div",{className:"flex justify-end",children:a.jsx(P,{asChild:!0,children:a.jsx(fe,{to:"/settings",children:"Settings"})})})]})}function pne(){return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Ir,{className:"h-5 w-5"}),"Install Gateway"]}),a.jsx(ge,{children:"Download the Clawgate gateway for your platform."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway binaries and installers will be available here. For now, use the Open Local UI button if you have the gateway running."}),a.jsx(P,{asChild:!0,className:"w-full",children:a.jsx(fe,{to:"/dashboard",children:"Open Local UI"})}),a.jsx(P,{variant:"outline",asChild:!0,className:"w-full",children:a.jsx(fe,{to:"/",children:"Back to home"})})]})]})})}const gne=bN("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-600/20 text-green-400",warning:"border-transparent bg-amber-600/20 text-amber-400"}},defaultVariants:{variant:"default"}});function We({className:e,variant:t,...r}){return a.jsx("div",{className:J(gne({variant:t}),e),...r})}const Zt="/dashboard",Ln={getActivities:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return we.get(`${Zt}/activities${t?`?${t}`:""}`)},getActivity:e=>we.get(`${Zt}/activities/${e}`),createActivity:e=>we.post(`${Zt}/activities`,e),deleteActivity:e=>we.delete(`${Zt}/activities/${e}`),getRuns:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return we.get(`${Zt}/runs${t?`?${t}`:""}`)},getRun:e=>we.get(`${Zt}/runs/${e}`),createRun:e=>we.post(`${Zt}/runs`,e),updateRun:(e,t)=>we.patch(`${Zt}/runs/${e}`,t),abortRun:e=>we.post(`${Zt}/runs/${e}/abort`,{}),getCronJobs:()=>we.get(`${Zt}/cron-jobs`),getCronJob:e=>we.get(`${Zt}/cron-jobs/${e}`),createCronJob:e=>we.post(`${Zt}/cron-jobs`,e),updateCronJob:(e,t)=>we.patch(`${Zt}/cron-jobs/${e}`,t),deleteCronJob:e=>we.delete(`${Zt}/cron-jobs/${e}`),runCronJobNow:e=>we.post(`${Zt}/cron-jobs/${e}/run-now`,{}),getCronRunHistory:(e,t)=>{const r=t?new URLSearchParams(Object.fromEntries(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)]))).toString():"";return we.get(`${Zt}/cron-jobs/${e}/run-history${r?`?${r}`:""}`)},getNodes:()=>we.get(`${Zt}/nodes`),getNode:e=>we.get(`${Zt}/nodes/${e}`),createNode:e=>we.post(`${Zt}/nodes`,e),updateNode:(e,t)=>we.patch(`${Zt}/nodes/${e}`,t),deleteNode:e=>we.delete(`${Zt}/nodes/${e}`),getAlerts:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return we.get(`${Zt}/alerts${t?`?${t}`:""}`)},getAlert:e=>we.get(`${Zt}/alerts/${e}`),updateAlert:(e,t)=>we.patch(`${Zt}/alerts/${e}`,t),quickRun:e=>we.post(`${Zt}/quick-run`,e)};function of(e,t){return e().catch(()=>t)}const Ct={all:["dashboard"],activities:e=>[...Ct.all,"activities",e],activity:e=>[...Ct.all,"activity",e],runs:e=>[...Ct.all,"runs",e],run:e=>[...Ct.all,"run",e],cronJobs:()=>[...Ct.all,"cron-jobs"],cronJob:e=>[...Ct.all,"cron-job",e],cronRunHistory:(e,t)=>[...Ct.all,"cron-run-history",e,t],nodes:()=>[...Ct.all,"nodes"],node:e=>[...Ct.all,"node",e],alerts:e=>[...Ct.all,"alerts",e],alert:e=>[...Ct.all,"alert",e]};function vne(e){return ke({queryKey:Ct.activities(e),queryFn:()=>of(()=>Ln.getActivities(e),[])})}function yne(){const e=de();return ue({mutationFn:t=>Ln.deleteActivity(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.activities()}),B.success("Activity removed")},onError:t=>{B.error(t.message||"Failed to remove activity")}})}function xne(e){return ke({queryKey:Ct.runs(e),queryFn:()=>of(()=>Ln.getRuns(e),[])})}function bne(){const e=de();return ue({mutationFn:t=>Ln.abortRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.runs()}),B.success("Run aborted")},onError:t=>{B.error(t.message||"Failed to abort run")}})}function mF(){return ke({queryKey:Ct.cronJobs(),queryFn:()=>of(()=>Ln.getCronJobs(),[])})}function pF(){const e=de();return ue({mutationFn:t=>Ln.createCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),B.success("Cron job created")},onError:t=>{B.error(t.message||"Failed to create cron job")}})}function wne(){const e=de();return ue({mutationFn:({id:t,data:r})=>Ln.updateCronJob(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),e.invalidateQueries({queryKey:Ct.cronJob(r)}),B.success("Cron job updated")},onError:t=>{B.error(t.message||"Failed to update cron job")}})}function jne(){const e=de();return ue({mutationFn:t=>Ln.deleteCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),B.success("Cron job deleted")},onError:t=>{B.error(t.message||"Failed to delete cron job")}})}function _ne(e,t){return ke({queryKey:Ct.cronRunHistory(e??"",t),queryFn:()=>e?of(()=>Ln.getCronRunHistory(e,t),[]):Promise.resolve([]),enabled:!!e})}function Sne(){const e=de();return ue({mutationFn:t=>Ln.runCronJobNow(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),e.invalidateQueries({queryKey:Ct.cronRunHistory(r)}),e.invalidateQueries({queryKey:Ct.runs()}),B.success("Job started")},onError:t=>{B.error(t.message||"Failed to run job")}})}function gF(){return ke({queryKey:Ct.nodes(),queryFn:()=>of(()=>Ln.getNodes(),[])})}function Nne(){const e=de();return ue({mutationFn:({id:t,data:r})=>Ln.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.nodes()}),e.invalidateQueries({queryKey:Ct.node(r)}),B.success("Node updated")},onError:t=>{B.error(t.message||"Failed to update node")}})}function kne(e){return ke({queryKey:Ct.alerts(e),queryFn:()=>of(()=>Ln.getAlerts(e),[])})}function Cne(){const e=de();return ue({mutationFn:({id:t,data:r})=>Ln.updateAlert(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.alerts()}),e.invalidateQueries({queryKey:Ct.alert(r)}),B.success("Alert updated")},onError:t=>{B.error(t.message||"Failed to update alert")}})}function Ene(){const e=de();return ue({mutationFn:t=>Ln.quickRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.activities()}),e.invalidateQueries({queryKey:Ct.runs()}),B.success("Message sent")},onError:t=>{B.error(t.message||"Failed to send message")}})}const WP={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"};function Pne({activity:e,open:t,onOpenChange:r,onDelete:n}){if(!e)return null;const s=()=>{n==null||n(e.id),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"activity-detail-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Activity details"}),a.jsxs(Te,{id:"activity-detail-description",children:[WP[e.activity_type]??e.activity_type," "," ",Sr(new Date(e.created_at),{addSuffix:!0})]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),a.jsx("p",{className:"text-sm",children:WP[e.activity_type]??e.activity_type})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Details"}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md border border-border bg-secondary/30 p-3 text-xs",children:JSON.stringify(e.details,null,2)})]})]}),a.jsxs(De,{children:[n&&a.jsx(P,{variant:"destructive",onClick:s,children:"Remove"}),a.jsx(P,{variant:"outline",onClick:()=>r(!1),children:"Close"})]})]})})}function One({run:e,open:t,onOpenChange:r,onConfirm:n,isAborting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Pe,{"aria-describedby":"run-abort-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Abort run?"}),a.jsxs(Te,{id:"run-abort-description",children:["This will stop the run that started"," ",Sr(new Date(e.start_time),{addSuffix:!0}),". This action cannot be undone."]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Aborting":"Abort run"})]})]})})}function Ane(e){const t=Tne(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(Mne);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Tne(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=Ine(s),l=$ne(i,s.props);return s.type!==y.Fragment&&(l.ref=n?to(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Rne=Symbol("radix.slottable");function Mne(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Rne}function $ne(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Ine(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Dne="VisuallyHidden",Lne=y.forwardRef((e,t)=>a.jsx(Qe.span,{...e,ref:t,style:{...vF,...e.style}}));Lne.displayName=Dne;var Fne=[" ","Enter","ArrowUp","ArrowDown"],Une=[" ","Enter"],bc="Select",[Zx,eb,qne]=Fx(bc),[lf]=zs(bc,[qne,Wx]),tb=Wx(),[Bne,pl]=lf(bc),[zne,Wne]=lf(bc),yF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=tb(t),[x,b]=y.useState(null),[v,w]=y.useState(null),[_,j]=y.useState(!1),S=nf(u),[N,k]=ri({prop:n,defaultProp:s??!1,onChange:i,caller:bc}),[C,E]=ri({prop:o,defaultProp:l,onChange:c,caller:bc}),D=y.useRef(null),O=x?g||!!x.closest("form"):!0,[q,A]=y.useState(new Set),V=Array.from(q).map(T=>T.props.value).join(";");return a.jsx(xL,{...p,children:a.jsxs(Bne,{required:m,scope:t,trigger:x,onTriggerChange:b,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:$s(),value:C,onValueChange:E,open:N,onOpenChange:k,dir:S,triggerPointerDownPosRef:D,disabled:h,children:[a.jsx(Zx.Provider,{scope:t,children:a.jsx(zne,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(T=>{A(K=>new Set(K).add(T))},[]),onNativeOptionRemove:y.useCallback(T=>{A(K=>{const M=new Set(K);return M.delete(T),M})},[]),children:r})}),O?a.jsxs(BF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:T=>E(T.target.value),disabled:h,form:g,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(q)]},V):null]})})};yF.displayName=bc;var xF="SelectTrigger",bF=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=tb(r),o=pl(xF,r),l=o.disabled||n,c=gt(t,o.onTriggerChange),u=eb(r),d=y.useRef("touch"),[f,h,m]=WF(p=>{const x=u().filter(w=>!w.disabled),b=x.find(w=>w.value===o.value),v=VF(x,p,b);v!==void 0&&o.onValueChange(v.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(bL,{asChild:!0,...i,children:a.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":zF(o.value)?"":void 0,...s,ref:c,onClick:Re(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Re(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Re(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&Fne.includes(p.key)&&(g(),p.preventDefault())})})})});bF.displayName=xF;var wF="SelectValue",jF=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=pl(wF,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=gt(t,c.onValueNodeChange);return _r(()=>{u(d)},[u,d]),a.jsx(Qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:zF(c.value)?a.jsx(a.Fragment,{children:o}):i})});jF.displayName=wF;var Vne="SelectIcon",_F=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Qe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});_F.displayName=Vne;var Kne="SelectPortal",SF=e=>a.jsx(Ax,{asChild:!0,...e});SF.displayName=Kne;var wc="SelectContent",NF=y.forwardRef((e,t)=>{const r=pl(wc,e.__scopeSelect),[n,s]=y.useState();if(_r(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Hd.createPortal(a.jsx(kF,{scope:e.__scopeSelect,children:a.jsx(Zx.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(CF,{...e,ref:t})});NF.displayName=wc;var sa=10,[kF,gl]=lf(wc),Hne="SelectContentImpl",Gne=Ane("SelectContent.RemoveScroll"),CF=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x,...b}=e,v=pl(wc,r),[w,_]=y.useState(null),[j,S]=y.useState(null),N=gt(t,he=>_(he)),[k,C]=y.useState(null),[E,D]=y.useState(null),O=eb(r),[q,A]=y.useState(!1),V=y.useRef(!1);y.useEffect(()=>{if(w)return gN(w)},[w]),pN();const T=y.useCallback(he=>{const[Be,...ae]=O().map(Q=>Q.ref.current),[_e]=ae.slice(-1),Y=document.activeElement;for(const Q of he)if(Q===Y||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===Be&&j&&(j.scrollTop=0),Q===_e&&j&&(j.scrollTop=j.scrollHeight),Q==null||Q.focus(),document.activeElement!==Y))return},[O,j]),K=y.useCallback(()=>T([k,w]),[T,k,w]);y.useEffect(()=>{q&&K()},[q,K]);const{onOpenChange:M,triggerPointerDownPosRef:$}=v;y.useEffect(()=>{if(w){let he={x:0,y:0};const Be=_e=>{var Y,Q;he={x:Math.abs(Math.round(_e.pageX)-(((Y=$.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Q=$.current)==null?void 0:Q.y)??0))}},ae=_e=>{he.x<=10&&he.y<=10?_e.preventDefault():w.contains(_e.target)||M(!1),document.removeEventListener("pointermove",Be),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Be),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Be),document.removeEventListener("pointerup",ae,{capture:!0})}}},[w,M,$]),y.useEffect(()=>{const he=()=>M(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[M]);const[I,ee]=WF(he=>{const Be=O().filter(Y=>!Y.disabled),ae=Be.find(Y=>Y.ref.current===document.activeElement),_e=VF(Be,he,ae);_e&&setTimeout(()=>_e.ref.current.focus())}),L=y.useCallback((he,Be,ae)=>{const _e=!V.current&&!ae;(v.value!==void 0&&v.value===Be||_e)&&(C(he),_e&&(V.current=!0))},[v.value]),oe=y.useCallback(()=>w==null?void 0:w.focus(),[w]),ye=y.useCallback((he,Be,ae)=>{const _e=!V.current&&!ae;(v.value!==void 0&&v.value===Be||_e)&&D(he)},[v.value]),Ve=n==="popper"?S_:EF,Ke=Ve===S_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return a.jsx(kF,{scope:r,content:w,viewport:j,onViewportChange:S,itemRefCallback:L,selectedItem:k,onItemLeave:oe,itemTextRefCallback:ye,focusSelectedItem:K,selectedItemText:E,position:n,isPositioned:q,searchRef:I,children:a.jsx(Rx,{as:Gne,allowPinchZoom:!0,children:a.jsx(Ox,{asChild:!0,trapped:v.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Re(s,he=>{var Be;(Be=v.trigger)==null||Be.focus({preventScroll:!0}),he.preventDefault()}),children:a.jsx(Px,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(Ve,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:he=>he.preventDefault(),...b,...Ke,onPlaced:()=>A(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Re(b.onKeyDown,he=>{const Be=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!Be&&he.key.length===1&&ee(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let _e=O().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes(he.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const Y=he.target,Q=_e.indexOf(Y);_e=_e.slice(Q+1)}setTimeout(()=>T(_e)),he.preventDefault()}})})})})})})});CF.displayName=Hne;var Yne="SelectItemAlignedPosition",EF=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=pl(wc,r),o=gl(wc,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=gt(t,N=>d(N)),h=eb(r),m=y.useRef(!1),g=y.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:b,focusSelectedItem:v}=o,w=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&x&&b){const N=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),E=b.getBoundingClientRect();if(i.dir!=="rtl"){const Y=E.left-k.left,Q=C.left-Y,Xe=N.left-Q,He=N.width+Xe,xt=Math.max(He,k.width),ft=window.innerWidth-sa,Wt=c_(Q,[sa,Math.max(sa,ft-xt)]);l.style.minWidth=He+"px",l.style.left=Wt+"px"}else{const Y=k.right-E.right,Q=window.innerWidth-C.right-Y,Xe=window.innerWidth-N.right-Q,He=N.width+Xe,xt=Math.max(He,k.width),ft=window.innerWidth-sa,Wt=c_(Q,[sa,Math.max(sa,ft-xt)]);l.style.minWidth=He+"px",l.style.right=Wt+"px"}const D=h(),O=window.innerHeight-sa*2,q=p.scrollHeight,A=window.getComputedStyle(u),V=parseInt(A.borderTopWidth,10),T=parseInt(A.paddingTop,10),K=parseInt(A.borderBottomWidth,10),M=parseInt(A.paddingBottom,10),$=V+T+q+M+K,I=Math.min(x.offsetHeight*5,$),ee=window.getComputedStyle(p),L=parseInt(ee.paddingTop,10),oe=parseInt(ee.paddingBottom,10),ye=N.top+N.height/2-sa,Ve=O-ye,Ke=x.offsetHeight/2,he=x.offsetTop+Ke,Be=V+T+he,ae=$-Be;if(Be<=ye){const Y=D.length>0&&x===D[D.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-p.offsetTop-p.offsetHeight,Xe=Math.max(Ve,Ke+(Y?oe:0)+Q+K),He=Be+Xe;l.style.height=He+"px"}else{const Y=D.length>0&&x===D[0].ref.current;l.style.top="0px";const Xe=Math.max(ye,V+p.offsetTop+(Y?L:0)+Ke)+ae;l.style.height=Xe+"px",p.scrollTop=Be-ye+p.offsetTop}l.style.margin=`${sa}px 0`,l.style.minHeight=I+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,x,b,i.dir,n]);_r(()=>w(),[w]);const[_,j]=y.useState();_r(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=y.useCallback(N=>{N&&g.current===!0&&(w(),v==null||v(),g.current=!1)},[w,v]);return a.jsx(Xne,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Qe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});EF.displayName=Yne;var Qne="SelectPopperPosition",S_=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=sa,...i}=e,o=tb(r);return a.jsx(wL,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});S_.displayName=Qne;var[Xne,ZN]=lf(wc,{}),N_="SelectViewport",PF=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=gl(N_,r),o=ZN(N_,r),l=gt(t,i.onViewportChange),c=y.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Zx.Slot,{scope:r,children:a.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Re(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-sa*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(p,x);if(b<g){const v=b+m,w=Math.min(g,v),_=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});PF.displayName=N_;var OF="SelectGroup",[Jne,Zne]=lf(OF),ese=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=$s();return a.jsx(Jne,{scope:r,id:s,children:a.jsx(Qe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});ese.displayName=OF;var AF="SelectLabel",TF=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Zne(AF,r);return a.jsx(Qe.div,{id:s.id,...n,ref:t})});TF.displayName=AF;var Hv="SelectItem",[tse,RF]=lf(Hv),MF=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=pl(Hv,r),c=gl(Hv,r),u=l.value===n,[d,f]=y.useState(i??""),[h,m]=y.useState(!1),g=gt(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,n,s)}),p=$s(),x=y.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(tse,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:y.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Zx.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Qe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Re(o.onFocus,()=>m(!0)),onBlur:Re(o.onBlur,()=>m(!1)),onClick:Re(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:Re(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:Re(o.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:Re(o.onPointerMove,v=>{var w;x.current=v.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(o.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Re(o.onKeyDown,v=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(Une.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});MF.displayName=Hv;var uh="SelectItemText",$F=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=pl(uh,r),l=gl(uh,r),c=RF(uh,r),u=Wne(uh,r),[d,f]=y.useState(null),h=gt(t,b=>f(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=y.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return _r(()=>(p(g),()=>x(g)),[p,x,g]),a.jsxs(a.Fragment,{children:[a.jsx(Qe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Hd.createPortal(i.children,o.valueNode):null]})});$F.displayName=uh;var IF="SelectItemIndicator",DF=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return RF(IF,r).isSelected?a.jsx(Qe.span,{"aria-hidden":!0,...n,ref:t}):null});DF.displayName=IF;var k_="SelectScrollUpButton",LF=y.forwardRef((e,t)=>{const r=gl(k_,e.__scopeSelect),n=ZN(k_,e.__scopeSelect),[s,i]=y.useState(!1),o=gt(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(UF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});LF.displayName=k_;var C_="SelectScrollDownButton",FF=y.forwardRef((e,t)=>{const r=gl(C_,e.__scopeSelect),n=ZN(C_,e.__scopeSelect),[s,i]=y.useState(!1),o=gt(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(UF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});FF.displayName=C_;var UF=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=gl("SelectScrollButton",r),o=y.useRef(null),l=eb(r),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),_r(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Qe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Re(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Re(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Re(s.onPointerLeave,()=>{c()})})}),rse="SelectSeparator",qF=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Qe.div,{"aria-hidden":!0,...n,ref:t})});qF.displayName=rse;var E_="SelectArrow",nse=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=tb(r),i=pl(E_,r),o=gl(E_,r);return i.open&&o.position==="popper"?a.jsx(jL,{...s,...n,ref:t}):null});nse.displayName=E_;var sse="SelectBubbleInput",BF=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=y.useRef(null),i=gt(n,s),o=X3(t);return y.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Qe.select,{...r,style:{...vF,...r.style},ref:i,defaultValue:t})});BF.displayName=sse;function zF(e){return e===""||e===void 0}function WF(e){const t=Zr(e),r=y.useRef(""),n=y.useRef(0),s=y.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function VF(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=ase(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function ase(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ise=yF,KF=bF,ose=jF,lse=_F,cse=SF,HF=NF,use=PF,GF=TF,YF=MF,dse=$F,fse=DF,QF=LF,XF=FF,JF=qF;const ut=ise,dt=ose,ot=y.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(KF,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(lse,{asChild:!0,children:a.jsx(Ac,{className:"h-4 w-4 opacity-50"})})]}));ot.displayName=KF.displayName;const ZF=y.forwardRef(({className:e,...t},r)=>a.jsx(QF,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(jI,{className:"h-4 w-4"})}));ZF.displayName=QF.displayName;const e5=y.forwardRef(({className:e,...t},r)=>a.jsx(XF,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Ac,{className:"h-4 w-4"})}));e5.displayName=XF.displayName;const lt=y.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(cse,{children:a.jsxs(HF,{ref:s,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-card text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(ZF,{}),a.jsx(use,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(e5,{})]})}));lt.displayName=HF.displayName;const hse=y.forwardRef(({className:e,...t},r)=>a.jsx(GF,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));hse.displayName=GF.displayName;const Se=y.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(YF,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(fse,{children:a.jsx(Zd,{className:"h-4 w-4"})})}),a.jsx(dse,{children:t})]}));Se.displayName=YF.displayName;const mse=y.forwardRef(({className:e,...t},r)=>a.jsx(JF,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));mse.displayName=JF.displayName;const pse=nt({name:xe().min(1,"Name is required").max(200,"Name too long"),schedule:xe().min(1,"Schedule is required"),description:xe().optional(),payload_json:xe().optional(),session_target:xe().optional(),isolation_setting:Gr().optional(),status:sr(["active","paused"]).optional()}),dg={name:"",schedule:"",description:"",payload_json:"{}",session_target:"",isolation_setting:!1,status:"active"};function gse(e){if(!e||!e.trim())return{};try{const t=JSON.parse(e);return typeof t=="object"&&t!==null?t:{}}catch{return{}}}function t5({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,userId:s="",job:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=et({resolver:tt(pse),defaultValues:dg}),m=d("status"),g=d("isolation_setting");y.useEffect(()=>{e&&i?f({name:i.name??i.description??"",schedule:i.schedule,description:i.description??"",payload_json:typeof i.payload=="object"&&Object.keys(i.payload||{}).length>0?JSON.stringify(i.payload,null,2):"{}",session_target:i.session_target??"",isolation_setting:i.isolation_setting??!1,status:i.status==="failed"?"paused":i.status}):e&&!i&&f(dg)},[e,i,f]);const p=b=>{const v=gse(b.payload_json??"{}");r(o&&i?{name:b.name||null,schedule:b.schedule,description:b.description||null,payload:v,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}:{user_id:s,name:b.name||null,schedule:b.schedule,description:b.description||null,payload:v,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}),f(dg),t(!1)},x=b=>{b||f(dg),t(b)};return a.jsx(Me,{open:e,onOpenChange:x,children:a.jsxs(Pe,{className:"max-w-[640px]","aria-describedby":"cron-job-form-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:o?"Edit cron job":"Create cron job"}),a.jsx(Te,{id:"cron-job-form-description",children:o?"Update schedule, payload, session target, and isolation.":"Add a scheduled job with cron expression, payload, and session target."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"name",children:"Job name"}),a.jsx(me,{id:"name",placeholder:"e.g. Daily backup",...l("name"),className:h.name?"border-destructive":""}),h.name&&a.jsx("p",{className:"text-xs text-destructive",children:h.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"schedule",children:"Schedule (cron expression)"}),a.jsx(me,{id:"schedule",placeholder:"e.g. 0 * * * * (hourly)",...l("schedule"),className:h.schedule?"border-destructive":""}),h.schedule&&a.jsx("p",{className:"text-xs text-destructive",children:h.schedule.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"description",children:"Description (optional)"}),a.jsx(me,{id:"description",placeholder:"Optional description",...l("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"payload_json",children:"Payload (JSON)"}),a.jsx("textarea",{id:"payload_json",rows:4,placeholder:'{"key": "value"}',...l("payload_json"),className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-mono"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"session_target",children:"Session target"}),a.jsx(me,{id:"session_target",placeholder:"Target session or channel",...l("session_target")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"isolation_setting",children:"Isolation"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Run job in isolated environment (sandbox)"})]}),a.jsx(Rt,{id:"isolation_setting",checked:g??!1,onCheckedChange:b=>u("isolation_setting",b)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Status"}),a.jsxs(ut,{value:m??"active",onValueChange:b=>u("status",b),children:[a.jsx(ot,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"active",children:"Active"}),a.jsx(Se,{value:"paused",children:"Paused"})]})]})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>x(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":o?"Save changes":"Create job"})]})]})]})})}const Hw={healthy:"Healthy",degraded:"Degraded",unknown:"Unknown",offline:"Offline"},vse={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},yse={paired:"success",offline:"destructive",error:"warning"};function r5({node:e,open:t,onOpenChange:r,onUpdateHealth:n,isUpdating:s=!1}){var u;const[i,o]=y.useState((e==null?void 0:e.connection_health)??"unknown");if(y.useEffect(()=>{e&&o(e.connection_health)},[e,t]),!e)return null;const l=e.connection_health,c=()=>{n==null||n(e.id,i),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"node-health-description",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(ba,{className:"h-5 w-5"}),e.name??"Node","  Connection health"]}),a.jsx(Te,{id:"node-health-description",children:"View and update node connection health and capabilities."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),a.jsx(We,{variant:yse[e.status],children:e.status})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Current health:"}),a.jsxs(We,{variant:vse[l],children:[l==="healthy"&&a.jsx(Cx,{className:"mr-1 h-3 w-3"}),l==="offline"&&a.jsx(DI,{className:"mr-1 h-3 w-3"}),Hw[l]]})]}),(u=e.capabilities)!=null&&u.length?a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Capabilities"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.capabilities.map(d=>a.jsx(We,{variant:"outline",className:"text-xs",children:d},d))})]}):null,n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Update connection health"}),a.jsxs(ut,{value:i,onValueChange:d=>o(d),children:[a.jsx(ot,{children:a.jsx(dt,{})}),a.jsx(lt,{children:Object.keys(Hw).map(d=>a.jsx(Se,{value:d,children:Hw[d]},d))})]})]})]}),n&&a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{onClick:c,disabled:s||i===l,children:s?"Saving":"Save"})]})]})})}const xse={low:"Low",medium:"Medium",high:"High",critical:"Critical"},bse=[{value:"open",label:"Open"},{value:"acknowledged",label:"Acknowledged"},{value:"resolved",label:"Resolved"}];function wse({alert:e,open:t,onOpenChange:r,onResolve:n,isUpdating:s=!1}){if(!e)return null;const i=o=>{n==null||n(e.id,o),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"alert-resolution-description",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(eo,{className:J("h-5 w-5",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning")}),"Alert  ",e.type]}),a.jsx(Te,{id:"alert-resolution-description",children:"Update resolution status for this security or audit finding."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{className:"rounded-md border border-border bg-secondary/30 p-3",children:a.jsx("p",{className:"text-sm",children:e.description})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Severity:"}),a.jsx("span",{className:J("text-sm font-medium",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning"),children:xse[e.severity]})]}),n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Resolution status"}),a.jsxs(ut,{value:e.resolution_status,onValueChange:o=>i(o),disabled:s,children:[a.jsx(ot,{children:a.jsx(dt,{})}),a.jsx(lt,{children:bse.map(o=>a.jsx(Se,{value:o.value,children:o.label},o.value))})]})]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),children:"Close"}),n&&a.jsx(P,{onClick:()=>i("resolved"),disabled:s||e.resolution_status==="resolved",children:s?"Updating":"Mark resolved"})]})]})})}const VP={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"},jse={running:"default",completed:"secondary",failed:"destructive",aborted:"warning"},_se={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"};function Sse(){const[e,t]=y.useState(""),[r,n]=y.useState(""),[s,i]=y.useState(null),[o,l]=y.useState(null),[c,u]=y.useState(null),[d,f]=y.useState(!1),[h,m]=y.useState(null),[g,p]=y.useState(null),{data:x}=Jx(),b=(x==null?void 0:x.user_id)??"",{data:v=[],isLoading:w}=vne({limit:20,type:r||void 0}),{data:_=[],isLoading:j}=xne({status:"running",limit:10}),{data:S=[],isLoading:N}=mF(),{data:k=[],isLoading:C}=gF(),{data:E=[],isLoading:D}=kne({resolution_status:"open"}),O=Ene(),q=bne(),A=pF(),V=yne(),T=Cne(),K=Nne(),M=()=>{const I=e.trim();I&&O.mutate({message:I},{onSuccess:()=>t("")})},$=r?v.filter(I=>I.activity_type===r):v;return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active runs",value:_.length,icon:Xa,href:"/chat"},{title:"Cron jobs",value:S.length,icon:ml,href:"/cron"},{title:"Nodes",value:k.length,icon:ba,href:"/nodes"},{title:"Alerts",value:E.length,icon:jr,href:"/security"}].map(({title:I,value:ee,icon:L,href:oe})=>a.jsx(fe,{to:oe,children:a.jsxs(X,{className:"transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:I}),a.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:ee})})]})},I))}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(X,{className:"flex flex-col",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(jx,{className:"h-5 w-5"}),"Recent activity"]}),a.jsxs("select",{value:r,onChange:I=>n(I.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter activity type",children:[a.jsx("option",{value:"",children:"All"}),Object.entries(VP).map(([I,ee])=>a.jsx("option",{value:I,children:ee},I))]})]}),a.jsx(Z,{className:"flex-1 overflow-hidden",children:a.jsx(pt,{className:"h-[280px] pr-4",children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(I=>a.jsx(ie,{className:"h-14 w-full rounded-lg"},I))}):$.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity."}):a.jsx("ul",{className:"space-y-2",children:$.map(I=>a.jsx("li",{children:a.jsxs("div",{className:J("rounded-lg border border-border bg-secondary/30 p-3 transition-colors hover:bg-secondary/50",s===I.id&&"ring-2 ring-ring"),children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 text-left",onClick:()=>i(s===I.id?null:I.id),"aria-expanded":s===I.id,children:[s===I.id?a.jsx(Ac,{className:"h-4 w-4 shrink-0"}):a.jsx(Rr,{className:"h-4 w-4 shrink-0"}),a.jsx(We,{variant:"secondary",className:"text-xs",children:VP[I.activity_type]??I.activity_type}),a.jsx("span",{className:"flex-1 truncate text-sm text-muted-foreground",children:Sr(new Date(I.created_at),{addSuffix:!0})})]}),s===I.id&&a.jsx("div",{className:"mt-2 flex items-center gap-2 border-t border-border pt-2",children:a.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(I),children:"View details"})})]})},I.id))})})})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(ap,{className:"h-5 w-5"}),"Quick Run"]}),a.jsx(ge,{children:"Send a message to the default session or channel."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(me,{type:"text",placeholder:"Type a command or message...",className:"flex-1",value:e,onChange:I=>t(I.target.value),onKeyDown:I=>I.key==="Enter"&&M(),"aria-label":"Quick run message"}),a.jsx(P,{onClick:M,disabled:!e.trim()||O.isPending,children:O.isPending?a.jsx("span",{className:"animate-pulse",children:"Sending"}):a.jsx(fd,{className:"h-4 w-4"})})]})})]})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Active runs"}),a.jsx(ge,{children:"Stream and abort running jobs."})]}),a.jsx(Z,{children:j?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ie,{className:"h-12 w-full rounded-lg"}),a.jsx(ie,{className:"h-12 w-full rounded-lg"})]}):_.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No active runs."}):a.jsx("ul",{className:"space-y-2",children:_.map(I=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(We,{variant:jse[I.status],children:I.status}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started ",Sr(new Date(I.start_time),{addSuffix:!0})]})]}),a.jsxs(P,{variant:"destructive",size:"sm",onClick:()=>u(I),disabled:I.status!=="running",children:[a.jsx(aN,{className:"mr-1 h-4 w-4"}),"Abort"]})]},I.id))})})]}),a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs(X,{children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(ne,{children:"Cron overview"}),a.jsxs(P,{size:"sm",onClick:()=>f(!0),children:[a.jsx(Dt,{className:"mr-1 h-4 w-4"}),"Create job"]})]}),a.jsx(Z,{children:N?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ie,{className:"h-10 w-full rounded-lg"}),a.jsx(ie,{className:"h-10 w-full rounded-lg"})]}):S.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No cron jobs."}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(fe,{to:"/cron",children:"Manage cron"})})]}):a.jsxs("ul",{className:"space-y-2",children:[S.slice(0,5).map(I=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:I.description||I.schedule}),a.jsx("p",{className:"text-xs text-muted-foreground",children:I.schedule})]}),a.jsx(We,{variant:I.status==="active"?"default":"secondary",children:I.status})]},I.id)),S.length>5&&a.jsx("li",{children:a.jsx(P,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs(fe,{to:"/cron",children:["View all (",S.length,")"]})})})]})})]}),a.jsxs(X,{children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(ne,{children:"Nodes status"}),a.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(fe,{to:"/nodes",children:"Pair node"})})]}),a.jsx(Z,{children:C?a.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[a.jsx(ie,{className:"h-20 rounded-lg"}),a.jsx(ie,{className:"h-20 rounded-lg"})]}):k.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes."}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(fe,{to:"/nodes",children:"Pair node"})})]}):a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:k.map(I=>a.jsxs("button",{type:"button",className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3 text-left transition-colors hover:bg-secondary/50",onClick:()=>m(I),children:[a.jsx(ba,{className:"h-8 w-8 shrink-0 text-muted-foreground"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:I.name??"Node"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(We,{variant:_se[I.connection_health],className:"text-xs",children:[I.connection_health==="healthy"&&a.jsx(Cx,{className:"mr-0.5 h-3 w-3"}),I.connection_health==="offline"&&a.jsx(DI,{className:"mr-0.5 h-3 w-3"}),I.connection_health]})})]})]},I.id))})})]})]}),a.jsxs(X,{children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(eo,{className:"h-5 w-5 text-warning"}),"Skill alerts / audit findings"]}),a.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(fe,{to:"/security",children:"Run audit"})})]}),a.jsx(Z,{children:D?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ie,{className:"h-12 w-full rounded-lg"}),a.jsx(ie,{className:"h-12 w-full rounded-lg"})]}):E.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No alerts."}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(fe,{to:"/security",children:"Run audit"})})]}):a.jsx("ul",{className:"space-y-2",children:E.map(I=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:I.type}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",children:I.description})]}),a.jsx(We,{variant:I.severity==="critical"?"destructive":I.severity==="high"?"warning":"secondary",className:"shrink-0",children:I.severity}),a.jsx(P,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>p(I),children:"Fix"})]},I.id))})})]}),a.jsx(Pne,{activity:o,open:!!o,onOpenChange:I=>!I&&l(null),onDelete:I=>{V.mutate(I),l(null)}}),a.jsx(One,{run:c,open:!!c,onOpenChange:I=>!I&&u(null),onConfirm:I=>{q.mutate(I),u(null)},isAborting:q.isPending}),a.jsx(t5,{open:d,onOpenChange:f,onSubmit:I=>{"user_id"in I&&I.user_id!==void 0&&A.mutate(I)},isSubmitting:A.isPending,userId:b}),a.jsx(r5,{node:h,open:!!h,onOpenChange:I=>!I&&m(null),onUpdateHealth:(I,ee)=>K.mutate({id:I,data:{connection_health:ee}}),isUpdating:K.isPending}),a.jsx(wse,{alert:g,open:!!g,onOpenChange:I=>!I&&p(null),onResolve:(I,ee)=>T.mutate({id:I,data:{resolution_status:ee}}),isUpdating:T.isPending})]})}const Ea={getSessions:async()=>{const{data:e,error:t}=await F.from("chat_sessions").select("*").order("started_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSession:async e=>{const{data:t,error:r}=await F.from("chat_sessions").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSession:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("chat_sessions").insert(r).select().single();if(s)throw new Error(s.message);return n},updateSession:async(e,t)=>{const{data:r,error:n}=await F.from("chat_sessions").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteSession:async e=>{const{error:t}=await F.from("chat_sessions").delete().eq("id",e);if(t)throw new Error(t.message)},getMessages:async(e,t)=>{let r=F.from("chat_messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},sendMessage:async e=>{const{data:t,error:r}=await F.from("chat_messages").insert(e).select().single();if(r)throw new Error(r.message);return t},getToolInvocations:async(e,t)=>{let r=F.from("tool_invocations").select("*").eq("session_id",e).order("created_at",{ascending:!1});t!=null&&t.messageId&&(r=r.eq("message_id",t.messageId)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createToolInvocation:async e=>{const{data:t,error:r}=await F.from("tool_invocations").insert(e).select().single();if(r)throw new Error(r.message);return t},updateToolInvocation:async(e,t)=>{const{data:r,error:n}=await F.from("tool_invocations").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},approveToolInvocation:async e=>Ea.updateToolInvocation(e,{status:"approved"}),denyToolInvocation:async e=>Ea.updateToolInvocation(e,{status:"denied"})};function Nse(e,t){return e().catch(()=>t)}const Hn={all:["chat"],sessions:()=>[...Hn.all,"sessions"],session:e=>[...Hn.all,"session",e],messages:(e,t)=>[...Hn.all,"messages",e,t],toolInvocations:(e,t)=>[...Hn.all,"toolInvocations",e,t]};function kse(){return ke({queryKey:Hn.sessions(),queryFn:()=>Nse(()=>Ea.getSessions(),[])})}function Cse(e){return ke({queryKey:Hn.session(e??""),queryFn:()=>e?Ea.getSession(e):Promise.resolve(null),enabled:!!e})}function Ese(){const e=de();return ue({mutationFn:t=>Ea.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:Hn.sessions()}),B.success("Session created")},onError:t=>{B.error(t.message||"Failed to create session")}})}function Pse(){const e=de();return ue({mutationFn:({id:t,data:r})=>Ea.updateSession(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Hn.sessions()}),e.invalidateQueries({queryKey:Hn.session(r)}),B.success("Session updated")},onError:t=>{B.error(t.message||"Failed to update session")}})}function Ose(e,t){return ke({queryKey:Hn.messages(e??"",{limit:t}),queryFn:()=>e?Ea.getMessages(e,{limit:t}):Promise.resolve([]),enabled:!!e})}function Ase(){const e=de();return ue({mutationFn:t=>Ea.sendMessage(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Hn.messages(r.session_id)}),B.success("Message sent")},onError:t=>{B.error(t.message||"Failed to send message")}})}function Tse(e,t){return ke({queryKey:Hn.toolInvocations(e??"",t),queryFn:()=>e?Ea.getToolInvocations(e,t):Promise.resolve([]),enabled:!!e})}function Rse(){const e=de();return ue({mutationFn:({id:t,sessionId:r})=>Ea.approveToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:Hn.toolInvocations(r)}),B.success("Tool output approved")},onError:t=>{B.error(t.message||"Failed to approve")}})}function Mse(){const e=de();return ue({mutationFn:({id:t,sessionId:r})=>Ea.denyToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:Hn.toolInvocations(r)}),B.success("Tool output denied")},onError:t=>{B.error(t.message||"Failed to deny")}})}function $se({message:e,currentUserId:t}){const r=e.role==="user"||e.sender_id===t,n=e.role==="assistant"?"Assistant":e.role==="system"?"System":"You",s=Array.isArray(e.attachment_links)&&e.attachment_links.length>0;return a.jsxs("div",{className:J("flex gap-3 rounded-lg p-3 transition-colors duration-200 hover:bg-card/80",r&&"flex-row-reverse"),"data-message-id":e.id,children:[a.jsx(Dx,{className:"h-8 w-8 shrink-0 rounded-full border border-border bg-secondary",children:a.jsx(Lx,{className:"text-xs text-muted-foreground",children:e.role==="assistant"?a.jsx(wI,{className:"h-4 w-4"}):a.jsx(lp,{className:"h-4 w-4"})})}),a.jsxs("div",{className:J("flex min-w-0 flex-1 flex-col gap-1",r&&"items-end"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-foreground",children:n}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Sr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsx("p",{className:"whitespace-pre-wrap break-words text-sm text-foreground",children:e.text}),s&&a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.attachment_links.map((i,o)=>a.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"rounded border border-border bg-secondary px-2 py-1 text-xs text-primary hover:underline",children:i.name??"Attachment"},o))})]})]})}function Ise({messages:e,isLoading:t,currentUserId:r,className:n}){const s=y.useRef(null);return y.useEffect(()=>{var i;(i=s.current)==null||i.scrollIntoView({behavior:"smooth"})},[e.length]),a.jsx(pt,{className:J("flex-1",n),"data-testid":"message-thread",children:a.jsx("div",{className:"space-y-1 p-4",children:t?a.jsx("div",{className:"flex flex-col gap-4 py-8",children:[1,2,3].map(i=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-muted animate-pulse"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-24 rounded bg-muted animate-pulse"}),a.jsx("div",{className:"h-4 w-full max-w-md rounded bg-muted animate-pulse"})]})]},i))}):e.length===0?a.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No messages yet. Send a message or use a slash command."}):e.map((i,o)=>a.jsx("div",{ref:o===e.length-1?s:void 0,children:a.jsx($se,{message:i,currentUserId:r})},i.id))})})}function Dse({sessionId:e,onSend:t,onAttachClick:r,onToolSelect:n,disabled:s,isSending:i,availableTools:o=[],className:l}){const[c,u]=y.useState(""),[d,f]=y.useState(null),h=y.useCallback(g=>{g.preventDefault();const p=c.trim();!p||!e||(t(p,{toolName:d??void 0}),u(""),f(null))},[c,e,t,d]),m=!!(e&&c.trim()&&!s&&!i);return a.jsx("form",{onSubmit:h,className:J("flex flex-col gap-2 border-t border-border bg-card p-4 transition-shadow duration-200",l),children:a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx(P,{type:"button",variant:"ghost",size:"icon",onClick:r,disabled:s||!e,"aria-label":"Attach file",className:"shrink-0",children:a.jsx(v7,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsx(me,{value:c,onChange:g=>u(g.target.value),placeholder:"Type a message...",disabled:s||!e,className:"min-h-10 flex-1 rounded-md border-input bg-background px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Message input"}),o.length>0&&a.jsxs(ut,{value:d??"",onValueChange:g=>{f(g||null),g&&n&&n(g)},disabled:s||!e,children:[a.jsxs(ot,{className:"w-full sm:w-[140px]","aria-label":"Select tool",children:[a.jsx(Ex,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{placeholder:"Tool"})]}),a.jsx(lt,{children:o.map(g=>a.jsx(Se,{value:g.id,children:g.name},g.id))})]})]}),a.jsx(P,{type:"submit",size:"icon",disabled:!m,"aria-label":"Send message",className:"shrink-0 transition-transform hover:scale-105 active:scale-95",children:i?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsx(fd,{className:"h-4 w-4"})})]})})}function Lse(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=y.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Fse(s,...t)]}function Fse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Use=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],n5=Use.reduce((e,t)=>{const r=cp(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ek="Progress",tk=100,[qse]=Lse(ek),[Bse,zse]=qse(ek),s5=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Wse,...o}=e;(s||s===0)&&!KP(s)&&console.error(Vse(`${s}`,"Progress"));const l=KP(s)?s:tk;n!==null&&!HP(n,l)&&console.error(Kse(`${n}`,"Progress"));const c=HP(n,l)?n:null,u=Gv(c)?i(c,l):void 0;return a.jsx(Bse,{scope:r,value:c,max:l,children:a.jsx(n5.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Gv(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":o5(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});s5.displayName=ek;var a5="ProgressIndicator",i5=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=zse(a5,r);return a.jsx(n5.div,{"data-state":o5(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});i5.displayName=a5;function Wse(e,t){return`${Math.round(e/t*100)}%`}function o5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Gv(e){return typeof e=="number"}function KP(e){return Gv(e)&&!isNaN(e)&&e>0}function HP(e,t){return Gv(e)&&!isNaN(e)&&e<=t&&e>=0}function Vse(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${tk}\`.`}function Kse(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${tk} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var l5=s5,Hse=i5;const rk=y.forwardRef(({className:e,value:t,...r},n)=>a.jsx(l5,{ref:n,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(Hse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));rk.displayName=l5.displayName;const Gse={pending:"secondary",running:"default",completed:"outline",failed:"destructive",approved:"outline",denied:"destructive"};function Yse({invocation:e,onApprove:t,onDeny:r,className:n}){const s=e.status==="running",i=e.status==="completed"||e.status==="running",o=e.output&&typeof e.output=="object"?JSON.stringify(e.output,null,2):e.output!=null?String(e.output):"";return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover",n),"data-invocation-id":e.id,children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ex,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-semibold",children:e.tool_name}),a.jsx(We,{variant:Gse[e.status],className:"text-xs",children:e.status})]}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Sr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsxs(Z,{className:"p-4",children:[s&&a.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(wr,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Running"}),a.jsx(rk,{value:void 0,className:"h-1.5 flex-1"})]}),o&&a.jsx("pre",{className:"max-h-48 overflow-auto rounded border border-border bg-secondary/50 p-3 text-xs text-foreground",children:o}),i&&t&&r&&a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(P,{size:"sm",variant:"outline",className:"gap-1.5",onClick:()=>r(e.id),children:[a.jsx(hd,{className:"h-4 w-4"}),"Deny"]}),a.jsxs(P,{size:"sm",className:"gap-1.5",onClick:()=>t(e.id),children:[a.jsx(Zd,{className:"h-4 w-4"}),"Approve"]})]})]})]})}function Qse({session:e,sessions:t,onSelectSession:r,currentSessionId:n,routingTargets:s=[],className:i}){return a.jsxs("aside",{className:J("flex w-full flex-col gap-4 lg:w-72 lg:shrink-0",i),"aria-label":"Chat sidebar",children:[a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(te,{className:"pb-2",children:a.jsx(ne,{className:"text-sm font-semibold",children:"Session"})}),a.jsxs(Z,{className:"text-sm text-muted-foreground",children:[e?a.jsx("p",{className:"font-medium text-foreground",children:e.title}):a.jsx("p",{children:"Main session (default)"}),e&&a.jsxs("p",{className:"mt-1 text-xs",children:["Status: ",a.jsx(We,{variant:"outline",children:e.status})]})]})]}),t.length>1&&a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(te,{className:"pb-2",children:a.jsx(ne,{className:"text-sm font-semibold",children:"Sessions"})}),a.jsx(Z,{children:a.jsx(pt,{className:"h-32",children:a.jsx("ul",{className:"space-y-1",children:t.slice(0,10).map(o=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>r(o.id),className:J("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors",n===o.id?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx(ap,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:o.title})]})},o.id))})})})]}),a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(te,{className:"pb-2",children:a.jsx(ne,{className:"text-sm font-semibold",children:"Routing targets"})}),a.jsx(Z,{className:"text-sm text-muted-foreground",children:s.length===0?a.jsx("p",{children:"No channels configured."}):a.jsx("ul",{className:"space-y-1",children:s.map(o=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(OI,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:o.name}),a.jsx(We,{variant:"secondary",className:"text-xs",children:o.type})]},o.id))})})]})]})}function Xse({traces:e,isLoading:t,onExport:r,className:n}){const[s,i]=y.useState(!1);return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",n),children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(lr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[r&&a.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Export trace",children:a.jsx(Ir,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>i(o=>!o),"aria-label":s?"Collapse":"Expand",children:s?a.jsx(Ac,{className:"h-4 w-4"}):a.jsx(jI,{className:"h-4 w-4"})})]})]}),s&&a.jsx(Z,{className:"p-0",children:a.jsx(pt,{className:"h-48",children:a.jsx("div",{className:"space-y-1 p-2",children:t?a.jsx("div",{className:"flex flex-col gap-2 py-4",children:[1,2,3].map(o=>a.jsx("div",{className:"h-8 w-full rounded bg-muted animate-pulse"},o))}):e.length===0?a.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No active run."}):e.map(o=>a.jsxs("div",{className:"rounded border border-border bg-secondary/30 px-3 py-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium",children:o.type}),a.jsx("span",{className:"text-muted-foreground",children:o.timestamp})]}),a.jsx("p",{className:"mt-1 text-muted-foreground",children:o.summary})]},o.id))})})})]})}function Jse({open:e,onOpenChange:t,attachments:r,onAdd:n,onRemove:s,onConfirm:i,maxAttachments:o=5,className:l}){const[c,u]=y.useState(""),[d,f]=y.useState(""),h=()=>{const g=c.trim();!g||r.length>=o||(n(g,d.trim()||void 0),u(""),f(""))},m=()=>{i(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:J("max-w-[640px]",l),"aria-describedby":"attachment-modal-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Manage attachments"}),a.jsxs(Te,{id:"attachment-modal-description",children:["Add links or URLs to attach to your message. You can add up to"," ",o," attachments."]})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(H,{htmlFor:"attach-url",children:"URL"}),a.jsx(me,{id:"attach-url",type:"url",placeholder:"https://...",value:c,onChange:g=>u(g.target.value),className:"rounded-md border-input"})]}),a.jsxs("div",{className:"w-32 space-y-2",children:[a.jsx(H,{htmlFor:"attach-name",children:"Name (optional)"}),a.jsx(me,{id:"attach-name",placeholder:"Label",value:d,onChange:g=>f(g.target.value),className:"rounded-md border-input"})]}),a.jsx(P,{type:"button",variant:"secondary",size:"icon",onClick:h,disabled:!c.trim()||r.length>=o,className:"mt-6 shrink-0","aria-label":"Add attachment",children:a.jsx(II,{className:"h-4 w-4"})})]}),r.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{children:["Attachments (",r.length,"/",o,")"]}),a.jsx(pt,{className:"h-32 rounded-md border border-border p-2",children:a.jsx("ul",{className:"space-y-1",children:r.map((g,p)=>a.jsxs("li",{className:"flex items-center justify-between rounded bg-secondary/50 px-2 py-1.5 text-sm",children:[a.jsx("span",{className:"truncate",children:g.name??g.url}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(p),"aria-label":"Remove attachment",children:a.jsx(hd,{className:"h-4 w-4"})})]},p))})})]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:m,children:"Done"})]})]})})}const Zse={new:"Start new session",reset:"Reset session",stop:"Stop session"},eae={new:"Start a new chat session. Your current session will remain in the list.",reset:"Clear all messages in this session. This cannot be undone.",stop:"Pause the current session. You can resume later."};function tae({open:e,onOpenChange:t,action:r,onConfirm:n,isLoading:s,className:i}){if(!r)return null;const o=()=>{n(r),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:J("max-w-[640px]",i),"aria-describedby":"session-dialog-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:Zse[r]}),a.jsx(Te,{id:"session-dialog-description",children:eae[r]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:o,disabled:s,children:s?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsxs(a.Fragment,{children:[r==="new"&&a.jsx(Dt,{className:"mr-1.5 h-4 w-4"}),r==="reset"&&a.jsx(AI,{className:"mr-1.5 h-4 w-4"}),r==="stop"&&a.jsx(sm,{className:"mr-1.5 h-4 w-4"}),"Confirm"]})})]})]})})}const rae=[{id:"browser",name:"Browser",description:"Fetch and summarize URLs"},{id:"search",name:"Search",description:"Web search"},{id:"code",name:"Code",description:"Run code snippets"}];function nae(){const{data:e}=Jx(),t=(e==null?void 0:e.user_id)??null,[r,n]=y.useState(null),[s,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState([]),[h,m]=y.useState([]),{data:g=[],isLoading:p}=kse(),{data:x}=Cse(r),{data:b=[],isLoading:v}=Ose(r,200),{data:w=[]}=Tse(r,{limit:20}),_=Ese(),j=Pse(),S=Ase(),N=Rse(),k=Mse();y.useEffect(()=>{if(!p){if(g.length>0&&!r){n(g[0].id);return}g.length===0&&_.mutate({title:"New session"},{onSuccess:A=>n(A.id)})}},[p,g.length,g,r,_]);const C=y.useCallback((A,V)=>{r&&S.mutate({session_id:r,sender_id:t??void 0,role:"user",text:A,attachment_links:(V==null?void 0:V.attachmentUrls)??d},{onSuccess:()=>f([])})},[r,t,d,S]),E=y.useCallback(A=>{A==="new"?_.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:V=>{n(V.id),l(!1),i(null)}}):A==="reset"&&r?_.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:V=>{n(V.id),l(!1),i(null)}}):A==="stop"&&r&&j.mutate({id:r,data:{status:"paused"}},{onSuccess:()=>{l(!1),i(null)}})},[r,_,j]),D=y.useCallback(A=>{r&&N.mutate({id:A,sessionId:r})},[r,N]),O=y.useCallback(A=>{r&&k.mutate({id:A,sessionId:r})},[r,k]),q=A=>{i(A),l(!0)};return a.jsxs("div",{className:"flex h-[calc(100vh-8rem)] flex-col gap-4 animate-fade-in-up",children:[a.jsxs("header",{className:"flex items-center justify-between gap-4",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Chat Session"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>q("new"),className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(Dt,{className:"h-4 w-4"}),"/new"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>q("reset"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(AI,{className:"h-4 w-4"}),"/reset"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>q("stop"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(sm,{className:"h-4 w-4"}),"/stop"]})]})]}),a.jsxs("div",{className:"grid flex-1 gap-4 overflow-hidden lg:grid-cols-3",children:[a.jsxs("div",{className:"flex min-h-0 flex-col lg:col-span-2",children:[a.jsxs(X,{className:"flex flex-1 flex-col overflow-hidden rounded-lg border border-border bg-card shadow-card",children:[a.jsx(Ise,{messages:b,isLoading:v,currentUserId:t,className:"min-h-0"}),a.jsx(Dse,{sessionId:r,onSend:C,onAttachClick:()=>u(!0),disabled:!r,isSending:S.isPending,availableTools:rae})]}),w.length>0&&a.jsx(pt,{className:"mt-4 max-h-64 rounded-lg border border-border bg-card p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Tool invocations"}),w.map(A=>a.jsx(Yse,{invocation:A,onApprove:D,onDeny:O},A.id))]})})]}),a.jsxs("div",{className:"flex min-h-0 flex-col gap-4 overflow-auto",children:[a.jsx(Qse,{session:x??null,sessions:g,onSelectSession:n,currentSessionId:r,routingTargets:[]}),a.jsx(Xse,{traces:h,onExport:()=>m([])})]})]}),a.jsx(Jse,{open:c,onOpenChange:u,attachments:d,onAdd:(A,V)=>f(T=>[...T,{url:A,name:V}]),onRemove:A=>f(V=>V.filter((T,K)=>K!==A)),onConfirm:()=>{},maxAttachments:5}),a.jsx(tae,{open:o,onOpenChange:l,action:s,onConfirm:E,isLoading:_.isPending||j.isPending})]})}const ja={getChannels:async()=>{const{data:e,error:t}=await F.from("channels").select("*").order("last_event_at",{ascending:!1,nullsFirst:!1});if(t)throw new Error(t.message);return e??[]},getChannel:async e=>{const{data:t,error:r}=await F.from("channels").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createChannel:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("channels").insert(r).select().single();if(s)throw new Error(s.message);return n},updateChannel:async(e,t)=>{const{data:r,error:n}=await F.from("channels").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteChannel:async e=>{const{error:t}=await F.from("channels").delete().eq("id",e);if(t)throw new Error(t.message)},getAdapterConfig:async e=>{const{data:t,error:r}=await F.from("adapter_configurations").select("*").eq("channel_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertAdapterConfig:async e=>{const t=await ja.getAdapterConfig(e.channel_id);if(t){const{data:i,error:o}=await F.from("adapter_configurations").update({dm_policy:e.dm_policy,group_policy:e.group_policy,mention_gating:e.mention_gating,webhook_url:e.webhook_url??t.webhook_url,polling_interval_seconds:e.polling_interval_seconds??t.polling_interval_seconds}).eq("channel_id",e.channel_id).select().single();if(o)throw new Error(o.message);return i}const r={channel_id:e.channel_id,dm_policy:e.dm_policy??"pairing",group_policy:e.group_policy??"mention",mention_gating:e.mention_gating??!0,webhook_url:e.webhook_url??null,polling_interval_seconds:e.polling_interval_seconds??null},{data:n,error:s}=await F.from("adapter_configurations").insert(r).select().single();if(s)throw new Error(s.message);return n},updateAdapterConfig:async(e,t)=>{const{data:r,error:n}=await F.from("adapter_configurations").update(t).eq("channel_id",e).select().single();if(n)throw new Error(n.message);return r},getDeliveryLogs:async(e,t)=>{if(!e)return[];let r=F.from("delivery_logs").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.eventType&&(r=r.eq("event_type",t.eventType)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createDeliveryLog:async e=>{const{data:t,error:r}=await F.from("delivery_logs").insert(e).select().single();if(r)throw new Error(r.message);return t},getUserMappings:async e=>{if(!e)return[];const{data:t,error:r}=await F.from("user_mappings").select("*").eq("channel_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createUserMapping:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("user_mappings").insert(r).select().single();if(s)throw new Error(s.message);return n},updateUserMapping:async(e,t)=>{const{data:r,error:n}=await F.from("user_mappings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteUserMapping:async e=>{const{error:t}=await F.from("user_mappings").delete().eq("id",e);if(t)throw new Error(t.message)},getChannelAdapterMessages:async(e,t)=>{if(!e)return[];let r=F.from("channel_adapter_messages").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.direction&&(r=r.eq("direction",t.direction)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createChannelAdapterMessage:async e=>{const{data:{user:t}}=await F.auth.getUser(),r={...e,user_id:e.user_id??(t==null?void 0:t.id)??null},{data:n,error:s}=await F.from("channel_adapter_messages").insert(r).select().single();if(s)throw new Error(s.message);return n},sendTestMessage:async(e,t)=>{const r=await ja.createDeliveryLog({channel_id:e,event_type:"test_message_outbound",success:!0,metadata:{content:t.slice(0,200),test:!0}});try{const n=await ja.createChannelAdapterMessage({channel_id:e,content:t,direction:"outbound",metadata:{test:!0}});return{deliveryLog:r,message:n}}catch{return{deliveryLog:r}}}};function sae(e,t){return e().catch(()=>t)}const xn={all:["channels"],list:()=>[...xn.all,"list"],detail:e=>[...xn.all,"detail",e],adapterConfig:e=>[...xn.all,"adapterConfig",e],deliveryLogs:(e,t)=>[...xn.all,"deliveryLogs",e,t],userMappings:e=>[...xn.all,"userMappings",e],channelAdapterMessages:(e,t)=>[...xn.all,"channelAdapterMessages",e,t]};function aae(){return ke({queryKey:xn.list(),queryFn:()=>sae(()=>ja.getChannels(),[])})}function iae(e){return ke({queryKey:xn.detail(e??""),queryFn:()=>e?ja.getChannel(e):Promise.resolve(null),enabled:!!e})}function oae(){const e=de();return ue({mutationFn:t=>ja.createChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:xn.list()}),B.success("Channel added")},onError:t=>{B.error(t.message||"Failed to add channel")}})}function lae(){const e=de();return ue({mutationFn:t=>ja.deleteChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:xn.list()}),B.success("Channel removed")},onError:t=>{B.error(t.message||"Failed to remove channel")}})}function cae(e){return ke({queryKey:xn.adapterConfig(e??""),queryFn:()=>e?ja.getAdapterConfig(e):Promise.resolve(null),enabled:!!e})}function uae(){const e=de();return ue({mutationFn:t=>ja.upsertAdapterConfig(t),onSuccess:(t,r)=>{const n=r.channel_id;e.invalidateQueries({queryKey:xn.adapterConfig(n)}),e.invalidateQueries({queryKey:xn.detail(n)}),B.success("Channel config saved")},onError:t=>{B.error(t.message||"Failed to save config")}})}function dae(e,t){return ke({queryKey:xn.deliveryLogs(e,t),queryFn:()=>e?ja.getDeliveryLogs(e,t):Promise.resolve([]),enabled:!!e})}function fae(){const e=de();return ue({mutationFn:({channelId:t,content:r})=>ja.sendTestMessage(t,r),onSuccess:(t,{channelId:r})=>{e.invalidateQueries({queryKey:xn.deliveryLogs(r)}),e.invalidateQueries({queryKey:xn.channelAdapterMessages(r)}),B.success("Test message sent")},onError:t=>{B.error(t.message||"Failed to send test message")}})}const Gw={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},hae=nt({provider:sr(["whatsapp","telegram","slack","discord"]),display_name:xe().optional()}),mae=nt({retrieval_mode:sr(["webhook","polling"]),webhook_url:xe().url().optional().or(QN("")),polling_interval_seconds:On.number().min(30).max(3600).optional()}),pae=[{id:1,title:"Provider",description:"Select chat provider"},{id:2,title:"Retrieval",description:"Webhook or polling"},{id:3,title:"Provision",description:"QR or code if needed"},{id:4,title:"Confirm",description:"Finish setup"}];function gae({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s}){const[i,o]=y.useState(1),l=et({resolver:tt(hae),defaultValues:{provider:s??"telegram",display_name:""}});y.useEffect(()=>{e&&s&&l.setValue("provider",s)},[e,s,l]);const c=et({resolver:tt(mae),defaultValues:{retrieval_mode:"webhook",webhook_url:"",polling_interval_seconds:60}}),u=l.watch("provider"),d=c.watch("retrieval_mode"),f=async()=>{if(!(i===1&&!await l.trigger())&&!(i===2&&!await c.trigger())){if(i===4){const g=l.getValues(),p=c.getValues();r({provider:g.provider,display_name:g.display_name||null,webhook_url:d==="webhook"&&p.webhook_url?p.webhook_url:null,polling_interval_seconds:d==="polling"?p.polling_interval_seconds??60:null}),t(!1),o(1),l.reset(),c.reset();return}o(g=>g+1)}},h=()=>{i>1&&o(g=>g-1)},m=g=>{g||(o(1),l.reset(),c.reset()),t(g)};return a.jsx(Me,{open:e,onOpenChange:m,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"add-channel-wizard-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Add channel"}),a.jsx(Te,{id:"add-channel-wizard-description",children:"Connect a chat channel adapter. Follow the steps to complete setup."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:pae.map(g=>a.jsx("div",{className:J("h-1 flex-1 rounded-full transition-colors",g.id<=i?"bg-primary":"bg-muted"),"aria-hidden":!0},g.id))}),i===1&&a.jsxs("form",{id:"wizard-step1",className:"space-y-4 py-4",onSubmit:l.handleSubmit(()=>o(2)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Provider"}),a.jsxs(ut,{value:u,onValueChange:g=>l.setValue("provider",g),children:[a.jsx(ot,{children:a.jsx(dt,{placeholder:"Select provider"})}),a.jsx(lt,{children:Object.keys(Gw).map(g=>a.jsx(Se,{value:g,children:Gw[g]},g))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"display_name",children:"Display name (optional)"}),a.jsx(me,{id:"display_name",placeholder:"e.g. Team Telegram",...l.register("display_name")})]})]}),i===2&&a.jsxs("form",{id:"wizard-step2",className:"space-y-4 py-4",onSubmit:c.handleSubmit(()=>o(3)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Message retrieval"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"webhook",checked:d==="webhook",onChange:()=>c.setValue("retrieval_mode","webhook"),className:"h-4 w-4 accent-primary"}),a.jsx(OI,{className:"h-4 w-4"}),"Webhook"]}),a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"polling",checked:d==="polling",onChange:()=>c.setValue("retrieval_mode","polling"),className:"h-4 w-4 accent-primary"}),a.jsx(_u,{className:"h-4 w-4"}),"Polling"]})]})]}),d==="webhook"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"webhook_url",children:"Webhook URL"}),a.jsx(me,{id:"webhook_url",placeholder:"https://...",...c.register("webhook_url")}),c.formState.errors.webhook_url&&a.jsx("p",{className:"text-xs text-destructive",children:c.formState.errors.webhook_url.message})]}),d==="polling"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"polling_interval_seconds",children:"Polling interval (seconds)"}),a.jsx(me,{id:"polling_interval_seconds",type:"number",min:30,max:3600,...c.register("polling_interval_seconds")})]})]}),i===3&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-border bg-card/50 p-8",children:[a.jsx(uN,{className:"mb-4 h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:u==="whatsapp"||u==="telegram"?"Scan the QR code with your app to link this channel. You can also use the pairing code shown in the next step.":"Complete OAuth in the provider dashboard if required, then continue."}),a.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Provisioning step is simulated. In production, QR and codes are generated by the gateway."})]})}),i===4&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4 text-sm",children:[a.jsx("p",{className:"font-medium",children:Gw[u]}),l.getValues("display_name")&&a.jsx("p",{className:"text-muted-foreground",children:l.getValues("display_name")}),a.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Retrieval: ",c.getValues("retrieval_mode")==="webhook"?"Webhook":"Polling"]})]})}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[i>1?a.jsxs(P,{type:"button",variant:"outline",onClick:h,disabled:n,children:[a.jsx(Nv,{className:"mr-2 h-4 w-4"}),"Back"]}):a.jsx("div",{}),a.jsx(P,{type:"button",onClick:f,disabled:n,children:i===4?n?"Adding":"Add channel":a.jsxs(a.Fragment,{children:["Next",a.jsx(Rr,{className:"ml-2 h-4 w-4"})]})})]})]})})}const vae=nt({dm_policy:sr(["pairing","allowlist","open","disabled"]),group_policy:sr(["mention","open","disabled"]),mention_gating:Gr()}),GP={pairing:"Pairing required",allowlist:"Allowlist only",open:"Open to all",disabled:"Disabled"},YP={mention:"Mention required",open:"Open to all",disabled:"Disabled"};function yae({open:e,onOpenChange:t,channelId:r,channelName:n,config:s,onSubmit:i,isSubmitting:o=!1}){const l={dm_policy:(s==null?void 0:s.dm_policy)??"pairing",group_policy:(s==null?void 0:s.group_policy)??"mention",mention_gating:(s==null?void 0:s.mention_gating)??!0},{handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h,isDirty:m}}=et({resolver:tt(vae),defaultValues:l}),g=d("mention_gating");y.useEffect(()=>{e&&s&&f({dm_policy:s.dm_policy,group_policy:s.group_policy,mention_gating:s.mention_gating})},[e,s,f]);const p=b=>{i(b),f(b),t(!1)},x=b=>{b||f(l),t(b)};return a.jsx(Me,{open:e,onOpenChange:x,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"channel-policy-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Channel policy"}),a.jsx(Te,{id:"channel-policy-description",children:n?`DM and group policies for ${n}`:"Set DM policy, group policy, and mention gating for this channel."})]}),a.jsxs("form",{id:"channel-policy-form",onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"DM policy"}),a.jsxs(ut,{value:d("dm_policy"),onValueChange:b=>u("dm_policy",b,{shouldDirty:!0}),children:[a.jsx(ot,{className:J(h.dm_policy&&"border-destructive"),children:a.jsx(dt,{placeholder:"Select DM policy"})}),a.jsx(lt,{children:Object.keys(GP).map(b=>a.jsx(Se,{value:b,children:GP[b]},b))})]}),h.dm_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.dm_policy.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Group policy"}),a.jsxs(ut,{value:d("group_policy"),onValueChange:b=>u("group_policy",b,{shouldDirty:!0}),children:[a.jsx(ot,{className:J(h.group_policy&&"border-destructive"),children:a.jsx(dt,{placeholder:"Select group policy"})}),a.jsx(lt,{children:Object.keys(YP).map(b=>a.jsx(Se,{value:b,children:YP[b]},b))})]}),h.group_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.group_policy.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"mention_gating",children:"Mention gating"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Require @mention in groups to trigger the agent"})]}),a.jsx(Rt,{id:"mention_gating",checked:g,onCheckedChange:b=>u("mention_gating",b,{shouldDirty:!0})})]})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancel"}),a.jsx(P,{type:"submit",form:"channel-policy-form",disabled:!m||o,children:o?"Saving":"Save"})]})]})})}function xae({open:e,onOpenChange:t,log:r}){return r?a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"delivery-error-description",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(Zi,{className:"h-5 w-5 text-destructive"}),"Delivery error details"]}),a.jsxs(Te,{id:"delivery-error-description",children:["Event: ",r.event_type,"  ",r.success?"Succeeded":"Failed"," "," ",Ka(new Date(r.created_at),"PPp")]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Error details"}),a.jsx("pre",{className:"mt-2 max-h-48 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-sm",children:r.error_details??"No error message recorded."})]}),r.metadata&&Object.keys(r.metadata).length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Metadata"}),a.jsx("pre",{className:"mt-2 max-h-32 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-xs",children:JSON.stringify(r.metadata,null,2)})]})]})]})}):null}function bae({open:e,onOpenChange:t,channelName:r,onConfirm:n,isDeleting:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"delete-channel-description",children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(eo,{className:"h-5 w-5 text-destructive"})}),a.jsxs("div",{children:[a.jsx(Ae,{children:"Remove channel"}),a.jsx(Te,{id:"delete-channel-description",children:"This will remove the channel integration and its configuration. Delivery logs and identity mappings for this channel will also be removed. This action cannot be undone."})]})]})}),r&&a.jsxs("p",{className:"rounded-lg border border-border bg-card/50 px-4 py-3 text-sm text-muted-foreground",children:["Channel: ",a.jsx("span",{className:"font-medium text-foreground",children:r})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{type:"button",variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove channel"})]})]})})}const fg={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},wae={active:"success",inactive:"secondary",error:"destructive",provisioning:"warning"},jae=["whatsapp","telegram","slack","discord"];function _ae(){const[e,t]=y.useState(!1),[r,n]=y.useState(),[s,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(!1),[h,m]=y.useState(""),[g,p]=y.useState(null),[x,b]=y.useState(!1),{data:v=[],isLoading:w}=aae(),{data:_}=iae(s),{data:j}=cae(s),{data:S=[]}=dae(s,{limit:50}),N=oae(),k=lae(),C=uae(),E=fae(),D=M=>{n(M),t(!0)},O=async M=>{const $=await N.mutateAsync({provider:M.provider,display_name:M.display_name,status:"provisioning"});await C.mutateAsync({channel_id:$.id,dm_policy:"pairing",group_policy:"mention",mention_gating:!0,webhook_url:M.webhook_url??null,polling_interval_seconds:M.polling_interval_seconds??null}),i($.id),t(!1),n(void 0)},q=M=>{s&&C.mutate({channel_id:s,dm_policy:M.dm_policy,group_policy:M.group_policy,mention_gating:M.mention_gating})},A=M=>{u(M),f(!0)},V=M=>{p(M),b(!0)},T=()=>{g&&(k.mutate(g.id),s===g.id&&i(null),p(null))},K=()=>{!s||!h.trim()||E.mutate({channelId:s,content:h.trim()},{onSuccess:()=>m("")})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Channels & Adapters"}),a.jsxs("nav",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-muted-foreground",children:[a.jsx(fe,{to:"/chat",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Chat"}),a.jsx(fe,{to:"/logs",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Logs"}),a.jsx(fe,{to:"/settings",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Settings"})]})]}),a.jsxs(P,{onClick:()=>D(),className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_280px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"shadow-card rounded-[10px] transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Supported platforms"}),a.jsx(ge,{children:"Connect chat surfaces. Select a provider to start the authorization flow."})]}),a.jsx(Z,{children:a.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:jae.map(M=>{const $=v.some(I=>I.provider===M);return a.jsxs("div",{className:J("flex items-center justify-between gap-3 rounded-[10px] border p-4 transition-all duration-200","border-[rgb(var(--border))] bg-card hover:bg-card/80",s&&(_==null?void 0:_.provider)===M&&"ring-2 ring-primary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(_u,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium",children:fg[M]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:$?"Connected":"Not connected"})]})]}),a.jsxs(P,{variant:$?"outline":"default",size:"sm",onClick:()=>{var I;return $?i(((I=v.find(ee=>ee.provider===M))==null?void 0:I.id)??null):D(M)},className:"shrink-0",children:[$?"Open":"Connect",a.jsx(Rr,{className:"ml-1 h-4 w-4"})]})]},M)})})})]}),a.jsxs(ci,{defaultValue:"channels",className:"space-y-4",children:[a.jsxs(Oa,{className:"grid w-full max-w-md grid-cols-3 rounded-lg p-1 bg-secondary/50",children:[a.jsx(St,{value:"channels",children:"Channels"}),a.jsx(St,{value:"logs",children:"Delivery logs"}),a.jsx(St,{value:"test",children:"Test console"})]}),a.jsx(Nt,{value:"channels",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(X,{className:"shadow-card rounded-[10px] transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Channels list"}),a.jsx(ge,{children:"Manage chat channel adapters and per-channel policies."})]}),a.jsx(Z,{children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(M=>a.jsx(ie,{className:"h-16 w-full rounded-lg"},M))}):v.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(_u,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No channels added. Use Connect above or Add Channel to connect WhatsApp, Telegram, Slack, or Discord."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>D(),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}):a.jsx(pt,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:v.map(M=>a.jsxs("div",{className:J("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors duration-200",s===M.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>i(M.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(_u,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:M.display_name||fg[M.provider]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[fg[M.provider],M.last_event_at&&`  Last event ${Sr(new Date(M.last_event_at),{addSuffix:!0})}`]})]}),a.jsx(We,{variant:wae[M.status],className:"shrink-0",children:M.status}),a.jsxs("span",{className:"text-xs text-muted-foreground shrink-0",children:[M.success_rate.toFixed(0),"% success"]})]}),a.jsxs(Ds,{children:[a.jsx(Ls,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0","aria-label":"Actions",children:a.jsx(wa,{className:"h-4 w-4"})})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{i(M.id),l(!0)},children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Configure policy"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>V(M),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},M.id))})})})]}),a.jsxs(X,{className:"shadow-card rounded-[10px] transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Channel config"}),a.jsx(ge,{children:"DM policy, group policy, mention gating."})]}),a.jsx(Z,{children:s?a.jsx("div",{className:"space-y-4",children:j===void 0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ie,{className:"h-10 w-full"}),a.jsx(ie,{className:"h-10 w-full"}),a.jsx(ie,{className:"h-12 w-full"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"DM policy"}),a.jsx("span",{className:"font-medium capitalize",children:(j==null?void 0:j.dm_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Group policy"}),a.jsx("span",{className:"font-medium capitalize",children:(j==null?void 0:j.group_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Mention gating"}),a.jsx("span",{className:"font-medium",children:j!=null&&j.mention_gating?"On":"Off"})]})]}),a.jsxs(P,{variant:"outline",className:"w-full transition-transform hover:scale-[1.01] active:scale-[0.99]",onClick:()=>l(!0),children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Edit policy"]})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Rn,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel to configure."})]})})]})]})}),a.jsx(Nt,{value:"logs",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card rounded-[10px]",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Delivery logs"}),a.jsxs(ge,{children:["Recent inbound/outbound events",s&&" for selected channel"]})]}),a.jsx(Z,{children:s?S.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Na,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No delivery logs yet."}),a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Send a test message to see an entry."})]}):a.jsx(pt,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-2",children:S.map(M=>a.jsx("div",{className:J("flex items-center justify-between rounded-lg border p-3 text-sm",M.success?"border-border":"border-destructive/50 bg-destructive/5"),children:a.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[M.success?a.jsx(Na,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx(_x,{className:"h-4 w-4 shrink-0 text-destructive"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:M.event_type}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Sr(new Date(M.created_at),{addSuffix:!0})})]}),!M.success&&M.error_details&&a.jsxs(P,{variant:"ghost",size:"sm",onClick:()=>A(M),className:"shrink-0",children:[a.jsx(Ai,{className:"mr-1 h-4 w-4"}),"Details"]})]})},M.id))})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(_u,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to view delivery logs."})]})})]})}),a.jsx(Nt,{value:"test",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card rounded-[10px]",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Test console"}),a.jsx(ge,{children:"Send test messages through the selected channel. Events appear in Delivery logs."})]}),a.jsx(Z,{children:s?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{htmlFor:"test-message",className:"text-sm font-medium",children:"Test message"}),a.jsx(me,{id:"test-message",placeholder:"Type a message to send...",value:h,onChange:M=>m(M.target.value),className:"min-h-[80px] rounded-lg border-border focus-visible:ring-2 focus-visible:ring-primary",disabled:E.isPending})]}),a.jsxs(P,{disabled:!h.trim()||E.isPending,onClick:K,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(fd,{className:"mr-2 h-4 w-4"}),E.isPending?"Sending":"Send test message"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Test messages are logged to delivery logs. Roundtrip and errors appear there."})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(fd,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to test."})]})})]})})]})]}),a.jsx("aside",{className:"space-y-4 lg:order-last",children:a.jsxs(X,{className:"shadow-card rounded-[10px] p-4",children:[a.jsx("h3",{className:"mb-3 text-sm font-semibold text-foreground",children:"Quick links"}),a.jsxs("nav",{className:"flex flex-col gap-2","aria-label":"Channels quick links",children:[a.jsxs(fe,{to:"/help",className:"flex items-center gap-3 rounded-lg border border-transparent px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-card hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx(ld,{className:"h-4 w-4 shrink-0"}),"Documentation"]}),a.jsxs(fe,{to:"/help",className:"flex items-center gap-3 rounded-lg border border-transparent px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-card hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx(ef,{className:"h-4 w-4 shrink-0"}),"Support"]}),a.jsxs(fe,{to:"/logs",className:"flex items-center gap-3 rounded-lg border border-transparent px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-card hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx(jx,{className:"h-4 w-4 shrink-0"}),"Diagnostic tools"]})]})]})})]}),a.jsx(gae,{open:e,onOpenChange:t,onSubmit:O,isSubmitting:N.isPending||C.isPending,initialProvider:r}),a.jsx(yae,{open:o,onOpenChange:l,channelId:s??"",channelName:(_==null?void 0:_.display_name)??(_==null?void 0:_.provider),config:j??null,onSubmit:q,isSubmitting:C.isPending}),a.jsx(bae,{open:x,onOpenChange:b,channelName:g?g.display_name||fg[g.provider]:"",onConfirm:T,isDeleting:k.isPending}),a.jsx(xae,{open:d,onOpenChange:f,log:c})]})}const ts="/skills",go="/library-skills",ro={list:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return we.get(`${ts}${t?`?${t}`:""}`)},get:e=>we.get(`${ts}/${e}`),create:e=>we.post(ts,e),update:(e,t)=>we.patch(`${ts}/${e}`,t),delete:e=>we.delete(`${ts}/${e}`),getTestRuns:(e,t)=>{const r=t?new URLSearchParams(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)])).toString():"";return we.get(`${ts}/${e}/test-runs${r?`?${r}`:""}`)},getTestRun:(e,t)=>we.get(`${ts}/${e}/test-runs/${t}`),runTest:(e,t)=>we.post(`${ts}/${e}/test-run`,t??{}),abortTestRun:(e,t)=>we.post(`${ts}/${e}/test-runs/${t}/abort`,{}),checkRequirements:e=>we.get(`${ts}/${e}/check-requirements`),getVersions:e=>we.get(`${ts}/${e}/versions`),createVersion:(e,t)=>we.post(`${ts}/${e}/versions`,t),commit:(e,t)=>we.post(`${ts}/${e}/commit`,t)},vp={list:()=>we.get(go),get:e=>we.get(`${go}/${e}`),install:e=>we.post(go,e),update:(e,t)=>we.patch(`${go}/${e}`,t),delete:e=>we.delete(`${go}/${e}`),setEnabled:(e,t)=>we.patch(`${go}/${e}`,{enabled:t}),registry:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([r,n])=>n!=null)).toString():"";return we.get(`${go}/registry${t?`?${t}`:""}`)},checkProvenance:(e,t)=>we.get(`${go}/registry/provenance?slug=${encodeURIComponent(e)}&version=${encodeURIComponent(t)}`)};function yp(e,t){return e().catch(()=>t)}const ln={all:["skills"],list:e=>[...ln.all,"list",e],detail:e=>[...ln.all,"detail",e],testRuns:(e,t)=>[...ln.all,"test-runs",e,t],testRun:(e,t)=>[...ln.all,"test-run",e,t],versions:e=>[...ln.all,"versions",e],gating:e=>[...ln.all,"gating",e]};function Sae(e){return ke({queryKey:ln.list(e),queryFn:()=>yp(()=>ro.list(e),[])})}function Nae(e){return ke({queryKey:ln.detail(e??""),queryFn:()=>e?yp(()=>ro.get(e),null):Promise.resolve(null),enabled:!!e})}function kae(){const e=de();return ue({mutationFn:t=>ro.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:ln.list()}),B.success("Skill created")},onError:t=>{B.error(t.message||"Failed to create skill")}})}function Cae(){const e=de();return ue({mutationFn:({id:t,data:r})=>ro.update(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:ln.list()}),e.invalidateQueries({queryKey:ln.detail(r)}),B.success("Skill saved")},onError:t=>{B.error(t.message||"Failed to save skill")}})}function Eae(e,t){return ke({queryKey:ln.testRuns(e??"",t),queryFn:()=>e?yp(()=>ro.getTestRuns(e,t),[]):Promise.resolve([]),enabled:!!e})}function Pae(){const e=de();return ue({mutationFn:({skillId:t,payload:r})=>ro.runTest(t,r),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:ln.testRuns(r)}),B.success("Test run started")},onError:t=>{B.error(t.message||"Failed to run skill test")}})}function Oae(e){return ke({queryKey:ln.versions(e??""),queryFn:()=>e?yp(()=>ro.getVersions(e),[]):Promise.resolve([]),enabled:!!e})}function Aae(e){return ke({queryKey:ln.gating(e??""),queryFn:()=>e?ro.checkRequirements(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}function Tae(){const e=de();return ue({mutationFn:({skillId:t,message:r,sign:n})=>ro.commit(t,{message:r,sign:n}),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:ln.detail(r)}),e.invalidateQueries({queryKey:ln.versions(r)}),B.success("Changes committed")},onError:t=>{B.error(t.message||"Failed to commit")}})}const Ri={all:["library-skills"],list:()=>[...Ri.all,"list"],detail:e=>[...Ri.all,"detail",e],registry:e=>[...Ri.all,"registry",e]};function Rae(){return ke({queryKey:Ri.list(),queryFn:()=>yp(()=>vp.list(),[])})}function Mae(){const e=de();return ue({mutationFn:t=>vp.install(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ri.list()}),B.success("Skill installed")},onError:t=>{B.error(t.message||"Failed to install skill")}})}function $ae(){const e=de();return ue({mutationFn:({id:t,enabled:r})=>vp.setEnabled(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ri.list()}),e.invalidateQueries({queryKey:Ri.detail(r)}),B.success("Skill status updated")},onError:t=>{B.error(t.message||"Failed to update skill status")}})}function Iae(){const e=de();return ue({mutationFn:t=>vp.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ri.list()}),B.success("Skill uninstalled")},onError:t=>{B.error(t.message||"Failed to uninstall skill")}})}const Dae=[{id:"gmail-watcher",name:"Gmail Watcher",version:"1.0.0",registry_slug:"gmail-watcher",description:"Watch Gmail via Pub/Sub and deliver events to chat.",readme_content:"# Gmail Watcher\n\nUses Gmail Pub/Sub. Requires env: `GMAIL_CREDENTIALS`, `GMAIL_TOPIC`.\n",frontmatter:{permissions:["network"],env:["GMAIL_CREDENTIALS","GMAIL_TOPIC"]},permissions:["network"],binary_requirements:[],environment_requirements:["GMAIL_CREDENTIALS","GMAIL_TOPIC"],popularity:95,updated_at:new Date().toISOString()},{id:"url-summarizer",name:"URL Summarizer",version:"1.0.0",registry_slug:"url-summarizer",description:"Fetch a URL and summarize content via browser tool.",readme_content:`# URL Summarizer

Uses browser automation. No extra env required.
`,frontmatter:{permissions:["browser"]},permissions:["browser"],binary_requirements:[],environment_requirements:[],popularity:88,updated_at:new Date().toISOString()},{id:"cron-reminder",name:"Cron Reminder",version:"1.0.0",registry_slug:"cron-reminder",description:"Schedule reminders and deliver to chat.",readme_content:`# Cron Reminder

Schedule cron jobs. No extra env.
`,frontmatter:{permissions:[]},permissions:[],binary_requirements:[],environment_requirements:[],popularity:72,updated_at:new Date().toISOString()}];function Lae(e){return ke({queryKey:Ri.registry(e),queryFn:async()=>{var t;try{return await vp.registry(e)}catch{let r=[...Dae];const n=(t=e==null?void 0:e.search)==null?void 0:t.toLowerCase();n&&(r=r.filter(i=>i.name.toLowerCase().includes(n)||i.registry_slug.toLowerCase().includes(n)));const s=(e==null?void 0:e.sort)??"popularity";return s==="name"?r.sort((i,o)=>i.name.localeCompare(o.name)):s==="recent"?r.sort((i,o)=>o.updated_at>i.updated_at?1:-1):r.sort((i,o)=>(o.popularity??0)-(i.popularity??0)),r}}})}function Fae({source:e,onInstall:t,onUninstall:r,onToggleEnabled:n,isInstalling:s=!1,isUninstalling:i=!1,isUpdating:o=!1}){if(!e)return a.jsxs(X,{className:"animate-fade-in-up",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ld,{className:"h-5 w-5 text-muted-foreground"}),"Skill detail"]}),a.jsx(ge,{children:"SKILL.md, frontmatter, permissions, provenance. Select a skill from the grid or registry to view details."})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to view details."})})]});const l=e.type==="installed",c=e.type==="installed"?e.skill:null,u=e.type==="registry"?e.item:null,d=(c==null?void 0:c.name)??(u==null?void 0:u.name)??"",f=(c==null?void 0:c.version)??(u==null?void 0:u.version)??"",h=(c==null?void 0:c.readme_content)??(u==null?void 0:u.readme_content)??"",m=(c==null?void 0:c.frontmatter)??(u==null?void 0:u.frontmatter)??{},g=(c==null?void 0:c.permissions)??(u==null?void 0:u.permissions)??[],p=(c==null?void 0:c.environment_requirements)??(u==null?void 0:u.environment_requirements)??[],x=(c==null?void 0:c.signature_status)??null;return a.jsxs(X,{className:"animate-fade-in-up overflow-hidden",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ld,{className:"h-5 w-5 text-muted-foreground"}),d]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(We,{variant:"secondary",className:"font-mono text-xs",children:["v",f]}),x&&a.jsxs(We,{variant:x==="verified"?"default":"secondary",className:J(x==="verified"&&"bg-success/20 text-success border-success/30"),children:[a.jsx(op,{className:"mr-1 h-3 w-3"}),x]})]})]}),a.jsx(ge,{children:"SKILL.md content, frontmatter, permissions, and provenance."})]}),a.jsxs(Z,{className:"space-y-4",children:[l&&c&&n&&a.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-border bg-muted/30 px-3 py-2",children:[c.enabled?a.jsx(hN,{className:"h-5 w-5 text-primary","aria-hidden":!0}):a.jsx(fN,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium",children:c.enabled?"Enabled":"Disabled"}),a.jsx(P,{variant:"ghost",size:"sm",className:"ml-auto",disabled:o,onClick:()=>n(c,!c.enabled),children:o?a.jsx(wr,{className:"h-4 w-4 animate-spin"}):"Toggle"})]}),g.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"Permissions"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:g.map(b=>a.jsx(We,{variant:"outline",className:"text-xs",children:b},b))})]}),p.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"Environment"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:p.join(", ")})]}),Object.keys(m).length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"Frontmatter"}),a.jsx("pre",{className:"rounded-md border border-border bg-muted/30 p-3 text-xs overflow-x-auto",children:JSON.stringify(m,null,2)})]}),h&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"SKILL.md"}),a.jsx(pt,{className:"h-[240px] w-full rounded-md border border-border bg-muted/20 p-3",children:a.jsx("div",{className:"prose prose-invert prose-sm max-w-none text-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm text-muted-foreground",children:h})})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-border",children:[!l&&u&&t&&a.jsx(P,{size:"sm",onClick:()=>t(u),disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Installing"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Install"]})}),l&&c&&r&&a.jsxs(P,{variant:"destructive",size:"sm",onClick:()=>r(c),disabled:i,children:[i?a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Uninstall"]})]})]})]})}function Uae({open:e,onOpenChange:t,item:r,gatingChecks:n=[],onInstall:s,isInstalling:i=!1}){var S,N,k,C,E,D;const[o,l]=y.useState(0),[c,u]=y.useState({}),[d,f]=y.useState(!1),h=n.length===0||n.every(O=>O.met),m=r!=null&&r.environment_requirements&&Array.isArray(r.environment_requirements)?r.environment_requirements:[],g=m.length>0,p=[{id:"gating",label:"Gating checks"},...g?[{id:"env",label:"Environment"}]:[],{id:"provenance",label:"Provenance"}],x=o,b=h,v=!g||m.every(O=>(c[O]??"").trim().length>0),w=((S=p[p.length-1])==null?void 0:S.id)==="provenance"?d:b&&v,_=()=>{o<p.length-1?l(o+1):w&&s(c)},j=O=>{O||(l(0),u({}),f(!1)),t(O)};return r?a.jsx(Me,{open:e,onOpenChange:j,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"install-skill-description",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{children:["Install ",r.name]}),a.jsx(Te,{id:"install-skill-description",children:"Review gating checks, provide required env (if any), and confirm provenance before installing."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:p.map((O,q)=>a.jsxs("div",{className:J("flex items-center gap-1 rounded-md px-2 py-1 text-xs font-medium",q===x?"bg-primary/20 text-primary":q<x?"bg-muted text-muted-foreground":"text-muted-foreground"),children:[q<x?a.jsx(Na,{className:"h-3.5 w-3.5"}):a.jsx(a_,{className:"h-3.5 w-3.5"}),O.label]},O.id))}),((N=p[x])==null?void 0:N.id)==="gating"&&a.jsx("div",{className:"space-y-2",children:n.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No gating checks required for this skill."}):n.map(O=>a.jsxs("div",{className:J("flex items-center gap-2 rounded-md border border-border px-3 py-2 text-sm",O.met?"bg-success/10 border-success/30":"bg-warning/10 border-warning/30"),children:[O.met?a.jsx(Na,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx(a_,{className:"h-4 w-4 shrink-0 text-warning"}),a.jsx("span",{children:O.label}),O.message&&a.jsxs("span",{className:"text-muted-foreground",children:[" ",O.message]})]},O.id))}),((k=p[x])==null?void 0:k.id)==="env"&&g&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide values for required environment variables (stored securely)."}),m.map(O=>a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(H,{htmlFor:`env-${O}`,className:"text-sm",children:O}),a.jsx("input",{id:`env-${O}`,type:"password",placeholder:"",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",value:c[O]??"",onChange:q=>u(A=>({...A,[O]:q.target.value}))})]},O))]}),((C=p[x])==null?void 0:C.id)==="provenance"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-2 rounded-md border border-border bg-card p-3",children:[a.jsx(op,{className:"h-5 w-5 shrink-0 text-accent"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium",children:"Provenance & signature"}),a.jsxs("p",{className:"text-muted-foreground",children:["This skill is from the registry (",r.registry_slug,"). By installing, you confirm that you have reviewed the permissions and accept the source."]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Rt,{id:"provenance-accept",checked:d,onCheckedChange:O=>f(O===!0)}),a.jsx(H,{htmlFor:"provenance-accept",className:"text-sm font-normal cursor-pointer",children:"I have reviewed the skill and accept the provenance."})]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>j(!1),disabled:i,children:"Cancel"}),x<p.length-1?a.jsx(P,{onClick:()=>l(x+1),disabled:((E=p[x])==null?void 0:E.id)==="gating"&&!b||((D=p[x])==null?void 0:D.id)==="env"&&!v,children:"Next"}):a.jsx(P,{onClick:_,disabled:!w||i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Installing"]}):"Install"})]})]})}):null}function qae({open:e,onOpenChange:t,skill:r,onConfirm:n,isUninstalling:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"uninstall-skill-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Uninstall skill"}),a.jsx(Te,{id:"uninstall-skill-description",children:"Uninstalling will remove this skill from your library. Any cron jobs or workflows that use it may stop working. You can reinstall from the registry later."})]}),r&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Skill: ",a.jsx("span",{className:"font-medium text-foreground",children:r.name}),r.registry_slug&&a.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",r.registry_slug,")"]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Uninstalling":"Uninstall"})]})]})})}const Bae={eligible:"success",ineligible:"warning",unknown:"secondary"};function zae(){const[e,t]=y.useState(""),[r,n]=y.useState("popularity"),[s,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(!1),[h,m]=y.useState(null),{data:g=[],isLoading:p}=Rae(),{data:x=[],isLoading:b}=Lae({search:e||void 0,sort:r}),v=Mae(),w=$ae(),_=Iae(),j=E=>{u(E),l(!0)},S=E=>{c&&v.mutate({name:c.name,version:c.version,registry_slug:c.registry_slug,readme_content:c.readme_content,frontmatter:c.frontmatter??{},permissions:c.permissions??[],binary_requirements:c.binary_requirements??[],environment_requirements:c.environment_requirements??[],signature_status:"verified",enabled:!0,eligibility_status:"eligible"},{onSuccess:()=>{l(!1),u(null),i(null)}})},N=E=>{m(E),f(!0)},k=()=>{h&&_.mutate(h.id,{onSuccess:()=>{f(!1),m(null),(s==null?void 0:s.type)==="installed"&&s.skill.id===h.id&&i(null)}})},C=y.useMemo(()=>{if(!c)return[];const E=c.environment_requirements??[];return[{id:"permissions",label:"Permissions reviewed",met:!0},...E.map(D=>({id:`env-${D}`,label:`Environment: ${D}`,met:!0}))]},[c]);return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Skills Library"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(fe,{to:"/marketplace",children:[a.jsx(kx,{className:"mr-2 h-4 w-4"}),"Marketplace"]})}),a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(fe,{to:"/skill-editor",children:[a.jsx(ld,{className:"mr-2 h-4 w-4"}),"Skill Editor"]})})]})]}),a.jsxs(X,{className:"overflow-hidden",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(mc,{className:"h-5 w-5 text-muted-foreground"}),"Installed skills"]}),a.jsx(ge,{children:"Enable/disable and manage installed skills. Last run and eligibility status shown."})]}),a.jsx(Z,{children:p?a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(E=>a.jsx(ie,{className:"h-28 rounded-lg"},E))}):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border bg-muted/20 py-12 text-center",children:[a.jsx(mc,{className:"h-12 w-12 text-muted-foreground mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No skills installed"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Browse the registry below and install skills to get started."})]}):a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:g.map(E=>a.jsxs(X,{className:J("cursor-pointer transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",(s==null?void 0:s.type)==="installed"&&s.skill.id===E.id&&"ring-2 ring-primary border-primary/50"),onClick:()=>i({type:"installed",skill:E}),children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(ne,{className:"text-base font-medium truncate",children:E.name}),a.jsx("button",{type:"button",className:"shrink-0 rounded p-1 hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring",onClick:D=>{D.stopPropagation(),w.mutate({id:E.id,enabled:!E.enabled})},disabled:w.isPending,"aria-label":E.enabled?"Disable skill":"Enable skill",children:w.isPending?a.jsx(wr,{className:"h-4 w-4 animate-spin text-muted-foreground"}):E.enabled?a.jsx(hN,{className:"h-5 w-5 text-primary"}):a.jsx(fN,{className:"h-5 w-5 text-muted-foreground"})})]}),a.jsxs(ge,{className:"text-xs font-mono",children:["v",E.version,E.registry_slug&&`  ${E.registry_slug}`]})]}),a.jsx(Z,{className:"pt-0",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[E.last_run_at&&a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(ml,{className:"h-3.5 w-3.5"}),Sr(new Date(E.last_run_at),{addSuffix:!0})]}),a.jsx(We,{variant:Bae[E.eligibility_status],className:"text-xs",children:E.eligibility_status}),E.signature_status==="verified"&&a.jsx(op,{className:"h-3.5 w-3.5 text-success"})]})})]},E.id))})})]}),a.jsxs(X,{className:"overflow-hidden",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"flex items-center gap-2",children:"Registry browser"}),a.jsx(ge,{children:"Search, filter, and install skills from the registry."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ip,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(me,{placeholder:"Search skills...",className:"pl-9",value:e,onChange:E=>t(E.target.value)})]}),a.jsxs(ut,{value:r??"popularity",onValueChange:E=>n(E),children:[a.jsx(ot,{className:"w-full sm:w-[180px]",children:a.jsx(dt,{placeholder:"Sort by"})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"popularity",children:"Popularity"}),a.jsx(Se,{value:"recent",children:"Recent"}),a.jsx(Se,{value:"name",children:"Name"})]})]})]}),b?a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(E=>a.jsx(ie,{className:"h-32 rounded-lg"},E))}):x.length===0?a.jsx("p",{className:"text-sm text-muted-foreground py-6 text-center",children:"No registry skills found. Try a different search or sort."}):a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:x.map(E=>{const D=g.some(O=>O.registry_slug===E.registry_slug);return a.jsxs(X,{className:J("cursor-pointer transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",(s==null?void 0:s.type)==="registry"&&s.item.registry_slug===E.registry_slug&&"ring-2 ring-primary border-primary/50"),onClick:()=>i({type:"registry",item:E}),children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-base font-medium truncate",children:E.name}),a.jsxs(ge,{className:"text-xs font-mono",children:["v",E.version,"  ",E.registry_slug]})]}),a.jsxs(Z,{className:"pt-0",children:[E.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:E.description}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[E.popularity!=null&&a.jsxs(We,{variant:"secondary",className:"text-xs",children:[E.popularity,"% popular"]}),a.jsx(P,{size:"sm",variant:D?"secondary":"default",disabled:D,onClick:O=>{O.stopPropagation(),D||j(E)},children:D?"Installed":a.jsxs(a.Fragment,{children:[a.jsx(Ir,{className:"mr-1.5 h-3.5 w-3.5"}),"Install"]})})]})]})]},E.id)})})]})]}),a.jsx(Fae,{source:s,onInstall:j,onUninstall:N,onToggleEnabled:(E,D)=>w.mutate({id:E.id,enabled:D}),isInstalling:v.isPending,isUninstalling:_.isPending,isUpdating:w.isPending}),a.jsx(Uae,{open:o,onOpenChange:l,item:c,gatingChecks:C,onInstall:S,isInstalling:v.isPending}),a.jsx(qae,{open:d,onOpenChange:f,skill:h,onConfirm:k,isUninstalling:_.isPending})]})}const Wae=nt({name:xe().min(1,"Name is required"),version:xe().min(1,"Version is required"),description:xe().optional(),permissions:xe().optional(),env_keys:xe().optional()}),Yw={name:"",version:"1.0.0",description:"",permissions:"",env_keys:""};function Vae({open:e,onOpenChange:t,initialValues:r,onSubmit:n,isSubmitting:s=!1}){const i=()=>({...Yw,name:(r==null?void 0:r.name)??"",version:(r==null?void 0:r.version)??"1.0.0",description:(r==null?void 0:r.description)??"",permissions:Array.isArray(r==null?void 0:r.permissions)?r.permissions.join(", "):(r==null?void 0:r.permissions)??"",env_keys:r!=null&&r.env_keys?typeof r.env_keys=="object"?Object.keys(r.env_keys).join(", "):String(r.env_keys):""}),{register:o,handleSubmit:l,reset:c,formState:{errors:u}}=et({resolver:tt(Wae),defaultValues:i()});y.useEffect(()=>{e&&c(i())},[e]);const d=h=>{const m={name:h.name,version:h.version,description:h.description||void 0,permissions:h.permissions?h.permissions.split(",").map(g=>g.trim()).filter(Boolean):void 0,env_keys:h.env_keys?h.env_keys.split(",").map(g=>g.trim()).filter(Boolean):void 0};n(m),c(Yw),t(!1)},f=h=>{h||c(Yw),t(h)};return a.jsx(Me,{open:e,onOpenChange:f,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"frontmatter-dialog-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Edit frontmatter"}),a.jsx(Te,{id:"frontmatter-dialog-description",children:"YAML frontmatter fields for SKILL.md (name, version, permissions, env)."})]}),a.jsxs("form",{onSubmit:l(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-name",children:"Name"}),a.jsx(me,{id:"frontmatter-name",placeholder:"skill-name",...o("name"),className:J(u.name&&"border-destructive")}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-version",children:"Version"}),a.jsx(me,{id:"frontmatter-version",placeholder:"1.0.0",...o("version"),className:J(u.version&&"border-destructive")}),u.version&&a.jsx("p",{className:"text-xs text-destructive",children:u.version.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-description",children:"Description (optional)"}),a.jsx(me,{id:"frontmatter-description",placeholder:"Short description",...o("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-permissions",children:"Permissions (comma-separated)"}),a.jsx(me,{id:"frontmatter-permissions",placeholder:"network, exec, read",...o("permissions")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-env",children:"Env keys (comma-separated)"}),a.jsx(me,{id:"frontmatter-env",placeholder:"API_KEY, GMAIL_CREDENTIALS",...o("env_keys")})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save"})]})]})]})})}const Kae=nt({message:xe().optional(),sign:Gr().optional()}),Qw={message:"",sign:!1};function Hae({open:e,onOpenChange:t,skillName:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,watch:l,setValue:c,reset:u,formState:{errors:d}}=et({resolver:tt(Kae),defaultValues:Qw}),f=l("sign"),h=g=>{n({message:g.message||void 0,sign:g.sign}),u(Qw),t(!1)},m=g=>{g||u(Qw),t(g)};return a.jsx(Me,{open:e,onOpenChange:m,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"commit-dialog-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Commit changes"}),a.jsx(Te,{id:"commit-dialog-description",children:r?`Finalize and commit changes for "${r}". Optionally sign the package.`:"Finalize and commit your skill. Optionally sign the package."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"commit-message",children:"Commit message (optional)"}),a.jsx(me,{id:"commit-message",placeholder:"e.g. Add Gmail Pub/Sub gating",...i("message"),className:J(d.message&&"border-destructive")}),d.message&&a.jsx("p",{className:"text-xs text-destructive",children:d.message.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"commit-sign",children:"Sign package"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally sign this version for provenance."})]}),a.jsx(Rt,{id:"commit-sign",checked:f,onCheckedChange:g=>c("sign",g)})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Committing":"Commit"})]})]})]})})}function Gae({open:e,onClose:t,requirements:r,passed:n,title:s="Gating checks",className:i}){return e?a.jsx("div",{className:J("absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-background/95 p-6 backdrop-blur-sm",i),role:"dialog","aria-labelledby":"gating-overlay-title","aria-describedby":"gating-overlay-desc",children:a.jsxs("div",{className:"relative w-full max-w-md rounded-lg border border-border bg-card p-6 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("h2",{id:"gating-overlay-title",className:"text-lg font-semibold",children:s}),a.jsx(P,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close",children:a.jsx(hd,{className:"h-4 w-4"})})]}),a.jsx("p",{id:"gating-overlay-desc",className:"mt-1 text-sm text-muted-foreground",children:n?"All requirements are met. You can save and deploy.":"Resolve the items below before saving or deploying."}),a.jsx("ul",{className:"mt-4 space-y-2",role:"list",children:r.map(o=>a.jsxs("li",{className:J("flex items-start gap-3 rounded-md border border-border px-3 py-2 text-sm",o.met?"bg-success/10 border-success/30":"bg-destructive/10 border-destructive/30"),children:[o.met?a.jsx(_I,{className:"h-5 w-5 shrink-0 text-success","aria-hidden":!0}):a.jsx(Zi,{className:"h-5 w-5 shrink-0 text-destructive","aria-hidden":!0}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium",children:o.label}),o.message&&a.jsx("p",{className:"mt-0.5 text-muted-foreground",children:o.message})]})]},o.id))}),r.length===0&&a.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"No gating checks defined."}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx(P,{onClick:t,children:"Close"})})]})}):null}const tu=`# Skill name

Short description of what this skill does.

## Requirements

- List gating requirements (env vars, permissions, etc.)

## Usage

How to use this skill from chat or cron.
`;function Yae(){const{skillId:e}=NW(),t=hl(),[r,n]=y.useState("editor"),[s,i]=y.useState(""),[o,l]=y.useState(""),[c,u]=y.useState(!1),[d,f]=y.useState(!1),[h,m]=y.useState(!1),{data:g=[],isLoading:p}=Sae(),{data:x,isLoading:b}=Nae(e??null),{data:v=[]}=Eae(e??null,{limit:5}),{data:w=[]}=Oae(e??null),{data:_}=Aae(e??null),j=Cae(),S=Pae(),N=Tae(),k=kae(),C=x??null,E=C&&(s!==C.content||o!==C.name),D=y.useCallback(()=>{C?(i(C.content||tu),l(C.name||"")):(i(tu),l(""))},[C]);y.useEffect(()=>{C?(i(C.content||tu),l(C.name||"")):e||(i(tu),l(""))},[e,C==null?void 0:C.id,C==null?void 0:C.content,C==null?void 0:C.name]);const O=I=>{t(`/skill-editor/${I}`)},q=()=>{!e||!C||j.mutate({id:e,data:{content:s,name:o||C.name}},{onSuccess:()=>D()})},A=()=>{e&&S.mutate({skillId:e})},V=I=>{e&&N.mutate({skillId:e,...I},{onSuccess:()=>f(!1)})},T=I=>{!e||!C||j.mutate({id:e,data:{frontmatter:{...C.frontmatter,...I}}},{onSuccess:()=>{u(!1)}})},K=v[0],M=_&&!_.passed,$=(_==null?void 0:_.requirements)??[];return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skill Editor"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>t("/skill-editor"),"aria-label":"Clear selection",children:[a.jsx(f7,{className:"mr-1 h-4 w-4"}),"All skills"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>u(!0),disabled:!e,"aria-label":"Edit frontmatter",children:[a.jsx(b7,{className:"mr-1 h-4 w-4"}),"Frontmatter"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:q,disabled:!e||!E||j.isPending,children:[a.jsx(dN,{className:"mr-1 h-4 w-4"}),j.isPending?"Saving":"Save"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>m(!0),className:M?"border-warning text-warning":"","aria-label":"Gating checks",children:[a.jsx(Zi,{className:"mr-1 h-4 w-4"}),"Gating"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>f(!0),disabled:!e,children:[a.jsx(h7,{className:"mr-1 h-4 w-4"}),"Commit"]}),a.jsxs(P,{size:"sm",onClick:A,disabled:!e||S.isPending,children:[a.jsx(Xa,{className:"mr-1 h-4 w-4"}),S.isPending?"Running":"Test run"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[a.jsxs(X,{className:"lg:col-span-1",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-sm",children:"Skills"}),a.jsx(ge,{children:"Select a skill to edit."})]}),a.jsxs(Z,{className:"pt-0",children:[p?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ie,{className:"h-9 w-full"}),a.jsx(ie,{className:"h-9 w-full"}),a.jsx(ie,{className:"h-9 w-4/5"})]}):g.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet."}),a.jsxs(P,{size:"sm",variant:"outline",className:"w-full",onClick:()=>k.mutate({user_id:"",name:"Untitled Skill",content:tu},{onSuccess:I=>{t(`/skill-editor/${I.id}`)}}),disabled:k.isPending,children:[a.jsx(Dt,{className:"mr-1 h-4 w-4"}),k.isPending?"Creating":"New skill"]})]}):a.jsx(pt,{className:"h-[200px] pr-2",children:a.jsx("ul",{className:"space-y-0.5",role:"list",children:g.map(I=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>O(I.id),className:J("flex w-full items-center gap-2 rounded-md px-3 py-2 text-left text-sm transition-colors hover:bg-secondary",e===I.id&&"bg-primary/15 text-primary"),children:[a.jsx(lr,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:I.name}),a.jsx(Rr,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})},I.id))})}),a.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Versions"}),e&&a.jsx(pt,{className:"h-[120px] pr-2",children:w.length===0?a.jsx("p",{className:"text-xs text-muted-foreground",children:"No versions yet."}):a.jsx("ul",{className:"space-y-1 text-xs",children:w.slice(0,5).map(I=>a.jsxs("li",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"truncate font-mono",children:I.version_number}),a.jsx("span",{className:"text-muted-foreground shrink-0",children:I.changes?"":""})]},I.id))})}),!e&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a skill to see versions."})]})]})]}),a.jsx("div",{className:"space-y-4 lg:col-span-1",children:b&&e?a.jsx(X,{children:a.jsx(Z,{className:"flex items-center justify-center py-12",children:a.jsx(ie,{className:"h-8 w-48"})})}):a.jsxs(a.Fragment,{children:[a.jsxs(ci,{value:r,onValueChange:n,className:"w-full",children:[a.jsxs(Oa,{className:"grid w-full grid-cols-3",children:[a.jsx(St,{value:"editor",children:"SKILL.md editor"}),a.jsx(St,{value:"preview",children:"Preview"}),a.jsx(St,{value:"frontmatter",children:"Frontmatter"})]}),a.jsx(Nt,{value:"editor",className:"mt-4",children:a.jsxs(X,{className:"relative overflow-hidden",children:[h&&a.jsx(Gae,{open:h,onClose:()=>m(!1),requirements:$.map(I=>({id:I.id,label:I.label,met:I.met,message:I.message})),passed:(_==null?void 0:_.passed)??!0}),a.jsxs(Z,{className:"pt-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(H,{htmlFor:"skill-name",className:"text-muted-foreground",children:"Skill name"}),a.jsx(me,{id:"skill-name",value:o,onChange:I=>l(I.target.value),placeholder:"my-skill",className:"mt-1 max-w-xs font-medium"})]}),a.jsx("textarea",{"aria-label":"SKILL.md content",className:"min-h-[300px] w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:tu,value:s,onChange:I=>i(I.target.value)})]})]})}),a.jsx(Nt,{value:"preview",className:"mt-4",children:a.jsx(X,{children:a.jsx(Z,{className:"pt-6",children:a.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-semibold prose-p:text-muted-foreground prose-code:text-sm",children:a.jsx("pre",{className:"whitespace-pre-wrap rounded-md bg-muted/50 p-4 font-sans text-sm",children:s||"Nothing to preview."})})})})}),a.jsx(Nt,{value:"frontmatter",className:"mt-4",children:a.jsx(X,{children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:'Edit YAML frontmatter (name, version, permissions, env) via the Frontmatter button in the header, or open the "Frontmatter" dialog.'}),(C==null?void 0:C.frontmatter)&&Object.keys(C.frontmatter).length>0&&a.jsx("pre",{className:"mt-4 rounded-md bg-muted/50 p-4 font-mono text-xs",children:JSON.stringify(C.frontmatter,null,2)})]})})})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-sm",children:"Test runner"}),a.jsx(ge,{children:"Run skill in sandbox and view logs."})]}),a.jsx(Z,{children:K?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Status: ",K.status]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(K.created_at).toLocaleString()})]}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-muted p-4 text-xs text-muted-foreground",children:K.logs||"No logs."})]}):a.jsx("pre",{className:"rounded-md bg-muted p-4 text-xs text-muted-foreground",children:'No test runs yet. Click "Test run" to execute.'})})]})]})})]}),a.jsx(Vae,{open:c,onOpenChange:u,initialValues:C==null?void 0:C.frontmatter,onSubmit:T,isSubmitting:j.isPending}),a.jsx(Hae,{open:d,onOpenChange:f,skillName:C==null?void 0:C.name,onSubmit:V,isSubmitting:N.isPending})]})}const Qae=10,Xw=["voice_wake","talk_mode","remote_exec","browser_proxy","camera_capture"];function QP(e){return{voice_wake:"Wake word detection",talk_mode:"Voice conversation mode",remote_exec:"Remote command execution",browser_proxy:"Browser/CDP proxy",camera_capture:"Camera and screen capture"}[e]??e}const Jn={getNodes:async()=>{const{data:e,error:t}=await F.from("nodes").select("*").order("last_active_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getNode:async e=>{const{data:t,error:r}=await F.from("nodes").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createNode:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("nodes").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNode:async(e,t)=>{const{data:r,error:n}=await F.from("nodes").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteNode:async e=>{const{error:t}=await F.from("nodes").delete().eq("id",e);if(t)throw new Error(t.message)},getNodeCapabilities:async e=>{const{data:t,error:r}=await F.from("node_capabilities").select("*").eq("node_id",e).order("capability_key");if(r)throw new Error(r.message);return t??[]},getNodeCapability:async(e,t)=>{const{data:r,error:n}=await F.from("node_capabilities").select("*").eq("node_id",e).eq("capability_key",t).single();if(n){if(n.code==="PGRST116")return null;throw new Error(n.message)}return r},upsertNodeCapability:async e=>{const{data:t,error:r}=await F.from("node_capabilities").upsert({node_id:e.node_id,capability_key:e.capability_key,status:e.status??"enabled",description:e.description??null,configurations:e.configurations??{}},{onConflict:"node_id,capability_key"}).select().single();if(r)throw new Error(r.message);return t},updateNodeCapability:async(e,t)=>{const{data:r,error:n}=await F.from("node_capabilities").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getNodeApprovals:async e=>{let t=F.from("node_approvals").select("*").order("created_at",{ascending:!1});e!=null&&e.nodeId&&(t=t.eq("node_id",e.nodeId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},createNodeApproval:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,requester_id:t.id},{data:n,error:s}=await F.from("node_approvals").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNodeApproval:async(e,t)=>{const{data:r,error:n}=await F.from("node_approvals").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},startPairing:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const t=Xae(),r=new Date;r.setMinutes(r.getMinutes()+Qae);const n={user_id:e.id,pairing_code:t,expires_at:r.toISOString()},{data:s,error:i}=await F.from("pairing_requests").insert(n).select().single();if(i)throw new Error(i.message);return s},claimPairing:async(e,t)=>{const{data:{user:r}}=await F.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await F.from("pairing_requests").select("*").eq("pairing_code",e.trim()).eq("user_id",r.id).is("node_id",null).gt("expires_at",new Date().toISOString()).single();if(s||!n)throw new Error("Invalid or expired pairing code");const i=await Jn.createNode({name:t??`Node ${e.slice(-6)}`,status:"paired",connection_health:"healthy",capabilities:Xw});await F.from("pairing_requests").update({node_id:i.id}).eq("id",n.id);for(const o of Xw)await Jn.upsertNodeCapability({node_id:i.id,capability_key:o,status:"enabled",description:QP(o)});return i},getDefaultCapabilityKeys:()=>Xw,getCapabilityDescription:QP};function Xae(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function c5(e,t){return e().catch(()=>t)}const Wr={all:["nodes"],list:()=>[...Wr.all,"list"],detail:e=>[...Wr.all,"detail",e],capabilities:e=>[...Wr.all,"capabilities",e],approvals:e=>[...Wr.all,"approvals",e],pairing:()=>[...Wr.all,"pairing"]};function Jae(){return ke({queryKey:Wr.list(),queryFn:()=>c5(()=>Jn.getNodes(),[])})}function Zae(e){return ke({queryKey:Wr.detail(e??""),queryFn:()=>e?Jn.getNode(e):Promise.resolve(null),enabled:!!e})}function eie(){const e=de();return ue({mutationFn:({id:t,data:r})=>Jn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Wr.list()}),e.invalidateQueries({queryKey:Wr.detail(r)}),B.success("Node updated")},onError:t=>{B.error(t.message||"Failed to update node")}})}function tie(){const e=de();return ue({mutationFn:t=>Jn.deleteNode(t),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.list()}),e.invalidateQueries({queryKey:Wr.approvals()}),B.success("Node removed")},onError:t=>{B.error(t.message||"Failed to remove node")}})}function rie(e){return ke({queryKey:Wr.capabilities(e??""),queryFn:()=>e?Jn.getNodeCapabilities(e):Promise.resolve([]),enabled:!!e})}function nie(){const e=de();return ue({mutationFn:t=>Jn.upsertNodeCapability(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Wr.capabilities(r.node_id)}),e.invalidateQueries({queryKey:Wr.detail(r.node_id)}),B.success("Capability updated")},onError:t=>{B.error(t.message||"Failed to update capability")}})}function sie(e){return ke({queryKey:Wr.approvals(e),queryFn:()=>c5(()=>Jn.getNodeApprovals(e),[])})}function aie(){const e=de();return ue({mutationFn:({id:t,data:r})=>Jn.updateNodeApproval(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.approvals()}),B.success("Approval updated")},onError:t=>{B.error(t.message||"Failed to update approval")}})}function iie(){const e=de();return ue({mutationFn:()=>Jn.startPairing(),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.pairing()})},onError:t=>{B.error(t.message||"Failed to start pairing")}})}function oie(){const e=de();return ue({mutationFn:({code:t,nodeName:r})=>Jn.claimPairing(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.list()}),e.invalidateQueries({queryKey:Wr.pairing()}),B.success("Device paired")},onError:t=>{B.error(t.message||"Failed to pair device")}})}function lie(e){const t=new Date(e).getTime(),r=Date.now(),n=Math.max(0,Math.floor((t-r)/1e3)),s=Math.floor(n/60),i=n%60;return`${s}:${i.toString().padStart(2,"0")}`}function cie({open:e,onOpenChange:t,pairingRequest:r,onStartPairing:n,isStartingPairing:s,onPaired:i}){const[o,l]=y.useState(""),[c,u]=y.useState(""),[d,f]=y.useState(!1),h=oie();y.useEffect(()=>{if(!r||!e)return;const x=()=>l(lie(r.expires_at));x();const b=setInterval(x,1e3);return()=>clearInterval(b)},[r,e]);const m=()=>{r&&(navigator.clipboard.writeText(r.pairing_code),f(!0),setTimeout(()=>f(!1),2e3))},g=async()=>{if(c.trim())try{await h.mutateAsync({code:c.trim()}),i==null||i(),t(!1),u("")}catch{}},p=r&&new Date(r.expires_at).getTime()<=Date.now();return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsx(Pe,{className:"max-w-[640px]","aria-describedby":"pairing-description",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Pair device"}),a.jsx(Te,{id:"pairing-description",children:"Scan the QR code or enter the code on your device to pair. Code expires in 10 minutes."})]}),r?a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:J("flex h-40 w-40 flex-col items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted/30",p&&"opacity-60"),children:[a.jsx(uN,{className:"h-16 w-16 text-muted-foreground"}),a.jsx("span",{className:"mt-2 text-xs text-muted-foreground",children:"QR code"}),a.jsx("p",{className:"mt-1 text-center text-xs text-muted-foreground",children:"Scan with your device app"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Bo,{className:"h-4 w-4"}),a.jsx("span",{children:p?"Expired":`Expires in ${o}`})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{className:"text-muted-foreground",children:"One-time code"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("code",{className:"flex-1 rounded border border-border bg-muted/50 px-3 py-2 text-lg font-mono tracking-widest",children:r.pairing_code}),a.jsx(P,{variant:"outline",size:"icon",onClick:m,"aria-label":"Copy code",children:d?a.jsx(Zd,{className:"h-4 w-4 text-success"}):a.jsx(SI,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter this code on your device if you cannot scan the QR code."}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx(H,{htmlFor:"manual-code",className:"text-muted-foreground",children:"Or enter a code from another device"}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx(me,{id:"manual-code",placeholder:"e.g. ABCD1234",value:c,onChange:x=>u(x.target.value.toUpperCase().slice(0,12)),className:"font-mono uppercase tracking-wider"}),a.jsx(P,{onClick:g,disabled:!c.trim()||h.isPending,children:h.isPending?"Pairing":"Pair"})]})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-8",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Start pairing to generate a QR code and one-time code."}),a.jsx(P,{onClick:n,disabled:s,className:"min-w-[160px]",children:s?"Generating":"Start pairing"})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r&&!p&&a.jsx(P,{variant:"outline",onClick:n,disabled:s,children:"New code"})]})]})})})}const uie={pending:{label:"Pending",variant:"secondary",icon:Bo},approved:{label:"Approved",variant:"success",icon:Na},denied:{label:"Denied",variant:"destructive",icon:_x}};function die({open:e,onOpenChange:t,approval:r,node:n,onApprove:s,onDeny:i,isUpdating:o=!1}){var f;if(!r)return null;const{label:l,variant:c,icon:u}=uie[r.status],d=r.status==="pending";return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"approval-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Approval request"}),a.jsx(Te,{id:"approval-description",children:"Review and approve or deny this capability or execution request."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(We,{variant:c,className:"gap-1",children:[a.jsx(u,{className:"h-3 w-3"}),l]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:Sr(new Date(r.created_at),{addSuffix:!0})})]}),a.jsxs("dl",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Action"}),a.jsx("dd",{className:"font-medium capitalize",children:r.action_type.replace(/_/g," ")})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Node"}),a.jsx("dd",{className:"font-medium",children:(n==null?void 0:n.name)??((f=n==null?void 0:n.id)==null?void 0:f.slice(0,8))??""})]}),r.capability_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Capability"}),a.jsxs("dd",{className:"font-medium",children:[r.capability_id.slice(0,8),""]})]})]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Close"}),d&&a.jsxs(a.Fragment,{children:[a.jsx(P,{variant:"outline",className:"text-destructive hover:bg-destructive/10 hover:text-destructive",onClick:()=>i(r.id),disabled:o,children:"Deny"}),a.jsx(P,{onClick:()=>s(r.id),disabled:o,children:o?"Updating":"Approve"})]})]})]})})}const fie=nt({status:sr(["enabled","disabled","pending_approval"]),description:xe().optional()});function hie({open:e,onOpenChange:t,node:r,capability:n,onSubmit:s,isSubmitting:i=!1}){const o=et({resolver:tt(fie),defaultValues:{status:"enabled",description:""},values:n!=null?{status:n.status,description:n.description??""}:void 0});if(!r)return null;const l=n?Jn.getCapabilityDescription(n.capability_key):"";return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"capability-config-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Capability configuration"}),a.jsxs(Te,{id:"capability-config-description",children:["Update status and description for this capability on"," ",a.jsx("span",{className:"font-medium",children:r.name??"node"}),"."]})]}),a.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[n&&a.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 px-3 py-2 text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Capability: "}),a.jsx("span",{className:"font-medium capitalize",children:n.capability_key.replace(/_/g," ")}),l&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:l})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"cap-status",children:"Status"}),a.jsxs(ut,{value:o.watch("status"),onValueChange:c=>o.setValue("status",c),children:[a.jsx(ot,{id:"cap-status",children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"enabled",children:"Enabled"}),a.jsx(Se,{value:"disabled",children:"Disabled"}),a.jsx(Se,{value:"pending_approval",children:"Pending approval"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"cap-description",children:"Description (optional)"}),a.jsx(me,{id:"cap-description",placeholder:"e.g. Remote exec for backup scripts",...o.register("description"),className:J(o.formState.errors.description&&"border-destructive")}),o.formState.errors.description&&a.jsx("p",{className:"text-xs text-destructive",children:o.formState.errors.description.message})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:i,children:i?"Saving":"Save"})]})]})]})})}function mie({open:e,onOpenChange:t,node:r,onConfirm:n,isUnpairing:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"unpair-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Revoke / Unpair device"}),a.jsx(Te,{id:"unpair-description",children:"Unpairing will remove this device from your account. The device will need to be paired again to regain access. This cannot be undone."})]}),r&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Device: ",a.jsx("span",{className:"font-medium text-foreground",children:r.name??`Node ${r.id.slice(0,8)}`})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Unpairing":"Unpair"})]})]})})}function pie(e){const t=e.find(n=>n.capability_key==="remote_exec");if(!(t!=null&&t.configurations)||typeof t.configurations!="object")return[];const r=t.configurations.allowlist;return Array.isArray(r)?r:[]}function gie(e){const t=e.find(r=>r.capability_key==="voice_wake");return t!=null&&t.configurations&&typeof t.configurations=="object"?t.configurations:null}function vie(e){const t=e.find(r=>r.capability_key==="talk_mode");return t!=null&&t.configurations&&typeof t.configurations=="object"?t.configurations:null}function yie({node:e,capabilities:t,className:r}){if(!e)return a.jsxs(X,{className:J("shadow-card transition-shadow hover:shadow-card-hover",r),children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Rn,{className:"h-5 w-5 text-muted-foreground"}),"Node details"]}),a.jsx(ge,{children:"Exec allowlist, voice wake, TTS preferences, and stored tokens."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Rn,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to view details and configuration."})]})})]});const n=pie(t),s=gie(t),i=vie(t);return a.jsxs(X,{className:J("shadow-card transition-shadow hover:shadow-card-hover",r),children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Rn,{className:"h-5 w-5 text-muted-foreground"}),"Node details"]}),a.jsx(ge,{children:"Exec allowlist, voice wake, TTS preferences, and stored tokens."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx($I,{className:"h-4 w-4 text-muted-foreground"}),"Remote exec allowlist"]}),n.length>0?a.jsx(pt,{className:"h-[72px] rounded-md border border-border px-3 py-2",children:a.jsx("ul",{className:"space-y-1 text-xs font-mono text-muted-foreground",children:n.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"h-3 w-3 shrink-0"}),o]},l))})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"No allowlist configured. Edit remote_exec capability to set allowed commands."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(dd,{className:"h-4 w-4 text-muted-foreground"}),"Voice wake"]}),s&&Object.keys(s).length>0?a.jsx("div",{className:"rounded-md border border-border bg-muted/30 px-3 py-2 text-xs text-muted-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:JSON.stringify(s,null,2)})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Default. Configure in Voice & Media or via capability."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(k7,{className:"h-4 w-4 text-muted-foreground"}),"TTS preferences"]}),i&&Object.keys(i).length>0?a.jsx("div",{className:"rounded-md border border-border bg-muted/30 px-3 py-2 text-xs text-muted-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:JSON.stringify(i,null,2)})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Default. Configure in Voice & Media."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(cd,{className:"h-4 w-4 text-muted-foreground"}),"Stored tokens"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"CDP and auth tokens are stored securely. Rotate from Settings or when unpairing."})]})]})]})}const xie={paired:"success",offline:"destructive",error:"warning"},bie={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},wie={voice_wake:dd,talk_mode:dd,remote_exec:$I,browser_proxy:Nx,camera_capture:l7},jie={voice_wake:"Voice",talk_mode:"Talk",remote_exec:"Exec",browser_proxy:"Browser",camera_capture:"Camera"};function _ie(){const[e,t]=y.useState(!1),[r,n]=y.useState(null),[s,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(!1),[h,m]=y.useState(null),[g,p]=y.useState(!1),[x,b]=y.useState(!1),[v,w]=y.useState(null),{data:_=[],isLoading:j}=Jae(),{data:S}=Zae(s),{data:N=[]}=rie(s),{data:k=[]}=sie({limit:20}),C=iie(),E=eie(),D=tie(),O=nie(),q=aie(),A=k.find(L=>L.id===c),V=async()=>{try{const L=await C.mutateAsync();n(L)}catch{}},T=L=>{!s||!h||(O.mutate({node_id:s,capability_key:h.capability_key,status:L.status,description:L.description??null}),f(!1),m(null))},K=L=>{q.mutate({id:L,data:{status:"approved"}}),l(!1),u(null)},M=L=>{q.mutate({id:L,data:{status:"denied"}}),l(!1),u(null)},$=(L,oe)=>{E.mutate({id:L,data:{connection_health:oe}})},I=L=>{w(L),b(!0)},ee=()=>{v&&(D.mutate(v.id),s===v.id&&i(null),w(null))};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(fe,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Rr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Nodes (Paired Devices)"})]}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Nodes (Paired Devices)"}),a.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Manage paired devices, capabilities, and approval policies."})]}),a.jsxs(P,{onClick:()=>{n(null),t(!0)},children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Pair New Device"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Nodes list"}),a.jsx(ge,{children:"Paired devices with capability badges. Select a node to manage capabilities and exec allowlist."})]}),a.jsx(Z,{children:j?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(L=>a.jsx(ie,{className:"h-16 w-full rounded-lg"},L))}):_.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ba,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes. Use Pair New Device to add a device via QR or code."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Pair New Device"]})]}):a.jsx(pt,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:_.map(L=>a.jsxs("div",{className:J("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",s===L.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>i(L.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(ba,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:L.name??`Node ${L.id.slice(0,8)}`}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",L.id.slice(0,8),L.id.length>8?"":""]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last seen:"," ",L.last_active_at?Sr(new Date(L.last_active_at),{addSuffix:!0}):"Never"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 shrink-0",children:[(L.capabilities??[]).slice(0,4).map(oe=>a.jsx(We,{variant:"secondary",className:"text-[10px] font-normal",children:jie[oe]??oe},oe)),a.jsx(We,{variant:xie[L.status],className:"shrink-0",children:L.status}),a.jsx(We,{variant:bie[L.connection_health],className:"shrink-0",children:L.connection_health})]})]}),a.jsxs(Ds,{children:[a.jsx(Ls,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(wa,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{i(L.id),p(!0)},children:[a.jsx(Cx,{className:"mr-2 h-4 w-4"}),"Connection health"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>I(L),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Revoke / Unpair"]})]})]})]},L.id))})})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Pair node"}),a.jsx(ge,{children:"QR on left, code and instructions on right, expiry countdown."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-border p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(uN,{className:"mx-auto h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start pairing to show QR and code."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Start pairing"]})]})})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(yie,{node:S??null,capabilities:N}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Capabilities"}),a.jsx(ge,{children:"Enable or disable capabilities for the selected node."})]}),a.jsx(Z,{children:s?N.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ie,{className:"h-10 w-full"}),a.jsx(ie,{className:"h-10 w-full"}),a.jsx(ie,{className:"h-10 w-full"})]}):a.jsx("div",{className:"space-y-2",children:N.map(L=>{const oe=wie[L.capability_key]??ba;return a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(oe,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:L.capability_key.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Jn.getCapabilityDescription(L.capability_key)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(We,{variant:L.status==="enabled"?"success":L.status==="pending_approval"?"warning":"secondary",children:L.status}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{m(L),f(!0)},"aria-label":"Edit capability",children:a.jsx(Rn,{className:"h-4 w-4"})})]})]},L.id)})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Rn,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to manage capabilities."})]})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Approval history"}),a.jsx(ge,{children:"Exec approvals, denied runs, and pending capability or execution requests."})]}),a.jsx(Z,{children:k.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(op,{className:"mb-3 h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No approvals yet."})]}):a.jsx(pt,{className:"h-[240px] pr-2",children:a.jsx("div",{className:"space-y-2",children:k.map(L=>a.jsxs("button",{type:"button",onClick:()=>{u(L.id),l(!0)},className:"flex w-full items-center justify-between rounded-lg border border-border p-3 text-left transition-colors hover:bg-card",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:L.action_type.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Sr(new Date(L.created_at),{addSuffix:!0})})]}),a.jsx(We,{variant:"secondary",children:L.status})]},L.id))})})})]})]})]}),a.jsx(cie,{open:e,onOpenChange:t,pairingRequest:r,onStartPairing:V,isStartingPairing:C.isPending,onPaired:()=>{n(null),t(!1)}}),a.jsx(die,{open:o,onOpenChange:l,approval:A??null,node:A?_.find(L=>L.id===A.node_id)??null:null,onApprove:K,onDeny:M,isUpdating:q.isPending}),a.jsx(hie,{open:d,onOpenChange:f,node:S??null,capability:h,onSubmit:T,isSubmitting:O.isPending}),a.jsx(r5,{node:S??null,open:g,onOpenChange:p,onUpdateHealth:$,isUpdating:E.isPending}),a.jsx(mie,{open:x,onOpenChange:b,node:v,onConfirm:ee,isUnpairing:D.isPending})]})}function Sie({job:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=e.name||e.description||"Unnamed job",o=()=>{n(e.id),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Pe,{"aria-describedby":"cron-delete-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Delete cron job?"}),a.jsxs(Te,{id:"cron-delete-description",children:['This will permanently delete "',i,'" and its run history. This action cannot be undone.']})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:o,disabled:s,children:s?"Deleting":"Delete job"})]})]})})}const Nie={running:{label:"Running",icon:wr,variant:"secondary"},completed:{label:"Completed",icon:Na,variant:"default"},failed:{label:"Failed",icon:_x,variant:"destructive"},aborted:{label:"Aborted",icon:a7,variant:"outline"}};function kie({jobId:e,runs:t,isLoading:r=!1,className:n}){return e?r?a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsx(ie,{className:"h-6 w-32"}),a.jsx(ie,{className:"h-4 w-48"})]}),a.jsx(Z,{className:"space-y-3",children:[1,2,3].map(s=>a.jsx(ie,{className:"h-20 w-full rounded-lg"},s))})]}):t.length?a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(oh,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(ge,{children:"Past executions with output and logs. Newest first."})]}),a.jsx(Z,{children:a.jsx(pt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-3",children:t.map(s=>{const i=Nie[s.status],o=i.icon;return a.jsxs("li",{className:"rounded-lg border border-border bg-secondary/30 p-4 transition-shadow hover:shadow-card",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(We,{variant:i.variant,className:"gap-1",children:[s.status==="running"?a.jsx(o,{className:"h-3 w-3 animate-spin"}):a.jsx(o,{className:"h-3 w-3"}),i.label]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:Sr(new Date(s.execution_time),{addSuffix:!0})})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.execution_time).toLocaleString()})]}),s.output!=null&&s.output!==""||s.log!=null&&s.log!==""?a.jsxs("div",{className:"mt-3 space-y-2",children:[s.output!=null&&s.output!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Output"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono",children:s.output})]}),s.log!=null&&s.log!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Log"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono whitespace-pre-wrap",children:s.log})]})]}):null]},s.id)})})})})]}):a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(oh,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(ge,{children:"Past executions for this job. Run the job to see entries here."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(oh,{className:"h-10 w-10 text-muted-foreground/50"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No runs yet"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'Use "Run now" on a job to execute it and record history.'})]})})]}):a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(oh,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(ge,{children:"Select a job to view its run history, or run a job to see entries here."})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No job selected. Run a job from the list above to see execution logs and output."})})]})}const Cie=[{to:"/cron",label:"Scheduling",icon:ml},{to:"/webhooks",label:"Webhooks & Hooks",icon:Cv}];function u5(){return a.jsx("nav",{className:"mb-6 flex flex-wrap gap-2 border-b border-border pb-4","aria-label":"Scheduling and Webhooks sections",children:Cie.map(({to:e,label:t,icon:r})=>a.jsxs(W4,{to:e,end:e!=="/webhooks",className:({isActive:n})=>J("inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all","hover:bg-secondary/50 hover:scale-[1.02] active:scale-[0.98]",n?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground"),children:[a.jsx(r,{className:"h-4 w-4","aria-hidden":!0}),t]},e))})}function Eie(){const[e,t]=y.useState(!1),[r,n]=y.useState(!1),[s,i]=y.useState(null),[o,l]=y.useState(null),[c,u]=y.useState(null),[d,f]=y.useState(null),{data:h}=Jx(),m=(h==null?void 0:h.user_id)??"",{data:g=[],isLoading:p}=mF(),{data:x=[],isLoading:b}=_ne(c??d,{limit:20}),v=pF(),w=wne(),_=jne(),j=Sne(),S=()=>{i(null),t(!0)},N=A=>{i(A),t(!0)},k=A=>{s?w.mutate({id:s.id,data:A},{onSuccess:()=>{t(!1),i(null)}}):v.mutate(A,{onSuccess:()=>t(!1)})},C=A=>{l(A),n(!0)},E=A=>{_.mutate(A,{onSuccess:()=>{n(!1),l(null),c===A&&u(null)}})},D=A=>{f(A.id),j.mutate(A.id,{onSuccess:()=>{u(A.id),f(null)},onError:()=>f(null)})},O=A=>A.name||A.description||"Unnamed job",q=A=>A==="active"?"default":A==="paused"?"secondary":"destructive";return a.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[a.jsx(u5,{}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Cron Jobs & Scheduler"}),a.jsxs(P,{onClick:S,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Create job"]})]}),a.jsxs(X,{className:"overflow-hidden rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Cron list"}),a.jsx(ge,{children:"Scheduled jobs with run now, edit, and delete. Select a job to view run history below."})]}),a.jsx(Z,{className:"p-0",children:p?a.jsx("div",{className:"space-y-3 p-6",children:[1,2,3].map(A=>a.jsx(ie,{className:"h-16 w-full rounded-lg"},A))}):g.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[a.jsx("th",{className:"sticky top-0 z-10 bg-secondary/50 px-6 py-4 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Schedule"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Next run"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Session target"}),a.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),a.jsx("tbody",{children:g.map(A=>a.jsxs("tr",{className:J("border-b border-border transition-colors hover:bg-secondary/30",c===A.id&&"bg-primary/5"),children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:O(A)}),A.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(jr,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]})}),a.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:A.schedule}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(We,{variant:q(A.status),children:A.status})}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:A.next_run_time?Sr(new Date(A.next_run_time),{addSuffix:!0}):""}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:A.session_target||""}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>D(A),disabled:j.isPending&&d===A.id,className:"transition-transform hover:scale-[1.02]",children:[j.isPending&&d===A.id?a.jsx(Bo,{className:"h-4 w-4 animate-spin"}):a.jsx(Xa,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 hidden sm:inline",children:j.isPending&&d===A.id?"Running":"Run now"})]}),a.jsxs(Ds,{children:[a.jsx(Ls,{asChild:!0,children:a.jsx(P,{variant:"outline",size:"icon",className:"h-8 w-8",children:a.jsx(wa,{className:"h-4 w-4"})})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>N(A),children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{onClick:()=>{u(A.id)},children:[a.jsx(Bo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>C(A),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},A.id))})]})}),a.jsx("div",{className:"space-y-3 p-4 md:hidden",children:g.map(A=>a.jsx(X,{className:J("rounded-lg border border-border bg-card shadow-card transition-all hover:shadow-card-hover",c===A.id&&"ring-2 ring-primary"),children:a.jsxs(Z,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:O(A)}),A.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(jr,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]}),a.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:A.schedule}),a.jsx(We,{variant:q(A.status),className:"mt-2",children:A.status}),A.next_run_time&&a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Next: ",Sr(new Date(A.next_run_time),{addSuffix:!0})]})]}),a.jsxs(Ds,{children:[a.jsx(Ls,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(wa,{className:"h-4 w-4"})})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>D(A),children:[a.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Run now"]}),a.jsxs(Mt,{onClick:()=>N(A),children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{onClick:()=>u(A.id),children:[a.jsx(Bo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>C(A),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>D(A),disabled:j.isPending&&d===A.id,children:[j.isPending&&d===A.id?a.jsx(Bo,{className:"mr-1 h-4 w-4 animate-spin"}):a.jsx(Xa,{className:"mr-1 h-4 w-4"}),"Run now"]}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>N(A),children:"Edit"})]})]})},A.id))})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center border-t border-border py-16 text-center",children:[a.jsx(ml,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsx("p",{className:"mt-4 text-sm font-medium",children:"No cron jobs yet"}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create a job to run skills on a schedule. Use the cron builder, payload, and session target."}),a.jsxs(P,{onClick:S,className:"mt-4",children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Create job"]})]})})]}),a.jsx(kie,{jobId:c??d,runs:x,isLoading:b}),a.jsx(t5,{open:e,onOpenChange:t,onSubmit:k,isSubmitting:v.isPending||w.isPending,userId:m,job:s}),a.jsx(Sie,{job:o,open:r,onOpenChange:n,onConfirm:E,isDeleting:_.isPending})]})}function Pie(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="wh_";for(let r=0;r<12;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}const Kr={getWebhooks:async()=>{const{data:e,error:t}=await F.from("webhooks").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWebhook:async e=>{const{data:t,error:r}=await F.from("webhooks").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWebhook:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r=Pie(),s=`${typeof window<"u"?`${window.location.origin}/api/webhooks`:"/api/webhooks"}/${encodeURIComponent(e.route_name)}?token=${encodeURIComponent(r)}`,i={user_id:t.id,route_name:e.route_name,token_preview:r,token_hash:null,url:s,mapping_template:e.mapping_template??null,delivery_route:e.delivery_route??null,rate_limit:e.rate_limit??null},{data:o,error:l}=await F.from("webhooks").insert(i).select().single();if(l)throw new Error(l.message);return o},updateWebhook:async(e,t)=>{const{data:r,error:n}=await F.from("webhooks").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWebhook:async e=>{const{error:t}=await F.from("webhooks").delete().eq("id",e);if(t)throw new Error(t.message)},testWebhook:async e=>{const t=await Kr.getWebhook(e);if(!t)throw new Error("Webhook not found");try{const r=await fetch(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_test:!0,timestamp:new Date().toISOString(),source:"control-ui"})});return{ok:r.ok,message:r.ok?"Test request sent":await r.text().catch(()=>r.statusText)}}catch(r){return{ok:!1,message:r instanceof Error?r.message:"Request failed"}}},getHookScripts:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)return[];let r=F.from("hook_scripts").select("*").eq("user_id",t.id).order("event_trigger");e===null?r=r.is("webhook_id",null):e&&(r=r.or(`webhook_id.eq.${e},webhook_id.is.null`));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},getHookScript:async e=>{const{data:t,error:r}=await F.from("hook_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createHookScript:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("hook_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateHookScript:async(e,t)=>{const{data:r,error:n}=await F.from("hook_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteHookScript:async e=>{const{error:t}=await F.from("hook_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getPayloadTemplates:async e=>{if(!e)return[];const{data:t,error:r}=await F.from("payload_templates").select("*").eq("webhook_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getPayloadTemplate:async e=>{const{data:t,error:r}=await F.from("payload_templates").select("*").eq("webhook_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertPayloadTemplate:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r=await Kr.getPayloadTemplate(e.webhook_id);if(r){const{data:o,error:l}=await F.from("payload_templates").update({template_content:e.template_content??r.template_content}).eq("webhook_id",e.webhook_id).select().single();if(l)throw new Error(l.message);return o}const n={user_id:t.id,webhook_id:e.webhook_id,template_content:e.template_content??""},{data:s,error:i}=await F.from("payload_templates").insert(n).select().single();if(i)throw new Error(i.message);return s},updatePayloadTemplate:async(e,t)=>{const{data:r,error:n}=await F.from("payload_templates").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getGmailPubSubSettings:async()=>{const{data:e,error:t}=await F.from("gmail_pubsub_settings").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getGmailPubSubSetting:async e=>{const{data:t,error:r}=await F.from("gmail_pubsub_settings").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createGmailPubSubSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,name:e.name??"default",configuration_details:e.configuration_details??{},is_active:e.is_active??!1,last_tested_at:e.last_tested_at??null,metadata:e.metadata??{}},{data:n,error:s}=await F.from("gmail_pubsub_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},updateGmailPubSubSetting:async(e,t)=>{const{data:r,error:n}=await F.from("gmail_pubsub_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteGmailPubSubSetting:async e=>{const{error:t}=await F.from("gmail_pubsub_settings").delete().eq("id",e);if(t)throw new Error(t.message)},testGmailPubSubSetting:async e=>{const t=await Kr.getGmailPubSubSetting(e);if(!t)throw new Error("Gmail Pub/Sub setting not found");const r=t.configuration_details,n=r==null?void 0:r.push_endpoint;if(!n)return{ok:!1,message:"Push endpoint not configured"};try{const s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:{data:btoa(unescape(encodeURIComponent(JSON.stringify({test:!0}))))}})}),i=s.ok||s.status===200;return await Kr.updateGmailPubSubSetting(e,{last_tested_at:new Date().toISOString()}),{ok:i,message:i?"Test sent":await s.text().catch(()=>s.statusText)}}catch(s){return{ok:!1,message:s instanceof Error?s.message:"Request failed"}}}};function d5(e,t){return e().catch(()=>t)}const dr={all:["webhooks"],list:()=>[...dr.all,"list"],detail:e=>[...dr.all,"detail",e],hookScripts:e=>[...dr.all,"hookScripts",e],payloadTemplate:e=>[...dr.all,"payloadTemplate",e],gmailPubSubSettings:()=>[...dr.all,"gmailPubSubSettings"],gmailPubSubSetting:e=>[...dr.all,"gmailPubSubSetting",e]};function Oie(){return ke({queryKey:dr.list(),queryFn:()=>d5(()=>Kr.getWebhooks(),[])})}function Aie(){const e=de();return ue({mutationFn:t=>Kr.createWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:dr.list()}),B.success("Webhook created")},onError:t=>{B.error(t.message||"Failed to create webhook")}})}function Tie(){const e=de();return ue({mutationFn:t=>Kr.deleteWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:dr.list()}),B.success("Webhook removed")},onError:t=>{B.error(t.message||"Failed to remove webhook")}})}function Rie(){const e=de();return ue({mutationFn:t=>Kr.testWebhook(t),onSuccess:t=>{e.invalidateQueries({queryKey:dr.list()}),t.ok?B.success(t.message??"Test request sent"):B.error(t.message??"Test failed")},onError:t=>{B.error(t.message||"Test failed")}})}function Mie(e){return ke({queryKey:dr.hookScripts(e),queryFn:()=>Kr.getHookScripts(e)})}function $ie(){const e=de();return ue({mutationFn:t=>Kr.createHookScript(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:dr.hookScripts(r.webhook_id??null)}),B.success("Hook script added")},onError:t=>{B.error(t.message||"Failed to add hook script")}})}function Iie(){const e=de();return ue({mutationFn:({id:t,data:r})=>Kr.updateHookScript(t,r),onSuccess:t=>{(t==null?void 0:t.webhook_id)!==void 0&&e.invalidateQueries({queryKey:dr.hookScripts(t.webhook_id)}),e.invalidateQueries({queryKey:dr.hookScripts(null)}),B.success("Hook script updated")},onError:t=>{B.error(t.message||"Failed to update hook script")}})}function Die(){const e=de();return ue({mutationFn:t=>Kr.deleteHookScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:dr.all}),B.success("Hook script removed")},onError:t=>{B.error(t.message||"Failed to remove hook script")}})}function Lie(e){return ke({queryKey:dr.payloadTemplate(e??""),queryFn:()=>e?Kr.getPayloadTemplate(e):Promise.resolve(null),enabled:!!e})}function Fie(){const e=de();return ue({mutationFn:t=>Kr.upsertPayloadTemplate(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:dr.payloadTemplate(r.webhook_id)}),B.success("Payload template saved")},onError:t=>{B.error(t.message||"Failed to save payload template")}})}function Uie(){return ke({queryKey:dr.gmailPubSubSettings(),queryFn:()=>d5(()=>Kr.getGmailPubSubSettings(),[])})}function qie(){const e=de();return ue({mutationFn:t=>Kr.createGmailPubSubSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:dr.gmailPubSubSettings()}),B.success("Gmail Pub/Sub setting created")},onError:t=>{B.error(t.message||"Failed to create Gmail Pub/Sub setting")}})}function Bie(){const e=de();return ue({mutationFn:({id:t,data:r})=>Kr.updateGmailPubSubSetting(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:dr.gmailPubSubSettings()}),e.invalidateQueries({queryKey:dr.gmailPubSubSetting(r)}),B.success("Gmail Pub/Sub setting updated")},onError:t=>{B.error(t.message||"Failed to update Gmail Pub/Sub setting")}})}function zie(){const e=de();return ue({mutationFn:t=>Kr.deleteGmailPubSubSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:dr.gmailPubSubSettings()}),B.success("Gmail Pub/Sub setting removed")},onError:t=>{B.error(t.message||"Failed to remove Gmail Pub/Sub setting")}})}function Wie(){const e=de();return ue({mutationFn:t=>Kr.testGmailPubSubSetting(t),onSuccess:t=>{e.invalidateQueries({queryKey:dr.gmailPubSubSettings()}),t.ok?B.success(t.message??"Test sent"):B.error(t.message??"Test failed")},onError:t=>{B.error(t.message||"Test failed")}})}const Vie=nt({route_name:xe().min(1,"Route name is required").regex(/^[a-z0-9_-]+$/i,"Use only letters, numbers, hyphens, and underscores"),mapping_template:xe().optional(),delivery_route:xe().optional(),rate_limit:Jee([xe().transform(e=>e===""?null:Number(e)),Xee().int().positive().nullable()]).optional().nullable().refine(e=>e==null||typeof e=="number"&&Number.isInteger(e)&&e>0,"Rate limit must be a positive integer")}),Jw={route_name:"",mapping_template:"",delivery_route:"",rate_limit:null};function Kie({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=et({resolver:tt(Vie),defaultValues:Jw}),c=d=>{var f,h;r({route_name:d.route_name.trim(),mapping_template:((f=d.mapping_template)==null?void 0:f.trim())||null,delivery_route:((h=d.delivery_route)==null?void 0:h.trim())||null,rate_limit:d.rate_limit??null}),o(Jw)},u=d=>{d||o(Jw),t(d)};return a.jsx(Me,{open:e,onOpenChange:u,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"create-webhook-form-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Create webhook"}),a.jsx(Te,{id:"create-webhook-form-description",children:"Add an inbound webhook endpoint. A token will be generated; configure delivery routing if needed."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"route_name",children:"Route name"}),a.jsx(me,{id:"route_name",placeholder:"e.g. my-integration",...s("route_name"),className:l.route_name?"border-destructive":"",autoComplete:"off"}),l.route_name&&a.jsx("p",{className:"text-xs text-destructive",children:l.route_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"delivery_route",children:"Delivery route (optional)"}),a.jsx(me,{id:"delivery_route",placeholder:"e.g. session or channel target",...s("delivery_route")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"rate_limit",children:"Rate limit (optional, requests/min)"}),a.jsx(me,{id:"rate_limit",type:"number",min:1,placeholder:"e.g. 60",...s("rate_limit")}),l.rate_limit&&a.jsx("p",{className:"text-xs text-destructive",children:l.rate_limit.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"mapping_template",children:"Mapping template (optional)"}),a.jsx("textarea",{id:"mapping_template",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"JSON or template for payload mapping",...s("mapping_template")})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>u(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Creating":"Create webhook"})]})]})]})})}const Hie=nt({event_trigger:xe().min(1,"Event trigger is required"),language:sr(["javascript","python"]),script_content:xe(),webhook_id:xe().nullable()}),Gie=["/new","/reset","start","end","before_run","after_run"],hg={event_trigger:"/new",language:"javascript",script_content:"",webhook_id:null};function Yie({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,script:s=null,webhooks:i}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=et({resolver:tt(Hie),defaultValues:hg}),h=u("language"),m=u("webhook_id");y.useEffect(()=>{d(s?{event_trigger:s.event_trigger,language:s.language,script_content:s.script_content??"",webhook_id:s.webhook_id??null}:hg)},[s,e,d]);const g=x=>{r(x),s||d(hg),t(!1)},p=x=>{x||d(hg),t(x)};return a.jsx(Me,{open:e,onOpenChange:p,children:a.jsxs(Pe,{className:"max-w-2xl max-h-[90vh] flex flex-col","aria-describedby":"hook-script-editor-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:s?"Edit hook script":"Add hook script"}),a.jsx(Te,{id:"hook-script-editor-description",children:"Sandboxed script (JavaScript or Python) for lifecycle events. Runs in a restricted environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"flex flex-col flex-1 min-h-0 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"event_trigger",children:"Event trigger"}),a.jsxs(ut,{value:u("event_trigger"),onValueChange:x=>c("event_trigger",x),children:[a.jsx(ot,{id:"event_trigger",className:f.event_trigger?"border-destructive":"",children:a.jsx(dt,{placeholder:"Select trigger"})}),a.jsx(lt,{children:Gie.map(x=>a.jsx(Se,{value:x,children:x},x))})]}),f.event_trigger&&a.jsx("p",{className:"text-xs text-destructive",children:f.event_trigger.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"language",children:"Language"}),a.jsxs(ut,{value:h,onValueChange:x=>c("language",x),children:[a.jsx(ot,{id:"language",children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"javascript",children:"JavaScript"}),a.jsx(Se,{value:"python",children:"Python"})]})]})]})]}),i.length>0&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"webhook_id",children:"Webhook (optional)"}),a.jsxs(ut,{value:m??"none",onValueChange:x=>c("webhook_id",x==="none"?null:x),children:[a.jsx(ot,{id:"webhook_id",children:a.jsx(dt,{placeholder:"Global (all webhooks)"})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"none",children:"Global (all webhooks)"}),i.map(x=>a.jsx(Se,{value:x.id,children:x.route_name},x.id))]})]})]}),a.jsxs("div",{className:"grid gap-2 flex-1 min-h-[200px]",children:[a.jsx(H,{htmlFor:"script_content",children:"Script content"}),a.jsx("textarea",{id:"script_content",className:"flex w-full flex-1 min-h-[200px] rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:h==="javascript"?"// e.g. return { ...payload };":"# e.g. return { **payload }",...o("script_content"),spellCheck:!1})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>p(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":s?"Save":"Add script"})]})]})]})})}function Qie({webhooks:e,isLoadingWebhooks:t=!1}){const[r,n]=y.useState(null),[s,i]=y.useState(null),{data:o,isLoading:l}=Lie(r),c=Fie(),u=s!==null?s:(o==null?void 0:o.template_content)??"",d=()=>{r&&c.mutate({webhook_id:r,template_content:u},{onSuccess:()=>i(null)})},f=r&&u!==((o==null?void 0:o.template_content)??"");return a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(u7,{className:"h-5 w-5 text-muted-foreground"}),"Payload transformer"]}),a.jsx(ge,{children:"Edit transformation templates per webhook. Preview and save to apply."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"payload-webhook",children:"Webhook"}),t?a.jsx(ie,{className:"h-10 w-full rounded-md"}):a.jsxs(ut,{value:r??"",onValueChange:h=>{n(h||null),i(null)},children:[a.jsx(ot,{id:"payload-webhook",children:a.jsx(dt,{placeholder:"Select a webhook"})}),a.jsx(lt,{children:e.length===0?a.jsx(Se,{value:"_none",disabled:!0,children:"No webhooks  create one first"}):e.map(h=>a.jsx(Se,{value:h.id,children:h.route_name},h.id))})]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"template_content",children:"Template content"}),l?a.jsx(ie,{className:"h-[200px] w-full rounded-md"}):a.jsx("textarea",{id:"template_content",rows:10,className:J("flex w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),placeholder:"JSON or template (e.g. Handlebars) for payload mapping",value:u,onChange:h=>i(h.target.value),spellCheck:!1})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(P,{onClick:d,disabled:c.isPending||!f&&!o,children:c.isPending?"Saving":a.jsxs(a.Fragment,{children:[a.jsx(dN,{className:"mr-2 h-4 w-4"}),"Save template"]})})})]}),!r&&e.length>0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a webhook above to edit its payload transformation template."}),!r&&e.length===0&&!t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a webhook in the Endpoints tab first, then select it here to add a transformation template."})]})]})}function Xie({webhook:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Pe,{"aria-describedby":"webhook-delete-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Remove webhook?"}),a.jsxs(Te,{id:"webhook-delete-description",children:['This will permanently remove the endpoint "',e.route_name,'". Inbound requests to this URL will no longer be accepted. This action cannot be undone.']})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove webhook"})]})]})})}function Jie({script:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Pe,{"aria-describedby":"hook-script-delete-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Remove hook script?"}),a.jsxs(Te,{id:"hook-script-delete-description",children:['This will permanently remove the lifecycle hook for "',e.event_trigger,'". This action cannot be undone.']})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove script"})]})]})})}const Zie=nt({name:xe().min(1,"Name is required").max(64),push_endpoint:xe().url("Enter a valid push endpoint URL")}),XP=[{id:"connect",title:"Connect",description:"Push endpoint URL"},{id:"configure",title:"Configure",description:"Optional topic and subscription"},{id:"test",title:"Test",description:"Verify delivery"}];function eoe({onComplete:e}){const[t,r]=y.useState(0),[n,s]=y.useState(null),[i,o]=y.useState(null),{data:l=[],isLoading:c}=Uie(),u=qie(),d=Bie(),f=zie(),h=Wie(),{register:m,handleSubmit:g,formState:{errors:p},setValue:x,reset:b}=et({resolver:tt(Zie),defaultValues:{name:"default",push_endpoint:""}}),v=N=>{const k={push_endpoint:N.push_endpoint};n?d.mutate({id:n,data:{name:N.name,configuration_details:k,is_active:!0}},{onSuccess:()=>{r(2),s(null),b({name:"default",push_endpoint:""})}}):u.mutate({name:N.name,configuration_details:k,is_active:!0},{onSuccess:()=>{r(2),b({name:"default",push_endpoint:""}),e==null||e()}})},w=N=>{o(N.id),h.mutate(N.id,{onSettled:()=>o(null)})},_=N=>{s(N.id);const k=N.configuration_details;x("name",N.name),x("push_endpoint",(k==null?void 0:k.push_endpoint)??""),r(0)},j=N=>{f.mutate(N)},S=()=>{r(0),s(null),b({name:"default",push_endpoint:""})};return c?a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{className:"h-10 w-full rounded-lg"}),a.jsx(ie,{className:"h-24 w-full rounded-lg"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:XP.map((N,k)=>a.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>r(k),className:J("flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-colors",t===k?"bg-primary text-primary-foreground":"bg-secondary/50 text-muted-foreground hover:bg-secondary"),children:[a.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-white/20 text-xs",children:k+1}),N.title]}),k<XP.length-1&&a.jsx(Rr,{className:"h-4 w-4 shrink-0 text-muted-foreground"})]},N.id))}),t===0&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg",children:"Step 1: Push endpoint"}),a.jsx(ge,{children:"Enter the URL where Gmail Pub/Sub will send push notifications. Create a webhook first and use its URL, or your own HTTPS endpoint."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:g(v),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"gmail-name",children:"Configuration name"}),a.jsx(me,{id:"gmail-name",placeholder:"e.g. default",...m("name"),className:p.name?"border-destructive":""}),p.name&&a.jsx("p",{className:"text-xs text-destructive",children:p.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"push_endpoint",children:"Push endpoint URL"}),a.jsx(me,{id:"push_endpoint",type:"url",placeholder:"https://your-gateway/api/webhooks/gmail-pubsub",...m("push_endpoint"),className:p.push_endpoint?"border-destructive":""}),p.push_endpoint&&a.jsx("p",{className:"text-xs text-destructive",children:p.push_endpoint.message})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{type:"submit",disabled:u.isPending||d.isPending,children:u.isPending||d.isPending?"Saving":n?"Update & continue":a.jsxs(a.Fragment,{children:["Save & continue",a.jsx(Rr,{className:"ml-1 h-4 w-4"})]})}),n&&a.jsx(P,{type:"button",variant:"outline",onClick:S,children:"Cancel"})]})]})})]}),t===1&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg",children:"Step 2: Configure (optional)"}),a.jsx(ge,{children:"In Google Cloud Console, create a Pub/Sub topic and subscription, and set the push endpoint to the URL you saved. Messages will be routed to your chat when configured."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(P,{onClick:()=>r(2),children:["Continue to test",a.jsx(Rr,{className:"ml-1 h-4 w-4"})]}),a.jsxs(P,{variant:"outline",onClick:()=>r(0),children:[a.jsx(Nv,{className:"mr-1 h-4 w-4"}),"Back"]})]})})]}),t===2&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg",children:"Step 3: Test"}),a.jsx(ge,{children:"Send a test message to your push endpoint to verify the integration."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex gap-2",children:a.jsxs(P,{onClick:S,variant:"outline",children:[a.jsx(Nv,{className:"mr-1 h-4 w-4"}),"Add another"]})})})]}),l.length>0&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(ud,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub configurations"]}),a.jsx(ge,{children:"Manage push handler endpoints and test delivery."})]}),a.jsx(Z,{children:a.jsx("ul",{className:"space-y-3",children:l.map(N=>{const k=N.configuration_details;return a.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-secondary/30",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.name}),a.jsx("p",{className:"truncate font-mono text-xs text-muted-foreground",children:(k==null?void 0:k.push_endpoint)??"No endpoint"}),a.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:[N.is_active&&a.jsxs("span",{className:"inline-flex items-center gap-1 text-success",children:[a.jsx(Zd,{className:"h-3 w-3"}),"Active"]}),N.last_tested_at&&a.jsxs("span",{children:["Tested ",Sr(new Date(N.last_tested_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>w(N),disabled:h.isPending&&i===N.id,className:"transition-transform hover:scale-[1.02]",children:h.isPending&&i===N.id?a.jsx("span",{className:"animate-pulse",children:"Testing"}):a.jsxs(a.Fragment,{children:[a.jsx(Xa,{className:"mr-1 h-4 w-4"}),"Test"]})}),a.jsxs(Ds,{children:[a.jsx(Ls,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(wa,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ps,{align:"end",children:[a.jsx(Mt,{onClick:()=>_(N),children:"Edit"}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>j(N.id),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})]},N.id)})})})]}),l.length===0&&t!==0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No Gmail Pub/Sub configurations yet. Complete Step 1 to add one."})]})}function toe(){const[e,t]=y.useState(!1),[r,n]=y.useState(!1),[s,i]=y.useState(null),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,f]=y.useState(null),[h,m]=y.useState(!1),[g,p]=y.useState(null),[x,b]=y.useState(null),{data:v=[],isLoading:w}=Oie(),{data:_=[],isLoading:j}=Mie(null),S=Aie(),N=Tie(),k=Rie(),C=$ie(),E=Iie(),D=Die(),O=async L=>{await S.mutateAsync({...L,rate_limit:L.rate_limit??null}),t(!1)},q=L=>{f(L),u(!0)},A=L=>{N.mutate(L,{onSuccess:()=>{u(!1),f(null)}})},V=L=>{b(L.id),k.mutate(L.id,{onSettled:()=>b(null)})},T=L=>{p(L),m(!0)},K=L=>{D.mutate(L,{onSuccess:()=>{m(!1),p(null)}})},M=L=>{navigator.clipboard.writeText(L),l(L),B.success("URL copied"),setTimeout(()=>l(null),2e3)},$=L=>{s?E.mutate({id:s.id,data:{event_trigger:L.event_trigger,language:L.language,script_content:L.script_content,webhook_id:L.webhook_id}},{onSuccess:()=>{i(null),n(!1)}}):C.mutate({event_trigger:L.event_trigger,language:L.language,script_content:L.script_content,webhook_id:L.webhook_id},{onSuccess:()=>n(!1)})},I=L=>{i(L),n(!0)},ee=()=>{i(null),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(u5,{}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Webhooks & Hooks"}),a.jsxs(P,{onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}),a.jsxs(ci,{defaultValue:"endpoints",className:"space-y-4",children:[a.jsxs(Oa,{className:"grid w-full max-w-2xl grid-cols-4",children:[a.jsx(St,{value:"endpoints",children:"Endpoints"}),a.jsx(St,{value:"hooks",children:"Hook scripts"}),a.jsx(St,{value:"transform",children:"Payload transformer"}),a.jsx(St,{value:"gmail",children:"Gmail Pub/Sub"})]}),a.jsx(Nt,{value:"endpoints",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Cv,{className:"h-5 w-5 text-muted-foreground"}),"Webhook endpoints"]}),a.jsx(ge,{children:"List (token), create webhook modal. URL, token preview, last received, mapping."})]}),a.jsx(Z,{children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(L=>a.jsx(ie,{className:"h-20 w-full rounded-lg"},L))}):v.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Cv,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No webhooks. Create one to receive inbound events."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}):a.jsx(pt,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-3",children:v.map(L=>a.jsx("div",{className:"flex flex-col gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-card/80",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:L.route_name}),a.jsx("p",{className:"mt-1 truncate font-mono text-xs text-muted-foreground",children:L.url}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"font-mono",children:["Token: ",L.token_preview]}),L.rate_limit!=null&&a.jsxs("span",{children:["Rate limit: ",L.rate_limit,"/min"]}),L.last_received_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ml,{className:"h-3 w-3"}),"Last received"," ",Sr(new Date(L.last_received_at),{addSuffix:!0})]})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:L.mapping_template&&a.jsx(We,{variant:"secondary",children:"Mapping"})})]}),a.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>V(L),disabled:k.isPending&&x===L.id,className:"transition-transform hover:scale-[1.02]","aria-label":"Test webhook",children:k.isPending&&x===L.id?a.jsx("span",{className:"animate-pulse",children:"Testing"}):"Test"}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>M(L.url),"aria-label":"Copy URL",children:o===L.url?a.jsx(Zd,{className:"h-4 w-4 text-success"}):a.jsx(SI,{className:"h-4 w-4"})}),a.jsxs(Ds,{children:[a.jsx(Ls,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(wa,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsx(ps,{align:"end",children:a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>q(L),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Remove"]})})]})]})]})},L.id))})})})]})}),a.jsx(Nt,{value:"hooks",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(_E,{className:"h-5 w-5 text-muted-foreground"}),"Hook scripts editor"]}),a.jsx(ge,{children:"Sandbox environment for lifecycle hooks (restricted JS/Python). Event triggers: /new, /reset, start, end."})]}),a.jsxs(Z,{children:[a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsxs(P,{onClick:ee,children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add hook script"]})}),j?a.jsx("div",{className:"space-y-3",children:[1,2].map(L=>a.jsx(ie,{className:"h-16 w-full rounded-lg"},L))}):_.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(_E,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No hook scripts. Add one for lifecycle events (/new, /reset, start, end)."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:ee,children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add hook script"]})]}):a.jsx(pt,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"space-y-2",children:_.map(L=>{var oe;return a.jsxs("div",{className:J("flex items-center justify-between gap-2 rounded-lg border border-border p-3 transition-colors hover:bg-card/80"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:L.event_trigger}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[L.language,L.webhook_id?`  Webhook: ${((oe=v.find(ye=>ye.id===L.webhook_id))==null?void 0:oe.route_name)??L.webhook_id}`:"  Global"]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(P,{variant:"ghost",size:"sm",onClick:()=>I(L),children:"Edit"}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>T(L),"aria-label":"Remove script",children:a.jsx(tn,{className:"h-4 w-4"})})]})]},L.id)})})})]})]})}),a.jsx(Nt,{value:"transform",className:"space-y-4",children:a.jsx(Qie,{webhooks:v,isLoadingWebhooks:w})}),a.jsx(Nt,{value:"gmail",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(ud,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub guided setup"]}),a.jsx(ge,{children:"Guided flow for Gmail Pub/Sub integration. Connect your Gmail account and configure webhook delivery."})]}),a.jsx(Z,{children:a.jsx(eoe,{})})]})})]}),a.jsx(Kie,{open:e,onOpenChange:t,onSubmit:O,isSubmitting:S.isPending}),a.jsx(Yie,{open:r,onOpenChange:L=>{n(L),L||i(null)},onSubmit:$,isSubmitting:C.isPending||E.isPending,script:s,webhooks:v}),a.jsx(Xie,{webhook:d,open:c,onOpenChange:u,onConfirm:A,isDeleting:N.isPending}),a.jsx(Jie,{script:g,open:h,onOpenChange:m,onConfirm:K,isDeleting:D.isPending})]})}var roe=Array.isArray,es=roe,noe=typeof Op=="object"&&Op&&Op.Object===Object&&Op,f5=noe,soe=f5,aoe=typeof self=="object"&&self&&self.Object===Object&&self,ioe=soe||aoe||Function("return this")(),ui=ioe,ooe=ui,loe=ooe.Symbol,xp=loe,JP=xp,h5=Object.prototype,coe=h5.hasOwnProperty,uoe=h5.toString,qf=JP?JP.toStringTag:void 0;function doe(e){var t=coe.call(e,qf),r=e[qf];try{e[qf]=void 0;var n=!0}catch{}var s=uoe.call(e);return n&&(t?e[qf]=r:delete e[qf]),s}var foe=doe,hoe=Object.prototype,moe=hoe.toString;function poe(e){return moe.call(e)}var goe=poe,ZP=xp,voe=foe,yoe=goe,xoe="[object Null]",boe="[object Undefined]",eO=ZP?ZP.toStringTag:void 0;function woe(e){return e==null?e===void 0?boe:xoe:eO&&eO in Object(e)?voe(e):yoe(e)}var no=woe;function joe(e){return e!=null&&typeof e=="object"}var so=joe,_oe=no,Soe=so,Noe="[object Symbol]";function koe(e){return typeof e=="symbol"||Soe(e)&&_oe(e)==Noe}var cf=koe,Coe=es,Eoe=cf,Poe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ooe=/^\w*$/;function Aoe(e,t){if(Coe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Eoe(e)?!0:Ooe.test(e)||!Poe.test(e)||t!=null&&e in Object(t)}var nk=Aoe;function Toe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var vl=Toe;const uf=zt(vl);var Roe=no,Moe=vl,$oe="[object AsyncFunction]",Ioe="[object Function]",Doe="[object GeneratorFunction]",Loe="[object Proxy]";function Foe(e){if(!Moe(e))return!1;var t=Roe(e);return t==Ioe||t==Doe||t==$oe||t==Loe}var sk=Foe;const it=zt(sk);var Uoe=ui,qoe=Uoe["__core-js_shared__"],Boe=qoe,Zw=Boe,tO=function(){var e=/[^.]+$/.exec(Zw&&Zw.keys&&Zw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function zoe(e){return!!tO&&tO in e}var Woe=zoe,Voe=Function.prototype,Koe=Voe.toString;function Hoe(e){if(e!=null){try{return Koe.call(e)}catch{}try{return e+""}catch{}}return""}var m5=Hoe,Goe=sk,Yoe=Woe,Qoe=vl,Xoe=m5,Joe=/[\\^$.*+?()[\]{}|]/g,Zoe=/^\[object .+?Constructor\]$/,ele=Function.prototype,tle=Object.prototype,rle=ele.toString,nle=tle.hasOwnProperty,sle=RegExp("^"+rle.call(nle).replace(Joe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ale(e){if(!Qoe(e)||Yoe(e))return!1;var t=Goe(e)?sle:Zoe;return t.test(Xoe(e))}var ile=ale;function ole(e,t){return e==null?void 0:e[t]}var lle=ole,cle=ile,ule=lle;function dle(e,t){var r=ule(e,t);return cle(r)?r:void 0}var Mc=dle,fle=Mc,hle=fle(Object,"create"),rb=hle,rO=rb;function mle(){this.__data__=rO?rO(null):{},this.size=0}var ple=mle;function gle(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var vle=gle,yle=rb,xle="__lodash_hash_undefined__",ble=Object.prototype,wle=ble.hasOwnProperty;function jle(e){var t=this.__data__;if(yle){var r=t[e];return r===xle?void 0:r}return wle.call(t,e)?t[e]:void 0}var _le=jle,Sle=rb,Nle=Object.prototype,kle=Nle.hasOwnProperty;function Cle(e){var t=this.__data__;return Sle?t[e]!==void 0:kle.call(t,e)}var Ele=Cle,Ple=rb,Ole="__lodash_hash_undefined__";function Ale(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ple&&t===void 0?Ole:t,this}var Tle=Ale,Rle=ple,Mle=vle,$le=_le,Ile=Ele,Dle=Tle;function df(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}df.prototype.clear=Rle;df.prototype.delete=Mle;df.prototype.get=$le;df.prototype.has=Ile;df.prototype.set=Dle;var Lle=df;function Fle(){this.__data__=[],this.size=0}var Ule=Fle;function qle(e,t){return e===t||e!==e&&t!==t}var ak=qle,Ble=ak;function zle(e,t){for(var r=e.length;r--;)if(Ble(e[r][0],t))return r;return-1}var nb=zle,Wle=nb,Vle=Array.prototype,Kle=Vle.splice;function Hle(e){var t=this.__data__,r=Wle(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Kle.call(t,r,1),--this.size,!0}var Gle=Hle,Yle=nb;function Qle(e){var t=this.__data__,r=Yle(t,e);return r<0?void 0:t[r][1]}var Xle=Qle,Jle=nb;function Zle(e){return Jle(this.__data__,e)>-1}var ece=Zle,tce=nb;function rce(e,t){var r=this.__data__,n=tce(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var nce=rce,sce=Ule,ace=Gle,ice=Xle,oce=ece,lce=nce;function ff(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ff.prototype.clear=sce;ff.prototype.delete=ace;ff.prototype.get=ice;ff.prototype.has=oce;ff.prototype.set=lce;var sb=ff,cce=Mc,uce=ui,dce=cce(uce,"Map"),ik=dce,nO=Lle,fce=sb,hce=ik;function mce(){this.size=0,this.__data__={hash:new nO,map:new(hce||fce),string:new nO}}var pce=mce;function gce(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var vce=gce,yce=vce;function xce(e,t){var r=e.__data__;return yce(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ab=xce,bce=ab;function wce(e){var t=bce(this,e).delete(e);return this.size-=t?1:0,t}var jce=wce,_ce=ab;function Sce(e){return _ce(this,e).get(e)}var Nce=Sce,kce=ab;function Cce(e){return kce(this,e).has(e)}var Ece=Cce,Pce=ab;function Oce(e,t){var r=Pce(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Ace=Oce,Tce=pce,Rce=jce,Mce=Nce,$ce=Ece,Ice=Ace;function hf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}hf.prototype.clear=Tce;hf.prototype.delete=Rce;hf.prototype.get=Mce;hf.prototype.has=$ce;hf.prototype.set=Ice;var ok=hf,p5=ok,Dce="Expected a function";function lk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Dce);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(lk.Cache||p5),r}lk.Cache=p5;var g5=lk;const Lce=zt(g5);var Fce=g5,Uce=500;function qce(e){var t=Fce(e,function(n){return r.size===Uce&&r.clear(),n}),r=t.cache;return t}var Bce=qce,zce=Bce,Wce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vce=/\\(\\)?/g,Kce=zce(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Wce,function(r,n,s,i){t.push(s?i.replace(Vce,"$1"):n||r)}),t}),Hce=Kce;function Gce(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var ck=Gce,sO=xp,Yce=ck,Qce=es,Xce=cf,aO=sO?sO.prototype:void 0,iO=aO?aO.toString:void 0;function v5(e){if(typeof e=="string")return e;if(Qce(e))return Yce(e,v5)+"";if(Xce(e))return iO?iO.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Jce=v5,Zce=Jce;function eue(e){return e==null?"":Zce(e)}var y5=eue,tue=es,rue=nk,nue=Hce,sue=y5;function aue(e,t){return tue(e)?e:rue(e,t)?[e]:nue(sue(e))}var x5=aue,iue=cf;function oue(e){if(typeof e=="string"||iue(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ib=oue,lue=x5,cue=ib;function uue(e,t){t=lue(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[cue(t[r++])];return r&&r==n?e:void 0}var uk=uue,due=uk;function fue(e,t,r){var n=e==null?void 0:due(e,t);return n===void 0?r:n}var b5=fue;const Fs=zt(b5);function hue(e){return e==null}var mue=hue;const yt=zt(mue);var pue=no,gue=es,vue=so,yue="[object String]";function xue(e){return typeof e=="string"||!gue(e)&&vue(e)&&pue(e)==yue}var bue=xue;const jc=zt(bue);var w5={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk=Symbol.for("react.element"),fk=Symbol.for("react.portal"),ob=Symbol.for("react.fragment"),lb=Symbol.for("react.strict_mode"),cb=Symbol.for("react.profiler"),ub=Symbol.for("react.provider"),db=Symbol.for("react.context"),wue=Symbol.for("react.server_context"),fb=Symbol.for("react.forward_ref"),hb=Symbol.for("react.suspense"),mb=Symbol.for("react.suspense_list"),pb=Symbol.for("react.memo"),gb=Symbol.for("react.lazy"),jue=Symbol.for("react.offscreen"),j5;j5=Symbol.for("react.module.reference");function Ks(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dk:switch(e=e.type,e){case ob:case cb:case lb:case hb:case mb:return e;default:switch(e=e&&e.$$typeof,e){case wue:case db:case fb:case gb:case pb:case ub:return e;default:return t}}case fk:return t}}}Ft.ContextConsumer=db;Ft.ContextProvider=ub;Ft.Element=dk;Ft.ForwardRef=fb;Ft.Fragment=ob;Ft.Lazy=gb;Ft.Memo=pb;Ft.Portal=fk;Ft.Profiler=cb;Ft.StrictMode=lb;Ft.Suspense=hb;Ft.SuspenseList=mb;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(e){return Ks(e)===db};Ft.isContextProvider=function(e){return Ks(e)===ub};Ft.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dk};Ft.isForwardRef=function(e){return Ks(e)===fb};Ft.isFragment=function(e){return Ks(e)===ob};Ft.isLazy=function(e){return Ks(e)===gb};Ft.isMemo=function(e){return Ks(e)===pb};Ft.isPortal=function(e){return Ks(e)===fk};Ft.isProfiler=function(e){return Ks(e)===cb};Ft.isStrictMode=function(e){return Ks(e)===lb};Ft.isSuspense=function(e){return Ks(e)===hb};Ft.isSuspenseList=function(e){return Ks(e)===mb};Ft.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ob||e===cb||e===lb||e===hb||e===mb||e===jue||typeof e=="object"&&e!==null&&(e.$$typeof===gb||e.$$typeof===pb||e.$$typeof===ub||e.$$typeof===db||e.$$typeof===fb||e.$$typeof===j5||e.getModuleId!==void 0)};Ft.typeOf=Ks;w5.exports=Ft;var _ue=w5.exports,Sue=no,Nue=so,kue="[object Number]";function Cue(e){return typeof e=="number"||Nue(e)&&Sue(e)==kue}var _5=Cue;const Eue=zt(_5);var Pue=_5;function Oue(e){return Pue(e)&&e!=+e}var Aue=Oue;const mf=zt(Aue);var ga=function(t){return t===0?0:t>0?1:-1},Bl=function(t){return jc(t)&&t.indexOf("%")===t.length-1},je=function(t){return Eue(t)&&!mf(t)},Tue=function(t){return yt(t)},Hr=function(t){return je(t)||jc(t)},Rue=0,bp=function(t){var r=++Rue;return"".concat(t||"").concat(r)},_c=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&!jc(t))return n;var i;if(Bl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return mf(i)&&(i=n),s&&i>r&&(i=r),i},Po=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Mue=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Os=function(t,r){return je(t)&&je(r)?function(n){return t+n*(r-t)}:function(){return r}};function Yv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Fs(n,t))===r})}var $ue=function(t,r){return je(t)&&je(r)?t-r:jc(t)&&jc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Du(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function P_(e){"@babel/helpers - typeof";return P_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P_(e)}var Iue=["viewBox","children"],Due=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],oO=["points","pathLength"],e0={svg:Iue,polygon:oO,polyline:oO},hk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!uf(n))return null;var s={};return Object.keys(n).forEach(function(i){hk.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},Lue=function(t,r,n){return function(s){return t(r,n,s),null}},Xv=function(t,r,n){if(!uf(t)||P_(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];hk.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Lue(o,r,n))}),s},Fue=["children"],Uue=["children"];function lO(e,t){if(e==null)return{};var r=que(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function que(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O_(e){"@babel/helpers - typeof";return O_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O_(e)}var cO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Mi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},uO=null,t0=null,mk=function e(t){if(t===uO&&Array.isArray(t0))return t0;var r=[];return y.Children.forEach(t,function(n){yt(n)||(_ue.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),t0=r,uO=t,r};function _a(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Mi(s)}):n=[Mi(t)],mk(e).forEach(function(s){var i=Fs(s,"type.displayName")||Fs(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function is(e,t){var r=_a(e,t);return r&&r[0]}var dO=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!je(n)||n<=0||!je(s)||s<=0)},Bue=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zue=function(t){return t&&t.type&&jc(t.type)&&Bue.indexOf(t.type)>=0},Wue=function(t){return t&&O_(t)==="object"&&"clipDot"in t},Vue=function(t,r,n,s){var i,o=(i=e0==null?void 0:e0[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!it(t)&&(s&&o.includes(r)||Due.includes(r))||n&&hk.includes(r)},mt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(y.isValidElement(t)&&(s=t.props),!uf(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;Vue((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},A_=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return fO(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!fO(i,o))return!1}return!0},fO=function(t,r){if(yt(t)&&yt(r))return!0;if(!yt(t)&&!yt(r)){var n=t.props||{},s=n.children,i=lO(n,Fue),o=r.props||{},l=o.children,c=lO(o,Uue);return s&&l?Du(i,c)&&A_(s,l):!s&&!l?Du(i,c):!1}return!1},hO=function(t,r){var n=[],s={};return mk(t).forEach(function(i,o){if(zue(i))n.push(i);else if(i){var l=Mi(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},Kue=function(t){var r=t&&t.type;return r&&cO[r]?cO[r]:null},Hue=function(t,r){return mk(r).indexOf(t)},Gue=["children","width","height","viewBox","className","style","title","desc"];function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(this,arguments)}function Yue(e,t){if(e==null)return{};var r=Que(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Que(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R_(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Yue(e,Gue),d=s||{width:r,height:n,x:0,y:0},f=jt("recharts-surface",i);return R.createElement("svg",T_({},mt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),R.createElement("title",null,l),R.createElement("desc",null,c),t)}var Xue=["children","className"];function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M_.apply(this,arguments)}function Jue(e,t){if(e==null)return{};var r=Zue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fr=R.forwardRef(function(e,t){var r=e.children,n=e.className,s=Jue(e,Xue),i=jt("recharts-layer",n);return R.createElement("g",M_({className:i},mt(s,!0),{ref:t}),r)}),$i=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function ede(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var tde=ede,rde=tde;function nde(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:rde(e,t,r)}var sde=nde,ade="\\ud800-\\udfff",ide="\\u0300-\\u036f",ode="\\ufe20-\\ufe2f",lde="\\u20d0-\\u20ff",cde=ide+ode+lde,ude="\\ufe0e\\ufe0f",dde="\\u200d",fde=RegExp("["+dde+ade+cde+ude+"]");function hde(e){return fde.test(e)}var S5=hde;function mde(e){return e.split("")}var pde=mde,N5="\\ud800-\\udfff",gde="\\u0300-\\u036f",vde="\\ufe20-\\ufe2f",yde="\\u20d0-\\u20ff",xde=gde+vde+yde,bde="\\ufe0e\\ufe0f",wde="["+N5+"]",$_="["+xde+"]",I_="\\ud83c[\\udffb-\\udfff]",jde="(?:"+$_+"|"+I_+")",k5="[^"+N5+"]",C5="(?:\\ud83c[\\udde6-\\uddff]){2}",E5="[\\ud800-\\udbff][\\udc00-\\udfff]",_de="\\u200d",P5=jde+"?",O5="["+bde+"]?",Sde="(?:"+_de+"(?:"+[k5,C5,E5].join("|")+")"+O5+P5+")*",Nde=O5+P5+Sde,kde="(?:"+[k5+$_+"?",$_,C5,E5,wde].join("|")+")",Cde=RegExp(I_+"(?="+I_+")|"+kde+Nde,"g");function Ede(e){return e.match(Cde)||[]}var Pde=Ede,Ode=pde,Ade=S5,Tde=Pde;function Rde(e){return Ade(e)?Tde(e):Ode(e)}var Mde=Rde,$de=sde,Ide=S5,Dde=Mde,Lde=y5;function Fde(e){return function(t){t=Lde(t);var r=Ide(t)?Dde(t):void 0,n=r?r[0]:t.charAt(0),s=r?$de(r,1).join(""):t.slice(1);return n[e]()+s}}var Ude=Fde,qde=Ude,Bde=qde("toUpperCase"),zde=Bde;const vb=zt(zde);function Yt(e){return function(){return e}}const A5=Math.cos,Jv=Math.sin,Ta=Math.sqrt,Zv=Math.PI,yb=2*Zv,D_=Math.PI,L_=2*D_,Ol=1e-6,Wde=L_-Ol;function T5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Vde(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return T5;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Kde{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?T5:Vde(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ol)if(!(Math.abs(f*c-u*d)>Ol)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=s-l,p=c*c+u*u,x=m*m+g*g,b=Math.sqrt(p),v=Math.sqrt(h),w=i*Math.tan((D_-Math.acos((p+h-x)/(2*b*v)))/2),_=w/v,j=w/b;Math.abs(_-1)>Ol&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ol||Math.abs(this._y1-d)>Ol)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%L_+L_),h>Wde?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ol&&this._append`A${n},${n},0,${+(h>=D_)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function pk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Kde(t)}function gk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function R5(e){this._context=e}R5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xb(e){return new R5(e)}function M5(e){return e[0]}function $5(e){return e[1]}function I5(e,t){var r=Yt(!0),n=null,s=xb,i=null,o=pk(l);e=typeof e=="function"?e:e===void 0?M5:Yt(e),t=typeof t=="function"?t:t===void 0?$5:Yt(t);function l(c){var u,d=(c=gk(c)).length,f,h=!1,m;for(n==null&&(i=s(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Yt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Yt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Yt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function mg(e,t,r){var n=null,s=Yt(!0),i=null,o=xb,l=null,c=pk(u);e=typeof e=="function"?e:e===void 0?M5:Yt(+e),t=typeof t=="function"?t:Yt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?$5:Yt(+r);function u(f){var h,m,g,p=(f=gk(f)).length,x,b=!1,v,w=new Array(p),_=new Array(p);for(i==null&&(l=o(v=c())),h=0;h<=p;++h){if(!(h<p&&s(x=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(x,h,f),_[h]=+t(x,h,f),l.point(n?+n(x,h,f):w[h],r?+r(x,h,f):_[h]))}if(v)return l=null,v+""||null}function d(){return I5().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Yt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Yt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class D5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Hde(e){return new D5(e,!0)}function Gde(e){return new D5(e,!1)}const vk={draw(e,t){const r=Ta(t/Zv);e.moveTo(r,0),e.arc(0,0,r,0,yb)}},Yde={draw(e,t){const r=Ta(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},L5=Ta(1/3),Qde=L5*2,Xde={draw(e,t){const r=Ta(t/Qde),n=r*L5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Jde={draw(e,t){const r=Ta(t),n=-r/2;e.rect(n,n,r,r)}},Zde=.8908130915292852,F5=Jv(Zv/10)/Jv(7*Zv/10),efe=Jv(yb/10)*F5,tfe=-A5(yb/10)*F5,rfe={draw(e,t){const r=Ta(t*Zde),n=efe*r,s=tfe*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=yb*i/5,l=A5(o),c=Jv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},r0=Ta(3),nfe={draw(e,t){const r=-Ta(t/(r0*3));e.moveTo(0,r*2),e.lineTo(-r0*r,-r),e.lineTo(r0*r,-r),e.closePath()}},js=-.5,_s=Ta(3)/2,F_=1/Ta(12),sfe=(F_/2+1)*3,afe={draw(e,t){const r=Ta(t/sfe),n=r/2,s=r*F_,i=n,o=r*F_+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(js*n-_s*s,_s*n+js*s),e.lineTo(js*i-_s*o,_s*i+js*o),e.lineTo(js*l-_s*c,_s*l+js*c),e.lineTo(js*n+_s*s,js*s-_s*n),e.lineTo(js*i+_s*o,js*o-_s*i),e.lineTo(js*l+_s*c,js*c-_s*l),e.closePath()}};function ife(e,t){let r=null,n=pk(s);e=typeof e=="function"?e:Yt(e||vk),t=typeof t=="function"?t:Yt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Yt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function ey(){}function ty(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function U5(e){this._context=e}U5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ty(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ty(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ofe(e){return new U5(e)}function q5(e){this._context=e}q5.prototype={areaStart:ey,areaEnd:ey,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ty(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lfe(e){return new q5(e)}function B5(e){this._context=e}B5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ty(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cfe(e){return new B5(e)}function z5(e){this._context=e}z5.prototype={areaStart:ey,areaEnd:ey,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ufe(e){return new z5(e)}function mO(e){return e<0?-1:1}function pO(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(mO(i)+mO(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function gO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function n0(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function ry(e){this._context=e}ry.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:n0(this,this._t0,gO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,n0(this,gO(this,r=pO(this,e,t)),r);break;default:n0(this,this._t0,r=pO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function W5(e){this._context=new V5(e)}(W5.prototype=Object.create(ry.prototype)).point=function(e,t){ry.prototype.point.call(this,t,e)};function V5(e){this._context=e}V5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function dfe(e){return new ry(e)}function ffe(e){return new W5(e)}function K5(e){this._context=e}K5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=vO(e),s=vO(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function vO(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function hfe(e){return new K5(e)}function bb(e,t){this._context=e,this._t=t}bb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function mfe(e){return new bb(e,.5)}function pfe(e){return new bb(e,0)}function gfe(e){return new bb(e,1)}function jd(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function U_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function vfe(e,t){return e[t]}function yfe(e){const t=[];return t.key=e,t}function xfe(){var e=Yt([]),t=U_,r=jd,n=vfe;function s(i){var o=Array.from(e.apply(this,arguments),yfe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=gk(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Yt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?U_:typeof i=="function"?i:Yt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??jd,s):r},s}function bfe(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}jd(e,t)}}function wfe(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}jd(e,t)}}function jfe(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],x=p[n][1]||0,b=p[n-1][1]||0;m+=x-b}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,jd(e,t)}}function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}var _fe=["type","size","sizeType"];function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q_.apply(this,arguments)}function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){Sfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sfe(e,t,r){return t=Nfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nfe(e){var t=kfe(e,"string");return um(t)=="symbol"?t:t+""}function kfe(e,t){if(um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cfe(e,t){if(e==null)return{};var r=Efe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Efe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var H5={symbolCircle:vk,symbolCross:Yde,symbolDiamond:Xde,symbolSquare:Jde,symbolStar:rfe,symbolTriangle:nfe,symbolWye:afe},Pfe=Math.PI/180,Ofe=function(t){var r="symbol".concat(vb(t));return H5[r]||vk},Afe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Pfe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Tfe=function(t,r){H5["symbol".concat(vb(t))]=r},yk=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=Cfe(t,_fe),u=xO(xO({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=Ofe(n),b=ife().type(x).size(Afe(i,l,n));return b()},f=u.className,h=u.cx,m=u.cy,g=mt(u,!0);return h===+h&&m===+m&&i===+i?R.createElement("path",q_({},g,{className:jt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};yk.registerSymbol=Tfe;function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function B_(){return B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B_.apply(this,arguments)}function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(n){dm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y5(n.key),n)}}function Ife(e,t,r){return t&&$fe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dfe(e,t,r){return t=ny(t),Lfe(e,G5()?Reflect.construct(t,r||[],ny(e).constructor):t.apply(e,r))}function Lfe(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ffe(e)}function Ffe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G5=function(){return!!e})()}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ny(e)}function Ufe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z_(e,t)}function z_(e,t){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},z_(e,t)}function dm(e,t,r){return t=Y5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y5(e){var t=qfe(e,"string");return _d(t)=="symbol"?t:t+""}function qfe(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ss=32,xk=function(e){function t(){return Mfe(this,t),Dfe(this,t,arguments)}return Ufe(t,e),Ife(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Ss/2,o=Ss/6,l=Ss/3,c=n.inactive?s:n.color;if(n.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ss,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ss,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return R.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ss/8,"h").concat(Ss,"v").concat(Ss*3/4,"h").concat(-Ss,"z"),className:"recharts-legend-icon"});if(R.isValidElement(n.legendIcon)){var u=Rfe({},n);return delete u.legendIcon,R.cloneElement(n.legendIcon,u)}return R.createElement(yk,{fill:c,cx:i,cy:i,size:Ss,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Ss,height:Ss},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,x=jt(dm(dm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=it(m.value)?null:m.value;$i(!it(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=m.inactive?u:m.color;return R.createElement("li",B_({className:x,style:f,key:"legend-item-".concat(g)},Xv(n.props,m,g)),R.createElement(R_,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);dm(xk,"displayName","Legend");dm(xk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Bfe=sb;function zfe(){this.__data__=new Bfe,this.size=0}var Wfe=zfe;function Vfe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Kfe=Vfe;function Hfe(e){return this.__data__.get(e)}var Gfe=Hfe;function Yfe(e){return this.__data__.has(e)}var Qfe=Yfe,Xfe=sb,Jfe=ik,Zfe=ok,ehe=200;function the(e,t){var r=this.__data__;if(r instanceof Xfe){var n=r.__data__;if(!Jfe||n.length<ehe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Zfe(n)}return r.set(e,t),this.size=r.size,this}var rhe=the,nhe=sb,she=Wfe,ahe=Kfe,ihe=Gfe,ohe=Qfe,lhe=rhe;function pf(e){var t=this.__data__=new nhe(e);this.size=t.size}pf.prototype.clear=she;pf.prototype.delete=ahe;pf.prototype.get=ihe;pf.prototype.has=ohe;pf.prototype.set=lhe;var Q5=pf,che="__lodash_hash_undefined__";function uhe(e){return this.__data__.set(e,che),this}var dhe=uhe;function fhe(e){return this.__data__.has(e)}var hhe=fhe,mhe=ok,phe=dhe,ghe=hhe;function sy(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new mhe;++t<r;)this.add(e[t])}sy.prototype.add=sy.prototype.push=phe;sy.prototype.has=ghe;var X5=sy;function vhe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var J5=vhe;function yhe(e,t){return e.has(t)}var Z5=yhe,xhe=X5,bhe=J5,whe=Z5,jhe=1,_he=2;function She(e,t,r,n,s,i){var o=r&jhe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&_he?new xhe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var x=o?n(p,g,f,t,e,i):n(g,p,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!bhe(t,function(b,v){if(!whe(m,v)&&(g===b||s(g,b,r,n,i)))return m.push(v)})){h=!1;break}}else if(!(g===p||s(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var eU=She,Nhe=ui,khe=Nhe.Uint8Array,Che=khe;function Ehe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var Phe=Ehe;function Ohe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var bk=Ohe,wO=xp,jO=Che,Ahe=ak,The=eU,Rhe=Phe,Mhe=bk,$he=1,Ihe=2,Dhe="[object Boolean]",Lhe="[object Date]",Fhe="[object Error]",Uhe="[object Map]",qhe="[object Number]",Bhe="[object RegExp]",zhe="[object Set]",Whe="[object String]",Vhe="[object Symbol]",Khe="[object ArrayBuffer]",Hhe="[object DataView]",_O=wO?wO.prototype:void 0,s0=_O?_O.valueOf:void 0;function Ghe(e,t,r,n,s,i,o){switch(r){case Hhe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Khe:return!(e.byteLength!=t.byteLength||!i(new jO(e),new jO(t)));case Dhe:case Lhe:case qhe:return Ahe(+e,+t);case Fhe:return e.name==t.name&&e.message==t.message;case Bhe:case Whe:return e==t+"";case Uhe:var l=Rhe;case zhe:var c=n&$he;if(l||(l=Mhe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Ihe,o.set(e,t);var d=The(l(e),l(t),n,s,i,o);return o.delete(e),d;case Vhe:if(s0)return s0.call(e)==s0.call(t)}return!1}var Yhe=Ghe;function Qhe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var tU=Qhe,Xhe=tU,Jhe=es;function Zhe(e,t,r){var n=t(e);return Jhe(e)?n:Xhe(n,r(e))}var eme=Zhe;function tme(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var rme=tme;function nme(){return[]}var sme=nme,ame=rme,ime=sme,ome=Object.prototype,lme=ome.propertyIsEnumerable,SO=Object.getOwnPropertySymbols,cme=SO?function(e){return e==null?[]:(e=Object(e),ame(SO(e),function(t){return lme.call(e,t)}))}:ime,ume=cme;function dme(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var fme=dme,hme=no,mme=so,pme="[object Arguments]";function gme(e){return mme(e)&&hme(e)==pme}var vme=gme,NO=vme,yme=so,rU=Object.prototype,xme=rU.hasOwnProperty,bme=rU.propertyIsEnumerable,wme=NO(function(){return arguments}())?NO:function(e){return yme(e)&&xme.call(e,"callee")&&!bme.call(e,"callee")},wk=wme,ay={exports:{}};function jme(){return!1}var _me=jme;ay.exports;(function(e,t){var r=ui,n=_me,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(ay,ay.exports);var nU=ay.exports,Sme=9007199254740991,Nme=/^(?:0|[1-9]\d*)$/;function kme(e,t){var r=typeof e;return t=t??Sme,!!t&&(r=="number"||r!="symbol"&&Nme.test(e))&&e>-1&&e%1==0&&e<t}var jk=kme,Cme=9007199254740991;function Eme(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Cme}var _k=Eme,Pme=no,Ome=_k,Ame=so,Tme="[object Arguments]",Rme="[object Array]",Mme="[object Boolean]",$me="[object Date]",Ime="[object Error]",Dme="[object Function]",Lme="[object Map]",Fme="[object Number]",Ume="[object Object]",qme="[object RegExp]",Bme="[object Set]",zme="[object String]",Wme="[object WeakMap]",Vme="[object ArrayBuffer]",Kme="[object DataView]",Hme="[object Float32Array]",Gme="[object Float64Array]",Yme="[object Int8Array]",Qme="[object Int16Array]",Xme="[object Int32Array]",Jme="[object Uint8Array]",Zme="[object Uint8ClampedArray]",epe="[object Uint16Array]",tpe="[object Uint32Array]",tr={};tr[Hme]=tr[Gme]=tr[Yme]=tr[Qme]=tr[Xme]=tr[Jme]=tr[Zme]=tr[epe]=tr[tpe]=!0;tr[Tme]=tr[Rme]=tr[Vme]=tr[Mme]=tr[Kme]=tr[$me]=tr[Ime]=tr[Dme]=tr[Lme]=tr[Fme]=tr[Ume]=tr[qme]=tr[Bme]=tr[zme]=tr[Wme]=!1;function rpe(e){return Ame(e)&&Ome(e.length)&&!!tr[Pme(e)]}var npe=rpe;function spe(e){return function(t){return e(t)}}var sU=spe,iy={exports:{}};iy.exports;(function(e,t){var r=f5,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(iy,iy.exports);var ape=iy.exports,ipe=npe,ope=sU,kO=ape,CO=kO&&kO.isTypedArray,lpe=CO?ope(CO):ipe,aU=lpe,cpe=fme,upe=wk,dpe=es,fpe=nU,hpe=jk,mpe=aU,ppe=Object.prototype,gpe=ppe.hasOwnProperty;function vpe(e,t){var r=dpe(e),n=!r&&upe(e),s=!r&&!n&&fpe(e),i=!r&&!n&&!s&&mpe(e),o=r||n||s||i,l=o?cpe(e.length,String):[],c=l.length;for(var u in e)(t||gpe.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hpe(u,c)))&&l.push(u);return l}var ype=vpe,xpe=Object.prototype;function bpe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||xpe;return e===r}var wpe=bpe;function jpe(e,t){return function(r){return e(t(r))}}var iU=jpe,_pe=iU,Spe=_pe(Object.keys,Object),Npe=Spe,kpe=wpe,Cpe=Npe,Epe=Object.prototype,Ppe=Epe.hasOwnProperty;function Ope(e){if(!kpe(e))return Cpe(e);var t=[];for(var r in Object(e))Ppe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Ape=Ope,Tpe=sk,Rpe=_k;function Mpe(e){return e!=null&&Rpe(e.length)&&!Tpe(e)}var wp=Mpe,$pe=ype,Ipe=Ape,Dpe=wp;function Lpe(e){return Dpe(e)?$pe(e):Ipe(e)}var wb=Lpe,Fpe=eme,Upe=ume,qpe=wb;function Bpe(e){return Fpe(e,qpe,Upe)}var zpe=Bpe,EO=zpe,Wpe=1,Vpe=Object.prototype,Kpe=Vpe.hasOwnProperty;function Hpe(e,t,r,n,s,i){var o=r&Wpe,l=EO(e),c=l.length,u=EO(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Kpe.call(t,h)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){h=l[f];var b=e[h],v=t[h];if(n)var w=o?n(v,b,h,t,e,i):n(b,v,h,e,t,i);if(!(w===void 0?b===v||s(b,v,r,n,i):w)){p=!1;break}x||(x=h=="constructor")}if(p&&!x){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var Gpe=Hpe,Ype=Mc,Qpe=ui,Xpe=Ype(Qpe,"DataView"),Jpe=Xpe,Zpe=Mc,ege=ui,tge=Zpe(ege,"Promise"),rge=tge,nge=Mc,sge=ui,age=nge(sge,"Set"),oU=age,ige=Mc,oge=ui,lge=ige(oge,"WeakMap"),cge=lge,W_=Jpe,V_=ik,K_=rge,H_=oU,G_=cge,lU=no,gf=m5,PO="[object Map]",uge="[object Object]",OO="[object Promise]",AO="[object Set]",TO="[object WeakMap]",RO="[object DataView]",dge=gf(W_),fge=gf(V_),hge=gf(K_),mge=gf(H_),pge=gf(G_),Al=lU;(W_&&Al(new W_(new ArrayBuffer(1)))!=RO||V_&&Al(new V_)!=PO||K_&&Al(K_.resolve())!=OO||H_&&Al(new H_)!=AO||G_&&Al(new G_)!=TO)&&(Al=function(e){var t=lU(e),r=t==uge?e.constructor:void 0,n=r?gf(r):"";if(n)switch(n){case dge:return RO;case fge:return PO;case hge:return OO;case mge:return AO;case pge:return TO}return t});var gge=Al,a0=Q5,vge=eU,yge=Yhe,xge=Gpe,MO=gge,$O=es,IO=nU,bge=aU,wge=1,DO="[object Arguments]",LO="[object Array]",pg="[object Object]",jge=Object.prototype,FO=jge.hasOwnProperty;function _ge(e,t,r,n,s,i){var o=$O(e),l=$O(t),c=o?LO:MO(e),u=l?LO:MO(t);c=c==DO?pg:c,u=u==DO?pg:u;var d=c==pg,f=u==pg,h=c==u;if(h&&IO(e)){if(!IO(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new a0),o||bge(e)?vge(e,t,r,n,s,i):yge(e,t,c,r,n,s,i);if(!(r&wge)){var m=d&&FO.call(e,"__wrapped__"),g=f&&FO.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,x=g?t.value():t;return i||(i=new a0),s(p,x,r,n,i)}}return h?(i||(i=new a0),xge(e,t,r,n,s,i)):!1}var Sge=_ge,Nge=Sge,UO=so;function cU(e,t,r,n,s){return e===t?!0:e==null||t==null||!UO(e)&&!UO(t)?e!==e&&t!==t:Nge(e,t,r,n,cU,s)}var Sk=cU,kge=Q5,Cge=Sk,Ege=1,Pge=2;function Oge(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new kge;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Cge(d,u,Ege|Pge,n,f):h))return!1}}return!0}var Age=Oge,Tge=vl;function Rge(e){return e===e&&!Tge(e)}var uU=Rge,Mge=uU,$ge=wb;function Ige(e){for(var t=$ge(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,Mge(s)]}return t}var Dge=Ige;function Lge(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var dU=Lge,Fge=Age,Uge=Dge,qge=dU;function Bge(e){var t=Uge(e);return t.length==1&&t[0][2]?qge(t[0][0],t[0][1]):function(r){return r===e||Fge(r,e,t)}}var zge=Bge;function Wge(e,t){return e!=null&&t in Object(e)}var Vge=Wge,Kge=x5,Hge=wk,Gge=es,Yge=jk,Qge=_k,Xge=ib;function Jge(e,t,r){t=Kge(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=Xge(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&Qge(s)&&Yge(o,s)&&(Gge(e)||Hge(e)))}var Zge=Jge,eve=Vge,tve=Zge;function rve(e,t){return e!=null&&tve(e,t,eve)}var nve=rve,sve=Sk,ave=b5,ive=nve,ove=nk,lve=uU,cve=dU,uve=ib,dve=1,fve=2;function hve(e,t){return ove(e)&&lve(t)?cve(uve(e),t):function(r){var n=ave(r,e);return n===void 0&&n===t?ive(r,e):sve(t,n,dve|fve)}}var mve=hve;function pve(e){return e}var vf=pve;function gve(e){return function(t){return t==null?void 0:t[e]}}var vve=gve,yve=uk;function xve(e){return function(t){return yve(t,e)}}var bve=xve,wve=vve,jve=bve,_ve=nk,Sve=ib;function Nve(e){return _ve(e)?wve(Sve(e)):jve(e)}var kve=Nve,Cve=zge,Eve=mve,Pve=vf,Ove=es,Ave=kve;function Tve(e){return typeof e=="function"?e:e==null?Pve:typeof e=="object"?Ove(e)?Eve(e[0],e[1]):Cve(e):Ave(e)}var yl=Tve;function Rve(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var fU=Rve;function Mve(e){return e!==e}var $ve=Mve;function Ive(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var Dve=Ive,Lve=fU,Fve=$ve,Uve=Dve;function qve(e,t,r){return t===t?Uve(e,t,r):Lve(e,Fve,r)}var Bve=qve,zve=Bve;function Wve(e,t){var r=e==null?0:e.length;return!!r&&zve(e,t,0)>-1}var Vve=Wve;function Kve(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var Hve=Kve;function Gve(){}var Yve=Gve,i0=oU,Qve=Yve,Xve=bk,Jve=1/0,Zve=i0&&1/Xve(new i0([,-0]))[1]==Jve?function(e){return new i0(e)}:Qve,eye=Zve,tye=X5,rye=Vve,nye=Hve,sye=Z5,aye=eye,iye=bk,oye=200;function lye(e,t,r){var n=-1,s=rye,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=nye;else if(i>=oye){var u=t?null:aye(e);if(u)return iye(u);o=!1,s=sye,c=new tye}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var cye=lye,uye=yl,dye=cye;function fye(e,t){return e&&e.length?dye(e,uye(t)):[]}var hye=fye;const qO=zt(hye);function hU(e,t,r){return t===!0?qO(e,r):it(t)?qO(e,t):e}function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}var mye=["ref"];function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){jb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pU(n.key),n)}}function gye(e,t,r){return t&&zO(e.prototype,t),r&&zO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vye(e,t,r){return t=oy(t),yye(e,mU()?Reflect.construct(t,r||[],oy(e).constructor):t.apply(e,r))}function yye(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xye(e)}function xye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mU=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oy(e)}function bye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y_(e,t)}function Y_(e,t){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Y_(e,t)}function jb(e,t,r){return t=pU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pU(e){var t=wye(e,"string");return Sd(t)=="symbol"?t:t+""}function wye(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jye(e,t){if(e==null)return{};var r=_ye(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _ye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sye(e){return e.value}function Nye(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var r=jye(t,mye);return R.createElement(xk,r)}var WO=1,Lu=function(e){function t(){var r;pye(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=vye(this,t,[].concat(s)),jb(r,"lastBoundingBox",{width:-1,height:-1}),r}return bye(t,e),gye(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>WO||Math.abs(s.height-this.lastBoundingBox.height)>WO)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?mi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return mi(mi({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=mi(mi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Nye(i,mi(mi({},this.props),{},{payload:hU(d,u,Sye)})))}}],[{key:"getWithHeight",value:function(n,s){var i=mi(mi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&je(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(y.PureComponent);jb(Lu,"displayName","Legend");jb(Lu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var VO=xp,kye=wk,Cye=es,KO=VO?VO.isConcatSpreadable:void 0;function Eye(e){return Cye(e)||kye(e)||!!(KO&&e&&e[KO])}var Pye=Eye,Oye=tU,Aye=Pye;function gU(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=Aye),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?gU(l,t-1,r,n,s):Oye(s,l):n||(s[s.length]=l)}return s}var vU=gU;function Tye(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var Rye=Tye,Mye=Rye,$ye=Mye(),Iye=$ye,Dye=Iye,Lye=wb;function Fye(e,t){return e&&Dye(e,t,Lye)}var yU=Fye,Uye=wp;function qye(e,t){return function(r,n){if(r==null)return r;if(!Uye(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var Bye=qye,zye=yU,Wye=Bye,Vye=Wye(zye),Nk=Vye,Kye=Nk,Hye=wp;function Gye(e,t){var r=-1,n=Hye(e)?Array(e.length):[];return Kye(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var xU=Gye;function Yye(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Qye=Yye,HO=cf;function Xye(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=HO(e),o=t!==void 0,l=t===null,c=t===t,u=HO(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Jye=Xye,Zye=Jye;function exe(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=Zye(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var txe=exe,o0=ck,rxe=uk,nxe=yl,sxe=xU,axe=Qye,ixe=sU,oxe=txe,lxe=vf,cxe=es;function uxe(e,t,r){t.length?t=o0(t,function(i){return cxe(i)?function(o){return rxe(o,i.length===1?i[0]:i)}:i}):t=[lxe];var n=-1;t=o0(t,ixe(nxe));var s=sxe(e,function(i,o,l){var c=o0(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return axe(s,function(i,o){return oxe(i,o,r)})}var dxe=uxe;function fxe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var hxe=fxe,mxe=hxe,GO=Math.max;function pxe(e,t,r){return t=GO(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=GO(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),mxe(e,this,l)}}var gxe=pxe;function vxe(e){return function(){return e}}var yxe=vxe,xxe=Mc,bxe=function(){try{var e=xxe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bU=bxe,wxe=yxe,YO=bU,jxe=vf,_xe=YO?function(e,t){return YO(e,"toString",{configurable:!0,enumerable:!1,value:wxe(t),writable:!0})}:jxe,Sxe=_xe,Nxe=800,kxe=16,Cxe=Date.now;function Exe(e){var t=0,r=0;return function(){var n=Cxe(),s=kxe-(n-r);if(r=n,s>0){if(++t>=Nxe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Pxe=Exe,Oxe=Sxe,Axe=Pxe,Txe=Axe(Oxe),Rxe=Txe,Mxe=vf,$xe=gxe,Ixe=Rxe;function Dxe(e,t){return Ixe($xe(e,t,Mxe),e+"")}var Lxe=Dxe,Fxe=ak,Uxe=wp,qxe=jk,Bxe=vl;function zxe(e,t,r){if(!Bxe(r))return!1;var n=typeof t;return(n=="number"?Uxe(r)&&qxe(t,r.length):n=="string"&&t in r)?Fxe(r[t],e):!1}var _b=zxe,Wxe=vU,Vxe=dxe,Kxe=Lxe,QO=_b,Hxe=Kxe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&QO(e,t[0],t[1])?t=[]:r>2&&QO(t[0],t[1],t[2])&&(t=[t[0]]),Vxe(e,Wxe(t,1),[])}),Gxe=Hxe;const kk=zt(Gxe);function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q_.apply(this,arguments)}function Yxe(e,t){return Zxe(e)||Jxe(e,t)||Xxe(e,t)||Qxe()}function Qxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xxe(e,t){if(e){if(typeof e=="string")return XO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XO(e,t)}}function XO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Zxe(e){if(Array.isArray(e))return e}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){ebe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ebe(e,t,r){return t=tbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tbe(e){var t=rbe(e,"string");return fm(t)=="symbol"?t:t+""}function rbe(e,t){if(fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nbe(e){return Array.isArray(e)&&Hr(e[0])&&Hr(e[1])?e.join(" ~ "):e}var sbe=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,x=t.labelFormatter,b=t.accessibilityLayer,v=b===void 0?!1:b,w=function(){if(d&&d.length){var O={padding:0,margin:0},q=(h?kk(d,h):d).map(function(A,V){if(A.type==="none")return null;var T=l0({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},l),K=A.formatter||f||nbe,M=A.value,$=A.name,I=M,ee=$;if(K&&I!=null&&ee!=null){var L=K(M,$,A,V,d);if(Array.isArray(L)){var oe=Yxe(L,2);I=oe[0],ee=oe[1]}else I=L}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:T},Hr(ee)?R.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Hr(ee)?R.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,R.createElement("span",{className:"recharts-tooltip-item-value"},I),R.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:O},q)}return null},_=l0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=l0({margin:0},u),S=!yt(p),N=S?p:"",k=jt("recharts-default-tooltip",m),C=jt("recharts-tooltip-label",g);S&&x&&d!==void 0&&d!==null&&(N=x(p,d));var E=v?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",Q_({className:k,style:_},E),R.createElement("p",{className:C,style:j},R.isValidElement(N)?N:"".concat(N)),w())};function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function gg(e,t,r){return t=abe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function abe(e){var t=ibe(e,"string");return hm(t)=="symbol"?t:t+""}function ibe(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bf="recharts-tooltip-wrapper",obe={visibility:"hidden"};function lbe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return jt(Bf,gg(gg(gg(gg({},"".concat(Bf,"-right"),je(r)&&t&&je(t.x)&&r>=t.x),"".concat(Bf,"-left"),je(r)&&t&&je(t.x)&&r<t.x),"".concat(Bf,"-bottom"),je(n)&&t&&je(t.y)&&n>=t.y),"".concat(Bf,"-top"),je(n)&&t&&je(t.y)&&n<t.y))}function ZO(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&je(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function cbe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ube(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=ZO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=ZO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=cbe({translateX:d,translateY:f,useTranslate3d:l})):u=obe,{cssProperties:u,cssClasses:lbe({translateX:d,translateY:f,coordinate:r})}}function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(n){J_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jU(n.key),n)}}function hbe(e,t,r){return t&&fbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mbe(e,t,r){return t=ly(t),pbe(e,wU()?Reflect.construct(t,r||[],ly(e).constructor):t.apply(e,r))}function pbe(e,t){if(t&&(Nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gbe(e)}function gbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wU=function(){return!!e})()}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ly(e)}function vbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X_(e,t)}function X_(e,t){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},X_(e,t)}function J_(e,t,r){return t=jU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jU(e){var t=ybe(e,"string");return Nd(t)=="symbol"?t:t+""}function ybe(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rA=1,xbe=function(e){function t(){var r;dbe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=mbe(this,t,[].concat(s)),J_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),J_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return vbe(t,e),hbe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>rA||Math.abs(n.height-this.state.lastBoundingBox.height)>rA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,g=s.position,p=s.reverseDirection,x=s.useTranslate3d,b=s.viewBox,v=s.wrapperStyle,w=ube({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),_=w.cssClasses,j=w.cssProperties,S=tA(tA({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return R.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(y.PureComponent),bbe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},yf={isSsr:bbe()};function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){Ck(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SU(n.key),n)}}function _be(e,t,r){return t&&jbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sbe(e,t,r){return t=cy(t),Nbe(e,_U()?Reflect.construct(t,r||[],cy(e).constructor):t.apply(e,r))}function Nbe(e,t){if(t&&(kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kbe(e)}function kbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_U=function(){return!!e})()}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cy(e)}function Cbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Z_(e,t)}function Ck(e,t,r){return t=SU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SU(e){var t=Ebe(e,"string");return kd(t)=="symbol"?t:t+""}function Ebe(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Pbe(e){return e.dataKey}function Obe(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(sbe,t)}var Cs=function(e){function t(){return wbe(this,t),Sbe(this,t,arguments)}return Cbe(t,e),_be(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,g=s.payload,p=s.payloadUniqBy,x=s.position,b=s.reverseDirection,v=s.useTranslate3d,w=s.viewBox,_=s.wrapperStyle,j=g??[];f&&j.length&&(j=hU(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,Pbe));var S=j.length>0;return R.createElement(xbe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:m,position:x,reverseDirection:b,useTranslate3d:v,viewBox:w,wrapperStyle:_},Obe(u,sA(sA({},this.props),{},{payload:j})))}}])}(y.PureComponent);Ck(Cs,"displayName","Tooltip");Ck(Cs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Abe=ui,Tbe=function(){return Abe.Date.now()},Rbe=Tbe,Mbe=/\s/;function $be(e){for(var t=e.length;t--&&Mbe.test(e.charAt(t)););return t}var Ibe=$be,Dbe=Ibe,Lbe=/^\s+/;function Fbe(e){return e&&e.slice(0,Dbe(e)+1).replace(Lbe,"")}var Ube=Fbe,qbe=Ube,aA=vl,Bbe=cf,iA=NaN,zbe=/^[-+]0x[0-9a-f]+$/i,Wbe=/^0b[01]+$/i,Vbe=/^0o[0-7]+$/i,Kbe=parseInt;function Hbe(e){if(typeof e=="number")return e;if(Bbe(e))return iA;if(aA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=aA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=qbe(e);var r=Wbe.test(e);return r||Vbe.test(e)?Kbe(e.slice(2),r?2:8):zbe.test(e)?iA:+e}var NU=Hbe,Gbe=vl,c0=Rbe,oA=NU,Ybe="Expected a function",Qbe=Math.max,Xbe=Math.min;function Jbe(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Ybe);t=oA(t)||0,Gbe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Qbe(oA(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(S){var N=n,k=s;return n=s=void 0,u=S,o=e.apply(k,N),o}function g(S){return u=S,l=setTimeout(b,t),d?m(S):o}function p(S){var N=S-c,k=S-u,C=t-N;return f?Xbe(C,i-k):C}function x(S){var N=S-c,k=S-u;return c===void 0||N>=t||N<0||f&&k>=i}function b(){var S=c0();if(x(S))return v(S);l=setTimeout(b,p(S))}function v(S){return l=void 0,h&&n?m(S):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function _(){return l===void 0?o:v(c0())}function j(){var S=c0(),N=x(S);if(n=arguments,s=this,c=S,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=w,j.flush=_,j}var Zbe=Jbe,ewe=Zbe,twe=vl,rwe="Expected a function";function nwe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(rwe);return twe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),ewe(e,t,{leading:n,maxWait:t,trailing:s})}var swe=nwe;const kU=zt(swe);function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){awe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function awe(e,t,r){return t=iwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iwe(e){var t=owe(e,"string");return mm(t)=="symbol"?t:t+""}function owe(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lwe(e,t){return fwe(e)||dwe(e,t)||uwe(e,t)||cwe()}function cwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uwe(e,t){if(e){if(typeof e=="string")return cA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cA(e,t)}}function cA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function fwe(e){if(Array.isArray(e))return e}var e1=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,x=e.id,b=e.className,v=e.onResize,w=e.style,_=w===void 0?{}:w,j=y.useRef(null),S=y.useRef();S.current=v,y.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=y.useState({containerWidth:s.width,containerHeight:s.height}),k=lwe(N,2),C=k[0],E=k[1],D=y.useCallback(function(q,A){E(function(V){var T=Math.round(q),K=Math.round(A);return V.containerWidth===T&&V.containerHeight===K?V:{containerWidth:T,containerHeight:K}})},[]);y.useEffect(function(){var q=function($){var I,ee=$[0].contentRect,L=ee.width,oe=ee.height;D(L,oe),(I=S.current)===null||I===void 0||I.call(S,L,oe)};p>0&&(q=kU(q,p,{trailing:!0,leading:!1}));var A=new ResizeObserver(q),V=j.current.getBoundingClientRect(),T=V.width,K=V.height;return D(T,K),A.observe(j.current),function(){A.disconnect()}},[D,p]);var O=y.useMemo(function(){var q=C.containerWidth,A=C.containerHeight;if(q<0||A<0)return null;$i(Bl(o)||Bl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),$i(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=Bl(o)?q:o,T=Bl(c)?A:c;r&&r>0&&(V?T=V/r:T&&(V=T*r),h&&T>h&&(T=h)),$i(V>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,T,o,c,d,f,r);var K=!Array.isArray(m)&&Mi(m.type).endsWith("Chart");return R.Children.map(m,function(M){return R.isValidElement(M)?y.cloneElement(M,vg({width:V,height:T},K?{style:vg({height:"100%",width:"100%",maxHeight:T,maxWidth:V},M.props.style)}:{})):M})},[r,m,c,h,f,d,C,o]);return R.createElement("div",{id:x?"".concat(x):void 0,className:jt("recharts-responsive-container",b),style:vg(vg({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},O)}),CU=function(t){return null};CU.displayName="Cell";function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function t1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){hwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hwe(e,t,r){return t=mwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mwe(e){var t=pwe(e,"string");return pm(t)=="symbol"?t:t+""}function pwe(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ru={widthCache:{},cacheCount:0},gwe=2e3,vwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dA="recharts_measurement_span";function ywe(e){var t=t1({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var kh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||yf.isSsr)return{width:0,height:0};var n=ywe(r),s=JSON.stringify({text:t,copyStyle:n});if(ru.widthCache[s])return ru.widthCache[s];try{var i=document.getElementById(dA);i||(i=document.createElement("span"),i.setAttribute("id",dA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=t1(t1({},vwe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ru.widthCache[s]=c,++ru.cacheCount>gwe&&(ru.cacheCount=0,ru.widthCache={}),c}catch{return{width:0,height:0}}},xwe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function uy(e,t){return _we(e)||jwe(e,t)||wwe(e,t)||bwe()}function bwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wwe(e,t){if(e){if(typeof e=="string")return fA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fA(e,t)}}function fA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function _we(e){if(Array.isArray(e))return e}function Swe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kwe(n.key),n)}}function Nwe(e,t,r){return t&&hA(e.prototype,t),r&&hA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kwe(e){var t=Cwe(e,"string");return gm(t)=="symbol"?t:t+""}function Cwe(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ewe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,EU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Owe=Object.keys(EU),Su="NaN";function Awe(e,t){return e*EU[t]}var yg=function(){function e(t,r){Swe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Ewe.test(r)&&(this.num=NaN,this.unit=""),Owe.includes(r)&&(this.num=Awe(t,r),this.unit="px")}return Nwe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Pwe.exec(r))!==null&&n!==void 0?n:[],i=uy(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function PU(e){if(e.includes(Su))return Su;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=mA.exec(t))!==null&&r!==void 0?r:[],s=uy(n,4),i=s[1],o=s[2],l=s[3],c=yg.parse(i??""),u=yg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Su;t=t.replace(mA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=pA.exec(t))!==null&&f!==void 0?f:[],m=uy(h,4),g=m[1],p=m[2],x=m[3],b=yg.parse(g??""),v=yg.parse(x??""),w=p==="+"?b.add(v):b.subtract(v);if(w.isNaN())return Su;t=t.replace(pA,w.toString())}return t}var gA=/\(([^()]*)\)/;function Twe(e){for(var t=e;t.includes("(");){var r=gA.exec(t),n=uy(r,2),s=n[1];t=t.replace(gA,PU(s))}return t}function Rwe(e){var t=e.replace(/\s+/g,"");return t=Twe(t),t=PU(t),t}function Mwe(e){try{return Rwe(e)}catch{return Su}}function u0(e){var t=Mwe(e.slice(5,-1));return t===Su?"":t}var $we=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Iwe=["dx","dy","angle","className","breakAll"];function r1(){return r1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r1.apply(this,arguments)}function vA(e,t){if(e==null)return{};var r=Dwe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yA(e,t){return qwe(e)||Uwe(e,t)||Fwe(e,t)||Lwe()}function Lwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fwe(e,t){if(e){if(typeof e=="string")return xA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xA(e,t)}}function xA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function qwe(e){if(Array.isArray(e))return e}var OU=/[ \f\n\r\t\v\u2028\u2029]+/,AU=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];yt(r)||(n?i=r.toString().split(""):i=r.toString().split(OU));var o=i.map(function(c){return{word:c,width:kh(c,s).width}}),l=n?0:kh("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Bwe=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=je(o),f=l,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(T,K){var M=K.word,$=K.width,I=T[T.length-1];if(I&&(s==null||i||I.width+$+n<Number(s)))I.words.push(M),I.width+=$+n;else{var ee={words:[M],width:$};T.push(ee)}return T},[])},m=h(r),g=function(V){return V.reduce(function(T,K){return T.width>K.width?T:K})};if(!d)return m;for(var p="",x=function(V){var T=f.slice(0,V),K=AU({breakAll:u,style:c,children:T+p}).wordsWithComputedWidth,M=h(K),$=M.length>o||g(M).width>Number(s);return[$,M]},b=0,v=f.length-1,w=0,_;b<=v&&w<=f.length-1;){var j=Math.floor((b+v)/2),S=j-1,N=x(S),k=yA(N,2),C=k[0],E=k[1],D=x(j),O=yA(D,1),q=O[0];if(!C&&!q&&(b=j+1),C&&q&&(v=j-1),!C&&q){_=E;break}w++}return _||m},bA=function(t){var r=yt(t)?[]:t.toString().split(OU);return[{words:r}]},zwe=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!yf.isSsr){var c,u,d=AU({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return bA(s);return Bwe({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return bA(s)},wA="#808080",dy=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,x=t.fill,b=x===void 0?wA:x,v=vA(t,$we),w=y.useMemo(function(){return zwe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),_=v.dx,j=v.dy,S=v.angle,N=v.className,k=v.breakAll,C=vA(v,Iwe);if(!Hr(n)||!Hr(i))return null;var E=n+(je(_)?_:0),D=i+(je(j)?j:0),O;switch(p){case"start":O=u0("calc(".concat(u,")"));break;case"middle":O=u0("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=u0("calc(".concat(w.length-1," * -").concat(l,")"));break}var q=[];if(f){var A=w[0].width,V=v.width;q.push("scale(".concat((je(V)?V/A:1)/A,")"))}return S&&q.push("rotate(".concat(S,", ").concat(E,", ").concat(D,")")),q.length&&(C.transform=q.join(" ")),R.createElement("text",r1({},mt(C,!0),{x:E,y:D,className:jt("recharts-text",N),textAnchor:m,fill:b.includes("url")?wA:b}),w.map(function(T,K){var M=T.words.join(k?"":" ");return R.createElement("tspan",{x:E,dy:K===0?O:l,key:"".concat(M,"-").concat(K)},M)}))};function rl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wwe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ek(e){let t,r,n;e.length!==2?(t=rl,r=(l,c)=>rl(e(l),c),n=(l,c)=>e(l)-c):(t=e===rl||e===Wwe?e:Vwe,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function Vwe(){return 0}function TU(e){return e===null?NaN:+e}function*Kwe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Hwe=Ek(rl),jp=Hwe.right;Ek(TU).center;class jA extends Map{constructor(t,r=Qwe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(_A(this,t))}has(t){return super.has(_A(this,t))}set(t,r){return super.set(Gwe(this,t),r)}delete(t){return super.delete(Ywe(this,t))}}function _A({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Gwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Ywe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Qwe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Xwe(e=rl){if(e===rl)return RU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function RU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Jwe=Math.sqrt(50),Zwe=Math.sqrt(10),e0e=Math.sqrt(2);function fy(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Jwe?10:i>=Zwe?5:i>=e0e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?fy(e,t,r*2):[l,c,u]}function n1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?fy(t,e,r):fy(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function s1(e,t,r){return t=+t,e=+e,r=+r,fy(e,t,r)[2]}function a1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?s1(t,e,r):s1(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function SA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function NA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function MU(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?RU:Xwe(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));MU(e,t,m,g,s)}const i=e[t];let o=r,l=n;for(zf(e,r,t),s(e[n],i)>0&&zf(e,r,n);o<l;){for(zf(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?zf(e,r,l):(++l,zf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function zf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function t0e(e,t,r){if(e=Float64Array.from(Kwe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return NA(e);if(t>=1)return SA(e);var n,s=(n-1)*t,i=Math.floor(s),o=SA(MU(e,i).subarray(0,i+1)),l=NA(e.subarray(i+1));return o+(l-o)*(s-i)}}function r0e(e,t,r=TU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function n0e(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Hs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ao(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const i1=Symbol("implicit");function Pk(){var e=new jA,t=[],r=[],n=i1;function s(i){let o=e.get(i);if(o===void 0){if(n!==i1)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new jA;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Pk(t,r).unknown(n)},Hs.apply(s,arguments),s}function vm(){var e=Pk().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,g=m?s:n,p=m?n:s;i=(p-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=n0e(h).map(function(b){return g+i*b});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return vm(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Hs.apply(f(),arguments)}function $U(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $U(t())},e}function Ch(){return $U(vm.apply(null,arguments).paddingInner(1))}function Ok(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function IU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function _p(){}var ym=.7,hy=1/ym,Fu="\\s*([+-]?\\d+)\\s*",xm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s0e=/^#([0-9a-f]{3,8})$/,a0e=new RegExp(`^rgb\\(${Fu},${Fu},${Fu}\\)$`),i0e=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),o0e=new RegExp(`^rgba\\(${Fu},${Fu},${Fu},${xm}\\)$`),l0e=new RegExp(`^rgba\\(${ei},${ei},${ei},${xm}\\)$`),c0e=new RegExp(`^hsl\\(${xm},${ei},${ei}\\)$`),u0e=new RegExp(`^hsla\\(${xm},${ei},${ei},${xm}\\)$`),kA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ok(_p,bm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:CA,formatHex:CA,formatHex8:d0e,formatHsl:f0e,formatRgb:EA,toString:EA});function CA(){return this.rgb().formatHex()}function d0e(){return this.rgb().formatHex8()}function f0e(){return DU(this).formatHsl()}function EA(){return this.rgb().formatRgb()}function bm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=s0e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?PA(t):r===3?new Gn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=a0e.exec(e))?new Gn(t[1],t[2],t[3],1):(t=i0e.exec(e))?new Gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=o0e.exec(e))?xg(t[1],t[2],t[3],t[4]):(t=l0e.exec(e))?xg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=c0e.exec(e))?TA(t[1],t[2]/100,t[3]/100,1):(t=u0e.exec(e))?TA(t[1],t[2]/100,t[3]/100,t[4]):kA.hasOwnProperty(e)?PA(kA[e]):e==="transparent"?new Gn(NaN,NaN,NaN,0):null}function PA(e){return new Gn(e>>16&255,e>>8&255,e&255,1)}function xg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Gn(e,t,r,n)}function h0e(e){return e instanceof _p||(e=bm(e)),e?(e=e.rgb(),new Gn(e.r,e.g,e.b,e.opacity)):new Gn}function o1(e,t,r,n){return arguments.length===1?h0e(e):new Gn(e,t,r,n??1)}function Gn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ok(Gn,o1,IU(_p,{brighter(e){return e=e==null?hy:Math.pow(hy,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ym:Math.pow(ym,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gn(sc(this.r),sc(this.g),sc(this.b),my(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OA,formatHex:OA,formatHex8:m0e,formatRgb:AA,toString:AA}));function OA(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}`}function m0e(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}${zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function AA(){const e=my(this.opacity);return`${e===1?"rgb(":"rgba("}${sc(this.r)}, ${sc(this.g)}, ${sc(this.b)}${e===1?")":`, ${e})`}`}function my(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zl(e){return e=sc(e),(e<16?"0":"")+e.toString(16)}function TA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new pa(e,t,r,n)}function DU(e){if(e instanceof pa)return new pa(e.h,e.s,e.l,e.opacity);if(e instanceof _p||(e=bm(e)),!e)return new pa;if(e instanceof pa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new pa(o,l,c,e.opacity)}function p0e(e,t,r,n){return arguments.length===1?DU(e):new pa(e,t,r,n??1)}function pa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ok(pa,p0e,IU(_p,{brighter(e){return e=e==null?hy:Math.pow(hy,e),new pa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ym:Math.pow(ym,e),new pa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Gn(d0(e>=240?e-240:e+120,s,n),d0(e,s,n),d0(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new pa(RA(this.h),bg(this.s),bg(this.l),my(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=my(this.opacity);return`${e===1?"hsl(":"hsla("}${RA(this.h)}, ${bg(this.s)*100}%, ${bg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RA(e){return e=(e||0)%360,e<0?e+360:e}function bg(e){return Math.max(0,Math.min(1,e||0))}function d0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ak=e=>()=>e;function g0e(e,t){return function(r){return e+r*t}}function v0e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function y0e(e){return(e=+e)==1?LU:function(t,r){return r-t?v0e(t,r,e):Ak(isNaN(t)?r:t)}}function LU(e,t){var r=t-e;return r?g0e(e,r):Ak(isNaN(e)?t:e)}const MA=function e(t){var r=y0e(t);function n(s,i){var o=r((s=o1(s)).r,(i=o1(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=LU(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function x0e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function b0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function w0e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=xf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function j0e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function py(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _0e(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=xf(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var l1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,f0=new RegExp(l1.source,"g");function S0e(e){return function(){return e}}function N0e(e){return function(t){return e(t)+""}}function k0e(e,t){var r=l1.lastIndex=f0.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=l1.exec(e))&&(s=f0.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:py(n,s)})),r=f0.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?N0e(c[0].x):S0e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function xf(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ak(t):(r==="number"?py:r==="string"?(n=bm(t))?(t=n,MA):k0e:t instanceof bm?MA:t instanceof Date?j0e:b0e(t)?x0e:Array.isArray(t)?w0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_0e:py)(e,t)}function Tk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function C0e(e,t){t===void 0&&(t=e,e=xf);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function E0e(e){return function(){return e}}function gy(e){return+e}var $A=[0,1];function An(e){return e}function c1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:E0e(isNaN(t)?NaN:.5)}function P0e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function O0e(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=c1(s,n),i=r(o,i)):(n=c1(n,s),i=r(i,o)),function(l){return i(n(l))}}function A0e(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=c1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=jp(e,l,1,n)-1;return i[c](s[c](l))}}function Sp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sb(){var e=$A,t=$A,r=xf,n,s,i,o=An,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==An&&(o=P0e(e[0],e[h-1])),l=h>2?A0e:O0e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),py)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,gy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Tk,d()},f.clamp=function(h){return arguments.length?(o=h?!0:An,d()):o!==An},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,s=m,d()}}function Rk(){return Sb()(An,An)}function T0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vy(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Cd(e){return e=vy(Math.abs(e)),e?e[1]:NaN}function R0e(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function M0e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wm(e){if(!(t=$0e.exec(e)))throw new Error("invalid format: "+e);var t;return new Mk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wm.prototype=Mk.prototype;function Mk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function I0e(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var yy;function D0e(e,t){var r=vy(e,t);if(!r)return yy=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(yy=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+vy(e,Math.max(0,t+i-1))[0]}function IA(e,t){var r=vy(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const DA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:T0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>IA(e*100,t),r:IA,s:D0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function LA(e){return e}var FA=Array.prototype.map,UA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function L0e(e){var t=e.grouping===void 0||e.thousands===void 0?LA:R0e(FA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?LA:M0e(FA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=wm(f);var m=f.fill,g=f.align,p=f.sign,x=f.symbol,b=f.zero,v=f.width,w=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(w=!0,S="g"):DA[S]||(_===void 0&&(_=12),j=!0,S="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?r:x==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),k=(x==="$"?n:/[%p]/.test(S)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),C=DA[S],E=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function D(O){var q=N,A=k,V,T,K;if(S==="c")A=C(O)+A,O="";else{O=+O;var M=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),_),j&&(O=I0e(O)),M&&+O==0&&p!=="+"&&(M=!1),q=(M?p==="("?p:l:p==="-"||p==="("?"":p)+q,A=(S==="s"&&!isNaN(O)&&yy!==void 0?UA[8+yy/3]:"")+A+(M&&p==="("?")":""),E){for(V=-1,T=O.length;++V<T;)if(K=O.charCodeAt(V),48>K||K>57){A=(K===46?s+O.slice(V+1):O.slice(V))+A,O=O.slice(0,V);break}}}w&&!b&&(O=t(O,1/0));var $=q.length+O.length+A.length,I=$<v?new Array(v-$+1).join(m):"";switch(w&&b&&(O=t(I+O,I.length?v-A.length:1/0),I=""),g){case"<":O=q+O+A+I;break;case"=":O=q+I+O+A;break;case"^":O=I.slice(0,$=I.length>>1)+q+O+A+I.slice($);break;default:O=I+q+O+A;break}return i(O)}return D.toString=function(){return f+""},D}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Cd(h)/3)))*3,g=Math.pow(10,-m),p=u((f=wm(f),f.type="f",f),{suffix:UA[8+m/3]});return function(x){return p(g*x)}}return{format:u,formatPrefix:d}}var wg,$k,FU;F0e({thousands:",",grouping:[3],currency:["$",""]});function F0e(e){return wg=L0e(e),$k=wg.format,FU=wg.formatPrefix,wg}function U0e(e){return Math.max(0,-Cd(Math.abs(e)))}function q0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cd(t)/3)))*3-Cd(Math.abs(e)))}function B0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cd(t)-Cd(e))+1}function UU(e,t,r,n){var s=a1(e,t,r),i;switch(n=wm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=q0e(s,o))&&(n.precision=i),FU(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=B0e(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=U0e(s))&&(n.precision=i-(n.type==="%")*2);break}}return $k(n)}function xl(e){var t=e.domain;return e.ticks=function(r){var n=t();return n1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return UU(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=s1(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function xy(){var e=Rk();return e.copy=function(){return Sp(e,xy())},Hs.apply(e,arguments),xl(e)}function qU(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,gy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return qU(e).unknown(t)},e=arguments.length?Array.from(e,gy):[0,1],xl(r)}function BU(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function qA(e){return Math.log(e)}function BA(e){return Math.exp(e)}function z0e(e){return-Math.log(-e)}function W0e(e){return-Math.exp(-e)}function V0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function K0e(e){return e===10?V0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function H0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zA(e){return(t,r)=>-e(-t,r)}function Ik(e){const t=e(qA,BA),r=t.domain;let n=10,s,i;function o(){return s=H0e(n),i=K0e(n),r()[0]<0?(s=zA(s),i=zA(i),e(z0e,W0e)):e(qA,BA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),g,p;const x=l==null?10:+l;let b=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<x&&(b=n1(u,d,x))}else b=n1(h,m,Math.min(m-h,x)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=wm(c)).precision==null&&(c.trim=!0),c=$k(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(BU(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function zU(){const e=Ik(Sb()).domain([1,10]);return e.copy=()=>Sp(e,zU()).base(e.base()),Hs.apply(e,arguments),e}function WA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function VA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Dk(e){var t=1,r=e(WA(t),VA(t));return r.constant=function(n){return arguments.length?e(WA(t=+n),VA(t)):t},xl(r)}function WU(){var e=Dk(Sb());return e.copy=function(){return Sp(e,WU()).constant(e.constant())},Hs.apply(e,arguments)}function KA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function G0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Y0e(e){return e<0?-e*e:e*e}function Lk(e){var t=e(An,An),r=1;function n(){return r===1?e(An,An):r===.5?e(G0e,Y0e):e(KA(r),KA(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},xl(t)}function Fk(){var e=Lk(Sb());return e.copy=function(){return Sp(e,Fk()).exponent(e.exponent())},Hs.apply(e,arguments),e}function Q0e(){return Fk.apply(null,arguments).exponent(.5)}function HA(e){return Math.sign(e)*e*e}function X0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function VU(){var e=Rk(),t=[0,1],r=!1,n;function s(i){var o=X0e(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(HA(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,gy)).map(HA)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return VU(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Hs.apply(s,arguments),xl(s)}function KU(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=r0e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[jp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(rl),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return KU().domain(e).range(t).unknown(n)},Hs.apply(i,arguments)}function HU(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[jp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return HU().domain([e,t]).range(s).unknown(i)},Hs.apply(xl(o),arguments)}function GU(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[jp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return GU().domain(e).range(t).unknown(r)},Hs.apply(s,arguments)}const h0=new Date,m0=new Date;function Yr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Yr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(h0.setTime(+i),m0.setTime(+o),e(h0),e(m0),Math.floor(r(h0,m0))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const by=Yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);by.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):by);by.range;const Ci=1e3,Rs=Ci*60,Ei=Rs*60,Ki=Ei*24,Uk=Ki*7,GA=Ki*30,p0=Ki*365,Wl=Yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ci)},(e,t)=>(t-e)/Ci,e=>e.getUTCSeconds());Wl.range;const qk=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ci)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getMinutes());qk.range;const Bk=Yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCMinutes());Bk.range;const zk=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ci-e.getMinutes()*Rs)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getHours());zk.range;const Wk=Yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getUTCHours());Wk.range;const Np=Yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rs)/Ki,e=>e.getDate()-1);Np.range;const Nb=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>e.getUTCDate()-1);Nb.range;const YU=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>Math.floor(e/Ki));YU.range;function $c(e){return Yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rs)/Uk)}const kb=$c(0),wy=$c(1),J0e=$c(2),Z0e=$c(3),Ed=$c(4),eje=$c(5),tje=$c(6);kb.range;wy.range;J0e.range;Z0e.range;Ed.range;eje.range;tje.range;function Ic(e){return Yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Uk)}const Cb=Ic(0),jy=Ic(1),rje=Ic(2),nje=Ic(3),Pd=Ic(4),sje=Ic(5),aje=Ic(6);Cb.range;jy.range;rje.range;nje.range;Pd.range;sje.range;aje.range;const Vk=Yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Vk.range;const Kk=Yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Kk.range;const Hi=Yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Hi.range;const Gi=Yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Gi.range;function QU(e,t,r,n,s,i){const o=[[Wl,1,Ci],[Wl,5,5*Ci],[Wl,15,15*Ci],[Wl,30,30*Ci],[i,1,Rs],[i,5,5*Rs],[i,15,15*Rs],[i,30,30*Rs],[s,1,Ei],[s,3,3*Ei],[s,6,6*Ei],[s,12,12*Ei],[n,1,Ki],[n,2,2*Ki],[r,1,Uk],[t,1,GA],[t,3,3*GA],[e,1,p0]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=Ek(([,,x])=>x).right(o,h);if(m===o.length)return e.every(a1(u/p0,d/p0,f));if(m===0)return by.every(Math.max(a1(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[ije,oje]=QU(Gi,Kk,Cb,YU,Wk,Bk),[lje,cje]=QU(Hi,Vk,kb,Np,zk,qk);function g0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function v0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function uje(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Vf(s),d=Kf(s),f=Vf(i),h=Kf(i),m=Vf(o),g=Kf(o),p=Vf(l),x=Kf(l),b=Vf(c),v=Kf(c),w={a:K,A:M,b:$,B:I,c:null,d:eT,e:eT,f:Rje,g:zje,G:Vje,H:Oje,I:Aje,j:Tje,L:XU,m:Mje,M:$je,p:ee,q:L,Q:nT,s:sT,S:Ije,u:Dje,U:Lje,V:Fje,w:Uje,W:qje,x:null,X:null,y:Bje,Y:Wje,Z:Kje,"%":rT},_={a:oe,A:ye,b:Ve,B:Ke,c:null,d:tT,e:tT,f:Qje,g:i_e,G:l_e,H:Hje,I:Gje,j:Yje,L:ZU,m:Xje,M:Jje,p:he,q:Be,Q:nT,s:sT,S:Zje,u:e_e,U:t_e,V:r_e,w:n_e,W:s_e,x:null,X:null,y:a_e,Y:o_e,Z:c_e,"%":rT},j={a:E,A:D,b:O,B:q,c:A,d:JA,e:JA,f:kje,g:XA,G:QA,H:ZA,I:ZA,j:jje,L:Nje,m:wje,M:_je,p:C,q:bje,Q:Eje,s:Pje,S:Sje,u:pje,U:gje,V:vje,w:mje,W:yje,x:V,X:T,y:XA,Y:QA,Z:xje,"%":Cje};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(ae,_e){return function(Y){var Q=[],Xe=-1,He=0,xt=ae.length,ft,Wt,Nr;for(Y instanceof Date||(Y=new Date(+Y));++Xe<xt;)ae.charCodeAt(Xe)===37&&(Q.push(ae.slice(He,Xe)),(Wt=YA[ft=ae.charAt(++Xe)])!=null?ft=ae.charAt(++Xe):Wt=ft==="e"?" ":"0",(Nr=_e[ft])&&(ft=Nr(Y,Wt)),Q.push(ft),He=Xe+1);return Q.push(ae.slice(He,Xe)),Q.join("")}}function N(ae,_e){return function(Y){var Q=Wf(1900,void 0,1),Xe=k(Q,ae,Y+="",0),He,xt;if(Xe!=Y.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(_e&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(He=v0(Wf(Q.y,0,1)),xt=He.getUTCDay(),He=xt>4||xt===0?jy.ceil(He):jy(He),He=Nb.offset(He,(Q.V-1)*7),Q.y=He.getUTCFullYear(),Q.m=He.getUTCMonth(),Q.d=He.getUTCDate()+(Q.w+6)%7):(He=g0(Wf(Q.y,0,1)),xt=He.getDay(),He=xt>4||xt===0?wy.ceil(He):wy(He),He=Np.offset(He,(Q.V-1)*7),Q.y=He.getFullYear(),Q.m=He.getMonth(),Q.d=He.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),xt="Z"in Q?v0(Wf(Q.y,0,1)).getUTCDay():g0(Wf(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(xt+5)%7:Q.w+Q.U*7-(xt+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,v0(Q)):g0(Q)}}function k(ae,_e,Y,Q){for(var Xe=0,He=_e.length,xt=Y.length,ft,Wt;Xe<He;){if(Q>=xt)return-1;if(ft=_e.charCodeAt(Xe++),ft===37){if(ft=_e.charAt(Xe++),Wt=j[ft in YA?_e.charAt(Xe++):ft],!Wt||(Q=Wt(ae,Y,Q))<0)return-1}else if(ft!=Y.charCodeAt(Q++))return-1}return Q}function C(ae,_e,Y){var Q=u.exec(_e.slice(Y));return Q?(ae.p=d.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function E(ae,_e,Y){var Q=m.exec(_e.slice(Y));return Q?(ae.w=g.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function D(ae,_e,Y){var Q=f.exec(_e.slice(Y));return Q?(ae.w=h.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function O(ae,_e,Y){var Q=b.exec(_e.slice(Y));return Q?(ae.m=v.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function q(ae,_e,Y){var Q=p.exec(_e.slice(Y));return Q?(ae.m=x.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function A(ae,_e,Y){return k(ae,t,_e,Y)}function V(ae,_e,Y){return k(ae,r,_e,Y)}function T(ae,_e,Y){return k(ae,n,_e,Y)}function K(ae){return o[ae.getDay()]}function M(ae){return i[ae.getDay()]}function $(ae){return c[ae.getMonth()]}function I(ae){return l[ae.getMonth()]}function ee(ae){return s[+(ae.getHours()>=12)]}function L(ae){return 1+~~(ae.getMonth()/3)}function oe(ae){return o[ae.getUTCDay()]}function ye(ae){return i[ae.getUTCDay()]}function Ve(ae){return c[ae.getUTCMonth()]}function Ke(ae){return l[ae.getUTCMonth()]}function he(ae){return s[+(ae.getUTCHours()>=12)]}function Be(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var _e=S(ae+="",w);return _e.toString=function(){return ae},_e},parse:function(ae){var _e=N(ae+="",!1);return _e.toString=function(){return ae},_e},utcFormat:function(ae){var _e=S(ae+="",_);return _e.toString=function(){return ae},_e},utcParse:function(ae){var _e=N(ae+="",!0);return _e.toString=function(){return ae},_e}}}var YA={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,dje=/^%/,fje=/[\\^$*+?|[\]().{}]/g;function Pt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function hje(e){return e.replace(fje,"\\$&")}function Vf(e){return new RegExp("^(?:"+e.map(hje).join("|")+")","i")}function Kf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function mje(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function pje(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function gje(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function vje(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function yje(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function QA(e,t,r){var n=rn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function XA(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xje(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bje(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function wje(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function JA(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function jje(e,t,r){var n=rn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ZA(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _je(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Sje(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Nje(e,t,r){var n=rn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kje(e,t,r){var n=rn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Cje(e,t,r){var n=dje.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Eje(e,t,r){var n=rn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Pje(e,t,r){var n=rn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function eT(e,t){return Pt(e.getDate(),t,2)}function Oje(e,t){return Pt(e.getHours(),t,2)}function Aje(e,t){return Pt(e.getHours()%12||12,t,2)}function Tje(e,t){return Pt(1+Np.count(Hi(e),e),t,3)}function XU(e,t){return Pt(e.getMilliseconds(),t,3)}function Rje(e,t){return XU(e,t)+"000"}function Mje(e,t){return Pt(e.getMonth()+1,t,2)}function $je(e,t){return Pt(e.getMinutes(),t,2)}function Ije(e,t){return Pt(e.getSeconds(),t,2)}function Dje(e){var t=e.getDay();return t===0?7:t}function Lje(e,t){return Pt(kb.count(Hi(e)-1,e),t,2)}function JU(e){var t=e.getDay();return t>=4||t===0?Ed(e):Ed.ceil(e)}function Fje(e,t){return e=JU(e),Pt(Ed.count(Hi(e),e)+(Hi(e).getDay()===4),t,2)}function Uje(e){return e.getDay()}function qje(e,t){return Pt(wy.count(Hi(e)-1,e),t,2)}function Bje(e,t){return Pt(e.getFullYear()%100,t,2)}function zje(e,t){return e=JU(e),Pt(e.getFullYear()%100,t,2)}function Wje(e,t){return Pt(e.getFullYear()%1e4,t,4)}function Vje(e,t){var r=e.getDay();return e=r>=4||r===0?Ed(e):Ed.ceil(e),Pt(e.getFullYear()%1e4,t,4)}function Kje(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pt(t/60|0,"0",2)+Pt(t%60,"0",2)}function tT(e,t){return Pt(e.getUTCDate(),t,2)}function Hje(e,t){return Pt(e.getUTCHours(),t,2)}function Gje(e,t){return Pt(e.getUTCHours()%12||12,t,2)}function Yje(e,t){return Pt(1+Nb.count(Gi(e),e),t,3)}function ZU(e,t){return Pt(e.getUTCMilliseconds(),t,3)}function Qje(e,t){return ZU(e,t)+"000"}function Xje(e,t){return Pt(e.getUTCMonth()+1,t,2)}function Jje(e,t){return Pt(e.getUTCMinutes(),t,2)}function Zje(e,t){return Pt(e.getUTCSeconds(),t,2)}function e_e(e){var t=e.getUTCDay();return t===0?7:t}function t_e(e,t){return Pt(Cb.count(Gi(e)-1,e),t,2)}function eq(e){var t=e.getUTCDay();return t>=4||t===0?Pd(e):Pd.ceil(e)}function r_e(e,t){return e=eq(e),Pt(Pd.count(Gi(e),e)+(Gi(e).getUTCDay()===4),t,2)}function n_e(e){return e.getUTCDay()}function s_e(e,t){return Pt(jy.count(Gi(e)-1,e),t,2)}function a_e(e,t){return Pt(e.getUTCFullYear()%100,t,2)}function i_e(e,t){return e=eq(e),Pt(e.getUTCFullYear()%100,t,2)}function o_e(e,t){return Pt(e.getUTCFullYear()%1e4,t,4)}function l_e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Pd(e):Pd.ceil(e),Pt(e.getUTCFullYear()%1e4,t,4)}function c_e(){return"+0000"}function rT(){return"%"}function nT(e){return+e}function sT(e){return Math.floor(+e/1e3)}var nu,tq,rq;u_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function u_e(e){return nu=uje(e),tq=nu.format,nu.parse,rq=nu.utcFormat,nu.utcParse,nu}function d_e(e){return new Date(e)}function f_e(e){return e instanceof Date?+e:+new Date(+e)}function Hk(e,t,r,n,s,i,o,l,c,u){var d=Rk(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),v=u("%b %d"),w=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?g:o(S)<S?p:i(S)<S?x:n(S)<S?s(S)<S?b:v:r(S)<S?w:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,f_e)):h().map(d_e)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?j:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(BU(N,S)):d},d.copy=function(){return Sp(d,Hk(e,t,r,n,s,i,o,l,c,u))},d}function h_e(){return Hs.apply(Hk(lje,cje,Hi,Vk,kb,Np,zk,qk,Wl,tq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function m_e(){return Hs.apply(Hk(ije,oje,Gi,Kk,Cb,Nb,Wk,Bk,Wl,rq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Eb(){var e=0,t=1,r,n,s,i,o=An,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(xf),u.rangeRound=d(Tk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function bl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nq(){var e=xl(Eb()(An));return e.copy=function(){return bl(e,nq())},ao.apply(e,arguments)}function sq(){var e=Ik(Eb()).domain([1,10]);return e.copy=function(){return bl(e,sq()).base(e.base())},ao.apply(e,arguments)}function aq(){var e=Dk(Eb());return e.copy=function(){return bl(e,aq()).constant(e.constant())},ao.apply(e,arguments)}function Gk(){var e=Lk(Eb());return e.copy=function(){return bl(e,Gk()).exponent(e.exponent())},ao.apply(e,arguments)}function p_e(){return Gk.apply(null,arguments).exponent(.5)}function iq(){var e=[],t=An;function r(n){if(n!=null&&!isNaN(n=+n))return t((jp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(rl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>t0e(e,i/n))},r.copy=function(){return iq(t).domain(e)},ao.apply(r,arguments)}function Pb(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=An,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(x){var b,v,w;return arguments.length?([b,v,w]=x,u=C0e(p,[b,v,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(xf),m.rangeRound=g(Tk),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,s=p(e),i=p(t),o=p(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m}}function oq(){var e=xl(Pb()(An));return e.copy=function(){return bl(e,oq())},ao.apply(e,arguments)}function lq(){var e=Ik(Pb()).domain([.1,1,10]);return e.copy=function(){return bl(e,lq()).base(e.base())},ao.apply(e,arguments)}function cq(){var e=Dk(Pb());return e.copy=function(){return bl(e,cq()).constant(e.constant())},ao.apply(e,arguments)}function Yk(){var e=Lk(Pb());return e.copy=function(){return bl(e,Yk()).exponent(e.exponent())},ao.apply(e,arguments)}function g_e(){return Yk.apply(null,arguments).exponent(.5)}const aT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vm,scaleDiverging:oq,scaleDivergingLog:lq,scaleDivergingPow:Yk,scaleDivergingSqrt:g_e,scaleDivergingSymlog:cq,scaleIdentity:qU,scaleImplicit:i1,scaleLinear:xy,scaleLog:zU,scaleOrdinal:Pk,scalePoint:Ch,scalePow:Fk,scaleQuantile:KU,scaleQuantize:HU,scaleRadial:VU,scaleSequential:nq,scaleSequentialLog:sq,scaleSequentialPow:Gk,scaleSequentialQuantile:iq,scaleSequentialSqrt:p_e,scaleSequentialSymlog:aq,scaleSqrt:Q0e,scaleSymlog:WU,scaleThreshold:GU,scaleTime:h_e,scaleUtc:m_e,tickFormat:UU},Symbol.toStringTag,{value:"Module"}));var v_e=cf;function y_e(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!v_e(o):r(o,l)))var l=o,c=i}return c}var uq=y_e;function x_e(e,t){return e>t}var b_e=x_e,w_e=uq,j_e=b_e,__e=vf;function S_e(e){return e&&e.length?w_e(e,__e,j_e):void 0}var N_e=S_e;const zo=zt(N_e);function k_e(e,t){return e<t}var C_e=k_e,E_e=uq,P_e=C_e,O_e=vf;function A_e(e){return e&&e.length?E_e(e,O_e,P_e):void 0}var T_e=A_e;const Ob=zt(T_e);var R_e=ck,M_e=yl,$_e=xU,I_e=es;function D_e(e,t){var r=I_e(e)?R_e:$_e;return r(e,M_e(t))}var L_e=D_e,F_e=vU,U_e=L_e;function q_e(e,t){return F_e(U_e(e,t),1)}var B_e=q_e;const z_e=zt(B_e);var W_e=Sk;function V_e(e,t){return W_e(e,t)}var K_e=V_e;const jm=zt(K_e);var bf=1e9,H_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xk,or=!0,Bs="[DecimalError] ",ac=Bs+"Invalid argument: ",Qk=Bs+"Exponent out of range: ",wf=Math.floor,Tl=Math.pow,G_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,us,Xr=1e7,rr=7,dq=9007199254740991,_y=wf(dq/rr),Ie={};Ie.absoluteValue=Ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ie.comparedTo=Ie.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*rr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ie.dividedBy=Ie.div=function(e){return Ii(this,new this.constructor(e))};Ie.dividedToIntegerBy=Ie.idiv=function(e){var t=this,r=t.constructor;return Ht(Ii(t,new r(e),0,1),r.precision)};Ie.equals=Ie.eq=function(e){return!this.cmp(e)};Ie.exponent=function(){return $r(this)};Ie.greaterThan=Ie.gt=function(e){return this.cmp(e)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(e){return this.cmp(e)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(e){return this.cmp(e)<0};Ie.lessThanOrEqualTo=Ie.lte=function(e){return this.cmp(e)<1};Ie.logarithm=Ie.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(us))throw Error(Bs+"NaN");if(r.s<1)throw Error(Bs+(r.s?"NaN":"-Infinity"));return r.eq(us)?new n(0):(or=!1,t=Ii(_m(r,i),_m(e,i),i),or=!0,Ht(t,s))};Ie.minus=Ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mq(t,e):fq(t,(e.s=-e.s,e))};Ie.modulo=Ie.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Bs+"NaN");return r.s?(or=!1,t=Ii(r,e,0,1).times(e),or=!0,r.minus(t)):Ht(new n(r),s)};Ie.naturalExponential=Ie.exp=function(){return hq(this)};Ie.naturalLogarithm=Ie.ln=function(){return _m(this)};Ie.negated=Ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ie.plus=Ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fq(t,e):mq(t,(e.s=-e.s,e))};Ie.precision=Ie.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ac+e);if(t=$r(s)+1,n=s.d.length-1,r=n*rr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ie.squareRoot=Ie.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Bs+"NaN")}for(e=$r(l),or=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ha(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=wf((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Ii(l,i,o+2)).times(.5),Ha(i.d).slice(0,o)===(t=Ha(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Ht(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return or=!0,Ht(n,r)};Ie.times=Ie.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+m[n]*h[s-n-1]+t,i[s--]=l%Xr|0,t=l/Xr|0;i[s]=(i[s]+t)%Xr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,or?Ht(e,f.precision):e};Ie.toDecimalPlaces=Ie.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(si(e,0,bf),t===void 0?t=n.rounding:si(t,0,8),Ht(r,e+$r(r)+1,t))};Ie.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Sc(n,!0):(si(e,0,bf),t===void 0?t=s.rounding:si(t,0,8),n=Ht(new s(n),e+1,t),r=Sc(n,!0,e+1)),r};Ie.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Sc(s):(si(e,0,bf),t===void 0?t=i.rounding:si(t,0,8),n=Ht(new i(s),e+$r(s)+1,t),r=Sc(n.abs(),!1,e+$r(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ie.toInteger=Ie.toint=function(){var e=this,t=e.constructor;return Ht(new t(e),$r(e)+1,t.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(us);if(l=new c(l),!l.s){if(e.s<1)throw Error(Bs+"Infinity");return l}if(l.eq(us))return l;if(n=c.precision,e.eq(us))return Ht(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=dq){for(s=new c(us),t=Math.ceil(n/rr+4),or=!1;r%2&&(s=s.times(l),oT(s.d,t)),r=wf(r/2),r!==0;)l=l.times(l),oT(l.d,t);return or=!0,e.s<0?new c(us).div(s):Ht(s,n)}}else if(i<0)throw Error(Bs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,or=!1,s=e.times(_m(l,n+u)),or=!0,s=hq(s),s.s=i,s};Ie.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=$r(s),n=Sc(s,r<=i.toExpNeg||r>=i.toExpPos)):(si(e,1,bf),t===void 0?t=i.rounding:si(t,0,8),s=Ht(new i(s),e,t),r=$r(s),n=Sc(s,e<=r||r<=i.toExpNeg,e)),n};Ie.toSignificantDigits=Ie.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(si(e,1,bf),t===void 0?t=n.rounding:si(t,0,8)),Ht(new n(r),e,t)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$r(e),r=e.constructor;return Sc(e,t<=r.toExpNeg||t>=r.toExpPos)};function fq(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),or?Ht(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/rr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Xr|0,c[i]%=Xr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,or?Ht(t,f):t}function si(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ac+e)}function Ha(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=rr-n.length,r&&(i+=So(r)),i+=n;o=e[t],n=o+"",r=rr-n.length,r&&(i+=So(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ii=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Xr|0,o=i/Xr|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Xr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,m,g,p,x,b,v,w,_,j,S,N,k,C=n.constructor,E=n.s==s.s?1:-1,D=n.d,O=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(Bs+"Division by zero");for(c=n.e-s.e,N=O.length,j=D.length,m=new C(E),g=m.d=[],u=0;O[u]==(D[u]||0);)++u;if(O[u]>(D[u]||0)&&--c,i==null?v=i=C.precision:o?v=i+($r(n)-$r(s))+1:v=i,v<0)return new C(0);if(v=v/rr+2|0,u=0,N==1)for(d=0,O=O[0],v++;(u<j||d)&&v--;u++)w=d*Xr+(D[u]||0),g[u]=w/O|0,d=w%O|0;else{for(d=Xr/(O[0]+1)|0,d>1&&(O=e(O,d),D=e(D,d),N=O.length,j=D.length),_=N,p=D.slice(0,N),x=p.length;x<N;)p[x++]=0;k=O.slice(),k.unshift(0),S=O[0],O[1]>=Xr/2&&++S;do d=0,l=t(O,p,N,x),l<0?(b=p[0],N!=x&&(b=b*Xr+(p[1]||0)),d=b/S|0,d>1?(d>=Xr&&(d=Xr-1),f=e(O,d),h=f.length,x=p.length,l=t(f,p,h,x),l==1&&(d--,r(f,N<h?k:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<x&&f.unshift(0),r(p,f,x),l==-1&&(x=p.length,l=t(O,p,N,x),l<1&&(d++,r(p,N<x?k:O,x))),x=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[x++]=D[_]||0:(p=[D[_]],x=1);while((_++<j||p[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=c,Ht(m,o?i+$r(m)+1:i)}}();function hq(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if($r(e)>16)throw Error(Qk+$r(e));if(!e.s)return new d(us);for(or=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Tl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(us),d.precision=l;;){if(s=Ht(s.times(e),l),r=r.times(++c),o=i.plus(Ii(s,r,l)),Ha(o.d).slice(0,l)===Ha(i.d).slice(0,l)){for(;u--;)i=Ht(i.times(i),l);return d.precision=f,t==null?(or=!0,Ht(i,f)):i}i=o}}function $r(e){for(var t=e.e*rr,r=e.d[0];r>=10;r/=10)t++;return t}function y0(e,t,r){if(t>e.LN10.sd())throw or=!0,r&&(e.precision=r),Error(Bs+"LN10 precision limit exceeded");return Ht(new e(e.LN10),t)}function So(e){for(var t="";e--;)t+="0";return t}function _m(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(Bs+(m.s?"NaN":"-Infinity"));if(m.eq(us))return new p(0);if(t==null?(or=!1,u=x):u=t,m.eq(10))return t==null&&(or=!0),y0(p,u);if(u+=h,p.precision=u,r=Ha(g),n=r.charAt(0),i=$r(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Ha(m.d),n=r.charAt(0),f++;i=$r(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=y0(p,u+2,x).times(i+""),m=_m(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=x,t==null?(or=!0,Ht(m,x)):m;for(l=o=m=Ii(m.minus(us),m.plus(us),u),d=Ht(m.times(m),u),s=3;;){if(o=Ht(o.times(d),u),c=l.plus(Ii(o,new p(s),u)),Ha(c.d).slice(0,u)===Ha(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(y0(p,u+2,x).times(i+""))),l=Ii(l,new p(f),u),p.precision=x,t==null?(or=!0,Ht(l,x)):l;l=c,s+=2}}function iT(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=wf(r/rr),e.d=[],n=(r+1)%rr,r<0&&(n+=rr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=rr;n<s;)e.d.push(+t.slice(n,n+=rr));t=t.slice(n),n=rr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),or&&(e.e>_y||e.e<-_y))throw Error(Qk+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ht(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=rr,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/rr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=rr,s=n-rr+o}if(r!==void 0&&(i=Tl(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Tl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=$r(e),f.length=1,t=t-i-1,f[0]=Tl(10,(rr-t%rr)%rr),e.e=wf(-t/rr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Tl(10,rr-n),f[d]=s>0?(u/Tl(10,o-s)%Tl(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Xr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Xr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(or&&(e.e>_y||e.e<-_y))throw Error(Qk+$r(e));return e}function mq(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),or?Ht(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/rr),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Xr-1;--c[i],c[s]+=Xr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,or?Ht(t,m):t):new h(0)}function Sc(e,t,r){var n,s=$r(e),i=Ha(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+So(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+So(-s-1)+i,r&&(n=r-o)>0&&(i+=So(n))):s>=o?(i+=So(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+So(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=So(n))),e.s<0?"-"+i:i}function oT(e,t){if(e.length>t)return e.length=t,!0}function pq(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ac+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return iT(o,i.toString())}else if(typeof i!="string")throw Error(ac+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,G_e.test(i))iT(o,i);else throw Error(ac+i)}if(s.prototype=Ie,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=pq,s.config=s.set=Y_e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Y_e(e){if(!e||typeof e!="object")throw Error(Bs+"Object expected");var t,r,n,s=["precision",1,bf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(wf(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(ac+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ac+r+": "+n);return this}var Xk=pq(H_e);us=new Xk(1);const qt=Xk;function Q_e(e){return e1e(e)||Z_e(e)||J_e(e)||X_e()}function X_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J_e(e,t){if(e){if(typeof e=="string")return u1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u1(e,t)}}function Z_e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function e1e(e){if(Array.isArray(e))return u1(e)}function u1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var t1e=function(t){return t},gq={},vq=function(t){return t===gq},lT=function(t){return function r(){return arguments.length===0||arguments.length===1&&vq(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},r1e=function e(t,r){return t===1?r:lT(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==gq}).length;return o>=t?r.apply(void 0,s):e(t-o,lT(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return vq(f)?c.shift():f});return r.apply(void 0,Q_e(d).concat(c))}))})},Ab=function(t){return r1e(t.length,t)},d1=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},n1e=Ab(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),s1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return t1e;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},f1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},yq=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function a1e(e){var t;return e===0?t=1:t=Math.floor(new qt(e).abs().log(10).toNumber())+1,t}function i1e(e,t,r){for(var n=new qt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var o1e=Ab(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),l1e=Ab(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),c1e=Ab(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Tb={rangeStep:i1e,getDigitCount:a1e,interpolateNumber:o1e,uninterpolateNumber:l1e,uninterpolateTruncation:c1e};function h1(e){return f1e(e)||d1e(e)||xq(e)||u1e()}function u1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d1e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function f1e(e){if(Array.isArray(e))return m1(e)}function Sm(e,t){return p1e(e)||m1e(e,t)||xq(e,t)||h1e()}function h1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xq(e,t){if(e){if(typeof e=="string")return m1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m1(e,t)}}function m1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m1e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function p1e(e){if(Array.isArray(e))return e}function bq(e){var t=Sm(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function wq(e,t,r){if(e.lte(0))return new qt(0);var n=Tb.getDigitCount(e.toNumber()),s=new qt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new qt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new qt(Math.ceil(c))}function g1e(e,t,r){var n=1,s=new qt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new qt(10).pow(Tb.getDigitCount(e)-1),s=new qt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new qt(Math.floor(e)))}else e===0?s=new qt(Math.floor((t-1)/2)):r||(s=new qt(Math.floor(e)));var o=Math.floor((t-1)/2),l=s1e(n1e(function(c){return s.add(new qt(c-o).mul(n)).toNumber()}),d1);return l(0,t)}function jq(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new qt(0),tickMin:new qt(0),tickMax:new qt(0)};var i=wq(new qt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new qt(0):(o=new qt(e).add(t).div(2),o=o.sub(new qt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new qt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?jq(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new qt(l).mul(i)),tickMax:o.add(new qt(c).mul(i))})}function v1e(e){var t=Sm(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=bq([r,n]),c=Sm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(h1(d1(0,s-1).map(function(){return 1/0}))):[].concat(h1(d1(0,s-1).map(function(){return-1/0})),[d]);return r>n?f1(f):f}if(u===d)return g1e(u,s,i);var h=jq(u,d,o,i),m=h.step,g=h.tickMin,p=h.tickMax,x=Tb.rangeStep(g,p.add(new qt(.1).mul(m)),m);return r>n?f1(x):x}function y1e(e,t){var r=Sm(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=bq([n,s]),l=Sm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=wq(new qt(u).sub(c).div(d-1),i,0),h=[].concat(h1(Tb.rangeStep(new qt(c),new qt(u).sub(new qt(.99).mul(f)),f)),[u]);return n>s?f1(h):h}var x1e=yq(v1e),b1e=yq(y1e),w1e="Invariant failed";function Nc(e,t){throw new Error(w1e)}var j1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(this,arguments)}function _1e(e,t){return C1e(e)||k1e(e,t)||N1e(e,t)||S1e()}function S1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N1e(e,t){if(e){if(typeof e=="string")return cT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cT(e,t)}}function cT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function C1e(e){if(Array.isArray(e))return e}function E1e(e,t){if(e==null)return{};var r=P1e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nq(n.key),n)}}function T1e(e,t,r){return t&&A1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R1e(e,t,r){return t=Ny(t),M1e(e,_q()?Reflect.construct(t,r||[],Ny(e).constructor):t.apply(e,r))}function M1e(e,t){if(t&&(Od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $1e(e)}function $1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_q=function(){return!!e})()}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(e)}function I1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p1(e,t)}function p1(e,t){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},p1(e,t)}function Sq(e,t,r){return t=Nq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nq(e){var t=D1e(e,"string");return Od(t)=="symbol"?t:t+""}function D1e(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rb=function(e){function t(){return O1e(this,t),R1e(this,t,arguments)}return I1e(t,e),T1e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=E1e(n,j1e),m=mt(h,!1);this.props.direction==="x"&&d.type!=="number"&&Nc();var g=c.map(function(p){var x=u(p,l),b=x.x,v=x.y,w=x.value,_=x.errorVal;if(!_)return null;var j=[],S,N;if(Array.isArray(_)){var k=_1e(_,2);S=k[0],N=k[1]}else S=N=_;if(i==="vertical"){var C=d.scale,E=v+s,D=E+o,O=E-o,q=C(w-S),A=C(w+N);j.push({x1:A,y1:D,x2:A,y2:O}),j.push({x1:q,y1:E,x2:A,y2:E}),j.push({x1:q,y1:D,x2:q,y2:O})}else if(i==="horizontal"){var V=f.scale,T=b+s,K=T-o,M=T+o,$=V(w-S),I=V(w+N);j.push({x1:K,y1:I,x2:M,y2:I}),j.push({x1:T,y1:$,x2:T,y2:I}),j.push({x1:K,y1:$,x2:M,y2:$})}return R.createElement(fr,Sy({className:"recharts-errorBar",key:"bar-".concat(j.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},m),j.map(function(ee){return R.createElement("line",Sy({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return R.createElement(fr,{className:"recharts-errorBars"},g)}}])}(R.Component);Sq(Rb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Sq(Rb,"displayName","ErrorBar");function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){L1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L1e(e,t,r){return t=F1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F1e(e){var t=U1e(e,"string");return Nm(t)=="symbol"?t:t+""}function U1e(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kq=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=is(r,Lu);if(!o)return null;var l=Lu.defaultProps,c=l!==void 0?Nl(Nl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Nl(Nl({},h),f.props):{},g=m.dataKey,p=m.name,x=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||x||"square",color:Jk(f),value:p||g,payload:m}}),Nl(Nl(Nl({},c),Lu.getWithHeight(o,s)),{},{payload:u,item:o})};function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function dT(e){return W1e(e)||z1e(e)||B1e(e)||q1e()}function q1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B1e(e,t){if(e){if(typeof e=="string")return g1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g1(e,t)}}function z1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W1e(e){if(Array.isArray(e))return g1(e)}function g1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){Uu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uu(e,t,r){return t=V1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V1e(e){var t=K1e(e,"string");return km(t)=="symbol"?t:t+""}function K1e(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ys(e,t,r){return yt(e)||yt(t)?r:Hr(t)?Fs(e,t,r):it(t)?t(e):r}function Eh(e,t,r,n){var s=z_e(e,function(l){return ys(l,t)});if(r==="number"){var i=s.filter(function(l){return je(l)||parseFloat(l)});return i.length?[Ob(i),zo(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!yt(l)}):s;return o.map(function(l){return Hr(l)||l instanceof Date?l:""})}var H1e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(ga(f-d)!==ga(h-f)){var g=[];if(ga(h-f)===ga(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var x=h+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var v=Math.min(d,h),w=Math.max(d,h);if(t>(v+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},Jk=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?xr(xr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},G1e=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,x=g.cateAxisId,b=p.filter(function(N){return Mi(N.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,w=v!==void 0?xr(xr({},v),b[0].props):b[0].props,_=w.barSize,j=w[x];o[j]||(o[j]=[]);var S=yt(_)?r:_;o[j].push({item:b[0],stackList:b.slice(1),barSize:yt(S)?void 0:_c(S,n,0)})}}return o},Y1e=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=_c(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,g=o.reduce(function(_,j){return _+j.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&m>0&&(h=!0,m*=.9,g=c*m);var p=(s-g)/2>>0,x={offset:p-u,size:0};d=o.reduce(function(_,j){var S={item:j.item,position:{offset:x.offset+x.size+u,size:h?m:j.barSize}},N=[].concat(dT(_),[S]);return x=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:x})}),N},f)}else{var b=_c(n,s,0,!0);s-2*b-(c-1)*u<=0&&(u=0);var v=(s-2*b-(c-1)*u)/c;v>1&&(v>>=0);var w=l===+l?Math.min(v,l):v;d=o.reduce(function(_,j,S){var N=[].concat(dT(_),[{item:j.item,position:{offset:b+(v+u)*S+(v-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},Q1e=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=kq({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&je(t[m]))return xr(xr({},t),{},Uu({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&je(t[g]))return xr(xr({},t),{},Uu({},g,t[g]+(h||0)))}return t},X1e=function(t,r,n){return yt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Cq=function(t,r,n,s,i){var o=r.props.children,l=_a(o,Rb).filter(function(u){return X1e(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=ys(d,n);if(yt(f))return u;var h=Array.isArray(f)?[Ob(f),zo(f)]:[f,f],m=c.reduce(function(g,p){var x=ys(d,p,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),v=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},J1e=function(t,r,n,s,i){var o=r.map(function(l){return Cq(t,l,n,i,s)}).filter(function(l){return!yt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Eq=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Cq(t,c,u,s)||Eh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Pq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Oq=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Pi=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ga(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!mf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},x0=new WeakMap,jg=function(t,r){if(typeof r!="function")return t;x0.has(t)||x0.set(t,new WeakMap);var n=x0.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},Z1e=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:vm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:xy(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ch(),realScaleType:"point"}:i==="category"?{scale:vm(),realScaleType:"band"}:{scale:xy(),realScaleType:"linear"};if(jc(s)){var c="scale".concat(vb(s));return{scale:(aT[c]||Ch)(),realScaleType:aT[c]?c:"point"}}return it(s)?{scale:s}:{scale:Ch(),realScaleType:"point"}},hT=1e-4,eSe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-hT,o=Math.max(s[0],s[1])+hT,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},tSe=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},rSe=function(t,r){if(!r||r.length!==2||!je(r[0])||!je(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!je(t[0])||t[0]<n)&&(i[0]=n),(!je(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},nSe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=mf(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},sSe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=mf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},aSe={sign:nSe,expand:bfe,none:jd,silhouette:wfe,wiggle:jfe,positive:sSe},iSe=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=aSe[n],o=xfe().keys(s).value(function(l,c){return+ys(l,c,0)}).order(U_).offset(i);return o(t)},oSe=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?xr(xr({},h.type.defaultProps),h.props):h.props,p=g.stackId,x=g.hide;if(x)return f;var b=g[n],v=f[b]||{hasStack:!1,stackGroups:{}};if(Hr(p)){var w=v.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),v.hasStack=!0,v.stackGroups[p]=w}else v.stackGroups[bp("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return xr(xr({},f),{},Uu({},b,v))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,x){var b=m.stackGroups[x];return xr(xr({},p),{},Uu({},x,{numericAxisId:n,cateAxisId:s,items:b.items,stackedData:iSe(t,b.items,i)}))},g)}return xr(xr({},f),{},Uu({},h,m))},d)},lSe=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=x1e(u,i,l);return t.domain([Ob(d),zo(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=b1e(f,i,l);return{niceTicks:h}}return null};function mT(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!yt(s[t.dataKey])){var l=Yv(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=ys(s,yt(o)?t.dataKey:o);return yt(c)?null:t.scale(c)}var pT=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=ys(o,r.dataKey,r.domain[l]);return yt(c)?null:r.scale(c)-i/2+s},cSe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},uSe=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?xr(xr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Hr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},dSe=function(t){return t.reduce(function(r,n){return[Ob(n.concat([r[0]]).filter(je)),zo(n.concat([r[1]]).filter(je))]},[1/0,-1/0])},Aq=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=dSe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},gT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v1=function(t,r,n){if(it(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(je(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(gT.test(t[0])){var i=+gT.exec(t[0])[1];s[0]=r[0]-i}else it(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(je(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(vT.test(t[1])){var o=+vT.exec(t[1])[1];s[1]=r[1]+o}else it(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},ky=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=kk(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},yT=function(t,r,n){return!t||!t.length||jm(t,Fs(n,"type.defaultProps.domain"))?r:t},Tq=function(t,r){var n=t.type.defaultProps?xr(xr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return xr(xr({},mt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:Jk(t),value:ys(r,s),type:c,payload:r,chartType:u,hide:d})};function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function xT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(r),!0).forEach(function(n){fSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fSe(e,t,r){return t=hSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hSe(e){var t=mSe(e,"string");return Cm(t)=="symbol"?t:t+""}function mSe(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cy=Math.PI/180,pSe=function(t){return t*180/Math.PI},cn=function(t,r,n,s){return{x:t+Math.cos(-Cy*s)*n,y:r+Math.sin(-Cy*s)*n}},gSe=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},vSe=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=gSe({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:pSe(u),angleInRadian:u}},ySe=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},xSe=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},wT=function(t,r){var n=t.x,s=t.y,i=vSe({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=ySe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?bT(bT({},r),{},{radius:o,angle:xSe(m,r)}):null};function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}var bSe=["offset"];function wSe(e){return NSe(e)||SSe(e)||_Se(e)||jSe()}function jSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Se(e,t){if(e){if(typeof e=="string")return y1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y1(e,t)}}function SSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NSe(e){if(Array.isArray(e))return y1(e)}function y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kSe(e,t){if(e==null)return{};var r=CSe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){ESe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ESe(e,t,r){return t=PSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PSe(e){var t=OSe(e,"string");return Em(t)=="symbol"?t:t+""}function OSe(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}var ASe=function(t){var r=t.value,n=t.formatter,s=yt(t.children)?r:t.children;return it(n)?n(s):s},TSe=function(t,r){var n=ga(r-t),s=Math.min(Math.abs(r-t),360);return n*s},RSe=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,x=(f+h)/2,b=TSe(m,g),v=b>=0?1:-1,w,_;s==="insideStart"?(w=m+v*o,_=p):s==="insideEnd"?(w=g-v*o,_=!p):s==="end"&&(w=g+v*o,_=p),_=b<=0?_:!_;var j=cn(u,d,x,w),S=cn(u,d,x,w+(_?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),k=yt(t.id)?bp("recharts-radial-line-"):t.id;return R.createElement("text",Pm({},n,{dominantBaseline:"central",className:jt("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:k,d:N})),R.createElement("textPath",{xlinkHref:"#".concat(k)},r))},MSe=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var m=cn(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=cn(o,l,x,h),v=b.x,w=b.y;return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},$Se=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,x=p*s,b=p>0?"end":"start",v=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return Fr(Fr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Fr(Fr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Fr(Fr({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Fr(Fr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?Fr({x:l+x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},N):i==="insideRight"?Fr({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideTop"?Fr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?Fr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):i==="insideTopLeft"?Fr({x:l+x,y:c+h,textAnchor:v,verticalAnchor:g},N):i==="insideTopRight"?Fr({x:l+u-x,y:c+h,textAnchor:b,verticalAnchor:g},N):i==="insideBottomLeft"?Fr({x:l+x,y:c+d-h,textAnchor:v,verticalAnchor:m},N):i==="insideBottomRight"?Fr({x:l+u-x,y:c+d-h,textAnchor:b,verticalAnchor:m},N):uf(i)&&(je(i.x)||Bl(i.x))&&(je(i.y)||Bl(i.y))?Fr({x:l+_c(i.x,u),y:c+_c(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):Fr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},ISe=function(t){return"cx"in t&&je(t.cx)};function bn(e){var t=e.offset,r=t===void 0?5:t,n=kSe(e,bSe),s=Fr({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||yt(l)&&yt(c)&&!y.isValidElement(u)&&!it(u))return null;if(y.isValidElement(u))return y.cloneElement(u,s);var m;if(it(u)){if(m=y.createElement(u,s),y.isValidElement(m))return m}else m=ASe(s);var g=ISe(i),p=mt(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return RSe(s,m,p);var x=g?MSe(s):$Se(s);return R.createElement(dy,Pm({className:jt("recharts-label",f)},p,x,{breakAll:h}),m)}bn.displayName="Label";var Rq=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,x=t.height,b=t.clockWise,v=t.labelViewBox;if(v)return v;if(je(p)&&je(x)){if(je(f)&&je(h))return{x:f,y:h,width:p,height:x};if(je(m)&&je(g))return{x:m,y:g,width:p,height:x}}return je(f)&&je(h)?{x:f,y:h,width:0,height:0}:je(r)&&je(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},DSe=function(t,r){return t?t===!0?R.createElement(bn,{key:"label-implicit",viewBox:r}):Hr(t)?R.createElement(bn,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===bn?y.cloneElement(t,{key:"label-implicit",viewBox:r}):R.createElement(bn,{key:"label-implicit",content:t,viewBox:r}):it(t)?R.createElement(bn,{key:"label-implicit",content:t,viewBox:r}):uf(t)?R.createElement(bn,Pm({viewBox:r},t,{key:"label-implicit"})):null:null},LSe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=Rq(t),o=_a(s,bn).map(function(c,u){return y.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=DSe(t.label,r||i);return[l].concat(wSe(o))};bn.parseViewBox=Rq;bn.renderCallByParent=LSe;function FSe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var USe=FSe;const qSe=zt(USe);function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}var BSe=["valueAccessor"],zSe=["data","dataKey","clockWise","id","textBreakAll"];function WSe(e){return GSe(e)||HSe(e)||KSe(e)||VSe()}function VSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KSe(e,t){if(e){if(typeof e=="string")return x1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x1(e,t)}}function HSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GSe(e){if(Array.isArray(e))return x1(e)}function x1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ST(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){YSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YSe(e,t,r){return t=QSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QSe(e){var t=XSe(e,"string");return Om(t)=="symbol"?t:t+""}function XSe(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NT(e,t){if(e==null)return{};var r=JSe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ZSe=function(t){return Array.isArray(t.value)?qSe(t.value):t.value};function nl(e){var t=e.valueAccessor,r=t===void 0?ZSe:t,n=NT(e,BSe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=NT(n,zSe);return!s||!s.length?null:R.createElement(fr,{className:"recharts-label-list"},s.map(function(d,f){var h=yt(i)?r(d,f):ys(d&&d.payload,i),m=yt(l)?{}:{id:"".concat(l,"-").concat(f)};return R.createElement(bn,Ey({},mt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:bn.parseViewBox(yt(o)?d:ST(ST({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}nl.displayName="LabelList";function eNe(e,t){return e?e===!0?R.createElement(nl,{key:"labelList-implicit",data:t}):R.isValidElement(e)||it(e)?R.createElement(nl,{key:"labelList-implicit",data:t,content:e}):uf(e)?R.createElement(nl,Ey({data:t},e,{key:"labelList-implicit"})):null:null}function tNe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=_a(n,nl).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=eNe(e.label,t);return[i].concat(WSe(s))}nl.renderCallByParent=tNe;function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b1.apply(this,arguments)}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function CT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){rNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rNe(e,t,r){return t=nNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nNe(e){var t=sNe(e,"string");return Am(t)=="symbol"?t:t+""}function sNe(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aNe=function(t,r){var n=ga(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},_g=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Cy,h=u?i:i+o*f,m=cn(r,n,d,h),g=cn(r,n,s,h),p=u?i-o*f:i,x=cn(r,n,d*Math.cos(f*Cy),p);return{center:m,circleTangency:g,lineTangency:x,theta:f}},Mq=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=aNe(o,l),u=o+c,d=cn(r,n,i,o),f=cn(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=cn(r,n,s,o),g=cn(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},iNe=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ga(d-u),h=_g({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,x=_g({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,v=x.lineTangency,w=x.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Mq({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var S=_g({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,k=S.lineTangency,C=S.theta,E=_g({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=E.circleTangency,O=E.lineTangency,q=E.theta,A=c?Math.abs(u-d):Math.abs(u-d)-C-q;if(A<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},oNe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$q=function(t){var r=CT(CT({},oNe),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=jt("recharts-sector",h),g=o-i,p=_c(l,g,0,!0),x;return p>0&&Math.abs(d-f)<360?x=iNe({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=Mq({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),R.createElement("path",b1({},mt(r,!0),{className:m,d:x,role:"img"}))};function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w1.apply(this,arguments)}function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function PT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){lNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lNe(e,t,r){return t=cNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cNe(e){var t=uNe(e,"string");return Tm(t)=="symbol"?t:t+""}function uNe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OT={curveBasisClosed:lfe,curveBasisOpen:cfe,curveBasis:ofe,curveBumpX:Hde,curveBumpY:Gde,curveLinearClosed:ufe,curveLinear:xb,curveMonotoneX:dfe,curveMonotoneY:ffe,curveNatural:hfe,curveStep:mfe,curveStepAfter:gfe,curveStepBefore:pfe},Sg=function(t){return t.x===+t.x&&t.y===+t.y},Hf=function(t){return t.x},Gf=function(t){return t.y},dNe=function(t,r){if(it(t))return t;var n="curve".concat(vb(t));return(n==="curveMonotone"||n==="curveBump")&&r?OT["".concat(n).concat(r==="vertical"?"Y":"X")]:OT[n]||xb},fNe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=dNe(n,l),f=u?i.filter(function(p){return Sg(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return Sg(p)}):o,g=f.map(function(p,x){return PT(PT({},p),{},{base:m[x]})});return l==="vertical"?h=mg().y(Gf).x1(Hf).x0(function(p){return p.base.x}):h=mg().x(Hf).y1(Gf).y0(function(p){return p.base.y}),h.defined(Sg).curve(d),h(g)}return l==="vertical"&&je(o)?h=mg().y(Gf).x1(Hf).x0(o):je(o)?h=mg().x(Hf).y1(Gf).y0(o):h=I5().x(Hf).y(Gf),h.defined(Sg).curve(d),h(f)},Ph=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?fNe(t):s;return y.createElement("path",w1({},mt(t,!1),Qv(t),{className:jt("recharts-curve",r),d:o,ref:i}))},Iq={exports:{}},hNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mNe=hNe,pNe=mNe;function Dq(){}function Lq(){}Lq.resetWarningCache=Dq;var gNe=function(){function e(n,s,i,o,l,c){if(c!==pNe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Lq,resetWarningCache:Dq};return r.PropTypes=r,r};Iq.exports=gNe();var vNe=Iq.exports;const Tt=zt(vNe),{getOwnPropertyNames:yNe,getOwnPropertySymbols:xNe}=Object,{hasOwnProperty:bNe}=Object.prototype;function b0(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Ng(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function wNe(e){return e!=null?e[Symbol.toStringTag]:void 0}function AT(e){return yNe(e).concat(xNe(e))}const jNe=Object.hasOwn||((e,t)=>bNe.call(e,t));function Dc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const _Ne="__v",SNe="__o",NNe="_owner",{getOwnPropertyDescriptor:TT,keys:RT}=Object;function kNe(e,t){return e.byteLength===t.byteLength&&Py(new Uint8Array(e),new Uint8Array(t))}function CNe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function ENe(e,t){return e.byteLength===t.byteLength&&Py(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function PNe(e,t){return Dc(e.getTime(),t.getTime())}function ONe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ANe(e,t){return e===t}function MT(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const TNe=Dc;function RNe(e,t,r){const n=RT(e);let s=n.length;if(RT(t).length!==s)return!1;for(;s-- >0;)if(!Fq(e,t,r,n[s]))return!1;return!0}function Yf(e,t,r){const n=AT(e);let s=n.length;if(AT(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!Fq(e,t,r,i)||(o=TT(e,i),l=TT(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function MNe(e,t){return Dc(e.valueOf(),t.valueOf())}function $Ne(e,t){return e.source===t.source&&e.flags===t.flags}function $T(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Py(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function INe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Fq(e,t,r,n){return(n===NNe||n===SNe||n===_Ne)&&(e.$$typeof||t.$$typeof)?!0:jNe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const DNe="[object ArrayBuffer]",LNe="[object Arguments]",FNe="[object Boolean]",UNe="[object DataView]",qNe="[object Date]",BNe="[object Error]",zNe="[object Map]",WNe="[object Number]",VNe="[object Object]",KNe="[object RegExp]",HNe="[object Set]",GNe="[object String]",YNe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},QNe="[object URL]",XNe=Object.prototype.toString;function JNe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(x,b,v){if(x===b)return!0;if(x==null||b==null)return!1;const w=typeof x;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(x,b,v):w==="function"?i(x,b,v):!1;const _=x.constructor;if(_!==b.constructor)return!1;if(_===Object)return c(x,b,v);if(Array.isArray(x))return t(x,b,v);if(_===Date)return n(x,b,v);if(_===RegExp)return d(x,b,v);if(_===Map)return o(x,b,v);if(_===Set)return f(x,b,v);const j=XNe.call(x);if(j===qNe)return n(x,b,v);if(j===KNe)return d(x,b,v);if(j===zNe)return o(x,b,v);if(j===HNe)return f(x,b,v);if(j===VNe)return typeof x.then!="function"&&typeof b.then!="function"&&c(x,b,v);if(j===QNe)return m(x,b,v);if(j===BNe)return s(x,b,v);if(j===LNe)return c(x,b,v);if(YNe[j])return h(x,b,v);if(j===DNe)return e(x,b,v);if(j===UNe)return r(x,b,v);if(j===FNe||j===WNe||j===GNe)return u(x,b,v);if(g){let S=g[j];if(!S){const N=wNe(x);N&&(S=g[N])}if(S)return S(x,b,v)}return!1}}function ZNe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:kNe,areArraysEqual:r?Yf:CNe,areDataViewsEqual:ENe,areDatesEqual:PNe,areErrorsEqual:ONe,areFunctionsEqual:ANe,areMapsEqual:r?b0(MT,Yf):MT,areNumbersEqual:TNe,areObjectsEqual:r?Yf:RNe,arePrimitiveWrappersEqual:MNe,areRegExpsEqual:$Ne,areSetsEqual:r?b0($T,Yf):$T,areTypedArraysEqual:r?b0(Py,Yf):Py,areUrlsEqual:INe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=Ng(n.areArraysEqual),i=Ng(n.areMapsEqual),o=Ng(n.areObjectsEqual),l=Ng(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function eke(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function tke({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const rke=wl();wl({strict:!0});wl({circular:!0});wl({circular:!0,strict:!0});wl({createInternalComparator:()=>Dc});wl({strict:!0,createInternalComparator:()=>Dc});wl({circular:!0,createInternalComparator:()=>Dc});wl({circular:!0,createInternalComparator:()=>Dc,strict:!0});function wl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=ZNe(e),o=JNe(i),l=r?r(o):eke(o);return tke({circular:t,comparator:o,createState:n,equals:l,strict:s})}function nke(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function IT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):nke(s)};requestAnimationFrame(n)}function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function ske(e){return lke(e)||oke(e)||ike(e)||ake()}function ake(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ike(e,t){if(e){if(typeof e=="string")return DT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DT(e,t)}}function DT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lke(e){if(Array.isArray(e))return e}function cke(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=ske(o),c=l[0],u=l.slice(1);if(typeof c=="number"){IT(s.bind(null,u),c);return}s(c),IT(s.bind(null,u));return}j1(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function FT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){Uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uq(e,t,r){return t=uke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uke(e){var t=dke(e,"string");return Rm(t)==="symbol"?t:String(t)}function dke(e,t){if(Rm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fke=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},hke=function(t){return t},mke=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Oh=function(t,r){return Object.keys(r).reduce(function(n,s){return FT(FT({},n),{},Uq({},s,t(s,r[s])))},{})},UT=function(t,r,n){return t.map(function(s){return"".concat(mke(s)," ").concat(r,"ms ").concat(n)}).join(",")};function pke(e,t){return yke(e)||vke(e,t)||qq(e,t)||gke()}function gke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function yke(e){if(Array.isArray(e))return e}function xke(e){return jke(e)||wke(e)||qq(e)||bke()}function bke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qq(e,t){if(e){if(typeof e=="string")return _1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _1(e,t)}}function wke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jke(e){if(Array.isArray(e))return _1(e)}function _1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oy=1e-4,Bq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},zq=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},qT=function(t,r){return function(n){var s=Bq(t,r);return zq(s,n)}},_ke=function(t,r){return function(n){var s=Bq(t,r),i=[].concat(xke(s.map(function(o,l){return o*l}).slice(1)),[0]);return zq(i,n)}},BT=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=pke(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=qT(s,o),h=qT(i,l),m=_ke(s,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var v=b>1?1:b,w=v,_=0;_<8;++_){var j=f(w)-v,S=m(w);if(Math.abs(j-v)<Oy||S<Oy)return h(w);w=g(w-j/S)}return h(w)};return p.isStepper=!1,p},Ske=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*i,p=h+(m-g)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<Oy&&Math.abs(p)<Oy?[f,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},Nke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BT(s);case"spring":return Ske();default:if(s.split("(")[0]==="cubic-bezier")return BT(s)}return typeof s=="function"?s:null};function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function zT(e){return Eke(e)||Cke(e)||Wq(e)||kke()}function kke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eke(e){if(Array.isArray(e))return N1(e)}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){S1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S1(e,t,r){return t=Pke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pke(e){var t=Oke(e,"string");return Mm(t)==="symbol"?t:String(t)}function Oke(e,t){if(Mm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ake(e,t){return Mke(e)||Rke(e,t)||Wq(e,t)||Tke()}function Tke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wq(e,t){if(e){if(typeof e=="string")return N1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N1(e,t)}}function N1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Mke(e){if(Array.isArray(e))return e}var Ay=function(t,r,n){return t+(r-t)*n},k1=function(t){var r=t.from,n=t.to;return r!==n},$ke=function e(t,r,n){var s=Oh(function(i,o){if(k1(o)){var l=t(o.from,o.to,o.velocity),c=Ake(l,2),u=c[0],d=c[1];return an(an({},o),{},{from:u,velocity:d})}return o},r);return n<1?Oh(function(i,o){return k1(o)?an(an({},o),{},{velocity:Ay(o.velocity,s[i].velocity,n),from:Ay(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const Ike=function(e,t,r,n,s){var i=fke(e,t),o=i.reduce(function(x,b){return an(an({},x),{},S1({},b,[e[b],t[b]]))},{}),l=i.reduce(function(x,b){return an(an({},x),{},S1({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Oh(function(b,v){return v.from},l)},m=function(){return!Object.values(l).filter(k1).length},g=function(b){u||(u=b);var v=b-u,w=v/r.dt;l=$ke(r,l,w),s(an(an(an({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var v=(b-d)/n,w=Oh(function(j,S){return Ay.apply(void 0,zT(S).concat([r(v)]))},o);if(s(an(an(an({},e),t),w)),v<1)c=requestAnimationFrame(f);else{var _=Oh(function(j,S){return Ay.apply(void 0,zT(S).concat([r(1)]))},o);s(an(an(an({},e),t),_))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}var Dke=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Lke(e,t){if(e==null)return{};var r=Fke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fke(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function w0(e){return zke(e)||Bke(e)||qke(e)||Uke()}function Uke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qke(e,t){if(e){if(typeof e=="string")return C1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C1(e,t)}}function Bke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zke(e){if(Array.isArray(e))return C1(e)}function C1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dh(e,t,r){return t=Vq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vq(n.key),n)}}function Kke(e,t,r){return t&&Vke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vq(e){var t=Hke(e,"string");return Ad(t)==="symbol"?t:String(t)}function Hke(e,t){if(Ad(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E1(e,t)}function E1(e,t){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},E1(e,t)}function Yke(e){var t=Qke();return function(){var n=Ty(e),s;if(t){var i=Ty(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return P1(this,s)}}function P1(e,t){if(t&&(Ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O1(e)}function O1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ty(e)}var Yi=function(e){Gke(r,e);var t=Yke(r);function r(n,s){var i;Wke(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(O1(i)),i.changeStyle=i.changeStyle.bind(O1(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),P1(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},P1(i);i.state={style:c?dh({},c,u):u}}else i.state={style:{}};return i}return Kke(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?dh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(rke(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:s.to;if(this.state&&h){var x={style:c?dh({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(x)}this.runAnimation(ra(ra({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=Ike(o,l,Nke(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,x,b){if(b===0)return p;var v=x.duration,w=x.easing,_=w===void 0?"ease":w,j=x.style,S=x.properties,N=x.onAnimationEnd,k=b>0?o[b-1]:x,C=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(w0(p),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:v,easing:_}),v]);var E=UT(C,v,_),D=ra(ra(ra({},k.style),j),{},{transition:E});return[].concat(w0(p),[D,v,N]).filter(hke)};return this.manager.start([c].concat(w0(o.reduce(m,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=cke());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?dh({},l,c):c,x=UT(Object.keys(p),o,u);g.start([d,i,ra(ra({},p),{},{transition:x}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=Lke(s,Dke),u=y.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var g=m.props,p=g.style,x=p===void 0?{}:p,b=g.className,v=y.cloneElement(m,ra(ra({},c),{},{style:ra(ra({},x),d),className:b}));return v};return u===1?f(y.Children.only(i)):R.createElement("div",null,y.Children.map(i,function(h){return f(h)}))}}]),r}(y.PureComponent);Yi.displayName="Animate";Yi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Yi.propTypes={from:Tt.oneOfType([Tt.object,Tt.string]),to:Tt.oneOfType([Tt.object,Tt.string]),attributeName:Tt.string,duration:Tt.number,begin:Tt.number,easing:Tt.oneOfType([Tt.string,Tt.func]),steps:Tt.arrayOf(Tt.shape({duration:Tt.number.isRequired,style:Tt.object.isRequired,easing:Tt.oneOfType([Tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Tt.func]),properties:Tt.arrayOf("string"),onAnimationEnd:Tt.func})),children:Tt.oneOfType([Tt.node,Tt.func]),isActive:Tt.bool,canBegin:Tt.bool,onAnimationEnd:Tt.func,shouldReAnimate:Tt.bool,onAnimationStart:Tt.func,onAnimationReStart:Tt.func};function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(this,arguments)}function Xke(e,t){return tCe(e)||eCe(e,t)||Zke(e,t)||Jke()}function Jke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zke(e,t){if(e){if(typeof e=="string")return KT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KT(e,t)}}function KT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tCe(e){if(Array.isArray(e))return e}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(n){rCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rCe(e,t,r){return t=nCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nCe(e){var t=sCe(e,"string");return $m(t)=="symbol"?t:t+""}function sCe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YT=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},aCe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},iCe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zk=function(t){var r=GT(GT({},iCe),t),n=y.useRef(),s=y.useState(-1),i=Xke(s,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=jt("recharts-rectangle",m);return v?R.createElement(Yi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:v},function(_){var j=_.width,S=_.height,N=_.x,k=_.y;return R.createElement(Yi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:b,easing:g},R.createElement("path",Ry({},mt(r,!0),{className:w,d:YT(N,k,j,S,h),ref:n})))}):R.createElement("path",Ry({},mt(r,!0),{className:w,d:YT(c,u,d,f,h)}))};function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A1.apply(this,arguments)}var eC=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=jt("recharts-dot",i);return r===+r&&n===+n&&s===+s?y.createElement("circle",A1({},mt(t,!1),Qv(t),{className:o,cx:r,cy:n,r:s})):null};function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}var oCe=["x","y","top","left","width","height","className"];function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T1.apply(this,arguments)}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lCe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){cCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cCe(e,t,r){return t=uCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uCe(e){var t=dCe(e,"string");return Im(t)=="symbol"?t:t+""}function dCe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fCe(e,t){if(e==null)return{};var r=hCe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mCe=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},pCe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=fCe(t,oCe),x=lCe({x:n,y:i,top:l,left:u,width:f,height:m},p);return!je(n)||!je(i)||!je(f)||!je(m)||!je(l)||!je(u)?null:R.createElement("path",T1({},mt(x,!0),{className:jt("recharts-cross",g),d:mCe(n,i,f,m,l,u)}))},gCe=iU,vCe=gCe(Object.getPrototypeOf,Object),yCe=vCe,xCe=no,bCe=yCe,wCe=so,jCe="[object Object]",_Ce=Function.prototype,SCe=Object.prototype,Kq=_Ce.toString,NCe=SCe.hasOwnProperty,kCe=Kq.call(Object);function CCe(e){if(!wCe(e)||xCe(e)!=jCe)return!1;var t=bCe(e);if(t===null)return!0;var r=NCe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Kq.call(r)==kCe}var ECe=CCe;const PCe=zt(ECe);var OCe=no,ACe=so,TCe="[object Boolean]";function RCe(e){return e===!0||e===!1||ACe(e)&&OCe(e)==TCe}var MCe=RCe;const $Ce=zt(MCe);function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(this,arguments)}function ICe(e,t){return UCe(e)||FCe(e,t)||LCe(e,t)||DCe()}function DCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LCe(e,t){if(e){if(typeof e=="string")return XT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XT(e,t)}}function XT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function UCe(e){if(Array.isArray(e))return e}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){qCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qCe(e,t,r){return t=BCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BCe(e){var t=zCe(e,"string");return Dm(t)=="symbol"?t:t+""}function zCe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eR=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},WCe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VCe=function(t){var r=ZT(ZT({},WCe),t),n=y.useRef(),s=y.useState(-1),i=ICe(s,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=jt("recharts-trapezoid",m);return b?R.createElement(Yi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var _=w.upperWidth,j=w.lowerWidth,S=w.height,N=w.x,k=w.y;return R.createElement(Yi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:g},R.createElement("path",My({},mt(r,!0),{className:v,d:eR(N,k,_,j,S),ref:n})))}):R.createElement("g",null,R.createElement("path",My({},mt(r,!0),{className:v,d:eR(c,u,d,f,h)})))},KCe=["option","shapeType","propTransformer","activeClassName","isActive"];function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function HCe(e,t){if(e==null)return{};var r=GCe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){YCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YCe(e,t,r){return t=QCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QCe(e){var t=XCe(e,"string");return Lm(t)=="symbol"?t:t+""}function XCe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JCe(e,t){return $y($y({},t),e)}function ZCe(e,t){return e==="symbols"}function rR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return R.createElement(Zk,r);case"trapezoid":return R.createElement(VCe,r);case"sector":return R.createElement($q,r);case"symbols":if(ZCe(t))return R.createElement(yk,r);break;default:return null}}function e2e(e){return y.isValidElement(e)?e.props:e}function t2e(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?JCe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=HCe(e,KCe),u;if(y.isValidElement(t))u=y.cloneElement(t,$y($y({},c),e2e(t)));else if(it(t))u=t(c);else if(PCe(t)&&!$Ce(t)){var d=s(t,c);u=R.createElement(rR,{shapeType:r,elementProps:d})}else{var f=c;u=R.createElement(rR,{shapeType:r,elementProps:f})}return l?R.createElement(fr,{className:o},u):u}function Mb(e,t){return t!=null&&"trapezoids"in e.props}function $b(e,t){return t!=null&&"sectors"in e.props}function Fm(e,t){return t!=null&&"points"in e.props}function r2e(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function n2e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function s2e(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function a2e(e,t){var r;return Mb(e,t)?r=r2e:$b(e,t)?r=n2e:Fm(e,t)&&(r=s2e),r}function i2e(e,t){var r;return Mb(e,t)?r="trapezoids":$b(e,t)?r="sectors":Fm(e,t)&&(r="points"),r}function o2e(e,t){if(Mb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if($b(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Fm(e,t)?t.payload:{}}function l2e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=i2e(r,t),i=o2e(r,t),o=n.filter(function(c,u){var d=jm(i,c),f=r.props[s].filter(function(g){var p=a2e(r,t);return p(g,t)}),h=r.props[s].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var c2e=Math.ceil,u2e=Math.max;function d2e(e,t,r,n){for(var s=-1,i=u2e(c2e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var f2e=d2e,h2e=NU,nR=1/0,m2e=17976931348623157e292;function p2e(e){if(!e)return e===0?e:0;if(e=h2e(e),e===nR||e===-nR){var t=e<0?-1:1;return t*m2e}return e===e?e:0}var Hq=p2e,g2e=f2e,v2e=_b,j0=Hq;function y2e(e){return function(t,r,n){return n&&typeof n!="number"&&v2e(t,r,n)&&(r=n=void 0),t=j0(t),r===void 0?(r=t,t=0):r=j0(r),n=n===void 0?t<r?1:-1:j0(n),g2e(t,r,n,e)}}var x2e=y2e,b2e=x2e,w2e=b2e(),j2e=w2e;const Iy=zt(j2e);function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(n){Gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gq(e,t,r){return t=_2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _2e(e){var t=S2e(e,"string");return Um(t)=="symbol"?t:t+""}function S2e(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N2e=["Webkit","Moz","O","ms"],k2e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=N2e.reduce(function(i,o){return aR(aR({},i),{},Gq({},o+n,r))},{});return s[t]=r,s};function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(this,arguments)}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qq(n.key),n)}}function E2e(e,t,r){return t&&oR(e.prototype,t),r&&oR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P2e(e,t,r){return t=Ly(t),O2e(e,Yq()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function O2e(e,t){if(t&&(Td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A2e(e)}function A2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yq=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(e)}function T2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R1(e,t)}function R1(e,t){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},R1(e,t)}function ss(e,t,r){return t=Qq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=R2e(e,"string");return Td(t)=="symbol"?t:t+""}function R2e(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var M2e=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Ch().domain(Iy(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},lR=function(t){return t.changedTouches&&!!t.changedTouches.length},Rd=function(e){function t(r){var n;return C2e(this,t),n=P2e(this,t,[r]),ss(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),ss(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),ss(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ss(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ss(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ss(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ss(n,"handleSlideDragStart",function(s){var i=lR(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return T2e(t,e),E2e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=ys(i[n],l,n);return it(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==h||x.endIndex!==m)&&g&&g(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=lR(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},v=n.pageX-i;v>0?v=Math.min(v,f+h-m-u):v<0&&(v=Math.max(v,f-u)),b[o]=u+v;var w=this.getIndex(b),_=w.startIndex,j=w.endIndex,S=function(){var k=x.length-1;return o==="startX"&&(l>c?_%p===0:j%p===0)||l<c&&j===k||o==="endX"&&(l>c?j%p===0:_%p===0)||l>c&&j===k};this.setState(ss(ss({},o,u+v),"brushMoveStartX",n.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(ss({},s,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return R.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?R.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),v=_0(_0({},mt(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return R.createElement(fr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return R.createElement(fr,{className:"recharts-brush-texts"},R.createElement(dy,Dy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(s)),R.createElement(dy,Dy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,v=h.isTravellerFocused;if(!s||!s.length||!je(l)||!je(c)||!je(u)||!je(d)||u<=0||d<=0)return null;var w=jt("recharts-brush",i),_=R.Children.count(o)===1,j=k2e("userSelect","none");return R.createElement(fr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||x||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),R.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return R.isValidElement(n)?i=R.cloneElement(n,s):it(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return _0({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?M2e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(y.PureComponent);ss(Rd,"displayName","Brush");ss(Rd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $2e=Nk;function I2e(e,t){var r;return $2e(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var D2e=I2e,L2e=J5,F2e=yl,U2e=D2e,q2e=es,B2e=_b;function z2e(e,t,r){var n=q2e(e)?L2e:U2e;return r&&B2e(e,t,r)&&(t=void 0),n(e,F2e(t))}var W2e=z2e;const V2e=zt(W2e);var ti=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},cR=bU;function K2e(e,t,r){t=="__proto__"&&cR?cR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var H2e=K2e,G2e=H2e,Y2e=yU,Q2e=yl;function X2e(e,t){var r={};return t=Q2e(t),Y2e(e,function(n,s,i){G2e(r,s,t(n,s,i))}),r}var J2e=X2e;const Z2e=zt(J2e);function eEe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var tEe=eEe,rEe=Nk;function nEe(e,t){var r=!0;return rEe(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var sEe=nEe,aEe=tEe,iEe=sEe,oEe=yl,lEe=es,cEe=_b;function uEe(e,t,r){var n=lEe(e)?aEe:iEe;return r&&cEe(e,t,r)&&(t=void 0),n(e,oEe(t))}var dEe=uEe;const Xq=zt(dEe);var fEe=["x","y"];function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M1.apply(this,arguments)}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){hEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hEe(e,t,r){return t=mEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mEe(e){var t=pEe(e,"string");return qm(t)=="symbol"?t:t+""}function pEe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gEe(e,t){if(e==null)return{};var r=vEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yEe(e,t){var r=e.x,n=e.y,s=gEe(e,fEe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Qf(Qf(Qf(Qf(Qf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function dR(e){return R.createElement(t2e,M1({shapeType:"rectangle",propTransformer:yEe,activeClassName:"recharts-active-bar"},e))}var xEe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=je(n)||Tue(n);return i?t(n,s):(i||Nc(),r)}},bEe=["value","background"],Jq;function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function wEe(e,t){if(e==null)return{};var r=jEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(this,arguments)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){Wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eB(n.key),n)}}function SEe(e,t,r){return t&&hR(e.prototype,t),r&&hR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NEe(e,t,r){return t=Uy(t),kEe(e,Zq()?Reflect.construct(t,r||[],Uy(e).constructor):t.apply(e,r))}function kEe(e,t){if(t&&(Md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CEe(e)}function CEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zq=function(){return!!e})()}function Uy(e){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uy(e)}function EEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$1(e,t)}function $1(e,t){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$1(e,t)}function Wo(e,t,r){return t=eB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=PEe(e,"string");return Md(t)=="symbol"?t:t+""}function PEe(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lc=function(e){function t(){var r;_Ee(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=NEe(this,t,[].concat(s)),Wo(r,"state",{isAnimationFinished:!1}),Wo(r,"id",bp("recharts-bar-")),Wo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Wo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return EEe(t,e),SEe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=mt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=Er(Er(Er({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return R.createElement(fr,Fy({className:"recharts-bar-rectangle"},Xv(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),R.createElement(dR,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return R.createElement(Yi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(x,b){var v=h&&h[b];if(v){var w=Os(v.x,x.x),_=Os(v.y,x.y),j=Os(v.width,x.width),S=Os(v.height,x.height);return Er(Er({},x),{},{x:w(g),y:_(g),width:j(g),height:S(g)})}if(o==="horizontal"){var N=Os(0,x.height),k=N(g);return Er(Er({},x),{},{y:x.y+x.height-k,height:k})}var C=Os(0,x.width),E=C(g);return Er(Er({},x),{},{width:E})});return R.createElement(fr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!jm(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=mt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=wEe(u,bEe);if(!f)return null;var m=Er(Er(Er(Er(Er({},h),{},{fill:"#eee"},f),c),Xv(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return R.createElement(dR,Fy({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=_a(d,Rb);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,b){var v=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:v,errorVal:ys(x,b)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return R.createElement(fr,g,f.map(function(p){return R.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=jt("recharts-bar",o),v=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=v||w,j=yt(p)?this.id:p;return R.createElement(fr,{className:b},v||w?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(j)},R.createElement("rect",{x:v?u:u-f/2,y:w?d:d-h/2,width:v?f:f*2,height:w?h:h*2}))):null,R.createElement(fr,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||x)&&nl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(y.PureComponent);Jq=Lc;Wo(Lc,"displayName","Bar");Wo(Lc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wo(Lc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=tSe(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,x=p!==void 0?Er(Er({},p),r.props):r.props,b=x.dataKey,v=x.children,w=x.minPointSize,_=g==="horizontal"?o:i,j=u?_.scale.domain():null,S=cSe({numericAxis:_}),N=_a(v,CU),k=f.map(function(C,E){var D,O,q,A,V,T;u?D=rSe(u[d+E],j):(D=ys(C,b),Array.isArray(D)||(D=[S,D]));var K=xEe(w,Jq.defaultProps.minPointSize)(D[1],E);if(g==="horizontal"){var M,$=[o.scale(D[0]),o.scale(D[1])],I=$[0],ee=$[1];O=pT({axis:i,ticks:l,bandSize:s,offset:m.offset,entry:C,index:E}),q=(M=ee??I)!==null&&M!==void 0?M:void 0,A=m.size;var L=I-ee;if(V=Number.isNaN(L)?0:L,T={x:O,y:o.y,width:A,height:o.height},Math.abs(K)>0&&Math.abs(V)<Math.abs(K)){var oe=ga(V||K)*(Math.abs(K)-Math.abs(V));q-=oe,V+=oe}}else{var ye=[i.scale(D[0]),i.scale(D[1])],Ve=ye[0],Ke=ye[1];if(O=Ve,q=pT({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:C,index:E}),A=Ke-Ve,V=m.size,T={x:i.x,y:q,width:i.width,height:V},Math.abs(K)>0&&Math.abs(A)<Math.abs(K)){var he=ga(A||K)*(Math.abs(K)-Math.abs(A));A+=he}}return Er(Er(Er({},C),{},{x:O,y:q,width:A,height:V,value:u?D:D[1],payload:C,background:T},N&&N[E]&&N[E].props),{},{tooltipPayload:[Tq(r,C)],tooltipPosition:{x:O+A/2,y:q+V/2}})});return Er({data:k,layout:g},h)});function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function OEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tB(n.key),n)}}function AEe(e,t,r){return t&&mR(e.prototype,t),r&&mR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){Ib(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ib(e,t,r){return t=tB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tB(e){var t=TEe(e,"string");return Bm(t)=="symbol"?t:t+""}function TEe(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rB=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!is(u,Lc);return d.reduce(function(m,g){var p=r[g],x=p.orientation,b=p.domain,v=p.padding,w=v===void 0?{}:v,_=p.mirror,j=p.reversed,S="".concat(x).concat(_?"Mirror":""),N,k,C,E,D;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var O=b[1]-b[0],q=1/0,A=p.categoricalDomain.sort($ue);if(A.forEach(function(ye,Ve){Ve>0&&(q=Math.min((ye||0)-(A[Ve-1]||0),q))}),Number.isFinite(q)){var V=q/O,T=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=V*T/2),p.padding==="no-gap"){var K=_c(t.barCategoryGap,V*T),M=V*T/2;N=M-K-(M-K)/T*K}}}s==="xAxis"?k=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:k=p.range,j&&(k=[k[1],k[0]]);var $=Z1e(p,i,h),I=$.scale,ee=$.realScaleType;I.domain(b).range(k),eSe(I);var L=lSe(I,da(da({},p),{},{realScaleType:ee}));s==="xAxis"?(D=x==="top"&&!_||x==="bottom"&&_,C=n.left,E=f[S]-D*p.height):s==="yAxis"&&(D=x==="left"&&!_||x==="right"&&_,C=f[S]-D*p.width,E=n.top);var oe=da(da(da({},p),L),{},{realScaleType:ee,x:C,y:E,scale:I,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return oe.bandSize=ky(oe,L),!p.hide&&s==="xAxis"?f[S]+=(D?-1:1)*oe.height:p.hide||(f[S]+=(D?-1:1)*oe.width),da(da({},m),{},Ib({},g,oe))},{})},nB=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},REe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return nB({x:r,y:n},{x:s,y:i})},sB=function(){function e(t){OEe(this,e),this.scale=t}return AEe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Ib(sB,"EPS",1e-4);var tC=function(t){var r=Object.keys(t).reduce(function(n,s){return da(da({},n),{},Ib({},s,sB.create(t[s])))},{});return da(da({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Z2e(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Xq(s,function(i,o){return r[o].isInRange(i)})}})};function MEe(e){return(e%180+180)%180}var $Ee=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=MEe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},IEe=yl,DEe=wp,LEe=wb;function FEe(e){return function(t,r,n){var s=Object(t);if(!DEe(t)){var i=IEe(r);t=LEe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var UEe=FEe,qEe=Hq;function BEe(e){var t=qEe(e),r=t%1;return t===t?r?t-r:t:0}var zEe=BEe,WEe=fU,VEe=yl,KEe=zEe,HEe=Math.max;function GEe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:KEe(r);return s<0&&(s=HEe(n+s,0)),WEe(e,VEe(t),s)}var YEe=GEe,QEe=UEe,XEe=YEe,JEe=QEe(XEe),ZEe=JEe;const ePe=zt(ZEe);var tPe=Lce(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),rC=y.createContext(void 0),nC=y.createContext(void 0),aB=y.createContext(void 0),iB=y.createContext({}),oB=y.createContext(void 0),lB=y.createContext(0),cB=y.createContext(0),gR=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=tPe(i);return R.createElement(rC.Provider,{value:n},R.createElement(nC.Provider,{value:s},R.createElement(iB.Provider,{value:i},R.createElement(aB.Provider,{value:d},R.createElement(oB.Provider,{value:o},R.createElement(lB.Provider,{value:u},R.createElement(cB.Provider,{value:c},l)))))))},rPe=function(){return y.useContext(oB)},uB=function(t){var r=y.useContext(rC);r==null&&Nc();var n=r[t];return n==null&&Nc(),n},nPe=function(){var t=y.useContext(rC);return Po(t)},sPe=function(){var t=y.useContext(nC),r=ePe(t,function(n){return Xq(n.domain,Number.isFinite)});return r||Po(t)},dB=function(t){var r=y.useContext(nC);r==null&&Nc();var n=r[t];return n==null&&Nc(),n},aPe=function(){var t=y.useContext(aB);return t},iPe=function(){return y.useContext(iB)},sC=function(){return y.useContext(cB)},aC=function(){return y.useContext(lB)};function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function oPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hB(n.key),n)}}function cPe(e,t,r){return t&&lPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uPe(e,t,r){return t=qy(t),dPe(e,fB()?Reflect.construct(t,r||[],qy(e).constructor):t.apply(e,r))}function dPe(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fPe(e)}function fPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fB=function(){return!!e})()}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qy(e)}function hPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I1(e,t)}function I1(e,t){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},I1(e,t)}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){iC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iC(e,t,r){return t=hB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hB(e){var t=mPe(e,"string");return $d(t)=="symbol"?t:t+""}function mPe(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pPe(e,t){return xPe(e)||yPe(e,t)||vPe(e,t)||gPe()}function gPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vPe(e,t){if(e){if(typeof e=="string")return xR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xR(e,t)}}function xR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function xPe(e){if(Array.isArray(e))return e}function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D1.apply(this,arguments)}var bPe=function(t,r){var n;return R.isValidElement(t)?n=R.cloneElement(t,r):it(t)?n=t(r):n=R.createElement("line",D1({},r,{className:"recharts-reference-line-line"})),n},wPe=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(ti(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?x.reverse():x}if(r){var b=u.x,v=t.x.apply(b,{position:o});if(ti(u,"discard")&&!t.x.isInRange(v))return null;var w=[{x:v,y:f+m},{x:v,y:f}];return l==="top"?w.reverse():w}if(s){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:o})});return ti(u,"discard")&&V2e(j,function(S){return!t.isInRange(S)})?null:j}return null};function jPe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=rPe(),d=uB(s),f=dB(i),h=aPe();if(!u||!h)return null;$i(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=tC({x:d.scale,y:f.scale}),g=Hr(t),p=Hr(r),x=n&&n.length===2,b=wPe(m,g,p,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var v=pPe(b,2),w=v[0],_=w.x,j=w.y,S=v[1],N=S.x,k=S.y,C=ti(e,"hidden")?"url(#".concat(u,")"):void 0,E=yR(yR({clipPath:C},mt(e,!0)),{},{x1:_,y1:j,x2:N,y2:k});return R.createElement(fr,{className:jt("recharts-reference-line",l)},bPe(o,E),bn.renderCallByParent(e,REe({x1:_,y1:j,x2:N,y2:k})))}var oC=function(e){function t(){return oPe(this,t),uPe(this,t,arguments)}return hPe(t,e),cPe(t,[{key:"render",value:function(){return R.createElement(jPe,this.props)}}])}(R.Component);iC(oC,"displayName","ReferenceLine");iC(oC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L1.apply(this,arguments)}function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){Db(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pB(n.key),n)}}function NPe(e,t,r){return t&&SPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kPe(e,t,r){return t=By(t),CPe(e,mB()?Reflect.construct(t,r||[],By(e).constructor):t.apply(e,r))}function CPe(e,t){if(t&&(Id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EPe(e)}function EPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mB=function(){return!!e})()}function By(e){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},By(e)}function PPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F1(e,t)}function F1(e,t){return F1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},F1(e,t)}function Db(e,t,r){return t=pB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pB(e){var t=OPe(e,"string");return Id(t)=="symbol"?t:t+""}function OPe(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var APe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=tC({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ti(t,"discard")&&!o.isInRange(l)?null:l},Lb=function(e){function t(){return _Pe(this,t),kPe(this,t,arguments)}return PPe(t,e),NPe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Hr(s),d=Hr(i);if($i(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=APe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,x=g.className,b=ti(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=wR(wR({clipPath:b},mt(this.props,!0)),{},{cx:h,cy:m});return R.createElement(fr,{className:jt("recharts-reference-dot",x)},t.renderDot(p,v),bn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(R.Component);Db(Lb,"displayName","ReferenceDot");Db(Lb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Db(Lb,"renderDot",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):it(e)?r=e(t):r=R.createElement(eC,L1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U1.apply(this,arguments)}function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){Fb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vB(n.key),n)}}function MPe(e,t,r){return t&&RPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Pe(e,t,r){return t=zy(t),IPe(e,gB()?Reflect.construct(t,r||[],zy(e).constructor):t.apply(e,r))}function IPe(e,t){if(t&&(Dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DPe(e)}function DPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gB=function(){return!!e})()}function zy(e){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zy(e)}function LPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q1(e,t)}function q1(e,t){return q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},q1(e,t)}function Fb(e,t,r){return t=vB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vB(e){var t=FPe(e,"string");return Dd(t)=="symbol"?t:t+""}function FPe(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UPe=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=tC({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ti(i,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:nB(m,g)},Ub=function(e){function t(){return TPe(this,t),$Pe(this,t,arguments)}return LPe(t,e),MPe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;$i(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Hr(s),h=Hr(i),m=Hr(o),g=Hr(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var x=UPe(f,h,m,g,this.props);if(!x&&!p)return null;var b=ti(this.props,"hidden")?"url(#".concat(d,")"):void 0;return R.createElement(fr,{className:jt("recharts-reference-area",c)},t.renderRect(p,_R(_R({clipPath:b},mt(this.props,!0)),x)),bn.renderCallByParent(this.props,x))}}])}(R.Component);Fb(Ub,"displayName","ReferenceArea");Fb(Ub,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Fb(Ub,"renderRect",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):it(e)?r=e(t):r=R.createElement(Zk,U1({},t,{className:"recharts-reference-area-rect"})),r});function yB(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function qPe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return $Ee(n,r)}function BPe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Wy(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function zPe(e,t){return yB(e,t+1)}function WPe(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:yB(n,u)};var p=c,x,b=function(){return x===void 0&&(x=r(g,p)),x},v=g.coordinate,w=c===0||Wy(e,v,b,d,l);w||(c=0,d=o,u+=1),w&&(d=v+e*(b()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){VPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VPe(e,t,r){return t=KPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KPe(e){var t=HPe(e,"string");return zm(t)=="symbol"?t:t+""}function HPe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GPe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var x=e*(m.coordinate+e*p()/2-c);i[h]=m=vn(vn({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[h]=m=vn(vn({},m),{},{tickCoord:m.coordinate});var b=Wy(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+s),i[h]=vn(vn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function YPe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=vn(vn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Wy(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=vn(vn({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(v){var w=o[v],_,j=function(){return _===void 0&&(_=r(w,v)),_};if(v===0){var S=e*(w.coordinate-e*j()/2-c);o[v]=w=vn(vn({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[v]=w=vn(vn({},w),{},{tickCoord:w.coordinate});var N=Wy(e,w.tickCoord,j,c,u);N&&(c=w.tickCoord+e*(j()/2+s),o[v]=vn(vn({},w),{},{isShow:!0}))},x=0;x<g;x++)p(x);return o}function lC(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(je(c)||yf.isSsr)return zPe(s,typeof c=="number"&&je(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?kh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,_){var j=it(u)?u(w.value,_):w.value;return m==="width"?qPe(kh(j,{fontSize:t,letterSpacing:r}),g,f):kh(j,{fontSize:t,letterSpacing:r})[m]},x=s.length>=2?ga(s[1].coordinate-s[0].coordinate):1,b=BPe(i,x,m);return c==="equidistantPreserveStart"?WPe(x,b,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=YPe(x,b,p,s,o,c==="preserveStartEnd"):h=GPe(x,b,p,s,o),h.filter(function(v){return v.isShow}))}var QPe=["viewBox"],XPe=["viewBox"],JPe=["ticks"];function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nu.apply(this,arguments)}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(n){cC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S0(e,t){if(e==null)return{};var r=ZPe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bB(n.key),n)}}function tOe(e,t,r){return t&&kR(e.prototype,t),r&&kR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rOe(e,t,r){return t=Vy(t),nOe(e,xB()?Reflect.construct(t,r||[],Vy(e).constructor):t.apply(e,r))}function nOe(e,t){if(t&&(Ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sOe(e)}function sOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xB=function(){return!!e})()}function Vy(e){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(e)}function aOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B1(e,t)}function B1(e,t){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},B1(e,t)}function cC(e,t,r){return t=bB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bB(e){var t=iOe(e,"string");return Ld(t)=="symbol"?t:t+""}function iOe(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jf=function(e){function t(r){var n;return eOe(this,t),n=rOe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return aOe(t,e),tOe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=S0(n,QPe),l=this.props,c=l.viewBox,u=S0(l,XPe);return!Du(i,c)||!Du(o,u)||!Du(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,m,g,p,x,b,v,w=f?-1:1,_=n.tickSize||d,j=je(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,x=o+ +!f*c,p=x-w*_,v=p-w*h,b=j;break;case"left":p=x=n.coordinate,g=i+ +!f*l,m=g-w*_,b=m-w*h,v=j;break;case"right":p=x=n.coordinate,g=i+ +f*l,m=g+w*_,b=m+w*h,v=j;break;default:m=g=n.coordinate,x=o+ +f*c,p=x+w*_,v=p+w*h,b=j;break}return{line:{x1:m,y1:p,x2:g,y2:x},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Dr(Dr(Dr({},mt(this.props,!1)),mt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Dr(Dr({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Dr(Dr({},f),{},{x1:s+m*o,y1:i,x2:s+m*o,y2:i+l})}return R.createElement("line",Nu({},f,{className:jt("recharts-cartesian-axis-line",Fs(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=lC(Dr(Dr({},this.props),{},{ticks:n}),s,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=mt(this.props,!1),b=mt(d,!1),v=Dr(Dr({},x),{},{fill:"none"},mt(c,!1)),w=m.map(function(_,j){var S=o.getTickLineCoord(_),N=S.line,k=S.tick,C=Dr(Dr(Dr(Dr({textAnchor:g,verticalAnchor:p},x),{},{stroke:"none",fill:u},b),k),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return R.createElement(fr,Nu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Xv(o.props,_,j)),c&&R.createElement("line",Nu({},v,N,{className:jt("recharts-cartesian-axis-tick-line",Fs(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(it(f)?f(_.value,j):_.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,m=S0(f,JPe),g=h;return it(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:R.createElement(fr,{className:jt("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),bn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=jt(s.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(n)?o=R.cloneElement(n,Dr(Dr({},s),{},{className:l})):it(n)?o=n(Dr(Dr({},s),{},{className:l})):o=R.createElement(dy,Nu({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);cC(jf,"displayName","CartesianAxis");cC(jf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var oOe=["x1","y1","x2","y2","key"],lOe=["offset"];function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){cOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cOe(e,t,r){return t=uOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uOe(e){var t=dOe(e,"string");return kc(t)=="symbol"?t:t+""}function dOe(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vl.apply(this,arguments)}function ER(e,t){if(e==null)return{};var r=fOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hOe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return R.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function wB(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(it(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=ER(t,oOe),u=mt(c,!1);u.offset;var d=ER(u,lOe);r=R.createElement("line",Vl({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function mOe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=wn(wn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return wB(s,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function pOe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=wn(wn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return wB(s,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function gOe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+o-h:d[m+1]-h;if(p<=0)return null;var x=m%t.length;return R.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function vOe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?i+l-h:d[m+1]-h;if(p<=0)return null;var x=m%n.length;return R.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var yOe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return Oq(lC(wn(wn(wn({},jf.defaultProps),n),{},{ticks:Pi(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},xOe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return Oq(lC(wn(wn(wn({},jf.defaultProps),n),{},{ticks:Pi(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},su={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ky(e){var t,r,n,s,i,o,l=sC(),c=aC(),u=iPe(),d=wn(wn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:su.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:su.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:su.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:su.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:su.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:su.verticalFill,x:je(e.x)?e.x:u.left,y:je(e.y)?e.y:u.top,width:je(e.width)?e.width:u.width,height:je(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,v=nPe(),w=sPe();if(!je(m)||m<=0||!je(g)||g<=0||!je(f)||f!==+f||!je(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||yOe,j=d.horizontalCoordinatesGenerator||xOe,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&it(j)){var k=x&&x.length,C=j({yAxis:w?wn(wn({},w),{},{ticks:k?x:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);$i(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(kc(C),"]")),Array.isArray(C)&&(S=C)}if((!N||!N.length)&&it(_)){var E=b&&b.length,D=_({xAxis:v?wn(wn({},v),{},{ticks:E?b:v.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);$i(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(kc(D),"]")),Array.isArray(D)&&(N=D)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(hOe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),R.createElement(mOe,Vl({},d,{offset:u,horizontalPoints:S,xAxis:v,yAxis:w})),R.createElement(pOe,Vl({},d,{offset:u,verticalPoints:N,xAxis:v,yAxis:w})),R.createElement(gOe,Vl({},d,{horizontalPoints:S})),R.createElement(vOe,Vl({},d,{verticalPoints:N})))}Ky.displayName="CartesianGrid";var bOe=["layout","type","stroke","connectNulls","isRange","ref"],wOe=["key"],jB;function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function _B(e,t){if(e==null)return{};var r=jOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(this,arguments)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){Ga(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NB(n.key),n)}}function SOe(e,t,r){return t&&OR(e.prototype,t),r&&OR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NOe(e,t,r){return t=Hy(t),kOe(e,SB()?Reflect.construct(t,r||[],Hy(e).constructor):t.apply(e,r))}function kOe(e,t){if(t&&(Fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return COe(e)}function COe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SB=function(){return!!e})()}function Hy(e){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(e)}function EOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z1(e,t)}function z1(e,t){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},z1(e,t)}function Ga(e,t,r){return t=NB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NB(e){var t=POe(e,"string");return Fd(t)=="symbol"?t:t+""}function POe(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var io=function(e){function t(){var r;_Oe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=NOe(this,t,[].concat(s)),Ga(r,"state",{isAnimationFinished:!0}),Ga(r,"id",bp("recharts-area-")),Ga(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),it(o)&&o()}),Ga(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),it(o)&&o()}),r}return EOe(t,e),SOe(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=mt(this.props,!1),m=mt(u,!0),g=d.map(function(x,b){var v=xo(xo(xo({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,v)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return R.createElement(fr,Kl({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=zo(o.map(function(h){return h.y||0}));return je(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(zo(i.map(function(h){return h.y||0})),f)),je(f)?R.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=zo(o.map(function(h){return h.x||0}));return je(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(zo(i.map(function(h){return h.x||0})),f)),je(f)?R.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=_B(l,bOe);return R.createElement(fr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},R.createElement(Ph,Kl({},mt(m,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&R.createElement(Ph,Kl({},mt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&R.createElement(Ph,Kl({},mt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,x=g.prevBaseLine;return R.createElement(Yi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var v=b.t;if(p){var w=p.length/l.length,_=l.map(function(k,C){var E=Math.floor(C*w);if(p[E]){var D=p[E],O=Os(D.x,k.x),q=Os(D.y,k.y);return xo(xo({},k),{},{x:O(v),y:q(v)})}return k}),j;if(je(c)&&typeof c=="number"){var S=Os(x,c);j=S(v)}else if(yt(c)||mf(c)){var N=Os(x,0);j=N(v)}else j=c.map(function(k,C){var E=Math.floor(C*w);if(x[E]){var D=x[E],O=Os(D.x,k.x),q=Os(D.y,k.y);return xo(xo({},k),{},{x:O(v),y:q(v)})}return k});return i.renderAreaStatically(_,j,n,s)}return R.createElement(fr,null,R.createElement("defs",null,R.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(v))),R.createElement(fr,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!jm(d,o)||!jm(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,m=s.width,g=s.height,p=s.isAnimationActive,x=s.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,v=l.length===1,w=jt("recharts-area",c),_=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,S=_||j,N=yt(x)?this.id:x,k=(n=mt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,E=C===void 0?3:C,D=k.strokeWidth,O=D===void 0?2:D,q=Wue(o)?o:{},A=q.clipDot,V=A===void 0?!0:A,T=E*2+O;return R.createElement(fr,{className:w},_||j?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(N)},R.createElement("rect",{x:_?d:d-m/2,y:j?u:u-g/2,width:_?m:m*2,height:j?g:g*2})),!V&&R.createElement("clipPath",{id:"clipPath-dots-".concat(N)},R.createElement("rect",{x:d-T/2,y:u-T/2,width:m+T,height:g+T}))):null,v?null:this.renderArea(S,N),(o||v)&&this.renderDots(S,V,N),(!p||b)&&nl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(y.PureComponent);jB=io;Ga(io,"displayName","Area");Ga(io,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!yf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ga(io,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(je(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Ga(io,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,g=u&&u.length,p=jB.getBaseValue(t,r,n,s),x=m==="horizontal",b=!1,v=f.map(function(_,j){var S;g?S=u[d+j]:(S=ys(_,c),Array.isArray(S)?b=!0:S=[p,S]);var N=S[1]==null||g&&ys(_,c)==null;return x?{x:mT({axis:n,ticks:i,bandSize:l,entry:_,index:j}),y:N?null:s.scale(S[1]),value:S,payload:_}:{x:N?null:n.scale(S[1]),y:mT({axis:s,ticks:o,bandSize:l,entry:_,index:j}),value:S,payload:_}}),w;return g||b?w=v.map(function(_){var j=Array.isArray(_.value)?_.value[0]:null;return x?{x:_.x,y:j!=null&&_.y!=null?s.scale(j):null}:{x:j!=null?n.scale(j):null,y:_.y}}):w=x?s.scale(p):n.scale(p),xo({points:v,baseLine:w,layout:m,isRange:b},h)});Ga(io,"renderDotItem",function(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(it(e))r=e(t);else{var n=jt("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=_B(t,wOe);r=R.createElement(eC,Kl({},i,{key:s,className:n}))}return r});function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function OOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EB(n.key),n)}}function TOe(e,t,r){return t&&AOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ROe(e,t,r){return t=Gy(t),MOe(e,kB()?Reflect.construct(t,r||[],Gy(e).constructor):t.apply(e,r))}function MOe(e,t){if(t&&(Ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Oe(e)}function $Oe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kB=function(){return!!e})()}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(e)}function IOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W1(e,t)}function W1(e,t){return W1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},W1(e,t)}function CB(e,t,r){return t=EB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EB(e){var t=DOe(e,"string");return Ud(t)=="symbol"?t:t+""}function DOe(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function V1(){return V1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V1.apply(this,arguments)}function LOe(e){var t=e.xAxisId,r=sC(),n=aC(),s=uB(t);return s==null?null:y.createElement(jf,V1({},s,{className:jt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Pi(o,!0)}}))}var Cc=function(e){function t(){return OOe(this,t),ROe(this,t,arguments)}return IOe(t,e),TOe(t,[{key:"render",value:function(){return y.createElement(LOe,this.props)}}])}(y.Component);CB(Cc,"displayName","XAxis");CB(Cc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function FOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AB(n.key),n)}}function qOe(e,t,r){return t&&UOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BOe(e,t,r){return t=Yy(t),zOe(e,PB()?Reflect.construct(t,r||[],Yy(e).constructor):t.apply(e,r))}function zOe(e,t){if(t&&(qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WOe(e)}function WOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PB=function(){return!!e})()}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(e)}function VOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K1(e,t)}function K1(e,t){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},K1(e,t)}function OB(e,t,r){return t=AB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AB(e){var t=KOe(e,"string");return qd(t)=="symbol"?t:t+""}function KOe(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H1.apply(this,arguments)}var HOe=function(t){var r=t.yAxisId,n=sC(),s=aC(),i=dB(r);return i==null?null:y.createElement(jf,H1({},i,{className:jt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Pi(l,!0)}}))},Ec=function(e){function t(){return FOe(this,t),BOe(this,t,arguments)}return VOe(t,e),qOe(t,[{key:"render",value:function(){return y.createElement(HOe,this.props)}}])}(y.Component);OB(Ec,"displayName","YAxis");OB(Ec,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function AR(e){return XOe(e)||QOe(e)||YOe(e)||GOe()}function GOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YOe(e,t){if(e){if(typeof e=="string")return G1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G1(e,t)}}function QOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XOe(e){if(Array.isArray(e))return G1(e)}function G1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y1=function(t,r,n,s,i){var o=_a(t,oC),l=_a(t,Lb),c=[].concat(AR(o),AR(l)),u=_a(t,Ub),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(p,x){if(x.props[d]===n&&ti(x.props,"extendDomain")&&je(x.props[f])){var b=x.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,x){if(x.props[d]===n&&ti(x.props,"extendDomain")&&je(x.props[m])&&je(x.props[g])){var b=x.props[m],v=x.props[g];return[Math.min(p[0],b,v),Math.max(p[1],b,v)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,x){return je(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},h)),h},TB={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var x=this._events[p],b=arguments.length,v,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,g),!0}for(w=1,v=new Array(b-1);w<b;w++)v[w-1]=arguments[w];x.fn.apply(x.context,v)}else{var _=x.length,j;for(w=0;w<_;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),b){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,f);break;case 4:x[w].fn.call(x[w].context,d,f,h);break;default:if(!v)for(j=1,v=new Array(b-1);j<b;j++)v[j-1]=arguments[j];x[w].fn.apply(x[w].context,v)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,x=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&x.push(g[p]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(TB);var JOe=TB.exports;const ZOe=zt(JOe);var N0=new ZOe,k0="recharts.syncMouseEvents";function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function eAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RB(n.key),n)}}function rAe(e,t,r){return t&&tAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C0(e,t,r){return t=RB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=nAe(e,"string");return Wm(t)=="symbol"?t:t+""}function nAe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sAe=function(){function e(){eAe(this,e),C0(this,"activeIndex",0),C0(this,"coordinateList",[]),C0(this,"layout","horizontal")}return rAe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function aAe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&je(n)&&je(s))return!0}return!1}function iAe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function MB(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=cn(t,r,n,s),l=cn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function oAe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=cn(l,c,u,f),m=cn(l,c,d,f);n=h.x,s=h.y,i=m.x,o=m.y}else return MB(t);return[{x:n,y:s},{x:i,y:o}]}function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(n){lAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lAe(e,t,r){return t=cAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cAe(e){var t=uAe(e,"string");return Vm(t)=="symbol"?t:t+""}function uAe(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dAe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,p=Ph;if(h==="ScatterChart")g=o,p=pCe;else if(h==="BarChart")g=iAe(f,o,c,d),p=Zk;else if(f==="radial"){var x=MB(o),b=x.cx,v=x.cy,w=x.radius,_=x.startAngle,j=x.endAngle;g={cx:b,cy:v,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},p=$q}else g={points:oAe(f,o,c)},p=Ph;var S=kg(kg(kg(kg({stroke:"#ccc",pointerEvents:"none"},c),g),mt(m,!1)),{},{payload:l,payloadIndex:u,className:jt("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,S):y.createElement(p,S)}var fAe=["item"],hAe=["children","className","width","height","style","compact","title","desc"];function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(this,arguments)}function RR(e,t){return gAe(e)||pAe(e,t)||IB(e,t)||mAe()}function mAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function gAe(e){if(Array.isArray(e))return e}function MR(e,t){if(e==null)return{};var r=vAe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DB(n.key),n)}}function bAe(e,t,r){return t&&xAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wAe(e,t,r){return t=Qy(t),jAe(e,$B()?Reflect.construct(t,r||[],Qy(e).constructor):t.apply(e,r))}function jAe(e,t){if(t&&(Bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ae(e)}function _Ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($B=function(){return!!e})()}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(e)}function SAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q1(e,t)}function Q1(e,t){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Q1(e,t)}function zd(e){return CAe(e)||kAe(e)||IB(e)||NAe()}function NAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IB(e,t){if(e){if(typeof e=="string")return X1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X1(e,t)}}function kAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CAe(e){if(Array.isArray(e))return X1(e)}function X1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){Ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ge(e,t,r){return t=DB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DB(e){var t=EAe(e,"string");return Bd(t)=="symbol"?t:t+""}function EAe(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PAe={xAxis:["bottom","top"],yAxis:["left","right"]},OAe={width:"100%",height:"100%"},LB={x:0,y:0};function Cg(e){return e}var AAe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},TAe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return re(re(re({},s),cn(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return re(re(re({},s),cn(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return LB},qb=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(zd(l),zd(u)):l},[]);return o.length>0?o:t&&t.length&&je(s)&&je(i)?t.slice(s,i+1):[]};function FB(e){return e==="number"?[0,"auto"]:void 0}var J1=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=qb(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Yv(m,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(zd(c),[Tq(u,h)]):c},[])},IR=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=AAe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=H1e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=J1(t,r,d,f),m=TAe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},RAe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=Pq(d,i);return n.reduce(function(g,p){var x,b=p.type.defaultProps!==void 0?re(re({},p.type.defaultProps),p.props):p.props,v=b.type,w=b.dataKey,_=b.allowDataOverflow,j=b.allowDuplicatedCategory,S=b.scale,N=b.ticks,k=b.includeHidden,C=b[o];if(g[C])return g;var E=qb(t.data,{graphicalItems:s.filter(function(L){var oe,ye=o in L.props?L.props[o]:(oe=L.type.defaultProps)===null||oe===void 0?void 0:oe[o];return ye===C}),dataStartIndex:c,dataEndIndex:u}),D=E.length,O,q,A;aAe(b.domain,_,v)&&(O=v1(b.domain,null,_),m&&(v==="number"||S!=="auto")&&(A=Eh(E,w,"category")));var V=FB(v);if(!O||O.length===0){var T,K=(T=b.domain)!==null&&T!==void 0?T:V;if(w){if(O=Eh(E,w,v),v==="category"&&m){var M=Mue(O);j&&M?(q=O,O=Iy(0,D)):j||(O=yT(K,O,p).reduce(function(L,oe){return L.indexOf(oe)>=0?L:[].concat(zd(L),[oe])},[]))}else if(v==="category")j?O=O.filter(function(L){return L!==""&&!yt(L)}):O=yT(K,O,p).reduce(function(L,oe){return L.indexOf(oe)>=0||oe===""||yt(oe)?L:[].concat(zd(L),[oe])},[]);else if(v==="number"){var $=J1e(E,s.filter(function(L){var oe,ye,Ve=o in L.props?L.props[o]:(oe=L.type.defaultProps)===null||oe===void 0?void 0:oe[o],Ke="hide"in L.props?L.props.hide:(ye=L.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return Ve===C&&(k||!Ke)}),w,i,d);$&&(O=$)}m&&(v==="number"||S!=="auto")&&(A=Eh(E,w,"category"))}else m?O=Iy(0,D):l&&l[C]&&l[C].hasStack&&v==="number"?O=h==="expand"?[0,1]:Aq(l[C].stackGroups,c,u):O=Eq(E,s.filter(function(L){var oe=o in L.props?L.props[o]:L.type.defaultProps[o],ye="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return oe===C&&(k||!ye)}),v,d,!0);if(v==="number")O=Y1(f,O,C,i,N),K&&(O=v1(K,O,_));else if(v==="category"&&K){var I=K,ee=O.every(function(L){return I.indexOf(L)>=0});ee&&(O=I)}}return re(re({},g),{},Ge({},C,re(re({},b),{},{axisType:i,domain:O,categoricalDomain:A,duplicateDomain:q,originalDomain:(x=b.domain)!==null&&x!==void 0?x:V,isCategorical:m,layout:d})))},{})},MAe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=qb(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=Pq(d,i),p=-1;return n.reduce(function(x,b){var v=b.type.defaultProps!==void 0?re(re({},b.type.defaultProps),b.props):b.props,w=v[o],_=FB("number");if(!x[w]){p++;var j;return g?j=Iy(0,m):l&&l[w]&&l[w].hasStack?(j=Aq(l[w].stackGroups,c,u),j=Y1(f,j,w,i)):(j=v1(_,Eq(h,n.filter(function(S){var N,k,C=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],E="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!E}),"number",d),s.defaultProps.allowDataOverflow),j=Y1(f,j,w,i)),re(re({},x),{},Ge({},w,re(re({axisType:i},s.defaultProps),{},{hide:!0,orientation:Fs(PAe,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:_,isCategorical:g,layout:d})))}return x},{})},$Ae=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=_a(d,i),m={};return h&&h.length?m=RAe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=MAe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},IAe=function(t){var r=Po(t),n=Pi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:kk(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ky(r,n)}},DR=function(t){var r=t.children,n=t.defaultShowTooltip,s=is(r,Rd),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},DAe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Mi(r&&r.type);return n&&n.indexOf("Bar")>=0})},LR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},LAe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=is(f,Rd),g=is(f,Lu),p=Object.keys(c).reduce(function(j,S){var N=c[S],k=N.orientation;return!N.mirror&&!N.hide?re(re({},j),{},Ge({},k,j[k]+N.width)):j},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(j,S){var N=o[S],k=N.orientation;return!N.mirror&&!N.hide?re(re({},j),{},Ge({},k,Fs(j,"".concat(k))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=re(re({},x),p),v=b.bottom;m&&(b.bottom+=m.props.height||Rd.defaultProps.height),g&&r&&(b=Q1e(b,s,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return re(re({brushBottom:v},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},FAe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},UB=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,v){var w=v.graphicalItems,_=v.stackGroups,j=v.offset,S=v.updateId,N=v.dataStartIndex,k=v.dataEndIndex,C=b.barSize,E=b.layout,D=b.barGap,O=b.barCategoryGap,q=b.maxBarSize,A=LR(E),V=A.numericAxisName,T=A.cateAxisName,K=DAe(w),M=[];return w.forEach(function($,I){var ee=qb(b.data,{graphicalItems:[$],dataStartIndex:N,dataEndIndex:k}),L=$.type.defaultProps!==void 0?re(re({},$.type.defaultProps),$.props):$.props,oe=L.dataKey,ye=L.maxBarSize,Ve=L["".concat(V,"Id")],Ke=L["".concat(T,"Id")],he={},Be=c.reduce(function(U,G){var z=v["".concat(G.axisType,"Map")],ce=L["".concat(G.axisType,"Id")];z&&z[ce]||G.axisType==="zAxis"||Nc();var pe=z[ce];return re(re({},U),{},Ge(Ge({},G.axisType,pe),"".concat(G.axisType,"Ticks"),Pi(pe)))},he),ae=Be[T],_e=Be["".concat(T,"Ticks")],Y=_&&_[Ve]&&_[Ve].hasStack&&uSe($,_[Ve].stackGroups),Q=Mi($.type).indexOf("Bar")>=0,Xe=ky(ae,_e),He=[],xt=K&&G1e({barSize:C,stackGroups:_,totalSize:FAe(Be,T)});if(Q){var ft,Wt,Nr=yt(ye)?q:ye,fn=(ft=(Wt=ky(ae,_e,!0))!==null&&Wt!==void 0?Wt:Nr)!==null&&ft!==void 0?ft:0;He=Y1e({barGap:D,barCategoryGap:O,bandSize:fn!==Xe?fn:Xe,sizeList:xt[Ke],maxBarSize:Nr}),fn!==Xe&&(He=He.map(function(U){return re(re({},U),{},{position:re(re({},U.position),{},{offset:U.position.offset-fn/2})})}))}var ws=$&&$.type&&$.type.getComposedData;ws&&M.push({props:re(re({},ws(re(re({},Be),{},{displayedData:ee,props:b,dataKey:oe,item:$,bandSize:Xe,barPosition:He,offset:j,stackedData:Y,layout:E,dataStartIndex:N,dataEndIndex:k}))),{},Ge(Ge(Ge({key:$.key||"item-".concat(I)},V,Be[V]),T,Be[T]),"animationId",S)),childIndex:Hue($,b.children),item:$})}),M},m=function(b,v){var w=b.props,_=b.dataStartIndex,j=b.dataEndIndex,S=b.updateId;if(!dO({props:w}))return null;var N=w.children,k=w.layout,C=w.stackOffset,E=w.data,D=w.reverseStackOrder,O=LR(k),q=O.numericAxisName,A=O.cateAxisName,V=_a(N,n),T=oSe(E,V,"".concat(q,"Id"),"".concat(A,"Id"),C,D),K=c.reduce(function(L,oe){var ye="".concat(oe.axisType,"Map");return re(re({},L),{},Ge({},ye,$Ae(w,re(re({},oe),{},{graphicalItems:V,stackGroups:oe.axisType===q&&T,dataStartIndex:_,dataEndIndex:j}))))},{}),M=LAe(re(re({},K),{},{props:w,graphicalItems:V}),v==null?void 0:v.legendBBox);Object.keys(K).forEach(function(L){K[L]=d(w,K[L],M,L.replace("Map",""),r)});var $=K["".concat(A,"Map")],I=IAe($),ee=h(w,re(re({},K),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:V,stackGroups:T,offset:M}));return re(re({formattedGraphicalItems:ee,graphicalItems:V,offset:M,stackGroups:T},I),K)},g=function(x){function b(v){var w,_,j;return yAe(this,b),j=wAe(this,b,[v]),Ge(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(j,"accessibilityManager",new sAe),Ge(j,"handleLegendBBoxUpdate",function(S){if(S){var N=j.state,k=N.dataStartIndex,C=N.dataEndIndex,E=N.updateId;j.setState(re({legendBBox:S},m({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:E},re(re({},j.state),{},{legendBBox:S}))))}}),Ge(j,"handleReceiveSyncEvent",function(S,N,k){if(j.props.syncId===S){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),Ge(j,"handleBrushChange",function(S){var N=S.startIndex,k=S.endIndex;if(N!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return re({dataStartIndex:N,dataEndIndex:k},m({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),Ge(j,"handleMouseEnter",function(S){var N=j.getMouseInfo(S);if(N){var k=re(re({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;it(C)&&C(k,S)}}),Ge(j,"triggeredAfterMouseMove",function(S){var N=j.getMouseInfo(S),k=N?re(re({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;it(C)&&C(k,S)}),Ge(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ge(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ge(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Ge(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseLeave;it(k)&&k(N,S)}),Ge(j,"handleOuterEvent",function(S){var N=Kue(S),k=Fs(j.props,"".concat(N));if(N&&it(k)){var C,E;/.*touch.*/i.test(N)?E=j.getMouseInfo(S.changedTouches[0]):E=j.getMouseInfo(S),k((C=E)!==null&&C!==void 0?C:{},S)}}),Ge(j,"handleClick",function(S){var N=j.getMouseInfo(S);if(N){var k=re(re({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;it(C)&&C(k,S)}}),Ge(j,"handleMouseDown",function(S){var N=j.props.onMouseDown;if(it(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleMouseUp",function(S){var N=j.props.onMouseUp;if(it(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ge(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Ge(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Ge(j,"handleDoubleClick",function(S){var N=j.props.onDoubleClick;if(it(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleContextMenu",function(S){var N=j.props.onContextMenu;if(it(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&N0.emit(k0,j.props.syncId,S,j.eventEmitterSymbol)}),Ge(j,"applySyncEvent",function(S){var N=j.props,k=N.layout,C=N.syncMethod,E=j.state.updateId,D=S.dataStartIndex,O=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(re({dataStartIndex:D,dataEndIndex:O},m({props:j.props,dataStartIndex:D,dataEndIndex:O,updateId:E},j.state)));else if(S.activeTooltipIndex!==void 0){var q=S.chartX,A=S.chartY,V=S.activeTooltipIndex,T=j.state,K=T.offset,M=T.tooltipTicks;if(!K)return;if(typeof C=="function")V=C(M,S);else if(C==="value"){V=-1;for(var $=0;$<M.length;$++)if(M[$].value===S.activeLabel){V=$;break}}var I=re(re({},K),{},{x:K.left,y:K.top}),ee=Math.min(q,I.x+I.width),L=Math.min(A,I.y+I.height),oe=M[V]&&M[V].value,ye=J1(j.state,j.props.data,V),Ve=M[V]?{x:k==="horizontal"?M[V].coordinate:ee,y:k==="horizontal"?L:M[V].coordinate}:LB;j.setState(re(re({},S),{},{activeLabel:oe,activeCoordinate:Ve,activePayload:ye,activeTooltipIndex:V}))}else j.setState(S)}),Ge(j,"renderCursor",function(S){var N,k=j.state,C=k.isTooltipActive,E=k.activeCoordinate,D=k.activePayload,O=k.offset,q=k.activeTooltipIndex,A=k.tooltipAxisBandSize,V=j.getTooltipEventType(),T=(N=S.props.active)!==null&&N!==void 0?N:C,K=j.props.layout,M=S.key||"_recharts-cursor";return R.createElement(dAe,{key:M,activeCoordinate:E,activePayload:D,activeTooltipIndex:q,chartName:r,element:S,isActive:T,layout:K,offset:O,tooltipAxisBandSize:A,tooltipEventType:V})}),Ge(j,"renderPolarAxis",function(S,N,k){var C=Fs(S,"type.axisType"),E=Fs(j.state,"".concat(C,"Map")),D=S.type.defaultProps,O=D!==void 0?re(re({},D),S.props):S.props,q=E&&E[O["".concat(C,"Id")]];return y.cloneElement(S,re(re({},q),{},{className:jt(C,q.className),key:S.key||"".concat(N,"-").concat(k),ticks:Pi(q,!0)}))}),Ge(j,"renderPolarGrid",function(S){var N=S.props,k=N.radialLines,C=N.polarAngles,E=N.polarRadius,D=j.state,O=D.radiusAxisMap,q=D.angleAxisMap,A=Po(O),V=Po(q),T=V.cx,K=V.cy,M=V.innerRadius,$=V.outerRadius;return y.cloneElement(S,{polarAngles:Array.isArray(C)?C:Pi(V,!0).map(function(I){return I.coordinate}),polarRadius:Array.isArray(E)?E:Pi(A,!0).map(function(I){return I.coordinate}),cx:T,cy:K,innerRadius:M,outerRadius:$,key:S.key||"polar-grid",radialLines:k})}),Ge(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,N=j.props,k=N.children,C=N.width,E=N.height,D=j.props.margin||{},O=C-(D.left||0)-(D.right||0),q=kq({children:k,formattedGraphicalItems:S,legendWidth:O,legendContent:u});if(!q)return null;var A=q.item,V=MR(q,fAe);return y.cloneElement(A,re(re({},V),{},{chartWidth:C,chartHeight:E,margin:D,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ge(j,"renderTooltip",function(){var S,N=j.props,k=N.children,C=N.accessibilityLayer,E=is(k,Cs);if(!E)return null;var D=j.state,O=D.isTooltipActive,q=D.activeCoordinate,A=D.activePayload,V=D.activeLabel,T=D.offset,K=(S=E.props.active)!==null&&S!==void 0?S:O;return y.cloneElement(E,{viewBox:re(re({},T),{},{x:T.left,y:T.top}),active:K,label:V,payload:K?A:[],coordinate:q,accessibilityLayer:C})}),Ge(j,"renderBrush",function(S){var N=j.props,k=N.margin,C=N.data,E=j.state,D=E.offset,O=E.dataStartIndex,q=E.dataEndIndex,A=E.updateId;return y.cloneElement(S,{key:S.key||"_recharts-brush",onChange:jg(j.handleBrushChange,S.props.onChange),data:C,x:je(S.props.x)?S.props.x:D.left,y:je(S.props.y)?S.props.y:D.top+D.height+D.brushBottom-(k.bottom||0),width:je(S.props.width)?S.props.width:D.width,startIndex:O,endIndex:q,updateId:"brush-".concat(A)})}),Ge(j,"renderReferenceElement",function(S,N,k){if(!S)return null;var C=j,E=C.clipPathId,D=j.state,O=D.xAxisMap,q=D.yAxisMap,A=D.offset,V=S.type.defaultProps||{},T=S.props,K=T.xAxisId,M=K===void 0?V.xAxisId:K,$=T.yAxisId,I=$===void 0?V.yAxisId:$;return y.cloneElement(S,{key:S.key||"".concat(N,"-").concat(k),xAxis:O[M],yAxis:q[I],viewBox:{x:A.left,y:A.top,width:A.width,height:A.height},clipPathId:E})}),Ge(j,"renderActivePoints",function(S){var N=S.item,k=S.activePoint,C=S.basePoint,E=S.childIndex,D=S.isRange,O=[],q=N.props.key,A=N.item.type.defaultProps!==void 0?re(re({},N.item.type.defaultProps),N.item.props):N.item.props,V=A.activeDot,T=A.dataKey,K=re(re({index:E,dataKey:T,cx:k.x,cy:k.y,r:4,fill:Jk(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},mt(V,!1)),Qv(V));return O.push(b.renderActiveDot(V,K,"".concat(q,"-activePoint-").concat(E))),C?O.push(b.renderActiveDot(V,re(re({},K),{},{cx:C.x,cy:C.y}),"".concat(q,"-basePoint-").concat(E))):D&&O.push(null),O}),Ge(j,"renderGraphicChild",function(S,N,k){var C=j.filterFormatItem(S,N,k);if(!C)return null;var E=j.getTooltipEventType(),D=j.state,O=D.isTooltipActive,q=D.tooltipAxis,A=D.activeTooltipIndex,V=D.activeLabel,T=j.props.children,K=is(T,Cs),M=C.props,$=M.points,I=M.isRange,ee=M.baseLine,L=C.item.type.defaultProps!==void 0?re(re({},C.item.type.defaultProps),C.item.props):C.item.props,oe=L.activeDot,ye=L.hide,Ve=L.activeBar,Ke=L.activeShape,he=!!(!ye&&O&&K&&(oe||Ve||Ke)),Be={};E!=="axis"&&K&&K.props.trigger==="click"?Be={onClick:jg(j.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(Be={onMouseLeave:jg(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:jg(j.handleItemMouseEnter,S.props.onMouseEnter)});var ae=y.cloneElement(S,re(re({},C.props),Be));function _e(G){return typeof q.dataKey=="function"?q.dataKey(G.payload):null}if(he)if(A>=0){var Y,Q;if(q.dataKey&&!q.allowDuplicatedCategory){var Xe=typeof q.dataKey=="function"?_e:"payload.".concat(q.dataKey.toString());Y=Yv($,Xe,V),Q=I&&ee&&Yv(ee,Xe,V)}else Y=$==null?void 0:$[A],Q=I&&ee&&ee[A];if(Ke||Ve){var He=S.props.activeIndex!==void 0?S.props.activeIndex:A;return[y.cloneElement(S,re(re(re({},C.props),Be),{},{activeIndex:He})),null,null]}if(!yt(Y))return[ae].concat(zd(j.renderActivePoints({item:C,activePoint:Y,basePoint:Q,childIndex:A,isRange:I})))}else{var xt,ft=(xt=j.getItemByXY(j.state.activeCoordinate))!==null&&xt!==void 0?xt:{graphicalItem:ae},Wt=ft.graphicalItem,Nr=Wt.item,fn=Nr===void 0?S:Nr,ws=Wt.childIndex,U=re(re(re({},C.props),Be),{},{activeIndex:ws});return[y.cloneElement(fn,U),null,null]}return I?[ae,null,null]:[ae,null]}),Ge(j,"renderCustomized",function(S,N,k){return y.cloneElement(S,re(re({key:"recharts-customized-".concat(k)},j.props),j.state))}),Ge(j,"renderMap",{CartesianGrid:{handler:Cg,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Cg},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Cg},YAxis:{handler:Cg},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=v.id)!==null&&w!==void 0?w:bp("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=kU(j.triggeredAfterMouseMove,(_=v.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return SAe(b,x),bAe(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,j=w.data,S=w.height,N=w.layout,k=is(_,Cs);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,D=J1(this.state,j,C,E),O=this.state.tooltipTicks[C].coordinate,q=(this.state.offset.top+S)/2,A=N==="horizontal",V=A?{x:O,y:q}:{y:O,x:q},T=this.state.formattedGraphicalItems.find(function(M){var $=M.item;return $.type.name==="Scatter"});T&&(V=re(re({},V),T.props.points[C].tooltipPosition),D=T.props.points[C].tooltipPayload);var K={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:E,activePayload:D,activeCoordinate:V};this.setState(K),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){A_([is(w.children,Cs)],[is(this.props.children,Cs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=is(this.props.children,Cs);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=xwe(j),N={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},k=j.width/_.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,k);if(!C)return null;var E=this.state,D=E.xAxisMap,O=E.yAxisMap,q=this.getTooltipEventType(),A=IR(this.state,this.props.data,this.props.layout,C);if(q!=="axis"&&D&&O){var V=Po(D).scale,T=Po(O).scale,K=V&&V.invert?V.invert(N.chartX):null,M=T&&T.invert?T.invert(N.chartY):null;return re(re({},N),{},{xValue:K,yValue:M},A)}return A?re(re({},N),A):null}},{key:"inRange",value:function(w,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=w/j,k=_/j;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,E=N>=C.left&&N<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return E?{x:N,y:k}:null}var D=this.state,O=D.angleAxisMap,q=D.radiusAxisMap;if(O&&q){var A=Po(O);return wT({x:N,y:k},A)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),j=is(w,Cs),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Qv(this.props,this.handleOuterEvent);return re(re({},N),S)}},{key:"addListener",value:function(){N0.on(k0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){N0.removeListener(k0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,j){for(var S=this.state.formattedGraphicalItems,N=0,k=S.length;N<k;N++){var C=S[N];if(C.item===w||C.props.key===w.key||_===Mi(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,N=_.height,k=_.width;return R.createElement("defs",null,R.createElement("clipPath",{id:w},R.createElement("rect",{x:j,y:S,height:N,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=RR(j,2),N=S[0],k=S[1];return re(re({},_),{},Ge({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=RR(j,2),N=S[0],k=S[1];return re(re({},_),{},Ge({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var N=0,k=j.length;N<k;N++){var C=j[N],E=C.props,D=C.item,O=D.type.defaultProps!==void 0?re(re({},D.type.defaultProps),D.props):D.props,q=Mi(D.type);if(q==="Bar"){var A=(E.data||[]).find(function(M){return aCe(w,M)});if(A)return{graphicalItem:C,payload:A}}else if(q==="RadialBar"){var V=(E.data||[]).find(function(M){return wT(w,M)});if(V)return{graphicalItem:C,payload:V}}else if(Mb(C,S)||$b(C,S)||Fm(C,S)){var T=l2e({graphicalItem:C,activeTooltipItem:S,itemData:O.data}),K=O.activeIndex===void 0?T:O.activeIndex;return{graphicalItem:re(re({},C),{},{childIndex:K}),payload:Fm(C,S)?O.data[T]:C.props.data[T]}}}return null}},{key:"render",value:function(){var w=this;if(!dO(this))return null;var _=this.props,j=_.children,S=_.className,N=_.width,k=_.height,C=_.style,E=_.compact,D=_.title,O=_.desc,q=MR(_,hAe),A=mt(q,!1);if(E)return R.createElement(gR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(R_,ku({},A,{width:N,height:k,title:D,desc:O}),this.renderClipPath(),hO(j,this.renderMap)));if(this.props.accessibilityLayer){var V,T;A.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,A.role=(T=this.props.role)!==null&&T!==void 0?T:"application",A.onKeyDown=function(M){w.accessibilityManager.keyboardEvent(M)},A.onFocus=function(){w.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return R.createElement(gR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",ku({className:jt("recharts-wrapper",S),style:re({position:"relative",cursor:"default",width:N,height:k},C)},K,{ref:function($){w.container=$}}),R.createElement(R_,ku({},A,{width:N,height:k,title:D,desc:O,style:OAe}),this.renderClipPath(),hO(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Ge(g,"displayName",r),Ge(g,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ge(g,"getDerivedStateFromProps",function(x,b){var v=x.dataKey,w=x.data,_=x.children,j=x.width,S=x.height,N=x.layout,k=x.stackOffset,C=x.margin,E=b.dataStartIndex,D=b.dataEndIndex;if(b.updateId===void 0){var O=DR(x);return re(re(re({},O),{},{updateId:0},m(re(re({props:x},O),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:w,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(v!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||S!==b.prevHeight||N!==b.prevLayout||k!==b.prevStackOffset||!Du(C,b.prevMargin)){var q=DR(x),A={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},V=re(re({},IR(b,w,N)),{},{updateId:b.updateId+1}),T=re(re(re({},q),A),V);return re(re(re({},T),m(re({props:x},T),b)),{},{prevDataKey:v,prevData:w,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(!A_(_,b.prevChildren)){var K,M,$,I,ee=is(_,Rd),L=ee&&(K=(M=ee.props)===null||M===void 0?void 0:M.startIndex)!==null&&K!==void 0?K:E,oe=ee&&($=(I=ee.props)===null||I===void 0?void 0:I.endIndex)!==null&&$!==void 0?$:D,ye=L!==E||oe!==D,Ve=!yt(w),Ke=Ve&&!ye?b.updateId:b.updateId+1;return re(re({updateId:Ke},m(re(re({props:x},b),{},{updateId:Ke,dataStartIndex:L,dataEndIndex:oe}),b)),{},{prevChildren:_,dataStartIndex:L,dataEndIndex:oe})}return null}),Ge(g,"renderActiveDot",function(x,b,v){var w;return y.isValidElement(x)?w=y.cloneElement(x,b):it(x)?w=x(b):w=R.createElement(eC,b),R.createElement(fr,{className:"recharts-active-dot",key:v},w)});var p=y.forwardRef(function(b,v){return R.createElement(g,ku({},b,{ref:v}))});return p.displayName=g.displayName,p},UAe=UB({chartName:"BarChart",GraphicalChild:Lc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Cc},{axisType:"yAxis",AxisComp:Ec}],formatAxisMap:rB}),qB=UB({chartName:"AreaChart",GraphicalChild:io,axisComponents:[{axisType:"xAxis",AxisComp:Cc},{axisType:"yAxis",AxisComp:Ec}],formatAxisMap:rB});const Ra={getProviders:async()=>{const{data:e,error:t}=await F.from("model_providers").select("*").order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProvider:async e=>{const{data:t,error:r}=await F.from("model_providers").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProvider:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("model_providers").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProvider:async(e,t)=>{const{data:r,error:n}=await F.from("model_providers").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProvider:async e=>{const{error:t}=await F.from("model_providers").delete().eq("id",e);if(t)throw new Error(t.message)},getRequests:async e=>{let t=F.from("model_requests").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getRequest:async e=>{const{data:t,error:r}=await F.from("model_requests").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createRequest:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("model_requests").insert(r).select().single();if(s)throw new Error(s.message);return n},updateRequest:async(e,t)=>{const{data:r,error:n}=await F.from("model_requests").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getUsageMetrics:async e=>{let t=F.from("usage_metrics").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.since&&(t=t.gte("created_at",e.since)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getUsageSummary:async e=>{const t=await Ra.getUsageMetrics({limit:1e4,providerId:e==null?void 0:e.providerId,since:e==null?void 0:e.since}),r=t.reduce((i,o)=>i+o.token_count_input,0),n=t.reduce((i,o)=>i+o.token_count_output,0),s=new Set(t.map(i=>i.request_id));return{totalInputTokens:r,totalOutputTokens:n,requestCount:s.size}},createUsageMetric:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("usage_metrics").insert(r).select().single();if(s)throw new Error(s.message);return n},getConfigurationOverrides:async e=>{if(!e)return null;const{data:t,error:r}=await F.from("configuration_overrides").select("*").eq("request_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},getConfigurationOverridesByRequestIds:async e=>{if(e.length===0)return[];const{data:t,error:r}=await F.from("configuration_overrides").select("*").in("request_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},upsertConfigurationOverride:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("configuration_overrides").upsert({request_id:r.request_id,user_id:r.user_id,model_name:r.model_name??null,temperature:r.temperature??null,max_tokens:r.max_tokens??null,parameters:r.parameters??{}},{onConflict:"request_id"}).select().single();if(s)throw new Error(s.message);return n},updateConfigurationOverride:async(e,t)=>{const{data:r,error:n}=await F.from("configuration_overrides").update(t).eq("request_id",e).select().single();if(n)throw new Error(n.message);return r}};function uC(e,t){return e().catch(()=>t)}const Ar={all:["model-providers"],providers:()=>[...Ar.all,"providers"],provider:e=>[...Ar.all,"provider",e],requests:e=>[...Ar.all,"requests",e],request:e=>[...Ar.all,"request",e],usageMetrics:e=>[...Ar.all,"usage-metrics",e],usageSummary:e=>[...Ar.all,"usage-summary",e],configOverride:e=>[...Ar.all,"config-override",e]};function qAe(){return ke({queryKey:Ar.providers(),queryFn:()=>uC(()=>Ra.getProviders(),[])})}function BAe(){const e=de();return ue({mutationFn:t=>Ra.createProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ar.providers()}),B.success("Provider added")},onError:t=>{B.error(t.message||"Failed to add provider")}})}function zAe(){const e=de();return ue({mutationFn:({id:t,data:r})=>Ra.updateProvider(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ar.providers()}),e.invalidateQueries({queryKey:Ar.provider(r)}),B.success("Provider updated")},onError:t=>{B.error(t.message||"Failed to update provider")}})}function WAe(){const e=de();return ue({mutationFn:t=>Ra.deleteProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ar.providers()}),e.invalidateQueries({queryKey:Ar.requests()}),B.success("Provider removed")},onError:t=>{B.error(t.message||"Failed to remove provider")}})}function VAe(e){return ke({queryKey:Ar.requests(e),queryFn:()=>uC(()=>Ra.getRequests(e),[])})}function KAe(){const e=de();return ue({mutationFn:t=>Ra.createRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ar.requests()}),B.success("Request logged")},onError:t=>{B.error(t.message||"Failed to log request")}})}function HAe(e){return ke({queryKey:Ar.usageMetrics(e),queryFn:()=>uC(()=>Ra.getUsageMetrics(e),[])})}function GAe(e){return ke({queryKey:Ar.usageSummary(e),queryFn:()=>Ra.getUsageSummary(e)})}function YAe(){const e=de();return ue({mutationFn:t=>Ra.createUsageMetric(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ar.usageMetrics()}),e.invalidateQueries({queryKey:Ar.usageSummary()})},onError:t=>{B.error(t.message||"Failed to record usage")}})}function QAe(){const e=de();return ue({mutationFn:t=>Ra.upsertConfigurationOverride(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ar.configOverride(r.request_id)}),B.success("Configuration saved")},onError:t=>{B.error(t.message||"Failed to save configuration")}})}const FR={openai:"OpenAI",anthropic:"Anthropic",local:"Local",ollama:"Ollama",vllm:"vLLM",custom:"Custom"},XAe=nt({name:xe().min(1,"Name is required").max(128),slug:sr(["openai","anthropic","local","ollama","vllm","custom"]),api_endpoint_base:xe().url().optional().or(QN("")),priority:On.number().int().min(0).max(999),is_default:Gr(),status:sr(["active","inactive","error"])});function JAe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,provider:s}){const i=!!s,o=et({resolver:tt(XAe),defaultValues:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"}});y.useEffect(()=>{e&&o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"})},[e,s,o]);const l=o.handleSubmit(u=>{r({name:u.name,slug:u.slug,api_endpoint_base:u.api_endpoint_base||null,priority:u.priority,is_default:u.is_default,status:u.status}),o.reset()}),c=u=>{u||o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:void 0),t(u)};return a.jsx(Me,{open:e,onOpenChange:c,children:a.jsxs(Pe,{className:"max-w-md",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:i?"Edit provider":"Add provider"}),a.jsx(Te,{children:i?"Update model provider settings and priority.":"Register a new AI model provider (OpenAI, Anthropic, local, etc.)."})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"name",children:"Name"}),a.jsx(me,{id:"name",placeholder:"e.g. OpenAI GPT-4",...o.register("name"),className:J(o.formState.errors.name&&"border-destructive")}),o.formState.errors.name&&a.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Provider type"}),a.jsxs(ut,{value:o.watch("slug"),onValueChange:u=>o.setValue("slug",u),disabled:i,children:[a.jsx(ot,{children:a.jsx(dt,{placeholder:"Select type"})}),a.jsx(lt,{children:Object.keys(FR).map(u=>a.jsx(Se,{value:u,children:FR[u]},u))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"api_endpoint_base",children:"API endpoint (optional)"}),a.jsx(me,{id:"api_endpoint_base",placeholder:"https://api.openai.com/v1",...o.register("api_endpoint_base")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"priority",children:"Priority (higher = preferred)"}),a.jsx(me,{id:"priority",type:"number",min:0,max:999,...o.register("priority")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsx(H,{htmlFor:"is_default",className:"cursor-pointer",children:"Default provider"}),a.jsx(Rt,{id:"is_default",checked:o.watch("is_default"),onCheckedChange:u=>o.setValue("is_default",u)})]}),i&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Status"}),a.jsxs(ut,{value:o.watch("status"),onValueChange:u=>o.setValue("status",u),children:[a.jsx(ot,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"active",children:"Active"}),a.jsx(Se,{value:"inactive",children:"Inactive"}),a.jsx(Se,{value:"error",children:"Error"})]})]})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":i?"Update":"Add"})]})]})]})})}const ZAe=nt({provider_id:xe().uuid().optional().nullable(),model_name:xe().max(128).optional(),temperature:On.number().min(0).max(2).optional(),max_tokens:On.number().int().min(1).max(128e3).optional()}),eTe={pending:"secondary",running:"default",completed:"secondary",failed:"destructive"},tTe={active:"success",inactive:"secondary",error:"destructive"};function rTe(){const[e,t]=y.useState(!1),[r,n]=y.useState(null),[s]=y.useState(()=>JN(new Date,7).toISOString()),{data:i=[],isLoading:o}=qAe(),{data:l=[],isLoading:c}=VAe({limit:50}),{data:u,isLoading:d}=GAe({since:s}),{data:f=[]}=HAe({limit:100,since:s}),h=BAe(),m=zAe(),g=WAe(),p=KAe(),x=YAe(),b=QAe(),v=et({resolver:tt(ZAe),defaultValues:{provider_id:null,model_name:"",temperature:.7,max_tokens:4096}}),w=S=>{r?m.mutate({id:r.id,data:{name:S.name,slug:S.slug,api_endpoint_base:S.api_endpoint_base??void 0,priority:S.priority,is_default:S.is_default,status:S.status}},{onSettled:()=>{n(null),t(!1)}}):h.mutate({name:S.name,slug:S.slug,api_endpoint_base:S.api_endpoint_base??null,priority:S.priority,is_default:S.is_default,status:S.status},{onSuccess:()=>t(!1)})},_=v.handleSubmit(async S=>{var C,E;const N=S.provider_id??((C=i.find(D=>D.is_default))==null?void 0:C.id)??((E=i[0])==null?void 0:E.id)??null,k=await p.mutateAsync({provider_id:N,status:"pending"});await b.mutateAsync({request_id:k.id,model_name:S.model_name??null,temperature:S.temperature??null,max_tokens:S.max_tokens??null}),await x.mutateAsync({request_id:k.id,provider_id:N,token_count_input:0,token_count_output:0}),v.reset()}),j=f.slice().reverse().reduce((S,N)=>{const k=Ka(N.created_at,"yyyy-MM-dd");S.find(E=>E.date===k)||S.push({date:k,tokens:0,requests:0});const C=S.find(E=>E.date===k);return C&&(C.tokens+=N.token_count_input+N.token_count_output,C.requests+=1),S},[]);return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Model Providers"})}),a.jsxs(ci,{defaultValue:"request",className:"space-y-4",children:[a.jsxs(Oa,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsxs(St,{value:"request",className:"gap-2",children:[a.jsx(fd,{className:"h-4 w-4"}),"Request"]}),a.jsxs(St,{value:"usage",className:"gap-2",children:[a.jsx(ih,{className:"h-4 w-4"}),"Usage"]}),a.jsxs(St,{value:"providers",className:"gap-2",children:[a.jsx(ba,{className:"h-4 w-4"}),"Providers"]})]}),a.jsxs(Nt,{value:"request",className:"space-y-4",children:[a.jsxs(X,{className:"shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"New request"}),a.jsx(ge,{children:"Select provider and optional overrides. Request will be logged for usage and history."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:_,className:"flex flex-col gap-4 sm:max-w-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Provider"}),a.jsxs(ut,{value:v.watch("provider_id")??"",onValueChange:S=>v.setValue("provider_id",S||null),children:[a.jsx(ot,{children:a.jsx(dt,{placeholder:"Default provider"})}),a.jsxs(lt,{children:[i.map(S=>a.jsxs(Se,{value:S.id,children:[S.name," ",S.is_default&&"(default)"]},S.id)),i.length===0&&a.jsx(Se,{value:"_none",disabled:!0,children:"Add a provider first"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"model_name",children:"Model (optional)"}),a.jsx(me,{id:"model_name",placeholder:"e.g. gpt-4o",...v.register("model_name")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"temperature",children:"Temperature"}),a.jsx(me,{id:"temperature",type:"number",step:.1,min:0,max:2,...v.register("temperature")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"max_tokens",children:"Max tokens"}),a.jsx(me,{id:"max_tokens",type:"number",...v.register("max_tokens")})]})]}),a.jsx(P,{type:"submit",disabled:p.isPending||i.length===0,children:p.isPending?"Submitting":"Log request"})]})})]}),a.jsxs(X,{className:"shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Recent requests"}),a.jsx(ge,{children:"Last 50 model requests"})]}),a.jsx(Z,{children:c?a.jsx(ie,{className:"h-32 w-full rounded-lg"}):l.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No requests yet. Submit a request above or run from chat/skills."}):a.jsx(pt,{className:"h-64",children:a.jsx("ul",{className:"space-y-2",children:l.map(S=>{var N;return a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border p-3 transition-colors hover:bg-secondary/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(jx,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:S.provider_id?((N=i.find(k=>k.id===S.provider_id))==null?void 0:N.name)??"Unknown":"No provider"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Sr(S.created_at,{addSuffix:!0})})]})]}),a.jsx(We,{variant:eTe[S.status],children:S.status})]},S.id)})})})})]})]}),a.jsxs(Nt,{value:"usage",className:"space-y-4",children:[d?a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsx(ie,{className:"h-24 rounded-lg"}),a.jsx(ie,{className:"h-24 rounded-lg"}),a.jsx(ie,{className:"h-24 rounded-lg"})]}):a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-sm font-medium",children:"Total input tokens"}),a.jsx(SE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalInputTokens)??0})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-sm font-medium",children:"Total output tokens"}),a.jsx(SE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalOutputTokens)??0})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-sm font-medium",children:"Requests (period)"}),a.jsx(_7,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.requestCount)??0})})]})]}),a.jsxs(X,{className:"shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Usage over time"}),a.jsx(ge,{children:"Tokens and request count (last 7 days by default)"})]}),a.jsx(Z,{children:j.length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-8 text-center",children:"No usage data in this period."}):a.jsx(e1,{width:"100%",height:280,children:a.jsxs(qB,{data:j,children:[a.jsx(Ky,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Cc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Ec,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Cs,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"}}),a.jsx(io,{type:"monotone",dataKey:"tokens",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Tokens"})]})})})]})]}),a.jsxs(Nt,{value:"providers",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure AI model providers (OpenAI, Anthropic, local). Priority and default control routing and failover."}),a.jsxs(P,{onClick:()=>{n(null),t(!0)},children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add provider"]})]}),o?a.jsx(ie,{className:"h-48 w-full rounded-lg"}):i.length===0?a.jsx(X,{className:"shadow-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(ba,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"No providers yet. Add one to start logging requests and usage."}),a.jsxs(P,{onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add provider"]})]})}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.map(S=>a.jsxs(X,{className:"shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",children:[a.jsxs(te,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ne,{className:"text-base flex items-center gap-2",children:[S.name,S.is_default&&a.jsx(We,{variant:"secondary",className:"text-xs",children:"Default"})]}),a.jsxs(ge,{className:"text-xs mt-1",children:[S.api_endpoint_base??S.slug," Priority ",S.priority]})]}),a.jsxs(Ds,{children:[a.jsx(Ls,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(wa,{className:"h-4 w-4"})})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{n(S),t(!0)},children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>g.mutate(S.id),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]}),a.jsx(Z,{children:a.jsx(We,{variant:tTe[S.status],children:S.status})})]},S.id))})]})]}),a.jsx(JAe,{open:e,onOpenChange:t,onSubmit:w,isSubmitting:h.isPending||m.isPending,provider:r})]})}const Fn={getProfiles:async()=>{const{data:e,error:t}=await F.from("browser_profiles").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProfile:async e=>{const{data:t,error:r}=await F.from("browser_profiles").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProfile:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("browser_profiles").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProfile:async(e,t)=>{const{data:r,error:n}=await F.from("browser_profiles").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProfile:async e=>{const{error:t}=await F.from("browser_profiles").delete().eq("id",e);if(t)throw new Error(t.message)},getTabs:async e=>{if(!e)return[];const{data:t,error:r}=await F.from("browser_tabs").select("*").eq("browser_profile_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getTab:async e=>{const{data:t,error:r}=await F.from("browser_tabs").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertTabs:async(e,t)=>{const r=t.map(i=>({...i,browser_profile_id:e})),{data:n,error:s}=await F.from("browser_tabs").upsert(r,{onConflict:"id"}).select();if(s)throw new Error(s.message);return n??[]},updateTab:async(e,t)=>{const{data:r,error:n}=await F.from("browser_tabs").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteTab:async e=>{const{error:t}=await F.from("browser_tabs").delete().eq("id",e);if(t)throw new Error(t.message)},getScripts:async()=>{const{data:e,error:t}=await F.from("browser_scripts").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getScript:async e=>{const{data:t,error:r}=await F.from("browser_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createScript:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("browser_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateScript:async(e,t)=>{const{data:r,error:n}=await F.from("browser_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteScript:async e=>{const{error:t}=await F.from("browser_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getCaptureRecords:async(e,t)=>{if(!e)return[];let r=F.from("browser_capture_records").select("*").eq("browser_profile_id",e).order("created_at",{ascending:!1});t!=null&&t.type&&(r=r.eq("capture_type",t.type)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createCaptureRecord:async e=>{const{data:t,error:r}=await F.from("browser_capture_records").insert(e).select().single();if(r)throw new Error(r.message);return t},getCommands:async e=>{if(!e)return[];const{data:t,error:r}=await F.from("browser_commands").select("*").eq("browser_profile_id",e).order("sequence_order",{ascending:!0}).order("created_at",{ascending:!0});if(r)throw new Error(r.message);return t??[]},getCommand:async e=>{const{data:t,error:r}=await F.from("browser_commands").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCommand:async e=>{const{data:t,error:r}=await F.from("browser_commands").insert(e).select().single();if(r)throw new Error(r.message);return t},updateCommand:async(e,t)=>{const{data:r,error:n}=await F.from("browser_commands").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCommand:async e=>{const{error:t}=await F.from("browser_commands").delete().eq("id",e);if(t)throw new Error(t.message)},deleteCaptureRecord:async e=>{const{error:t}=await F.from("browser_capture_records").delete().eq("id",e);if(t)throw new Error(t.message)},getCdpTokens:async()=>{const{data:e,error:t}=await F.from("browser_cdp_tokens").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getCdpToken:async e=>{const{data:t,error:r}=await F.from("browser_cdp_tokens").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCdpToken:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("browser_cdp_tokens").insert(r).select().single();if(s)throw new Error(s.message);return n},updateCdpToken:async(e,t)=>{const{data:r,error:n}=await F.from("browser_cdp_tokens").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCdpToken:async e=>{const{error:t}=await F.from("browser_cdp_tokens").delete().eq("id",e);if(t)throw new Error(t.message)}};function dC(e,t){return e().catch(()=>t)}const Kt={all:["browser"],profiles:()=>[...Kt.all,"profiles"],profile:e=>[...Kt.all,"profile",e??""],tabs:e=>[...Kt.all,"tabs",e??""],tab:e=>[...Kt.all,"tab",e??""],scripts:()=>[...Kt.all,"scripts"],script:e=>[...Kt.all,"script",e??""],captures:(e,t)=>[...Kt.all,"captures",e??"",t],commands:e=>[...Kt.all,"commands",e??""],command:e=>[...Kt.all,"command",e??""],cdpTokens:()=>[...Kt.all,"cdpTokens"],cdpToken:e=>[...Kt.all,"cdpToken",e??""]};function nTe(){return ke({queryKey:Kt.profiles(),queryFn:()=>dC(()=>Fn.getProfiles(),[])})}function sTe(e){return ke({queryKey:Kt.profile(e),queryFn:()=>e?Fn.getProfile(e):Promise.resolve(null),enabled:!!e})}function aTe(){const e=de();return ue({mutationFn:t=>Fn.createProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.profiles()}),B.success("Profile created")},onError:t=>{B.error(t.message||"Failed to create profile")}})}function iTe(){const e=de();return ue({mutationFn:({id:t,data:r})=>Fn.updateProfile(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Kt.profiles()}),e.invalidateQueries({queryKey:Kt.profile(r)}),B.success("Profile updated")},onError:t=>{B.error(t.message||"Failed to update profile")}})}function oTe(e){return ke({queryKey:Kt.tabs(e),queryFn:()=>Fn.getTabs(e),enabled:!!e})}function lTe(){return ke({queryKey:Kt.scripts(),queryFn:()=>dC(()=>Fn.getScripts(),[])})}function cTe(){const e=de();return ue({mutationFn:t=>Fn.createScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.scripts()}),B.success("Script added")},onError:t=>{B.error(t.message||"Failed to add script")}})}function uTe(e,t){return ke({queryKey:Kt.captures(e,t),queryFn:()=>Fn.getCaptureRecords(e,t),enabled:!!e})}function dTe(){const e=de();return ue({mutationFn:t=>Fn.createCaptureRecord(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Kt.captures(r.browser_profile_id)}),B.success("Capture saved")},onError:t=>{B.error(t.message||"Failed to save capture")}})}function fTe(){const e=de();return ue({mutationFn:t=>Fn.deleteCaptureRecord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.all}),B.success("Capture removed")},onError:t=>{B.error(t.message||"Failed to remove capture")}})}function hTe(e){return ke({queryKey:Kt.commands(e),queryFn:()=>Fn.getCommands(e),enabled:!!e})}function mTe(){const e=de();return ue({mutationFn:t=>Fn.createCommand(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Kt.commands(r.browser_profile_id)}),B.success("Command added to queue")},onError:t=>{B.error(t.message||"Failed to add command")}})}function pTe(){const e=de();return ue({mutationFn:t=>Fn.deleteCommand(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.all}),B.success("Command removed")},onError:t=>{B.error(t.message||"Failed to remove command")}})}function gTe(){return ke({queryKey:Kt.cdpTokens(),queryFn:()=>dC(()=>Fn.getCdpTokens(),[])})}function vTe(){const e=de();return ue({mutationFn:t=>Fn.createCdpToken(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.cdpTokens()}),B.success("CDP token added")},onError:t=>{B.error(t.message||"Failed to add CDP token")}})}function yTe({open:e,onOpenChange:t,action:r,onConfirm:n,isPending:s=!1,profilePath:i,isIsolated:o=!0}){const l=r==="start";return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:l?"Start managed profile":"Stop managed profile"}),a.jsx(Te,{children:l?"Start the managed Chromium profile. The profile will run in an isolated environment.":"Stop the managed Chromium profile. Any open tabs and automation will be terminated."})]}),(i!=null||o!=null)&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm text-muted-foreground",children:[i&&a.jsxs("p",{className:"truncate",title:i,children:[a.jsx("span",{className:"font-medium text-foreground",children:"Path:"})," ",i]}),o!=null&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-foreground",children:"Isolation:"})," ",o?"Enabled":"Disabled"]})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:l?"default":"destructive",onClick:()=>{n(),t(!1)},disabled:s,children:s?"Please wait":l?a.jsxs(a.Fragment,{children:[a.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Start profile"]}):a.jsxs(a.Fragment,{children:[a.jsx(sm,{className:"mr-2 h-4 w-4"}),"Stop profile"]})})]})]})})}function xTe({open:e,onOpenChange:t,tab:r}){if(!r)return null;const n=r.url||"about:blank",s=r.title||n;return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{className:"flex items-center gap-2 truncate pr-8",children:s}),a.jsx(Te,{className:"break-all",children:n})]}),a.jsxs("div",{className:"space-y-4",children:[r.snapshot_url&&a.jsx("div",{className:"rounded-lg border border-border overflow-hidden bg-secondary/30",children:a.jsx("img",{src:r.snapshot_url,alt:`Snapshot of ${s}`,className:"w-full h-auto max-h-48 object-cover object-top"})}),a.jsxs("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"URL"}),a.jsx("dd",{className:"min-w-0 truncate text-right font-mono text-xs",title:r.url,children:r.url||""})]}),r.external_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"External ID"}),a.jsx("dd",{className:"font-mono text-xs",children:r.external_id})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Updated"}),a.jsx("dd",{children:new Date(r.updated_at).toLocaleString()})]})]}),n.startsWith("http")&&a.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:J("inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium","bg-primary/10 text-primary hover:bg-primary/20 transition-colors"),children:[a.jsx(Ai,{className:"h-4 w-4"}),"Open in new tab"]})]})]})})}const bTe=nt({name:xe().min(1,"Name is required").max(200,"Name too long"),script_content:xe().optional()}),UR={name:"",script_content:""};function wTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=et({resolver:tt(bTe),defaultValues:UR}),c=u=>{var d;r({name:u.name.trim(),script_content:((d=u.script_content)==null?void 0:d.trim())||null,execution_status:"pending"}),o(UR),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Add automation script"}),a.jsx(Te,{children:"Upload or paste an automation script. It will appear in the Automation Runner and can be executed against the managed profile."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"script-name",children:"Script name"}),a.jsx(me,{id:"script-name",placeholder:"e.g. login-flow.js",...s("name"),className:l.name?"border-destructive":""}),l.name&&a.jsx("p",{className:"text-sm text-destructive",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"script-content",children:"Content (optional)"}),a.jsx("textarea",{id:"script-content",placeholder:"Paste script content or leave empty to upload later",...s("script_content"),rows:6,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Adding":"Add script"})]})]})]})})}const jTe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},_Te={screenshot:nm,pdf:lr,dom:kv};function STe({open:e,onOpenChange:t,captureType:r,fileUrl:n,filePath:s,onDownload:i,onClose:o}){const l=_Te[r],c=jTe[r],u=!!n,d=()=>{o==null||o(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(l,{className:"h-5 w-5 text-accent"}),c," captured"]}),a.jsxs(Te,{children:["Your ",c.toLowerCase()," has been saved. You can download it or continue capturing."]})]}),s&&a.jsx("p",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm font-mono text-muted-foreground truncate",title:s,children:s}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:d,children:"Close"}),u&&a.jsxs(P,{onClick:()=>{if(i==null||i(),n){const f=document.createElement("a");f.href=n,f.download=`capture-${r}-${Date.now()}`,f.click()}d()},children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})}const NTe=nt({connection_type:sr(["local","node_proxy"]),token_preview:xe().max(20).optional(),config_json:xe().optional()}),E0={connection_type:"local",token_preview:"",config_json:"{}"};function kTe({open:e,onOpenChange:t,existing:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=et({resolver:tt(NTe),defaultValues:r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:E0}),f=c("connection_type");y.useEffect(()=>{e&&u(r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:E0)},[e,r,u]);const h=m=>{let g={};try{g=m.config_json?JSON.parse(m.config_json):{}}catch{g={}}n(r?{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}:{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}),u(E0),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:r?"Edit CDP connector":"Add CDP connector"}),a.jsx(Te,{children:"Configure local or node proxy CDP connection. Sensitive token data is stored securely and only a redacted preview is shown here."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Connection type"}),a.jsxs(ut,{value:f,onValueChange:m=>l("connection_type",m),children:[a.jsx(ot,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"local",children:"Local"}),a.jsx(Se,{value:"node_proxy",children:"Node proxy"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{htmlFor:"token-preview",className:"flex items-center gap-2",children:[a.jsx(NI,{className:"h-4 w-4 text-muted-foreground"}),"Token preview (redacted)"]}),a.jsx(me,{id:"token-preview",placeholder:"e.g. ws://***...***",...i("token_preview")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional label or redacted preview for this token. The actual token is never stored in plain text."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"config-json",children:"Config (JSON, optional)"}),a.jsx("textarea",{id:"config-json",placeholder:'{"host": "localhost", "port": 9222}',...i("config_json"),rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),d.config_json&&a.jsx("p",{className:"text-sm text-destructive",children:d.config_json.message})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":r?"Save changes":"Add connector"})]})]})]})})}const CTe=[{value:"click",label:"Click"},{value:"type",label:"Type"},{value:"select",label:"Select"},{value:"navigate",label:"Navigate"},{value:"scroll",label:"Scroll"},{value:"wait",label:"Wait"},{value:"screenshot",label:"Screenshot"}],ETe=nt({command_type:sr(["click","type","select","navigate","scroll","wait","screenshot"]),selector:xe().optional(),text:xe().optional(),url:xe().url().optional().or(QN("")),value:xe().optional(),x:On.number().optional(),y:On.number().optional(),ms:On.number().min(0).optional(),sequence_order:On.number().min(0).optional()}),P0={command_type:"click",selector:"",text:"",url:"",value:"",sequence_order:0};function PTe({open:e,onOpenChange:t,browserProfileId:r,nextSequenceOrder:n,onSubmit:s,isSubmitting:i=!1}){const{register:o,handleSubmit:l,watch:c,setValue:u,reset:d,formState:{errors:f}}=et({resolver:tt(ETe),defaultValues:{...P0,sequence_order:n}}),h=c("command_type");y.useEffect(()=>{e&&r&&d({...P0,sequence_order:n})},[e,r,n,d]);const m=p=>{var b,v;const x={};return(b=p.selector)!=null&&b.trim()&&(x.selector=p.selector.trim()),p.text!==void 0&&p.text!==""&&(x.text=p.text),(v=p.url)!=null&&v.trim()&&(x.url=p.url.trim()),p.value!==void 0&&p.value!==""&&(x.value=p.value),p.x!==void 0&&(x.x=p.x),p.y!==void 0&&(x.y=p.y),p.ms!==void 0&&(x.ms=p.ms),x},g=p=>{if(!r)return;const x=m(p);s({browser_profile_id:r,command_type:p.command_type,parameters:x,sequence_order:p.sequence_order??n,status:"pending"}),d({...P0,sequence_order:n+1}),t(!1)};return r?a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[480px]",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Add command to queue"}),a.jsx(Te,{children:"Add an automation command. Commands run in sequence within the deterministic tab control environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Command type"}),a.jsxs(ut,{value:h,onValueChange:p=>u("command_type",p),children:[a.jsx(ot,{className:"w-full",children:a.jsx(dt,{placeholder:"Select type"})}),a.jsx(lt,{children:CTe.map(({value:p,label:x})=>a.jsx(Se,{value:p,children:x},p))})]})]}),(h==="click"||h==="type"||h==="select"||h==="wait")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"selector",children:"Selector (CSS or XPath)"}),a.jsx(me,{id:"selector",placeholder:"e.g. #submit-btn or //button[text()='OK']",...o("selector"),className:f.selector?"border-destructive":""}),f.selector&&a.jsx("p",{className:"text-sm text-destructive",children:f.selector.message})]}),h==="type"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"text",children:"Text to type"}),a.jsx(me,{id:"text",placeholder:"Text to enter",...o("text"),className:f.text?"border-destructive":""})]}),h==="select"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"value",children:"Option value"}),a.jsx(me,{id:"value",placeholder:"Value to select",...o("value")})]}),h==="navigate"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"url",children:"URL"}),a.jsx(me,{id:"url",type:"url",placeholder:"https://example.com",...o("url"),className:f.url?"border-destructive":""}),f.url&&a.jsx("p",{className:"text-sm text-destructive",children:f.url.message})]}),h==="scroll"&&a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"scroll-x",children:"X (px)"}),a.jsx(me,{id:"scroll-x",type:"number",placeholder:"0",...o("x")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"scroll-y",children:"Y (px)"}),a.jsx(me,{id:"scroll-y",type:"number",placeholder:"0",...o("y")})]})]}),h==="wait"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"ms",children:"Delay (ms)"}),a.jsx(me,{id:"ms",type:"number",min:0,placeholder:"1000",...o("ms"),className:f.ms?"border-destructive":""}),f.ms&&a.jsx("p",{className:"text-sm text-destructive",children:f.ms.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"sequence_order",children:"Order in queue"}),a.jsx(me,{id:"sequence_order",type:"number",min:0,...o("sequence_order"),className:f.sequence_order?"border-destructive":""}),f.sequence_order&&a.jsx("p",{className:"text-sm text-destructive",children:f.sequence_order.message})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:i,className:"transition-transform hover:scale-[1.02]",children:i?"Adding":"Add command"})]})]})]})}):null}const OTe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},ATe={screenshot:nm,pdf:lr,dom:kv};function TTe({open:e,onOpenChange:t,captures:r,onDownload:n,onDelete:s,isDeleting:i=!1}){const o=l=>{l.file_url&&window.open(l.file_url,"_blank","noopener,noreferrer")};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px] max-h-[85vh] flex flex-col",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Captured outputs"}),a.jsx(Te,{children:"View, download, or delete captured screenshots, PDFs, and DOM snapshots from this session."})]}),a.jsx(pt,{className:"flex-1 min-h-[200px] rounded-lg border border-border",children:r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[a.jsx(nm,{className:"h-12 w-12 mb-3 opacity-50"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No captures yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Capture a screenshot, PDF, or DOM snapshot from the session to see them here."})]}):a.jsx("ul",{className:"p-2 space-y-2",children:r.map(l=>{const c=ATe[l.capture_type],u=OTe[l.capture_type],d=new Date(l.created_at).toLocaleString(),f=!!l.file_url;return a.jsxs("li",{className:J("flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3","transition-shadow hover:shadow-md"),children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-md bg-primary/10 text-primary",children:a.jsx(c,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:u}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",title:l.file_path??l.file_url??"",children:l.file_path??l.file_url??d}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f&&a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>o(l),"aria-label":"View in new tab",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(Ai,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>n(l),"aria-label":"Download",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(Ir,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>s(l.id),disabled:i,"aria-label":"Delete",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:a.jsx(tn,{className:"h-4 w-4"})})]})]},l.id)})})})]})})}const RTe={running:"Running",stopped:"Stopped",starting:"Starting",stopping:"Stopping",error:"Error"},qR={click:"Click",type:"Type",select:"Select",navigate:"Navigate",scroll:"Scroll",wait:"Wait",screenshot:"Screenshot"};function MTe(){const[e,t]=y.useState(null),[r,n]=y.useState(null),[s,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState(null),[h,m]=y.useState(!1),[g,p]=y.useState(!1),[x,b]=y.useState(!1),{data:v=[],isLoading:w}=nTe(),_=y.useMemo(()=>v.find(Y=>Y.status==="running")??v[0]??null,[v]),j=r??(_==null?void 0:_.id)??null,{data:S}=sTe(j),{data:N=[],isLoading:k,refetch:C}=oTe(j),{data:E=[],isLoading:D}=lTe(),{data:O=[]}=uTe(j,{limit:20}),{data:q=[]}=gTe(),{data:A=[],isLoading:V}=hTe(j),T=iTe(),K=aTe(),M=cTe(),$=dTe(),I=fTe(),ee=vTe(),L=mTe(),oe=pTe(),ye=(S==null?void 0:S.status)==="running",Ve=y.useMemo(()=>A.length===0?0:Math.max(...A.map(Y=>Y.sequence_order),0)+1,[A]),Ke=Y=>{j&&t({open:!0,action:Y})},he=()=>{if(!e||!j)return;const Y=e.action==="start"?"running":"stopped";T.mutate({id:j,data:{status:Y}},{onSettled:()=>t(null)})},Be=Y=>{j&&$.mutate({browser_profile_id:j,capture_type:Y,file_path:null,file_url:`/api/browser/captures/${Y}-${Date.now()}`,tab_id:null},{onSuccess:Q=>{f({open:!0,type:Y,fileUrl:Q.file_url,filePath:Q.file_path})}})},ae=Y=>{if(Y.file_url){const Q=document.createElement("a");Q.href=Y.file_url,Q.download=`capture-${Y.capture_type}-${Date.now()}`,Q.click()}},_e=y.useMemo(()=>{const Y=[];return A.slice(0,5).forEach(Q=>{Y.push({id:Q.id,label:`${qR[Q.command_type]}  ${Q.status}`,time:new Date(Q.created_at).toLocaleTimeString(),createdAt:Q.created_at})}),O.slice(0,3).forEach(Q=>{Y.push({id:Q.id,label:`Capture: ${Q.capture_type}`,time:new Date(Q.created_at).toLocaleTimeString(),createdAt:Q.created_at})}),Y.sort((Q,Xe)=>Xe.createdAt.localeCompare(Q.createdAt)).slice(0,8).map(({id:Q,label:Xe,time:He})=>({id:Q,label:Xe,time:He}))},[A,O]);return a.jsxs("div",{className:"flex flex-col h-full animate-fade-in-up",children:[a.jsxs("header",{className:"shrink-0 mb-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Browser Automation Console"}),a.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Managed Chromium profile, command queue, and capture tools. Control your session from the footer."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0",children:[a.jsxs(X,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(CI,{className:"h-5 w-5 text-primary"}),"Command Queue"]}),a.jsxs(P,{size:"sm",onClick:()=>p(!0),disabled:!j||L.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Dt,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(ge,{children:"Add and manage automation commands. They run in sequence."})]}),a.jsx(Z,{className:"flex-1 flex flex-col min-h-0",children:j?V?a.jsx("ul",{className:"space-y-2",children:[1,2,3].map(Y=>a.jsx(ie,{className:"h-10 rounded-md"},Y))}):A.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(g7,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No commands in queue"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a command to run automations."}),a.jsxs(P,{className:"mt-3 transition-transform hover:scale-[1.02]",variant:"outline",size:"sm",onClick:()=>p(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add command"]})]}):a.jsx(pt,{className:"flex-1 -mx-1 px-1",children:a.jsx("ul",{className:"space-y-1",children:A.map(Y=>a.jsxs("li",{className:"flex items-center gap-2 rounded-md border border-border bg-secondary/30 px-2 py-1.5 group",children:[a.jsx("span",{className:"text-xs text-muted-foreground w-6 shrink-0",children:Y.sequence_order+1}),a.jsx("span",{className:"truncate text-sm flex-1",children:qR[Y.command_type]}),a.jsx(We,{variant:"secondary",className:"text-xs shrink-0",children:Y.status}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>oe.mutate(Y.id),disabled:oe.isPending,"aria-label":"Remove command",children:a.jsx(tn,{className:"h-3 w-3"})})]},Y.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select or create a profile to add commands."})})]}),a.jsxs(X,{className:"lg:col-span-6 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Nx,{className:"h-5 w-5 text-primary"}),"Browser Viewport"]}),j&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:j,onChange:Y=>n(Y.target.value||null),children:v.map(Y=>a.jsxs("option",{value:Y.id,children:["Profile  ",RTe[Y.status]??Y.status]},Y.id))}),a.jsxs(P,{size:"sm",onClick:()=>Ke("start"),disabled:ye||T.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Xa,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Ke("stop"),disabled:!ye||T.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(sm,{className:"h-4 w-4 mr-1"}),"Stop"]}),a.jsx(P,{variant:"ghost",size:"sm",onClick:()=>C(),disabled:k||!ye,children:a.jsx(tf,{className:J("h-4 w-4",k&&"animate-spin")})})]})]}),a.jsx(ge,{children:"Tab inspector and active session. Start the profile to see tabs."})]}),a.jsx(Z,{className:"flex-1 flex flex-col min-h-0",children:j?k?a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:[1,2,3,4].map(Y=>a.jsx(ie,{className:"h-24 rounded-lg"},Y))}):N.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(NE,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No tabs"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:ye?"Open pages in the managed browser or refresh.":"Start the profile to see tabs."})]}):a.jsx(pt,{className:"flex-1",children:a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:N.map(Y=>a.jsxs("button",{type:"button",onClick:()=>{i(Y),l(!0)},className:"flex flex-col overflow-hidden rounded-lg border border-border bg-secondary/30 text-left transition-all hover:border-primary/50 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[Y.snapshot_url?a.jsx("img",{src:Y.snapshot_url,alt:"",className:"h-20 w-full object-cover object-top"}):a.jsx("div",{className:"flex h-20 w-full items-center justify-center bg-muted",children:a.jsx(NE,{className:"h-8 w-8 text-muted-foreground"})}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"truncate text-sm font-medium",title:Y.title??Y.url,children:Y.title||Y.url||"Untitled"}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",title:Y.url,children:Y.url||""})]})]},Y.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a profile to start."})})]}),a.jsxs(X,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(nm,{className:"h-5 w-5 text-primary"}),"Output Capture"]}),a.jsx(ge,{children:"Screenshot, PDF, or DOM snapshot. View and manage captures below."})]}),a.jsxs(Z,{className:"flex-1 flex flex-col gap-3 min-h-0",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Be("screenshot"),disabled:!j||!ye||$.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(nm,{className:"h-4 w-4 mr-1"}),"Screenshot"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Be("pdf"),disabled:!j||!ye||$.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(lr,{className:"h-4 w-4 mr-1"}),"PDF"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Be("dom"),disabled:!j||!ye||$.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(kv,{className:"h-4 w-4 mr-1"}),"DOM"]})]}),a.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recent"}),a.jsxs(P,{variant:"ghost",size:"sm",onClick:()=>b(!0),className:"text-primary hover:text-primary",children:["Manage",a.jsx(Rr,{className:"h-4 w-4 ml-0.5"})]})]}),O.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No captures yet."}):a.jsx(pt,{className:"flex-1",children:a.jsx("ul",{className:"space-y-1",children:O.slice(0,5).map(Y=>a.jsxs("li",{className:"flex items-center justify-between rounded-md border border-border bg-secondary/30 px-2 py-1.5 text-sm",children:[a.jsx("span",{children:Y.capture_type}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(Y.created_at).toLocaleDateString()})]},Y.id))})})]})]})]})]}),a.jsx("footer",{className:"shrink-0 mt-4 pt-4 border-t border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Session"}),v.length>0&&j&&a.jsxs(a.Fragment,{children:[a.jsxs(P,{size:"sm",onClick:()=>Ke("start"),disabled:ye||T.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Xa,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Ke("stop"),disabled:!ye||T.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(sm,{className:"h-4 w-4 mr-1"}),"Stop"]})]}),v.length===0&&a.jsx(P,{size:"sm",variant:"outline",onClick:()=>K.mutate({status:"stopped",is_isolated:!0}),disabled:K.isPending,children:K.isPending?"Creating":"Create profile"})]}),a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(jx,{className:"h-4 w-4 text-muted-foreground shrink-0"}),a.jsx(pt,{className:"max-w-full",children:a.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground",children:_e.length===0?a.jsx("span",{children:"No activity yet"}):_e.map(Y=>a.jsx("span",{className:"shrink-0 whitespace-nowrap",title:Y.time,children:Y.label},Y.id))})})]})]})}),!w&&v.length===0&&a.jsx(X,{className:"mt-4 shadow-card",children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No profile yet. Create a default profile to start the managed browser."}),a.jsx(P,{size:"sm",variant:"outline",onClick:()=>K.mutate({status:"stopped",is_isolated:!0}),disabled:K.isPending,className:"transition-transform hover:scale-[1.02]",children:K.isPending?"Creating":"Create profile"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-base",children:[a.jsx(kv,{className:"h-4 w-4 text-primary"}),"Automation Runner"]}),a.jsxs(P,{size:"sm",onClick:()=>u(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(II,{className:"h-4 w-4 mr-1"}),"Add script"]})]}),a.jsx(ge,{children:"Upload and run automation scripts."})]}),a.jsx(Z,{children:D?a.jsx(ie,{className:"h-10 rounded-md"}):E.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No scripts. Add one to run automations."}):a.jsx("ul",{className:"space-y-1",children:E.slice(0,3).map(Y=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"truncate",children:Y.name}),a.jsx(We,{variant:"secondary",children:Y.execution_status})]},Y.id))})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-base",children:[a.jsx(Rn,{className:"h-4 w-4 text-primary"}),"CDP Connector"]}),a.jsxs(P,{size:"sm",variant:"outline",onClick:()=>m(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Dt,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(ge,{children:"Local or node proxy CDP settings."})]}),a.jsx(Z,{children:q.length===0?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(NI,{className:"h-4 w-4"}),"No CDP connectors. Add one for remote CDP."]}):a.jsx("ul",{className:"space-y-1",children:q.slice(0,3).map(Y=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-mono truncate",children:Y.token_preview||Y.connection_type}),a.jsx(We,{variant:"secondary",children:Y.connection_type})]},Y.id))})})]})]}),e&&a.jsx(yTe,{open:e.open,onOpenChange:Y=>!Y&&t(null),action:e.action,onConfirm:he,isPending:T.isPending,profilePath:S==null?void 0:S.footprint_path,isIsolated:S==null?void 0:S.is_isolated}),a.jsx(xTe,{open:o,onOpenChange:l,tab:s}),a.jsx(wTe,{open:c,onOpenChange:u,onSubmit:Y=>M.mutate(Y),isSubmitting:M.isPending}),d&&a.jsx(STe,{open:d.open,onOpenChange:Y=>!Y&&f(null),captureType:d.type,fileUrl:d.fileUrl,filePath:d.filePath}),a.jsx(kTe,{open:h,onOpenChange:m,existing:null,onSubmit:Y=>ee.mutate(Y),isSubmitting:ee.isPending}),a.jsx(PTe,{open:g,onOpenChange:p,browserProfileId:j,nextSequenceOrder:Ve,onSubmit:Y=>L.mutate(Y),isSubmitting:L.isPending}),a.jsx(TTe,{open:x,onOpenChange:b,captures:O,onDownload:ae,onDelete:Y=>I.mutate(Y),isDeleting:I.isPending})]})}const Gs={getWakeWords:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("wake_words").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createWakeWord:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("wake_words").insert(r).select().single();if(s)throw new Error(s.message);return n},updateWakeWord:async(e,t)=>{const{data:r,error:n}=await F.from("wake_words").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWakeWord:async e=>{const{error:t}=await F.from("wake_words").delete().eq("id",e);if(t)throw new Error(t.message)},getTalkModeSettings:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("talk_mode_settings").select("*").eq("user_id",e.id).order("node_id",{ascending:!0,nullsFirst:!0});if(r)throw new Error(r.message);return t??[]},getTalkModeSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");let r=F.from("talk_mode_settings").select("*").eq("user_id",t.id);e===null?r=r.is("node_id",null):r=r.eq("node_id",e);const{data:n,error:s}=await r.maybeSingle();if(s)throw new Error(s.message);return n},upsertTalkModeSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id,node_id:e.node_id??null},{data:n,error:s}=await F.from("talk_mode_settings").upsert(r,{onConflict:"user_id,node_id"}).select().single();if(s)throw new Error(s.message);return n},updateTalkModeSetting:async(e,t)=>{const{data:r,error:n}=await F.from("talk_mode_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getTranscriptionBackends:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("transcription_backends").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTranscriptionBackends:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("transcription_backends").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTranscriptionBackends:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await F.from("transcription_backends").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getTtsProviderSetting:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("tts_provider_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTtsProviderSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("tts_provider_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTtsProviderSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await F.from("tts_provider_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getMediaSetting:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("media_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertMediaSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("media_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateMediaSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await F.from("media_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r}};function BB(e,t){return e().catch(()=>t)}const zr={all:["voice"],wakeWords:()=>[...zr.all,"wakeWords"],talkModeSettings:()=>[...zr.all,"talkModeSettings"],talkModeSetting:e=>[...zr.all,"talkModeSetting",e],transcriptionBackends:()=>[...zr.all,"transcriptionBackends"],ttsProviderSetting:()=>[...zr.all,"ttsProviderSetting"],mediaSetting:()=>[...zr.all,"mediaSetting"]};function $Te(){return ke({queryKey:zr.wakeWords(),queryFn:()=>BB(()=>Gs.getWakeWords(),[])})}function ITe(){const e=de();return ue({mutationFn:t=>Gs.createWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.wakeWords()}),B.success("Wake word added")},onError:t=>{B.error(t.message||"Failed to add wake word")}})}function DTe(){const e=de();return ue({mutationFn:({id:t,data:r})=>Gs.updateWakeWord(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:zr.wakeWords()}),B.success("Wake word updated")},onError:t=>{B.error(t.message||"Failed to update wake word")}})}function LTe(){const e=de();return ue({mutationFn:t=>Gs.deleteWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.wakeWords()}),B.success("Wake word removed")},onError:t=>{B.error(t.message||"Failed to remove wake word")}})}function FTe(){return ke({queryKey:zr.talkModeSettings(),queryFn:()=>BB(()=>Gs.getTalkModeSettings(),[])})}function UTe(){const e=de();return ue({mutationFn:t=>Gs.upsertTalkModeSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.talkModeSettings()}),e.invalidateQueries({queryKey:zr.all}),B.success("Talk mode saved")},onError:t=>{B.error(t.message||"Failed to save talk mode")}})}function qTe(){return ke({queryKey:zr.transcriptionBackends(),queryFn:()=>Gs.getTranscriptionBackends()})}function BTe(){const e=de();return ue({mutationFn:t=>Gs.upsertTranscriptionBackends(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.transcriptionBackends()}),B.success("Transcription backends saved")},onError:t=>{B.error(t.message||"Failed to save transcription backends")}})}function zTe(){return ke({queryKey:zr.ttsProviderSetting(),queryFn:()=>Gs.getTtsProviderSetting()})}function WTe(){const e=de();return ue({mutationFn:t=>Gs.upsertTtsProviderSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.ttsProviderSetting()}),B.success("TTS provider saved")},onError:t=>{B.error(t.message||"Failed to save TTS provider")}})}function VTe(){return ke({queryKey:zr.mediaSetting(),queryFn:()=>Gs.getMediaSetting()})}function KTe(){const e=de();return ue({mutationFn:t=>Gs.upsertMediaSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.mediaSetting()}),B.success("Media settings saved")},onError:t=>{B.error(t.message||"Failed to save media settings")}})}const HTe=nt({word:xe().min(1,"Wake word is required").max(64),status:sr(["active","inactive"]),propagate_to_nodes:Gr()}),O0={word:"",status:"active",propagate_to_nodes:!0};function GTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initial:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=et({resolver:tt(HTe),defaultValues:O0}),f=c("propagate_to_nodes"),h=c("status"),m=p=>{r(p),u(O0),t(!1)},g=p=>{p&&s?u({word:s.word,status:s.status,propagate_to_nodes:s.propagate_to_nodes}):p||u(O0),t(p)};return a.jsx(Me,{open:e,onOpenChange:g,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"wake-word-form-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:s?"Edit wake word":"Add wake word"}),a.jsx(Te,{id:"wake-word-form-description",children:"Configure a voice wake word. Optionally propagate to connected nodes."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"wake-word-input",children:"Wake word"}),a.jsx(me,{id:"wake-word-input",placeholder:"e.g. Hey Clawgate",...i("word"),className:"transition-colors focus-visible:ring-2"}),d.word&&a.jsx("p",{className:"text-sm text-destructive",children:d.word.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Status"}),a.jsxs(ut,{value:h,onValueChange:p=>l("status",p),children:[a.jsx(ot,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"active",children:"Active"}),a.jsx(Se,{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"propagate-nodes",children:"Propagate to nodes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this wake word to paired devices"})]}),a.jsx(Rt,{id:"propagate-nodes",checked:f,onCheckedChange:p=>l("propagate_to_nodes",p)})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":s?"Update":"Add"})]})]})]})})}const YTe=nt({node_id:xe().nullable(),enabled:Gr(),interrupt_sensitivity:sr(["low","medium","high"])});function QTe({nodes:e,settings:t,defaultSetting:r,onSave:n,isSubmitting:s=!1}){const i="",o={node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"},{handleSubmit:l,setValue:c,watch:u,reset:d}=et({resolver:tt(YTe),defaultValues:o});y.useEffect(()=>{d({node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"})},[r,d]);const f=u("node_id"),h=u("enabled"),m=u("interrupt_sensitivity"),g=p=>{const x=p.node_id===""||!p.node_id?null:p.node_id;n({node_id:x,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity}),d({node_id:p.node_id,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity})};return a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Talk mode"}),a.jsx(ge,{children:"Enable or disable voice interaction per node and set interrupt sensitivity."})]}),a.jsx(Z,{className:"space-y-6",children:a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Node"}),a.jsxs(ut,{value:f||i,onValueChange:p=>{const x=p===i?null:p,b=x===null?r:t.find(v=>v.node_id===x);c("node_id",p||i),c("enabled",(b==null?void 0:b.enabled)??!1),c("interrupt_sensitivity",(b==null?void 0:b.interrupt_sensitivity)??"medium")},children:[a.jsx(ot,{children:a.jsx(dt,{placeholder:"Default (all nodes)"})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"",children:"Default (all nodes)"}),e.map(p=>a.jsx(Se,{value:p.id,children:p.name||p.id.slice(0,8)},p.id))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"talk-enabled",children:"Talk mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Enable for this node":"Enable for all nodes by default"})]}),a.jsx(Rt,{id:"talk-enabled",checked:h,onCheckedChange:p=>c("enabled",p)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Interrupt sensitivity"}),a.jsxs(ut,{value:m,onValueChange:p=>c("interrupt_sensitivity",p),children:[a.jsx(ot,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"low",children:"Low"}),a.jsx(Se,{value:"medium",children:"Medium"}),a.jsx(Se,{value:"high",children:"High"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How quickly the agent stops when you start speaking"})]}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save talk mode"})]})})]})}const BR=["whisper","google","assemblyai","deepgram","local-cli"];function XTe({open:e,onOpenChange:t,providerList:r,cliFallback:n,onSave:s,isSubmitting:i=!1}){const[o,l]=y.useState(r.length>0?[...r]:[...BR]),[c,u]=y.useState(n??"");y.useEffect(()=>{e&&(l(r.length>0?[...r]:[...BR]),u(n??""))},[e,r,n]);const d=g=>{if(g<=0)return;const p=[...o];[p[g-1],p[g]]=[p[g],p[g-1]],l(p)},f=g=>{if(g>=o.length-1)return;const p=[...o];[p[g],p[g+1]]=[p[g+1],p[g]],l(p)},h=g=>{l(p=>p.filter((x,b)=>b!==g))},m=()=>{s(o,c.trim()||null),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"transcription-backend-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Transcription backends"}),a.jsx(Te,{id:"transcription-backend-description",children:"Set the order of preference for transcription providers. First available is used."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Provider order (first = preferred)"}),a.jsx("ul",{className:"flex flex-col gap-2 rounded-lg border border-border p-2",children:o.map((g,p)=>a.jsxs("li",{className:J("flex items-center gap-2 rounded-md border border-border bg-card px-3 py-2 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsx("span",{className:"text-muted-foreground","aria-hidden":!0,children:a.jsx(CI,{className:"h-4 w-4"})}),a.jsx("span",{className:"flex-1 font-medium",children:g}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(p),disabled:p===0,"aria-label":"Move up",children:""}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(p),disabled:p===o.length-1,"aria-label":"Move down",children:""}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h(p),"aria-label":"Remove",children:a.jsx(tn,{className:"h-4 w-4"})})]})]},`${g}-${p}`))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"cli-fallback",children:"CLI fallback command"}),a.jsx(me,{id:"cli-fallback",placeholder:"e.g. /usr/bin/whisper-cli",value:c,onChange:g=>u(g.target.value),className:"transition-colors focus-visible:ring-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional local CLI used when cloud providers are unavailable"})]})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:m,disabled:i,children:i?"Saving":"Save order"})]})]})})}const JTe=nt({provider:xe().min(1,"Provider is required"),model:xe().optional()}),ZTe=[{id:"default",label:"Default (system)"},{id:"openai",label:"OpenAI"},{id:"google",label:"Google Cloud TTS"},{id:"amazon",label:"Amazon Polly"},{id:"elevenlabs",label:"ElevenLabs"},{id:"azure",label:"Azure Speech"},{id:"local",label:"Local / Ollama"}],zR={provider:"default",model:""};function eRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s="default",initialModel:i=null}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=et({resolver:tt(JTe),defaultValues:{provider:s,model:i??""}}),h=u("provider"),m=p=>{var x;r({provider:p.provider,model:((x=p.model)==null?void 0:x.trim())||null}),d(zR),t(!1)},g=p=>{d(p?{provider:s,model:i??""}:zR),t(p)};return a.jsx(Me,{open:e,onOpenChange:g,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"tts-provider-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"TTS provider"}),a.jsx(Te,{id:"tts-provider-description",children:"Choose the text-to-speech provider and model for voice output."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Provider"}),a.jsxs(ut,{value:h,onValueChange:p=>c("provider",p),children:[a.jsx(ot,{children:a.jsx(dt,{})}),a.jsx(lt,{children:ZTe.map(p=>a.jsx(Se,{value:p.id,children:p.label},p.id))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"tts-model",children:"Model (optional)"}),a.jsx(me,{id:"tts-model",placeholder:"e.g. tts-1, en-US-Standard-D",...o("model"),className:"transition-colors focus-visible:ring-2"}),f.model&&a.jsx("p",{className:"text-sm text-destructive",children:f.model.message})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":"Save"})]})]})]})})}const tRe=nt({retention_days:On.number().min(1).max(3650),size_cap_mb:On.number().min(1).max(1048576),fallback_strategy:sr(["local","cloud","none"]),audio_note_handling:sr(["store","transcribe_and_store","transcribe_only","discard"])}),WR={retention_days:30,size_cap_mb:1024,fallback_strategy:"local",audio_note_handling:"store"};function rRe({initial:e,onSave:t,isSubmitting:r=!1}){const{register:n,handleSubmit:s,setValue:i,watch:o,reset:l,formState:{errors:c}}=et({resolver:tt(tRe),defaultValues:e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:WR}),u=o("fallback_strategy"),d=o("audio_note_handling");return y.useEffect(()=>{l(e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:WR)},[e,l]),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Media storage"}),a.jsx(ge,{children:"Retention, size caps, and fallback for audio notes and media capture."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:s(t),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"retention-days",children:"Retention (days)"}),a.jsx(me,{id:"retention-days",type:"number",min:1,max:3650,...n("retention_days"),className:"transition-colors focus-visible:ring-2"}),c.retention_days&&a.jsx("p",{className:"text-sm text-destructive",children:c.retention_days.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep media before cleanup (13650)"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"size-cap-mb",children:"Size cap (MB)"}),a.jsx(me,{id:"size-cap-mb",type:"number",min:1,...n("size_cap_mb"),className:"transition-colors focus-visible:ring-2"}),c.size_cap_mb&&a.jsx("p",{className:"text-sm text-destructive",children:c.size_cap_mb.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum storage for media; oldest items are removed when exceeded"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Fallback strategy"}),a.jsxs(ut,{value:u,onValueChange:f=>i("fallback_strategy",f),children:[a.jsx(ot,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"local",children:"Local only"}),a.jsx(Se,{value:"cloud",children:"Cloud when local full"}),a.jsx(Se,{value:"none",children:"No fallback (fail when full)"})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Audio note handling"}),a.jsxs(ut,{value:d,onValueChange:f=>i("audio_note_handling",f),children:[a.jsx(ot,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"store",children:"Store only"}),a.jsx(Se,{value:"transcribe_and_store",children:"Transcribe and store"}),a.jsx(Se,{value:"transcribe_only",children:"Transcribe only"}),a.jsx(Se,{value:"discard",children:"Discard"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"What to do with captured audio notes"})]}),a.jsx(P,{type:"submit",disabled:r,children:r?"Saving":"Save media settings"})]})})]})}function nRe(){var M;const[e,t]=y.useState(!1),[r,n]=y.useState(null),[s,i]=y.useState(!1),[o,l]=y.useState(!1),{data:c=[],isLoading:u}=$Te(),d=ITe(),f=DTe(),h=LTe(),{data:m=[],isLoading:g}=FTe(),p=UTe(),x=m.find($=>$.node_id===null)??null,{data:b=[]}=gF(),{data:v,isLoading:w}=qTe(),_=BTe(),{data:j,isLoading:S}=zTe(),N=WTe(),{data:k,isLoading:C}=VTe(),E=KTe(),D=()=>{n(null),t(!0)},O=$=>{n($),t(!0)},q=$=>{r?f.mutate({id:r.id,data:{word:$.word,status:$.status,propagate_to_nodes:$.propagate_to_nodes}},{onSuccess:()=>t(!1)}):d.mutate({word:$.word,status:$.status,propagate_to_nodes:$.propagate_to_nodes},{onSuccess:()=>t(!1)})},A=$=>{p.mutate({node_id:$.node_id,enabled:$.enabled,interrupt_sensitivity:$.interrupt_sensitivity})},V=($,I)=>{_.mutate({provider_list:$,cli_fallback:I})},T=$=>{N.mutate({provider:$.provider,model:$.model})},K=$=>{E.mutate($)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(fe,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Rr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Voice & Media"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(dd,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Voice & Media"]}),a.jsx("p",{className:"text-muted-foreground",children:"Configure wake words, talk mode, transcription, TTS, and media storage."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_240px]",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(ne,{children:"Wake words"}),a.jsx(ge,{children:"Voice activation phrases; optionally propagated to nodes."})]}),a.jsxs(P,{type:"button",size:"sm",onClick:D,className:"shrink-0 transition-transform hover:scale-[1.02]",children:[a.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Add"]})]}),a.jsx(Z,{children:u?a.jsx(ie,{className:"h-24 w-full rounded-lg"}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(dd,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No wake words configured"}),a.jsx(P,{type:"button",variant:"outline",size:"sm",onClick:D,children:"Add wake word"})]}):a.jsx("ul",{className:"space-y-2",children:c.map($=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-card px-4 py-3 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium",children:$.word}),a.jsx(We,{variant:$.status==="active"?"success":"secondary",children:$.status}),$.propagate_to_nodes&&a.jsx("span",{className:"text-muted-foreground text-xs",children:" nodes"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>O($),"aria-label":"Edit wake word",children:a.jsx(Ti,{className:"h-4 w-4"})}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h.mutate($.id),"aria-label":"Delete wake word",children:a.jsx(tn,{className:"h-4 w-4"})})]})]},$.id))})})]}),g?a.jsx(ie,{className:"h-64 w-full rounded-lg"}):a.jsx(QTe,{nodes:b,settings:m,defaultSetting:x,onSave:A,isSubmitting:p.isPending}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(p7,{className:"h-5 w-5 text-primary"}),"Transcription backends"]}),a.jsx(ge,{children:"Provider order and CLI fallback for voice-to-text."})]}),a.jsx(P,{type:"button",size:"sm",variant:"outline",onClick:()=>i(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Edit order"})]}),a.jsx(Z,{children:w?a.jsx(ie,{className:"h-16 w-full rounded-lg"}):v?a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-muted-foreground",children:["Order: ",(M=v.provider_list)!=null&&M.length?v.provider_list.join("  "):"default"]}),v.cli_fallback&&a.jsxs("p",{className:"text-muted-foreground",children:["CLI fallback: ",a.jsx("code",{className:"rounded bg-secondary px-1",children:v.cli_fallback})]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No backends configured. Use default order or set your preference."})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(j7,{className:"h-5 w-5 text-primary"}),"TTS provider"]}),a.jsx(ge,{children:"Text-to-speech provider and model for voice output."})]}),a.jsx(P,{type:"button",size:"sm",variant:"outline",onClick:()=>l(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Configure"})]}),a.jsx(Z,{children:S?a.jsx(ie,{className:"h-12 w-full rounded-lg"}):j?a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:j.provider}),j.model&&a.jsxs("span",{className:"text-muted-foreground",children:[" / ",j.model]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default (system)"})})]}),C?a.jsx(ie,{className:"h-80 w-full rounded-lg"}):a.jsx(rRe,{initial:k??null,onSave:K,isSubmitting:E.isPending})]}),a.jsxs("aside",{className:"space-y-4 lg:order-last",children:[a.jsxs(X,{className:"border-border bg-card/80",children:[a.jsx(te,{className:"pb-2",children:a.jsx(ne,{className:"text-base",children:"Related"})}),a.jsxs(Z,{className:"space-y-2",children:[a.jsxs(fe,{to:"/settings",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[a.jsx(Rn,{className:"h-4 w-4 shrink-0"}),"Settings"]}),a.jsx(fe,{to:"/nodes",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:"Nodes"})]})]}),a.jsxs(X,{className:"border-border bg-card/80",children:[a.jsx(te,{className:"pb-2",children:a.jsxs(ne,{className:"text-base flex items-center gap-2",children:[a.jsx(ef,{className:"h-4 w-4"}),"Help"]})}),a.jsx(Z,{children:a.jsx(fe,{to:"/help",className:"text-sm text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Docs & quick start"})})]})]})]}),a.jsx(GTe,{open:e,onOpenChange:t,onSubmit:q,isSubmitting:d.isPending||f.isPending,initial:r}),a.jsx(XTe,{open:s,onOpenChange:i,providerList:(v==null?void 0:v.provider_list)??[],cliFallback:(v==null?void 0:v.cli_fallback)??null,onSave:V,isSubmitting:_.isPending}),a.jsx(eRe,{open:o,onOpenChange:l,onSubmit:T,isSubmitting:N.isPending,initialProvider:(j==null?void 0:j.provider)??"default",initialModel:(j==null?void 0:j.model)??null})]})}const Km=y.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Km.displayName="Textarea";async function pn(){const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");return e.id}const Ma={getNetworkSettings:async()=>{const e=await pn(),{data:t,error:r}=await F.from("network_settings").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertNetworkSettings:async e=>{const r={user_id:e.user_id??await pn(),bind_address:e.bind_address??"0.0.0.0",port:e.port??3e3,tls_options:e.tls_options??{}},{data:n,error:s}=await F.from("network_settings").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateNetworkSettings:async e=>{const t=await pn(),{data:r,error:n}=await F.from("network_settings").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},getRemoteAccess:async()=>{const e=await pn(),{data:t,error:r}=await F.from("remote_access").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertRemoteAccess:async e=>{const r={user_id:e.user_id??await pn(),tailnet_config:e.tailnet_config??{},relay_settings:e.relay_settings??{},pairing_policies:e.pairing_policies??{}},{data:n,error:s}=await F.from("remote_access").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateRemoteAccess:async e=>{const t=await pn(),{data:r,error:n}=await F.from("remote_access").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},getSecretsPrefs:async()=>{const e=await pn(),{data:t,error:r}=await F.from("settings_secrets_prefs").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertSecretsPrefs:async e=>{const r={user_id:e.user_id??await pn(),os_keychain_enabled:e.os_keychain_enabled??!0,onepassword_integration:e.onepassword_integration??!1},{data:n,error:s}=await F.from("settings_secrets_prefs").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateSecretsPrefs:async e=>{const t=await pn(),{data:r,error:n}=await F.from("settings_secrets_prefs").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},getToolPolicies:async()=>{const e=await pn(),{data:t,error:r}=await F.from("tool_policies").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertToolPolicies:async e=>{const r={user_id:e.user_id??await pn(),exec_allowlist:e.exec_allowlist??[],sandbox_mode:e.sandbox_mode??!0,docker_config:e.docker_config??{}},{data:n,error:s}=await F.from("tool_policies").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateToolPolicies:async e=>{const t=await pn(),{data:r,error:n}=await F.from("tool_policies").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},getModelDefaults:async()=>{const e=await pn(),{data:t,error:r}=await F.from("model_defaults").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertModelDefaults:async e=>{const r={user_id:e.user_id??await pn(),provider_priority:e.provider_priority??[],failover_rules:e.failover_rules??{},usage_caps:e.usage_caps??{}},{data:n,error:s}=await F.from("model_defaults").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateModelDefaults:async e=>{const t=await pn(),{data:r,error:n}=await F.from("model_defaults").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},applySettings:async()=>(await pn(),{ok:!0,message:"Settings applied. Restart may be required for some changes."})},_n={all:["settings"],network:()=>[..._n.all,"network"],remoteAccess:()=>[..._n.all,"remoteAccess"],secretsPrefs:()=>[..._n.all,"secretsPrefs"],toolPolicies:()=>[..._n.all,"toolPolicies"],modelDefaults:()=>[..._n.all,"modelDefaults"]};function kp(e,t){return e().catch(()=>t)}function sRe(){return ke({queryKey:_n.network(),queryFn:()=>kp(()=>Ma.getNetworkSettings(),null)})}function aRe(){const e=de();return ue({mutationFn:t=>Ma.upsertNetworkSettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:_n.network()}),B.success("Network settings saved")},onError:t=>{B.error(t.message||"Failed to save network settings")}})}function iRe(){return ke({queryKey:_n.remoteAccess(),queryFn:()=>kp(()=>Ma.getRemoteAccess(),null)})}function oRe(){const e=de();return ue({mutationFn:t=>Ma.upsertRemoteAccess(t),onSuccess:()=>{e.invalidateQueries({queryKey:_n.remoteAccess()}),B.success("Remote access settings saved")},onError:t=>{B.error(t.message||"Failed to save remote access settings")}})}function lRe(){return ke({queryKey:_n.secretsPrefs(),queryFn:()=>kp(()=>Ma.getSecretsPrefs(),null)})}function cRe(){const e=de();return ue({mutationFn:t=>Ma.upsertSecretsPrefs(t),onSuccess:()=>{e.invalidateQueries({queryKey:_n.secretsPrefs()}),B.success("Secrets preferences saved")},onError:t=>{B.error(t.message||"Failed to save secrets preferences")}})}function uRe(){return ke({queryKey:_n.toolPolicies(),queryFn:()=>kp(()=>Ma.getToolPolicies(),null)})}function dRe(){const e=de();return ue({mutationFn:t=>Ma.upsertToolPolicies(t),onSuccess:()=>{e.invalidateQueries({queryKey:_n.toolPolicies()}),B.success("Tool policies saved")},onError:t=>{B.error(t.message||"Failed to save tool policies")}})}function fRe(){return ke({queryKey:_n.modelDefaults(),queryFn:()=>kp(()=>Ma.getModelDefaults(),null)})}function hRe(){const e=de();return ue({mutationFn:t=>Ma.upsertModelDefaults(t),onSuccess:()=>{e.invalidateQueries({queryKey:_n.modelDefaults()}),B.success("Model defaults saved")},onError:t=>{B.error(t.message||"Failed to save model defaults")}})}function mRe(){const e=de();return ue({mutationFn:()=>Ma.applySettings(),onSuccess:t=>{e.invalidateQueries({queryKey:_n.all}),t.message?B.success(t.message):B.success("Settings applied")},onError:t=>{B.error(t.message||"Failed to apply settings")}})}const pRe=nt({bind_address:xe().min(1,"Bind address is required"),port:On.number().int().min(1).max(65535),tls_enabled:Gr().optional(),tls_cert_path:xe().optional(),tls_key_path:xe().optional()}),gRe=nt({tailnet_enabled:Gr().optional(),tailnet_name:xe().optional(),relay_enabled:Gr().optional(),pairing_require_approval:Gr().optional()}),vRe=nt({os_keychain_enabled:Gr(),onepassword_integration:Gr()}),yRe=nt({exec_allowlist_text:xe().optional(),sandbox_mode:Gr(),docker_enabled:Gr().optional(),docker_image:xe().optional()}),xRe=nt({provider_priority_text:xe().optional(),usage_cap_daily:On.number().min(0).optional(),failover_enabled:Gr().optional()}),A0={bind_address:"0.0.0.0",port:3e3,tls_enabled:!1,tls_cert_path:"",tls_key_path:""},bRe={tailnet_enabled:!1,tailnet_name:"",relay_enabled:!1,pairing_require_approval:!0},wRe={os_keychain_enabled:!0,onepassword_integration:!1},jRe={exec_allowlist_text:"",sandbox_mode:!0,docker_enabled:!1,docker_image:""},_Re={provider_priority_text:"",usage_cap_daily:0,failover_enabled:!0};function SRe(){const[e,t]=y.useState(!1),[r,n]=y.useState([]),{data:s,isLoading:i}=sRe(),{data:o,isLoading:l}=iRe(),{data:c,isLoading:u}=lRe(),{data:d,isLoading:f}=uRe(),{data:h,isLoading:m}=fRe(),g=aRe(),p=oRe(),x=cRe(),b=dRe(),v=hRe(),w=mRe(),_=et({resolver:tt(pRe),defaultValues:A0}),j=et({resolver:tt(gRe),defaultValues:bRe}),S=et({resolver:tt(vRe),defaultValues:wRe}),N=et({resolver:tt(yRe),defaultValues:jRe}),k=et({resolver:tt(xRe),defaultValues:_Re});y.useEffect(()=>{if(s){const T=s.tls_options||{};_.reset({bind_address:s.bind_address??A0.bind_address,port:s.port??A0.port,tls_enabled:!!T.enabled,tls_cert_path:T.cert_path??"",tls_key_path:T.key_path??""})}},[s,_]),y.useEffect(()=>{if(o){const T=o.tailnet_config||{},K=o.relay_settings||{},M=o.pairing_policies||{};j.reset({tailnet_enabled:!!T.enabled,tailnet_name:T.name??"",relay_enabled:!!K.enabled,pairing_require_approval:M.require_approval!==!1})}},[o,j]),y.useEffect(()=>{c&&S.reset({os_keychain_enabled:c.os_keychain_enabled,onepassword_integration:c.onepassword_integration})},[c,S]),y.useEffect(()=>{if(d){const T=d.exec_allowlist||[],K=d.docker_config||{};N.reset({exec_allowlist_text:Array.isArray(T)?T.join(`
`):"",sandbox_mode:d.sandbox_mode,docker_enabled:!!K.enabled,docker_image:K.image??""})}},[d,N]),y.useEffect(()=>{if(h){const T=h.provider_priority||[],K=h.usage_caps||{},M=h.failover_rules||{};k.reset({provider_priority_text:Array.isArray(T)?T.join(`
`):"",usage_cap_daily:K.daily??0,failover_enabled:M.enabled!==!1})}},[h,k]);const C=()=>{n([]),t(!0)},E=async()=>{await w.mutateAsync(),t(!1),r.length>0&&n([])},D=T=>{g.mutate({bind_address:T.bind_address,port:T.port,tls_options:{enabled:T.tls_enabled,cert_path:T.tls_cert_path||void 0,key_path:T.tls_key_path||void 0}})},O=T=>{p.mutate({tailnet_config:{enabled:T.tailnet_enabled,name:T.tailnet_name||void 0},relay_settings:{enabled:T.relay_enabled},pairing_policies:{require_approval:T.pairing_require_approval}})},q=T=>{x.mutate({os_keychain_enabled:T.os_keychain_enabled,onepassword_integration:T.onepassword_integration})},A=T=>{const K=T.exec_allowlist_text?T.exec_allowlist_text.split(`
`).map(M=>M.trim()).filter(Boolean):[];b.mutate({exec_allowlist:K,sandbox_mode:T.sandbox_mode,docker_config:{enabled:T.docker_enabled,image:T.docker_image||void 0}})},V=T=>{const K=T.provider_priority_text?T.provider_priority_text.split(`
`).map(M=>M.trim()).filter(Boolean):[];v.mutate({provider_priority:K,usage_caps:{daily:T.usage_cap_daily??0},failover_rules:{enabled:T.failover_enabled}})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up max-w-[1200px] mx-auto",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Rn,{className:"h-6 w-6 text-primary","aria-hidden":!0}),"Settings / Preferences"]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Global gateway and workspace configuration. Restart may be required for some changes."})]}),a.jsxs(ci,{defaultValue:"network",className:"space-y-4",children:[a.jsxs(Oa,{className:"grid w-full grid-cols-2 sm:grid-cols-5 gap-1 bg-card border border-border rounded-lg p-1",children:[a.jsx(St,{value:"network",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Network"}),a.jsx(St,{value:"remote",children:"Remote access"}),a.jsx(St,{value:"secrets",children:"Secrets"}),a.jsx(St,{value:"tools",children:"Tool policies"}),a.jsx(St,{value:"model",children:"Model defaults"})]}),a.jsx(Nt,{value:"network",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cx,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Network binding / TLS"})]}),a.jsx(ge,{children:"Bind address, port, and TLS options. Save or reset to defaults."})]}),a.jsx(Z,{children:i?a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{className:"h-10 w-full rounded-md"}),a.jsx(ie,{className:"h-10 w-1/3 rounded-md"}),a.jsx(ie,{className:"h-10 w-full rounded-md"})]}):a.jsxs("form",{onSubmit:_.handleSubmit(D),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"bind_address",children:"Bind address"}),a.jsx(me,{id:"bind_address",placeholder:"0.0.0.0",className:"focus-visible:ring-primary",..._.register("bind_address")}),_.formState.errors.bind_address&&a.jsx("p",{className:"text-sm text-destructive",children:_.formState.errors.bind_address.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"port",children:"Port"}),a.jsx(me,{id:"port",type:"number",placeholder:"3000",className:"focus-visible:ring-primary",..._.register("port")}),_.formState.errors.port&&a.jsx("p",{className:"text-sm text-destructive",children:_.formState.errors.port.message})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"tls_enabled",children:"Enable TLS"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use HTTPS with certificate."})]}),a.jsx(Rt,{id:"tls_enabled",checked:_.watch("tls_enabled"),onCheckedChange:T=>_.setValue("tls_enabled",T)})]}),_.watch("tls_enabled")&&a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"tls_cert_path",children:"Certificate path"}),a.jsx(me,{id:"tls_cert_path",placeholder:"/path/to/cert.pem",..._.register("tls_cert_path")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"tls_key_path",children:"Key path"}),a.jsx(me,{id:"tls_key_path",placeholder:"/path/to/key.pem",..._.register("tls_key_path")})]})]}),a.jsx(P,{type:"submit",disabled:g.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:g.isPending?"Saving":"Save network settings"})]})})]})}),a.jsx(Nt,{value:"remote",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kI,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Remote access (tailnet / proxy)"})]}),a.jsx(ge,{children:"Configure Tailscale or relay for remote access; device pairing policies."})]}),a.jsx(Z,{children:l?a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{className:"h-12 w-full rounded-lg"}),a.jsx(ie,{className:"h-12 w-full rounded-lg"})]}):a.jsxs("form",{onSubmit:j.handleSubmit(O),className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Tailnet (Tailscale)"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable tailnet for remote access."})]}),a.jsx(Rt,{checked:j.watch("tailnet_enabled"),onCheckedChange:T=>j.setValue("tailnet_enabled",T)})]}),j.watch("tailnet_enabled")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"tailnet_name",children:"Tailnet name"}),a.jsx(me,{id:"tailnet_name",placeholder:"my-tailnet",...j.register("tailnet_name")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Relay / proxy"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use relay for device access."})]}),a.jsx(Rt,{checked:j.watch("relay_enabled"),onCheckedChange:T=>j.setValue("relay_enabled",T)})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Pairing require approval"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"New devices need approval."})]}),a.jsx(Rt,{checked:j.watch("pairing_require_approval"),onCheckedChange:T=>j.setValue("pairing_require_approval",T)})]}),a.jsx(P,{type:"submit",disabled:p.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:p.isPending?"Saving":"Save remote access"})]})})]})}),a.jsx(Nt,{value:"secrets",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_i,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Secrets management"})]}),a.jsx(ge,{children:"OS keychain and 1Password CLI integration. Never write long-lived tokens to plaintext."})]}),a.jsx(Z,{className:"space-y-4",children:u?a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{className:"h-12 w-full rounded-lg"}),a.jsx(ie,{className:"h-12 w-full rounded-lg"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("form",{onSubmit:S.handleSubmit(q),className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"OS keychain"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use system keychain for secrets."})]}),a.jsx(Rt,{checked:S.watch("os_keychain_enabled"),onCheckedChange:T=>S.setValue("os_keychain_enabled",T)})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"1Password integration"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use 1Password CLI for vault."})]}),a.jsx(Rt,{checked:S.watch("onepassword_integration"),onCheckedChange:T=>S.setValue("onepassword_integration",T)})]}),a.jsx(P,{type:"submit",disabled:x.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:x.isPending?"Saving":"Save preferences"})]}),a.jsxs("div",{className:"pt-4 border-t border-border",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Manage stored secrets and keychain."}),a.jsx(P,{asChild:!0,variant:"secondary",className:"transition-transform hover:scale-[1.02]",children:a.jsxs(fe,{to:"/secrets",children:[a.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Open Secrets & Keychain"]})})]})]})})]})}),a.jsx(Nt,{value:"tools",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jr,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Tool policies"})]}),a.jsx(ge,{children:"Exec allowlist, sandbox mode, and Docker sandbox settings."})]}),a.jsx(Z,{children:f?a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{className:"h-24 w-full rounded-lg"}),a.jsx(ie,{className:"h-12 w-full rounded-lg"})]}):a.jsxs("form",{onSubmit:N.handleSubmit(A),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"exec_allowlist",children:"Exec allowlist (one path per line)"}),a.jsx(Km,{id:"exec_allowlist",placeholder:`/usr/bin/python3
/usr/bin/node`,rows:4,className:"font-mono text-sm focus-visible:ring-primary resize-y",...N.register("exec_allowlist_text")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Sandbox tools"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Run tools in sandbox when possible."})]}),a.jsx(Rt,{checked:N.watch("sandbox_mode"),onCheckedChange:T=>N.setValue("sandbox_mode",T)})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Docker sandbox"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use Docker for isolation."})]}),a.jsx(Rt,{checked:N.watch("docker_enabled"),onCheckedChange:T=>N.setValue("docker_enabled",T)})]}),N.watch("docker_enabled")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"docker_image",children:"Docker image"}),a.jsx(me,{id:"docker_image",placeholder:"sandbox:latest",...N.register("docker_image")})]}),a.jsx(P,{type:"submit",disabled:b.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:b.isPending?"Saving":"Save tool policies"})]})})]})}),a.jsx(Nt,{value:"model",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ba,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Model defaults"})]}),a.jsx(ge,{children:"Provider priority, failover rules, and usage caps for runs."})]}),a.jsx(Z,{children:m?a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{className:"h-24 w-full rounded-lg"}),a.jsx(ie,{className:"h-10 w-1/3 rounded-lg"})]}):a.jsxs("form",{onSubmit:k.handleSubmit(V),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"provider_priority",children:"Provider priority (one per line, first = default)"}),a.jsx(Km,{id:"provider_priority",placeholder:`openai
anthropic
ollama`,rows:4,className:"font-mono text-sm focus-visible:ring-primary resize-y",...k.register("provider_priority_text")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Failover enabled"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Try next provider on failure."})]}),a.jsx(Rt,{checked:k.watch("failover_enabled"),onCheckedChange:T=>k.setValue("failover_enabled",T)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"usage_cap_daily",children:"Daily usage cap (requests)"}),a.jsx(me,{id:"usage_cap_daily",type:"number",min:0,placeholder:"0 = no cap",...k.register("usage_cap_daily")})]}),a.jsx(P,{type:"submit",disabled:v.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:v.isPending?"Saving":"Save model defaults"})]})})]})})]}),a.jsx(X,{className:"border-border shadow-card",children:a.jsxs(Z,{className:"pt-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Apply configuration"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Validate and apply settings. Restart gateway if needed for network or tool changes."})]}),a.jsxs(P,{onClick:C,disabled:w.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98] shrink-0",children:[a.jsx(x7,{className:J("h-4 w-4 mr-2",w.isPending&&"animate-spin"),"aria-hidden":!0}),"Restart / Apply"]})]})}),a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-md",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Apply settings"}),a.jsx(Te,{children:"This will validate your configuration and apply changes. Some options may require a gateway restart to take effect."})]}),r.length>0&&a.jsxs("div",{className:"rounded-lg border border-warning/50 bg-warning/10 p-3 text-sm text-foreground",children:[a.jsx("p",{className:"font-medium mb-1",children:"Warnings"}),a.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:r.map((T,K)=>a.jsx("li",{children:T},K))})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"secondary",onClick:()=>t(!1),className:"transition-transform hover:scale-[1.02]",children:"Cancel"}),a.jsx(P,{onClick:E,disabled:w.isPending,className:"transition-transform hover:scale-[1.02]",children:w.isPending?"Applying":"Apply"})]})]})})]})}const VR="[ENCRYPTED]";async function zB(){const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");return e.id}async function Eg(e,t,r={}){const s={user_id:await zB(),secret_id:t,action:e,details:r};await F.from("secret_audit_logs").insert(s)}const Fc={getSecrets:async()=>{const{data:e,error:t}=await F.from("secrets").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSecret:async e=>{const{data:t,error:r}=await F.from("secrets").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSecret:async e=>{const t=await zB(),r=e.storage_method==="encrypted_fallback"&&e.value!=null?VR:null,n={user_id:t,name:e.name.trim(),storage_method:e.storage_method,encrypted_value:r,key_reference:e.key_reference??null},{data:s,error:i}=await F.from("secrets").insert(n).select().single();if(i)throw new Error(i.message);const o=s;return await Eg("secret_created",o.id,{name:o.name}),o},updateSecret:async(e,t)=>{const{data:r,error:n}=await F.from("secrets").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);const s=r;return await Eg("secret_updated",e,{name:s.name}),s},rotateSecret:async(e,t)=>{const r=t.value!=null?VR:void 0,{data:n,error:s}=await F.from("secrets").update({encrypted_value:r}).eq("id",e).select().single();if(s)throw new Error(s.message);return await Eg("secret_rotated",e),n},deleteSecret:async e=>{const t=await Fc.getSecret(e),{error:r}=await F.from("secrets").delete().eq("id",e);if(r)throw new Error(r.message);t&&await Eg("secret_deleted",null,{name:t.name})},getAuditLogs:async(e=50)=>{const{data:t,error:r}=await F.from("secret_audit_logs").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}};function NRe(e,t){return e().catch(()=>t)}const Mn={all:["secrets"],list:()=>[...Mn.all,"list"],detail:e=>[...Mn.all,"detail",e],auditLogs:e=>[...Mn.all,"auditLogs",e]};function kRe(){return ke({queryKey:Mn.list(),queryFn:()=>NRe(()=>Fc.getSecrets(),[])})}function CRe(){const e=de();return ue({mutationFn:t=>Fc.createSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:Mn.list()}),e.invalidateQueries({queryKey:Mn.auditLogs()}),B.success("Secret created")},onError:t=>{B.error(t.message||"Failed to create secret")}})}function ERe(){const e=de();return ue({mutationFn:({id:t,data:r})=>Fc.updateSecret(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Mn.list()}),e.invalidateQueries({queryKey:Mn.detail(r)}),e.invalidateQueries({queryKey:Mn.auditLogs()}),B.success("Secret updated")},onError:t=>{B.error(t.message||"Failed to update secret")}})}function PRe(){const e=de();return ue({mutationFn:({id:t,value:r})=>Fc.rotateSecret(t,{value:r}),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Mn.list()}),e.invalidateQueries({queryKey:Mn.detail(r)}),e.invalidateQueries({queryKey:Mn.auditLogs()}),B.success("Secret rotated")},onError:t=>{B.error(t.message||"Failed to rotate secret")}})}function ORe(){const e=de();return ue({mutationFn:t=>Fc.deleteSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:Mn.list()}),e.invalidateQueries({queryKey:Mn.auditLogs()}),B.success("Secret removed")},onError:t=>{B.error(t.message||"Failed to remove secret")}})}function ARe(e=50){return ke({queryKey:Mn.auditLogs(e),queryFn:()=>Fc.getAuditLogs(e)})}const TRe=nt({name:xe().min(1,"Name is required").max(128,"Name too long"),storage_method:sr(["os_keychain","onepassword","encrypted_fallback"]),value:xe().optional(),key_reference:xe().optional()}),T0={name:"",storage_method:"encrypted_fallback",value:"",key_reference:""};function RRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,watch:l,setValue:c,formState:{errors:u}}=et({resolver:tt(TRe),defaultValues:T0}),d=l("storage_method"),f=m=>{var g,p;r({name:m.name.trim(),storage_method:m.storage_method,value:((g=m.value)==null?void 0:g.trim())||void 0,key_reference:((p=m.key_reference)==null?void 0:p.trim())||null}),o(T0)},h=m=>{m||o(T0),t(m)};return a.jsx(Me,{open:e,onOpenChange:h,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"add-secret-form-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Add secret"}),a.jsx(Te,{id:"add-secret-form-description",children:"Store a secret securely. Choose where it will be stored; value is never stored in plaintext."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"name",children:"Name"}),a.jsx(me,{id:"name",placeholder:"e.g. API_KEY_GITHUB",...s("name"),className:u.name?"border-destructive":"",autoComplete:"off"}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Storage method"}),a.jsxs(ut,{value:d,onValueChange:m=>c("storage_method",m),children:[a.jsx(ot,{className:u.storage_method?"border-destructive":"",children:a.jsx(dt,{placeholder:"Select storage"})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Se,{value:"onepassword",children:"1Password"}),a.jsx(Se,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"OS Keychain (macOS/Windows/Linux), 1Password CLI, or encrypted fallback when keychain is unavailable."})]}),d==="encrypted_fallback"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"value",children:"Value"}),a.jsx(me,{id:"value",type:"password",placeholder:"Enter secret value",autoComplete:"new-password",...s("value")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value is encrypted before storage; never stored in plaintext."})]}),(d==="os_keychain"||d==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"key_reference",children:"Key reference (optional)"}),a.jsx(me,{id:"key_reference",placeholder:"e.g. service/account/key",...s("key_reference"),autoComplete:"off"})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>h(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Adding":"Add secret"})]})]})]})})}const MRe=nt({name:xe().min(1,"Name is required").max(128,"Name too long"),storage_method:sr(["os_keychain","onepassword","encrypted_fallback"]),key_reference:xe().optional()});function $Re({open:e,onOpenChange:t,secret:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,reset:l,watch:c,setValue:u,formState:{errors:d}}=et({resolver:tt(MRe),defaultValues:{name:(r==null?void 0:r.name)??"",storage_method:(r==null?void 0:r.storage_method)??"encrypted_fallback",key_reference:(r==null?void 0:r.key_reference)??""}}),f=c("storage_method");y.useEffect(()=>{e&&r&&l({name:r.name,storage_method:r.storage_method,key_reference:r.key_reference??""})},[e,r,l]);const h=g=>{var p;n({name:g.name.trim(),storage_method:g.storage_method,key_reference:((p=g.key_reference)==null?void 0:p.trim())||null}),t(!1)},m=g=>{g||t(!1)};return r?a.jsx(Me,{open:e,onOpenChange:m,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"edit-secret-form-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Edit secret"}),a.jsx(Te,{id:"edit-secret-form-description",children:"Update name or storage method. The secret value is never displayed; use Rotate to set a new value."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"edit-name",children:"Name"}),a.jsx(me,{id:"edit-name",placeholder:"e.g. API_KEY_GITHUB",...i("name"),className:d.name?"border-destructive":"",autoComplete:"off"}),d.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Storage method"}),a.jsxs(ut,{value:f,onValueChange:g=>u("storage_method",g),children:[a.jsx(ot,{className:d.storage_method?"border-destructive":"",children:a.jsx(dt,{placeholder:"Select storage"})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Se,{value:"onepassword",children:"1Password"}),a.jsx(Se,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]})]}),(f==="os_keychain"||f==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"edit-key_reference",children:"Key reference (optional)"}),a.jsx(me,{id:"edit-key_reference",placeholder:"e.g. service/account/key",...i("key_reference"),autoComplete:"off"})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>m(!1),disabled:s,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save changes"})]})]})]})}):null}function IRe({values:e,onChange:t,disabled:r=!1,className:n}){return a.jsxs(X,{className:J("shadow-card transition-shadow hover:shadow-card-hover",n),children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cd,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{children:"Setup & configuration"})]}),a.jsx(ge,{children:"Choose where secrets are stored. OS keychain and 1Password keep credentials out of the database; encrypted fallback is used when keychain is unavailable."})]}),a.jsxs(Z,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"keychain",className:"text-base font-medium",children:"OS Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"macOS Keychain, Windows Credential Manager, or Linux secret store"})]}),a.jsx(Rt,{id:"keychain",checked:e.keychainEnabled,onCheckedChange:s=>t({...e,keychainEnabled:s}),disabled:r,"aria-label":"Toggle OS keychain"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"onepassword",className:"text-base font-medium",children:"1Password integration"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Store and retrieve secrets via 1Password CLI"})]}),a.jsx(Rt,{id:"onepassword",checked:e.onepasswordEnabled,onCheckedChange:s=>t({...e,onepasswordEnabled:s}),disabled:r,"aria-label":"Toggle 1Password"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"fallback",className:"text-base font-medium",children:"Encrypted fallback"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Encrypt and store in database when keychain is unavailable"})]}),a.jsx(Rt,{id:"fallback",checked:e.encryptedFallbackEnabled,onCheckedChange:s=>t({...e,encryptedFallbackEnabled:s}),disabled:r,"aria-label":"Toggle encrypted fallback"})]}),a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(jr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Long-lived tokens are never written to plaintext. Runtime retrieval uses least-privilege scoping."]})]})]})}const KR={os_keychain:"OS Keychain",onepassword:"1Password",encrypted_fallback:"Encrypted fallback"};function DRe(){const[e,t]=y.useState(!1),[r,n]=y.useState(!1),[s,i]=y.useState(null),[o,l]=y.useState({keychainEnabled:!0,onepasswordEnabled:!1,encryptedFallbackEnabled:!0}),{data:c=[],isLoading:u}=kRe(),{data:d=[],isLoading:f}=ARe(50),h=CRe(),m=ERe(),g=ORe(),p=PRe(),x=async j=>{await h.mutateAsync(j),t(!1)},b=async j=>{s&&(await m.mutateAsync({id:s.id,data:j}),n(!1),i(null))},v=j=>{i(j),n(!0)},w=j=>{p.mutate({id:j.id},{onSuccess:()=>n(!1)})},_=j=>{window.confirm(`Remove secret "${j.name}"? This cannot be undone.`)&&g.mutate(j.id)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Secrets & Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Store and manage secrets securely. No plaintext on disk."})]}),a.jsxs(P,{onClick:()=>t(!0),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}),a.jsxs(X,{className:"border-border shadow-card",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jr,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-base",children:"Keychain status"})]}),a.jsx(ge,{children:o.keychainEnabled||o.onepasswordEnabled?"Keychain or 1Password is configured. Secrets can be stored in the vault.":"Using encrypted fallback only. Enable OS keychain or 1Password for stronger isolation."})]}),a.jsxs(Z,{className:"flex flex-wrap gap-2",children:[o.keychainEnabled&&a.jsxs(We,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Na,{className:"h-3 w-3 mr-1"}),"OS Keychain"]}),o.onepasswordEnabled&&a.jsxs(We,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Na,{className:"h-3 w-3 mr-1"}),"1Password"]}),!o.keychainEnabled&&!o.onepasswordEnabled&&a.jsxs(We,{variant:"secondary",className:"bg-warning/15 text-warning border-0",children:[a.jsx(Zi,{className:"h-3 w-3 mr-1"}),"Fallback only"]})]})]}),a.jsxs(ci,{defaultValue:"secrets",className:"space-y-4",children:[a.jsxs(Oa,{children:[a.jsx(St,{value:"secrets",children:"Secrets management"}),a.jsx(St,{value:"setup",children:"Setup & configuration"}),a.jsx(St,{value:"audit",children:"Audit logs"})]}),a.jsx(Nt,{value:"secrets",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg",children:"Stored secrets"}),a.jsx(ge,{children:"Add, edit, or rotate secrets. Values are never shown after save."})]}),a.jsx(Z,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>a.jsx(ie,{className:"h-14 w-full rounded-lg"},j))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(cd,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No secrets yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Add a secret to store API keys, tokens, or other credentials securely."}),a.jsxs(P,{variant:"default",className:"mt-4 transition-transform hover:scale-[1.02]",onClick:()=>t(!0),children:[a.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}):a.jsx(pt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:c.map(j=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border p-4","transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:a.jsx(cd,{className:"h-5 w-5 text-primary","aria-hidden":!0})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:j.name}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[KR[j.storage_method]??j.storage_method,"  Updated"," ",Sr(new Date(j.updated_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(We,{variant:"secondary",className:"text-xs",children:KR[j.storage_method]??j.storage_method}),a.jsxs(Ds,{children:[a.jsx(Ls,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon","aria-label":"Actions",children:a.jsx(wa,{className:"h-4 w-4"})})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>v(j),children:[a.jsx(Ti,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(Mt,{onClick:()=>w(j),children:[a.jsx(tf,{className:"h-4 w-4 mr-2"}),"Rotate secret"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>_(j),children:[a.jsx(tn,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})]})]},j.id))})})})]})}),a.jsx(Nt,{value:"setup",className:"space-y-4",children:a.jsx(IRe,{values:o,onChange:l})}),a.jsx(Nt,{value:"audit",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lr,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Audit logs"})]}),a.jsx(ge,{children:"Recent secret access, rotation, and configuration changes."})]}),a.jsx(Z,{children:f?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(j=>a.jsx(ie,{className:"h-12 w-full rounded-lg"},j))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(lr,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No audit entries yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Actions on secrets will appear here."})]}):a.jsx(pt,{className:"h-[360px] pr-4",children:a.jsx("ul",{className:"space-y-2",role:"list",children:d.map(j=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3 text-sm",children:[a.jsx("span",{className:"font-medium capitalize",children:j.action.replace(/_/g," ")}),a.jsx("span",{className:"text-muted-foreground",children:Sr(new Date(j.created_at),{addSuffix:!0})})]},j.id))})})})]})})]}),a.jsx(RRe,{open:e,onOpenChange:t,onSubmit:x,isSubmitting:h.isPending}),a.jsx($Re,{open:r,onOpenChange:n,secret:s,onSubmit:b,isSubmitting:m.isPending})]})}const rs="/security",Uc={runAudit:()=>we.post(`${rs}/audit/run`,{}),getAudits:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return we.get(`${rs}/audits${t?`?${t}`:""}`)},getAudit:e=>we.get(`${rs}/audits/${e}`),createAudit:e=>we.post(`${rs}/audits`,e),getIssuesByAuditId:e=>we.get(`${rs}/audits/${e}/issues`),createIssue:e=>we.post(`${rs}/issues`,e),applyAutoFix:e=>we.post(`${rs}/issues/${e}/auto-fix`,{}),updateIssue:(e,t)=>we.patch(`${rs}/issues/${e}`,t),getIncidentActions:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return we.get(`${rs}/incident-actions${t?`?${t}`:""}`)},createIncidentAction:e=>we.post(`${rs}/incident-actions`,e),exportAuditLogs:e=>we.post(`${rs}/export`,e),getAuditLogs:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return we.get(`${rs}/audit-logs${t?`?${t}`:""}`)},createAuditLog:e=>we.post(`${rs}/audit-logs`,e)};function WB(e,t){return e().catch(()=>t)}const ds={all:["security"],audits:e=>[...ds.all,"audits",e],audit:e=>[...ds.all,"audit",e??""],issues:e=>[...ds.all,"issues",e??""],incidentActions:e=>[...ds.all,"incident-actions",e],auditLogs:e=>[...ds.all,"audit-logs",e]};function LRe(e){return ke({queryKey:ds.audits(e),queryFn:()=>WB(()=>Uc.getAudits(e),[])})}function FRe(e){return ke({queryKey:ds.issues(e),queryFn:()=>e?WB(()=>Uc.getIssuesByAuditId(e),[]):Promise.resolve([]),enabled:!!e})}function URe(){const e=de();return ue({mutationFn:()=>Uc.runAudit(),onSuccess:t=>{var r;e.invalidateQueries({queryKey:ds.all}),(r=t==null?void 0:t.audit)!=null&&r.id&&(e.invalidateQueries({queryKey:ds.audit(t.audit.id)}),e.invalidateQueries({queryKey:ds.issues(t.audit.id)})),B.success("Security audit completed")},onError:t=>{B.error(t.message||"Audit failed")}})}function qRe(){const e=de();return ue({mutationFn:t=>Uc.applyAutoFix(t),onSuccess:()=>{e.invalidateQueries({queryKey:ds.all}),B.success("Auto-fix applied")},onError:t=>{B.error(t.message||"Auto-fix failed")}})}function BRe(){const e=de();return ue({mutationFn:({issueId:t,data:r})=>Uc.updateIssue(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:ds.all}),B.success("Issue updated")},onError:t=>{B.error(t.message||"Update failed")}})}function zRe(){const e=de();return ue({mutationFn:t=>Uc.createIncidentAction(t),onSuccess:()=>{e.invalidateQueries({queryKey:ds.all}),B.success("Action submitted")},onError:t=>{B.error(t.message||"Action failed")}})}function WRe(){return ue({mutationFn:e=>Uc.exportAuditLogs(e),onSuccess:e=>{e!=null&&e.download_url&&window.open(e.download_url,"_blank"),B.success("Export started")},onError:e=>{B.error(e.message||"Export failed")}})}function VRe({open:e,onOpenChange:t,onConfirm:r,isSubmitting:n=!1,mode:s="auto_fix",issueDescription:i}){const o=s==="auto_fix",l=o?"Apply auto-fix?":"Record manual remediation?",c=o?"This will apply the recommended automated fix for this issue. The change will be logged for compliance.":"This will record your manual fix for this issue. The change will be logged for compliance.",u=()=>{r(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[480px]","aria-describedby":"remediation-confirm-desc",children:[a.jsxs(Oe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(op,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Ae,{children:l})]}),a.jsxs(Te,{id:"remediation-confirm-desc",children:[c,i&&a.jsxs("span",{className:"mt-2 block text-muted-foreground truncate max-w-full",title:i,children:["Issue: ",i.slice(0,80),i.length>80?"":""]})]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{onClick:u,disabled:n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:n?"Applying":o?"Apply auto-fix":"Record fix"})]})]})})}const HR={critical:{label:"Critical",icon:Zi,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:eo,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:iN,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:oN,className:"text-accent bg-accent/15 border-accent/30"}};function KRe(e){return e?e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):""}function HRe({issue:e,open:t,onOpenChange:r,autoFixEnabled:n=!1,onAutoFixChange:s,onApplyAutoFix:i,isApplyingAutoFix:o=!1,onApplyManualFix:l,isApplyingManualFix:c=!1}){const[u,d]=y.useState(!1),[f,h]=y.useState("");if(!e)return null;const m=HR[e.severity]??HR.medium,g=m.icon,p=o||c,x=()=>{d(!0)},b=()=>{i==null||i(e.id)},v=()=>{const w=f.trim();w&&l&&(l(e.id,w),h(""))};return a.jsxs(a.Fragment,{children:[a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Pe,{className:"max-w-[640px] max-h-[85vh] flex flex-col","aria-describedby":"audit-issue-description",children:[a.jsxs(Oe,{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(g,{className:J("h-5 w-5 shrink-0",m.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(We,{variant:"secondary",className:J("border text-xs font-medium",m.className),children:m.label})]}),a.jsx(Ae,{className:"text-left pt-1",children:"Security finding"}),a.jsx(Te,{id:"audit-issue-description",className:"text-left",children:"Details, affected files, and remediation for this issue."})]}),a.jsx(pt,{className:"flex-1 max-h-[50vh] rounded-md border border-border px-3 py-2",children:a.jsxs("div",{className:"space-y-4 pr-2",children:[e.category&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Category"}),a.jsx(We,{variant:"outline",className:"text-xs font-medium",children:KRe(e.category)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-foreground",children:e.description})]}),e.remediation&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Recommended fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap",children:e.remediation})]}),e.affected_files&&e.affected_files.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Affected files / configs"}),a.jsx("ul",{className:"text-sm font-mono text-foreground list-disc list-inside space-y-0.5",children:e.affected_files.map((w,_)=>a.jsx("li",{children:w},_))})]}),e.applied_fix&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Applied fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap bg-success/10 border border-success/30 rounded-lg px-3 py-2",children:e.applied_fix})]}),e.auto_fix_available&&!e.applied_fix&&a.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border border-border p-3 bg-card/50",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"audit-autofix-toggle",className:"text-sm font-medium",children:"Auto-fix available"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Apply safe automated remediation for this issue."})]}),a.jsx(Rt,{id:"audit-autofix-toggle",checked:n,onCheckedChange:s,disabled:p,"aria-label":"Enable auto-fix for this issue"})]})]})}),a.jsxs("div",{className:"flex flex-col gap-3 pt-2 border-t border-border",children:[e.auto_fix_available&&!e.applied_fix&&a.jsx("div",{className:"flex justify-end",children:a.jsx(P,{variant:"default",size:"sm",onClick:x,disabled:p||!n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:o?"Applying":"Apply auto-fix now"})}),l&&!e.applied_fix&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{htmlFor:"audit-manual-fix",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ex,{className:"h-4 w-4","aria-hidden":!0}),"Manual remediation"]}),a.jsx(Km,{id:"audit-manual-fix",placeholder:"Describe the fix you applied (e.g. moved secret to keychain, updated config)...",value:f,onChange:w=>h(w.target.value),disabled:p,rows:3,className:"resize-none text-sm font-mono","aria-describedby":"audit-manual-fix-hint"}),a.jsx("p",{id:"audit-manual-fix-hint",className:"text-xs text-muted-foreground",children:"Record your custom fix for compliance. This will be logged."}),a.jsx(P,{variant:"outline",size:"sm",onClick:v,disabled:p||!f.trim(),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:c?"Saving":"Record manual fix"})]})]})]})}),a.jsx(VRe,{open:u,onOpenChange:d,onConfirm:b,isSubmitting:o,mode:"auto_fix",issueDescription:e.description})]})}const GRe={revoke_sessions:{label:"Revoke sessions",description:"This will revoke all active sessions except the current one. Users will need to sign in again on other devices.",icon:cN,variant:"destructive"},rotate_secrets:{label:"Rotate secrets",description:"This will rotate API keys and tokens. Any integrations using old credentials will need to be updated.",icon:tf,variant:"destructive"},export_logs:{label:"Export security logs",description:"Export audit and security logs for external analysis or compliance. Redaction will be applied by default.",icon:Ir,variant:"default"},stop_blast_radius:{label:"Stop blast radius",description:"Contain the impact of a potential incident by stopping affected runs and isolating resources.",icon:aN,variant:"destructive"},quarantine_skill:{label:"Quarantine skill",description:"Disable and isolate a skill that may be risky until you review and approve it.",icon:TI,variant:"destructive"}};function YRe({actionType:e,open:t,onOpenChange:r,onConfirm:n,isSubmitting:s=!1}){if(!e)return null;const i=GRe[e]??{label:e.replace(/_/g," "),description:"This action will be logged and may have side effects.",icon:TI,variant:"default"},o=i.icon,l=()=>{n(e),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Pe,{"aria-describedby":"incident-action-description",children:[a.jsxs(Oe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Ae,{children:i.label})]}),a.jsx(Te,{id:"incident-action-description",children:i.description})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:i.variant==="destructive"?"destructive":"default",onClick:l,disabled:s,children:s?"Processing":"Confirm"})]})]})})}const QRe=nt({format:sr(["json","csv"]),applyRedaction:Gr(),from:xe().optional(),to:xe().optional()});function XRe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const{register:s,handleSubmit:i,setValue:o,watch:l}=et({resolver:tt(QRe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:""}}),c=l("applyRedaction"),u=l("format"),d=f=>{const h={format:f.format,apply_redaction:f.applyRedaction,from:f.from||void 0,to:f.to||void 0};r(h),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[480px]","aria-describedby":"security-export-desc",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Export security logs"}),a.jsx(Te,{id:"security-export-desc",children:"Configure format, date range, and redaction. Export will download audit and security logs for compliance or analysis."})]}),a.jsxs("form",{onSubmit:i(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"security-export-format",children:"Format"}),a.jsxs(ut,{value:u,onValueChange:f=>o("format",f),children:[a.jsx(ot,{id:"security-export-format",children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"json",children:"JSON"}),a.jsx(Se,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"security-export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Redact sensitive data in exported logs (recommended)."})]}),a.jsx(Rt,{id:"security-export-redaction",checked:c,onCheckedChange:f=>o("applyRedaction",f)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"security-export-from",children:"From (optional)"}),a.jsx(me,{id:"security-export-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"security-export-to",children:"To (optional)"}),a.jsx(me,{id:"security-export-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const GR={critical:{label:"Critical",icon:Zi,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:eo,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:iN,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:oN,className:"text-accent bg-accent/15 border-accent/30"}};function YR(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function JRe(e){return e>=70?"High risk":e>=40?"Medium risk":e>=10?"Low risk":"No critical issues"}function QR(e){return e>=70?"text-destructive":e>=40?"text-warning":e>=10?"text-accent":"text-success"}function ZRe({issue:e,isSelected:t,onSelect:r}){const n=GR[e.severity]??GR.medium,s=n.icon,i=e.description.length>120?e.description.slice(0,120)+"":e.description;return a.jsxs("button",{type:"button",onClick:r,className:J("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View details for issue: ${e.description.slice(0,50)}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(s,{className:J("h-4 w-4 shrink-0",n.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(We,{variant:"secondary",className:J("text-xs font-medium border shrink-0",n.className),children:n.label}),e.auto_fix_available&&a.jsx(We,{variant:"outline",className:"text-xs shrink-0",children:"Auto-fix"})]}),a.jsx("p",{className:"mt-1.5 text-sm text-foreground line-clamp-2",children:i})]})}const eMe=[{type:"revoke_sessions",label:"Revoke sessions",icon:cN},{type:"rotate_secrets",label:"Rotate secrets",icon:tf},{type:"export_logs",label:"Export logs",icon:Ir},{type:"stop_blast_radius",label:"Stop blast radius",icon:aN}];function tMe(){const{user:e}=wx(),[t,r]=y.useState(null),[n,s]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(null),[f,h]=y.useState(!1),{data:m=[],isLoading:g}=LRe({limit:10}),p=m[0]??null,x=(p==null?void 0:p.id)??null,{data:b=[],isLoading:v}=FRe(x),w=URe(),_=zRe(),j=WRe(),S=qRe(),N=BRe(),k={critical:b.filter(T=>T.severity==="critical").length,high:b.filter(T=>T.severity==="high").length,medium:b.filter(T=>T.severity==="medium").length,low:b.filter(T=>T.severity==="low").length},C=(p==null?void 0:p.risk_score)??0,E=T=>{r(T),s(!1),o(!0)},D=T=>{if(T==="export_logs"){h(!0);return}d(T),c(!0)},O=T=>{_.mutate({user_id:(e==null?void 0:e.id)??"",audit_id:x??void 0,action_type:T},{onSuccess:()=>{d(null)}})},q=T=>{j.mutate(T,{onSuccess:K=>{K!=null&&K.download_url&&window.open(K.download_url,"_blank")}})},A=T=>{S.mutate(T,{onSuccess:()=>{o(!1),r(null)}})},V=(T,K)=>{N.mutate({issueId:T,data:{applied_fix:K}},{onSuccess:()=>{o(!1),r(null)}})};return a.jsxs("div",{className:"animate-fade-in-up flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0 space-y-6",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(fe,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Rr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Security Audit"})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(jr,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Security Audit"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Run automated security checks and manage remediation. Review issues and use incident response actions when needed."})]}),a.jsxs("nav",{className:"flex items-center gap-3 text-sm","aria-label":"Quick links",children:[a.jsx(fe,{to:"/dashboard",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Home"}),a.jsx(fe,{to:"/settings",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Settings"}),a.jsx(fe,{to:"/help",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Help"})]})]})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Run audit"}),a.jsx(ge,{children:"Start automated checks for plaintext secrets, open binds, risky permissions, and misconfigurations."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs(P,{onClick:()=>w.mutate(),disabled:w.isPending,size:"lg",className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Xa,{className:"mr-2 h-4 w-4"}),w.isPending?"Running":"Start Audit"]}),w.isPending&&a.jsxs("div",{className:"space-y-2",role:"status","aria-live":"polite",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Running security checks"}),a.jsx(rk,{value:50,className:"h-2 animate-pulse","aria-label":"Audit in progress"})]})]})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Audit summary"}),a.jsx(ge,{children:"Overall risk score and issue counts from the latest audit."})]}),a.jsx(Z,{children:g?a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ie,{className:"h-14 w-14 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ie,{className:"h-6 w-32"}),a.jsx(ie,{className:"h-4 w-48"})]})]}):p?a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:J("flex h-14 w-14 items-center justify-center rounded-full border-2 font-semibold text-xl",QR(C),C>=70&&"border-destructive bg-destructive/10",C>=40&&C<70&&"border-warning bg-warning/10",C<40&&"border-success bg-success/10"),children:C}),a.jsxs("div",{children:[a.jsx("p",{className:J("font-semibold text-lg",QR(C)),children:JRe(C)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last run: ",YR(p.created_at)]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.critical>0&&a.jsxs(We,{variant:"secondary",className:"border-destructive/50 text-destructive",children:[k.critical," critical"]}),k.high>0&&a.jsxs(We,{variant:"secondary",className:"border-warning/50 text-warning",children:[k.high," high"]}),k.medium>0&&a.jsxs(We,{variant:"secondary",className:"text-muted-foreground",children:[k.medium," medium"]}),k.low>0&&a.jsxs(We,{variant:"secondary",className:"border-accent/50 text-accent",children:[k.low," low"]}),b.length===0&&a.jsx(We,{variant:"secondary",className:"text-success",children:"No issues"})]})]}):a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(jr,{className:"h-10 w-10 text-muted-foreground","aria-hidden":!0}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:"No audit yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Start Audit" to get your current risk score and issues.'})]})]})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Issue list"}),a.jsx(ge,{children:"Findings from the audit. Click an issue for details and remediation. Auto-fix is available where marked."})]}),a.jsx(Z,{children:a.jsx(pt,{className:"h-[360px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:v?[1,2,3,4].map(T=>a.jsx(ie,{className:"h-20 w-full rounded-lg"},T)):b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(iN,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No issues"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Checks include plaintext secrets, open binds, and risky skill permissions. Run an audit to see results."})]}):b.map(T=>a.jsx(ZRe,{issue:T,isSelected:(t==null?void 0:t.id)===T.id,onSelect:()=>E(T)},T.id))})})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Incident response"}),a.jsx(ge,{children:"Quick actions to contain threats: revoke sessions, rotate secrets, export logs, or stop blast radius."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:eMe.map(({type:T,label:K,icon:M})=>a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>D(T),disabled:_.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(M,{className:"mr-2 h-4 w-4"}),K]},T))})})]})]}),a.jsxs("aside",{className:"w-full lg:w-72 shrink-0 space-y-4","aria-label":"Security audit sidebar",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs(ne,{className:"text-base flex items-center gap-2",children:[a.jsx(oh,{className:"h-4 w-4","aria-hidden":!0}),"Previous audits"]}),a.jsx(ge,{children:"Quick links to recent audit runs."})]}),a.jsx(Z,{children:g?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(T=>a.jsx(ie,{className:"h-12 w-full rounded-lg"},T))}):m.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No audits yet."}):a.jsx("ul",{className:"space-y-2",role:"list",children:m.slice(0,5).map(T=>a.jsx("li",{children:a.jsx("div",{className:J("rounded-lg border px-3 py-2 transition-colors",(p==null?void 0:p.id)===T.id?"border-primary bg-primary/10":"border-border bg-card/50 hover:bg-secondary/50"),children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("span",{className:"text-sm font-medium",children:["Risk ",T.risk_score]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:YR(T.created_at)})]})})},T.id))})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-base",children:"Export"}),a.jsx(ge,{children:"Export audit logs for compliance or incident response."})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",className:"w-full transition-transform hover:scale-[1.02] active:scale-[0.98]",onClick:()=>h(!0),children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Export logs"]})})]})]}),a.jsx(HRe,{issue:t,open:i,onOpenChange:o,autoFixEnabled:n,onAutoFixChange:s,onApplyAutoFix:A,isApplyingAutoFix:S.isPending,onApplyManualFix:V,isApplyingManualFix:N.isPending}),a.jsx(YRe,{actionType:u,open:l,onOpenChange:c,onConfirm:O,isSubmitting:_.isPending}),a.jsx(XRe,{open:f,onOpenChange:h,onExport:q,isExporting:j.isPending})]})}const Nn="/logs",qc={getLogs:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&r!=="").map(([r,n])=>[r,Array.isArray(n)?n.join(","):String(n)])).toString():"";return we.get(`${Nn}${t?`?${t}`:""}`)},getLog:e=>we.get(`${Nn}/${e}`),createLog:e=>we.post(`${Nn}`,e),getTraceByLogId:e=>we.get(`${Nn}/${e}/trace`),getTrace:e=>we.get(`${Nn}/traces/${e}`),createTrace:e=>we.post(`${Nn}/traces`,e),updateTrace:(e,t)=>we.patch(`${Nn}/traces/${e}`,t),exportLogs:e=>we.post(`${Nn}/export`,e),getRetentionSettings:()=>we.get(`${Nn}/retention`),updateRetentionSettings:e=>we.patch(`${Nn}/retention`,e),createRetentionSettings:e=>we.post(`${Nn}/retention`,e),getRedactionRules:()=>we.get(`${Nn}/redaction-rules`),createRedactionRule:e=>we.post(`${Nn}/redaction-rules`,e),updateRedactionRule:(e,t)=>we.patch(`${Nn}/redaction-rules/${e}`,t),deleteRedactionRule:e=>we.delete(`${Nn}/redaction-rules/${e}`)};function fC(e,t){return e().catch(()=>t)}const As={all:["logs"],list:e=>[...As.all,"list",e],detail:e=>[...As.all,"detail",e],traceByLogId:e=>[...As.all,"trace",e],trace:e=>[...As.all,"trace-id",e],retention:()=>[...As.all,"retention"],redactionRules:()=>[...As.all,"redaction-rules"]};function rMe(e){return ke({queryKey:As.list(e),queryFn:()=>fC(()=>qc.getLogs(e),[])})}function nMe(e){return ke({queryKey:As.traceByLogId(e??""),queryFn:()=>e?fC(()=>qc.getTraceByLogId(e),null):Promise.resolve(null),enabled:!!e})}function sMe(){return ue({mutationFn:e=>qc.exportLogs(e),onSuccess:()=>{B.success("Export started")},onError:e=>{B.error(e.message||"Export failed")}})}function aMe(){return ke({queryKey:As.redactionRules(),queryFn:()=>fC(()=>qc.getRedactionRules(),[])})}function iMe(){const e=de();return ue({mutationFn:t=>qc.createRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:As.redactionRules()}),B.success("Redaction rule added")},onError:t=>{B.error(t.message||"Failed to add redaction rule")}})}function oMe(){const e=de();return ue({mutationFn:({id:t,data:r})=>qc.updateRedactionRule(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:As.redactionRules()}),B.success("Redaction rule updated")},onError:t=>{B.error(t.message||"Failed to update redaction rule")}})}function lMe(){const e=de();return ue({mutationFn:t=>qc.deleteRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:As.redactionRules()}),B.success("Redaction rule removed")},onError:t=>{B.error(t.message||"Failed to remove redaction rule")}})}const VB=["debug","info","warning","error","critical"],cMe=nt({severity:sr(VB).optional(),from:xe().optional(),to:xe().optional(),search:xe().optional(),limit:On.number().min(10).max(500).optional()});function uMe({open:e,onOpenChange:t,currentFilters:r,onApply:n}){const{register:s,handleSubmit:i,setValue:o,watch:l,reset:c,formState:{isDirty:u}}=et({resolver:tt(cMe),defaultValues:{severity:void 0,from:(r==null?void 0:r.from)??"",to:(r==null?void 0:r.to)??"",search:(r==null?void 0:r.search)??"",limit:(r==null?void 0:r.limit)??100}}),d=l("severity"),f=m=>{const g={limit:m.limit,search:m.search||void 0,from:m.from||void 0,to:m.to||void 0};m.severity&&(g.severity=m.severity),n(g),t(!1)},h=()=>{c({severity:void 0,from:"",to:"",search:"",limit:100}),n({limit:100}),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[480px]","aria-describedby":"filter-desc",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Filter logs"}),a.jsx(Te,{id:"filter-desc",children:"Refine the log stream by severity, date range, and keywords."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-severity",children:"Severity"}),a.jsxs(ut,{value:d??"",onValueChange:m=>o("severity",m||void 0,{shouldDirty:!0}),children:[a.jsx(ot,{id:"filter-severity",children:a.jsx(dt,{placeholder:"All severities"})}),a.jsx(lt,{children:VB.map(m=>a.jsx(Se,{value:m,children:m},m))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-from",children:"From (ISO date)"}),a.jsx(me,{id:"filter-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-to",children:"To (ISO date)"}),a.jsx(me,{id:"filter-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-search",children:"Keyword search"}),a.jsx(me,{id:"filter-search",placeholder:"Search in message",...s("search"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-limit",children:"Max results"}),a.jsx(me,{id:"filter-limit",type:"number",min:10,max:500,...s("limit"),className:"font-mono"})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:h,children:"Clear"}),a.jsx(P,{type:"submit",disabled:!u,children:"Apply"})]})]})]})})}const KB=["debug","info","warning","error","critical"],dMe=nt({format:sr(["json","csv"]),applyRedaction:Gr(),from:xe().optional(),to:xe().optional(),severity:sr(KB).optional()});function fMe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1,selectedLogIds:s}){const[i,o]=y.useState("json"),{register:l,handleSubmit:c,setValue:u,watch:d}=et({resolver:tt(dMe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:"",severity:void 0}}),f=d("applyRedaction"),h=d("severity"),m=p=>{const x={format:p.format,applyRedaction:p.applyRedaction,from:p.from||void 0,to:p.to||void 0,severity:p.severity,...s!=null&&s.length?{logIds:s}:{}};r(x),t(!1)},g=s!=null&&s.length?`Export ${s.length} selected log${s.length===1?"":"s"}`:"Export logs with your chosen format and redaction options.";return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[480px]","aria-describedby":"export-desc",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Export logs"}),a.jsx(Te,{id:"export-desc",children:g})]}),a.jsxs("form",{onSubmit:c(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"export-format",children:"Format"}),a.jsxs(ut,{value:i,onValueChange:p=>{o(p),u("format",p)},children:[a.jsx(ot,{id:"export-format",children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"json",children:"JSON"}),a.jsx(Se,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use redacted message content in export"})]}),a.jsx(Rt,{id:"export-redaction",checked:f,onCheckedChange:p=>u("applyRedaction",p)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"export-from",children:"From (optional)"}),a.jsx(me,{id:"export-from",type:"datetime-local",...l("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"export-to",children:"To (optional)"}),a.jsx(me,{id:"export-to",type:"datetime-local",...l("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"export-severity",children:"Severity filter (optional)"}),a.jsxs(ut,{value:h??"",onValueChange:p=>u("severity",p||void 0),children:[a.jsx(ot,{id:"export-severity",children:a.jsx(dt,{placeholder:"All severities"})}),a.jsx(lt,{children:KB.map(p=>a.jsx(Se,{value:p,children:p},p))})]})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const hMe=nt({field_name:xe().min(1,"Field name is required").max(120),is_redacted:Gr()});function mMe({open:e,onOpenChange:t}){const[r,n]=y.useState(!1),{data:s=[],isLoading:i}=aMe(),o=iMe(),l=oMe(),c=lMe(),{register:u,handleSubmit:d,setValue:f,watch:h,reset:m,formState:{errors:g,isDirty:p}}=et({resolver:tt(hMe),defaultValues:{field_name:"",is_redacted:!0}}),x=h("field_name"),b=h("is_redacted"),v=j=>{o.mutate({field_name:j.field_name.trim(),is_redacted:j.is_redacted},{onSuccess:()=>{m({field_name:"",is_redacted:!0}),n(!1)}})},w=j=>{l.mutate({id:j.id,data:{is_redacted:!j.is_redacted}})},_=j=>{c.mutate(j)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[520px] max-h-[90vh] flex flex-col","aria-describedby":"redaction-desc",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(jr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Redaction rules"]}),a.jsx(Te,{id:"redaction-desc",children:"Configure which log and trace fields are redacted before storage and export. Rules apply by default to exports."})]}),a.jsx(pt,{className:"flex-1 min-h-0 rounded-md border border-border",children:a.jsx("div",{className:"p-2 space-y-3",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"h-12 w-full rounded-lg"}),a.jsx(ie,{className:"h-12 w-full rounded-lg"}),a.jsx(ie,{className:"h-12 w-full rounded-lg"})]}):s.length===0&&!r?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(jr,{className:"h-10 w-10 text-muted-foreground/50 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No redaction rules"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 max-w-xs",children:"Add field names (e.g. message, metadata) to redact in logs and exports."}),a.jsxs(P,{type:"button",variant:"outline",size:"sm",className:"mt-3",onClick:()=>n(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add rule"]})]}):a.jsxs(a.Fragment,{children:[s.map(j=>a.jsxs("div",{className:J("flex items-center justify-between gap-3 rounded-lg border px-3 py-2","border-border bg-card/50 transition-colors hover:bg-secondary/30"),children:[a.jsx("span",{className:"font-mono text-sm truncate flex-1",children:j.field_name}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(Rt,{checked:j.is_redacted,onCheckedChange:()=>w(j),"aria-label":`Redact ${j.field_name}`}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>_(j.id),"aria-label":`Delete rule ${j.field_name}`,children:a.jsx(tn,{className:"h-4 w-4"})})]})]},j.id)),r&&a.jsxs("form",{onSubmit:d(v),className:"rounded-lg border border-primary/30 bg-primary/5 p-3 space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"redaction-field-name",children:"Field name"}),a.jsx(me,{id:"redaction-field-name",placeholder:"e.g. message, metadata",className:"font-mono text-sm",...u("field_name"),autoFocus:!0}),g.field_name&&a.jsx("p",{className:"text-xs text-destructive",children:g.field_name.message})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx(H,{htmlFor:"redaction-enabled",children:"Redact by default"}),a.jsx(Rt,{id:"redaction-enabled",checked:b,onCheckedChange:j=>f("is_redacted",j)})]}),a.jsxs(De,{className:"gap-2 sm:gap-0 pt-2",children:[a.jsx(P,{type:"button",variant:"outline",size:"sm",onClick:()=>{n(!1),m({field_name:"",is_redacted:!0})},children:"Cancel"}),a.jsx(P,{type:"submit",size:"sm",disabled:!(x!=null&&x.trim())||o.isPending||!p,children:o.isPending?"Adding":"Add rule"})]})]}),!r&&a.jsxs(P,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>n(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add rule"]})]})})})]})})}function pMe(e){return e==null?"":e<1e3?`${e} ms`:`${(e/1e3).toFixed(2)} s`}function XR({label:e,icon:t,children:r,defaultOpen:n=!0}){const[s,i]=y.useState(n);return a.jsxs("div",{className:"rounded border border-border bg-secondary/30 overflow-hidden",children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 px-3 py-2 text-left text-sm font-medium hover:bg-secondary/50 transition-colors",onClick:()=>i(o=>!o),"aria-expanded":s,children:[s?a.jsx(Ac,{className:"h-4 w-4 shrink-0"}):a.jsx(Rr,{className:"h-4 w-4 shrink-0"}),a.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),e]}),s&&a.jsx("div",{className:"border-t border-border px-3 py-2 font-mono text-xs text-muted-foreground",children:r})]})}function JR({trace:e,isLoading:t,onClose:r,onExport:n,className:s}){if(t)return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsx(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(lr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]})}),a.jsx(Z,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(ie,{className:"h-10 w-full"}),a.jsx(ie,{className:"h-24 w-full"}),a.jsx(ie,{className:"h-24 w-full"})]})})]});if(!e)return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(lr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),r&&a.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(hd,{className:"h-4 w-4"})})]}),a.jsx(Z,{className:"p-6",children:a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a log entry to view its trace."})})]});const i=Array.isArray(e.tool_invocation)?e.tool_invocation:[],o=Array.isArray(e.model_calls)?e.model_calls:[];return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(lr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[n&&a.jsx(P,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Export trace",children:a.jsx(Ir,{className:"h-4 w-4"})}),r&&a.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(hd,{className:"h-4 w-4"})})]})]}),a.jsxs(Z,{className:"p-0",children:[a.jsxs("div",{className:"flex items-center gap-2 border-b border-border px-4 py-2 text-xs text-muted-foreground",children:[a.jsx(Bo,{className:"h-3.5 w-3.5"}),"Duration: ",pMe(e.duration_ms)]}),a.jsx(pt,{className:"h-[320px]",children:a.jsxs("div",{className:"space-y-2 p-3",children:[a.jsx(XR,{label:"Tool invocations",icon:Ex,defaultOpen:!0,children:i.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(i,null,2)})}),a.jsx(XR,{label:"Model calls",icon:ba,defaultOpen:!0,children:o.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(o,null,2)})})]})})]})]})}const ZR={debug:{label:"debug",icon:o7,className:"text-muted-foreground"},info:{label:"info",icon:oN,className:"text-primary"},warning:{label:"warning",icon:eo,className:"text-warning"},error:{label:"error",icon:Zi,className:"text-destructive"},critical:{label:"critical",icon:_x,className:"text-destructive font-semibold"}};function gMe(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function R0({log:e,isSelected:t,onSelect:r,isExportSelected:n,onExportSelect:s}){const i=ZR[e.severity]??ZR.info,o=i.icon,l=e.redacted_message??e.message,c=l.length>200?l.slice(0,200)+"":l;return a.jsxs("div",{className:J("flex items-start gap-2 w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus-within:ring-2 focus-within:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),children:[s&&a.jsx("button",{type:"button",role:"checkbox","aria-checked":n,onClick:u=>{u.stopPropagation(),s()},className:"shrink-0 mt-0.5 rounded border border-border p-1 hover:bg-secondary focus:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":n?"Deselect for export":"Select for export",children:a.jsx("span",{className:J("inline-block h-4 w-4 rounded border-2 border-current",n?"bg-primary border-primary":"bg-transparent"),"aria-hidden":!0})}),a.jsxs("button",{type:"button",onClick:r,className:"flex-1 min-w-0 text-left","aria-pressed":t,"aria-label":`View trace for log ${e.id}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(o,{className:J("h-4 w-4 shrink-0",i.className),"aria-hidden":!0}),a.jsx(We,{variant:"secondary",className:J("text-xs font-mono shrink-0",i.className),children:i.label}),a.jsx("span",{className:"text-xs font-mono text-muted-foreground shrink-0",children:gMe(e.timestamp)})]}),a.jsx("p",{className:"mt-1.5 font-mono text-xs text-foreground break-words line-clamp-2",children:c})]})]})}function vMe(){const[e,t]=y.useState(!1),[r,n]=y.useState(!1),[s,i]=y.useState(!1),[o,l]=y.useState("logs"),[c,u]=y.useState({limit:100}),[d,f]=y.useState(null),[h,m]=y.useState(new Set),{data:g=[],isLoading:p}=rMe(c),{data:x,isLoading:b}=nMe(d),v=sMe(),w=C=>{u(C)},_=C=>{v.mutate(C,{onSuccess:E=>{E!=null&&E.download_url&&window.open(E.download_url,"_blank")}})},j=C=>{m(E=>{const D=new Set(E);return D.has(C)?D.delete(C):D.add(C),D})},S=()=>{h.size===g.length?m(new Set):m(new Set(g.map(C=>C.id)))},N=y.useMemo(()=>h.size>0?Array.from(h):void 0,[h]),k=C=>{C&&h.size>0||m(new Set),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(fe,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Rr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Logs & Tracing"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(lr,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Logs & Tracing"]}),a.jsx("p",{className:"text-muted-foreground",children:"Structured logs and per-run traces. Filter, view traces, and export with redaction."})]}),a.jsxs(ci,{value:o,onValueChange:l,className:"space-y-4",children:[a.jsxs(Oa,{className:"grid w-full max-w-md grid-cols-3 rounded-lg bg-muted p-1",children:[a.jsxs(St,{value:"logs",className:"gap-2",children:[a.jsx(lr,{className:"h-4 w-4"}),"Logs"]}),a.jsxs(St,{value:"traces",className:"gap-2",children:[a.jsx(kE,{className:"h-4 w-4"}),"Traces"]}),a.jsxs(St,{value:"export",className:"gap-2",children:[a.jsx(mc,{className:"h-4 w-4"}),"Export"]})]}),a.jsx(Nt,{value:"logs",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(ne,{children:"Log stream"}),a.jsx(ge,{children:"Real-time logs with severity. Select a row to view its run trace."})]})}),a.jsx(Z,{children:a.jsx(pt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(ie,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(lr,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Connect the gateway to stream logs, or logs will appear here once available."})]}):g.map(C=>a.jsx(R0,{log:C,isSelected:d===C.id,onSelect:()=>f(E=>E===C.id?null:C.id)},C.id))})})})]}),a.jsx(JR,{trace:x??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-base",children:"Filters & actions"}),a.jsx(ge,{children:"Refine the log view, export, and redaction rules."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(_h,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>{m(new Set),n(!0)},children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Export logs"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(jr,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),a.jsx(Nt,{value:"traces",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(ne,{children:"Run traces"}),a.jsx(ge,{children:"Select a log entry to view its run trace (tool invocations and model calls)."})]})}),a.jsx(Z,{children:a.jsx(pt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(ie,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(kE,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No log entries"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Logs appear here when available. Select one to view its run trace."})]}):g.map(C=>a.jsx(R0,{log:C,isSelected:d===C.id,onSelect:()=>f(E=>E===C.id?null:C.id)},C.id))})})})]}),a.jsx(JR,{trace:x??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-base",children:"Trace actions"}),a.jsx(ge,{children:"View run trace details and configure redaction for exports."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(_h,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(jr,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),a.jsx(Nt,{value:"export",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsx("div",{className:"space-y-6 min-w-0",children:a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(ne,{children:"Export logs"}),a.jsx(ge,{children:"Select logs to export, or export all filtered results. Choose format and redaction in the confirmation dialog."})]})}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>S(),"aria-pressed":g.length>0&&h.size===g.length,children:h.size===g.length&&g.length>0?"Deselect all":"Select all"}),a.jsxs(P,{size:"sm",onClick:()=>k(h.size>0),disabled:p||g.length===0,children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),h.size>0?`Export ${h.size} selected`:"Export all (filtered)"]})]}),a.jsx(pt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(ie,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(mc,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs to export"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Apply filters or wait for logs to appear, then select and export."})]}):g.map(C=>a.jsx(R0,{log:C,isSelected:d===C.id,onSelect:()=>f(E=>E===C.id?null:C.id),isExportSelected:h.has(C.id),onExportSelect:()=>j(C.id)},C.id))})})]})]})}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-base",children:"Export options"}),a.jsx(ge,{children:"Configure redaction rules and retention. Export uses your selected format and redaction settings."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(jr,{className:"mr-2 h-4 w-4"}),"Redaction rules"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(_h,{className:"mr-2 h-4 w-4"}),"Filters"]})]})]})})]})})]}),a.jsx("footer",{className:"pt-4 border-t border-border",children:a.jsxs(fe,{to:"/settings",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:[a.jsx(Rn,{className:"h-4 w-4"}),"Manage retention settings"]})}),a.jsx(uMe,{open:e,onOpenChange:t,currentFilters:c,onApply:w}),a.jsx(fMe,{open:r,onOpenChange:n,onExport:_,isExporting:v.isPending,selectedLogIds:N}),a.jsx(mMe,{open:s,onOpenChange:i})]})}const Xf="admin_workspaces",Jf="admin_workspace_members",Zf="admin_licenses",eM="admin_analytics_metrics",Un={getWorkspaces:async()=>{const{data:e,error:t}=await F.from(Xf).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWorkspace:async e=>{const{data:t,error:r}=await F.from(Xf).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWorkspace:async e=>{const{data:t,error:r}=await F.from(Xf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspace:async(e,t)=>{const{data:r,error:n}=await F.from(Xf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWorkspace:async e=>{const{error:t}=await F.from(Xf).delete().eq("id",e);if(t)throw new Error(t.message)},getWorkspaceMembers:async e=>{const{data:t,error:r}=await F.from(Jf).select("*").eq("workspace_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getAllMembers:async()=>{const{data:e,error:t}=await F.from(Jf).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},addWorkspaceMember:async e=>{const{data:t,error:r}=await F.from(Jf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspaceMember:async(e,t)=>{const{data:r,error:n}=await F.from(Jf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},removeWorkspaceMember:async e=>{const{error:t}=await F.from(Jf).delete().eq("id",e);if(t)throw new Error(t.message)},getLicenses:async e=>{let t=F.from(Zf).select("*").order("created_at",{ascending:!1});e!=null&&e.workspace_id&&(t=t.eq("workspace_id",e.workspace_id)),(e==null?void 0:e.user_id)!=null&&(t=t.eq("user_id",e.user_id));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getLicense:async e=>{const{data:t,error:r}=await F.from(Zf).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createLicense:async e=>{const{data:t,error:r}=await F.from(Zf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateLicense:async(e,t)=>{const{data:r,error:n}=await F.from(Zf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteLicense:async e=>{const{error:t}=await F.from(Zf).delete().eq("id",e);if(t)throw new Error(t.message)},getAnalyticsMetrics:async e=>{let t=F.from(eM).select("*").order("bucket_time",{ascending:!1});(e==null?void 0:e.workspace_id)!=null&&(t=e.workspace_id?t.eq("workspace_id",e.workspace_id):t.is("workspace_id",null)),e!=null&&e.metric_type&&(t=t.eq("metric_type",e.metric_type)),e!=null&&e.from&&(t=t.gte("bucket_time",e.from)),e!=null&&e.to&&(t=t.lte("bucket_time",e.to)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},insertAnalyticsMetric:async e=>{const{data:t,error:r}=await F.from(eM).insert(e).select().single();if(r)throw new Error(r.message);return t},getProfileByUserId:async e=>{const{data:t,error:r}=await F.from("profiles").select("*").eq("user_id",e).maybeSingle();return r?null:t}};function Cp(e,t){return e().catch(()=>t)}const Qt={all:["admin"],workspaces:()=>[...Qt.all,"workspaces"],workspace:e=>[...Qt.all,"workspace",e],workspaceMembers:e=>[...Qt.all,"workspace-members",e],allMembers:()=>[...Qt.all,"members"],licenses:e=>[...Qt.all,"licenses",e],license:e=>[...Qt.all,"license",e],analytics:e=>[...Qt.all,"analytics",e]};function yMe(){return ke({queryKey:Qt.workspaces(),queryFn:()=>Cp(()=>Un.getWorkspaces(),[])})}function xMe(){const e=de();return ue({mutationFn:t=>Un.createWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qt.workspaces()}),B.success("Workspace created")},onError:t=>{B.error(t.message??"Failed to create workspace")}})}function bMe(){const e=de();return ue({mutationFn:({id:t,data:r})=>Un.updateWorkspace(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Qt.workspaces()}),e.invalidateQueries({queryKey:Qt.workspace(r)}),B.success("Workspace updated")},onError:t=>{B.error(t.message??"Failed to update workspace")}})}function wMe(){const e=de();return ue({mutationFn:t=>Un.deleteWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qt.workspaces()}),B.success("Workspace deleted")},onError:t=>{B.error(t.message??"Failed to delete workspace")}})}function jMe(){return ke({queryKey:Qt.allMembers(),queryFn:()=>Cp(()=>Un.getAllMembers(),[])})}function _Me(){const e=de();return ue({mutationFn:t=>Un.addWorkspaceMember(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Qt.allMembers()}),e.invalidateQueries({queryKey:Qt.workspaceMembers(r.workspace_id)}),B.success("User added to workspace")},onError:t=>{B.error(t.message??"Failed to add user")}})}function SMe(){const e=de();return ue({mutationFn:({id:t,data:r,workspaceId:n})=>Un.updateWorkspaceMember(t,r),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:Qt.allMembers()}),e.invalidateQueries({queryKey:Qt.workspaceMembers(r)}),B.success("Member updated")},onError:t=>{B.error(t.message??"Failed to update member")}})}function NMe(){const e=de();return ue({mutationFn:({id:t})=>Un.removeWorkspaceMember(t),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:Qt.allMembers()}),e.invalidateQueries({queryKey:Qt.workspaceMembers(r)}),B.success("Member removed")},onError:t=>{B.error(t.message??"Failed to remove member")}})}function kMe(e){return ke({queryKey:Qt.licenses(e),queryFn:()=>Cp(()=>Un.getLicenses(e),[])})}function CMe(){const e=de();return ue({mutationFn:t=>Un.createLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qt.licenses()}),B.success("License created")},onError:t=>{B.error(t.message??"Failed to create license")}})}function EMe(){const e=de();return ue({mutationFn:({id:t,data:r})=>Un.updateLicense(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Qt.licenses()}),e.invalidateQueries({queryKey:Qt.license(r)}),B.success("License updated")},onError:t=>{B.error(t.message??"Failed to update license")}})}function PMe(){const e=de();return ue({mutationFn:t=>Un.deleteLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qt.licenses()}),B.success("License deleted")},onError:t=>{B.error(t.message??"Failed to delete license")}})}function OMe(e){return ke({queryKey:Qt.analytics(e),queryFn:()=>Cp(()=>Un.getAnalyticsMetrics(e),[])})}const AMe=e=>[...Qt.all,"profile",e];function TMe(e){return ke({queryKey:AMe(e??""),queryFn:()=>e?Cp(()=>Un.getProfileByUserId(e),null):Promise.resolve(null),enabled:!!e})}const RMe=nt({name:xe().min(1,"Name is required").max(200,"Name too long"),active_users_count:On.number().min(0,"Must be 0 or more"),status:sr(["active","archived","suspended"])}),tM={name:"",active_users_count:0,status:"active"};function MMe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s=null}){const i=!!s,{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=et({resolver:tt(RMe),defaultValues:tM}),h=u("status");y.useEffect(()=>{e&&s?d({name:s.name,active_users_count:s.active_users_count,status:s.status}):e&&!s&&d(tM)},[e,s,d]);const m=g=>{r(i&&s?{name:g.name,active_users_count:g.active_users_count,status:g.status}:{name:g.name,active_users_count:g.active_users_count,status:g.status}),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:i?"Edit workspace":"Create workspace"}),a.jsx(Te,{children:i?"Update workspace name, user count, and status.":"Add a new workspace for multi-tenant management."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"workspace-name",children:"Name"}),a.jsx(me,{id:"workspace-name",placeholder:"Workspace name",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("name")}),f.name&&a.jsx("p",{className:"text-sm text-destructive",children:f.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"workspace-active-users",children:"Active users count"}),a.jsx(me,{id:"workspace-active-users",type:"number",min:0,className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("active_users_count")}),f.active_users_count&&a.jsx("p",{className:"text-sm text-destructive",children:f.active_users_count.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Status"}),a.jsxs(ut,{value:h,onValueChange:g=>c("status",g),children:[a.jsx(ot,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace status",children:a.jsx(dt,{placeholder:"Select status"})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"active",children:"Active"}),a.jsx(Se,{value:"archived",children:"Archived"}),a.jsx(Se,{value:"suspended",children:"Suspended"})]})]})]}),a.jsxs(De,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":i?"Save":"Create"})]})]})]})})}const $Me=nt({user_id:xe().uuid("Invalid user ID"),role:sr(["admin","member","viewer"])}),rM={user_id:"",role:"member"};function IMe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s,member:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=et({resolver:tt($Me),defaultValues:rM}),m=d("role");y.useEffect(()=>{e&&i?f({user_id:i.user_id,role:i.role}):e&&!i&&f(rM)},[e,i,f]);const g=p=>{if(o&&i)r({role:p.role});else{if(!s)return;r({workspace_id:s.id,user_id:p.user_id,role:p.role})}t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:o?"Edit workspace member":"Add user to workspace"}),a.jsx(Te,{children:o?"Update the member role for this workspace.":"Assign a user to this workspace with a role. Enter the user ID from your auth system."})]}),a.jsxs("form",{onSubmit:c(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"member-user-id",children:"User ID"}),a.jsx(me,{id:"member-user-id",placeholder:"UUID from auth.users",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id"),disabled:o}),h.user_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.user_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Role"}),a.jsxs(ut,{value:m,onValueChange:p=>u("role",p),children:[a.jsx(ot,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Member role",children:a.jsx(dt,{placeholder:"Select role"})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"admin",children:"Admin"}),a.jsx(Se,{value:"member",children:"Member"}),a.jsx(Se,{value:"viewer",children:"Viewer"})]})]})]}),a.jsxs(De,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n||!o&&!s,children:n?"Saving":o?"Save":"Add user"})]})]})]})})}const DMe=nt({workspace_id:xe().uuid("Select a workspace"),user_id:xe().optional(),license_type:sr(["seat","pro","enterprise","trial"]),expiry_date:xe().optional()}),nM={workspace_id:"",user_id:"",license_type:"seat",expiry_date:""};function LMe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspaces:s,license:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=et({resolver:tt(DMe),defaultValues:nM}),m=d("workspace_id"),g=d("license_type");y.useEffect(()=>{var x;e&&i?f({workspace_id:i.workspace_id,user_id:i.user_id??"",license_type:i.license_type,expiry_date:i.expiry_date?i.expiry_date.slice(0,10):""}):e&&!i&&f({...nM,workspace_id:((x=s[0])==null?void 0:x.id)??""})},[e,i,s,f]);const p=x=>{const b=x.expiry_date?new Date(x.expiry_date).toISOString():null;r(o&&i?{user_id:x.user_id||null,license_type:x.license_type,expiry_date:b}:{workspace_id:x.workspace_id,user_id:x.user_id||null,license_type:x.license_type,expiry_date:b}),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:o?"Edit license":"Allocate license"}),a.jsx(Te,{children:o?"Update license type and expiry. Reassign to a workspace/user if needed.":"Assign a license to a workspace or user. Leave user empty for workspace-level license."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Workspace"}),a.jsxs(ut,{value:m,onValueChange:x=>u("workspace_id",x),disabled:o,children:[a.jsx(ot,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace",children:a.jsx(dt,{placeholder:"Select workspace"})}),a.jsx(lt,{children:s.map(x=>a.jsx(Se,{value:x.id,children:x.name},x.id))})]}),h.workspace_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.workspace_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"license-user-id",children:"User ID (optional)"}),a.jsx(me,{id:"license-user-id",placeholder:"UUID or leave empty for workspace license",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"License type"}),a.jsxs(ut,{value:g,onValueChange:x=>u("license_type",x),children:[a.jsx(ot,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"License type",children:a.jsx(dt,{placeholder:"Select type"})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"seat",children:"Seat"}),a.jsx(Se,{value:"pro",children:"Pro"}),a.jsx(Se,{value:"enterprise",children:"Enterprise"}),a.jsx(Se,{value:"trial",children:"Trial"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"license-expiry",children:"Expiry date (optional)"}),a.jsx(me,{id:"license-expiry",type:"date",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("expiry_date")})]}),a.jsxs(De,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":o?"Save":"Allocate"})]})]})]})})}const FMe=nt({workspace_id:xe().optional(),metric_type:xe().optional(),from:xe().optional(),to:xe().optional(),limit:On.number().min(10).max(500).optional()}),Pg={workspace_id:"",metric_type:"",from:"",to:"",limit:100},UMe=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"];function qMe({open:e,onOpenChange:t,onApply:r,workspaces:n,currentValues:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=et({resolver:tt(FMe),defaultValues:s??Pg});y.useEffect(()=>{e&&u(s??Pg)},[e,s,u]);const f=c("workspace_id"),h=c("metric_type"),m=p=>{r(p),t(!1)},g=()=>{u(Pg),r(Pg),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Filter analytics"}),a.jsx(Te,{children:"Refine data by workspace, metric type, date range, and limit."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Workspace"}),a.jsxs(ut,{value:f||"all",onValueChange:p=>l("workspace_id",p==="all"?"":p),children:[a.jsx(ot,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:a.jsx(dt,{placeholder:"All workspaces"})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"all",children:"All workspaces"}),n.map(p=>a.jsx(Se,{value:p.id,children:p.name},p.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Metric type"}),a.jsxs(ut,{value:h||"all",onValueChange:p=>l("metric_type",p==="all"?"":p),children:[a.jsx(ot,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:a.jsx(dt,{placeholder:"All types"})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"all",children:"All types"}),UMe.map(p=>a.jsx(Se,{value:p,children:p.replace(/_/g," ")},p))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-from",children:"From date"}),a.jsx("input",{id:"filter-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("from")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-to",children:"To date"}),a.jsx("input",{id:"filter-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("to")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-limit",children:"Max results"}),a.jsx("input",{id:"filter-limit",type:"number",min:10,max:500,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("limit",{valueAsNumber:!0})}),d.limit&&a.jsx("p",{className:"text-sm text-destructive",children:d.limit.message})]}),a.jsxs(De,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:g,children:"Reset"}),a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",children:"Apply"})]})]})]})})}const BMe={admin:"default",member:"secondary",viewer:"outline"};function zMe({open:e,onOpenChange:t,member:r,workspace:n,onEdit:s,onRevoke:i,isRevoking:o=!1}){const l=(r==null?void 0:r.user_id)??null,{data:c,isLoading:u}=TMe(l);if(!r)return null;const d=(c==null?void 0:c.display_name)??null,f=r.created_at?Ka($l(r.created_at),"MMM d, yyyy"):"";return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(lp,{className:"h-5 w-5 text-muted-foreground"}),"User details"]}),a.jsx(Te,{children:"View and manage this user's workspace access and role."})]}),a.jsx("div",{className:"space-y-4 py-2",children:a.jsxs("div",{className:"grid gap-3 rounded-lg border border-border bg-secondary/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),u?a.jsx(ie,{className:"h-5 w-24"}):a.jsx("span",{className:"font-medium",children:d||""})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ud,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"User ID"}),a.jsx("code",{className:"rounded bg-muted/50 px-2 py-0.5 text-xs font-mono",children:r.user_id})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(zg,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Workspace"}),a.jsx("span",{children:(n==null?void 0:n.name)??r.workspace_id})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(jr,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Role"}),a.jsx(We,{variant:BMe[r.role],className:J("capitalize"),children:r.role})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ml,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Member since"}),a.jsx("span",{children:f})]})]})}),a.jsxs(De,{className:"gap-2 border-t border-border pt-4",children:[a.jsxs(P,{type:"button",variant:"outline",onClick:()=>{s(),t(!1)},className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit role"]}),a.jsxs(P,{type:"button",variant:"destructive",onClick:()=>{i(),t(!1)},disabled:o,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(N7,{className:"mr-2 h-4 w-4"}),o?"Revoking":"Revoke access"]})]})]})})}function WMe({open:e,onOpenChange:t,title:r="Confirm changes",description:n="Are you sure you want to save these settings? This may affect workspace behavior.",confirmLabel:s="Save changes",cancelLabel:i="Cancel",onConfirm:o,isSubmitting:l=!1}){const c=()=>{o(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[440px]",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(eo,{className:"h-5 w-5 text-warning","aria-hidden":!0}),r]}),a.jsx(Te,{children:n})]}),a.jsxs(De,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l,children:i}),a.jsx(P,{type:"button",onClick:c,disabled:l,className:"transition-transform hover:scale-[1.02]",children:l?"Saving":s})]})]})})}const VMe={allow_user_registration:!1,data_retention_days:90,registry_enabled:!0};function KMe({workspace:e,onUpdate:t,isSubmitting:r=!1}){var x,b,v;const[n,s]=y.useState(((x=e==null?void 0:e.configuration_details)==null?void 0:x.allow_user_registration)===!0),[i,o]=y.useState(Number((b=e==null?void 0:e.configuration_details)==null?void 0:b.data_retention_days)||90),[l,c]=y.useState(((v=e==null?void 0:e.configuration_details)==null?void 0:v.registry_enabled)!==!1),[u,d]=y.useState(!1),[f,h]=y.useState(!1);y.useEffect(()=>{const w=e==null?void 0:e.configuration_details;s((w==null?void 0:w.allow_user_registration)===!0),o(Number(w==null?void 0:w.data_retention_days)||90),c((w==null?void 0:w.registry_enabled)!==!1),h(!1)},[e==null?void 0:e.id,e==null?void 0:e.configuration_details]);const m=(w,_)=>{w==="allow_user_registration"&&s(!!_),w==="data_retention_days"&&o(Number(_)||90),w==="registry_enabled"&&c(!!_),h(!0)},g=()=>{!f||!e||d(!0)},p=()=>{e&&(t(e.id,{configuration_details:{...VMe,...e.configuration_details||{},allow_user_registration:n,data_retention_days:i,registry_enabled:l}}),h(!1))};return e?a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] transition-all duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Rn,{className:"h-5 w-5 text-muted-foreground"}),"Workspace settings"]}),a.jsxs(ge,{children:["Default policies and registry controls for ",e.name,". Changes require confirmation."]})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/20 p-3",children:[a.jsx(H,{htmlFor:"ws-allow-registration",className:"cursor-pointer flex-1",children:"Allow user registration"}),a.jsx(Rt,{id:"ws-allow-registration",checked:n,onCheckedChange:w=>m("allow_user_registration",w),className:"data-[state=checked]:bg-primary"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/20 p-3",children:[a.jsx(H,{htmlFor:"ws-registry",className:"cursor-pointer flex-1",children:"Registry enabled"}),a.jsx(Rt,{id:"ws-registry",checked:l,onCheckedChange:w=>m("registry_enabled",w),className:"data-[state=checked]:bg-primary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"ws-retention",children:"Data retention (days)"}),a.jsxs(ut,{value:String(i),onValueChange:w=>m("data_retention_days",Number(w)),children:[a.jsx(ot,{id:"ws-retention",className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",children:a.jsx(dt,{})}),a.jsx(lt,{children:[30,60,90,180,365].map(w=>a.jsxs(Se,{value:String(w),children:[w," days"]},w))})]})]}),a.jsxs(P,{onClick:g,disabled:!f||r,className:"w-full transition-transform hover:scale-[1.02]",children:[a.jsx(dN,{className:"mr-2 h-4 w-4"}),f?"Save changes":"No changes"]})]})]}),a.jsx(WMe,{open:u,onOpenChange:d,title:"Confirm workspace settings",description:"Saving will update default policies and registry controls for this workspace. Continue?",confirmLabel:"Save changes",onConfirm:p,isSubmitting:r})]}):a.jsx(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)]",children:a.jsxs(te,{children:[a.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Rn,{className:"h-5 w-5 text-muted-foreground"}),"Workspace settings"]}),a.jsx(ge,{children:"Select a workspace above or create one to configure policies and registry controls."})]})})}const HMe={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function GMe({open:e,onOpenChange:t,license:r=null,workspaceName:n=""}){const s=r!=null&&r.expiry_date?Ka($l(r.expiry_date),"MMM d, yyyy"):"No expiry",i=(r==null?void 0:r.expiry_date)&&new Date(r.expiry_date)<new Date;return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(lr,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),"Billing & invoice details"]}),a.jsx(Te,{children:"Current license and billing information. Use Upgrade plan to change tier or manage payment."})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/20 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Workspace"}),a.jsx("span",{className:"font-medium",children:n})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"License type"}),a.jsx(We,{variant:i?"destructive":"default",children:HMe[r.license_type]??r.license_type})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Expires"}),a.jsx("span",{className:i?"text-destructive":"",children:s})]})]}),!r&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No license linked. Allocate a license from License Management to see details here."})]}),a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/20 p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Payment options"}),a.jsx("p",{className:"text-sm text-foreground/90 mb-3",children:"Billing is processed securely. Invoices are available after each billing cycle."}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Download invoice"]}),a.jsxs(P,{variant:"outline",size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Sx,{className:"mr-2 h-4 w-4"}),"Payment method"]}),a.jsxs(P,{size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ai,{className:"mr-2 h-4 w-4"}),"Upgrade plan"]})]})]})]}),a.jsx(De,{className:"border-t border-border pt-4",children:a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}const YMe=nt({workspace_id:xe().optional(),from:xe().min(1,"From date is required"),to:xe().min(1,"To date is required"),format:sr(["csv","json"]),metric_type:xe().optional()}),QMe=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"],XMe={workspace_id:"",from:Ka(JN(new Date,30),"yyyy-MM-dd"),to:Ka(new Date,"yyyy-MM-dd"),format:"csv",metric_type:""};function JMe(e){const t=`bucket_time,workspace_id,metric_type,value,dimensions
`,r=e.map(n=>`${n.bucket_time},${n.workspace_id??""},${n.metric_type},${n.value},"${JSON.stringify(n.dimensions??{}).replace(/"/g,'""')}"`);return t+r.join(`
`)}function ZMe({open:e,onOpenChange:t,workspaces:r}){const{register:n,handleSubmit:s,setValue:i,watch:o,formState:{errors:l,isSubmitting:c}}=et({resolver:tt(YMe),defaultValues:XMe}),u=o("format"),d=o("workspace_id"),f=o("metric_type"),h=async m=>{try{const g=await Un.getAnalyticsMetrics({workspace_id:m.workspace_id||void 0,metric_type:m.metric_type||void 0,from:m.from,to:m.to,limit:5e3});if(g.length===0){B.info("No data in the selected range. Try a different date or filter.");return}const p=`analytics-report-${m.from}-${m.to}.${m.format}`;if(m.format==="csv"){const x=new Blob([JMe(g)],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(x),v=document.createElement("a");v.href=b,v.download=p,v.click(),URL.revokeObjectURL(b)}else{const x=new Blob([JSON.stringify(g,null,2)],{type:"application/json;charset=utf-8;"}),b=URL.createObjectURL(x),v=document.createElement("a");v.href=b,v.download=p,v.click(),URL.revokeObjectURL(b)}B.success("Report downloaded"),t(!1)}catch(g){B.error(g instanceof Error?g.message:"Failed to download report")}};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(Ir,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),"Export analytics report"]}),a.jsx(Te,{children:"Select date range, format, and optional filters. Data will be downloaded for offline analysis."})]}),a.jsxs("form",{onSubmit:s(h),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"report-from",children:"From date"}),a.jsx("input",{id:"report-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2",...n("from")}),l.from&&a.jsx("p",{className:"text-sm text-destructive",children:l.from.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"report-to",children:"To date"}),a.jsx("input",{id:"report-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2",...n("to")}),l.to&&a.jsx("p",{className:"text-sm text-destructive",children:l.to.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Workspace"}),a.jsxs(ut,{value:d||"all",onValueChange:m=>i("workspace_id",m==="all"?"":m),children:[a.jsx(ot,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:a.jsx(dt,{placeholder:"All workspaces"})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"all",children:"All workspaces"}),r.map(m=>a.jsx(Se,{value:m.id,children:m.name},m.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Metric type"}),a.jsxs(ut,{value:f||"all",onValueChange:m=>i("metric_type",m==="all"?"":m),children:[a.jsx(ot,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:a.jsx(dt,{placeholder:"All types"})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"all",children:"All types"}),QMe.map(m=>a.jsx(Se,{value:m,children:m.replace(/_/g," ")},m))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Format"}),a.jsxs(ut,{value:u,onValueChange:m=>i("format",m),children:[a.jsx(ot,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Export format",children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(Se,{value:"csv",children:"CSV"}),a.jsx(Se,{value:"json",children:"JSON"})]})]})]}),a.jsxs(De,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),a.jsxs(P,{type:"submit",disabled:c,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),c?"Preparing":"Download report"]})]})]})]})})}const e$e={active:"default",archived:"secondary",suspended:"destructive"},t$e={admin:"default",member:"secondary",viewer:"outline"},r$e={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function n$e(){var G;const[e,t]=y.useState("workspaces"),[r,n]=y.useState(!1),[s,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(null),[h,m]=y.useState(!1),[g,p]=y.useState(null),[x,b]=y.useState(!1),[v,w]=y.useState(null),[_,j]=y.useState(null),[S,N]=y.useState(!1),[k,C]=y.useState(null),[E,D]=y.useState(!1),[O,q]=y.useState(null),[A,V]=y.useState(!1),[T,K]=y.useState(""),{data:M=[],isLoading:$}=yMe(),{data:I=[],isLoading:ee}=jMe();y.useEffect(()=>{M.length>0&&!k&&C(M[0])},[M,k]);const{data:L=[],isLoading:oe}=kMe(),{data:ye=[],isLoading:Ve}=OMe({workspace_id:(v==null?void 0:v.workspace_id)||void 0,metric_type:(v==null?void 0:v.metric_type)||void 0,from:(v==null?void 0:v.from)||void 0,to:(v==null?void 0:v.to)||void 0,limit:(v==null?void 0:v.limit)??100}),Ke=xMe(),he=bMe(),Be=wMe(),ae=_Me(),_e=SMe(),Y=NMe(),Q=CMe(),Xe=EMe(),He=PMe(),xt=y.useMemo(()=>{const z={},ce=v!=null&&v.from?$l(v.from):JN(new Date,30),pe=v!=null&&v.to?$l(v.to):new Date;for(let se=new Date(ce);se<=pe;se.setDate(se.getDate()+1)){const Ne=Ka(se,"yyyy-MM-dd");z[Ne]={date:Ne,value:0,sessions:0,runs:0}}return ye.forEach(se=>{const Ne=se.bucket_time.slice(0,10);z[Ne]||(z[Ne]={date:Ne,value:0,sessions:0,runs:0}),z[Ne].value+=Number(se.value),se.metric_type==="active_sessions"&&(z[Ne].sessions=Number(se.value)),(se.metric_type==="run_success_rate"||se.metric_type==="run_failure_count")&&(z[Ne].runs=Number(se.value))}),Object.values(z).sort((se,Ne)=>new Date(se.date).getTime()-new Date(Ne.date).getTime())},[ye,v]),ft=y.useMemo(()=>{const z={};return M.forEach(ce=>{z[ce.id]=ce}),z},[M]),Wt=y.useMemo(()=>{if(!T.trim())return I;const z=T.trim().toLowerCase();return I.filter(ce=>{var pe;return ce.user_id.toLowerCase().includes(z)||(((pe=ft[ce.workspace_id])==null?void 0:pe.name)??"").toLowerCase().includes(z)||ce.role.toLowerCase().includes(z)})},[I,T,ft]),Nr=y.useMemo(()=>{const z=new Date,ce=new Date(z.getTime()+30*24*60*60*1e3);let pe=0,se=0;return L.forEach(Ne=>{(!Ne.expiry_date||new Date(Ne.expiry_date)>=z)&&pe++,Ne.expiry_date&&new Date(Ne.expiry_date)<=ce&&new Date(Ne.expiry_date)>=z&&se++}),{total:L.length,active:pe,expiringSoon:se}},[L]),fn=z=>{s?(he.mutate({id:s.id,data:z}),i(null)):Ke.mutate(z),n(!1)},ws=z=>{c?(_e.mutate({id:c.id,data:z,workspaceId:c.workspace_id}),u(null)):d&&"workspace_id"in z&&(ae.mutate(z),f(null)),l(!1)},U=z=>{g?(Xe.mutate({id:g.id,data:z}),p(null)):Q.mutate(z),m(!1)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Admin & Analytics"}),a.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Workspace management, user provisioning, license controls, and analytics. Cloud-only."})]})}),a.jsxs(ci,{value:e,onValueChange:t,className:"space-y-4",children:[a.jsxs(Oa,{className:"inline-flex h-10 items-center justify-center rounded-lg bg-card border border-border p-1 gap-1",children:[a.jsxs(St,{value:"workspaces",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(zg,{className:"mr-2 h-4 w-4"}),"Workspace Management"]}),a.jsxs(St,{value:"users",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(Ow,{className:"mr-2 h-4 w-4"}),"User Management"]}),a.jsxs(St,{value:"licenses",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(_i,{className:"mr-2 h-4 w-4"}),"License Management"]}),a.jsxs(St,{value:"analytics",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(ih,{className:"mr-2 h-4 w-4"}),"Analytics"]})]}),a.jsx(Nt,{value:"workspaces",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 lg:grid-cols-[1fr_340px]",children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-lg",children:"Workspaces"}),a.jsxs(P,{size:"sm",onClick:()=>{i(null),n(!0)},children:[a.jsx(Dt,{className:"mr-1 h-4 w-4"}),"Add workspace"]})]}),a.jsx(Z,{children:$?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ie,{className:"h-12 w-full rounded-lg"}),a.jsx(ie,{className:"h-12 w-full rounded-lg"}),a.jsx(ie,{className:"h-12 w-full rounded-lg"})]}):M.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(zg,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No workspaces yet. Add one to manage users and licenses."}),a.jsxs(P,{onClick:()=>n(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add workspace"]})]}):a.jsx(pt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:M.map(z=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md",(k==null?void 0:k.id)===z.id&&"ring-2 ring-primary/50"),children:[a.jsxs("button",{type:"button",className:"min-w-0 flex-1 text-left",onClick:()=>C(z),children:[a.jsx("p",{className:"font-medium truncate",children:z.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.active_users_count," active users"]})]}),a.jsx(We,{variant:e$e[z.status],className:"shrink-0 ml-2",children:z.status}),a.jsxs(Ds,{children:[a.jsx(Ls,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 ml-2",children:[a.jsx(wa,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{i(z),n(!0)},children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this workspace? This will remove members and licenses.")&&Be.mutate(z.id)},children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},z.id))})})})]}),a.jsx(KMe,{workspace:k??M[0]??null,onUpdate:(z,ce)=>he.mutate({id:z,data:ce}),isSubmitting:he.isPending})]})}),a.jsx(Nt,{value:"users",className:"space-y-4 mt-4",children:a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-lg",children:"User Management"}),a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ip,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(me,{placeholder:"Search by user ID, workspace, role",value:T,onChange:z=>K(z.target.value),className:"pl-9 w-full sm:w-[240px] h-9 rounded-md border border-input bg-background text-sm focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Search users"})]}),a.jsxs(P,{size:"sm",onClick:()=>{u(null),f(M[0]??null),l(!0)},disabled:M.length===0,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(CE,{className:"mr-1 h-4 w-4"}),"Add user"]})]})]}),a.jsx(Z,{children:ee?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ie,{className:"h-12 w-full rounded-lg"}),a.jsx(ie,{className:"h-12 w-full rounded-lg"}),a.jsx(ie,{className:"h-12 w-full rounded-lg"})]}):I.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Ow,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No users assigned to workspaces. Add a workspace first, then add users."}),a.jsxs(P,{onClick:()=>{f(M[0]??null),l(!0)},disabled:M.length===0,children:[a.jsx(CE,{className:"mr-2 h-4 w-4"}),"Add user"]})]}):a.jsx(pt,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",role:"grid","aria-label":"User management table",children:[a.jsx("thead",{className:"sticky top-0 z-10 bg-card border-b border-border",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12",children:"User ID"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12 hidden sm:table-cell",children:"Workspace"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12",children:"Role"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12 hidden md:table-cell",children:"Last login"}),a.jsx("th",{className:"text-right font-medium text-muted-foreground px-3 py-3 h-12 w-[100px]",children:"Actions"})]})}),a.jsx("tbody",{children:Wt.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-3 py-8 text-center text-muted-foreground",children:"No users match your search."})}):Wt.map(z=>{var ce;return a.jsxs("tr",{className:"border-b border-border last:border-0 bg-secondary/20 hover:bg-secondary/40 transition-colors",children:[a.jsxs("td",{className:"px-3 py-3 font-mono text-xs truncate max-w-[140px]",children:[z.user_id.slice(0,8),""]}),a.jsx("td",{className:"px-3 py-3 text-muted-foreground hidden sm:table-cell truncate max-w-[120px]",children:((ce=ft[z.workspace_id])==null?void 0:ce.name)??z.workspace_id.slice(0,8)}),a.jsx("td",{className:"px-3 py-3",children:a.jsx(We,{variant:t$e[z.role],className:"capitalize",children:z.role})}),a.jsx("td",{className:"px-3 py-3 text-muted-foreground hidden md:table-cell",children:""}),a.jsx("td",{className:"px-3 py-3 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{j(z),N(!0)},"aria-label":"View user details",children:a.jsx(c7,{className:"h-4 w-4"})}),a.jsxs(Ds,{children:[a.jsx(Ls,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"Actions",children:a.jsx(wa,{className:"h-4 w-4"})})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{u(z),f(null),l(!0)},children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit role"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this user from the workspace?")&&Y.mutate({id:z.id,workspaceId:z.workspace_id})},children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})})]},z.id)})})]})})})})]})}),a.jsxs(Nt,{value:"licenses",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Total licenses"}),a.jsx(_i,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:Nr.total})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Active"}),a.jsx(_i,{className:"h-4 w-4 text-success"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:Nr.active})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Expiring soon"}),a.jsx(_i,{className:"h-4 w-4 text-warning"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:Nr.expiringSoon})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Billing"}),a.jsx(lr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",size:"sm",className:"w-full transition-transform hover:scale-[1.02]",onClick:()=>{q(null),D(!0)},children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"View billing & invoices"]})})]})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-lg",children:"License Management"}),a.jsxs(P,{size:"sm",onClick:()=>{p(null),m(!0)},className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Dt,{className:"mr-1 h-4 w-4"}),"Allocate license"]})]}),a.jsx(Z,{children:oe?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ie,{className:"h-12 w-full rounded-lg"}),a.jsx(ie,{className:"h-12 w-full rounded-lg"})]}):L.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(_i,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No licenses allocated. Allocate a license to a workspace or user."}),a.jsxs(P,{onClick:()=>m(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Allocate license"]})]}):a.jsx(pt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:L.map(z=>{var ce;return a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:r$e[z.license_type]??z.license_type}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[((ce=ft[z.workspace_id])==null?void 0:ce.name)??z.workspace_id,z.user_id?`  ${z.user_id.slice(0,8)}`:""]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[z.expiry_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",Ka($l(z.expiry_date),"MMM d, yyyy")]}),a.jsxs(Ds,{children:[a.jsx(Ls,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(wa,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{q(z),D(!0)},children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"View billing"]}),a.jsxs(Mt,{onClick:()=>{p(z),m(!0)},children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this license allocation?")&&He.mutate(z.id)},children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]},z.id)})})})})]})]}),a.jsxs(Nt,{value:"analytics",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Sessions, run success rates, skill installs. Filter by workspace and date range."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(_h,{className:"mr-1 h-4 w-4"}),"Filter"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>V(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ir,{className:"mr-1 h-4 w-4"}),"Download report"]})]})]}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active sessions",value:ye.filter(z=>z.metric_type==="active_sessions").reduce((z,ce)=>z+Number(ce.value),0),icon:Ow},{title:"Run success rate",value:ye.filter(z=>z.metric_type==="run_success_rate").reduce((z,ce)=>z+Number(ce.value),0)||"",icon:ih},{title:"Skill installs",value:ye.filter(z=>z.metric_type==="skill_installs").reduce((z,ce)=>z+Number(ce.value),0),icon:zg},{title:"Data points",value:ye.length,icon:ih}].map(({title:z,value:ce,icon:pe})=>a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-lg hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:z}),a.jsx(pe,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:ce})})]},z))}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Metrics over time"}),a.jsx(ge,{children:"Aggregated metrics by date. Use Filter to change workspace or date range."})]}),a.jsx(Z,{children:Ve?a.jsx(ie,{className:"h-[280px] w-full rounded-lg"}):xt.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(ih,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No metrics in this period. Data is populated when runs and sessions are recorded."}),a.jsxs(P,{variant:"outline",onClick:()=>b(!0),children:[a.jsx(_h,{className:"mr-2 h-4 w-4"}),"Change filter"]})]}):a.jsx(e1,{width:"100%",height:280,children:a.jsxs(qB,{data:xt,children:[a.jsx(Ky,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Cc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Ec,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Cs,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"},formatter:z=>[z,"Value"],labelFormatter:z=>Ka($l(z),"MMM d, yyyy")}),a.jsx(io,{type:"monotone",dataKey:"value",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Value"})]})})})]}),xt.length>0&&a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Metric breakdown (bar)"}),a.jsx(ge,{children:"Daily values for the selected period."})]}),a.jsx(Z,{children:a.jsx(e1,{width:"100%",height:240,children:a.jsxs(UAe,{data:xt,children:[a.jsx(Ky,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Cc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Ec,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Cs,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelFormatter:z=>Ka($l(z),"MMM d, yyyy")}),a.jsx(Lc,{dataKey:"value",fill:"rgb(var(--accent))",radius:[4,4,0,0],name:"Value"})]})})})]})]})]}),a.jsx(MMe,{open:r,onOpenChange:n,onSubmit:fn,isSubmitting:Ke.isPending||he.isPending,workspace:s}),a.jsx(IMe,{open:o,onOpenChange:l,onSubmit:ws,isSubmitting:ae.isPending||_e.isPending,workspace:c?ft[c.workspace_id]??null:d,member:c}),a.jsx(LMe,{open:h,onOpenChange:m,onSubmit:U,isSubmitting:Q.isPending||Xe.isPending,workspaces:M,license:g}),a.jsx(qMe,{open:x,onOpenChange:b,onApply:w,workspaces:M,currentValues:v}),a.jsx(zMe,{open:S,onOpenChange:N,member:_,workspace:_?ft[_.workspace_id]??null:null,onEdit:()=>{_&&(N(!1),u(_),f(null),l(!0))},onRevoke:()=>{_&&(Y.mutate({id:_.id,workspaceId:_.workspace_id}),j(null),N(!1))},isRevoking:Y.isPending}),a.jsx(GMe,{open:E,onOpenChange:D,license:O,workspaceName:O?((G=ft[O.workspace_id])==null?void 0:G.name)??"":void 0}),a.jsx(ZMe,{open:A,onOpenChange:V,workspaces:M})]})}var Bb="Collapsible",[s$e,HB]=zs(Bb),[a$e,hC]=s$e(Bb),GB=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c,u]=ri({prop:n,defaultProp:s??!1,onChange:o,caller:Bb});return a.jsx(a$e,{scope:r,disabled:i,contentId:$s(),open:c,onOpenToggle:y.useCallback(()=>u(d=>!d),[u]),children:a.jsx(Qe.div,{"data-state":pC(c),"data-disabled":i?"":void 0,...l,ref:t})})});GB.displayName=Bb;var YB="CollapsibleTrigger",QB=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=hC(YB,r);return a.jsx(Qe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":pC(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Re(e.onClick,s.onOpenToggle)})});QB.displayName=YB;var mC="CollapsibleContent",XB=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=hC(mC,e.__scopeCollapsible);return a.jsx(Zn,{present:r||s.open,children:({present:i})=>a.jsx(i$e,{...n,ref:t,present:i})})});XB.displayName=mC;var i$e=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=hC(mC,r),[l,c]=y.useState(n),u=y.useRef(null),d=gt(t,u),f=y.useRef(0),h=f.current,m=y.useRef(0),g=m.current,p=o.open||l,x=y.useRef(p),b=y.useRef(void 0);return y.useEffect(()=>{const v=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(v)},[]),_r(()=>{const v=u.current;if(v){b.current=b.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const w=v.getBoundingClientRect();f.current=w.height,m.current=w.width,x.current||(v.style.transitionDuration=b.current.transitionDuration,v.style.animationName=b.current.animationName),c(n)}},[o.open,n]),a.jsx(Qe.div,{"data-state":pC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&s})});function pC(e){return e?"open":"closed"}var o$e=GB,l$e=QB,c$e=XB,$a="Accordion",u$e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[gC,d$e,f$e]=Fx($a),[zb]=zs($a,[f$e,HB]),vC=HB(),JB=R.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,i=n;return a.jsx(gC.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(g$e,{...i,ref:t}):a.jsx(p$e,{...s,ref:t})})});JB.displayName=$a;var[ZB,h$e]=zb($a),[e6,m$e]=zb($a,{collapsible:!1}),p$e=R.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=ri({prop:r,defaultProp:n??"",onChange:s,caller:$a});return a.jsx(ZB,{scope:e.__scopeAccordion,value:R.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:R.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(e6,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(t6,{...o,ref:t})})})}),g$e=R.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=e,[o,l]=ri({prop:r,defaultProp:n??[],onChange:s,caller:$a}),c=R.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=R.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx(ZB,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(e6,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(t6,{...i,ref:t})})})}),[v$e,Wb]=zb($a),t6=R.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=e,l=R.useRef(null),c=gt(l,t),u=d$e(r),f=nf(s)==="ltr",h=Re(e.onKeyDown,m=>{var k;if(!u$e.includes(m.key))return;const g=m.target,p=u().filter(C=>{var E;return!((E=C.ref.current)!=null&&E.disabled)}),x=p.findIndex(C=>C.ref.current===g),b=p.length;if(x===-1)return;m.preventDefault();let v=x;const w=0,_=b-1,j=()=>{v=x+1,v>_&&(v=w)},S=()=>{v=x-1,v<w&&(v=_)};switch(m.key){case"Home":v=w;break;case"End":v=_;break;case"ArrowRight":i==="horizontal"&&(f?j():S());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(f?S():j());break;case"ArrowUp":i==="vertical"&&S();break}const N=v%b;(k=p[N].ref.current)==null||k.focus()});return a.jsx(v$e,{scope:r,disabled:n,direction:s,orientation:i,children:a.jsx(gC.Slot,{scope:r,children:a.jsx(Qe.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),Xy="AccordionItem",[y$e,yC]=zb(Xy),r6=R.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,i=Wb(Xy,r),o=h$e(Xy,r),l=vC(r),c=$s(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return a.jsx(y$e,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(o$e,{"data-orientation":i.orientation,"data-state":l6(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});r6.displayName=Xy;var n6="AccordionHeader",s6=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Wb($a,r),i=yC(n6,r);return a.jsx(Qe.h3,{"data-orientation":s.orientation,"data-state":l6(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});s6.displayName=n6;var Z1="AccordionTrigger",a6=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Wb($a,r),i=yC(Z1,r),o=m$e(Z1,r),l=vC(r);return a.jsx(gC.ItemSlot,{scope:r,children:a.jsx(l$e,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...n,ref:t})})});a6.displayName=Z1;var i6="AccordionContent",o6=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Wb($a,r),i=yC(i6,r),o=vC(r);return a.jsx(c$e,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});o6.displayName=i6;function l6(e){return e?"open":"closed"}var x$e=JB,c6=r6,b$e=s6,u6=a6,d6=o6;const w$e=x$e,f6=y.forwardRef(({className:e,...t},r)=>a.jsx(c6,{ref:r,className:J("border-b border-border",e),...t}));f6.displayName=c6.displayName;const h6=y.forwardRef(({className:e,children:t,...r},n)=>a.jsx(b$e,{className:"flex",children:a.jsxs(u6,{ref:n,className:J("flex flex-1 items-center justify-between py-4 text-left font-medium transition-all duration-200 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(Ac,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-muted-foreground"})]})}));h6.displayName=u6.displayName;const m6=y.forwardRef(({className:e,children:t,...r},n)=>a.jsx(d6,{ref:n,className:J("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...r,children:a.jsx("div",{className:"pb-4 pt-0 text-muted-foreground",children:t})}));m6.displayName=d6.displayName;const j$e="help_faqs",_$e="help_doc_links",S$e="support_requests",N$e="help_changelog",Vb={getFaqs:async()=>{const{data:e,error:t}=await F.from(j$e).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},getDocLinks:async()=>{const{data:e,error:t}=await F.from(_$e).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},submitSupportRequest:async e=>{const t={...e,user_id:e.user_id??null,context_info:e.context_info??{},status:e.status??"open"},{data:r,error:n}=await F.from(S$e).insert(t).select().single();if(n)throw new Error(n.message);return r},getChangelog:async(e=50)=>{const{data:t,error:r}=await F.from(N$e).select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}},ic={all:["help"],faqs:()=>[...ic.all,"faqs"],docLinks:()=>[...ic.all,"doc-links"],changelog:()=>[...ic.all,"changelog"]};function xC(e,t){return e().catch(()=>t)}function k$e(){return ke({queryKey:ic.faqs(),queryFn:()=>xC(Vb.getFaqs,[])})}function C$e(){return ke({queryKey:ic.docLinks(),queryFn:()=>xC(Vb.getDocLinks,[])})}function E$e(){const e=de();return ue({mutationFn:t=>Vb.submitSupportRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:ic.all}),B.success("Support request submitted. Well get back to you soon.")},onError:t=>{B.error(t.message||"Failed to submit support request")}})}function P$e(e){return ke({queryKey:[...ic.changelog(),50],queryFn:()=>xC(()=>Vb.getChangelog(50),[])})}function O$e({open:e,onOpenChange:t}){return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{showClose:!0,className:"max-w-md",children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15 text-success",children:a.jsx(Na,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx(Ae,{children:"Request received"}),a.jsx(Te,{children:"Thanks for reaching out. Well review your message and get back to you soon."})]})]})}),a.jsx(De,{className:"sm:justify-end",children:a.jsx(P,{onClick:()=>t(!1),children:"Done"})})]})})}const A$e=nt({name:xe().min(1,"Name is required").max(255,"Name is too long"),email:xe().min(1,"Email is required").email("Enter a valid email"),issue_description:xe().min(10,"Please describe your issue in at least 10 characters").max(4e3,"Description must be 4000 characters or less")}),M0={name:"",email:"",issue_description:""};function T$e(){var f;const{user:e}=wx(),t=E$e(),[r,n]=y.useState(!1),s=y.useMemo(()=>{const h={page:"help",pathname:typeof window<"u"?window.location.pathname:""};return e!=null&&e.id&&(h.user_id=e.id),e!=null&&e.email&&(h.user_email=e.email),h},[e==null?void 0:e.id,e==null?void 0:e.email]),{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=et({resolver:tt(A$e),defaultValues:e!=null&&e.email?{...M0,name:((f=e.user_metadata)==null?void 0:f.full_name)??"",email:e.email??""}:M0}),d=async h=>{const m={name:h.name.trim(),email:h.email.trim(),issue_description:h.issue_description.trim(),context_info:s,user_id:(e==null?void 0:e.id)??null};await t.mutateAsync(m),l(M0),n(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg font-semibold",children:"Send a request"}),a.jsx(ge,{children:"Describe your issue and well get back to you. Context (current page, account) is included to help us respond faster."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:o(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"support_name",children:"Name"}),a.jsx(me,{id:"support_name",placeholder:"Your name",className:"rounded-md border border-input px-3 py-2",...i("name")}),c.name&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"support_email",children:"Email"}),a.jsx(me,{id:"support_email",type:"email",placeholder:"you@example.com",className:"rounded-md border border-input px-3 py-2",...i("email")}),c.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"support_issue",children:"Issue description"}),a.jsx(Km,{id:"support_issue",placeholder:"Describe what you need help with...",rows:4,className:"rounded-md border border-input px-3 py-2",...i("issue_description")}),c.issue_description&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.issue_description.message})]}),a.jsx(P,{type:"submit",className:"rounded-md px-4 py-3 font-medium",disabled:u,children:u?"Sending":"Send request"})]})})]}),a.jsx(O$e,{open:r,onOpenChange:n})]})}const R$e=[{title:"Install Gateway",description:"Download and run the Clawgate gateway on your machine to get started.",href:"/download",icon:Ir,cta:"Download"},{title:"Connect first channel",description:"Add Telegram, Slack, Discord, or WhatsApp so you can talk to your agent from chat.",href:"/channels",icon:_u,cta:"Channels"},{title:"Open Control UI",description:"Use the dashboard to monitor sessions, runs, skills, and nodes.",href:"/dashboard",icon:MI,cta:"Dashboard"}];function M$e(){const[e,t]=y.useState(""),{data:r=[],isLoading:n}=k$e(),{data:s=[],isLoading:i}=C$e(),{data:o=[],isLoading:l}=P$e(),c=y.useMemo(()=>{if(!e.trim())return r;const u=e.trim().toLowerCase();return r.filter(d=>d.question_text.toLowerCase().includes(u)||d.answer_text.toLowerCase().includes(u)||d.category&&d.category.toLowerCase().includes(u))},[r,e]);return a.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{"aria-label":"Breadcrumb",className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(fe,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Dashboard"}),a.jsx(Rr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"About / Help"})]}),a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"About / Help"}),a.jsx("p",{className:"text-muted-foreground max-w-xl",children:"Quick start guides, FAQs, documentation links, and support. Find what you need in a few clicks."})]}),a.jsxs("section",{"aria-labelledby":"quick-start-heading",children:[a.jsx("h2",{id:"quick-start-heading",className:"mb-4 text-lg font-semibold",children:"Quick start"}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:R$e.map((u,d)=>a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30","animate-fade-in-up"),style:{animationDelay:`${d*100}ms`},children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/15 text-primary",children:a.jsx(u.icon,{className:"h-5 w-5"})}),a.jsx(ne,{className:"text-base",children:u.title})]}),a.jsx(ge,{className:"text-sm",children:u.description})]}),a.jsx(Z,{className:"pt-0",children:a.jsx(P,{variant:"outline",size:"sm",className:"rounded-md",asChild:!0,children:a.jsx(fe,{to:u.href,children:u.cta})})})]},u.href))})]}),a.jsxs("section",{"aria-labelledby":"faq-heading",children:[a.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h2",{id:"faq-heading",className:"text-lg font-semibold",children:"Frequently asked questions"}),a.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[a.jsx(ip,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(me,{type:"search",placeholder:"Search FAQs",value:e,onChange:u=>t(u.target.value),className:"rounded-md border border-input pl-9 pr-3 py-2","aria-label":"Search FAQs"})]})]}),n?a.jsx(X,{className:"rounded-[10px] border border-border",children:a.jsx(Z,{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>a.jsx(ie,{className:"h-12 w-full rounded-md"},u))})})}):c.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(ef,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e.trim()?"No FAQs match your search. Try different keywords.":"No FAQs yet. Check back later or contact support."})]})}):a.jsx(w$e,{type:"single",collapsible:!0,className:"w-full",children:c.map(u=>a.jsxs(f6,{value:u.id,children:[a.jsx(h6,{className:"text-left font-medium hover:no-underline",children:u.question_text}),a.jsx(m6,{children:a.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-muted-foreground",children:u.answer_text})})]},u.id))})]}),a.jsxs("section",{"aria-labelledby":"docs-heading",children:[a.jsx("h2",{id:"docs-heading",className:"mb-4 text-lg font-semibold",children:"Documentation"}),i?a.jsx("ul",{className:"space-y-2",children:[1,2,3,4].map(u=>a.jsx(ie,{className:"h-10 w-full rounded-md"},u))}):s.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(lr,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Documentation links will appear here."}),a.jsx(P,{variant:"link",className:"mt-2",asChild:!0,children:a.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1",children:["Open docs ",a.jsx(Ai,{className:"h-4 w-4"})]})})]})}):a.jsx("ul",{className:"grid gap-2 sm:grid-cols-2",children:s.map(u=>a.jsx("li",{children:a.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:J("flex items-center gap-2 rounded-md border border-border bg-card px-4 py-3","text-foreground transition-all duration-200 hover:border-primary/50 hover:shadow-card","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),children:[a.jsx(ld,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),a.jsx("span",{className:"flex-1 font-medium",children:u.title}),a.jsx(Ai,{className:"h-4 w-4 shrink-0 text-muted-foreground"})]})},u.id))})]}),a.jsxs("section",{"aria-labelledby":"support-heading",children:[a.jsx("h2",{id:"support-heading",className:"mb-4 text-lg font-semibold",children:"Contact support"}),a.jsx(T$e,{})]}),a.jsxs("section",{"aria-labelledby":"changelog-heading",children:[a.jsx("h2",{id:"changelog-heading",className:"mb-4 text-lg font-semibold",children:"Changelog"}),l?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(u=>a.jsx(ie,{className:"h-16 w-full rounded-md"},u))}):o.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(ml,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Changelog entries will appear here."})]})}):a.jsx("ul",{className:"space-y-0 border-l-2 border-border pl-6",children:o.map(u=>a.jsxs("li",{className:"relative pb-6 last:pb-0",children:[a.jsx("span",{className:"absolute -left-[29px] top-1.5 h-3 w-3 rounded-full bg-primary","aria-hidden":!0}),a.jsxs("div",{className:"flex flex-wrap items-baseline gap-2",children:[u.version_number&&a.jsx("span",{className:"font-medium text-foreground",children:u.version_number}),a.jsx("time",{dateTime:u.date,className:"text-sm text-muted-foreground",children:new Date(u.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:u.description})]},u.id))})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[a.jsx(fe,{to:"/terms",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Terms of Service"}),a.jsx(fe,{to:"/privacy",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Privacy Policy"}),a.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:["Docs ",a.jsx(Ai,{className:"h-3.5 w-3.5"})]})]})})]})}const Kb={getPrivacySettings:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)return null;const{data:t,error:r}=await F.from("privacy_policy_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t??null},updatePrivacySettings:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,...e},{data:n,error:s}=await F.from("privacy_policy_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},ensurePrivacySettings:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const t=await Kb.getPrivacySettings();if(t)return t;const r={user_id:e.id},{data:n,error:s}=await F.from("privacy_policy_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},getCurrentPolicyDocument:async(e="privacy")=>{const{data:t,error:r}=await F.from("policy_documents").select("*").eq("document_type",e).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(r)throw new Error(r.message);return t??null}},Hm={all:["privacy"],settings:()=>[...Hm.all,"settings"],policyDocument:e=>[...Hm.all,"policy",e]};function p6(e,t){return e().catch(()=>t)}function $$e(){return ke({queryKey:Hm.settings(),queryFn:()=>p6(Kb.getPrivacySettings,null)})}function I$e(){const e=de();return ue({mutationFn:t=>Kb.updatePrivacySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:Hm.settings()}),B.success("Privacy preferences updated")},onError:t=>{B.error(t.message||"Failed to update privacy preferences")}})}function D$e(e="privacy"){return ke({queryKey:Hm.policyDocument(e),queryFn:()=>p6(()=>Kb.getCurrentPolicyDocument(e),null)})}function L$e({open:e,onOpenChange:t,telemetryOptOut:r,onConfirm:n,isUpdating:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{"aria-describedby":"preferences-modal-description",children:[a.jsxs(Oe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Ae,{children:"Confirm privacy preference"})]}),a.jsx(Te,{id:"preferences-modal-description",children:r?a.jsx(a.Fragment,{children:"You are opting out of telemetry and optional usage data collection. We will not send diagnostic or usage data from this account. This preference will be saved and can be changed anytime in Settings or on this page."}):a.jsx(a.Fragment,{children:"You are opting in to optional telemetry. We may collect anonymous usage and diagnostic data to improve the product. No personal data is shared. You can opt out anytime in Settings or on this page."})})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{onClick:i,disabled:s,className:"transition-transform hover:scale-[1.02]",children:s?"Saving":"Save preference"})]})]})})}function F$e({open:e,onOpenChange:t,onDownload:r,onOpenInNewTab:n,title:s="Download Privacy Policy",description:i="Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."}){const o=()=>{r(),t(!1)},l=()=>{n==null||n(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{"aria-describedby":"download-confirmation-description",children:[a.jsxs(Oe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Ae,{children:s})]}),a.jsx(Te,{id:"download-confirmation-description",children:i})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n&&a.jsx(P,{variant:"outline",onClick:l,className:"transition-transform hover:scale-[1.02]",children:"Open in new tab"}),a.jsxs(P,{onClick:o,className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Ir,{className:"h-4 w-4","aria-hidden":!0}),"Download"]})]})]})})}const sM=[{id:"intro",title:"Introduction",content:"Clawgate is a local-first, chat-native personal agent platform. This policy explains how we handle your data when you use the Control UI and optional cloud-linked features. We are committed to transparency and putting you in control."},{id:"data-collection",title:"Data collection",content:"When you use local-only mode, data stays on your devices. We do not collect or transmit personal data from your gateway. If you link a cloud account, we store only what is necessary to provide that service (e.g. profile, session tokens). Optional telemetryanonymous usage and diagnostic datamay be collected only if you have not opted out. We do not sell your data."},{id:"storage",title:"Storage and local-first",content:"Session transcripts, skill definitions, cron jobs, and node pairings are stored locally by default. Cloud-backed features (e.g. sync, backup) store only what you explicitly enable. Credentials and long-lived tokens are stored in your system keychain or an encrypted fallback when available."},{id:"retention",title:"Retention",content:"Local data is retained according to your settings (e.g. log retention, media caps). Cloud-stored data is retained only as long as your account is active and in line with our terms. You can request deletion of cloud data at any time."},{id:"third-party",title:"Third-party services and APIs",content:"Channel adapters (e.g. Telegram, Slack) and model providers (e.g. OpenAI, Anthropic) process data according to their policies when you use those integrations. We pass only the minimum data required. We recommend reviewing each providers privacy policy."}];function U$e({id:e,title:t,content:r,defaultOpen:n=!1}){const[s,i]=y.useState(n);return a.jsxs("details",{id:e,open:s,onToggle:o=>i(o.target.open),className:"group border-b border-border last:border-b-0",children:[a.jsxs("summary",{className:"flex cursor-pointer list-none items-center gap-2 py-4 text-left font-medium text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-md px-1 -mx-1",children:[s?a.jsx(Ac,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}):a.jsx(Rr,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{children:t})]}),a.jsx("div",{className:"prose prose-invert prose-sm max-w-none pb-4 pl-6 text-muted-foreground",children:a.jsx("p",{className:"m-0 leading-relaxed",children:r})})]})}function q$e(){const{data:e,isLoading:t}=$$e(),r=I$e(),{data:n}=D$e("privacy"),[s,i]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState(!1),d=(e==null?void 0:e.telemetry_opt_out)??!1,f=y.useCallback(b=>{l(b),i(!0)},[]),h=y.useCallback(()=>{o!==null&&r.mutate({telemetry_opt_out:o},{onSuccess:()=>l(null)})},[o,r]),m=(n==null?void 0:n.content)??sM.map(b=>`${b.title}

${b.content}`).join(`

`),g=n!=null&&n.content?[{id:"policy",title:"Full policy",content:n.content}]:sM,p=y.useCallback(()=>{const b=new Blob([m],{type:"text/plain;charset=utf-8"}),v=URL.createObjectURL(b),w=document.createElement("a");w.href=v,w.download="privacy-policy.txt",w.click(),URL.revokeObjectURL(v)},[m]),x=y.useCallback(()=>{const b=new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Privacy Policy - Clawgate</title><style>body{font-family:Inter,sans-serif;max-width:720px;margin:2rem auto;padding:0 1rem;line-height:1.6;color:#e2e8f0;} h1{font-size:1.75rem;} h2{font-size:1.25rem;margin-top:1.5rem;} p{white-space:pre-wrap;}</style></head><body><h1>Privacy Policy</h1><p>${m.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}</p></body></html>`],{type:"text/html;charset=utf-8"}),v=URL.createObjectURL(b);window.open(v,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(v),5e3)},[m]);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8 sm:px-6 animate-fade-in-up",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-[28px] font-semibold leading-tight text-foreground",children:"Privacy Policy"}),a.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"How we collect, store, and use your data. Clawgate is local-first; your data stays on your devices unless you use cloud-linked features."})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg",children:"Policy sections"}),a.jsx(ge,{children:"Expand each section for details on data collection, storage, retention, and third-party services."})]}),a.jsx(Z,{className:"px-0 sm:px-6",children:a.jsx("div",{className:"divide-y-0",children:g.map((b,v)=>a.jsx(U$e,{id:b.id,title:b.title,content:b.content,defaultOpen:v===0},b.id))})})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Opt-out controls"})]}),a.jsx(ge,{children:"Manage your data collection preferences. Changes are saved to your account and reflected in Settings."})]}),a.jsxs(Z,{children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(H,{htmlFor:"telemetry-opt-out",className:"text-sm font-medium text-foreground",children:"Opt out of telemetry"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"When on, we do not send anonymous usage or diagnostic data from your account."})]}),a.jsx(Rt,{id:"telemetry-opt-out",checked:d,onCheckedChange:f,disabled:t,"aria-describedby":"telemetry-opt-out-description"})]}),t&&a.jsx("p",{id:"telemetry-opt-out-description",className:"mt-2 text-xs text-muted-foreground",children:"Loading preferences"})]})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg",children:"Download policy"}),a.jsx(ge,{children:"Save a copy for your records or open in a new tab to print or save as PDF."})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",onClick:()=>u(!0),className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Ir,{className:"h-4 w-4","aria-hidden":!0}),"Download Privacy Policy"]})})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx(P,{variant:"outline",asChild:!0,children:a.jsx(fe,{to:"/",children:"Back to home"})}),a.jsxs("nav",{className:"flex flex-wrap gap-6",children:[a.jsx(fe,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms of Service"}),a.jsx(fe,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Help & support"})]})]})})]}),a.jsx(L$e,{open:s,onOpenChange:i,telemetryOptOut:o??d,onConfirm:h,isUpdating:r.isPending}),a.jsx(F$e,{open:c,onOpenChange:u,onDownload:p,onOpenInNewTab:x,title:"Download Privacy Policy",description:"Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."})]})}function B$e(){return a.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 animate-fade-in-up py-8",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Terms of Service"}),a.jsxs(X,{children:[a.jsx(te,{children:a.jsx(ne,{children:"Terms of Service"})}),a.jsx(Z,{className:"prose prose-invert max-w-none text-sm text-muted-foreground",children:a.jsx("p",{children:"Full terms text. Accept/decline controls for cloud features. Document download."})})]}),a.jsx(P,{variant:"outline",asChild:!0,children:a.jsx(fe,{to:"/",children:"Back"})})]})}async function z$e(e){var s;let t=F.from("marketplace_skills").select("*").order("created_at",{ascending:!1});if((e==null?void 0:e.status)!==void 0?t=t.eq("status",e.status):t=t.eq("status","active"),e!=null&&e.category&&(t=t.eq("category",e.category)),(s=e==null?void 0:e.search)!=null&&s.trim()){const i=e.search.trim();t=t.or(`name.ilike.%${i}%,description.ilike.%${i}%`)}const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]}async function W$e(e){const{data:t,error:r}=await F.from("marketplace_skills").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t}async function V$e(){const{data:{user:e}}=await F.auth.getUser();if(!e)return[];const{data:t,error:r}=await F.from("marketplace_transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function K$e(){const{data:{user:e}}=await F.auth.getUser();if(!e)return[];const{data:t,error:r}=await F.from("marketplace_licenses").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function H$e(e){return we.post("/marketplace/checkout-session",e)}async function G$e(e){await we.post("/marketplace/subscription/cancel",{subscription_id:e})}async function Y$e(e,t){const{data:r,error:n}=await F.from("marketplace_licenses").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}function bC(e,t){return e().catch(()=>t)}const va={all:["marketplace"],skills:e=>[...va.all,"skills",e],skill:e=>[...va.all,"skill",e],transactions:()=>[...va.all,"transactions"],licenses:()=>[...va.all,"licenses"]};function g6(e){return ke({queryKey:va.skills(e),queryFn:()=>bC(()=>z$e(e),[])})}function Q$e(e){return ke({queryKey:va.skill(e??""),queryFn:()=>e?W$e(e):Promise.resolve(null),enabled:!!e})}function X$e(){return ke({queryKey:va.transactions(),queryFn:()=>bC(()=>V$e(),[])})}function v6(){return ke({queryKey:va.licenses(),queryFn:()=>bC(()=>K$e(),[])})}function y6(){return ue({mutationFn:H$e,onSuccess:e=>{e!=null&&e.url?window.location.href=e.url:B.success("Checkout session created")},onError:e=>{B.error(e.message||"Failed to start checkout")}})}function J$e(){const e=de();return ue({mutationFn:G$e,onSuccess:()=>{e.invalidateQueries({queryKey:va.transactions()}),e.invalidateQueries({queryKey:va.licenses()}),B.success("Subscription cancelled")},onError:t=>{B.error(t.message||"Failed to cancel subscription")}})}function Z$e(){const e=de();return ue({mutationFn:({id:t,data:r})=>Y$e(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:va.licenses()}),B.success("License updated")},onError:t=>{B.error(t.message||"Failed to update license")}})}function aM(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function e4e({open:e,onOpenChange:t,skill:r,mode:n,onConfirm:s,isSubmitting:i=!1}){if(!r)return null;const o=n==="subscription"?`${aM(r.price,r.currency)} / month`:aM(r.price,r.currency);return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Confirm purchase"}),a.jsx(Te,{children:"You are about to purchase this skill. You will be redirected to secure checkout."})]}),a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsx("p",{className:"font-medium text-foreground",children:r.name}),r.description&&a.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:r.description}),a.jsx("p",{className:"mt-2 text-sm font-medium text-primary",children:o}),n==="subscription"&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Subscription; you can cancel anytime from your account."})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsxs(P,{onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(RI,{className:"mr-2 h-4 w-4"}),i?"Redirecting":"Continue to checkout"]})]})]})})}function x6({open:e,onOpenChange:t,title:r="Payment failed",message:n="Something went wrong while processing your payment. Please try again or use a different payment method.",onRetry:s}){return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"sm:max-w-[440px]",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(Zi,{className:"h-5 w-5"}),r]}),a.jsx(Te,{children:n})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Close"}),s&&a.jsx(P,{onClick:s,className:"transition-transform hover:scale-[1.02]",children:"Try again"})]})]})})}function iM(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function t4e({skill:e,hasLicense:t,onPurchase:r}){const n=e.is_subscription?`${iM(e.price,e.currency)} / mo`:iM(e.price,e.currency);return a.jsx(X,{className:J("overflow-hidden transition-all duration-200 hover:shadow-card-hover hover:scale-[1.01]","border-border bg-card"),children:a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.image_url?a.jsx("div",{className:"h-32 w-full shrink-0 bg-secondary sm:h-auto sm:w-40",children:a.jsx("img",{src:e.image_url,alt:"",className:"h-full w-full object-cover"})}):a.jsx("div",{className:"flex h-32 w-full shrink-0 items-center justify-center bg-secondary/80 sm:h-auto sm:w-40",children:a.jsx(MI,{className:"h-10 w-10 text-muted-foreground"})}),a.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx(ne,{className:"text-lg",children:e.name}),e.category&&a.jsx(We,{variant:"secondary",className:"mt-1",children:e.category})]}),a.jsx("span",{className:"font-medium text-primary",children:n})]}),e.description&&a.jsx(ge,{className:"mt-2 line-clamp-2",children:e.description}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t?a.jsx(We,{variant:"success",children:"Owned"}):a.jsxs(a.Fragment,{children:[a.jsxs(P,{size:"sm",onClick:()=>r(e,"one_time"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(kx,{className:"mr-1.5 h-4 w-4"}),"Purchase"]}),e.is_subscription&&a.jsxs(P,{size:"sm",variant:"outline",onClick:()=>r(e,"subscription"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Sx,{className:"mr-1.5 h-4 w-4"}),"Subscribe"]})]})})]})]})})}function r4e(){const[e,t]=y.useState(""),[r,n]=y.useState(),[s,i]=y.useState(null),[o,l]=y.useState("one_time"),[c,u]=y.useState(!1),{data:d=[],isLoading:f}=g6({search:e.trim()||void 0,category:r}),{data:h=[]}=v6(),m=y6(),g=new Set(h.filter(v=>v.activation_status==="active").map(v=>v.skill_id)),p=(v,w)=>{i(v),l(w)},x=()=>{s&&m.mutate({skill_id:s.id,mode:o,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace`},{onError:()=>u(!0)})},b=Array.from(new Set(d.map(v=>v.category).filter(Boolean)));return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Marketplace"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse and purchase premium skills. One-time or subscription."})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(fe,{to:"/marketplace/licenses",children:[a.jsx(mc,{className:"mr-2 h-4 w-4"}),"My licenses"]})})})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Browse skills"}),a.jsx(ge,{children:"Search and filter by category. Click Purchase or Subscribe to checkout."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ip,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(me,{placeholder:"Search skills...",value:e,onChange:v=>t(v.target.value),className:"pl-9"})]}),a.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:r??"",onChange:v=>n(v.target.value?v.target.value:void 0),children:[a.jsx("option",{value:"",children:"All categories"}),b.map(v=>a.jsx("option",{value:v,children:v},v))]})]}),f?a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:[1,2,3].map(v=>a.jsx(ie,{className:"h-32 rounded-lg"},v))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(kx,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No skills found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Try a different search or category, or check back later for new listings."})]}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:d.map(v=>a.jsx(t4e,{skill:v,hasLicense:g.has(v.id),onPurchase:p},v.id))})]})]}),a.jsx(e4e,{open:!!s,onOpenChange:v=>!v&&i(null),skill:s,mode:o,onConfirm:x,isSubmitting:m.isPending}),a.jsx(x6,{open:c,onOpenChange:u,onRetry:()=>{u(!1),s&&x()}})]})}const n4e=nt({email:xe().email("Invalid email"),accept_terms:Gr().refine(e=>e===!0,{message:"You must accept the terms to continue"})});function oM(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function s4e({skill:e,mode:t,onSubmit:r,isSubmitting:n=!1,defaultEmail:s=""}){const{register:i,handleSubmit:o,formState:{errors:l}}=et({resolver:tt(n4e),defaultValues:{email:s,accept_terms:!1}});if(!e)return a.jsx(X,{children:a.jsx(Z,{className:"pt-6",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to checkout."})})});const c=t==="subscription"?`${oM(e.price,e.currency)} / month`:oM(e.price,e.currency);return a.jsxs("form",{onSubmit:o(r),className:"space-y-6",children:[a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Order summary"}),a.jsx(ge,{children:"Review your selection before payment."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:e.name}),a.jsx("span",{className:"font-medium",children:c})]}),t==="subscription"&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be charged each billing period until you cancel."})]})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Contact"}),a.jsx(ge,{children:"Receipt and updates will be sent to this email."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"checkout-email",children:"Email"}),a.jsx(me,{id:"checkout-email",type:"email",placeholder:"you@example.com",className:"transition-colors focus-visible:ring-[rgb(var(--primary))]",...i("email")}),l.email&&a.jsx("p",{className:"text-sm text-destructive",children:l.email.message})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"checkout-terms",className:"h-4 w-4 rounded border-input focus:ring-[rgb(var(--primary))]",...i("accept_terms")}),a.jsxs(H,{htmlFor:"checkout-terms",className:"text-sm font-normal",children:["I accept the"," ",a.jsx("a",{href:"/terms",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"/privacy",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]})]}),l.accept_terms&&a.jsx("p",{className:"text-sm text-destructive",children:l.accept_terms.message})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be redirected to our secure payment provider to complete the transaction. Your payment details are never stored on our servers."}),a.jsxs(P,{type:"submit",className:"w-full transition-transform hover:scale-[1.02]",disabled:n,children:[n?a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(RI,{className:"mr-2 h-4 w-4"}),n?"Redirecting to checkout":"Proceed to payment"]})]})}function a4e(){const[e]=V4(),t=e.get("skillId")??"",r=e.get("mode")||"one_time",[n,s]=y.useState(!1),{data:i,isLoading:o}=Q$e(t),l=y6(),c=u=>{t&&l.mutate({skill_id:t,mode:r,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace/checkout?skillId=${t}&mode=${r}`},{onError:()=>s(!0)})};return t?o?a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(ie,{className:"h-8 w-48"}),a.jsx(ie,{className:"h-64 w-full"})]}):a.jsxs("div",{className:"mx-auto max-w-2xl space-y-6 animate-fade-in-up",children:[a.jsx(P,{variant:"ghost",asChild:!0,children:a.jsxs(fe,{to:"/marketplace",children:[a.jsx(od,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Checkout"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete your purchase. You will be redirected to secure payment."})]}),a.jsx(s4e,{skill:i??null,mode:r,onSubmit:c,isSubmitting:l.isPending}),a.jsx(x6,{open:n,onOpenChange:s,onRetry:()=>s(!1)})]}):a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(P,{variant:"ghost",asChild:!0,children:a.jsxs(fe,{to:"/marketplace",children:[a.jsx(od,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsx(X,{children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-muted-foreground",children:"Select a skill from the marketplace to checkout."}),a.jsx(P,{asChild:!0,className:"mt-4",children:a.jsx(fe,{to:"/marketplace",children:"Browse Marketplace"})})]})})]})}function i4e({open:e,onOpenChange:t,subscription:r,skillName:n="Skill",onCancelSubscription:s,isSubmitting:i=!1}){if(!r)return null;const o=r.status==="completed"&&r.stripe_subscription_id;return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Manage subscription"}),a.jsxs(Te,{children:["View and manage your subscription for ",n,"."]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx(We,{variant:r.status==="completed"?"success":"secondary",children:r.status})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Amount"}),a.jsx("span",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:r.currency.toUpperCase()}).format(r.amount)})]}),r.created_at&&a.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Started"}),a.jsx("span",{children:new Date(r.created_at).toLocaleDateString()})]})]}),o&&a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Sx,{className:"h-4 w-4"}),"Renewal and payment methods are managed in the checkout provider."]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Close"}),o&&a.jsxs(P,{variant:"destructive",onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Zi,{className:"mr-2 h-4 w-4"}),i?"Cancelling":"Cancel subscription"]})]})]})})}function o4e(){var m;const[e,t]=y.useState(null),{data:r=[],isLoading:n}=v6(),{data:s=[]}=g6(),{data:i=[]}=X$e(),o=Z$e(),l=J$e(),c=new Map(s.map(g=>[g.id,g])),u=new Map(i.map(g=>[g.id,g])),d=g=>{const p=g.activation_status==="active"?"inactive":"active";o.mutate({id:g.id,data:{activation_status:p}})},f=g=>{t(g)},h=g=>g.transaction_id?u.get(g.transaction_id):i.find(p=>p.skill_id===g.skill_id&&p.stripe_subscription_id&&p.status==="completed");return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"My licenses"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your purchased skill licenses and subscriptions."})]}),a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(fe,{to:"/marketplace",children:[a.jsx(mc,{className:"mr-2 h-4 w-4"}),"Browse Marketplace"]})})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Licenses"}),a.jsx(ge,{children:"Activate or deactivate licenses. Manage subscriptions from the action below."})]}),a.jsx(Z,{children:n?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(g=>a.jsx(ie,{className:"h-16 w-full rounded-lg"},g))}):r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(mc,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No licenses yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Purchase a skill from the marketplace to see your licenses here."}),a.jsx(P,{asChild:!0,className:"mt-4",children:a.jsx(fe,{to:"/marketplace",children:"Go to Marketplace"})})]}):a.jsx("ul",{className:"space-y-3",children:r.map(g=>{const p=c.get(g.skill_id),x=h(g),b=g.activation_status==="active";return a.jsxs("li",{className:J("flex flex-wrap items-center justify-between gap-4 rounded-lg border border-border p-4 transition-colors hover:bg-secondary/30",!b&&"opacity-75"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:(p==null?void 0:p.name)??"Unknown skill"}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[a.jsx(We,{variant:g.activation_status==="active"?"success":g.activation_status==="expired"?"destructive":"secondary",children:g.activation_status}),g.expiration_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",new Date(g.expiration_date).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(x==null?void 0:x.stripe_subscription_id)&&a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>f(x),children:[a.jsx(Sx,{className:"mr-1.5 h-4 w-4"}),"Manage subscription"]}),g.activation_status!=="expired"&&a.jsx(P,{variant:"outline",size:"sm",onClick:()=>d(g),disabled:o.isPending,children:b?a.jsxs(a.Fragment,{children:[a.jsx(hN,{className:"mr-1.5 h-4 w-4"}),"Deactivate"]}):a.jsxs(a.Fragment,{children:[a.jsx(fN,{className:"mr-1.5 h-4 w-4"}),"Activate"]})})]})]},g.id)})})})]}),a.jsx(i4e,{open:!!e,onOpenChange:g=>!g&&t(null),subscription:e,skillName:e?(m=c.get(e.skill_id))==null?void 0:m.name:void 0,onCancelSubscription:()=>{e!=null&&e.stripe_subscription_id&&l.mutate(e.stripe_subscription_id,{onSettled:()=>t(null)})},isSubmitting:l.isPending})]})}async function l4e(e,t,r){try{const{data:{user:n}}=await F.auth.getUser(),s={error_code:"404",url_attempted:e,user_id:(n==null?void 0:n.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null)};await F.from("error_logs").insert(s)}catch{}}async function c4e(e,t,r,n){try{const{data:{user:s}}=await F.auth.getUser(),i={error_code:"500",url_attempted:e,user_id:(s==null?void 0:s.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null),metadata:n??{}};await F.from("error_logs").insert(i)}catch{}}function lM(){const e=ii(),t=e.pathname+e.search;y.useEffect(()=>{l4e(t,typeof document<"u"&&document.referrer||null,typeof navigator<"u"?navigator.userAgent:null)},[t]);const r=()=>{window.location.reload()};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(fe,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-4",children:[a.jsx(fe,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(P,{asChild:!0,size:"sm",children:a.jsx(fe,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:J("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-muted/50",children:a.jsx(d7,{className:"h-12 w-12 text-muted-foreground","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"Oops! Page Not Found"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."}),t!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Attempted: ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:t})]})]}),a.jsx(X,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(Z,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(P,{onClick:r,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(tf,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(fe,{to:"/",children:[a.jsx(EI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(fe,{to:"/dashboard",children:[a.jsx(lN,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsxs(fe,{to:"/help",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(lr,{className:"h-4 w-4"}),"Docs & support"]}),a.jsx("span",{className:"mx-2 text-muted-foreground/60",children:""}),a.jsx(fe,{to:"/logs",className:"inline-flex items-center text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Logs & tracing"})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(fe,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(fe,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(fe,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]})}async function u4e(e){var i;const{data:{user:t}}=await F.auth.getUser(),r={user_id:(t==null?void 0:t.id)??null,error_type:e.error_type.trim(),description:e.description.trim(),contact_email:((i=e.contact_email)==null?void 0:i.trim())||null,context:e.context??{}},{data:n,error:s}=await F.from("user_reports").insert(r).select("id").single();if(s)throw new Error(s.message);return{id:n.id}}const d4e=nt({description:xe().min(10,"Please provide at least 10 characters describing what happened").max(2e3,"Description must be 2000 characters or less"),contact_email:xe().max(255).optional().refine(e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),"Enter a valid email address"),comments:xe().max(1e3).optional()}),$0={description:"",contact_email:"",comments:""};function f4e({open:e,onOpenChange:t,onSubmit:r,errorType:n="500",errorContext:s}){const{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=et({resolver:tt(d4e),defaultValues:$0}),d=async h=>{var m,g;await r({error_type:n,description:h.description.trim(),contact_email:((m=h.contact_email)==null?void 0:m.trim())||null,context:{...s,comments:((g=h.comments)==null?void 0:g.trim())||void 0}}),l($0),t(!1)},f=h=>{h||l($0),t(h)};return a.jsx(Me,{open:e,onOpenChange:f,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"report-issue-form-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Report an issue"}),a.jsx(Te,{id:"report-issue-form-description",children:"Describe what happened so we can investigate. Your report helps us improve reliability."})]}),a.jsxs("form",{onSubmit:o(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"report-description",children:"What happened?"}),a.jsx("textarea",{id:"report-description",rows:4,placeholder:"e.g. I was on the dashboard and clicked Save; the page showed an error.",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("description"),"aria-invalid":!!c.description}),c.description&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.description.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"report-contact",children:"Contact email (optional)"}),a.jsx(me,{id:"report-contact",type:"email",placeholder:"you@example.com",...i("contact_email"),className:c.contact_email?"border-destructive":"",autoComplete:"email","aria-invalid":!!c.contact_email}),c.contact_email&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.contact_email.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"report-comments",children:"Additional details (optional)"}),a.jsx("textarea",{id:"report-comments",rows:2,placeholder:"Any other context that might help",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("comments")})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:u,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:u,children:u?"Sending":"Send report"})]})]})]})})}function h4e(){const e=ii(),[t,r]=y.useState(!1),n=e.pathname+e.search,s=typeof document<"u"&&document.referrer||null,i=typeof navigator<"u"?navigator.userAgent:null;y.useEffect(()=>{c4e(n,s,i,{path:n,referrer:s??void 0})},[n,s,i]);const o=()=>{window.location.reload()},l=async c=>{await u4e(c),B.success("Report sent",{description:"Thank you. Well use this to improve reliability."})};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(fe,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex gap-4",children:[a.jsx(fe,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(P,{asChild:!0,size:"sm",children:a.jsx(fe,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:J("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(eo,{className:"h-12 w-12 text-destructive","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"500 Server Error"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"Something went wrong on our side. Weve been notified and are looking into it. You can retry, go back home, or report more details below."}),n!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Page:"," ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:n})]})]}),a.jsx(X,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(Z,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(P,{onClick:o,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(tf,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(fe,{to:"/",children:[a.jsx(EI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsxs(P,{variant:"default",onClick:()=>r(!0),className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Report this issue to support",children:[a.jsx(ap,{className:"mr-2 h-4 w-4"}),"Report issue"]}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(fe,{to:"/dashboard",children:[a.jsx(lN,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Logs & security"}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-1 text-sm",children:[a.jsxs(fe,{to:"/logs",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(lr,{className:"h-4 w-4"}),"Logs & tracing"]}),a.jsxs(fe,{to:"/security",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(jr,{className:"h-4 w-4"}),"Security audit"]})]})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(fe,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(fe,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(fe,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})}),a.jsx(f4e,{open:t,onOpenChange:r,onSubmit:l,errorType:"500",errorContext:{url:n,referrer:s??void 0}})]})}const m4e=new kV({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});function p4e(){return a.jsxs(CV,{client:m4e,children:[a.jsx(XW,{children:a.jsx(e7,{children:a.jsx(nQ,{children:a.jsxs(BW,{children:[a.jsx(bt,{path:"/",element:a.jsx(XZ,{})}),a.jsx(bt,{path:"/login",element:a.jsx(ote,{})}),a.jsx(bt,{path:"/signup",element:a.jsx(cte,{})}),a.jsx(bt,{path:"/forgot-password",element:a.jsx(mte,{})}),a.jsx(bt,{path:"/verify-email",element:a.jsx(gte,{})}),a.jsx(bt,{path:"/download",element:a.jsx(pne,{})}),a.jsx(bt,{path:"/privacy",element:a.jsx(q$e,{})}),a.jsx(bt,{path:"/terms",element:a.jsx(B$e,{})}),a.jsx(bt,{path:"/500",element:a.jsx(h4e,{})}),a.jsxs(bt,{element:a.jsx(WZ,{}),children:[a.jsx(bt,{path:"/dashboard",element:a.jsx(Sse,{})}),a.jsx(bt,{path:"/profile",element:a.jsx(t7,{}),children:a.jsx(bt,{index:!0,element:a.jsx(mne,{})})}),a.jsx(bt,{path:"/chat",element:a.jsx(nae,{})}),a.jsx(bt,{path:"/channels",element:a.jsx(_ae,{})}),a.jsx(bt,{path:"/skills",element:a.jsx(zae,{})}),a.jsx(bt,{path:"/skill-editor/:skillId?",element:a.jsx(Yae,{})}),a.jsx(bt,{path:"/marketplace",element:a.jsx(r4e,{})}),a.jsx(bt,{path:"/marketplace/checkout",element:a.jsx(a4e,{})}),a.jsx(bt,{path:"/marketplace/licenses",element:a.jsx(o4e,{})}),a.jsx(bt,{path:"/nodes",element:a.jsx(_ie,{})}),a.jsx(bt,{path:"/cron",element:a.jsx(Eie,{})}),a.jsx(bt,{path:"/webhooks",element:a.jsx(toe,{})}),a.jsx(bt,{path:"/model-providers",element:a.jsx(rTe,{})}),a.jsx(bt,{path:"/browser",element:a.jsx(MTe,{})}),a.jsx(bt,{path:"/voice",element:a.jsx(nRe,{})}),a.jsx(bt,{path:"/secrets",element:a.jsx(DRe,{})}),a.jsx(bt,{path:"/settings",element:a.jsx(SRe,{})}),a.jsx(bt,{path:"/security",element:a.jsx(tMe,{})}),a.jsx(bt,{path:"/logs",element:a.jsx(vMe,{})}),a.jsx(bt,{path:"/admin",element:a.jsx(n$e,{})}),a.jsx(bt,{path:"/help",element:a.jsx(M$e,{})})]}),a.jsx(bt,{path:"/404",element:a.jsx(lM,{})}),a.jsx(bt,{path:"*",element:a.jsx(lM,{})})]})})})}),a.jsx(d9,{position:"top-right",richColors:!0,closeButton:!0})]})}const b6=document.getElementById("root");if(!b6)throw new Error("Root element not found");I0.createRoot(b6).render(a.jsx(R.StrictMode,{children:a.jsx(p4e,{})}));

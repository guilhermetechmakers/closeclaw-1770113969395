var vk=e=>{throw TypeError(e)};var nb=(e,t,r)=>t.has(e)||vk("Cannot "+r);var F=(e,t,r)=>(nb(e,t,"read from private field"),r?r.call(e):t.get(e)),$e=(e,t,r)=>t.has(e)?vk("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),xe=(e,t,r,n)=>(nb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),st=(e,t,r)=>(nb(e,t,"access private method"),r);var Hp=(e,t,r,n)=>({set _(s){xe(e,t,s,r)},get _(){return F(e,t,n)}});function TB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iR={exports:{}},cy={},aR={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=Symbol.for("react.element"),RB=Symbol.for("react.portal"),$B=Symbol.for("react.fragment"),MB=Symbol.for("react.strict_mode"),IB=Symbol.for("react.profiler"),DB=Symbol.for("react.provider"),LB=Symbol.for("react.context"),FB=Symbol.for("react.forward_ref"),UB=Symbol.for("react.suspense"),BB=Symbol.for("react.memo"),zB=Symbol.for("react.lazy"),yk=Symbol.iterator;function qB(e){return e===null||typeof e!="object"?null:(e=yk&&e[yk]||e["@@iterator"],typeof e=="function"?e:null)}var oR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lR=Object.assign,cR={};function vd(e,t,r){this.props=e,this.context=t,this.refs=cR,this.updater=r||oR}vd.prototype.isReactComponent={};vd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uR(){}uR.prototype=vd.prototype;function r1(e,t,r){this.props=e,this.context=t,this.refs=cR,this.updater=r||oR}var n1=r1.prototype=new uR;n1.constructor=r1;lR(n1,vd.prototype);n1.isPureReactComponent=!0;var xk=Array.isArray,dR=Object.prototype.hasOwnProperty,s1={current:null},fR={key:!0,ref:!0,__self:!0,__source:!0};function hR(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)dR.call(t,n)&&!fR.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:bp,type:e,key:i,ref:o,props:s,_owner:s1.current}}function WB(e,t){return{$$typeof:bp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function i1(e){return typeof e=="object"&&e!==null&&e.$$typeof===bp}function VB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bk=/\/+/g;function sb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VB(""+e.key):t.toString(36)}function Wm(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bp:case RB:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+sb(o,0):n,xk(s)?(r="",e!=null&&(r=e.replace(bk,"$&/")+"/"),Wm(s,t,r,"",function(u){return u})):s!=null&&(i1(s)&&(s=WB(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bk,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",xk(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+sb(i,l);o+=Wm(i,t,r,c,s)}else if(c=qB(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+sb(i,l++),o+=Wm(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gp(e,t,r){if(e==null)return e;var n=[],s=0;return Wm(e,n,"","",function(i){return t.call(r,i,s++)}),n}function HB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xn={current:null},Vm={transition:null},KB={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:Vm,ReactCurrentOwner:s1};function pR(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:Gp,forEach:function(e,t,r){Gp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gp(e,function(){t++}),t},toArray:function(e){return Gp(e,function(t){return t})||[]},only:function(e){if(!i1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ot.Component=vd;ot.Fragment=$B;ot.Profiler=IB;ot.PureComponent=r1;ot.StrictMode=MB;ot.Suspense=UB;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KB;ot.act=pR;ot.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=lR({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=s1.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)dR.call(t,c)&&!fR.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bp,type:e.type,key:s,ref:i,props:n,_owner:o}};ot.createContext=function(e){return e={$$typeof:LB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DB,_context:e},e.Consumer=e};ot.createElement=hR;ot.createFactory=function(e){var t=hR.bind(null,e);return t.type=e,t};ot.createRef=function(){return{current:null}};ot.forwardRef=function(e){return{$$typeof:FB,render:e}};ot.isValidElement=i1;ot.lazy=function(e){return{$$typeof:zB,_payload:{_status:-1,_result:e},_init:HB}};ot.memo=function(e,t){return{$$typeof:BB,type:e,compare:t===void 0?null:t}};ot.startTransition=function(e){var t=Vm.transition;Vm.transition={};try{e()}finally{Vm.transition=t}};ot.unstable_act=pR;ot.useCallback=function(e,t){return xn.current.useCallback(e,t)};ot.useContext=function(e){return xn.current.useContext(e)};ot.useDebugValue=function(){};ot.useDeferredValue=function(e){return xn.current.useDeferredValue(e)};ot.useEffect=function(e,t){return xn.current.useEffect(e,t)};ot.useId=function(){return xn.current.useId()};ot.useImperativeHandle=function(e,t,r){return xn.current.useImperativeHandle(e,t,r)};ot.useInsertionEffect=function(e,t){return xn.current.useInsertionEffect(e,t)};ot.useLayoutEffect=function(e,t){return xn.current.useLayoutEffect(e,t)};ot.useMemo=function(e,t){return xn.current.useMemo(e,t)};ot.useReducer=function(e,t,r){return xn.current.useReducer(e,t,r)};ot.useRef=function(e){return xn.current.useRef(e)};ot.useState=function(e){return xn.current.useState(e)};ot.useSyncExternalStore=function(e,t,r){return xn.current.useSyncExternalStore(e,t,r)};ot.useTransition=function(){return xn.current.useTransition()};ot.version="18.3.1";aR.exports=ot;var x=aR.exports;const P=Lt(x),uy=TB({__proto__:null,default:P},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GB=x,YB=Symbol.for("react.element"),QB=Symbol.for("react.fragment"),XB=Object.prototype.hasOwnProperty,JB=GB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZB={key:!0,ref:!0,__self:!0,__source:!0};function mR(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)XB.call(t,n)&&!ZB.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:YB,type:e,key:i,ref:o,props:s,_owner:JB.current}}cy.Fragment=QB;cy.jsx=mR;cy.jsxs=mR;iR.exports=cy;var a=iR.exports,Fw={},gR={exports:{}},is={},vR={exports:{}},yR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,R){var $=L.length;L.push(R);e:for(;0<$;){var J=$-1>>>1,G=L[J];if(0<s(G,R))L[J]=R,L[$]=G,$=J;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var R=L[0],$=L.pop();if($!==R){L[0]=$;e:for(var J=0,G=L.length,ie=G>>>1;J<ie;){var he=2*(J+1)-1,Le=L[he],Fe=he+1,ce=L[Fe];if(0>s(Le,$))Fe<G&&0>s(ce,Le)?(L[J]=ce,L[Fe]=$,J=Fe):(L[J]=Le,L[he]=$,J=he);else if(Fe<G&&0>s(ce,$))L[J]=ce,L[Fe]=$,J=Fe;else break e}}return R}function s(L,R){var $=L.sortIndex-R.sortIndex;return $!==0?$:L.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=L)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function S(L){if(m=!1,w(L),!g)if(r(c)!==null)g=!0,A(j);else{var R=r(u);R!==null&&z(S,R.startTime-L)}}function j(L,R){g=!1,m&&(m=!1,y(k),k=-1),p=!0;var $=h;try{for(w(R),f=r(c);f!==null&&(!(f.expirationTime>R)||L&&!I());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var G=J(f.expirationTime<=R);R=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),w(R)}else n(c);f=r(c)}if(f!==null)var ie=!0;else{var he=r(u);he!==null&&z(S,he.startTime-R),ie=!1}return ie}finally{f=null,h=$,p=!1}}var _=!1,N=null,k=-1,C=5,T=-1;function I(){return!(e.unstable_now()-T<C)}function E(){if(N!==null){var L=e.unstable_now();T=L;var R=!0;try{R=N(!0,L)}finally{R?U():(_=!1,N=null)}}else _=!1}var U;if(typeof b=="function")U=function(){b(E)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,B=O.port2;O.port1.onmessage=E,U=function(){B.postMessage(null)}}else U=function(){v(E,0)};function A(L){N=L,_||(_=!0,U())}function z(L,R){k=v(function(){L(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,A(j))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var $=h;h=R;try{return L()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,R){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=h;h=L;try{return R()}finally{h=$}},e.unstable_scheduleCallback=function(L,R,$){var J=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?J+$:J):$=J,L){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,L={id:d++,callback:R,priorityLevel:L,startTime:$,expirationTime:G,sortIndex:-1},$>J?(L.sortIndex=$,t(u,L),r(c)===null&&L===r(u)&&(m?(y(k),k=-1):m=!0,z(S,$-J))):(L.sortIndex=G,t(c,L),g||p||(g=!0,A(j))),L},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(L){var R=h;return function(){var $=h;h=R;try{return L.apply(this,arguments)}finally{h=$}}}})(yR);vR.exports=yR;var e6=vR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t6=x,ts=e6;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xR=new Set,Qf={};function lc(e,t){Pu(e,t),Pu(e+"Capture",t)}function Pu(e,t){for(Qf[e]=t,e=0;e<t.length;e++)xR.add(t[e])}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uw=Object.prototype.hasOwnProperty,r6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wk={},jk={};function n6(e){return Uw.call(jk,e)?!0:Uw.call(wk,e)?!1:r6.test(e)?jk[e]=!0:(wk[e]=!0,!1)}function s6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function i6(e,t,r,n){if(t===null||typeof t>"u"||s6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bn(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){en[e]=new bn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];en[t]=new bn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){en[e]=new bn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){en[e]=new bn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){en[e]=new bn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){en[e]=new bn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){en[e]=new bn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){en[e]=new bn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){en[e]=new bn(e,5,!1,e.toLowerCase(),null,!1,!1)});var a1=/[\-:]([a-z])/g;function o1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(a1,o1);en[t]=new bn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(a1,o1);en[t]=new bn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(a1,o1);en[t]=new bn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){en[e]=new bn(e,1,!1,e.toLowerCase(),null,!1,!1)});en.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){en[e]=new bn(e,1,!1,e.toLowerCase(),null,!0,!0)});function l1(e,t,r,n){var s=en.hasOwnProperty(t)?en[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(i6(t,r,s,n)&&(r=null),n||s===null?n6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ea=t6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yp=Symbol.for("react.element"),zc=Symbol.for("react.portal"),qc=Symbol.for("react.fragment"),c1=Symbol.for("react.strict_mode"),Bw=Symbol.for("react.profiler"),bR=Symbol.for("react.provider"),wR=Symbol.for("react.context"),u1=Symbol.for("react.forward_ref"),zw=Symbol.for("react.suspense"),qw=Symbol.for("react.suspense_list"),d1=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),jR=Symbol.for("react.offscreen"),_k=Symbol.iterator;function Yd(e){return e===null||typeof e!="object"?null:(e=_k&&e[_k]||e["@@iterator"],typeof e=="function"?e:null)}var cr=Object.assign,ib;function wf(e){if(ib===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ib=t&&t[1]||""}return`
`+ib+e}var ab=!1;function ob(e,t){if(!e||ab)return"";ab=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ab=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wf(e):""}function a6(e){switch(e.tag){case 5:return wf(e.type);case 16:return wf("Lazy");case 13:return wf("Suspense");case 19:return wf("SuspenseList");case 0:case 2:case 15:return e=ob(e.type,!1),e;case 11:return e=ob(e.type.render,!1),e;case 1:return e=ob(e.type,!0),e;default:return""}}function Ww(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qc:return"Fragment";case zc:return"Portal";case Bw:return"Profiler";case c1:return"StrictMode";case zw:return"Suspense";case qw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wR:return(e.displayName||"Context")+".Consumer";case bR:return(e._context.displayName||"Context")+".Provider";case u1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case d1:return t=e.displayName||null,t!==null?t:Ww(e.type)||"Memo";case Ga:t=e._payload,e=e._init;try{return Ww(e(t))}catch{}}return null}function o6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ww(t);case 8:return t===c1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ro(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _R(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l6(e){var t=_R(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qp(e){e._valueTracker||(e._valueTracker=l6(e))}function SR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_R(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function lg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vw(e,t){var r=t.checked;return cr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ro(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function NR(e,t){t=t.checked,t!=null&&l1(e,"checked",t,!1)}function Hw(e,t){NR(e,t);var r=Ro(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kw(e,t.type,r):t.hasOwnProperty("defaultValue")&&Kw(e,t.type,Ro(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Kw(e,t,r){(t!=="number"||lg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jf=Array.isArray;function su(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ro(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return cr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(le(92));if(jf(r)){if(1<r.length)throw Error(le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ro(r)}}function kR(e,t){var r=Ro(t.value),n=Ro(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ck(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function CR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?CR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xp,ER=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xp=Xp||document.createElement("div"),Xp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Tf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c6=["Webkit","ms","Moz","O"];Object.keys(Tf).forEach(function(e){c6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tf[t]=Tf[e]})});function OR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Tf.hasOwnProperty(e)&&Tf[e]?(""+t).trim():t+"px"}function PR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=OR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var u6=cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qw(e,t){if(t){if(u6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function Xw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jw=null;function f1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zw=null,iu=null,au=null;function Ek(e){if(e=_p(e)){if(typeof Zw!="function")throw Error(le(280));var t=e.stateNode;t&&(t=my(t),Zw(e.stateNode,e.type,t))}}function AR(e){iu?au?au.push(e):au=[e]:iu=e}function TR(){if(iu){var e=iu,t=au;if(au=iu=null,Ek(e),t)for(e=0;e<t.length;e++)Ek(t[e])}}function RR(e,t){return e(t)}function $R(){}var lb=!1;function MR(e,t,r){if(lb)return e(t,r);lb=!0;try{return RR(e,t,r)}finally{lb=!1,(iu!==null||au!==null)&&($R(),TR())}}function Jf(e,t){var r=e.stateNode;if(r===null)return null;var n=my(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(le(231,t,typeof r));return r}var e0=!1;if(ma)try{var Qd={};Object.defineProperty(Qd,"passive",{get:function(){e0=!0}}),window.addEventListener("test",Qd,Qd),window.removeEventListener("test",Qd,Qd)}catch{e0=!1}function d6(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Rf=!1,cg=null,ug=!1,t0=null,f6={onError:function(e){Rf=!0,cg=e}};function h6(e,t,r,n,s,i,o,l,c){Rf=!1,cg=null,d6.apply(f6,arguments)}function p6(e,t,r,n,s,i,o,l,c){if(h6.apply(this,arguments),Rf){if(Rf){var u=cg;Rf=!1,cg=null}else throw Error(le(198));ug||(ug=!0,t0=u)}}function cc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function IR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ok(e){if(cc(e)!==e)throw Error(le(188))}function m6(e){var t=e.alternate;if(!t){if(t=cc(e),t===null)throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ok(s),e;if(i===n)return Ok(s),t;i=i.sibling}throw Error(le(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?e:t}function DR(e){return e=m6(e),e!==null?LR(e):null}function LR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=LR(e);if(t!==null)return t;e=e.sibling}return null}var FR=ts.unstable_scheduleCallback,Pk=ts.unstable_cancelCallback,g6=ts.unstable_shouldYield,v6=ts.unstable_requestPaint,mr=ts.unstable_now,y6=ts.unstable_getCurrentPriorityLevel,h1=ts.unstable_ImmediatePriority,UR=ts.unstable_UserBlockingPriority,dg=ts.unstable_NormalPriority,x6=ts.unstable_LowPriority,BR=ts.unstable_IdlePriority,dy=null,Ci=null;function b6(e){if(Ci&&typeof Ci.onCommitFiberRoot=="function")try{Ci.onCommitFiberRoot(dy,e,void 0,(e.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:_6,w6=Math.log,j6=Math.LN2;function _6(e){return e>>>=0,e===0?32:31-(w6(e)/j6|0)|0}var Jp=64,Zp=4194304;function _f(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=_f(l):(i&=o,i!==0&&(n=_f(i)))}else o=r&~s,o!==0?n=_f(o):i!==0&&(n=_f(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ri(t),s=1<<r,n|=e[r],t&=~s;return n}function S6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N6(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ri(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=S6(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function r0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zR(){var e=Jp;return Jp<<=1,!(Jp&4194240)&&(Jp=64),e}function cb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ri(t),e[t]=r}function k6(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ri(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function p1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ri(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var At=0;function qR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WR,m1,VR,HR,KR,n0=!1,em=[],bo=null,wo=null,jo=null,Zf=new Map,eh=new Map,Za=[],C6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ak(e,t){switch(e){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Zf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":eh.delete(t.pointerId)}}function Xd(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=_p(t),t!==null&&m1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function E6(e,t,r,n,s){switch(t){case"focusin":return bo=Xd(bo,e,t,r,n,s),!0;case"dragenter":return wo=Xd(wo,e,t,r,n,s),!0;case"mouseover":return jo=Xd(jo,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Zf.set(i,Xd(Zf.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,eh.set(i,Xd(eh.get(i)||null,e,t,r,n,s)),!0}return!1}function GR(e){var t=vl(e.target);if(t!==null){var r=cc(t);if(r!==null){if(t=r.tag,t===13){if(t=IR(r),t!==null){e.blockedOn=t,KR(e.priority,function(){VR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=s0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Jw=n,r.target.dispatchEvent(n),Jw=null}else return t=_p(r),t!==null&&m1(t),e.blockedOn=r,!1;t.shift()}return!0}function Tk(e,t,r){Hm(e)&&r.delete(t)}function O6(){n0=!1,bo!==null&&Hm(bo)&&(bo=null),wo!==null&&Hm(wo)&&(wo=null),jo!==null&&Hm(jo)&&(jo=null),Zf.forEach(Tk),eh.forEach(Tk)}function Jd(e,t){e.blockedOn===t&&(e.blockedOn=null,n0||(n0=!0,ts.unstable_scheduleCallback(ts.unstable_NormalPriority,O6)))}function th(e){function t(s){return Jd(s,e)}if(0<em.length){Jd(em[0],e);for(var r=1;r<em.length;r++){var n=em[r];n.blockedOn===e&&(n.blockedOn=null)}}for(bo!==null&&Jd(bo,e),wo!==null&&Jd(wo,e),jo!==null&&Jd(jo,e),Zf.forEach(t),eh.forEach(t),r=0;r<Za.length;r++)n=Za[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Za.length&&(r=Za[0],r.blockedOn===null);)GR(r),r.blockedOn===null&&Za.shift()}var ou=Ea.ReactCurrentBatchConfig,hg=!0;function P6(e,t,r,n){var s=At,i=ou.transition;ou.transition=null;try{At=1,g1(e,t,r,n)}finally{At=s,ou.transition=i}}function A6(e,t,r,n){var s=At,i=ou.transition;ou.transition=null;try{At=4,g1(e,t,r,n)}finally{At=s,ou.transition=i}}function g1(e,t,r,n){if(hg){var s=s0(e,t,r,n);if(s===null)xb(e,t,n,pg,r),Ak(e,n);else if(E6(s,e,t,r,n))n.stopPropagation();else if(Ak(e,n),t&4&&-1<C6.indexOf(e)){for(;s!==null;){var i=_p(s);if(i!==null&&WR(i),i=s0(e,t,r,n),i===null&&xb(e,t,n,pg,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else xb(e,t,n,null,r)}}var pg=null;function s0(e,t,r,n){if(pg=null,e=f1(n),e=vl(e),e!==null)if(t=cc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=IR(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pg=e,null}function YR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y6()){case h1:return 1;case UR:return 4;case dg:case x6:return 16;case BR:return 536870912;default:return 16}default:return 16}}var po=null,v1=null,Km=null;function QR(){if(Km)return Km;var e,t=v1,r=t.length,n,s="value"in po?po.value:po.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Km=s.slice(e,1<n?1-n:void 0)}function Gm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tm(){return!0}function Rk(){return!1}function as(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?tm:Rk,this.isPropagationStopped=Rk,this}return cr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=tm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=tm)},persist:function(){},isPersistent:tm}),t}var yd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y1=as(yd),jp=cr({},yd,{view:0,detail:0}),T6=as(jp),ub,db,Zd,fy=cr({},jp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zd&&(Zd&&e.type==="mousemove"?(ub=e.screenX-Zd.screenX,db=e.screenY-Zd.screenY):db=ub=0,Zd=e),ub)},movementY:function(e){return"movementY"in e?e.movementY:db}}),$k=as(fy),R6=cr({},fy,{dataTransfer:0}),$6=as(R6),M6=cr({},jp,{relatedTarget:0}),fb=as(M6),I6=cr({},yd,{animationName:0,elapsedTime:0,pseudoElement:0}),D6=as(I6),L6=cr({},yd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),F6=as(L6),U6=cr({},yd,{data:0}),Mk=as(U6),B6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=q6[e])?!!t[e]:!1}function x1(){return W6}var V6=cr({},jp,{key:function(e){if(e.key){var t=B6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x1,charCode:function(e){return e.type==="keypress"?Gm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),H6=as(V6),K6=cr({},fy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ik=as(K6),G6=cr({},jp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x1}),Y6=as(G6),Q6=cr({},yd,{propertyName:0,elapsedTime:0,pseudoElement:0}),X6=as(Q6),J6=cr({},fy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z6=as(J6),e8=[9,13,27,32],b1=ma&&"CompositionEvent"in window,$f=null;ma&&"documentMode"in document&&($f=document.documentMode);var t8=ma&&"TextEvent"in window&&!$f,XR=ma&&(!b1||$f&&8<$f&&11>=$f),Dk=" ",Lk=!1;function JR(e,t){switch(e){case"keyup":return e8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wc=!1;function r8(e,t){switch(e){case"compositionend":return ZR(t);case"keypress":return t.which!==32?null:(Lk=!0,Dk);case"textInput":return e=t.data,e===Dk&&Lk?null:e;default:return null}}function n8(e,t){if(Wc)return e==="compositionend"||!b1&&JR(e,t)?(e=QR(),Km=v1=po=null,Wc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return XR&&t.locale!=="ko"?null:t.data;default:return null}}var s8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s8[e.type]:t==="textarea"}function e$(e,t,r,n){AR(n),t=mg(t,"onChange"),0<t.length&&(r=new y1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Mf=null,rh=null;function i8(e){d$(e,0)}function hy(e){var t=Kc(e);if(SR(t))return e}function a8(e,t){if(e==="change")return t}var t$=!1;if(ma){var hb;if(ma){var pb="oninput"in document;if(!pb){var Uk=document.createElement("div");Uk.setAttribute("oninput","return;"),pb=typeof Uk.oninput=="function"}hb=pb}else hb=!1;t$=hb&&(!document.documentMode||9<document.documentMode)}function Bk(){Mf&&(Mf.detachEvent("onpropertychange",r$),rh=Mf=null)}function r$(e){if(e.propertyName==="value"&&hy(rh)){var t=[];e$(t,rh,e,f1(e)),MR(i8,t)}}function o8(e,t,r){e==="focusin"?(Bk(),Mf=t,rh=r,Mf.attachEvent("onpropertychange",r$)):e==="focusout"&&Bk()}function l8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hy(rh)}function c8(e,t){if(e==="click")return hy(t)}function u8(e,t){if(e==="input"||e==="change")return hy(t)}function d8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ii=typeof Object.is=="function"?Object.is:d8;function nh(e,t){if(ii(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Uw.call(t,s)||!ii(e[s],t[s]))return!1}return!0}function zk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qk(e,t){var r=zk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zk(r)}}function n$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?n$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function s$(){for(var e=window,t=lg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=lg(e.document)}return t}function w1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function f8(e){var t=s$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&n$(r.ownerDocument.documentElement,r)){if(n!==null&&w1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=qk(r,i);var o=qk(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var h8=ma&&"documentMode"in document&&11>=document.documentMode,Vc=null,i0=null,If=null,a0=!1;function Wk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;a0||Vc==null||Vc!==lg(n)||(n=Vc,"selectionStart"in n&&w1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),If&&nh(If,n)||(If=n,n=mg(i0,"onSelect"),0<n.length&&(t=new y1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vc)))}function rm(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hc={animationend:rm("Animation","AnimationEnd"),animationiteration:rm("Animation","AnimationIteration"),animationstart:rm("Animation","AnimationStart"),transitionend:rm("Transition","TransitionEnd")},mb={},i$={};ma&&(i$=document.createElement("div").style,"AnimationEvent"in window||(delete Hc.animationend.animation,delete Hc.animationiteration.animation,delete Hc.animationstart.animation),"TransitionEvent"in window||delete Hc.transitionend.transition);function py(e){if(mb[e])return mb[e];if(!Hc[e])return e;var t=Hc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in i$)return mb[e]=t[r];return e}var a$=py("animationend"),o$=py("animationiteration"),l$=py("animationstart"),c$=py("transitionend"),u$=new Map,Vk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(e,t){u$.set(e,t),lc(t,[e])}for(var gb=0;gb<Vk.length;gb++){var vb=Vk[gb],p8=vb.toLowerCase(),m8=vb[0].toUpperCase()+vb.slice(1);zo(p8,"on"+m8)}zo(a$,"onAnimationEnd");zo(o$,"onAnimationIteration");zo(l$,"onAnimationStart");zo("dblclick","onDoubleClick");zo("focusin","onFocus");zo("focusout","onBlur");zo(c$,"onTransitionEnd");Pu("onMouseEnter",["mouseout","mouseover"]);Pu("onMouseLeave",["mouseout","mouseover"]);Pu("onPointerEnter",["pointerout","pointerover"]);Pu("onPointerLeave",["pointerout","pointerover"]);lc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lc("onBeforeInput",["compositionend","keypress","textInput","paste"]);lc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sf));function Hk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,p6(n,t,void 0,e),e.currentTarget=null}function d$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Hk(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Hk(s,l,u),i=c}}}if(ug)throw e=t0,ug=!1,t0=null,e}function Yt(e,t){var r=t[d0];r===void 0&&(r=t[d0]=new Set);var n=e+"__bubble";r.has(n)||(f$(t,e,2,!1),r.add(n))}function yb(e,t,r){var n=0;t&&(n|=4),f$(r,e,n,t)}var nm="_reactListening"+Math.random().toString(36).slice(2);function sh(e){if(!e[nm]){e[nm]=!0,xR.forEach(function(r){r!=="selectionchange"&&(g8.has(r)||yb(r,!1,e),yb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nm]||(t[nm]=!0,yb("selectionchange",!1,t))}}function f$(e,t,r,n){switch(YR(t)){case 1:var s=P6;break;case 4:s=A6;break;default:s=g1}r=s.bind(null,t,r,e),s=void 0,!e0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function xb(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=vl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}MR(function(){var u=i,d=f1(r),f=[];e:{var h=u$.get(e);if(h!==void 0){var p=y1,g=e;switch(e){case"keypress":if(Gm(r)===0)break e;case"keydown":case"keyup":p=H6;break;case"focusin":g="focus",p=fb;break;case"focusout":g="blur",p=fb;break;case"beforeblur":case"afterblur":p=fb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$k;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Y6;break;case a$:case o$:case l$:p=D6;break;case c$:p=X6;break;case"scroll":p=T6;break;case"wheel":p=Z6;break;case"copy":case"cut":case"paste":p=F6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ik}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var b=u,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=Jf(b,y),S!=null&&m.push(ih(b,S,w)))),v)break;b=b.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Jw&&(g=r.relatedTarget||r.fromElement)&&(vl(g)||g[ga]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?vl(g):null,g!==null&&(v=cc(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=$k,S="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=Ik,S="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?h:Kc(p),w=g==null?h:Kc(g),h=new m(S,b+"leave",p,r,d),h.target=v,h.relatedTarget=w,S=null,vl(d)===u&&(m=new m(y,b+"enter",g,r,d),m.target=w,m.relatedTarget=v,S=m),v=S,p&&g)t:{for(m=p,y=g,b=0,w=m;w;w=wc(w))b++;for(w=0,S=y;S;S=wc(S))w++;for(;0<b-w;)m=wc(m),b--;for(;0<w-b;)y=wc(y),w--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=wc(m),y=wc(y)}m=null}else m=null;p!==null&&Kk(f,h,p,m,!1),g!==null&&v!==null&&Kk(f,v,g,m,!0)}}e:{if(h=u?Kc(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=a8;else if(Fk(h))if(t$)j=u8;else{j=l8;var _=o8}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=c8);if(j&&(j=j(e,u))){e$(f,j,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Kw(h,"number",h.value)}switch(_=u?Kc(u):window,e){case"focusin":(Fk(_)||_.contentEditable==="true")&&(Vc=_,i0=u,If=null);break;case"focusout":If=i0=Vc=null;break;case"mousedown":a0=!0;break;case"contextmenu":case"mouseup":case"dragend":a0=!1,Wk(f,r,d);break;case"selectionchange":if(h8)break;case"keydown":case"keyup":Wk(f,r,d)}var N;if(b1)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wc?JR(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(XR&&r.locale!=="ko"&&(Wc||k!=="onCompositionStart"?k==="onCompositionEnd"&&Wc&&(N=QR()):(po=d,v1="value"in po?po.value:po.textContent,Wc=!0)),_=mg(u,k),0<_.length&&(k=new Mk(k,e,null,r,d),f.push({event:k,listeners:_}),N?k.data=N:(N=ZR(r),N!==null&&(k.data=N)))),(N=t8?r8(e,r):n8(e,r))&&(u=mg(u,"onBeforeInput"),0<u.length&&(d=new Mk("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}d$(f,t)})}function ih(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mg(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jf(e,r),i!=null&&n.unshift(ih(e,i,s)),i=Jf(e,t),i!=null&&n.push(ih(e,i,s))),e=e.return}return n}function wc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kk(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Jf(r,i),c!=null&&o.unshift(ih(r,c,l))):s||(c=Jf(r,i),c!=null&&o.push(ih(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var v8=/\r\n?/g,y8=/\u0000|\uFFFD/g;function Gk(e){return(typeof e=="string"?e:""+e).replace(v8,`
`).replace(y8,"")}function sm(e,t,r){if(t=Gk(t),Gk(e)!==t&&r)throw Error(le(425))}function gg(){}var o0=null,l0=null;function c0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var u0=typeof setTimeout=="function"?setTimeout:void 0,x8=typeof clearTimeout=="function"?clearTimeout:void 0,Yk=typeof Promise=="function"?Promise:void 0,b8=typeof queueMicrotask=="function"?queueMicrotask:typeof Yk<"u"?function(e){return Yk.resolve(null).then(e).catch(w8)}:u0;function w8(e){setTimeout(function(){throw e})}function bb(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),th(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);th(t)}function _o(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var xd=Math.random().toString(36).slice(2),ji="__reactFiber$"+xd,ah="__reactProps$"+xd,ga="__reactContainer$"+xd,d0="__reactEvents$"+xd,j8="__reactListeners$"+xd,_8="__reactHandles$"+xd;function vl(e){var t=e[ji];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ga]||r[ji]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Qk(e);e!==null;){if(r=e[ji])return r;e=Qk(e)}return t}e=r,r=e.parentNode}return null}function _p(e){return e=e[ji]||e[ga],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function my(e){return e[ah]||null}var f0=[],Gc=-1;function qo(e){return{current:e}}function Jt(e){0>Gc||(e.current=f0[Gc],f0[Gc]=null,Gc--)}function Wt(e,t){Gc++,f0[Gc]=e.current,e.current=t}var $o={},dn=qo($o),$n=qo(!1),Bl=$o;function Au(e,t){var r=e.type.contextTypes;if(!r)return $o;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Mn(e){return e=e.childContextTypes,e!=null}function vg(){Jt($n),Jt(dn)}function Xk(e,t,r){if(dn.current!==$o)throw Error(le(168));Wt(dn,t),Wt($n,r)}function h$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(le(108,o6(e)||"Unknown",s));return cr({},r,n)}function yg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$o,Bl=dn.current,Wt(dn,e),Wt($n,$n.current),!0}function Jk(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=h$(e,t,Bl),n.__reactInternalMemoizedMergedChildContext=e,Jt($n),Jt(dn),Wt(dn,e)):Jt($n),Wt($n,r)}var Xi=null,gy=!1,wb=!1;function p$(e){Xi===null?Xi=[e]:Xi.push(e)}function S8(e){gy=!0,p$(e)}function Wo(){if(!wb&&Xi!==null){wb=!0;var e=0,t=At;try{var r=Xi;for(At=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Xi=null,gy=!1}catch(s){throw Xi!==null&&(Xi=Xi.slice(e+1)),FR(h1,Wo),s}finally{At=t,wb=!1}}return null}var Yc=[],Qc=0,xg=null,bg=0,hs=[],ps=0,zl=null,ra=1,na="";function ol(e,t){Yc[Qc++]=bg,Yc[Qc++]=xg,xg=e,bg=t}function m$(e,t,r){hs[ps++]=ra,hs[ps++]=na,hs[ps++]=zl,zl=e;var n=ra;e=na;var s=32-ri(n)-1;n&=~(1<<s),r+=1;var i=32-ri(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ra=1<<32-ri(t)+s|r<<s|n,na=i+e}else ra=1<<i|r<<s|n,na=e}function j1(e){e.return!==null&&(ol(e,1),m$(e,1,0))}function _1(e){for(;e===xg;)xg=Yc[--Qc],Yc[Qc]=null,bg=Yc[--Qc],Yc[Qc]=null;for(;e===zl;)zl=hs[--ps],hs[ps]=null,na=hs[--ps],hs[ps]=null,ra=hs[--ps],hs[ps]=null}var Jn=null,Xn=null,tr=!1,Qs=null;function g$(e,t){var r=gs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jn=e,Xn=_o(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jn=e,Xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zl!==null?{id:ra,overflow:na}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jn=e,Xn=null,!0):!1;default:return!1}}function h0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function p0(e){if(tr){var t=Xn;if(t){var r=t;if(!Zk(e,t)){if(h0(e))throw Error(le(418));t=_o(r.nextSibling);var n=Jn;t&&Zk(e,t)?g$(n,r):(e.flags=e.flags&-4097|2,tr=!1,Jn=e)}}else{if(h0(e))throw Error(le(418));e.flags=e.flags&-4097|2,tr=!1,Jn=e}}}function eC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jn=e}function im(e){if(e!==Jn)return!1;if(!tr)return eC(e),tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!c0(e.type,e.memoizedProps)),t&&(t=Xn)){if(h0(e))throw v$(),Error(le(418));for(;t;)g$(e,t),t=_o(t.nextSibling)}if(eC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xn=_o(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xn=null}}else Xn=Jn?_o(e.stateNode.nextSibling):null;return!0}function v$(){for(var e=Xn;e;)e=_o(e.nextSibling)}function Tu(){Xn=Jn=null,tr=!1}function S1(e){Qs===null?Qs=[e]:Qs.push(e)}var N8=Ea.ReactCurrentBatchConfig;function ef(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function am(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tC(e){var t=e._init;return t(e._payload)}function y$(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function s(y,b){return y=Co(y,b),y.index=0,y.sibling=null,y}function i(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,w,S){return b===null||b.tag!==6?(b=Eb(w,y.mode,S),b.return=y,b):(b=s(b,w),b.return=y,b)}function c(y,b,w,S){var j=w.type;return j===qc?d(y,b,w.props.children,S,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ga&&tC(j)===b.type)?(S=s(b,w.props),S.ref=ef(y,b,w),S.return=y,S):(S=tg(w.type,w.key,w.props,null,y.mode,S),S.ref=ef(y,b,w),S.return=y,S)}function u(y,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Ob(w,y.mode,S),b.return=y,b):(b=s(b,w.children||[]),b.return=y,b)}function d(y,b,w,S,j){return b===null||b.tag!==7?(b=Ll(w,y.mode,S,j),b.return=y,b):(b=s(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Eb(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yp:return w=tg(b.type,b.key,b.props,null,y.mode,w),w.ref=ef(y,null,b),w.return=y,w;case zc:return b=Ob(b,y.mode,w),b.return=y,b;case Ga:var S=b._init;return f(y,S(b._payload),w)}if(jf(b)||Yd(b))return b=Ll(b,y.mode,w,null),b.return=y,b;am(y,b)}return null}function h(y,b,w,S){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(y,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yp:return w.key===j?c(y,b,w,S):null;case zc:return w.key===j?u(y,b,w,S):null;case Ga:return j=w._init,h(y,b,j(w._payload),S)}if(jf(w)||Yd(w))return j!==null?null:d(y,b,w,S,null);am(y,w)}return null}function p(y,b,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,l(b,y,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yp:return y=y.get(S.key===null?w:S.key)||null,c(b,y,S,j);case zc:return y=y.get(S.key===null?w:S.key)||null,u(b,y,S,j);case Ga:var _=S._init;return p(y,b,w,_(S._payload),j)}if(jf(S)||Yd(S))return y=y.get(w)||null,d(b,y,S,j,null);am(b,S)}return null}function g(y,b,w,S){for(var j=null,_=null,N=b,k=b=0,C=null;N!==null&&k<w.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var T=h(y,N,w[k],S);if(T===null){N===null&&(N=C);break}e&&N&&T.alternate===null&&t(y,N),b=i(T,b,k),_===null?j=T:_.sibling=T,_=T,N=C}if(k===w.length)return r(y,N),tr&&ol(y,k),j;if(N===null){for(;k<w.length;k++)N=f(y,w[k],S),N!==null&&(b=i(N,b,k),_===null?j=N:_.sibling=N,_=N);return tr&&ol(y,k),j}for(N=n(y,N);k<w.length;k++)C=p(N,y,k,w[k],S),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),b=i(C,b,k),_===null?j=C:_.sibling=C,_=C);return e&&N.forEach(function(I){return t(y,I)}),tr&&ol(y,k),j}function m(y,b,w,S){var j=Yd(w);if(typeof j!="function")throw Error(le(150));if(w=j.call(w),w==null)throw Error(le(151));for(var _=j=null,N=b,k=b=0,C=null,T=w.next();N!==null&&!T.done;k++,T=w.next()){N.index>k?(C=N,N=null):C=N.sibling;var I=h(y,N,T.value,S);if(I===null){N===null&&(N=C);break}e&&N&&I.alternate===null&&t(y,N),b=i(I,b,k),_===null?j=I:_.sibling=I,_=I,N=C}if(T.done)return r(y,N),tr&&ol(y,k),j;if(N===null){for(;!T.done;k++,T=w.next())T=f(y,T.value,S),T!==null&&(b=i(T,b,k),_===null?j=T:_.sibling=T,_=T);return tr&&ol(y,k),j}for(N=n(y,N);!T.done;k++,T=w.next())T=p(N,y,k,T.value,S),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?k:T.key),b=i(T,b,k),_===null?j=T:_.sibling=T,_=T);return e&&N.forEach(function(E){return t(y,E)}),tr&&ol(y,k),j}function v(y,b,w,S){if(typeof w=="object"&&w!==null&&w.type===qc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Yp:e:{for(var j=w.key,_=b;_!==null;){if(_.key===j){if(j=w.type,j===qc){if(_.tag===7){r(y,_.sibling),b=s(_,w.props.children),b.return=y,y=b;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ga&&tC(j)===_.type){r(y,_.sibling),b=s(_,w.props),b.ref=ef(y,_,w),b.return=y,y=b;break e}r(y,_);break}else t(y,_);_=_.sibling}w.type===qc?(b=Ll(w.props.children,y.mode,S,w.key),b.return=y,y=b):(S=tg(w.type,w.key,w.props,null,y.mode,S),S.ref=ef(y,b,w),S.return=y,y=S)}return o(y);case zc:e:{for(_=w.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=s(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=Ob(w,y.mode,S),b.return=y,y=b}return o(y);case Ga:return _=w._init,v(y,b,_(w._payload),S)}if(jf(w))return g(y,b,w,S);if(Yd(w))return m(y,b,w,S);am(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=s(b,w),b.return=y,y=b):(r(y,b),b=Eb(w,y.mode,S),b.return=y,y=b),o(y)):r(y,b)}return v}var Ru=y$(!0),x$=y$(!1),wg=qo(null),jg=null,Xc=null,N1=null;function k1(){N1=Xc=jg=null}function C1(e){var t=wg.current;Jt(wg),e._currentValue=t}function m0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function lu(e,t){jg=e,N1=Xc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pn=!0),e.firstContext=null)}function js(e){var t=e._currentValue;if(N1!==e)if(e={context:e,memoizedValue:t,next:null},Xc===null){if(jg===null)throw Error(le(308));Xc=e,jg.dependencies={lanes:0,firstContext:e}}else Xc=Xc.next=e;return t}var yl=null;function E1(e){yl===null?yl=[e]:yl.push(e)}function b$(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,E1(t)):(r.next=s.next,s.next=r),t.interleaved=r,va(e,n)}function va(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ya=!1;function O1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function So(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ft&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,va(e,r)}return s=n.interleaved,s===null?(t.next=t,E1(n)):(t.next=s.next,s.next=t),n.interleaved=t,va(e,r)}function Ym(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,p1(e,r)}}function rC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _g(e,t,r,n){var s=e.updateQueue;Ya=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=cr({},f,h);break e;case 2:Ya=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Wl|=o,e.lanes=o,e.memoizedState=f}}function nC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(le(191,s));s.call(n)}}}var Sp={},Ei=qo(Sp),oh=qo(Sp),lh=qo(Sp);function xl(e){if(e===Sp)throw Error(le(174));return e}function P1(e,t){switch(Wt(lh,t),Wt(oh,e),Wt(Ei,Sp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yw(t,e)}Jt(Ei),Wt(Ei,t)}function $u(){Jt(Ei),Jt(oh),Jt(lh)}function j$(e){xl(lh.current);var t=xl(Ei.current),r=Yw(t,e.type);t!==r&&(Wt(oh,e),Wt(Ei,r))}function A1(e){oh.current===e&&(Jt(Ei),Jt(oh))}var sr=qo(0);function Sg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jb=[];function T1(){for(var e=0;e<jb.length;e++)jb[e]._workInProgressVersionPrimary=null;jb.length=0}var Qm=Ea.ReactCurrentDispatcher,_b=Ea.ReactCurrentBatchConfig,ql=0,or=null,Ar=null,Br=null,Ng=!1,Df=!1,ch=0,k8=0;function rn(){throw Error(le(321))}function R1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ii(e[r],t[r]))return!1;return!0}function $1(e,t,r,n,s,i){if(ql=i,or=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qm.current=e===null||e.memoizedState===null?P8:A8,e=r(n,s),Df){i=0;do{if(Df=!1,ch=0,25<=i)throw Error(le(301));i+=1,Br=Ar=null,t.updateQueue=null,Qm.current=T8,e=r(n,s)}while(Df)}if(Qm.current=kg,t=Ar!==null&&Ar.next!==null,ql=0,Br=Ar=or=null,Ng=!1,t)throw Error(le(300));return e}function M1(){var e=ch!==0;return ch=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?or.memoizedState=Br=e:Br=Br.next=e,Br}function _s(){if(Ar===null){var e=or.alternate;e=e!==null?e.memoizedState:null}else e=Ar.next;var t=Br===null?or.memoizedState:Br.next;if(t!==null)Br=t,Ar=e;else{if(e===null)throw Error(le(310));Ar=e,e={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Br===null?or.memoizedState=Br=e:Br=Br.next=e}return Br}function uh(e,t){return typeof t=="function"?t(e):t}function Sb(e){var t=_s(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=Ar,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ql&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,or.lanes|=d,Wl|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ii(n,t.memoizedState)||(Pn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,or.lanes|=i,Wl|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nb(e){var t=_s(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ii(i,t.memoizedState)||(Pn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function _$(){}function S$(e,t){var r=or,n=_s(),s=t(),i=!ii(n.memoizedState,s);if(i&&(n.memoizedState=s,Pn=!0),n=n.queue,I1(C$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Br!==null&&Br.memoizedState.tag&1){if(r.flags|=2048,dh(9,k$.bind(null,r,n,s,t),void 0,null),qr===null)throw Error(le(349));ql&30||N$(r,t,s)}return s}function N$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=or.updateQueue,t===null?(t={lastEffect:null,stores:null},or.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function k$(e,t,r,n){t.value=r,t.getSnapshot=n,E$(t)&&O$(e)}function C$(e,t,r){return r(function(){E$(t)&&O$(e)})}function E$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ii(e,r)}catch{return!0}}function O$(e){var t=va(e,1);t!==null&&ni(t,e,1,-1)}function sC(e){var t=gi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uh,lastRenderedState:e},t.queue=e,e=e.dispatch=O8.bind(null,or,e),[t.memoizedState,e]}function dh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=or.updateQueue,t===null?(t={lastEffect:null,stores:null},or.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function P$(){return _s().memoizedState}function Xm(e,t,r,n){var s=gi();or.flags|=e,s.memoizedState=dh(1|t,r,void 0,n===void 0?null:n)}function vy(e,t,r,n){var s=_s();n=n===void 0?null:n;var i=void 0;if(Ar!==null){var o=Ar.memoizedState;if(i=o.destroy,n!==null&&R1(n,o.deps)){s.memoizedState=dh(t,r,i,n);return}}or.flags|=e,s.memoizedState=dh(1|t,r,i,n)}function iC(e,t){return Xm(8390656,8,e,t)}function I1(e,t){return vy(2048,8,e,t)}function A$(e,t){return vy(4,2,e,t)}function T$(e,t){return vy(4,4,e,t)}function R$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $$(e,t,r){return r=r!=null?r.concat([e]):null,vy(4,4,R$.bind(null,t,e),r)}function D1(){}function M$(e,t){var r=_s();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&R1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function I$(e,t){var r=_s();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&R1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function D$(e,t,r){return ql&21?(ii(r,t)||(r=zR(),or.lanes|=r,Wl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pn=!0),e.memoizedState=r)}function C8(e,t){var r=At;At=r!==0&&4>r?r:4,e(!0);var n=_b.transition;_b.transition={};try{e(!1),t()}finally{At=r,_b.transition=n}}function L$(){return _s().memoizedState}function E8(e,t,r){var n=ko(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},F$(e))U$(t,r);else if(r=b$(e,t,r,n),r!==null){var s=vn();ni(r,e,n,s),B$(r,t,n)}}function O8(e,t,r){var n=ko(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(F$(e))U$(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,ii(l,o)){var c=t.interleaved;c===null?(s.next=s,E1(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=b$(e,t,s,n),r!==null&&(s=vn(),ni(r,e,n,s),B$(r,t,n))}}function F$(e){var t=e.alternate;return e===or||t!==null&&t===or}function U$(e,t){Df=Ng=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function B$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,p1(e,r)}}var kg={readContext:js,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},P8={readContext:js,useCallback:function(e,t){return gi().memoizedState=[e,t===void 0?null:t],e},useContext:js,useEffect:iC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xm(4194308,4,R$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xm(4,2,e,t)},useMemo:function(e,t){var r=gi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=gi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=E8.bind(null,or,e),[n.memoizedState,e]},useRef:function(e){var t=gi();return e={current:e},t.memoizedState=e},useState:sC,useDebugValue:D1,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=sC(!1),t=e[0];return e=C8.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=or,s=gi();if(tr){if(r===void 0)throw Error(le(407));r=r()}else{if(r=t(),qr===null)throw Error(le(349));ql&30||N$(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,iC(C$.bind(null,n,i,e),[e]),n.flags|=2048,dh(9,k$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=gi(),t=qr.identifierPrefix;if(tr){var r=na,n=ra;r=(n&~(1<<32-ri(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ch++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=k8++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},A8={readContext:js,useCallback:M$,useContext:js,useEffect:I1,useImperativeHandle:$$,useInsertionEffect:A$,useLayoutEffect:T$,useMemo:I$,useReducer:Sb,useRef:P$,useState:function(){return Sb(uh)},useDebugValue:D1,useDeferredValue:function(e){var t=_s();return D$(t,Ar.memoizedState,e)},useTransition:function(){var e=Sb(uh)[0],t=_s().memoizedState;return[e,t]},useMutableSource:_$,useSyncExternalStore:S$,useId:L$,unstable_isNewReconciler:!1},T8={readContext:js,useCallback:M$,useContext:js,useEffect:I1,useImperativeHandle:$$,useInsertionEffect:A$,useLayoutEffect:T$,useMemo:I$,useReducer:Nb,useRef:P$,useState:function(){return Nb(uh)},useDebugValue:D1,useDeferredValue:function(e){var t=_s();return Ar===null?t.memoizedState=e:D$(t,Ar.memoizedState,e)},useTransition:function(){var e=Nb(uh)[0],t=_s().memoizedState;return[e,t]},useMutableSource:_$,useSyncExternalStore:S$,useId:L$,unstable_isNewReconciler:!1};function qs(e,t){if(e&&e.defaultProps){t=cr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function g0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:cr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yy={isMounted:function(e){return(e=e._reactInternals)?cc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=vn(),s=ko(e),i=la(n,s);i.payload=t,r!=null&&(i.callback=r),t=So(e,i,s),t!==null&&(ni(t,e,s,n),Ym(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=vn(),s=ko(e),i=la(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=So(e,i,s),t!==null&&(ni(t,e,s,n),Ym(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=vn(),n=ko(e),s=la(r,n);s.tag=2,t!=null&&(s.callback=t),t=So(e,s,n),t!==null&&(ni(t,e,n,r),Ym(t,e,n))}};function aC(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!nh(r,n)||!nh(s,i):!0}function z$(e,t,r){var n=!1,s=$o,i=t.contextType;return typeof i=="object"&&i!==null?i=js(i):(s=Mn(t)?Bl:dn.current,n=t.contextTypes,i=(n=n!=null)?Au(e,s):$o),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function oC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yy.enqueueReplaceState(t,t.state,null)}function v0(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},O1(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=js(i):(i=Mn(t)?Bl:dn.current,s.context=Au(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(g0(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yy.enqueueReplaceState(s,s.state,null),_g(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Mu(e,t){try{var r="",n=t;do r+=a6(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function kb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function y0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var R8=typeof WeakMap=="function"?WeakMap:Map;function q$(e,t,r){r=la(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Eg||(Eg=!0,E0=n),y0(e,t)},r}function W$(e,t,r){r=la(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){y0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){y0(e,t),typeof n!="function"&&(No===null?No=new Set([this]):No.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function lC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new R8;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=K8.bind(null,e,t,r),t.then(e,e))}function cC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uC(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=la(-1,1),t.tag=2,So(r,t,1))),r.lanes|=1),e)}var $8=Ea.ReactCurrentOwner,Pn=!1;function pn(e,t,r,n){t.child=e===null?x$(t,null,r,n):Ru(t,e.child,r,n)}function dC(e,t,r,n,s){r=r.render;var i=t.ref;return lu(t,s),n=$1(e,t,r,n,i,s),r=M1(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ya(e,t,s)):(tr&&r&&j1(t),t.flags|=1,pn(e,t,n,s),t.child)}function fC(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!V1(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,V$(e,t,i,n,s)):(e=tg(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:nh,r(o,n)&&e.ref===t.ref)return ya(e,t,s)}return t.flags|=1,e=Co(i,n),e.ref=t.ref,e.return=t,t.child=e}function V$(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(nh(i,n)&&e.ref===t.ref)if(Pn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Pn=!0);else return t.lanes=e.lanes,ya(e,t,s)}return x0(e,t,r,n,s)}function H$(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Zc,Wn),Wn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wt(Zc,Wn),Wn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Wt(Zc,Wn),Wn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Wt(Zc,Wn),Wn|=n;return pn(e,t,s,r),t.child}function K$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function x0(e,t,r,n,s){var i=Mn(r)?Bl:dn.current;return i=Au(t,i),lu(t,s),r=$1(e,t,r,n,i,s),n=M1(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ya(e,t,s)):(tr&&n&&j1(t),t.flags|=1,pn(e,t,r,s),t.child)}function hC(e,t,r,n,s){if(Mn(r)){var i=!0;yg(t)}else i=!1;if(lu(t,s),t.stateNode===null)Jm(e,t),z$(t,r,n),v0(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=js(u):(u=Mn(r)?Bl:dn.current,u=Au(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&oC(t,o,n,u),Ya=!1;var h=t.memoizedState;o.state=h,_g(t,n,o,s),c=t.memoizedState,l!==n||h!==c||$n.current||Ya?(typeof d=="function"&&(g0(t,r,d,n),c=t.memoizedState),(l=Ya||aC(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,w$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:qs(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=js(c):(c=Mn(r)?Bl:dn.current,c=Au(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&oC(t,o,n,c),Ya=!1,h=t.memoizedState,o.state=h,_g(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||$n.current||Ya?(typeof p=="function"&&(g0(t,r,p,n),g=t.memoizedState),(u=Ya||aC(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return b0(e,t,r,n,i,s)}function b0(e,t,r,n,s,i){K$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Jk(t,r,!1),ya(e,t,i);n=t.stateNode,$8.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ru(t,e.child,null,i),t.child=Ru(t,null,l,i)):pn(e,t,l,i),t.memoizedState=n.state,s&&Jk(t,r,!0),t.child}function G$(e){var t=e.stateNode;t.pendingContext?Xk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xk(e,t.context,!1),P1(e,t.containerInfo)}function pC(e,t,r,n,s){return Tu(),S1(s),t.flags|=256,pn(e,t,r,n),t.child}var w0={dehydrated:null,treeContext:null,retryLane:0};function j0(e){return{baseLanes:e,cachePool:null,transitions:null}}function Y$(e,t,r){var n=t.pendingProps,s=sr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Wt(sr,s&1),e===null)return p0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wy(o,n,0,null),e=Ll(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=j0(r),t.memoizedState=w0,e):L1(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return M8(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Co(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Co(l,i):(i=Ll(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?j0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=w0,n}return i=e.child,e=i.sibling,n=Co(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function L1(e,t){return t=wy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function om(e,t,r,n){return n!==null&&S1(n),Ru(t,e.child,null,r),e=L1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function M8(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=kb(Error(le(422))),om(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=wy({mode:"visible",children:n.children},s,0,null),i=Ll(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ru(t,e.child,null,o),t.child.memoizedState=j0(o),t.memoizedState=w0,i);if(!(t.mode&1))return om(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(le(419)),n=kb(i,n,void 0),om(e,t,o,n)}if(l=(o&e.childLanes)!==0,Pn||l){if(n=qr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,va(e,s),ni(n,e,s,-1))}return W1(),n=kb(Error(le(421))),om(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=G8.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Xn=_o(s.nextSibling),Jn=t,tr=!0,Qs=null,e!==null&&(hs[ps++]=ra,hs[ps++]=na,hs[ps++]=zl,ra=e.id,na=e.overflow,zl=t),t=L1(t,n.children),t.flags|=4096,t)}function mC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),m0(e.return,t,r)}function Cb(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Q$(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(pn(e,t,n.children,r),n=sr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mC(e,r,t);else if(e.tag===19)mC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Wt(sr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Sg(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Cb(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Sg(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Cb(t,!0,r,null,i);break;case"together":Cb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ya(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,r=Co(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Co(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function I8(e,t,r){switch(t.tag){case 3:G$(t),Tu();break;case 5:j$(t);break;case 1:Mn(t.type)&&yg(t);break;case 4:P1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Wt(wg,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Wt(sr,sr.current&1),t.flags|=128,null):r&t.child.childLanes?Y$(e,t,r):(Wt(sr,sr.current&1),e=ya(e,t,r),e!==null?e.sibling:null);Wt(sr,sr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Q$(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Wt(sr,sr.current),n)break;return null;case 22:case 23:return t.lanes=0,H$(e,t,r)}return ya(e,t,r)}var X$,_0,J$,Z$;X$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_0=function(){};J$=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,xl(Ei.current);var i=null;switch(r){case"input":s=Vw(e,s),n=Vw(e,n),i=[];break;case"select":s=cr({},s,{value:void 0}),n=cr({},n,{value:void 0}),i=[];break;case"textarea":s=Gw(e,s),n=Gw(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gg)}Qw(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Yt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Z$=function(e,t,r,n){r!==n&&(t.flags|=4)};function tf(e,t){if(!tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function D8(e,t,r){var n=t.pendingProps;switch(_1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(t),null;case 1:return Mn(t.type)&&vg(),nn(t),null;case 3:return n=t.stateNode,$u(),Jt($n),Jt(dn),T1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(im(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qs!==null&&(A0(Qs),Qs=null))),_0(e,t),nn(t),null;case 5:A1(t);var s=xl(lh.current);if(r=t.type,e!==null&&t.stateNode!=null)J$(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(le(166));return nn(t),null}if(e=xl(Ei.current),im(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ji]=t,n[ah]=i,e=(t.mode&1)!==0,r){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(s=0;s<Sf.length;s++)Yt(Sf[s],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":Sk(n,i),Yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Yt("invalid",n);break;case"textarea":kk(n,i),Yt("invalid",n)}Qw(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&sm(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&sm(n.textContent,l,e),s=["children",""+l]):Qf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Yt("scroll",n)}switch(r){case"input":Qp(n),Nk(n,i,!0);break;case"textarea":Qp(n),Ck(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=gg)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=CR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ji]=t,e[ah]=n,X$(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xw(r,n),r){case"dialog":Yt("cancel",e),Yt("close",e),s=n;break;case"iframe":case"object":case"embed":Yt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Sf.length;s++)Yt(Sf[s],e);s=n;break;case"source":Yt("error",e),s=n;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),s=n;break;case"details":Yt("toggle",e),s=n;break;case"input":Sk(e,n),s=Vw(e,n),Yt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=cr({},n,{value:void 0}),Yt("invalid",e);break;case"textarea":kk(e,n),s=Gw(e,n),Yt("invalid",e);break;default:s=n}Qw(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?PR(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ER(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Xf(e,c):typeof c=="number"&&Xf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Yt("scroll",e):c!=null&&l1(e,i,c,o))}switch(r){case"input":Qp(e),Nk(e,n,!1);break;case"textarea":Qp(e),Ck(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ro(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?su(e,!!n.multiple,i,!1):n.defaultValue!=null&&su(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=gg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nn(t),null;case 6:if(e&&t.stateNode!=null)Z$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));if(r=xl(lh.current),xl(Ei.current),im(t)){if(n=t.stateNode,r=t.memoizedProps,n[ji]=t,(i=n.nodeValue!==r)&&(e=Jn,e!==null))switch(e.tag){case 3:sm(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sm(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ji]=t,t.stateNode=n}return nn(t),null;case 13:if(Jt(sr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tr&&Xn!==null&&t.mode&1&&!(t.flags&128))v$(),Tu(),t.flags|=98560,i=!1;else if(i=im(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(le(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(le(317));i[ji]=t}else Tu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nn(t),i=!1}else Qs!==null&&(A0(Qs),Qs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||sr.current&1?Mr===0&&(Mr=3):W1())),t.updateQueue!==null&&(t.flags|=4),nn(t),null);case 4:return $u(),_0(e,t),e===null&&sh(t.stateNode.containerInfo),nn(t),null;case 10:return C1(t.type._context),nn(t),null;case 17:return Mn(t.type)&&vg(),nn(t),null;case 19:if(Jt(sr),i=t.memoizedState,i===null)return nn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)tf(i,!1);else{if(Mr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sg(e),o!==null){for(t.flags|=128,tf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Wt(sr,sr.current&1|2),t.child}e=e.sibling}i.tail!==null&&mr()>Iu&&(t.flags|=128,n=!0,tf(i,!1),t.lanes=4194304)}else{if(!n)if(e=Sg(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),tf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tr)return nn(t),null}else 2*mr()-i.renderingStartTime>Iu&&r!==1073741824&&(t.flags|=128,n=!0,tf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=mr(),t.sibling=null,r=sr.current,Wt(sr,n?r&1|2:r&1),t):(nn(t),null);case 22:case 23:return q1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Wn&1073741824&&(nn(t),t.subtreeFlags&6&&(t.flags|=8192)):nn(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function L8(e,t){switch(_1(t),t.tag){case 1:return Mn(t.type)&&vg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $u(),Jt($n),Jt(dn),T1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return A1(t),null;case 13:if(Jt(sr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));Tu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jt(sr),null;case 4:return $u(),null;case 10:return C1(t.type._context),null;case 22:case 23:return q1(),null;case 24:return null;default:return null}}var lm=!1,on=!1,F8=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Jc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fr(e,t,n)}else r.current=null}function S0(e,t,r){try{r()}catch(n){fr(e,t,n)}}var gC=!1;function U8(e,t){if(o0=hg,e=s$(),w1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(l0={focusedElem:e,selectionRange:r},hg=!1,ke=t;ke!==null;)if(t=ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ke=e;else for(;ke!==null;){t=ke;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:qs(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(S){fr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ke=e;break}ke=t.return}return g=gC,gC=!1,g}function Lf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&S0(t,r,i)}s=s.next}while(s!==n)}}function xy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function N0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function eM(e){var t=e.alternate;t!==null&&(e.alternate=null,eM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ji],delete t[ah],delete t[d0],delete t[j8],delete t[_8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tM(e){return e.tag===5||e.tag===3||e.tag===4}function vC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function k0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gg));else if(n!==4&&(e=e.child,e!==null))for(k0(e,t,r),e=e.sibling;e!==null;)k0(e,t,r),e=e.sibling}function C0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(C0(e,t,r),e=e.sibling;e!==null;)C0(e,t,r),e=e.sibling}var Yr=null,Ks=!1;function Ba(e,t,r){for(r=r.child;r!==null;)rM(e,t,r),r=r.sibling}function rM(e,t,r){if(Ci&&typeof Ci.onCommitFiberUnmount=="function")try{Ci.onCommitFiberUnmount(dy,r)}catch{}switch(r.tag){case 5:on||Jc(r,t);case 6:var n=Yr,s=Ks;Yr=null,Ba(e,t,r),Yr=n,Ks=s,Yr!==null&&(Ks?(e=Yr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Yr.removeChild(r.stateNode));break;case 18:Yr!==null&&(Ks?(e=Yr,r=r.stateNode,e.nodeType===8?bb(e.parentNode,r):e.nodeType===1&&bb(e,r),th(e)):bb(Yr,r.stateNode));break;case 4:n=Yr,s=Ks,Yr=r.stateNode.containerInfo,Ks=!0,Ba(e,t,r),Yr=n,Ks=s;break;case 0:case 11:case 14:case 15:if(!on&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&S0(r,t,o),s=s.next}while(s!==n)}Ba(e,t,r);break;case 1:if(!on&&(Jc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){fr(r,t,l)}Ba(e,t,r);break;case 21:Ba(e,t,r);break;case 22:r.mode&1?(on=(n=on)||r.memoizedState!==null,Ba(e,t,r),on=n):Ba(e,t,r);break;default:Ba(e,t,r)}}function yC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new F8),t.forEach(function(n){var s=Y8.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Is(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yr=l.stateNode,Ks=!1;break e;case 3:Yr=l.stateNode.containerInfo,Ks=!0;break e;case 4:Yr=l.stateNode.containerInfo,Ks=!0;break e}l=l.return}if(Yr===null)throw Error(le(160));rM(i,o,s),Yr=null,Ks=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){fr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nM(t,e),t=t.sibling}function nM(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Is(t,e),mi(e),n&4){try{Lf(3,e,e.return),xy(3,e)}catch(m){fr(e,e.return,m)}try{Lf(5,e,e.return)}catch(m){fr(e,e.return,m)}}break;case 1:Is(t,e),mi(e),n&512&&r!==null&&Jc(r,r.return);break;case 5:if(Is(t,e),mi(e),n&512&&r!==null&&Jc(r,r.return),e.flags&32){var s=e.stateNode;try{Xf(s,"")}catch(m){fr(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&NR(s,i),Xw(l,o);var u=Xw(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?PR(s,f):d==="dangerouslySetInnerHTML"?ER(s,f):d==="children"?Xf(s,f):l1(s,d,f,u)}switch(l){case"input":Hw(s,i);break;case"textarea":kR(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?su(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?su(s,!!i.multiple,i.defaultValue,!0):su(s,!!i.multiple,i.multiple?[]:"",!1))}s[ah]=i}catch(m){fr(e,e.return,m)}}break;case 6:if(Is(t,e),mi(e),n&4){if(e.stateNode===null)throw Error(le(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){fr(e,e.return,m)}}break;case 3:if(Is(t,e),mi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{th(t.containerInfo)}catch(m){fr(e,e.return,m)}break;case 4:Is(t,e),mi(e);break;case 13:Is(t,e),mi(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(B1=mr())),n&4&&yC(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(on=(u=on)||d,Is(t,e),on=u):Is(t,e),mi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ke=e,d=e.child;d!==null;){for(f=ke=d;ke!==null;){switch(h=ke,p=h.child,h.tag){case 0:case 11:case 14:case 15:Lf(4,h,h.return);break;case 1:Jc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){fr(n,r,m)}}break;case 5:Jc(h,h.return);break;case 22:if(h.memoizedState!==null){bC(f);continue}}p!==null?(p.return=h,ke=p):bC(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=OR("display",o))}catch(m){fr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){fr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Is(t,e),mi(e),n&4&&yC(e);break;case 21:break;default:Is(t,e),mi(e)}}function mi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(tM(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Xf(s,""),n.flags&=-33);var i=vC(e);C0(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=vC(e);k0(e,l,o);break;default:throw Error(le(161))}}catch(c){fr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function B8(e,t,r){ke=e,sM(e)}function sM(e,t,r){for(var n=(e.mode&1)!==0;ke!==null;){var s=ke,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||lm;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||on;l=lm;var u=on;if(lm=o,(on=c)&&!u)for(ke=s;ke!==null;)o=ke,c=o.child,o.tag===22&&o.memoizedState!==null?wC(s):c!==null?(c.return=o,ke=c):wC(s);for(;i!==null;)ke=i,sM(i),i=i.sibling;ke=s,lm=l,on=u}xC(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ke=i):xC(e)}}function xC(e){for(;ke!==null;){var t=ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:on||xy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!on)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:qs(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&nC(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}nC(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&th(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}on||t.flags&512&&N0(t)}catch(h){fr(t,t.return,h)}}if(t===e){ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,ke=r;break}ke=t.return}}function bC(e){for(;ke!==null;){var t=ke;if(t===e){ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ke=r;break}ke=t.return}}function wC(e){for(;ke!==null;){var t=ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xy(4,t)}catch(c){fr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){fr(t,s,c)}}var i=t.return;try{N0(t)}catch(c){fr(t,i,c)}break;case 5:var o=t.return;try{N0(t)}catch(c){fr(t,o,c)}}}catch(c){fr(t,t.return,c)}if(t===e){ke=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ke=l;break}ke=t.return}}var z8=Math.ceil,Cg=Ea.ReactCurrentDispatcher,F1=Ea.ReactCurrentOwner,xs=Ea.ReactCurrentBatchConfig,ft=0,qr=null,_r=null,Jr=0,Wn=0,Zc=qo(0),Mr=0,fh=null,Wl=0,by=0,U1=0,Ff=null,On=null,B1=0,Iu=1/0,Yi=null,Eg=!1,E0=null,No=null,cm=!1,mo=null,Og=0,Uf=0,O0=null,Zm=-1,eg=0;function vn(){return ft&6?mr():Zm!==-1?Zm:Zm=mr()}function ko(e){return e.mode&1?ft&2&&Jr!==0?Jr&-Jr:N8.transition!==null?(eg===0&&(eg=zR()),eg):(e=At,e!==0||(e=window.event,e=e===void 0?16:YR(e.type)),e):1}function ni(e,t,r,n){if(50<Uf)throw Uf=0,O0=null,Error(le(185));wp(e,r,n),(!(ft&2)||e!==qr)&&(e===qr&&(!(ft&2)&&(by|=r),Mr===4&&eo(e,Jr)),In(e,n),r===1&&ft===0&&!(t.mode&1)&&(Iu=mr()+500,gy&&Wo()))}function In(e,t){var r=e.callbackNode;N6(e,t);var n=fg(e,e===qr?Jr:0);if(n===0)r!==null&&Pk(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Pk(r),t===1)e.tag===0?S8(jC.bind(null,e)):p$(jC.bind(null,e)),b8(function(){!(ft&6)&&Wo()}),r=null;else{switch(qR(n)){case 1:r=h1;break;case 4:r=UR;break;case 16:r=dg;break;case 536870912:r=BR;break;default:r=dg}r=fM(r,iM.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function iM(e,t){if(Zm=-1,eg=0,ft&6)throw Error(le(327));var r=e.callbackNode;if(cu()&&e.callbackNode!==r)return null;var n=fg(e,e===qr?Jr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Pg(e,n);else{t=n;var s=ft;ft|=2;var i=oM();(qr!==e||Jr!==t)&&(Yi=null,Iu=mr()+500,Dl(e,t));do try{V8();break}catch(l){aM(e,l)}while(!0);k1(),Cg.current=i,ft=s,_r!==null?t=0:(qr=null,Jr=0,t=Mr)}if(t!==0){if(t===2&&(s=r0(e),s!==0&&(n=s,t=P0(e,s))),t===1)throw r=fh,Dl(e,0),eo(e,n),In(e,mr()),r;if(t===6)eo(e,n);else{if(s=e.current.alternate,!(n&30)&&!q8(s)&&(t=Pg(e,n),t===2&&(i=r0(e),i!==0&&(n=i,t=P0(e,i))),t===1))throw r=fh,Dl(e,0),eo(e,n),In(e,mr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:ll(e,On,Yi);break;case 3:if(eo(e,n),(n&130023424)===n&&(t=B1+500-mr(),10<t)){if(fg(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){vn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=u0(ll.bind(null,e,On,Yi),t);break}ll(e,On,Yi);break;case 4:if(eo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ri(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=mr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*z8(n/1960))-n,10<n){e.timeoutHandle=u0(ll.bind(null,e,On,Yi),n);break}ll(e,On,Yi);break;case 5:ll(e,On,Yi);break;default:throw Error(le(329))}}}return In(e,mr()),e.callbackNode===r?iM.bind(null,e):null}function P0(e,t){var r=Ff;return e.current.memoizedState.isDehydrated&&(Dl(e,t).flags|=256),e=Pg(e,t),e!==2&&(t=On,On=r,t!==null&&A0(t)),e}function A0(e){On===null?On=e:On.push.apply(On,e)}function q8(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ii(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eo(e,t){for(t&=~U1,t&=~by,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ri(t),n=1<<r;e[r]=-1,t&=~n}}function jC(e){if(ft&6)throw Error(le(327));cu();var t=fg(e,0);if(!(t&1))return In(e,mr()),null;var r=Pg(e,t);if(e.tag!==0&&r===2){var n=r0(e);n!==0&&(t=n,r=P0(e,n))}if(r===1)throw r=fh,Dl(e,0),eo(e,t),In(e,mr()),r;if(r===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ll(e,On,Yi),In(e,mr()),null}function z1(e,t){var r=ft;ft|=1;try{return e(t)}finally{ft=r,ft===0&&(Iu=mr()+500,gy&&Wo())}}function Vl(e){mo!==null&&mo.tag===0&&!(ft&6)&&cu();var t=ft;ft|=1;var r=xs.transition,n=At;try{if(xs.transition=null,At=1,e)return e()}finally{At=n,xs.transition=r,ft=t,!(ft&6)&&Wo()}}function q1(){Wn=Zc.current,Jt(Zc)}function Dl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,x8(r)),_r!==null)for(r=_r.return;r!==null;){var n=r;switch(_1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vg();break;case 3:$u(),Jt($n),Jt(dn),T1();break;case 5:A1(n);break;case 4:$u();break;case 13:Jt(sr);break;case 19:Jt(sr);break;case 10:C1(n.type._context);break;case 22:case 23:q1()}r=r.return}if(qr=e,_r=e=Co(e.current,null),Jr=Wn=t,Mr=0,fh=null,U1=by=Wl=0,On=Ff=null,yl!==null){for(t=0;t<yl.length;t++)if(r=yl[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}yl=null}return e}function aM(e,t){do{var r=_r;try{if(k1(),Qm.current=kg,Ng){for(var n=or.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ng=!1}if(ql=0,Br=Ar=or=null,Df=!1,ch=0,F1.current=null,r===null||r.return===null){Mr=1,fh=t,_r=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Jr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=cC(o);if(p!==null){p.flags&=-257,uC(p,o,l,i,t),p.mode&1&&lC(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){lC(i,u,t),W1();break e}c=Error(le(426))}}else if(tr&&l.mode&1){var v=cC(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),uC(v,o,l,i,t),S1(Mu(c,l));break e}}i=c=Mu(c,l),Mr!==4&&(Mr=2),Ff===null?Ff=[i]:Ff.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=q$(i,c,t);rC(i,y);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(No===null||!No.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=W$(i,l,t);rC(i,S);break e}}i=i.return}while(i!==null)}cM(r)}catch(j){t=j,_r===r&&r!==null&&(_r=r=r.return);continue}break}while(!0)}function oM(){var e=Cg.current;return Cg.current=kg,e===null?kg:e}function W1(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),qr===null||!(Wl&268435455)&&!(by&268435455)||eo(qr,Jr)}function Pg(e,t){var r=ft;ft|=2;var n=oM();(qr!==e||Jr!==t)&&(Yi=null,Dl(e,t));do try{W8();break}catch(s){aM(e,s)}while(!0);if(k1(),ft=r,Cg.current=n,_r!==null)throw Error(le(261));return qr=null,Jr=0,Mr}function W8(){for(;_r!==null;)lM(_r)}function V8(){for(;_r!==null&&!g6();)lM(_r)}function lM(e){var t=dM(e.alternate,e,Wn);e.memoizedProps=e.pendingProps,t===null?cM(e):_r=t,F1.current=null}function cM(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=L8(r,t),r!==null){r.flags&=32767,_r=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mr=6,_r=null;return}}else if(r=D8(r,t,Wn),r!==null){_r=r;return}if(t=t.sibling,t!==null){_r=t;return}_r=t=e}while(t!==null);Mr===0&&(Mr=5)}function ll(e,t,r){var n=At,s=xs.transition;try{xs.transition=null,At=1,H8(e,t,r,n)}finally{xs.transition=s,At=n}return null}function H8(e,t,r,n){do cu();while(mo!==null);if(ft&6)throw Error(le(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(k6(e,i),e===qr&&(_r=qr=null,Jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||cm||(cm=!0,fM(dg,function(){return cu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xs.transition,xs.transition=null;var o=At;At=1;var l=ft;ft|=4,F1.current=null,U8(e,r),nM(r,e),f8(l0),hg=!!o0,l0=o0=null,e.current=r,B8(r),v6(),ft=l,At=o,xs.transition=i}else e.current=r;if(cm&&(cm=!1,mo=e,Og=s),i=e.pendingLanes,i===0&&(No=null),b6(r.stateNode),In(e,mr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Eg)throw Eg=!1,e=E0,E0=null,e;return Og&1&&e.tag!==0&&cu(),i=e.pendingLanes,i&1?e===O0?Uf++:(Uf=0,O0=e):Uf=0,Wo(),null}function cu(){if(mo!==null){var e=qR(Og),t=xs.transition,r=At;try{if(xs.transition=null,At=16>e?16:e,mo===null)var n=!1;else{if(e=mo,mo=null,Og=0,ft&6)throw Error(le(331));var s=ft;for(ft|=4,ke=e.current;ke!==null;){var i=ke,o=i.child;if(ke.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ke=u;ke!==null;){var d=ke;switch(d.tag){case 0:case 11:case 15:Lf(8,d,i)}var f=d.child;if(f!==null)f.return=d,ke=f;else for(;ke!==null;){d=ke;var h=d.sibling,p=d.return;if(eM(d),d===u){ke=null;break}if(h!==null){h.return=p,ke=h;break}ke=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}ke=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ke=o;else e:for(;ke!==null;){if(i=ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ke=y;break e}ke=i.return}}var b=e.current;for(ke=b;ke!==null;){o=ke;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ke=w;else e:for(o=b;ke!==null;){if(l=ke,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xy(9,l)}}catch(j){fr(l,l.return,j)}if(l===o){ke=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ke=S;break e}ke=l.return}}if(ft=s,Wo(),Ci&&typeof Ci.onPostCommitFiberRoot=="function")try{Ci.onPostCommitFiberRoot(dy,e)}catch{}n=!0}return n}finally{At=r,xs.transition=t}}return!1}function _C(e,t,r){t=Mu(r,t),t=q$(e,t,1),e=So(e,t,1),t=vn(),e!==null&&(wp(e,1,t),In(e,t))}function fr(e,t,r){if(e.tag===3)_C(e,e,r);else for(;t!==null;){if(t.tag===3){_C(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(No===null||!No.has(n))){e=Mu(r,e),e=W$(t,e,1),t=So(t,e,1),e=vn(),t!==null&&(wp(t,1,e),In(t,e));break}}t=t.return}}function K8(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=vn(),e.pingedLanes|=e.suspendedLanes&r,qr===e&&(Jr&r)===r&&(Mr===4||Mr===3&&(Jr&130023424)===Jr&&500>mr()-B1?Dl(e,0):U1|=r),In(e,t)}function uM(e,t){t===0&&(e.mode&1?(t=Zp,Zp<<=1,!(Zp&130023424)&&(Zp=4194304)):t=1);var r=vn();e=va(e,t),e!==null&&(wp(e,t,r),In(e,r))}function G8(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uM(e,r)}function Y8(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(t),uM(e,r)}var dM;dM=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$n.current)Pn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pn=!1,I8(e,t,r);Pn=!!(e.flags&131072)}else Pn=!1,tr&&t.flags&1048576&&m$(t,bg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jm(e,t),e=t.pendingProps;var s=Au(t,dn.current);lu(t,r),s=$1(null,t,n,e,s,r);var i=M1();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mn(n)?(i=!0,yg(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,O1(t),s.updater=yy,t.stateNode=s,s._reactInternals=t,v0(t,n,e,r),t=b0(null,t,n,!0,i,r)):(t.tag=0,tr&&i&&j1(t),pn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jm(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=X8(n),e=qs(n,e),s){case 0:t=x0(null,t,n,e,r);break e;case 1:t=hC(null,t,n,e,r);break e;case 11:t=dC(null,t,n,e,r);break e;case 14:t=fC(null,t,n,qs(n.type,e),r);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qs(n,s),x0(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qs(n,s),hC(e,t,n,s,r);case 3:e:{if(G$(t),e===null)throw Error(le(387));n=t.pendingProps,i=t.memoizedState,s=i.element,w$(e,t),_g(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Mu(Error(le(423)),t),t=pC(e,t,n,r,s);break e}else if(n!==s){s=Mu(Error(le(424)),t),t=pC(e,t,n,r,s);break e}else for(Xn=_o(t.stateNode.containerInfo.firstChild),Jn=t,tr=!0,Qs=null,r=x$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Tu(),n===s){t=ya(e,t,r);break e}pn(e,t,n,r)}t=t.child}return t;case 5:return j$(t),e===null&&p0(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,c0(n,s)?o=null:i!==null&&c0(n,i)&&(t.flags|=32),K$(e,t),pn(e,t,o,r),t.child;case 6:return e===null&&p0(t),null;case 13:return Y$(e,t,r);case 4:return P1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ru(t,null,n,r):pn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qs(n,s),dC(e,t,n,s,r);case 7:return pn(e,t,t.pendingProps,r),t.child;case 8:return pn(e,t,t.pendingProps.children,r),t.child;case 12:return pn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Wt(wg,n._currentValue),n._currentValue=o,i!==null)if(ii(i.value,o)){if(i.children===s.children&&!$n.current){t=ya(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=la(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),m0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(le(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),m0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,lu(t,r),s=js(s),n=n(s),t.flags|=1,pn(e,t,n,r),t.child;case 14:return n=t.type,s=qs(n,t.pendingProps),s=qs(n.type,s),fC(e,t,n,s,r);case 15:return V$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qs(n,s),Jm(e,t),t.tag=1,Mn(n)?(e=!0,yg(t)):e=!1,lu(t,r),z$(t,n,s),v0(t,n,s,r),b0(null,t,n,!0,e,r);case 19:return Q$(e,t,r);case 22:return H$(e,t,r)}throw Error(le(156,t.tag))};function fM(e,t){return FR(e,t)}function Q8(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(e,t,r,n){return new Q8(e,t,r,n)}function V1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function X8(e){if(typeof e=="function")return V1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===u1)return 11;if(e===d1)return 14}return 2}function Co(e,t){var r=e.alternate;return r===null?(r=gs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function tg(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")V1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qc:return Ll(r.children,s,i,t);case c1:o=8,s|=8;break;case Bw:return e=gs(12,r,t,s|2),e.elementType=Bw,e.lanes=i,e;case zw:return e=gs(13,r,t,s),e.elementType=zw,e.lanes=i,e;case qw:return e=gs(19,r,t,s),e.elementType=qw,e.lanes=i,e;case jR:return wy(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bR:o=10;break e;case wR:o=9;break e;case u1:o=11;break e;case d1:o=14;break e;case Ga:o=16,n=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=gs(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ll(e,t,r,n){return e=gs(7,e,n,t),e.lanes=r,e}function wy(e,t,r,n){return e=gs(22,e,n,t),e.elementType=jR,e.lanes=r,e.stateNode={isHidden:!1},e}function Eb(e,t,r){return e=gs(6,e,null,t),e.lanes=r,e}function Ob(e,t,r){return t=gs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function J8(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cb(0),this.expirationTimes=cb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cb(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function H1(e,t,r,n,s,i,o,l,c){return e=new J8(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},O1(i),e}function Z8(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hM(e){if(!e)return $o;e=e._reactInternals;e:{if(cc(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var r=e.type;if(Mn(r))return h$(e,r,t)}return t}function pM(e,t,r,n,s,i,o,l,c){return e=H1(r,n,!0,e,s,i,o,l,c),e.context=hM(null),r=e.current,n=vn(),s=ko(r),i=la(n,s),i.callback=t??null,So(r,i,s),e.current.lanes=s,wp(e,s,n),In(e,n),e}function jy(e,t,r,n){var s=t.current,i=vn(),o=ko(s);return r=hM(r),t.context===null?t.context=r:t.pendingContext=r,t=la(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=So(s,t,o),e!==null&&(ni(e,s,o,i),Ym(e,s,o)),o}function Ag(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function SC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function K1(e,t){SC(e,t),(e=e.alternate)&&SC(e,t)}function ez(){return null}var mM=typeof reportError=="function"?reportError:function(e){console.error(e)};function G1(e){this._internalRoot=e}_y.prototype.render=G1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));jy(e,t,null,null)};_y.prototype.unmount=G1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vl(function(){jy(null,e,null,null)}),t[ga]=null}};function _y(e){this._internalRoot=e}_y.prototype.unstable_scheduleHydration=function(e){if(e){var t=HR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Za.length&&t!==0&&t<Za[r].priority;r++);Za.splice(r,0,e),r===0&&GR(e)}};function Y1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function NC(){}function tz(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ag(o);i.call(u)}}var o=pM(t,n,e,0,null,!1,!1,"",NC);return e._reactRootContainer=o,e[ga]=o.current,sh(e.nodeType===8?e.parentNode:e),Vl(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Ag(c);l.call(u)}}var c=H1(e,0,!1,null,null,!1,!1,"",NC);return e._reactRootContainer=c,e[ga]=c.current,sh(e.nodeType===8?e.parentNode:e),Vl(function(){jy(t,c,r,n)}),c}function Ny(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Ag(o);l.call(c)}}jy(t,o,e,s)}else o=tz(r,t,e,s,n);return Ag(o)}WR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_f(t.pendingLanes);r!==0&&(p1(t,r|1),In(t,mr()),!(ft&6)&&(Iu=mr()+500,Wo()))}break;case 13:Vl(function(){var n=va(e,1);if(n!==null){var s=vn();ni(n,e,1,s)}}),K1(e,1)}};m1=function(e){if(e.tag===13){var t=va(e,134217728);if(t!==null){var r=vn();ni(t,e,134217728,r)}K1(e,134217728)}};VR=function(e){if(e.tag===13){var t=ko(e),r=va(e,t);if(r!==null){var n=vn();ni(r,e,t,n)}K1(e,t)}};HR=function(){return At};KR=function(e,t){var r=At;try{return At=e,t()}finally{At=r}};Zw=function(e,t,r){switch(t){case"input":if(Hw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=my(n);if(!s)throw Error(le(90));SR(n),Hw(n,s)}}}break;case"textarea":kR(e,r);break;case"select":t=r.value,t!=null&&su(e,!!r.multiple,t,!1)}};RR=z1;$R=Vl;var rz={usingClientEntryPoint:!1,Events:[_p,Kc,my,AR,TR,z1]},rf={findFiberByHostInstance:vl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nz={bundleType:rf.bundleType,version:rf.version,rendererPackageName:rf.rendererPackageName,rendererConfig:rf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=DR(e),e===null?null:e.stateNode},findFiberByHostInstance:rf.findFiberByHostInstance||ez,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!um.isDisabled&&um.supportsFiber)try{dy=um.inject(nz),Ci=um}catch{}}is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rz;is.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Y1(t))throw Error(le(200));return Z8(e,t,null,r)};is.createRoot=function(e,t){if(!Y1(e))throw Error(le(299));var r=!1,n="",s=mM;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=H1(e,1,!1,null,null,r,!1,n,s),e[ga]=t.current,sh(e.nodeType===8?e.parentNode:e),new G1(t)};is.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=DR(t),e=e===null?null:e.stateNode,e};is.flushSync=function(e){return Vl(e)};is.hydrate=function(e,t,r){if(!Sy(t))throw Error(le(200));return Ny(null,e,t,!0,r)};is.hydrateRoot=function(e,t,r){if(!Y1(e))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=mM;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=pM(t,null,e,1,r??null,s,!1,i,o),e[ga]=t.current,sh(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new _y(t)};is.render=function(e,t,r){if(!Sy(t))throw Error(le(200));return Ny(null,e,t,!1,r)};is.unmountComponentAtNode=function(e){if(!Sy(e))throw Error(le(40));return e._reactRootContainer?(Vl(function(){Ny(null,null,e,!1,function(){e._reactRootContainer=null,e[ga]=null})}),!0):!1};is.unstable_batchedUpdates=z1;is.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sy(r))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return Ny(e,t,r,!1,n)};is.version="18.3.1-next-f1338f8080-20240426";function gM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gM)}catch(e){console.error(e)}}gM(),gR.exports=is;var bd=gR.exports;const vM=Lt(bd);var kC=bd;Fw.createRoot=kC.createRoot,Fw.hydrateRoot=kC.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(this,arguments)}var go;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(go||(go={}));const CC="popstate";function sz(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return T0("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Tg(s)}return az(t,r,null,e)}function lr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Q1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iz(){return Math.random().toString(36).substr(2,8)}function EC(e,t){return{usr:e.state,key:e.key,idx:t}}function T0(e,t,r,n){return r===void 0&&(r=null),hh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wd(t):t,{state:r,key:t&&t.key||n||iz()})}function Tg(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function az(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=go.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(hh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=go.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:y})}function h(v,y){l=go.Push;let b=T0(m.location,v,y);u=d()+1;let w=EC(b,u),S=m.createHref(b);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}i&&c&&c({action:l,location:m.location,delta:1})}function p(v,y){l=go.Replace;let b=T0(m.location,v,y);u=d();let w=EC(b,u),S=m.createHref(b);o.replaceState(w,"",S),i&&c&&c({action:l,location:m.location,delta:0})}function g(v){let y=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof v=="string"?v:Tg(v);return b=b.replace(/ $/,"%20"),lr(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(CC,f),c=v,()=>{s.removeEventListener(CC,f),c=null}},createHref(v){return t(s,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return o.go(v)}};return m}var OC;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(OC||(OC={}));function oz(e,t,r){return r===void 0&&(r="/"),lz(e,t,r)}function lz(e,t,r,n){let s=typeof t=="string"?wd(t):t,i=Du(s.pathname||"/",r);if(i==null)return null;let o=yM(e);cz(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=bz(i);l=yz(o[c],u)}return l}function yM(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(lr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Eo([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(lr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yM(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:gz(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of xM(i.path))s(i,o,c)}),t}function xM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=xM(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function cz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:vz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const uz=/^:[\w-]+$/,dz=3,fz=2,hz=1,pz=10,mz=-2,PC=e=>e==="*";function gz(e,t){let r=e.split("/"),n=r.length;return r.some(PC)&&(n+=mz),t&&(n+=fz),r.filter(s=>!PC(s)).reduce((s,i)=>s+(uz.test(i)?dz:i===""?hz:pz),n)}function vz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function yz(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=R0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Eo([i,f.pathname]),pathnameBase:Nz(Eo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Eo([i,f.pathnameBase]))}return o}function R0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xz(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function xz(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Q1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function bz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Q1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Du(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const wz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jz=e=>wz.test(e);function _z(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?wd(e):e,i;if(r)if(jz(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Q1(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=AC(r.substring(1),"/"):i=AC(r,t)}else i=t;return{pathname:i,search:kz(n),hash:Cz(s)}}function AC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Pb(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function X1(e,t){let r=Sz(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function J1(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=wd(e):(s=hh({},e),lr(!s.pathname||!s.pathname.includes("?"),Pb("?","pathname","search",s)),lr(!s.pathname||!s.pathname.includes("#"),Pb("#","pathname","hash",s)),lr(!s.search||!s.search.includes("#"),Pb("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=_z(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Eo=e=>e.join("/").replace(/\/\/+/g,"/"),Nz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ez(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bM=["post","put","patch","delete"];new Set(bM);const Oz=["get",...bM];new Set(Oz);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(this,arguments)}const ky=x.createContext(null),wM=x.createContext(null),Oa=x.createContext(null),Cy=x.createContext(null),Di=x.createContext({outlet:null,matches:[],isDataRoute:!1}),jM=x.createContext(null);function Pz(e,t){let{relative:r}=t===void 0?{}:t;jd()||lr(!1);let{basename:n,navigator:s}=x.useContext(Oa),{hash:i,pathname:o,search:l}=Ey(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Eo([n,o])),s.createHref({pathname:c,search:l,hash:i})}function jd(){return x.useContext(Cy)!=null}function Li(){return jd()||lr(!1),x.useContext(Cy).location}function _M(e){x.useContext(Oa).static||x.useLayoutEffect(e)}function Vo(){let{isDataRoute:e}=x.useContext(Di);return e?Hz():Az()}function Az(){jd()||lr(!1);let e=x.useContext(ky),{basename:t,future:r,navigator:n}=x.useContext(Oa),{matches:s}=x.useContext(Di),{pathname:i}=Li(),o=JSON.stringify(X1(s,r.v7_relativeSplatPath)),l=x.useRef(!1);return _M(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=J1(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Eo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const Tz=x.createContext(null);function Rz(e){let t=x.useContext(Di).outlet;return t&&x.createElement(Tz.Provider,{value:e},t)}function $z(){let{matches:e}=x.useContext(Di),t=e[e.length-1];return t?t.params:{}}function Ey(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Oa),{matches:s}=x.useContext(Di),{pathname:i}=Li(),o=JSON.stringify(X1(s,n.v7_relativeSplatPath));return x.useMemo(()=>J1(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Mz(e,t){return Iz(e,t)}function Iz(e,t,r,n){jd()||lr(!1);let{navigator:s}=x.useContext(Oa),{matches:i}=x.useContext(Di),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Li(),d;if(t){var f;let v=typeof t=="string"?wd(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||lr(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=oz(e,{pathname:p}),m=Bz(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Eo([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Eo([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&m?x.createElement(Cy.Provider,{value:{location:ph({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:go.Pop}},m):m}function Dz(){let e=Vz(),t=Ez(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const Lz=x.createElement(Dz,null);class Fz extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Di.Provider,{value:this.props.routeContext},x.createElement(jM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Uz(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(ky);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Di.Provider,{value:t},n)}function Bz(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||lr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||Lz,c&&(u<0&&h===0?(Kz("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),b=()=>{let w;return p?w=m:g?w=v:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(Uz,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(Fz,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var SM=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(SM||{}),NM=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(NM||{});function zz(e){let t=x.useContext(ky);return t||lr(!1),t}function qz(e){let t=x.useContext(wM);return t||lr(!1),t}function Wz(e){let t=x.useContext(Di);return t||lr(!1),t}function kM(e){let t=Wz(),r=t.matches[t.matches.length-1];return r.route.id||lr(!1),r.route.id}function Vz(){var e;let t=x.useContext(jM),r=qz(),n=kM();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Hz(){let{router:e}=zz(SM.UseNavigateStable),t=kM(NM.UseNavigateStable),r=x.useRef(!1);return _M(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ph({fromRouteId:t},i)))},[e,t])}const TC={};function Kz(e,t,r){TC[e]||(TC[e]=!0)}function Gz(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Yz(e){let{to:t,replace:r,state:n,relative:s}=e;jd()||lr(!1);let{future:i,static:o}=x.useContext(Oa),{matches:l}=x.useContext(Di),{pathname:c}=Li(),u=Vo(),d=J1(t,X1(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function CM(e){return Rz(e.context)}function pt(e){lr(!1)}function Qz(e){let{basename:t="/",children:r=null,location:n,navigationType:s=go.Pop,navigator:i,static:o=!1,future:l}=e;jd()&&lr(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:o,future:ph({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=wd(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=x.useMemo(()=>{let v=Du(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:s}},[c,d,f,h,p,g,s]);return m==null?null:x.createElement(Oa.Provider,{value:u},x.createElement(Cy.Provider,{children:r,value:m}))}function Xz(e){let{children:t,location:r}=e;return Mz($0(t),r)}new Promise(()=>{});function $0(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,$0(n.props.children,i));return}n.type!==pt&&lr(!1),!n.props.index||!n.props.children||lr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=$0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function EM(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Jz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zz(e,t){return e.button===0&&(!t||t==="_self")&&!Jz(e)}function M0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function eq(e,t){let r=M0(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const tq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rq=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],nq="6";try{window.__reactRouterVersion=nq}catch{}const sq=x.createContext({isTransitioning:!1}),iq="startTransition",RC=uy[iq];function aq(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=sz({window:s,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&RC?RC(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>Gz(n),[n]),x.createElement(Qz,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const oq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,me=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=EM(t,tq),{basename:p}=x.useContext(Oa),g,m=!1;if(typeof u=="string"&&lq.test(u)&&(g=u,oq))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Du(S.pathname,p);S.origin===w.origin&&j!=null?u=j+S.search+S.hash:m=!0}catch{}let v=Pz(u,{relative:s}),y=dq(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||y(w)}return x.createElement("a",Rg({},h,{href:g||v,onClick:m||i?n:b,ref:r,target:c}))}),cq=x.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=EM(t,rq),h=Ey(c,{relative:f.relative}),p=Li(),g=x.useContext(wM),{navigator:m,basename:v}=x.useContext(Oa),y=g!=null&&hq(h)&&u===!0,b=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,w=p.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(w=w.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase()),S&&v&&(S=Du(S,v)||S);const j=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let _=w===b||!o&&w.startsWith(b)&&w.charAt(j)==="/",N=S!=null&&(S===b||!o&&S.startsWith(b)&&S.charAt(b.length)==="/"),k={isActive:_,isPending:N,isTransitioning:y},C=_?n:void 0,T;typeof i=="function"?T=i(k):T=[i,_?"active":null,N?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(k):l;return x.createElement(me,Rg({},f,{"aria-current":C,className:T,ref:r,style:I,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var I0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(I0||(I0={}));var $C;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($C||($C={}));function uq(e){let t=x.useContext(ky);return t||lr(!1),t}function dq(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Vo(),u=Li(),d=Ey(e,{relative:o});return x.useCallback(f=>{if(Zz(f,r)){f.preventDefault();let h=n!==void 0?n:Tg(u)===Tg(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function fq(e){let t=x.useRef(M0(e)),r=x.useRef(!1),n=Li(),s=x.useMemo(()=>eq(n.search,r.current?null:t.current),[n.search]),i=Vo(),o=x.useCallback((l,c)=>{const u=M0(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function hq(e,t){t===void 0&&(t={});let r=x.useContext(sq);r==null&&lr(!1);let{basename:n}=uq(I0.useViewTransitionState),s=Ey(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Du(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Du(r.nextLocation.pathname,n)||r.nextLocation.pathname;return R0(s.pathname,o)!=null||R0(s.pathname,i)!=null}var _d=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pq={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},so,t1,GT,mq=(GT=class{constructor(){$e(this,so,pq);$e(this,t1,!1)}setTimeoutProvider(e){xe(this,so,e)}setTimeout(e,t){return F(this,so).setTimeout(e,t)}clearTimeout(e){F(this,so).clearTimeout(e)}setInterval(e,t){return F(this,so).setInterval(e,t)}clearInterval(e){F(this,so).clearInterval(e)}},so=new WeakMap,t1=new WeakMap,GT),bl=new mq;function gq(e){setTimeout(e,0)}var Hl=typeof window>"u"||"Deno"in globalThis;function mn(){}function vq(e,t){return typeof e=="function"?e(t):e}function D0(e){return typeof e=="number"&&e>=0&&e!==1/0}function OM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Oo(e,t){return typeof e=="function"?e(t):e}function fs(e,t){return typeof e=="function"?e(t):e}function MC(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Z1(o,t.options))return!1}else if(!mh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function IC(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Kl(t.options.mutationKey)!==Kl(i))return!1}else if(!mh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Z1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Kl)(e)}function Kl(e){return JSON.stringify(e,(t,r)=>L0(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function mh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>mh(e[r],t[r])):!1}var yq=Object.prototype.hasOwnProperty;function PM(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=DC(e)&&DC(t);if(!n&&!(L0(e)&&L0(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:o[d],h=e[f],p=t[f];if(h===p){c[f]=h,(n?d<i:yq.call(e,f))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){c[f]=p;continue}const g=PM(h,p,r+1);c[f]=g,g===h&&u++}return i===l&&u===i?e:c}function $g(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function DC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function L0(e){if(!LC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!LC(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function LC(e){return Object.prototype.toString.call(e)==="[object Object]"}function xq(e){return new Promise(t=>{bl.setTimeout(t,e)})}function F0(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?PM(e,t):t}function bq(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function wq(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var eS=Symbol();function AM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===eS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function tS(e,t){return typeof e=="function"?e(...t):!!e}function jq(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var El,io,yu,YT,_q=(YT=class extends _d{constructor(){super();$e(this,El);$e(this,io);$e(this,yu);xe(this,yu,t=>{if(!Hl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,io)||this.setEventListener(F(this,yu))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,io))==null||t.call(this),xe(this,io,void 0))}setEventListener(t){var r;xe(this,yu,t),(r=F(this,io))==null||r.call(this),xe(this,io,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){F(this,El)!==t&&(xe(this,El,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof F(this,El)=="boolean"?F(this,El):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},El=new WeakMap,io=new WeakMap,yu=new WeakMap,YT),rS=new _q;function U0(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var Sq=gq;function Nq(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=Sq;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Tr=Nq(),xu,ao,bu,QT,kq=(QT=class extends _d{constructor(){super();$e(this,xu,!0);$e(this,ao);$e(this,bu);xe(this,bu,t=>{if(!Hl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,ao)||this.setEventListener(F(this,bu))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,ao))==null||t.call(this),xe(this,ao,void 0))}setEventListener(t){var r;xe(this,bu,t),(r=F(this,ao))==null||r.call(this),xe(this,ao,t(this.setOnline.bind(this)))}setOnline(t){F(this,xu)!==t&&(xe(this,xu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return F(this,xu)}},xu=new WeakMap,ao=new WeakMap,bu=new WeakMap,QT),Mg=new kq;function Cq(e){return Math.min(1e3*2**e,3e4)}function TM(e){return(e??"online")==="online"?Mg.isOnline():!0}var B0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function RM(e){let t=!1,r=0,n;const s=U0(),i=()=>s.status!=="pending",o=m=>{var v;if(!i()){const y=new B0(m);h(y),(v=e.onCancel)==null||v.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>rS.isFocused()&&(e.networkMode==="always"||Mg.isOnline())&&e.canRun(),d=()=>TM(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),s.resolve(m))},h=m=>{i()||(n==null||n(),s.reject(m))},p=()=>new Promise(m=>{var v;n=y=>{(i()||u())&&m(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(i())return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var _;if(i())return;const b=e.retry??(Hl?0:3),w=e.retryDelay??Cq,S=typeof w=="function"?w(r,y):w,j=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!j){h(y);return}r++,(_=e.onFail)==null||_.call(e,r,y),xq(S).then(()=>u()?void 0:p()).then(()=>{t?h(y):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),s)}}var Ol,XT,$M=(XT=class{constructor(){$e(this,Ol)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),D0(this.gcTime)&&xe(this,Ol,bl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hl?1/0:5*60*1e3))}clearGcTimeout(){F(this,Ol)&&(bl.clearTimeout(F(this,Ol)),xe(this,Ol,void 0))}},Ol=new WeakMap,XT),Pl,wu,ds,Al,Fr,mp,Tl,Vs,Gi,JT,Eq=(JT=class extends $M{constructor(t){super();$e(this,Vs);$e(this,Pl);$e(this,wu);$e(this,ds);$e(this,Al);$e(this,Fr);$e(this,mp);$e(this,Tl);xe(this,Tl,!1),xe(this,mp,t.defaultOptions),this.setOptions(t.options),this.observers=[],xe(this,Al,t.client),xe(this,ds,F(this,Al).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xe(this,Pl,UC(this.options)),this.state=t.state??F(this,Pl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,Fr))==null?void 0:t.promise}setOptions(t){if(this.options={...F(this,mp),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=UC(this.options);r.data!==void 0&&(this.setState(FC(r.data,r.dataUpdatedAt)),xe(this,Pl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,ds).remove(this)}setData(t,r){const n=F0(this.state.data,t,this.options);return st(this,Vs,Gi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){st(this,Vs,Gi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=F(this,Fr))==null?void 0:n.promise;return(s=F(this,Fr))==null||s.cancel(t),r?r.then(mn).catch(mn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Pl))}isActive(){return this.observers.some(t=>fs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===eS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Oo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!OM(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,Fr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,Fr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,ds).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(F(this,Fr)&&(F(this,Tl)?F(this,Fr).cancel({revert:!0}):F(this,Fr).cancelRetry()),this.scheduleGc()),F(this,ds).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,Vs,Gi).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,g,m,v,y,b,w;if(this.state.fetchStatus!=="idle"&&((c=F(this,Fr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,Fr))return F(this,Fr).continueRetry(),F(this,Fr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(j=>j.options.queryFn);S&&this.setOptions(S.options)}const n=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(xe(this,Tl,!0),n.signal)})},i=()=>{const S=AM(this.options,r),_=(()=>{const N={client:F(this,Al),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return xe(this,Tl,!1),this.options.persister?this.options.persister(S,_,this):S(_)},l=(()=>{const S={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Al),state:this.state,fetchFn:i};return s(S),S})();(u=this.options.behavior)==null||u.onFetch(l,this),xe(this,wu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&st(this,Vs,Gi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),xe(this,Fr,RM({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:S=>{S instanceof B0&&S.revert&&this.setState({...F(this,wu),fetchStatus:"idle"}),n.abort()},onFail:(S,j)=>{st(this,Vs,Gi).call(this,{type:"failed",failureCount:S,error:j})},onPause:()=>{st(this,Vs,Gi).call(this,{type:"pause"})},onContinue:()=>{st(this,Vs,Gi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const S=await F(this,Fr).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(p=(h=F(this,ds).config).onSuccess)==null||p.call(h,S,this),(m=(g=F(this,ds).config).onSettled)==null||m.call(g,S,this.state.error,this),S}catch(S){if(S instanceof B0){if(S.silent)return F(this,Fr).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw st(this,Vs,Gi).call(this,{type:"error",error:S}),(y=(v=F(this,ds).config).onError)==null||y.call(v,S,this),(w=(b=F(this,ds).config).onSettled)==null||w.call(b,this.state.data,S,this),S}finally{this.scheduleGc()}}},Pl=new WeakMap,wu=new WeakMap,ds=new WeakMap,Al=new WeakMap,Fr=new WeakMap,mp=new WeakMap,Tl=new WeakMap,Vs=new WeakSet,Gi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...MM(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...FC(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return xe(this,wu,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Tr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,ds).notify({query:this,type:"updated",action:t})})},JT);function MM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function FC(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function UC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Nn,ct,gp,fn,Rl,ju,Ji,oo,vp,_u,Su,$l,Ml,lo,Nu,_t,Nf,z0,q0,W0,V0,H0,K0,G0,IM,ZT,Oq=(ZT=class extends _d{constructor(t,r){super();$e(this,_t);$e(this,Nn);$e(this,ct);$e(this,gp);$e(this,fn);$e(this,Rl);$e(this,ju);$e(this,Ji);$e(this,oo);$e(this,vp);$e(this,_u);$e(this,Su);$e(this,$l);$e(this,Ml);$e(this,lo);$e(this,Nu,new Set);this.options=r,xe(this,Nn,t),xe(this,oo,null),xe(this,Ji,U0()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,ct).addObserver(this),BC(F(this,ct),this.options)?st(this,_t,Nf).call(this):this.updateResult(),st(this,_t,V0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Y0(F(this,ct),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Y0(F(this,ct),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,_t,H0).call(this),st(this,_t,K0).call(this),F(this,ct).removeObserver(this)}setOptions(t){const r=this.options,n=F(this,ct);if(this.options=F(this,Nn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fs(this.options.enabled,F(this,ct))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,_t,G0).call(this),F(this,ct).setOptions(this.options),r._defaulted&&!$g(this.options,r)&&F(this,Nn).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,ct),observer:this});const s=this.hasListeners();s&&zC(F(this,ct),n,this.options,r)&&st(this,_t,Nf).call(this),this.updateResult(),s&&(F(this,ct)!==n||fs(this.options.enabled,F(this,ct))!==fs(r.enabled,F(this,ct))||Oo(this.options.staleTime,F(this,ct))!==Oo(r.staleTime,F(this,ct)))&&st(this,_t,z0).call(this);const i=st(this,_t,q0).call(this);s&&(F(this,ct)!==n||fs(this.options.enabled,F(this,ct))!==fs(r.enabled,F(this,ct))||i!==F(this,lo))&&st(this,_t,W0).call(this,i)}getOptimisticResult(t){const r=F(this,Nn).getQueryCache().build(F(this,Nn),t),n=this.createResult(r,t);return Aq(this,n)&&(xe(this,fn,n),xe(this,ju,this.options),xe(this,Rl,F(this,ct).state)),n}getCurrentResult(){return F(this,fn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&F(this,Ji).status==="pending"&&F(this,Ji).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){F(this,Nu).add(t)}getCurrentQuery(){return F(this,ct)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=F(this,Nn).defaultQueryOptions(t),n=F(this,Nn).getQueryCache().build(F(this,Nn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return st(this,_t,Nf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,fn)))}createResult(t,r){var C;const n=F(this,ct),s=this.options,i=F(this,fn),o=F(this,Rl),l=F(this,ju),u=t!==n?t.state:F(this,gp),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const T=this.hasListeners(),I=!T&&BC(t,r),E=T&&zC(t,n,r,s);(I||E)&&(f={...f,...MM(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:v}=f;p=f.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,y=!0):T=typeof r.placeholderData=="function"?r.placeholderData((C=F(this,Su))==null?void 0:C.state.data,F(this,Su)):r.placeholderData,T!==void 0&&(v="success",p=F0(i==null?void 0:i.data,T,r),h=!0)}if(r.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&r.select===F(this,vp))p=F(this,_u);else try{xe(this,vp,r.select),p=r.select(p),p=F0(i==null?void 0:i.data,p,r),xe(this,_u,p),xe(this,oo,null)}catch(T){xe(this,oo,T)}F(this,oo)&&(g=F(this,oo),p=F(this,_u),m=Date.now(),v="error");const b=f.fetchStatus==="fetching",w=v==="pending",S=v==="error",j=w&&b,_=p!==void 0,k={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:S,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:S&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&_,isStale:nS(t,r),refetch:this.refetch,promise:F(this,Ji),isEnabled:fs(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=k.data!==void 0,I=k.status==="error"&&!T,E=B=>{I?B.reject(k.error):T&&B.resolve(k.data)},U=()=>{const B=xe(this,Ji,k.promise=U0());E(B)},O=F(this,Ji);switch(O.status){case"pending":t.queryHash===n.queryHash&&E(O);break;case"fulfilled":(I||k.data!==O.value)&&U();break;case"rejected":(!I||k.error!==O.reason)&&U();break}}return k}updateResult(){const t=F(this,fn),r=this.createResult(F(this,ct),this.options);if(xe(this,Rl,F(this,ct).state),xe(this,ju,this.options),F(this,Rl).data!==void 0&&xe(this,Su,F(this,ct)),$g(r,t))return;xe(this,fn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!F(this,Nu).size)return!0;const o=new Set(i??F(this,Nu));return this.options.throwOnError&&o.add("error"),Object.keys(F(this,fn)).some(l=>{const c=l;return F(this,fn)[c]!==t[c]&&o.has(c)})};st(this,_t,IM).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,_t,V0).call(this)}},Nn=new WeakMap,ct=new WeakMap,gp=new WeakMap,fn=new WeakMap,Rl=new WeakMap,ju=new WeakMap,Ji=new WeakMap,oo=new WeakMap,vp=new WeakMap,_u=new WeakMap,Su=new WeakMap,$l=new WeakMap,Ml=new WeakMap,lo=new WeakMap,Nu=new WeakMap,_t=new WeakSet,Nf=function(t){st(this,_t,G0).call(this);let r=F(this,ct).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(mn)),r},z0=function(){st(this,_t,H0).call(this);const t=Oo(this.options.staleTime,F(this,ct));if(Hl||F(this,fn).isStale||!D0(t))return;const n=OM(F(this,fn).dataUpdatedAt,t)+1;xe(this,$l,bl.setTimeout(()=>{F(this,fn).isStale||this.updateResult()},n))},q0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,ct)):this.options.refetchInterval)??!1},W0=function(t){st(this,_t,K0).call(this),xe(this,lo,t),!(Hl||fs(this.options.enabled,F(this,ct))===!1||!D0(F(this,lo))||F(this,lo)===0)&&xe(this,Ml,bl.setInterval(()=>{(this.options.refetchIntervalInBackground||rS.isFocused())&&st(this,_t,Nf).call(this)},F(this,lo)))},V0=function(){st(this,_t,z0).call(this),st(this,_t,W0).call(this,st(this,_t,q0).call(this))},H0=function(){F(this,$l)&&(bl.clearTimeout(F(this,$l)),xe(this,$l,void 0))},K0=function(){F(this,Ml)&&(bl.clearInterval(F(this,Ml)),xe(this,Ml,void 0))},G0=function(){const t=F(this,Nn).getQueryCache().build(F(this,Nn),this.options);if(t===F(this,ct))return;const r=F(this,ct);xe(this,ct,t),xe(this,gp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},IM=function(t){Tr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(F(this,fn))}),F(this,Nn).getQueryCache().notify({query:F(this,ct),type:"observerResultsUpdated"})})},ZT);function Pq(e,t){return fs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function BC(e,t){return Pq(e,t)||e.state.data!==void 0&&Y0(e,t,t.refetchOnMount)}function Y0(e,t,r){if(fs(t.enabled,e)!==!1&&Oo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&nS(e,t)}return!1}function zC(e,t,r,n){return(e!==t||fs(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&nS(e,r)}function nS(e,t){return fs(t.enabled,e)!==!1&&e.isStaleByTime(Oo(t.staleTime,e))}function Aq(e,t){return!$g(e.getCurrentResult(),t)}function qC(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=w=>{jq(w,()=>t.signal,()=>m=!0)},y=AM(t.options,t.fetchOptions),b=async(w,S,j)=>{if(m)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};return v(I),I})(),k=await y(N),{maxPages:C}=t.options,T=j?wq:bq;return{pages:T(w.pages,k,C),pageParams:T(w.pageParams,S,C)}};if(s&&i.length){const w=s==="backward",S=w?Tq:WC,j={pages:i,pageParams:o},_=S(n,j);l=await b(j,_,w)}else{const w=e??i.length;do{const S=c===0?o[0]??n.initialPageParam:WC(n,l);if(c>0&&S==null)break;l=await b(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function WC(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Tq(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var yp,xi,sn,Il,bi,Va,eR,Rq=(eR=class extends $M{constructor(t){super();$e(this,bi);$e(this,yp);$e(this,xi);$e(this,sn);$e(this,Il);xe(this,yp,t.client),this.mutationId=t.mutationId,xe(this,sn,t.mutationCache),xe(this,xi,[]),this.state=t.state||DM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,xi).includes(t)||(F(this,xi).push(t),this.clearGcTimeout(),F(this,sn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xe(this,xi,F(this,xi).filter(r=>r!==t)),this.scheduleGc(),F(this,sn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,xi).length||(this.state.status==="pending"?this.scheduleGc():F(this,sn).remove(this))}continue(){var t;return((t=F(this,Il))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,g,m,v,y,b,w,S,j,_,N;const r=()=>{st(this,bi,Va).call(this,{type:"continue"})},n={client:F(this,yp),meta:this.options.meta,mutationKey:this.options.mutationKey};xe(this,Il,RM({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{st(this,bi,Va).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{st(this,bi,Va).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,sn).canRun(this)}));const s=this.state.status==="pending",i=!F(this,Il).canStart();try{if(s)r();else{st(this,bi,Va).call(this,{type:"pending",variables:t,isPaused:i}),F(this,sn).config.onMutate&&await F(this,sn).config.onMutate(t,this,n);const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));C!==this.state.context&&st(this,bi,Va).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const k=await F(this,Il).start();return await((u=(c=F(this,sn).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,n)),await((p=(h=F(this,sn).config).onSettled)==null?void 0:p.call(h,k,null,this.state.variables,this.state.context,this,n)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,k,null,t,this.state.context,n)),st(this,bi,Va).call(this,{type:"success",data:k}),k}catch(k){try{await((y=(v=F(this,sn).config).onError)==null?void 0:y.call(v,k,t,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((w=(b=this.options).onError)==null?void 0:w.call(b,k,t,this.state.context,n))}catch(C){Promise.reject(C)}try{await((j=(S=F(this,sn).config).onSettled)==null?void 0:j.call(S,void 0,k,this.state.variables,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((N=(_=this.options).onSettled)==null?void 0:N.call(_,void 0,k,t,this.state.context,n))}catch(C){Promise.reject(C)}throw st(this,bi,Va).call(this,{type:"error",error:k}),k}finally{F(this,sn).runNext(this)}}},yp=new WeakMap,xi=new WeakMap,sn=new WeakMap,Il=new WeakMap,bi=new WeakSet,Va=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Tr.batch(()=>{F(this,xi).forEach(n=>{n.onMutationUpdate(t)}),F(this,sn).notify({mutation:this,type:"updated",action:t})})},eR);function DM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zi,Hs,xp,tR,$q=(tR=class extends _d{constructor(t={}){super();$e(this,Zi);$e(this,Hs);$e(this,xp);this.config=t,xe(this,Zi,new Set),xe(this,Hs,new Map),xe(this,xp,0)}build(t,r,n){const s=new Rq({client:t,mutationCache:this,mutationId:++Hp(this,xp)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){F(this,Zi).add(t);const r=dm(t);if(typeof r=="string"){const n=F(this,Hs).get(r);n?n.push(t):F(this,Hs).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,Zi).delete(t)){const r=dm(t);if(typeof r=="string"){const n=F(this,Hs).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&F(this,Hs).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=dm(t);if(typeof r=="string"){const n=F(this,Hs).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=dm(t);if(typeof r=="string"){const s=(n=F(this,Hs).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tr.batch(()=>{F(this,Zi).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,Zi).clear(),F(this,Hs).clear()})}getAll(){return Array.from(F(this,Zi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>IC(r,n))}findAll(t={}){return this.getAll().filter(r=>IC(t,r))}notify(t){Tr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Tr.batch(()=>Promise.all(t.map(r=>r.continue().catch(mn))))}},Zi=new WeakMap,Hs=new WeakMap,xp=new WeakMap,tR);function dm(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ea,co,kn,ta,pa,rg,Q0,rR,Mq=(rR=class extends _d{constructor(r,n){super();$e(this,pa);$e(this,ea);$e(this,co);$e(this,kn);$e(this,ta);xe(this,ea,r),this.setOptions(n),this.bindMethods(),st(this,pa,rg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=F(this,ea).defaultMutationOptions(r),$g(this.options,n)||F(this,ea).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,kn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Kl(n.mutationKey)!==Kl(this.options.mutationKey)?this.reset():((s=F(this,kn))==null?void 0:s.state.status)==="pending"&&F(this,kn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,kn))==null||r.removeObserver(this)}onMutationUpdate(r){st(this,pa,rg).call(this),st(this,pa,Q0).call(this,r)}getCurrentResult(){return F(this,co)}reset(){var r;(r=F(this,kn))==null||r.removeObserver(this),xe(this,kn,void 0),st(this,pa,rg).call(this),st(this,pa,Q0).call(this)}mutate(r,n){var s;return xe(this,ta,n),(s=F(this,kn))==null||s.removeObserver(this),xe(this,kn,F(this,ea).getMutationCache().build(F(this,ea),this.options)),F(this,kn).addObserver(this),F(this,kn).execute(r)}},ea=new WeakMap,co=new WeakMap,kn=new WeakMap,ta=new WeakMap,pa=new WeakSet,rg=function(){var n;const r=((n=F(this,kn))==null?void 0:n.state)??DM();xe(this,co,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Q0=function(r){Tr.batch(()=>{var n,s,i,o,l,c,u,d;if(F(this,ta)&&this.hasListeners()){const f=F(this,co).variables,h=F(this,co).context,p={client:F(this,ea),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=F(this,ta)).onSuccess)==null||s.call(n,r.data,f,h,p)}catch(g){Promise.reject(g)}try{(o=(i=F(this,ta)).onSettled)==null||o.call(i,r.data,null,f,h,p)}catch(g){Promise.reject(g)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=F(this,ta)).onError)==null||c.call(l,r.error,f,h,p)}catch(g){Promise.reject(g)}try{(d=(u=F(this,ta)).onSettled)==null||d.call(u,void 0,r.error,f,h,p)}catch(g){Promise.reject(g)}}}this.listeners.forEach(f=>{f(F(this,co))})})},rR),wi,nR,Iq=(nR=class extends _d{constructor(t={}){super();$e(this,wi);this.config=t,xe(this,wi,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Z1(s,r);let o=this.get(i);return o||(o=new Eq({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){F(this,wi).has(t.queryHash)||(F(this,wi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=F(this,wi).get(t.queryHash);r&&(t.destroy(),r===t&&F(this,wi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,wi).get(t)}getAll(){return[...F(this,wi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>MC(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>MC(t,n)):r}notify(t){Tr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wi=new WeakMap,nR),ur,uo,fo,ku,Cu,ho,Eu,Ou,sR,Dq=(sR=class{constructor(e={}){$e(this,ur);$e(this,uo);$e(this,fo);$e(this,ku);$e(this,Cu);$e(this,ho);$e(this,Eu);$e(this,Ou);xe(this,ur,e.queryCache||new Iq),xe(this,uo,e.mutationCache||new $q),xe(this,fo,e.defaultOptions||{}),xe(this,ku,new Map),xe(this,Cu,new Map),xe(this,ho,0)}mount(){Hp(this,ho)._++,F(this,ho)===1&&(xe(this,Eu,rS.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,ur).onFocus())})),xe(this,Ou,Mg.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,ur).onOnline())})))}unmount(){var e,t;Hp(this,ho)._--,F(this,ho)===0&&((e=F(this,Eu))==null||e.call(this),xe(this,Eu,void 0),(t=F(this,Ou))==null||t.call(this),xe(this,Ou,void 0))}isFetching(e){return F(this,ur).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,uo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,ur).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=F(this,ur).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Oo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return F(this,ur).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=F(this,ur).get(n.queryHash),i=s==null?void 0:s.state.data,o=vq(t,i);if(o!==void 0)return F(this,ur).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Tr.batch(()=>F(this,ur).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,ur).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=F(this,ur);Tr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=F(this,ur);return Tr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Tr.batch(()=>F(this,ur).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(mn).catch(mn)}invalidateQueries(e,t={}){return Tr.batch(()=>(F(this,ur).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Tr.batch(()=>F(this,ur).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(mn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(mn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=F(this,ur).build(this,t);return r.isStaleByTime(Oo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mn).catch(mn)}fetchInfiniteQuery(e){return e.behavior=qC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mn).catch(mn)}ensureInfiniteQueryData(e){return e.behavior=qC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mg.isOnline()?F(this,uo).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,ur)}getMutationCache(){return F(this,uo)}getDefaultOptions(){return F(this,fo)}setDefaultOptions(e){xe(this,fo,e)}setQueryDefaults(e,t){F(this,ku).set(Kl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,ku).values()],r={};return t.forEach(n=>{mh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){F(this,Cu).set(Kl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,Cu).values()],r={};return t.forEach(n=>{mh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,fo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Z1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===eS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,fo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,ur).clear(),F(this,uo).clear()}},ur=new WeakMap,uo=new WeakMap,fo=new WeakMap,ku=new WeakMap,Cu=new WeakMap,ho=new WeakMap,Eu=new WeakMap,Ou=new WeakMap,sR),LM=x.createContext(void 0),je=e=>{const t=x.useContext(LM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Lq=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(LM.Provider,{value:e,children:t})),FM=x.createContext(!1),Fq=()=>x.useContext(FM);FM.Provider;function Uq(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Bq=x.createContext(Uq()),zq=()=>x.useContext(Bq),qq=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?tS(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},Wq=e=>{x.useEffect(()=>{e.clearReset()},[e])},Vq=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||tS(r,[e.error,n])),Hq=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Kq=(e,t)=>e.isLoading&&e.isFetching&&!t,Gq=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,VC=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Yq(e,t,r){var h,p,g,m;const n=Fq(),s=zq(),i=je(),o=i.defaultQueryOptions(e);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",Hq(o),qq(o,s,l),Wq(s);const c=!i.getQueryCache().get(o.queryHash),[u]=x.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const y=f?u.subscribe(Tr.batchCalls(v)):mn;return u.updateResult(),y},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),x.useEffect(()=>{u.setOptions(o)},[o,u]),Gq(o,d))throw VC(o,u,s);if(Vq({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((m=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||m.call(g,o,d),o.experimental_prefetchInRender&&!Hl&&Kq(d,n)){const v=c?VC(o,u,s):l==null?void 0:l.promise;v==null||v.catch(mn).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function De(e,t){return Yq(e,Oq)}function _e(e,t){const r=je(),[n]=x.useState(()=>new Mq(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const s=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(Tr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((o,l)=>{n.mutate(o,l).catch(mn)},[n]);if(s.error&&tS(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var Qq=e=>{switch(e){case"success":return Zq;case"info":return tW;case"warning":return eW;case"error":return rW;default:return null}},Xq=Array(12).fill(0),Jq=({visible:e,className:t})=>P.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},P.createElement("div",{className:"sonner-spinner"},Xq.map((r,n)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Zq=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eW=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tW=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),rW=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nW=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),sW=()=>{let[e,t]=P.useState(document.hidden);return P.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},X0=1,iW=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:X0++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],P.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(oW(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||X0++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Cn=new iW,aW=(e,t)=>{let r=(t==null?void 0:t.id)||X0++;return Cn.addToast({title:e,...t,id:r}),r},oW=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",lW=aW,cW=()=>Cn.toasts,uW=()=>Cn.getActiveToasts(),V=Object.assign(lW,{success:Cn.success,info:Cn.info,warning:Cn.warning,error:Cn.error,custom:Cn.custom,message:Cn.message,promise:Cn.promise,dismiss:Cn.dismiss,loading:Cn.loading},{getHistory:cW,getToasts:uW});function dW(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}dW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fm(e){return e.label!==void 0}var fW=3,hW="32px",pW="16px",HC=4e3,mW=356,gW=14,vW=20,yW=200;function Ds(...e){return e.filter(Boolean).join(" ")}function xW(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var bW=e=>{var t,r,n,s,i,o,l,c,u,d,f;let{invert:h,toast:p,unstyled:g,interacting:m,setHeights:v,visibleToasts:y,heights:b,index:w,toasts:S,expanded:j,removeToast:_,defaultRichColors:N,closeButton:k,style:C,cancelButtonStyle:T,actionButtonStyle:I,className:E="",descriptionClassName:U="",duration:O,position:B,gap:A,loadingIcon:z,expandByDefault:L,classNames:R,icons:$,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:G}=e,[ie,he]=P.useState(null),[Le,Fe]=P.useState(null),[ce,Me]=P.useState(!1),[re,pe]=P.useState(!1),[H,K]=P.useState(!1),[Ye,Ue]=P.useState(!1),[wt,yt]=P.useState(!1),[Zt,tn]=P.useState(0),[Sn,hi]=P.useState(0),D=P.useRef(p.duration||O||HC),W=P.useRef(null),Y=P.useRef(null),ye=w===0,fe=w+1<=y,se=p.type,Ae=p.dismissible!==!1,xt=p.className||"",bt=p.descriptionClassName||"",vr=P.useMemo(()=>b.findIndex(et=>et.toastId===p.id)||0,[b,p.id]),Wi=P.useMemo(()=>{var et;return(et=p.closeButton)!=null?et:k},[p.closeButton,k]),Ts=P.useMemo(()=>p.duration||O||HC,[p.duration,O]),Kd=P.useRef(0),pi=P.useRef(0),bc=P.useRef(0),Da=P.useRef(null),[Vp,tb]=B.split("-"),Gd=P.useMemo(()=>b.reduce((et,Mt,er)=>er>=vr?et:et+Mt.height,0),[b,vr]),gk=sW(),PB=p.invert||h,rb=se==="loading";pi.current=P.useMemo(()=>vr*A+Gd,[vr,Gd]),P.useEffect(()=>{D.current=Ts},[Ts]),P.useEffect(()=>{Me(!0)},[]),P.useEffect(()=>{let et=Y.current;if(et){let Mt=et.getBoundingClientRect().height;return hi(Mt),v(er=>[{toastId:p.id,height:Mt,position:p.position},...er]),()=>v(er=>er.filter(Rs=>Rs.toastId!==p.id))}},[v,p.id]),P.useLayoutEffect(()=>{if(!ce)return;let et=Y.current,Mt=et.style.height;et.style.height="auto";let er=et.getBoundingClientRect().height;et.style.height=Mt,hi(er),v(Rs=>Rs.find($s=>$s.toastId===p.id)?Rs.map($s=>$s.toastId===p.id?{...$s,height:er}:$s):[{toastId:p.id,height:er,position:p.position},...Rs])},[ce,p.title,p.description,v,p.id]);let La=P.useCallback(()=>{pe(!0),tn(pi.current),v(et=>et.filter(Mt=>Mt.toastId!==p.id)),setTimeout(()=>{_(p)},yW)},[p,_,v,pi]);P.useEffect(()=>{if(p.promise&&se==="loading"||p.duration===1/0||p.type==="loading")return;let et;return j||m||G&&gk?(()=>{if(bc.current<Kd.current){let Mt=new Date().getTime()-Kd.current;D.current=D.current-Mt}bc.current=new Date().getTime()})():D.current!==1/0&&(Kd.current=new Date().getTime(),et=setTimeout(()=>{var Mt;(Mt=p.onAutoClose)==null||Mt.call(p,p),La()},D.current)),()=>clearTimeout(et)},[j,m,p,se,G,gk,La]),P.useEffect(()=>{p.delete&&La()},[La,p.delete]);function AB(){var et,Mt,er;return $!=null&&$.loading?P.createElement("div",{className:Ds(R==null?void 0:R.loader,(et=p==null?void 0:p.classNames)==null?void 0:et.loader,"sonner-loader"),"data-visible":se==="loading"},$.loading):z?P.createElement("div",{className:Ds(R==null?void 0:R.loader,(Mt=p==null?void 0:p.classNames)==null?void 0:Mt.loader,"sonner-loader"),"data-visible":se==="loading"},z):P.createElement(Jq,{className:Ds(R==null?void 0:R.loader,(er=p==null?void 0:p.classNames)==null?void 0:er.loader),visible:se==="loading"})}return P.createElement("li",{tabIndex:0,ref:Y,className:Ds(E,xt,R==null?void 0:R.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[se],(r=p==null?void 0:p.classNames)==null?void 0:r[se]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:N,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":ce,"data-promise":!!p.promise,"data-swiped":wt,"data-removed":re,"data-visible":fe,"data-y-position":Vp,"data-x-position":tb,"data-index":w,"data-front":ye,"data-swiping":H,"data-dismissible":Ae,"data-type":se,"data-invert":PB,"data-swipe-out":Ye,"data-swipe-direction":Le,"data-expanded":!!(j||L&&ce),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${re?Zt:pi.current}px`,"--initial-height":L?"auto":`${Sn}px`,...C,...p.style},onDragEnd:()=>{K(!1),he(null),Da.current=null},onPointerDown:et=>{rb||!Ae||(W.current=new Date,tn(pi.current),et.target.setPointerCapture(et.pointerId),et.target.tagName!=="BUTTON"&&(K(!0),Da.current={x:et.clientX,y:et.clientY}))},onPointerUp:()=>{var et,Mt,er,Rs;if(Ye||!Ae)return;Da.current=null;let $s=Number(((et=Y.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fa=Number(((Mt=Y.current)==null?void 0:Mt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),nl=new Date().getTime()-((er=W.current)==null?void 0:er.getTime()),Ms=ie==="x"?$s:Fa,Ua=Math.abs(Ms)/nl;if(Math.abs(Ms)>=vW||Ua>.11){tn(pi.current),(Rs=p.onDismiss)==null||Rs.call(p,p),Fe(ie==="x"?$s>0?"right":"left":Fa>0?"down":"up"),La(),Ue(!0),yt(!1);return}K(!1),he(null)},onPointerMove:et=>{var Mt,er,Rs,$s;if(!Da.current||!Ae||((Mt=window.getSelection())==null?void 0:Mt.toString().length)>0)return;let Fa=et.clientY-Da.current.y,nl=et.clientX-Da.current.x,Ms=(er=e.swipeDirections)!=null?er:xW(B);!ie&&(Math.abs(nl)>1||Math.abs(Fa)>1)&&he(Math.abs(nl)>Math.abs(Fa)?"x":"y");let Ua={x:0,y:0};ie==="y"?(Ms.includes("top")||Ms.includes("bottom"))&&(Ms.includes("top")&&Fa<0||Ms.includes("bottom")&&Fa>0)&&(Ua.y=Fa):ie==="x"&&(Ms.includes("left")||Ms.includes("right"))&&(Ms.includes("left")&&nl<0||Ms.includes("right")&&nl>0)&&(Ua.x=nl),(Math.abs(Ua.x)>0||Math.abs(Ua.y)>0)&&yt(!0),(Rs=Y.current)==null||Rs.style.setProperty("--swipe-amount-x",`${Ua.x}px`),($s=Y.current)==null||$s.style.setProperty("--swipe-amount-y",`${Ua.y}px`)}},Wi&&!p.jsx?P.createElement("button",{"aria-label":J,"data-disabled":rb,"data-close-button":!0,onClick:rb||!Ae?()=>{}:()=>{var et;La(),(et=p.onDismiss)==null||et.call(p,p)},className:Ds(R==null?void 0:R.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=$==null?void 0:$.close)!=null?i:nW):null,p.jsx||x.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:P.createElement(P.Fragment,null,se||p.icon||p.promise?P.createElement("div",{"data-icon":"",className:Ds(R==null?void 0:R.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||AB():null,p.type!=="loading"?p.icon||($==null?void 0:$[se])||Qq(se):null):null,P.createElement("div",{"data-content":"",className:Ds(R==null?void 0:R.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},P.createElement("div",{"data-title":"",className:Ds(R==null?void 0:R.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?P.createElement("div",{"data-description":"",className:Ds(U,bt,R==null?void 0:R.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),x.isValidElement(p.cancel)?p.cancel:p.cancel&&fm(p.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||T,onClick:et=>{var Mt,er;fm(p.cancel)&&Ae&&((er=(Mt=p.cancel).onClick)==null||er.call(Mt,et),La())},className:Ds(R==null?void 0:R.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,x.isValidElement(p.action)?p.action:p.action&&fm(p.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:et=>{var Mt,er;fm(p.action)&&((er=(Mt=p.action).onClick)==null||er.call(Mt,et),!et.defaultPrevented&&La())},className:Ds(R==null?void 0:R.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function KC(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function wW(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?pW:hW;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var jW=x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:g=fW,toastOptions:m,dir:v=KC(),gap:y=gW,loadingIcon:b,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=e,[_,N]=P.useState([]),k=P.useMemo(()=>Array.from(new Set([n].concat(_.filter(G=>G.position).map(G=>G.position)))),[_,n]),[C,T]=P.useState([]),[I,E]=P.useState(!1),[U,O]=P.useState(!1),[B,A]=P.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=P.useRef(null),L=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=P.useRef(null),$=P.useRef(!1),J=P.useCallback(G=>{N(ie=>{var he;return(he=ie.find(Le=>Le.id===G.id))!=null&&he.delete||Cn.dismiss(G.id),ie.filter(({id:Le})=>Le!==G.id)})},[]);return P.useEffect(()=>Cn.subscribe(G=>{if(G.dismiss){N(ie=>ie.map(he=>he.id===G.id?{...he,delete:!0}:he));return}setTimeout(()=>{vM.flushSync(()=>{N(ie=>{let he=ie.findIndex(Le=>Le.id===G.id);return he!==-1?[...ie.slice(0,he),{...ie[he],...G},...ie.slice(he+1)]:[G,...ie]})})})}),[]),P.useEffect(()=>{if(d!=="system"){A(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:ie})=>{A(ie?"dark":"light")})}catch{G.addListener(({matches:he})=>{try{A(he?"dark":"light")}catch(Le){console.error(Le)}})}},[d]),P.useEffect(()=>{_.length<=1&&E(!1)},[_]),P.useEffect(()=>{let G=ie=>{var he,Le;s.every(Fe=>ie[Fe]||ie.code===Fe)&&(E(!0),(he=z.current)==null||he.focus()),ie.code==="Escape"&&(document.activeElement===z.current||(Le=z.current)!=null&&Le.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[s]),P.useEffect(()=>{if(z.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,$.current=!1)}},[z.current]),P.createElement("section",{ref:t,"aria-label":`${S} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((G,ie)=>{var he;let[Le,Fe]=G.split("-");return _.length?P.createElement("ol",{key:G,dir:v==="auto"?KC():v,tabIndex:-1,ref:z,className:l,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":Le,"data-lifted":I&&_.length>1&&!i,"data-x-position":Fe,style:{"--front-toast-height":`${((he=C[0])==null?void 0:he.height)||0}px`,"--width":`${mW}px`,"--gap":`${y}px`,...p,...wW(c,u)},onBlur:ce=>{$.current&&!ce.currentTarget.contains(ce.relatedTarget)&&($.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||$.current||($.current=!0,R.current=ce.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{U||E(!1)},onDragEnd:()=>E(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},_.filter(ce=>!ce.position&&ie===0||ce.position===G).map((ce,Me)=>{var re,pe;return P.createElement(bW,{key:ce.id,icons:w,index:Me,toast:ce,defaultRichColors:f,duration:(re=m==null?void 0:m.duration)!=null?re:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:g,closeButton:(pe=m==null?void 0:m.closeButton)!=null?pe:o,interacting:U,position:G,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:J,toasts:_.filter(H=>H.position==ce.position),heights:C.filter(H=>H.position==ce.position),setHeights:T,expandByDefault:i,gap:y,loadingIcon:b,expanded:I,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))}),_i=function(){return _i=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},_i.apply(this,arguments)};function Sd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function _W(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function SW(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const NW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class sS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class kW extends sS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class GC extends sS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class YC extends sS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var J0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(J0||(J0={}));class CW{constructor(t,{headers:r={},customFetch:n,region:s=J0.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=NW(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _W(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let v=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const y=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:v}).catch(j=>{throw new kW(j)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new GC(y);if(!y.ok)throw new YC(y);let w=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield y.json():w==="application/octet-stream"||w==="application/pdf"?S=yield y.blob():w==="text/event-stream"?S=y:w==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof YC||l instanceof GC?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var EW=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},OW=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const y=await i.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new EW(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},PW=class extends OW{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const QC=new RegExp("[,()]");var Dc=class extends PW{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&QC.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&QC.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},AW=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new Dc({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Dc({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Dc({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Dc({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Dc({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},TW=class UM{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new AW(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new UM(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{c.searchParams.append(p,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Dc({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class RW{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $W="2.93.3",MW=`realtime-js/${$W}`,IW="1.0.0",BM="2.0.0",XC=BM,Z0=1e4,DW=1e3,LW=100;var Qa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qa||(Qa={}));var Pr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pr||(Pr={}));var Gs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Gs||(Gs={}));var ej;(function(e){e.websocket="websocket"})(ej||(ej={}));var pl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(pl||(pl={}));class FW{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,l.length),g.setUint8(m++,o.length),g.setUint8(m++,u.length),g.setUint8(m++,f.length),g.setUint8(m++,r),Array.from(c,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(l,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(u,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(f,y=>g.setUint8(m++,y.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class zM{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(zt||(zt={}));const JC=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=UW(o,e,t,s),i),{}):{}},UW=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?qM(i,o):tj(o)},qM=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return WW(t,r)}switch(e){case zt.bool:return BW(t);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return zW(t);case zt.json:case zt.jsonb:return qW(t);case zt.timestamp:return VW(t);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return tj(t);default:return tj(t)}},tj=e=>e,BW=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zW=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qW=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},WW=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>qM(t,l))}return e},VW=e=>typeof e=="string"?e.replace(" ","T"):e,WM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ab{constructor(t,r,n={},s=Z0){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ZC;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ZC||(ZC={}));class Bf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bf.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Bf.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bf.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(eE||(eE={}));var zf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zf||(zf={}));var Qi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qi||(Qi={}));class eu{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ab(this,Gs.join,this.params,this.timeout),this.rejoinTimer=new zM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gs.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Bf(this),this.broadcastEndpointURL=WM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[zf.PRESENCE]&&this.bindings[zf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Qi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Qi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Qi.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,y=[];for(let b=0;b<v;b++){const w=m[b],{filter:{event:S,schema:j,table:_,filter:N}}=w,k=p&&p[b];if(k&&k.event===S&&eu.isFilterValueEqual(k.schema,j)&&eu.isFilterValueEqual(k.table,_)&&eu.isFilterValueEqual(k.filter,N))y.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Pr.errored,t==null||t(Qi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Qi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Pr.errored,t==null||t(Qi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Pr.joined&&t===zf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ab(this,Gs.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ab(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>LW){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Gs;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,m,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,m,v,y,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((m=r.ids)===null||m===void 0?void 0:m.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(b=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:v,commit_timestamp:y,type:b,errors:w}=g;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Pr.closed}_isJoined(){return this.state===Pr.joined}_isJoining(){return this.state===Pr.joining}_isLeaving(){return this.state===Pr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&eu.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Gs.close,{},t)}_onError(t){this._on(Gs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=JC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=JC(t.columns,t.old_record)),r}}const Tb=()=>{},hm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},HW=[1e3,2e3,5e3,1e4],KW=1e4,GW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class YW{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Z0,this.transport=null,this.heartbeatIntervalMs=hm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tb,this.ref=0,this.reconnectTimer=null,this.vsn=XC,this.logger=Tb,this.conn=null,this.sendBuffer=[],this.serializer=new FW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ej.websocket}`,this.httpEndpoint=WM(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=RW.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qa.connecting:return pl.Connecting;case Qa.open:return pl.Open;case Qa.closing:return pl.Closing;default:return pl.Closed}}isConnected(){return this.connectionState()===pl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new eu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(DW,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hm.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Qa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qa.open||this.conn.readyState===Qa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Gs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([GW],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:MW};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Gs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new zM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Z0,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:hm.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Tb,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:XC,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>HW[g-1]||KW,this.vsn){case IW:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,m)=>m(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,m)=>m(JSON.parse(g));break;case BM:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var gh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function QW(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function XW(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function JW(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=QW(e.baseUrl,n,s),c=await XW(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,g=p==null?void 0:p.error;throw new gh((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function pm(e){return e.join("")}var ZW=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:pm(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pm(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pm(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pm(e.namespace)}`}),!0}catch(t){if(t instanceof gh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof gh&&r.status===409)return;throw r}}};function jc(e){return e.join("")}var eV=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof gh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof gh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},tV=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=JW({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new ZW(this.client,t),this.tableOps=new eV(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Oy=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Py(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var mm=class extends Oy{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},VM=class extends Oy{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const rV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nV=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},rj=e=>{if(Array.isArray(e))return e.map(r=>rj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=rj(n)}),t},sV=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}function iV(e,t){if(vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aV(e){var t=iV(e,"string");return vh(t)=="symbol"?t:t+""}function oV(e,t,r){return(t=aV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){oV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const rE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},lV=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new mm(rE(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new mm(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new mm(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new mm(s.statusText||`HTTP ${i} error`,i,o,n))}}else t(new VM(rE(e),e,n))},cV=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Ke(Ke({},s),r):(nV(n)?(s.headers=Ke({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Ke(Ke({},s),r))};async function nf(e,t,r,n,s,i,o){return new Promise((l,c)=>{e(r,cV(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>lV(u,c,n,o))})}function HM(e="storage"){return{get:async(t,r,n,s)=>nf(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>nf(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>nf(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>nf(t,"HEAD",r,Ke(Ke({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>nf(t,"DELETE",r,s,i,n,e)}}const uV=HM("storage"),{get:yh,post:Ws,put:nj,head:dV,remove:iS}=uV,Kn=HM("vectors");var Nd=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=rV(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Py(r))return{data:null,error:r};throw r}}},fV=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Py(t))return{data:null,error:t};throw t}}};let KM;KM=Symbol.toStringTag;var hV=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[KM]="BlobDownloadBuilder",this.promise=null}asStream(){return new fV(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Py(t))return{data:null,error:t};throw t}}};const pV={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var mV=class extends Nd{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=Ke(Ke({},nE),n);let l=Ke(Ke({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Ke(Ke({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?nj:Ws)(s.fetch,`${s.url}/object/${d}`,i,Ke({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=Ke({upsert:nE.upsert},n),d=Ke(Ke({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await nj(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=Ke({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Ws(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Oy("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Ws(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Ws(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await Ws(n.fetch,`${n.url}/object/sign/${s}`,Ke({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await Ws(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>Ke(Ke({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>yh(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new hV(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>rj(await yh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await dV(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Py(n)&&n instanceof VM){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await iS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=Ke(Ke(Ke({},pV),t),{},{prefix:e||""});return await Ws(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Ke({},e);return await Ws(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const gV="2.93.3",Np={"X-Client-Info":`storage-js/${gV}`};var vV=class extends Nd{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=Ke(Ke({},Np),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await yh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await yh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Ws(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await nj(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ws(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await iS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},yV=class extends Nd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Ke(Ke({},Np),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ws(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await yh(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await iS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!sV(e))throw new Oy("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new tV({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},xV=class extends Nd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Ke(Ke({},Np),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Kn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Kn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Kn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Kn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},bV=class extends Nd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Ke(Ke({},Np),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Kn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Kn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Kn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Kn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Kn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},wV=class extends Nd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Ke(Ke({},Np),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Kn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Kn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Kn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Kn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},jV=class extends wV{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new _V(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},_V=class extends xV{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new SV(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},SV=class extends bV{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},NV=class extends vV{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new mV(this.url,this.headers,e,this.fetch)}get vectors(){return new jV(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yV(this.url+"/iceberg",this.headers,this.fetch)}};const GM="2.93.3",Lc=30*1e3,sj=3,Rb=sj*Lc,kV="http://localhost:9999",CV="supabase.auth.token",EV={"X-Client-Info":`gotrue-js/${GM}`},ij="X-Supabase-Api-Version",YM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},OV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,PV=10*60*1e3;class xh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AV extends xh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function TV(e){return Re(e)&&e.name==="AuthApiError"}class ml extends xh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pa extends xh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class zn extends Pa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $b(e){return Re(e)&&e.name==="AuthSessionMissingError"}class _c extends Pa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gm extends Pa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vm extends Pa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RV(e){return Re(e)&&e.name==="AuthImplicitGrantRedirectError"}class sE extends Pa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $V extends Pa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class aj extends Pa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Mb(e){return Re(e)&&e.name==="AuthRetryableFetchError"}class iE extends Pa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class oj extends Pa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ig="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aE=` 	
\r=`.split(""),MV=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<aE.length;t+=1)e[aE[t].charCodeAt(0)]=-2;for(let t=0;t<Ig.length;t+=1)e[Ig[t].charCodeAt(0)]=t;return e})();function oE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ig[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ig[n]),t.queuedBits-=6}}function QM(e,t,r){const n=MV[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function lE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{LV(o,n,r)};for(let o=0;o<e.length;o+=1)QM(e.charCodeAt(o),s,i);return t.join("")}function IV(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DV(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}IV(n,t)}}function LV(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function uu(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)QM(e.charCodeAt(s),r,n);return new Uint8Array(t)}function FV(e){const t=[];return DV(e,r=>t.push(r)),new Uint8Array(t)}function wl(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>oE(s,r,n)),oE(null,r,n),t.join("")}function UV(e){return Math.round(Date.now()/1e3)+e}function BV(){return Symbol("auth-callback")}const Kr=()=>typeof window<"u"&&typeof document<"u",sl={tested:!1,writable:!1},XM=()=>{if(!Kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sl.tested)return sl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sl.tested=!0,sl.writable=!0}catch{sl.tested=!0,sl.writable=!1}return sl.writable};function zV(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const JM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qV=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},il=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Hr=async(e,t)=>{await e.removeItem(t)};class Ay{constructor(){this.promise=new Ay.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ay.promiseConstructor=Promise;function ym(e){const t=e.split(".");if(t.length!==3)throw new oj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!OV.test(t[n]))throw new oj("JWT not in base64url format");return{header:JSON.parse(lE(t[0])),payload:JSON.parse(lE(t[1])),signature:uu(t[2]),raw:{header:t[0],payload:t[1]}}}async function WV(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function VV(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function HV(e){return("0"+e.toString(16)).substr(-2)}function KV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,HV).join("")}async function GV(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function YV(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await GV(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sc(e,t,r=!1){const n=KV();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Fc(e,`${t}-code-verifier`,s);const i=await YV(n);return[i,n===i?"plain":"s256"]}const QV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XV(e){const t=e.headers.get(ij);if(!t||!t.match(QV))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function JV(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZV(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nc(e){if(!e9.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ib(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function t9(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function cE(e){return JSON.parse(JSON.stringify(e))}const cl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),r9=[502,503,504];async function uE(e){var t;if(!qV(e))throw new aj(cl(e),0);if(r9.includes(e.status))throw new aj(cl(e),e.status);let r;try{r=await e.json()}catch(i){throw new ml(cl(i),i)}let n;const s=XV(e);if(s&&s.getTime()>=YM["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new iE(cl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new zn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new iE(cl(r),e.status,r.weak_password.reasons);throw new AV(cl(r),e.status||500,n)}const n9=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ze(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ij]||(i[ij]=YM["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await s9(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function s9(e,t,r,n,s,i){const o=n9(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new aj(cl(c),0)}if(l.ok||await uE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await uE(c)}}function Bs(e){var t;let r=null;o9(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=UV(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function dE(e){const t=Bs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function to(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function i9(e){return{data:e,error:null}}function a9(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Sd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function fE(e){return e}function o9(e){return e.access_token&&e.refresh_token&&e.expires_in}const Db=["global","local","others"];class l9{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=JM(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Db[0]){if(Db.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Db.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:to})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Sd(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:a9,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:to})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Re(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Nc(t);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:to})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Nc(t);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:to})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Nc(t);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:to})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Nc(t.userId);try{const{data:r,error:n}=await ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Nc(t.userId),Nc(t.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Re(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}}function hE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const kc={debug:!!(globalThis&&XM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ZM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class c9 extends ZM{}async function u9(e,t,r){kc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),kc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){kc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{kc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw kc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new c9(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function d9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function f9(e){return parseInt(e,16)}function h9(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function p9(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=eI(e.address),g=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}y+=b}return`${v}
${y}`}class br extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Dg extends br{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function m9({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new br({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new br({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new br({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new br({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new br({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new br({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new br({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new br({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(tI(o)){if(i.rp.id!==o)return new br({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new br({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new br({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new br({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new br({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function g9({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new br({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new br({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(tI(n)){if(r.rpId!==n)return new br({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new br({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new br({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new br({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class v9{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const y9=new v9;function x9(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Sd(e,["challenge","user","excludeCredentials"]),i=uu(t).buffer,o=Object.assign(Object.assign({},r),{id:uu(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:uu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function b9(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Sd(e,["challenge","allowCredentials"]),s=uu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:uu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function w9(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:wl(new Uint8Array(e.response.attestationObject)),clientDataJSON:wl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function j9(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:wl(new Uint8Array(s.authenticatorData)),clientDataJSON:wl(new Uint8Array(s.clientDataJSON)),signature:wl(new Uint8Array(s.signature)),userHandle:s.userHandle?wl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function pE(){var e,t;return!!(Kr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function _9(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dg("Browser returned unexpected credential type",t)}:{data:null,error:new Dg("Empty credential response",t)}}catch(t){return{data:null,error:m9({error:t,options:e})}}}async function S9(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dg("Browser returned unexpected credential type",t)}:{data:null,error:new Dg("Empty credential response",t)}}catch(t){return{data:null,error:g9({error:t,options:e})}}}const N9={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},k9={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lg(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Lg(l,o):n[i]=Lg(o)}else n[i]=o}return n}function C9(e,t){return Lg(N9,e,t||{})}function E9(e,t){return Lg(k9,e,t||{})}class O9{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??y9.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,g=((o=p==null?void 0:p.user_metadata)===null||o===void 0?void 0:o.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=C9(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await _9({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=E9(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await S9(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return Re(l)?{data:null,error:l}:{data:null,error:new ml("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new xh("rpId is required for WebAuthn authentication")};try{if(!pE())return{data:null,error:new ml("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Re(o)?{data:null,error:o}:{data:null,error:new ml("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new xh("rpId is required for WebAuthn registration")};try{if(!pE())return{data:null,error:new ml("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Re(o)?{data:null,error:o}:{data:null,error:new ml("Unexpected error in register",o)}}}}d9();const P9={url:kV,storageKey:CV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function mE(e,t,r){return await r()}const Cc={};class bh{get jwks(){var t,r;return(r=(t=Cc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Cc[this.storageKey]=Object.assign(Object.assign({},Cc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Cc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Cc[this.storageKey]=Object.assign(Object.assign({},Cc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},P9),t);if(this.storageKey=i.storageKey,this.instanceID=(r=bh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,bh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Kr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new l9({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=JM(i.fetch),this.lock=i.lock||mE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Kr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=u9:this.lock=mE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new O9(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:XM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=hE(this.memoryStorage)),Kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${GM}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Kr()&&(r=zV(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Kr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),RV(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Re(r)?this._returnResult({error:r}):this._returnResult({error:new ml("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Bs}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Sc(this.storage,this.storageKey)),i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Bs})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Bs})}else throw new gm("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Hr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:dE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:dE})}else throw new gm("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new _c;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:v,statement:y,options:b}=t;let w;if(Kr())if(typeof v=="object")w=v;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=eI(j[0]);let N=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await w.request({method:"eth_chainId"});N=f9(C)}const k={domain:S.host,address:_,statement:y,uri:S.href,version:"1",chainId:N,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=p9(k),g=await w.request({method:"personal_sign",params:[h9(p),_]})}try{const{data:m,error:v}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Bs});if(v)throw v;if(!m||!m.session||!m.user){const y=new _c;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if(Re(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:v,wallet:y,statement:b,options:w}=t;let S;if(Kr())if(typeof y=="object")S=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let N;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")N=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)N=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),m=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=_}}try{const{data:v,error:y}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:wl(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Bs});if(y)throw y;if(!v||!v.session||!v.user){const b=new _c;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(Re(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await il(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new $V;const{data:i,error:o}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Bs});if(await Hr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new _c;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Bs}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new _c;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Sc(this.storage,this.storageKey));const{error:f}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new gm("You must provide either an email or phone number.")}catch(l){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Bs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Sc(this.storage,this.storageKey));const u=await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:i9});return!((i=u.data)===null||i===void 0)&&i.url&&Kr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new zn;const{error:s}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Re(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new gm("You must provide either an email or phone number and a type")}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await il(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Rb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await il(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ib()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=t9(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:to}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zn}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:to})})}catch(r){if(Re(r))return $b(r)&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new zn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Sc(this.storage,this.storageKey));const{data:u,error:d}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:to});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ym(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new zn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Kr())throw new vm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new sE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new sE("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new vm("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Lc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(Re(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await il(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!$b(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(TV(l)&&(l.status===404||l.status===401||l.status===403)||$b(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=BV(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Sc(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Kr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Re(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Bs}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new _c}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await VV(async s=>(s>0&&await WV(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Bs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Mb(i)&&Date.now()+o-n<Lc})}catch(n){if(this._debug(r,"error",n),Re(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await il(this.storage,this.storageKey);if(s&&this.userStorage){let o=await il(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Fc(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ib()}else if(s&&!s.user&&!s.user){const o=await il(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Hr(this.storage,this.storageKey+"-user"),await Fc(this.storage,this.storageKey,s)):s.user=Ib()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Rb;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Rb}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Mb(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ay;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new zn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Re(i)){const o={data:null,error:i};return Mb(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Hr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fc(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=cE(s);await Fc(this.storage,this.storageKey,i)}else{const s=cE(r);await Fc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Hr(this.storage,this.storageKey),await Hr(this.storage,this.storageKey+"-code-verifier"),await Hr(this.storage,this.storageKey+"-user"),this.userStorage&&await Hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Lc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Lc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Lc}ms, refresh threshold is ${sj} ticks`),s<=sj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ZM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Sc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?w9(t.webauthn.credential_response):j9(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:x9(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:b9(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:p}=ym(t);let g=null;p.aal&&(g=p.aal);let m=g;const{data:{user:v},error:y}=await this.getUser(t);if(y)return this._returnResult({data:null,error:y});((n=(r=v==null?void 0:v.factors)===null||r===void 0?void 0:r.filter(S=>S.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const w=p.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:w},error:null}}catch(p){if(Re(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ym(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new zn})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new zn});const o=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new zn});const o=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new zn})})}catch(t){if(Re(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zn})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+PV>s)return n;const{data:i,error:o}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=ym(n);r!=null&&r.allowExpired||JV(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=ZV(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,FV(`${l}.${c}`)))throw new oj("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}}bh.nextInstanceID={};const A9=bh,T9="2.93.3";let kf="";typeof Deno<"u"?kf="deno":typeof document<"u"?kf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kf="react-native":kf="node";const R9={"X-Client-Info":`supabase-js-${kf}/${T9}`},$9={headers:R9},M9={schema:"public"},I9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},D9={};function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function L9(e,t){if(wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F9(e){var t=L9(e,"string");return wh(t)=="symbol"?t:t+""}function U9(e,t,r){return(t=F9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){U9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const B9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),z9=()=>Headers,q9=(e,t,r)=>{const n=B9(r),s=z9();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,dr(dr({},o),{},{headers:u}))}};function W9(e){return e.endsWith("/")?e:e+"/"}function V9(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:dr(dr({},c),s),auth:dr(dr({},u),i),realtime:dr(dr({},d),o),storage:{},global:dr(dr(dr({},f),l),{},{headers:dr(dr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function H9(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(W9(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var K9=class extends A9{constructor(e){super(e)}},G9=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=H9(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:M9,realtime:D9,auth:dr(dr({},I9),{},{storageKey:o}),global:$9},c=V9(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=q9(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(dr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new TW(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new NV(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new CW(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new K9({url:this.authUrl.href,headers:dr(dr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new YW(this.realtimeUrl.href,dr(dr({},e),{},{params:dr(dr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Y9=(e,t,r)=>new G9(e,t,r);function Q9(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Q9()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const X9="https://prqmzdstrfmahymkekef.supabase.co",J9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycW16ZHN0cmZtYWh5bWtla2VmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDEwNjI5NiwiZXhwIjoyMDg1NjgyMjk2fQ.EE1JucZWP0ov1l93KyprUqoVMrLoNAUiJbl6xoHRSNs",q=Y9(X9,J9);async function Z9(e,t){const{error:r}=await q.auth.signInWithPassword({email:e,password:t});return r?{success:!1,error:r.message}:{success:!0}}async function eH(){const{error:e}=await q.auth.signOut({scope:"local"});return e?{success:!1,error:e.message}:{success:!0}}async function tH(){const{data:{session:e}}=await q.auth.getSession();return{user:(e==null?void 0:e.user)??null,session:e}}function rH(e){const{data:{subscription:t}}=q.auth.onAuthStateChange((r,n)=>{e(r,n)});return()=>t.unsubscribe()}async function nH(e,t){const r=typeof window<"u"?window.location.origin:"",n=t!=null&&t.redirectTo?`${r}${t.redirectTo.startsWith("/")?t.redirectTo:`/${t.redirectTo}`}`:`${r}/dashboard`,{error:s}=await q.auth.signInWithOAuth({provider:e,options:{redirectTo:n}});return s?{success:!1,error:s.message}:{success:!0}}async function sH(e,t,r){var c,u,d;const n=typeof window<"u"?window.location.origin:"",s=r!=null&&r.redirectTo?`${n}${r.redirectTo.startsWith("/")?r.redirectTo:`/${r.redirectTo}`}`:`${n}/verify-email`,{data:i,error:o}=await q.auth.signUp({email:e,password:t,options:{emailRedirectTo:s}});return o?{success:!1,error:o.message}:{success:!0,needsEmailVerification:!!(i.user&&!((u=(c=i.session)==null?void 0:c.user)!=null&&u.email_confirmed_at)&&((d=i.user.identities)==null?void 0:d.length))}}async function iH(e,t){const n=`${typeof window<"u"?window.location.origin:""}${t.startsWith("/")?t:`/${t}`}`,{error:s}=await q.auth.resetPasswordForEmail(e,{redirectTo:n});return s?{success:!1,error:s.message}:{success:!0}}async function aH(e){const{error:t}=await q.auth.updateUser({password:e});return t?{success:!1,error:t.message}:{success:!0}}function oH(){return typeof window>"u"?!1:window.location.hash.includes("type=recovery")}async function lH(){const{data:{user:e}}=await q.auth.getUser();if(!(e!=null&&e.email))return{success:!1,error:"You must be signed in to resend the verification email."};const r=`${typeof window<"u"?window.location.origin:""}/verify-email`,{error:n}=await q.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:r}});return n?{success:!1,error:n.message}:{success:!0}}async function vE(e){const t=e.trim();if(!t)return{success:!1,error:"Verification token is required."};const{error:r}=await q.auth.verifyOtp({token_hash:t,type:"email"});return r?{success:!1,error:r.message}:{success:!0}}function cH(){if(typeof window>"u")return null;const t=new URLSearchParams(window.location.search).get("token_hash");if(t)return t;const r=window.location.hash;return r?new URLSearchParams(r.replace(/^#/,"")).get("token_hash"):null}async function uH(){const{data:{user:e}}=await q.auth.getUser();return e?!!e.email_confirmed_at:!1}const rI=x.createContext(null);function dH({children:e}){const[t,r]=x.useState({user:null,session:null,isLoading:!0});x.useEffect(()=>{let i=!1;tH().then(({user:l,session:c})=>{i||r({user:l,session:c,isLoading:!1})});const o=rH((l,c)=>{i||r(u=>({...u,user:(c==null?void 0:c.user)??null,session:c,isLoading:!1}))});return()=>{i=!0,o()}},[]);const n=x.useCallback(async()=>{await eH(),r({user:null,session:null,isLoading:!1})},[]),s=x.useMemo(()=>({...t,signOut:n}),[t.user,t.session,t.isLoading,n]);return a.jsx(rI.Provider,{value:s,children:e})}function aS(){const e=x.useContext(rI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function fH(){const{user:e,isLoading:t}=aS(),r=Li();if(t)return a.jsxs("div",{className:"flex flex-1 items-center justify-center p-8",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent","aria-hidden":!0}),a.jsx("span",{className:"sr-only",children:"Loading"})]});if(!e){const n=encodeURIComponent(r.pathname+r.search);return a.jsx(Yz,{to:`/login?returnTo=${n}`,state:{from:r},replace:!0})}return a.jsx(CM,{})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...pH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:nI("lucide",s),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const r=x.forwardRef(({className:n,...s},i)=>x.createElement(mH,{ref:i,iconNode:t,className:nI(`lucide-${hH(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=oe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=oe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=oe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=oe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=oe("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=oe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=oe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=oe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=oe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=oe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=oe("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=oe("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=oe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=oe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=oe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=oe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=oe("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=oe("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=oe("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=oe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=oe("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=oe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=oe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=oe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=oe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=oe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=oe("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=oe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=oe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=oe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=oe("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=oe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=oe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=oe("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=oe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=oe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=oe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=oe("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=oe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=oe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=oe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=oe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=oe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=oe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=oe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=oe("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=oe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=oe("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=oe("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=oe("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=oe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=oe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=oe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=oe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function SI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=SI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ut(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=SI(e))&&(n&&(n+=" "),n+=t);return n}const vS="-",FH=e=>{const t=BH(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(vS);return l[0]===""&&l.length!==1&&l.shift(),NI(l,t)||UH(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},NI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?NI(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(vS);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},wE=/^\[(.+)\]$/,UH=e=>{if(wE.test(e)){const t=wE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},BH=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return qH(Object.entries(e.classGroups),r).forEach(([i,o])=>{cj(o,n,i,t)}),n},cj=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:jE(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(zH(s)){cj(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{cj(o,jE(t,i),r,n)})})},jE=(e,t)=>{let r=e;return t.split(vS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},zH=e=>e.isThemeGetter,qH=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,WH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},kI="!",VH=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===s&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(kI),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},HH=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},KH=e=>({cache:WH(e.cacheSize),parseClassName:VH(e),...FH(e)}),GH=/\s+/,YH=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(GH);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=HH(d).join(":"),y=f?v+kI:v,b=y+m;if(i.includes(b))continue;i.push(b);const w=s(m,g);for(let S=0;S<w.length;++S){const j=w[S];i.push(y+j)}l=u+(l.length>0?" "+l:l)}return l};function QH(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=CI(t))&&(n&&(n+=" "),n+=r);return n}const CI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=CI(e[n]))&&(r&&(r+=" "),r+=t);return r};function XH(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=KH(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=YH(c,r);return s(c,d),d}return function(){return i(QH.apply(null,arguments))}}const Kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},EI=/^\[(?:([a-z-]+):)?(.+)\]$/i,JH=/^\d+\/\d+$/,ZH=new Set(["px","full","screen"]),eK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vi=e=>du(e)||ZH.has(e)||JH.test(e),za=e=>Ed(e,"length",fK),du=e=>!!e&&!Number.isNaN(Number(e)),Lb=e=>Ed(e,"number",du),sf=e=>!!e&&Number.isInteger(Number(e)),iK=e=>e.endsWith("%")&&du(e.slice(0,-1)),rt=e=>EI.test(e),qa=e=>eK.test(e),aK=new Set(["length","size","percentage"]),oK=e=>Ed(e,aK,OI),lK=e=>Ed(e,"position",OI),cK=new Set(["image","url"]),uK=e=>Ed(e,cK,pK),dK=e=>Ed(e,"",hK),af=()=>!0,Ed=(e,t,r)=>{const n=EI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},fK=e=>tK.test(e)&&!rK.test(e),OI=()=>!1,hK=e=>nK.test(e),pK=e=>sK.test(e),mK=()=>{const e=Kt("colors"),t=Kt("spacing"),r=Kt("blur"),n=Kt("brightness"),s=Kt("borderColor"),i=Kt("borderRadius"),o=Kt("borderSpacing"),l=Kt("borderWidth"),c=Kt("contrast"),u=Kt("grayscale"),d=Kt("hueRotate"),f=Kt("invert"),h=Kt("gap"),p=Kt("gradientColorStops"),g=Kt("gradientColorStopPositions"),m=Kt("inset"),v=Kt("margin"),y=Kt("opacity"),b=Kt("padding"),w=Kt("saturate"),S=Kt("scale"),j=Kt("sepia"),_=Kt("skew"),N=Kt("space"),k=Kt("translate"),C=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",rt,t],E=()=>[rt,t],U=()=>["",Vi,za],O=()=>["auto",du,rt],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",rt],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[du,rt];return{cacheSize:500,separator:":",theme:{colors:[af],spacing:[Vi,za],blur:["none","",qa,rt],brightness:J(),borderColor:[e],borderRadius:["none","","full",qa,rt],borderSpacing:E(),borderWidth:U(),contrast:J(),grayscale:R(),hueRotate:J(),invert:R(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[iK,za],inset:I(),margin:I(),opacity:J(),padding:E(),saturate:J(),scale:J(),sepia:R(),skew:J(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[qa]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),rt]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sf,rt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",sf,rt]}],"grid-cols":[{"grid-cols":[af]}],"col-start-end":[{col:["auto",{span:["full",sf,rt]},rt]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[af]}],"row-start-end":[{row:["auto",{span:[sf,rt]},rt]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,t]}],"min-w":[{"min-w":[rt,t,"min","max","fit"]}],"max-w":[{"max-w":[rt,t,"none","full","min","max","fit","prose",{screen:[qa]},qa]}],h:[{h:[rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qa,za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lb]}],"font-family":[{font:[af]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",du,Lb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vi,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vi,za]}],"underline-offset":[{"underline-offset":["auto",Vi,rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),lK]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oK]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uK]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:A()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[Vi,rt]}],"outline-w":[{outline:[Vi,za]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Vi,za]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qa,dK]}],"shadow-color":[{shadow:[af]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qa,rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[sf,rt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Vi,za,Lb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gK=XH(mK);function Z(...e){return gK(ut(e))}function vK({visible:e,message:t="Processing",className:r}){return e?a.jsxs("div",{role:"status","aria-live":"polite","aria-label":t,className:Z("fixed inset-0 z-[100] flex flex-col items-center justify-center gap-4","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200",r),children:[a.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-xl bg-card p-8 shadow-card-hover",children:[a.jsx(Zn,{className:"h-10 w-10 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:t})]}),a.jsx("span",{className:"sr-only",children:t})]}):null}function Ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function _E(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Aa(...e){return t=>{let r=!1;const n=e.map(s=>{const i=_E(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():_E(e[s],null)}}}}function dt(...e){return x.useCallback(Aa(...e),e)}function yK(e,t){const r=x.createContext(t),n=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Fi(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=x.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,xK(s,...t)]}function xK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var kr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},bK=uy[" useId ".trim().toString()]||(()=>{}),wK=0;function Pi(e){const[t,r]=x.useState(bK());return kr(()=>{r(n=>n??String(wK++))},[e]),t?`radix-${t}`:""}var jK=uy[" useInsertionEffect ".trim().toString()]||kr;function Yl({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=_K({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=SK(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function _K({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),s=x.useRef(r),i=x.useRef(t);return jK(()=>{i.current=t},[t]),x.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function SK(e){return typeof e=="function"}function NK(e){const t=kK(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(EK);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function kK(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=PK(s),l=OK(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Aa(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CK=Symbol("radix.slottable");function EK(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CK}function OK(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function PK(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var AK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=AK.reduce((e,t)=>{const r=NK(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function PI(e,t){e&&bd.flushSync(()=>e.dispatchEvent(t))}function zr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function TK(e,t=globalThis==null?void 0:globalThis.document){const r=zr(e);x.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var RK="DismissableLayer",uj="dismissableLayer.update",$K="dismissableLayer.pointerDownOutside",MK="dismissableLayer.focusOutside",SE,AI=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fy=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(AI),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),g=dt(t,N=>f(N)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),b=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,j=LK(N=>{const k=N.target,C=[...u.branches].some(T=>T.contains(k));!S||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),_=FK(N=>{const k=N.target;[...u.branches].some(T=>T.contains(k))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return TK(N=>{b===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(SE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),NE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=SE)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),NE())},[d,u]),x.useEffect(()=>{const N=()=>p({});return document.addEventListener(uj,N),()=>document.removeEventListener(uj,N)},[]),a.jsx(Xe.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,j.onPointerDownCapture)})});Fy.displayName=RK;var IK="DismissableLayerBranch",DK=x.forwardRef((e,t)=>{const r=x.useContext(AI),n=x.useRef(null),s=dt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Xe.div,{...e,ref:s})});DK.displayName=IK;function LK(e,t=globalThis==null?void 0:globalThis.document){const r=zr(e),n=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){TI($K,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function FK(e,t=globalThis==null?void 0:globalThis.document){const r=zr(e),n=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!n.current&&TI(MK,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function NE(){const e=new CustomEvent(uj);document.dispatchEvent(e)}function TI(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?PI(s,i):s.dispatchEvent(i)}var Fb="focusScope.autoFocusOnMount",Ub="focusScope.autoFocusOnUnmount",kE={bubbles:!1,cancelable:!0},UK="FocusScope",Uy=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=zr(s),d=zr(i),f=x.useRef(null),h=dt(t,m=>c(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const S=w.target;l.contains(S)?f.current=S:Ha(f.current,{select:!0})},v=function(w){if(p.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||Ha(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Ha(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,p.paused]),x.useEffect(()=>{if(l){EE.add(p);const m=document.activeElement;if(!l.contains(m)){const y=new CustomEvent(Fb,kE);l.addEventListener(Fb,u),l.dispatchEvent(y),y.defaultPrevented||(BK(HK(RI(l)),{select:!0}),document.activeElement===m&&Ha(l))}return()=>{l.removeEventListener(Fb,u),setTimeout(()=>{const y=new CustomEvent(Ub,kE);l.addEventListener(Ub,d),l.dispatchEvent(y),y.defaultPrevented||Ha(m??document.body,{select:!0}),l.removeEventListener(Ub,d),EE.remove(p)},0)}}},[l,u,d,p]);const g=x.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(v&&y){const b=m.currentTarget,[w,S]=zK(b);w&&S?!m.shiftKey&&y===S?(m.preventDefault(),r&&Ha(w,{select:!0})):m.shiftKey&&y===w&&(m.preventDefault(),r&&Ha(S,{select:!0})):y===b&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(Xe.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Uy.displayName=UK;function BK(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ha(n,{select:t}),document.activeElement!==r)return}function zK(e){const t=RI(e),r=CE(t,e),n=CE(t.reverse(),e);return[r,n]}function RI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function CE(e,t){for(const r of e)if(!qK(r,{upTo:t}))return r}function qK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function WK(e){return e instanceof HTMLInputElement&&"select"in e}function Ha(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&WK(e)&&t&&e.select()}}var EE=VK();function VK(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=OE(e,t),e.unshift(t)},remove(t){var r;e=OE(e,t),(r=e[0])==null||r.resume()}}}function OE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function HK(e){return e.filter(t=>t.tagName!=="A")}var KK="Portal",By=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=x.useState(!1);kr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?vM.createPortal(a.jsx(Xe.div,{...n,ref:t}),o):null});By.displayName=KK;function GK(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var os=e=>{const{present:t,children:r}=e,n=YK(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=dt(n.ref,QK(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:i}):null};os.displayName="Presence";function YK(e){const[t,r]=x.useState(),n=x.useRef(null),s=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=GK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=xm(n.current);i.current=l==="mounted"?u:"none"},[l]),kr(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,p=xm(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),kr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=xm(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(i.current=xm(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function xm(e){return(e==null?void 0:e.animationName)||"none"}function QK(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Bb=0;function yS(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??PE()),document.body.insertAdjacentElement("beforeend",e[1]??PE()),Bb++,()=>{Bb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Bb--}},[])}function PE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sg="right-scroll-bar-position",ig="width-before-scroll-bar",XK="with-scroll-bars-hidden",JK="--removed-body-scroll-bar-size";function zb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ZK(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var e7=typeof window<"u"?x.useLayoutEffect:x.useEffect,AE=new WeakMap;function t7(e,t){var r=ZK(null,function(n){return e.forEach(function(s){return zb(s,n)})});return e7(function(){var n=AE.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||zb(l,null)}),i.forEach(function(l){s.has(l)||zb(l,o)})}AE.set(r,e)},[e]),r}function r7(e){return e}function n7(e,t){t===void 0&&(t=r7);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function s7(e){e===void 0&&(e={});var t=n7(null);return t.options=_i({async:!0,ssr:!1},e),t}var $I=function(e){var t=e.sideCar,r=Sd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,_i({},r))};$I.isSideCarExport=!0;function i7(e,t){return e.useMedium(t),$I}var MI=s7(),qb=function(){},zy=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:qb,onWheelCapture:qb,onTouchMoveCapture:qb}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,g=e.noIsolation,m=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,S=Sd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,_=t7([r,t]),N=_i(_i({},S),s);return x.createElement(x.Fragment,null,d&&x.createElement(j,{sideCar:MI,removeScrollBar:u,shards:f,noRelative:p,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?x.cloneElement(x.Children.only(l),_i(_i({},N),{ref:_})):x.createElement(b,_i({},N,{className:c,ref:_}),l))});zy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zy.classNames={fullWidth:ig,zeroRight:sg};var a7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a7();return t&&e.setAttribute("nonce",t),e}function l7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function c7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var u7=function(){var e=0,t=null;return{add:function(r){e==0&&(t=o7())&&(l7(t,r),c7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},d7=function(){var e=u7();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},II=function(){var e=d7(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},f7={left:0,top:0,right:0,gap:0},Wb=function(e){return parseInt(e||"",10)||0},h7=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Wb(r),Wb(n),Wb(s)]},p7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return f7;var t=h7(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},m7=II(),fu="data-scroll-locked",g7=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(XK,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(fu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ig,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(sg," .").concat(sg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ig," .").concat(ig,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(fu,`] {
    `).concat(JK,": ").concat(l,`px;
  }
`)},TE=function(){var e=parseInt(document.body.getAttribute(fu)||"0",10);return isFinite(e)?e:0},v7=function(){x.useEffect(function(){return document.body.setAttribute(fu,(TE()+1).toString()),function(){var e=TE()-1;e<=0?document.body.removeAttribute(fu):document.body.setAttribute(fu,e.toString())}},[])},y7=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;v7();var i=x.useMemo(function(){return p7(s)},[s]);return x.createElement(m7,{styles:g7(i,!t,s,r?"":"!important")})},dj=!1;if(typeof window<"u")try{var bm=Object.defineProperty({},"passive",{get:function(){return dj=!0,!0}});window.addEventListener("test",bm,bm),window.removeEventListener("test",bm,bm)}catch{dj=!1}var Ec=dj?{passive:!1}:!1,x7=function(e){return e.tagName==="TEXTAREA"},DI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!x7(e)&&r[t]==="visible")},b7=function(e){return DI(e,"overflowY")},w7=function(e){return DI(e,"overflowX")},RE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=LI(e,n);if(s){var i=FI(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},j7=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},_7=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},LI=function(e,t){return e==="v"?b7(t):w7(t)},FI=function(e,t){return e==="v"?j7(t):_7(t)},S7=function(e,t){return e==="h"&&t==="rtl"?-1:1},N7=function(e,t,r,n,s){var i=S7(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=FI(e,l),g=p[0],m=p[1],v=p[2],y=m-v-i*g;(g||y)&&LI(e,l)&&(f+=y,h+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},wm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$E=function(e){return[e.deltaX,e.deltaY]},ME=function(e){return e&&"current"in e?e.current:e},k7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},C7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},E7=0,Oc=[];function O7(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),s=x.useState(E7++)[0],i=x.useState(II)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=SW([e.lockRef.current],(e.shards||[]).map(ME),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=wm(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-y[0],S="deltaY"in m?m.deltaY:b[1]-y[1],j,_=m.target,N=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in m&&N==="h"&&_.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,T=C?C===_||C.contains(_):!1;if(T)return!1;var I=RE(N,_);if(!I)return!0;if(I?j=N:(j=N==="v"?"h":"v",I=RE(N,_)),!I)return!1;if(!n.current&&"changedTouches"in m&&(w||S)&&(n.current=j),!j)return!0;var E=n.current||j;return N7(E,v,m,E==="h"?w:S)},[]),c=x.useCallback(function(m){var v=m;if(!(!Oc.length||Oc[Oc.length-1]!==i)){var y="deltaY"in v?$E(v):wm(v),b=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&k7(j.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(ME).filter(Boolean).filter(function(j){return j.contains(v.target)}),S=w.length>0?l(v,w[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(m,v,y,b){var w={name:m,delta:v,target:y,should:b,shadowParent:P7(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=x.useCallback(function(m){r.current=wm(m),n.current=void 0},[]),f=x.useCallback(function(m){u(m.type,$E(m),m.target,l(m,e.lockRef.current))},[]),h=x.useCallback(function(m){u(m.type,wm(m),m.target,l(m,e.lockRef.current))},[]);x.useEffect(function(){return Oc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ec),document.addEventListener("touchmove",c,Ec),document.addEventListener("touchstart",d,Ec),function(){Oc=Oc.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Ec),document.removeEventListener("touchmove",c,Ec),document.removeEventListener("touchstart",d,Ec)}},[]);var p=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(i,{styles:C7(s)}):null,p?x.createElement(y7,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function P7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const A7=i7(MI,O7);var qy=x.forwardRef(function(e,t){return x.createElement(zy,_i({},e,{ref:t,sideCar:A7}))});qy.classNames=zy.classNames;var T7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Pc=new WeakMap,jm=new WeakMap,_m={},Vb=0,UI=function(e){return e&&(e.host||UI(e.parentNode))},R7=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=UI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},$7=function(e,t,r,n){var s=R7(t,Array.isArray(e)?e:[e]);_m[r]||(_m[r]=new WeakMap);var i=_m[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(Pc.get(h)||0)+1,v=(i.get(h)||0)+1;Pc.set(h,m),i.set(h,v),o.push(h),m===1&&g&&jm.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),Vb++,function(){o.forEach(function(f){var h=Pc.get(f)-1,p=i.get(f)-1;Pc.set(f,h),i.set(f,p),h||(jm.has(f)||f.removeAttribute(n),jm.delete(f)),p||f.removeAttribute(r)}),Vb--,Vb||(Pc=new WeakMap,Pc=new WeakMap,jm=new WeakMap,_m={})}},xS=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=T7(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),$7(n,s,r,"aria-hidden")):function(){return null}};function M7(e){const t=I7(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(L7);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function I7(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=U7(s),l=F7(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Aa(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var D7=Symbol("radix.slottable");function L7(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===D7}function F7(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function U7(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Wy="Dialog",[BI]=Fi(Wy),[B7,ci]=BI(Wy),zI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=Yl({prop:n,defaultProp:s??!1,onChange:i,caller:Wy});return a.jsx(B7,{scope:t,triggerRef:l,contentRef:c,contentId:Pi(),titleId:Pi(),descriptionId:Pi(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};zI.displayName=Wy;var qI="DialogTrigger",z7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ci(qI,r),i=dt(t,s.triggerRef);return a.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jS(s.open),...n,ref:i,onClick:Ne(e.onClick,s.onOpenToggle)})});z7.displayName=qI;var bS="DialogPortal",[q7,WI]=BI(bS,{forceMount:void 0}),VI=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=ci(bS,t);return a.jsx(q7,{scope:t,forceMount:r,children:x.Children.map(n,o=>a.jsx(os,{present:r||i.open,children:a.jsx(By,{asChild:!0,container:s,children:o})}))})};VI.displayName=bS;var Bg="DialogOverlay",HI=x.forwardRef((e,t)=>{const r=WI(Bg,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=ci(Bg,e.__scopeDialog);return i.modal?a.jsx(os,{present:n||i.open,children:a.jsx(V7,{...s,ref:t})}):null});HI.displayName=Bg;var W7=M7("DialogOverlay.RemoveScroll"),V7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ci(Bg,r);return a.jsx(qy,{as:W7,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Xe.div,{"data-state":jS(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ql="DialogContent",KI=x.forwardRef((e,t)=>{const r=WI(Ql,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=ci(Ql,e.__scopeDialog);return a.jsx(os,{present:n||i.open,children:i.modal?a.jsx(H7,{...s,ref:t}):a.jsx(K7,{...s,ref:t})})});KI.displayName=Ql;var H7=x.forwardRef((e,t)=>{const r=ci(Ql,e.__scopeDialog),n=x.useRef(null),s=dt(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return xS(i)},[]),a.jsx(GI,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault())})}),K7=x.forwardRef((e,t)=>{const r=ci(Ql,e.__scopeDialog),n=x.useRef(!1),s=x.useRef(!1);return a.jsx(GI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),GI=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=ci(Ql,r),c=x.useRef(null),u=dt(t,c);return yS(),a.jsxs(a.Fragment,{children:[a.jsx(Uy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Fy,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":jS(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(G7,{titleId:l.titleId}),a.jsx(Q7,{contentRef:c,descriptionId:l.descriptionId})]})]})}),wS="DialogTitle",YI=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ci(wS,r);return a.jsx(Xe.h2,{id:s.titleId,...n,ref:t})});YI.displayName=wS;var QI="DialogDescription",XI=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ci(QI,r);return a.jsx(Xe.p,{id:s.descriptionId,...n,ref:t})});XI.displayName=QI;var JI="DialogClose",ZI=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ci(JI,r);return a.jsx(Xe.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>s.onOpenChange(!1))})});ZI.displayName=JI;function jS(e){return e?"open":"closed"}var eD="DialogTitleWarning",[LAe,tD]=yK(eD,{contentName:Ql,titleName:wS,docsSlug:"dialog"}),G7=({titleId:e})=>{const t=tD(eD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Y7="DialogDescriptionWarning",Q7=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tD(Y7).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},X7=zI,J7=VI,rD=HI,nD=KI,sD=YI,iD=XI,Z7=ZI;const Ge=X7,eG=J7,aD=x.forwardRef(({className:e,...t},r)=>a.jsx(rD,{ref:r,className:Z("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));aD.displayName=rD.displayName;const qe=x.forwardRef(({className:e,children:t,showClose:r=!0,...n},s)=>a.jsxs(eG,{children:[a.jsx(aD,{}),a.jsxs(nD,{ref:s,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[640px] translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",e),...n,children:[t,r&&a.jsxs(Z7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Uu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qe.displayName=nD.displayName;const We=({className:e,...t})=>a.jsx("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});We.displayName="DialogHeader";const Qe=({className:e,...t})=>a.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qe.displayName="DialogFooter";const Ve=x.forwardRef(({className:e,...t},r)=>a.jsx(sD,{ref:r,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));Ve.displayName=sD.displayName;const He=x.forwardRef(({className:e,...t},r)=>a.jsx(iD,{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));He.displayName=iD.displayName;var tG=Symbol.for("react.lazy"),zg=uy[" use ".trim().toString()];function rG(e){return typeof e=="object"&&e!==null&&"then"in e}function oD(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===tG&&"_payload"in e&&rG(e._payload)}function Ep(e){const t=sG(e),r=x.forwardRef((n,s)=>{let{children:i,...o}=n;oD(i)&&typeof zg=="function"&&(i=zg(i._payload));const l=x.Children.toArray(i),c=l.find(aG);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var nG=Ep("Slot");function sG(e){const t=x.forwardRef((r,n)=>{let{children:s,...i}=r;if(oD(s)&&typeof zg=="function"&&(s=zg(s._payload)),x.isValidElement(s)){const o=lG(s),l=oG(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Aa(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iG=Symbol("radix.slottable");function aG(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iG}function oG(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function lG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const IE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,DE=ut,_S=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return DE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=IE(d)||IE(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...i,...l}[m]):{...i,...l}[m]===v})?[...u,f,h]:u},[]);return DE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},cG=_S("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow hover:opacity-90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:opacity-90",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),M=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?nG:"button";return a.jsx(o,{className:Z(cG({variant:t,size:r,className:e})),ref:i,...s})});M.displayName="Button";function uG({open:e,onOpenChange:t,message:r="Operation completed successfully.",nextSteps:n,onClose:s,className:i}){const o=l=>{l||s==null||s(),t(l)};return a.jsx(Ge,{open:e,onOpenChange:o,children:a.jsxs(qe,{showClose:!0,className:Z("max-w-[640px]",i),"aria-describedby":"operation-success-description",children:[a.jsx(We,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15",children:a.jsx(Mo,{className:"h-6 w-6 text-success","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ve,{children:"Success"}),a.jsx(He,{id:"operation-success-description",children:r})]})]})}),n&&n.length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/30 p-4",children:[a.jsx("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Next steps"}),a.jsx("ul",{className:"flex flex-col gap-2",children:n.map((l,c)=>a.jsx("li",{children:l.href?a.jsx(M,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",asChild:!0,children:a.jsx("a",{href:l.href,children:l.label})}):a.jsx(M,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",onClick:()=>{var u;(u=l.onClick)==null||u.call(l),o(!1)},children:l.label})},c))})]}),a.jsx(Qe,{children:a.jsx(M,{onClick:()=>o(!1),className:"transition-transform hover:scale-[1.02]",children:"Done"})})]})})}function dG({open:e,onOpenChange:t,message:r="Are you sure you want to cancel this operation? Progress may be lost.",confirmLabel:n="Yes, cancel",onConfirm:s,onCancel:i,isConfirming:o=!1,className:l}){const c=()=>{s==null||s(),t(!1)},u=()=>{i==null||i(),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{showClose:!0,className:Z("max-w-[640px]",l),"aria-describedby":"abort-confirm-description",children:[a.jsx(We,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-warning/15",children:a.jsx(dc,{className:"h-6 w-6 text-warning","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ve,{children:"Cancel operation?"}),a.jsx(He,{id:"abort-confirm-description",children:r})]})]})}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{variant:"outline",onClick:u,disabled:o,className:"transition-transform hover:scale-[1.02]",children:"No, continue"}),a.jsx(M,{variant:"destructive",onClick:c,disabled:o,className:"transition-transform hover:scale-[1.02]",children:o?"Cancelling":n})]})]})})}const LE={visible:!1},FE={visible:!1},UE={visible:!1},lD=x.createContext(null);function fG({children:e}){const[t,r]=x.useState(LE),[n,s]=x.useState(FE),[i,o]=x.useState(UE),l=x.useCallback(g=>{r({visible:!0,message:g})},[]),c=x.useCallback(()=>{r(LE)},[]),u=x.useCallback((g,m)=>{s({visible:!0,message:g,nextSteps:m})},[]),d=x.useCallback(()=>{s(FE)},[]),f=x.useCallback(g=>{o({visible:!0,message:g.message,onConfirm:g.onConfirm,onCancel:g.onCancel,confirmLabel:g.confirmLabel})},[]),h=x.useCallback(()=>{o(UE)},[]),p=x.useMemo(()=>({loading:t,success:n,abortConfirm:i,showLoading:l,hideLoading:c,showSuccess:u,hideSuccess:d,showAbortConfirm:f,hideAbortConfirm:h}),[t,n,i,l,c,u,d,f,h]);return a.jsx(lD.Provider,{value:p,children:e})}function hG(){const e=x.useContext(lD);if(!e)throw new Error("useOperationStateContext must be used within OperationStateProvider");return e}function pG(){const{loading:e,success:t,abortConfirm:r,hideSuccess:n,hideAbortConfirm:s}=hG();return a.jsxs(a.Fragment,{children:[a.jsx(vK,{visible:e.visible,message:e.message}),a.jsx(uG,{open:t.visible,onOpenChange:i=>!i&&n(),message:t.message,nextSteps:t.nextSteps,onClose:n}),a.jsx(dG,{open:r.visible,onOpenChange:i=>!i&&s(),message:r.message,confirmLabel:r.confirmLabel??"Yes, cancel",onConfirm:r.onConfirm,onCancel:r.onCancel})]})}function mG({children:e}){return a.jsxs(fG,{children:[a.jsx(pG,{}),e]})}var gG=x.createContext(void 0);function Op(e){const t=x.useContext(gG);return e||t||"ltr"}function fj(e,[t,r]){return Math.min(r,Math.max(t,e))}function vG(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var SS="ScrollArea",[cD]=Fi(SS),[yG,Cs]=cD(SS),uD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[p,g]=x.useState(null),[m,v]=x.useState(null),[y,b]=x.useState(0),[w,S]=x.useState(0),[j,_]=x.useState(!1),[N,k]=x.useState(!1),C=dt(t,I=>c(I)),T=Op(s);return a.jsx(yG,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:_,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:S,children:a.jsx(Xe.div,{dir:T,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});uD.displayName=SS;var dD="ScrollAreaViewport",fD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=Cs(dD,r),l=x.useRef(null),c=dt(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});fD.displayName=dD;var Ui="ScrollAreaScrollbar",NS=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Cs(Ui,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(xG,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(bG,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(hD,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(kS,{...n,ref:t}):null});NS.displayName=Ui;var xG=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Cs(Ui,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(os,{present:r||i,children:a.jsx(hD,{"data-state":i?"visible":"hidden",...n,ref:t})})}),bG=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Cs(Ui,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Hy(()=>c("SCROLL_END"),100),[l,c]=vG("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),x.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(os,{present:r||l!=="hidden",children:a.jsx(kS,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ne(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ne(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),hD=x.forwardRef((e,t)=>{const r=Cs(Ui,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=x.useState(!1),l=e.orientation==="horizontal",c=Hy(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Bu(r.viewport,c),Bu(r.content,c),a.jsx(os,{present:n||i,children:a.jsx(kS,{"data-state":i?"visible":"hidden",...s,ref:t})})}),kS=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Cs(Ui,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=yD(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return kG(h,o.current,l,p)}return r==="horizontal"?a.jsx(wG,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,p=BE(h,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(jG,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,p=BE(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),wG=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Cs(Ui,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=dt(t,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(mD,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Vy(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),bD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Wg(o.paddingLeft),paddingEnd:Wg(o.paddingRight)}})}})}),jG=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Cs(Ui,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=dt(t,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(mD,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Vy(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),bD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Wg(o.paddingTop),paddingEnd:Wg(o.paddingBottom)}})}})}),[_G,pD]=cD(Ui),mD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Cs(Ui,r),[g,m]=x.useState(null),v=dt(t,C=>m(C)),y=x.useRef(null),b=x.useRef(""),w=p.viewport,S=n.content-n.viewport,j=zr(d),_=zr(c),N=Hy(f,10);function k(C){if(y.current){const T=C.clientX-y.current.left,I=C.clientY-y.current.top;u({x:T,y:I})}}return x.useEffect(()=>{const C=T=>{const I=T.target;(g==null?void 0:g.contains(I))&&j(T,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,S,j]),x.useEffect(_,[n,_]),Bu(g,N),Bu(p.content,N),a.jsx(_G,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:zr(i),onThumbPointerUp:zr(o),onThumbPositionChange:_,onThumbPointerDown:zr(l),children:a.jsx(Xe.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Ne(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:Ne(e.onPointerMove,k),onPointerUp:Ne(e.onPointerUp,C=>{const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),qg="ScrollAreaThumb",gD=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=pD(qg,e.__scopeScrollArea);return a.jsx(os,{present:r||s.hasThumb,children:a.jsx(SG,{ref:t,...n})})}),SG=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Cs(qg,r),o=pD(qg,r),{onThumbPositionChange:l}=o,c=dt(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=Hy(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=CG(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Xe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ne(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:g,y:m})}),onPointerUp:Ne(e.onPointerUp,o.onThumbPointerUp)})});gD.displayName=qg;var CS="ScrollAreaCorner",vD=x.forwardRef((e,t)=>{const r=Cs(CS,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(NG,{...e,ref:t}):null});vD.displayName=CS;var NG=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Cs(CS,r),[i,o]=x.useState(0),[l,c]=x.useState(0),u=!!(i&&l);return Bu(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Bu(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Xe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Wg(e){return e?parseInt(e,10):0}function yD(e,t){const r=e/t;return isNaN(r)?0:r}function Vy(e){const t=yD(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function kG(e,t,r,n="ltr"){const s=Vy(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return xD([c,u],f)(e)}function BE(e,t,r="ltr"){const n=Vy(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=fj(e,c);return xD([0,o],[0,l])(u)}function xD(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function bD(e,t){return e>0&&e<t}var CG=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Hy(e,t){const r=zr(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Bu(e,t){const r=zr(t);kr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var wD=uD,EG=fD,OG=vD;const Pt=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(wD,{ref:n,className:Z("relative overflow-hidden",e),...r,children:[a.jsx(EG,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(jD,{}),a.jsx(OG,{})]}));Pt.displayName=wD.displayName;const jD=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(NS,{ref:n,orientation:t,className:Z("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(gD,{className:"relative flex-1 rounded-full bg-border"})}));jD.displayName=NS.displayName;var PG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],AG=PG.reduce((e,t)=>{const r=Ep(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),TG="Separator",zE="horizontal",RG=["horizontal","vertical"],_D=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=zE,...s}=e,i=$G(n)?n:zE,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(AG.div,{"data-orientation":i,...l,...s,ref:t})});_D.displayName=TG;function $G(e){return RG.includes(e)}var SD=_D;const ES=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(SD,{ref:s,decorative:r,orientation:t,className:Z("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ES.displayName=SD.displayName;const MG=[{to:"/dashboard",label:"Dashboard",icon:hS},{to:"/profile",label:"Profile",icon:Dy},{to:"/chat",label:"Chat Session",icon:Cp},{to:"/channels",label:"Channels & Adapters",icon:AH},{to:"/skills",label:"Skills Library",icon:lS},{to:"/skill-editor",label:"Skill Editor",icon:Wr},{to:"/nodes",label:"Nodes",icon:Oi},{to:"/cron",label:"Cron Jobs",icon:Ty},{to:"/webhooks",label:"Webhooks & Hooks",icon:lj},{to:"/model-providers",label:"Model Providers",icon:sI},{to:"/browser",label:"Browser Automation",icon:Iy},{to:"/voice",label:"Voice & Media",icon:Sh},{to:"/secrets",label:"Secrets & Keychain",icon:_h},{to:"/settings",label:"Settings",icon:ua},{to:"/security",label:"Security Audit",icon:Dn},{to:"/logs",label:"Logs & Tracing",icon:Wr},{to:"/admin",label:"Admin",icon:Dn}];function IG(){const[e,t]=x.useState(!1);return a.jsxs("aside",{className:Z("flex flex-col border-r border-border bg-card transition-[width] duration-200",e?"w-[72px]":"w-56"),children:[a.jsxs("div",{className:"flex h-14 items-center justify-between border-b border-border px-3",children:[!e&&a.jsx("span",{className:"truncate text-sm font-semibold",children:"Clawgate"}),a.jsx(M,{variant:"ghost",size:"icon",onClick:()=>t(r=>!r),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(rs,{className:"h-4 w-4"}):a.jsx(aI,{className:"h-4 w-4"})})]}),a.jsx(Pt,{className:"flex-1 py-2",children:a.jsx("nav",{className:"flex flex-col gap-0.5 px-2",children:MG.map(({to:r,label:n,icon:s})=>a.jsxs(cq,{to:r,className:({isActive:i})=>Z("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",e&&"justify-center px-2"),children:[a.jsx(s,{className:"h-5 w-5 shrink-0"}),!e&&a.jsx("span",{className:"truncate",children:n})]},r))})}),a.jsx(ES,{})]})}const ge=x.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ge.displayName="Input";function DG(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=x.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,LG(s,...t)]}function LG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var FG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],OS=FG.reduce((e,t)=>{const r=Ep(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ND={exports:{}},kD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zu=x;function UG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var BG=typeof Object.is=="function"?Object.is:UG,zG=zu.useState,qG=zu.useEffect,WG=zu.useLayoutEffect,VG=zu.useDebugValue;function HG(e,t){var r=t(),n=zG({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return WG(function(){s.value=r,s.getSnapshot=t,Hb(s)&&i({inst:s})},[e,r,t]),qG(function(){return Hb(s)&&i({inst:s}),e(function(){Hb(s)&&i({inst:s})})},[e]),VG(r),r}function Hb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!BG(e,r)}catch{return!0}}function KG(e,t){return t()}var GG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KG:HG;kD.useSyncExternalStore=zu.useSyncExternalStore!==void 0?zu.useSyncExternalStore:GG;ND.exports=kD;var YG=ND.exports;function QG(){return YG.useSyncExternalStore(XG,()=>!0,()=>!1)}function XG(){return()=>{}}var PS="Avatar",[JG]=DG(PS),[ZG,CD]=JG(PS),ED=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=x.useState("idle");return a.jsx(ZG,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(OS.span,{...n,ref:t})})});ED.displayName=PS;var OD="AvatarImage",PD=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=CD(OD,r),l=eY(n,i),c=zr(u=>{s(u),o.onImageLoadingStatusChange(u)});return kr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(OS.img,{...i,ref:t,src:n}):null});PD.displayName=OD;var AD="AvatarFallback",TD=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=CD(AD,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(OS.span,{...s,ref:t}):null});TD.displayName=AD;function qE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function eY(e,{referrerPolicy:t,crossOrigin:r}){const n=QG(),s=x.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=x.useState(()=>qE(i,e));return kr(()=>{l(qE(i,e))},[i,e]),kr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var RD=ED,$D=PD,MD=TD;const Ky=x.forwardRef(({className:e,...t},r)=>a.jsx(RD,{ref:r,className:Z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ky.displayName=RD.displayName;const AS=x.forwardRef(({className:e,...t},r)=>a.jsx($D,{ref:r,className:Z("aspect-square h-full w-full",e),...t}));AS.displayName=$D.displayName;const Gy=x.forwardRef(({className:e,...t},r)=>a.jsx(MD,{ref:r,className:Z("flex h-full w-full items-center justify-center rounded-full bg-muted text-sm font-medium",e),...t}));Gy.displayName=MD.displayName;function WE(e){const t=tY(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(nY);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function tY(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=iY(s),l=sY(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Aa(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rY=Symbol("radix.slottable");function nY(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rY}function sY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function iY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function TS(e){const t=e+"CollectionProvider",[r,n]=Fi(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:y}=m,b=P.useRef(null),w=P.useRef(new Map).current;return a.jsx(s,{scope:v,itemMap:w,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=WE(l),u=P.forwardRef((m,v)=>{const{scope:y,children:b}=m,w=i(l,y),S=dt(v,w.collectionRef);return a.jsx(c,{ref:S,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=WE(d),p=P.forwardRef((m,v)=>{const{scope:y,children:b,...w}=m,S=P.useRef(null),j=dt(v,S),_=i(d,y);return P.useEffect(()=>(_.itemMap.set(S,{ref:S,...w}),()=>void _.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:j,children:b})});p.displayName=d;function g(m){const v=i(e+"CollectionConsumer",m);return P.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((_,N)=>w.indexOf(_.ref.current)-w.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},g,n]}const aY=["top","right","bottom","left"],Io=Math.min,Hn=Math.max,Vg=Math.round,Sm=Math.floor,Ai=e=>({x:e,y:e}),oY={left:"right",right:"left",bottom:"top",top:"bottom"},lY={start:"end",end:"start"};function hj(e,t,r){return Hn(e,Io(t,r))}function xa(e,t){return typeof e=="function"?e(t):e}function ba(e){return e.split("-")[0]}function Od(e){return e.split("-")[1]}function RS(e){return e==="x"?"y":"x"}function $S(e){return e==="y"?"height":"width"}const cY=new Set(["top","bottom"]);function Si(e){return cY.has(ba(e))?"y":"x"}function MS(e){return RS(Si(e))}function uY(e,t,r){r===void 0&&(r=!1);const n=Od(e),s=MS(e),i=$S(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Hg(o)),[o,Hg(o)]}function dY(e){const t=Hg(e);return[pj(e),t,pj(t)]}function pj(e){return e.replace(/start|end/g,t=>lY[t])}const VE=["left","right"],HE=["right","left"],fY=["top","bottom"],hY=["bottom","top"];function pY(e,t,r){switch(e){case"top":case"bottom":return r?t?HE:VE:t?VE:HE;case"left":case"right":return t?fY:hY;default:return[]}}function mY(e,t,r,n){const s=Od(e);let i=pY(ba(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(pj)))),i}function Hg(e){return e.replace(/left|right|bottom|top/g,t=>oY[t])}function gY(e){return{top:0,right:0,bottom:0,left:0,...e}}function ID(e){return typeof e!="number"?gY(e):{top:e,right:e,bottom:e,left:e}}function Kg(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function KE(e,t,r){let{reference:n,floating:s}=e;const i=Si(t),o=MS(t),l=$S(o),c=ba(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Od(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}async function vY(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=xa(t,e),g=ID(p),v=l[h?f==="floating"?"reference":"floating":f],y=Kg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Kg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-j.top+g.top)/S.y,bottom:(j.bottom-y.bottom+g.bottom)/S.y,left:(y.left-j.left+g.left)/S.x,right:(j.right-y.right+g.right)/S.x}}const yY=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=KE(u,n,c),h=n,p={},g=0;for(let v=0;v<l.length;v++){var m;const{name:y,fn:b}=l[v],{x:w,y:S,data:j,reset:_}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:{...o,detectOverflow:(m=o.detectOverflow)!=null?m:vY},elements:{reference:e,floating:t}});d=w??d,f=S??f,p={...p,[y]:{...p[y],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=KE(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}},xY=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=xa(e,t)||{};if(u==null)return{};const f=ID(d),h={x:r,y:n},p=MS(s),g=$S(p),m=await o.getDimensions(u),v=p==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=i.reference[g]+i.reference[p]-h[p]-i.floating[g],j=h[p]-i.reference[p],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=_?_[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(_)))&&(N=l.floating[w]||i.floating[g]);const k=S/2-j/2,C=N/2-m[g]/2-1,T=Io(f[y],C),I=Io(f[b],C),E=T,U=N-m[g]-I,O=N/2-m[g]/2+k,B=hj(E,O,U),A=!c.arrow&&Od(s)!=null&&O!==B&&i.reference[g]/2-(O<E?T:I)-m[g]/2<0,z=A?O<E?O-E:O-U:0;return{[p]:h[p]+z,data:{[p]:B,centerOffset:O-B-z,...A&&{alignmentOffset:z}},reset:A}}}),bY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=xa(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=ba(s),b=Si(l),w=ba(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!m?[Hg(l)]:dY(l)),_=g!=="none";!h&&_&&j.push(...mY(l,m,g,S));const N=[l,...j],k=await c.detectOverflow(t,v),C=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[y]),f){const O=uY(s,o,S);C.push(k[O[0]],k[O[1]])}if(T=[...T,{placement:s,overflows:C}],!C.every(O=>O<=0)){var I,E;const O=(((I=i.flip)==null?void 0:I.index)||0)+1,B=N[O];if(B&&(!(f==="alignment"?b!==Si(B):!1)||T.every(L=>Si(L.placement)===b?L.overflows[0]>0:!0)))return{data:{index:O,overflows:T},reset:{placement:B}};let A=(E=T.filter(z=>z.overflows[0]<=0).sort((z,L)=>z.overflows[1]-L.overflows[1])[0])==null?void 0:E.placement;if(!A)switch(p){case"bestFit":{var U;const z=(U=T.filter(L=>{if(_){const R=Si(L.placement);return R===b||R==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(R=>R>0).reduce((R,$)=>R+$,0)]).sort((L,R)=>L[1]-R[1])[0])==null?void 0:U[0];z&&(A=z);break}case"initialPlacement":A=l;break}if(s!==A)return{reset:{placement:A}}}return{}}}};function GE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function YE(e){return aY.some(t=>e[t]>=0)}const wY=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...i}=xa(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...i,elementContext:"reference"}),l=GE(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:YE(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...i,altBoundary:!0}),l=GE(o,r.floating);return{data:{escapedOffsets:l,escaped:YE(l)}}}default:return{}}}}},DD=new Set(["left","top"]);async function jY(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=ba(r),l=Od(r),c=Si(r)==="y",u=DD.has(o)?-1:1,d=i&&c?-1:1,f=xa(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const _Y=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await jY(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},SY=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:y=>{let{x:b,y:w}=y;return{x:b,y:w}}},...u}=xa(e,t),d={x:r,y:n},f=await i.detectOverflow(t,u),h=Si(ba(s)),p=RS(h);let g=d[p],m=d[h];if(o){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",w=g+f[y],S=g-f[b];g=hj(w,g,S)}if(l){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=m+f[y],S=m-f[b];m=hj(w,m,S)}const v=c.fn({...t,[p]:g,[h]:m});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[p]:o,[h]:l}}}}}},NY=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=xa(e,t),d={x:r,y:n},f=Si(s),h=RS(f);let p=d[h],g=d[f];const m=xa(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",S=i.reference[h]-i.floating[w]+v.mainAxis,j=i.reference[h]+i.reference[w]-v.mainAxis;p<S?p=S:p>j&&(p=j)}if(u){var y,b;const w=h==="y"?"width":"height",S=DD.has(ba(s)),j=i.reference[f]-i.floating[w]+(S&&((y=o.offset)==null?void 0:y[f])||0)+(S?0:v.crossAxis),_=i.reference[f]+i.reference[w]+(S?0:((b=o.offset)==null?void 0:b[f])||0)-(S?v.crossAxis:0);g<j?g=j:g>_&&(g=_)}return{[h]:p,[f]:g}}}},kY=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=xa(e,t),d=await o.detectOverflow(t,u),f=ba(s),h=Od(s),p=Si(s)==="y",{width:g,height:m}=i.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const b=m-d.top-d.bottom,w=g-d.left-d.right,S=Io(m-d[v],b),j=Io(g-d[y],w),_=!t.middlewareData.shift;let N=S,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=b),_&&!h){const T=Hn(d.left,0),I=Hn(d.right,0),E=Hn(d.top,0),U=Hn(d.bottom,0);p?k=g-2*(T!==0||I!==0?T+I:Hn(d.left,d.right)):N=m-2*(E!==0||U!==0?E+U:Hn(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const C=await o.getDimensions(l.floating);return g!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function Yy(){return typeof window<"u"}function Pd(e){return LD(e)?(e.nodeName||"").toLowerCase():"#document"}function es(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bi(e){var t;return(t=(LD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function LD(e){return Yy()?e instanceof Node||e instanceof es(e).Node:!1}function ai(e){return Yy()?e instanceof Element||e instanceof es(e).Element:!1}function Mi(e){return Yy()?e instanceof HTMLElement||e instanceof es(e).HTMLElement:!1}function QE(e){return!Yy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof es(e).ShadowRoot}const CY=new Set(["inline","contents"]);function Pp(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=oi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!CY.has(s)}const EY=new Set(["table","td","th"]);function OY(e){return EY.has(Pd(e))}const PY=[":popover-open",":modal"];function Qy(e){return PY.some(t=>{try{return e.matches(t)}catch{return!1}})}const AY=["transform","translate","scale","rotate","perspective"],TY=["transform","translate","scale","rotate","perspective","filter"],RY=["paint","layout","strict","content"];function IS(e){const t=DS(),r=ai(e)?oi(e):e;return AY.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||TY.some(n=>(r.willChange||"").includes(n))||RY.some(n=>(r.contain||"").includes(n))}function $Y(e){let t=Do(e);for(;Mi(t)&&!qu(t);){if(IS(t))return t;if(Qy(t))return null;t=Do(t)}return null}function DS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MY=new Set(["html","body","#document"]);function qu(e){return MY.has(Pd(e))}function oi(e){return es(e).getComputedStyle(e)}function Xy(e){return ai(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Do(e){if(Pd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||QE(e)&&e.host||Bi(e);return QE(t)?t.host:t}function FD(e){const t=Do(e);return qu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mi(t)&&Pp(t)?t:FD(t)}function Ch(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=FD(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=es(s);if(i){const l=mj(o);return t.concat(o,o.visualViewport||[],Pp(s)?s:[],l&&r?Ch(l):[])}return t.concat(s,Ch(s,[],r))}function mj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function UD(e){const t=oi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Mi(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Vg(r)!==i||Vg(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function LS(e){return ai(e)?e:e.contextElement}function hu(e){const t=LS(e);if(!Mi(t))return Ai(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=UD(t);let o=(i?Vg(r.width):r.width)/n,l=(i?Vg(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const IY=Ai(0);function BD(e){const t=es(e);return!DS()||!t.visualViewport?IY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DY(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==es(e)?!1:t}function Xl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=LS(e);let o=Ai(1);t&&(n?ai(n)&&(o=hu(n)):o=hu(e));const l=DY(i,r,n)?BD(i):Ai(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=es(i),p=n&&ai(n)?es(n):n;let g=h,m=mj(g);for(;m&&n&&p!==g;){const v=hu(m),y=m.getBoundingClientRect(),b=oi(m),w=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*v.x,S=y.top+(m.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=S,g=es(m),m=mj(g)}}return Kg({width:d,height:f,x:c,y:u})}function Jy(e,t){const r=Xy(e).scrollLeft;return t?t.left+r:Xl(Bi(e)).left+r}function zD(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Jy(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function LY(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Bi(n),l=t?Qy(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ai(1);const d=Ai(0),f=Mi(n);if((f||!f&&!i)&&((Pd(n)!=="body"||Pp(o))&&(c=Xy(n)),Mi(n))){const p=Xl(n);u=hu(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?zD(o,c):Ai(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function FY(e){return Array.from(e.getClientRects())}function UY(e){const t=Bi(e),r=Xy(e),n=e.ownerDocument.body,s=Hn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Hn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Jy(e);const l=-r.scrollTop;return oi(n).direction==="rtl"&&(o+=Hn(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const XE=25;function BY(e,t){const r=es(e),n=Bi(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=DS();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Jy(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-p);g<=XE&&(i-=g)}else u<=XE&&(i+=u);return{width:i,height:o,x:l,y:c}}const zY=new Set(["absolute","fixed"]);function qY(e,t){const r=Xl(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Mi(e)?hu(e):Ai(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function JE(e,t,r){let n;if(t==="viewport")n=BY(e,r);else if(t==="document")n=UY(Bi(e));else if(ai(t))n=qY(t,r);else{const s=BD(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Kg(n)}function qD(e,t){const r=Do(e);return r===t||!ai(r)||qu(r)?!1:oi(r).position==="fixed"||qD(r,t)}function WY(e,t){const r=t.get(e);if(r)return r;let n=Ch(e,[],!1).filter(l=>ai(l)&&Pd(l)!=="body"),s=null;const i=oi(e).position==="fixed";let o=i?Do(e):e;for(;ai(o)&&!qu(o);){const l=oi(o),c=IS(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&zY.has(s.position)||Pp(o)&&!c&&qD(e,o))?n=n.filter(d=>d!==o):s=l,o=Do(o)}return t.set(e,n),n}function VY(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Qy(t)?[]:WY(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=JE(t,d,s);return u.top=Hn(f.top,u.top),u.right=Io(f.right,u.right),u.bottom=Io(f.bottom,u.bottom),u.left=Hn(f.left,u.left),u},JE(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function HY(e){const{width:t,height:r}=UD(e);return{width:t,height:r}}function KY(e,t,r){const n=Mi(t),s=Bi(t),i=r==="fixed",o=Xl(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ai(0);function u(){c.x=Jy(s)}if(n||!n&&!i)if((Pd(t)!=="body"||Pp(s))&&(l=Xy(t)),n){const p=Xl(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?zD(s,l):Ai(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Kb(e){return oi(e).position==="static"}function ZE(e,t){if(!Mi(e)||oi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Bi(e)===r&&(r=r.ownerDocument.body),r}function WD(e,t){const r=es(e);if(Qy(e))return r;if(!Mi(e)){let s=Do(e);for(;s&&!qu(s);){if(ai(s)&&!Kb(s))return s;s=Do(s)}return r}let n=ZE(e,t);for(;n&&OY(n)&&Kb(n);)n=ZE(n,t);return n&&qu(n)&&Kb(n)&&!IS(n)?r:n||$Y(e)||r}const GY=async function(e){const t=this.getOffsetParent||WD,r=this.getDimensions,n=await r(e.floating);return{reference:KY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function YY(e){return oi(e).direction==="rtl"}const QY={convertOffsetParentRelativeRectToViewportRelativeRect:LY,getDocumentElement:Bi,getClippingRect:VY,getOffsetParent:WD,getElementRects:GY,getClientRects:FY,getDimensions:HY,getScale:hu,isElement:ai,isRTL:YY};function VD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function XY(e,t){let r=null,n;const s=Bi(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const g=Sm(f),m=Sm(s.clientWidth-(d+h)),v=Sm(s.clientHeight-(f+p)),y=Sm(d),w={rootMargin:-g+"px "+-m+"px "+-v+"px "+-y+"px",threshold:Hn(0,Io(1,c))||1};let S=!0;function j(_){const N=_[0].intersectionRatio;if(N!==c){if(!S)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!VD(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function JY(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=LS(e),d=s||i?[...u?Ch(u):[],...Ch(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=u&&l?XY(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?Xl(e):null;c&&v();function v(){const y=Xl(e);m&&!VD(m,y)&&r(),m=y,g=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(b=>{s&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const ZY=_Y,eQ=SY,tQ=bY,rQ=kY,nQ=wY,eO=xY,sQ=NY,iQ=(e,t,r)=>{const n=new Map,s={platform:QY,...r},i={...s.platform,_c:n};return yY(e,t,{...s,platform:i})};var aQ=typeof document<"u",oQ=function(){},ag=aQ?x.useLayoutEffect:oQ;function Gg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Gg(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Gg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function HD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tO(e,t){const r=HD(e);return Math.round(t*r)/r}function Gb(e){const t=x.useRef(e);return ag(()=>{t.current=e}),t}function lQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(n);Gg(h,n)||p(n);const[g,m]=x.useState(null),[v,y]=x.useState(null),b=x.useCallback(L=>{L!==_.current&&(_.current=L,m(L))},[]),w=x.useCallback(L=>{L!==N.current&&(N.current=L,y(L))},[]),S=i||g,j=o||v,_=x.useRef(null),N=x.useRef(null),k=x.useRef(d),C=c!=null,T=Gb(c),I=Gb(s),E=Gb(u),U=x.useCallback(()=>{if(!_.current||!N.current)return;const L={placement:t,strategy:r,middleware:h};I.current&&(L.platform=I.current),iQ(_.current,N.current,L).then(R=>{const $={...R,isPositioned:E.current!==!1};O.current&&!Gg(k.current,$)&&(k.current=$,bd.flushSync(()=>{f($)}))})},[h,t,r,I,E]);ag(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const O=x.useRef(!1);ag(()=>(O.current=!0,()=>{O.current=!1}),[]),ag(()=>{if(S&&(_.current=S),j&&(N.current=j),S&&j){if(T.current)return T.current(S,j,U);U()}},[S,j,U,T,C]);const B=x.useMemo(()=>({reference:_,floating:N,setReference:b,setFloating:w}),[b,w]),A=x.useMemo(()=>({reference:S,floating:j}),[S,j]),z=x.useMemo(()=>{const L={position:r,left:0,top:0};if(!A.floating)return L;const R=tO(A.floating,d.x),$=tO(A.floating,d.y);return l?{...L,transform:"translate("+R+"px, "+$+"px)",...HD(A.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:$}},[r,l,A.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:U,refs:B,elements:A,floatingStyles:z}),[d,U,B,A,z])}const cQ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?eO({element:n.current,padding:s}).fn(r):{}:n?eO({element:n,padding:s}).fn(r):{}}}},uQ=(e,t)=>({...ZY(e),options:[e,t]}),dQ=(e,t)=>({...eQ(e),options:[e,t]}),fQ=(e,t)=>({...sQ(e),options:[e,t]}),hQ=(e,t)=>({...tQ(e),options:[e,t]}),pQ=(e,t)=>({...rQ(e),options:[e,t]}),mQ=(e,t)=>({...nQ(e),options:[e,t]}),gQ=(e,t)=>({...cQ(e),options:[e,t]});var vQ="Arrow",KD=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Xe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});KD.displayName=vQ;var yQ=KD;function GD(e){const[t,r]=x.useState(void 0);return kr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var FS="Popper",[YD,Zy]=Fi(FS),[xQ,QD]=YD(FS),XD=e=>{const{__scopePopper:t,children:r}=e,[n,s]=x.useState(null);return a.jsx(xQ,{scope:t,anchor:n,onAnchorChange:s,children:r})};XD.displayName=FS;var JD="PopperAnchor",ZD=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=QD(JD,r),o=x.useRef(null),l=dt(t,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Xe.div,{...s,ref:l})});ZD.displayName=JD;var US="PopperContent",[bQ,wQ]=YD(US),e4=x.forwardRef((e,t)=>{var ce,Me,re,pe,H,K;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,v=QD(US,r),[y,b]=x.useState(null),w=dt(t,Ye=>b(Ye)),[S,j]=x.useState(null),_=GD(S),N=(_==null?void 0:_.width)??0,k=(_==null?void 0:_.height)??0,C=n+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],E=I.length>0,U={padding:T,boundary:I.filter(_Q),altBoundary:E},{refs:O,floatingStyles:B,placement:A,isPositioned:z,middlewareData:L}=lQ({strategy:"fixed",placement:C,whileElementsMounted:(...Ye)=>JY(...Ye,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[uQ({mainAxis:s+k,alignmentAxis:o}),c&&dQ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?fQ():void 0,...U}),c&&hQ({...U}),pQ({...U,apply:({elements:Ye,rects:Ue,availableWidth:wt,availableHeight:yt})=>{const{width:Zt,height:tn}=Ue.reference,Sn=Ye.floating.style;Sn.setProperty("--radix-popper-available-width",`${wt}px`),Sn.setProperty("--radix-popper-available-height",`${yt}px`),Sn.setProperty("--radix-popper-anchor-width",`${Zt}px`),Sn.setProperty("--radix-popper-anchor-height",`${tn}px`)}}),S&&gQ({element:S,padding:l}),SQ({arrowWidth:N,arrowHeight:k}),h&&mQ({strategy:"referenceHidden",...U})]}),[R,$]=n4(A),J=zr(g);kr(()=>{z&&(J==null||J())},[z,J]);const G=(ce=L.arrow)==null?void 0:ce.x,ie=(Me=L.arrow)==null?void 0:Me.y,he=((re=L.arrow)==null?void 0:re.centerOffset)!==0,[Le,Fe]=x.useState();return kr(()=>{y&&Fe(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:z?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(pe=L.transformOrigin)==null?void 0:pe.x,(H=L.transformOrigin)==null?void 0:H.y].join(" "),...((K=L.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(bQ,{scope:r,placedSide:R,onArrowChange:j,arrowX:G,arrowY:ie,shouldHideArrow:he,children:a.jsx(Xe.div,{"data-side":R,"data-align":$,...m,ref:w,style:{...m.style,animation:z?void 0:"none"}})})})});e4.displayName=US;var t4="PopperArrow",jQ={top:"bottom",right:"left",bottom:"top",left:"right"},r4=x.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=wQ(t4,n),o=jQ[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(yQ,{...s,ref:r,style:{...s.style,display:"block"}})})});r4.displayName=t4;function _Q(e){return e!==null}var SQ=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:s}=t,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=n4(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=o?f:`${h}px`,m=`${-c}px`):u==="top"?(g=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:g,y:m}}}});function n4(e){const[t,r="center"]=e.split("-");return[t,r]}var s4=XD,i4=ZD,a4=e4,o4=r4,Yb="rovingFocusGroup.onEntryFocus",NQ={bubbles:!1,cancelable:!0},Ap="RovingFocusGroup",[gj,l4,kQ]=TS(Ap),[CQ,ex]=Fi(Ap,[kQ]),[EQ,OQ]=CQ(Ap),c4=x.forwardRef((e,t)=>a.jsx(gj.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(gj.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(PQ,{...e,ref:t})})}));c4.displayName=Ap;var PQ=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),p=dt(t,h),g=Op(i),[m,v]=Yl({prop:o,defaultProp:l??null,onChange:c,caller:Ap}),[y,b]=x.useState(!1),w=zr(u),S=l4(r),j=x.useRef(!1),[_,N]=x.useState(0);return x.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Yb,w),()=>k.removeEventListener(Yb,w)},[w]),a.jsx(EQ,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:m,onItemFocus:x.useCallback(k=>v(k),[v]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>N(k=>k-1),[]),children:a.jsx(Xe.div,{tabIndex:y||_===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ne(e.onMouseDown,()=>{j.current=!0}),onFocus:Ne(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!y){const T=new CustomEvent(Yb,NQ);if(k.currentTarget.dispatchEvent(T),!T.defaultPrevented){const I=S().filter(A=>A.focusable),E=I.find(A=>A.active),U=I.find(A=>A.id===m),B=[E,U,...I].filter(Boolean).map(A=>A.ref.current);f4(B,d)}}j.current=!1}),onBlur:Ne(e.onBlur,()=>b(!1))})})}),u4="RovingFocusGroupItem",d4=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Pi(),u=i||c,d=OQ(u4,r),f=d.currentTabStopId===u,h=l4(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return x.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),a.jsx(gj.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Xe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ne(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Ne(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ne(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=RQ(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const S=w.indexOf(v.currentTarget);w=d.loop?$Q(w,S+1):w.slice(S+1)}setTimeout(()=>f4(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});d4.displayName=u4;var AQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function RQ(e,t,r){const n=TQ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return AQ[n]}function f4(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function $Q(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var h4=c4,p4=d4;function MQ(e){const t=IQ(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(LQ);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function IQ(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=UQ(s),l=FQ(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Aa(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DQ=Symbol("radix.slottable");function LQ(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DQ}function FQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function UQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vj=["Enter"," "],BQ=["ArrowDown","PageUp","Home"],m4=["ArrowUp","PageDown","End"],zQ=[...BQ,...m4],qQ={ltr:[...vj,"ArrowRight"],rtl:[...vj,"ArrowLeft"]},WQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Tp="Menu",[Eh,VQ,HQ]=TS(Tp),[fc,g4]=Fi(Tp,[HQ,Zy,ex]),tx=Zy(),v4=ex(),[KQ,hc]=fc(Tp),[GQ,Rp]=fc(Tp),y4=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=tx(t),[c,u]=x.useState(null),d=x.useRef(!1),f=zr(i),h=Op(s);return x.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),a.jsx(s4,{...l,children:a.jsx(KQ,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(GQ,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};y4.displayName=Tp;var YQ="MenuAnchor",BS=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=tx(r);return a.jsx(i4,{...s,...n,ref:t})});BS.displayName=YQ;var zS="MenuPortal",[QQ,x4]=fc(zS,{forceMount:void 0}),b4=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=hc(zS,t);return a.jsx(QQ,{scope:t,forceMount:r,children:a.jsx(os,{present:r||i.open,children:a.jsx(By,{asChild:!0,container:s,children:n})})})};b4.displayName=zS;var bs="MenuContent",[XQ,qS]=fc(bs),w4=x.forwardRef((e,t)=>{const r=x4(bs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=hc(bs,e.__scopeMenu),o=Rp(bs,e.__scopeMenu);return a.jsx(Eh.Provider,{scope:e.__scopeMenu,children:a.jsx(os,{present:n||i.open,children:a.jsx(Eh.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(JQ,{...s,ref:t}):a.jsx(ZQ,{...s,ref:t})})})})}),JQ=x.forwardRef((e,t)=>{const r=hc(bs,e.__scopeMenu),n=x.useRef(null),s=dt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return xS(i)},[]),a.jsx(WS,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ZQ=x.forwardRef((e,t)=>{const r=hc(bs,e.__scopeMenu);return a.jsx(WS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),eX=MQ("MenuContent.ScrollLock"),WS=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,v=hc(bs,r),y=Rp(bs,r),b=tx(r),w=v4(r),S=VQ(r),[j,_]=x.useState(null),N=x.useRef(null),k=dt(t,N,v.onContentChange),C=x.useRef(0),T=x.useRef(""),I=x.useRef(0),E=x.useRef(null),U=x.useRef("right"),O=x.useRef(0),B=g?qy:x.Fragment,A=g?{as:eX,allowPinchZoom:!0}:void 0,z=R=>{var ce,Me;const $=T.current+R,J=S().filter(re=>!re.disabled),G=document.activeElement,ie=(ce=J.find(re=>re.ref.current===G))==null?void 0:ce.textValue,he=J.map(re=>re.textValue),Le=fX(he,$,ie),Fe=(Me=J.find(re=>re.textValue===Le))==null?void 0:Me.ref.current;(function re(pe){T.current=pe,window.clearTimeout(C.current),pe!==""&&(C.current=window.setTimeout(()=>re(""),1e3))})($),Fe&&setTimeout(()=>Fe.focus())};x.useEffect(()=>()=>window.clearTimeout(C.current),[]),yS();const L=x.useCallback(R=>{var J,G;return U.current===((J=E.current)==null?void 0:J.side)&&pX(R,(G=E.current)==null?void 0:G.area)},[]);return a.jsx(XQ,{scope:r,searchRef:T,onItemEnter:x.useCallback(R=>{L(R)&&R.preventDefault()},[L]),onItemLeave:x.useCallback(R=>{var $;L(R)||(($=N.current)==null||$.focus(),_(null))},[L]),onTriggerLeave:x.useCallback(R=>{L(R)&&R.preventDefault()},[L]),pointerGraceTimerRef:I,onPointerGraceIntentChange:x.useCallback(R=>{E.current=R},[]),children:a.jsx(B,{...A,children:a.jsx(Uy,{asChild:!0,trapped:s,onMountAutoFocus:Ne(i,R=>{var $;R.preventDefault(),($=N.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Fy,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:a.jsx(h4,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:_,onEntryFocus:Ne(c,R=>{y.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(a4,{role:"menu","aria-orientation":"vertical","data-state":D4(v.open),"data-radix-menu-content":"",dir:y.dir,...b,...m,ref:k,style:{outline:"none",...m.style},onKeyDown:Ne(m.onKeyDown,R=>{const J=R.target.closest("[data-radix-menu-content]")===R.currentTarget,G=R.ctrlKey||R.altKey||R.metaKey,ie=R.key.length===1;J&&(R.key==="Tab"&&R.preventDefault(),!G&&ie&&z(R.key));const he=N.current;if(R.target!==he||!zQ.includes(R.key))return;R.preventDefault();const Fe=S().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);m4.includes(R.key)&&Fe.reverse(),uX(Fe)}),onBlur:Ne(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(C.current),T.current="")}),onPointerMove:Ne(e.onPointerMove,Oh(R=>{const $=R.target,J=O.current!==R.clientX;if(R.currentTarget.contains($)&&J){const G=R.clientX>O.current?"right":"left";U.current=G,O.current=R.clientX}}))})})})})})})});w4.displayName=bs;var tX="MenuGroup",VS=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Xe.div,{role:"group",...n,ref:t})});VS.displayName=tX;var rX="MenuLabel",j4=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Xe.div,{...n,ref:t})});j4.displayName=rX;var Yg="MenuItem",rO="menu.itemSelect",rx=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=x.useRef(null),o=Rp(Yg,e.__scopeMenu),l=qS(Yg,e.__scopeMenu),c=dt(t,i),u=x.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(rO,{bubbles:!0,cancelable:!0});f.addEventListener(rO,p=>n==null?void 0:n(p),{once:!0}),PI(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(_4,{...s,ref:c,disabled:r,onClick:Ne(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ne(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ne(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||vj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});rx.displayName=Yg;var _4=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=qS(Yg,r),l=v4(r),c=x.useRef(null),u=dt(t,c),[d,f]=x.useState(!1),[h,p]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),a.jsx(Eh.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(p4,{asChild:!0,...l,focusable:!n,children:a.jsx(Xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ne(e.onPointerMove,Oh(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(e.onPointerLeave,Oh(g=>o.onItemLeave(g))),onFocus:Ne(e.onFocus,()=>f(!0)),onBlur:Ne(e.onBlur,()=>f(!1))})})})}),nX="MenuCheckboxItem",S4=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(O4,{scope:e.__scopeMenu,checked:r,children:a.jsx(rx,{role:"menuitemcheckbox","aria-checked":Qg(r)?"mixed":r,...s,ref:t,"data-state":KS(r),onSelect:Ne(s.onSelect,()=>n==null?void 0:n(Qg(r)?!0:!r),{checkForDefaultPrevented:!1})})})});S4.displayName=nX;var N4="MenuRadioGroup",[sX,iX]=fc(N4,{value:void 0,onValueChange:()=>{}}),k4=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=zr(n);return a.jsx(sX,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(VS,{...s,ref:t})})});k4.displayName=N4;var C4="MenuRadioItem",E4=x.forwardRef((e,t)=>{const{value:r,...n}=e,s=iX(C4,e.__scopeMenu),i=r===s.value;return a.jsx(O4,{scope:e.__scopeMenu,checked:i,children:a.jsx(rx,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":KS(i),onSelect:Ne(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});E4.displayName=C4;var HS="MenuItemIndicator",[O4,aX]=fc(HS,{checked:!1}),P4=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=aX(HS,r);return a.jsx(os,{present:n||Qg(i.checked)||i.checked===!0,children:a.jsx(Xe.span,{...s,ref:t,"data-state":KS(i.checked)})})});P4.displayName=HS;var oX="MenuSeparator",A4=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});A4.displayName=oX;var lX="MenuArrow",T4=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=tx(r);return a.jsx(o4,{...s,...n,ref:t})});T4.displayName=lX;var cX="MenuSub",[FAe,R4]=fc(cX),Ef="MenuSubTrigger",$4=x.forwardRef((e,t)=>{const r=hc(Ef,e.__scopeMenu),n=Rp(Ef,e.__scopeMenu),s=R4(Ef,e.__scopeMenu),i=qS(Ef,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(BS,{asChild:!0,...u,children:a.jsx(_4,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":D4(r.open),...e,ref:Aa(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ne(e.onPointerMove,Oh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ne(e.onPointerLeave,Oh(f=>{var p,g;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",y=v?-5:5,b=h[v?"left":"right"],w=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:b,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:b,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||qQ[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});$4.displayName=Ef;var M4="MenuSubContent",I4=x.forwardRef((e,t)=>{const r=x4(bs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=hc(bs,e.__scopeMenu),o=Rp(bs,e.__scopeMenu),l=R4(M4,e.__scopeMenu),c=x.useRef(null),u=dt(t,c);return a.jsx(Eh.Provider,{scope:e.__scopeMenu,children:a.jsx(os,{present:n||i.open,children:a.jsx(Eh.Slot,{scope:e.__scopeMenu,children:a.jsx(WS,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ne(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ne(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=WQ[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});I4.displayName=M4;function D4(e){return e?"open":"closed"}function Qg(e){return e==="indeterminate"}function KS(e){return Qg(e)?"indeterminate":e?"checked":"unchecked"}function uX(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function dX(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function fX(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=dX(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function hX(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function pX(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return hX(r,t)}function Oh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var mX=y4,gX=BS,vX=b4,yX=w4,xX=VS,bX=j4,wX=rx,jX=S4,_X=k4,SX=E4,NX=P4,kX=A4,CX=T4,EX=$4,OX=I4,nx="DropdownMenu",[PX]=Fi(nx,[g4]),wn=g4(),[AX,L4]=PX(nx),F4=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=wn(t),u=x.useRef(null),[d,f]=Yl({prop:s,defaultProp:i??!1,onChange:o,caller:nx});return a.jsx(AX,{scope:t,triggerId:Pi(),triggerRef:u,contentId:Pi(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(mX,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};F4.displayName=nx;var U4="DropdownMenuTrigger",B4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=L4(U4,r),o=wn(r);return a.jsx(gX,{asChild:!0,...o,children:a.jsx(Xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Aa(t,i.triggerRef),onPointerDown:Ne(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ne(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});B4.displayName=U4;var TX="DropdownMenuPortal",z4=e=>{const{__scopeDropdownMenu:t,...r}=e,n=wn(t);return a.jsx(vX,{...n,...r})};z4.displayName=TX;var q4="DropdownMenuContent",W4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=L4(q4,r),i=wn(r),o=x.useRef(!1);return a.jsx(yX,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ne(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});W4.displayName=q4;var RX="DropdownMenuGroup",$X=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(xX,{...s,...n,ref:t})});$X.displayName=RX;var MX="DropdownMenuLabel",V4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(bX,{...s,...n,ref:t})});V4.displayName=MX;var IX="DropdownMenuItem",H4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(wX,{...s,...n,ref:t})});H4.displayName=IX;var DX="DropdownMenuCheckboxItem",K4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(jX,{...s,...n,ref:t})});K4.displayName=DX;var LX="DropdownMenuRadioGroup",FX=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(_X,{...s,...n,ref:t})});FX.displayName=LX;var UX="DropdownMenuRadioItem",G4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(SX,{...s,...n,ref:t})});G4.displayName=UX;var BX="DropdownMenuItemIndicator",Y4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(NX,{...s,...n,ref:t})});Y4.displayName=BX;var zX="DropdownMenuSeparator",Q4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(kX,{...s,...n,ref:t})});Q4.displayName=zX;var qX="DropdownMenuArrow",WX=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(CX,{...s,...n,ref:t})});WX.displayName=qX;var VX="DropdownMenuSubTrigger",X4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(EX,{...s,...n,ref:t})});X4.displayName=VX;var HX="DropdownMenuSubContent",J4=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wn(r);return a.jsx(OX,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});J4.displayName=HX;var KX=F4,GX=B4,YX=z4,Z4=W4,eL=V4,tL=H4,rL=K4,nL=G4,sL=Y4,iL=Q4,aL=X4,oL=J4;const Lo=KX,Fo=GX,QX=x.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(aL,{ref:s,className:Z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(rs,{className:"ml-auto h-4 w-4"})]}));QX.displayName=aL.displayName;const XX=x.forwardRef(({className:e,...t},r)=>a.jsx(oL,{ref:r,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));XX.displayName=oL.displayName;const wa=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(YX,{children:a.jsx(Z4,{ref:n,sideOffset:t,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));wa.displayName=Z4.displayName;const pr=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(tL,{ref:n,className:Z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));pr.displayName=tL.displayName;const JX=x.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(rL,{ref:s,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(sL,{children:a.jsx(kp,{className:"h-4 w-4"})})}),t]}));JX.displayName=rL.displayName;const ZX=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(nL,{ref:n,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(sL,{children:a.jsx(wH,{className:"h-2 w-2 fill-current"})})}),t]}));ZX.displayName=nL.displayName;const lL=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(eL,{ref:n,className:Z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));lL.displayName=eL.displayName;const yj=x.forwardRef(({className:e,...t},r)=>a.jsx(iL,{ref:r,className:Z("-mx-1 my-1 h-px bg-border",e),...t}));yj.displayName=iL.displayName;function eJ({open:e,onOpenChange:t,onConfirm:r,isConfirming:n=!1,className:s}){const i=async()=>{await r(),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:Z("max-w-[640px] rounded-[10px] border border-border bg-card shadow-lg",s),"aria-describedby":"logout-confirm-description",children:[a.jsx(We,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-muted",children:a.jsx(pI,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ve,{children:"Sign out"}),a.jsx(He,{id:"logout-confirm-description",children:"Are you sure you want to sign out? You can sign in again anytime."})]})]})}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(M,{type:"button",variant:"default",onClick:i,disabled:n,className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-md",children:n?"Signing out":"Sign out"})]})]})})}function tJ({className:e}){var d;const{user:t,signOut:r,isLoading:n}=aS(),s=Vo(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),u=async()=>{c(!0),await r(),c(!1),o(!1),s("/",{replace:!0})};return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:Z("flex h-14 items-center gap-4 border-b border-border bg-card px-4",e),children:[a.jsx("div",{className:"flex flex-1 items-center gap-4",children:a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(yI,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(ge,{type:"search",placeholder:"Search...",className:"pl-9 rounded-md border-border","aria-label":"Search"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(M,{variant:"ghost",size:"icon","aria-label":"Notifications",children:a.jsx(vH,{className:"h-4 w-4"})}),a.jsx(M,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(me,{to:"/help","aria-label":"Help",children:a.jsx(Ry,{className:"h-4 w-4"})})}),!n&&(t?a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsx(M,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all hover:scale-[1.02]","aria-label":"Account menu",children:a.jsxs(Ky,{className:"h-10 w-10",children:[a.jsx(AS,{src:(d=t.user_metadata)==null?void 0:d.avatar_url,alt:t.email??"User"}),a.jsx(Gy,{className:"bg-primary/20 text-primary",children:a.jsx(Dy,{className:"h-5 w-5"})})]})})}),a.jsxs(wa,{align:"end",className:"w-56 rounded-md border-border bg-card shadow-lg",children:[a.jsx(lL,{children:a.jsx("span",{className:"font-normal text-muted-foreground",children:t.email})}),a.jsx(yj,{}),a.jsx(pr,{asChild:!0,children:a.jsx(me,{to:"/profile",children:"Profile"})}),a.jsx(pr,{asChild:!0,children:a.jsx(me,{to:"/settings",children:"Settings"})}),a.jsx(yj,{}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onSelect:f=>{f.preventDefault(),o(!0)},children:[a.jsx(pI,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Log out"]})]})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(M,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx(me,{to:"/login",children:"Sign in"})}),a.jsx(M,{size:"sm",asChild:!0,children:a.jsx(me,{to:"/signup",children:"Sign up"})})]}))]})]}),a.jsx(eJ,{open:i,onOpenChange:o,onConfirm:u,isConfirming:l})]})}function rJ(){return a.jsxs("div",{className:"flex min-h-screen bg-background",children:[a.jsx(IG,{}),a.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[a.jsx(tJ,{}),a.jsx("main",{className:Z("flex-1 overflow-auto p-4 md:p-6","max-w-content mx-auto w-full"),children:a.jsx(CM,{})})]})]})}const ee=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("rounded-[10px] border border-border bg-card text-card-foreground shadow-card transition-shadow hover:shadow-card-hover",e),...t}));ee.displayName="Card";const ne=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("flex flex-col space-y-1.5 p-3 sm:p-6",e),...t}));ne.displayName="CardHeader";const ae=x.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));ae.displayName="CardTitle";const ve=x.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));ve.displayName="CardDescription";const te=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));te.displayName="CardContent";const nJ=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("flex items-center p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));nJ.displayName="CardFooter";const sJ="reveal-visible";function Nm(e){const t=x.useRef(null),[r,n]=x.useState(!1);return x.useEffect(()=>{const s=t.current;if(!s)return;const i=new IntersectionObserver(([o])=>{o!=null&&o.isIntersecting&&(n(!0),s.classList.add(sJ))},{rootMargin:"0px 0px -60px 0px",threshold:.1,...e});return i.observe(s),()=>i.disconnect()},[e==null?void 0:e.rootMargin,e==null?void 0:e.threshold]),{ref:t,visible:r}}const iJ=[{id:"1",name:"Chat-native control",description:"Control your agent from WhatsApp, Telegram, Slack, and Discord. One gateway, all your channels.",iconName:"MessageSquare"},{id:"2",name:"Skills & tools",description:"Load skills from SKILL.md with gating checks, run tools with sandboxing and policy whitelists.",iconName:"Zap"},{id:"3",name:"Paired nodes",description:"Pair devices via QR or code. Manage exec allowlists, wake config, and approvals per node.",iconName:"Smartphone"},{id:"4",name:"Browser automation",description:"Managed Chromium profile, CDP abstraction, and capture tools for screenshots, PDF, and DOM.",iconName:"Globe"},{id:"5",name:"Security audit",description:"Automated checks for plaintext secrets, open binds, and risky permissions. Remediation and auto-fix.",iconName:"Shield"},{id:"6",name:"Cron & webhooks",description:"Schedule jobs and inbound webhooks with token auth, lifecycle hooks, and payload transforms.",iconName:"Clock"}],aJ=[{id:"tg",providerName:"Telegram",category:"chat"},{id:"wa",providerName:"WhatsApp",category:"chat"},{id:"slack",providerName:"Slack",category:"chat"},{id:"discord",providerName:"Discord",category:"chat"},{id:"openai",providerName:"OpenAI",category:"model"},{id:"anthropic",providerName:"Anthropic",category:"model"},{id:"ollama",providerName:"Ollama",category:"model"}],oJ=[{id:"free",planName:"Free",description:"Local gateway, core features",price:"$0",features:["Local-only mode","Control UI","1 channel","Community support"]},{id:"pro",planName:"Pro",description:"Cloud-linked, more channels",price:"TBD",features:["Everything in Free","Multiple channels","Skills registry","Email support"]},{id:"enterprise",planName:"Enterprise",description:"Multi-workspace, SSO, SLA",price:"Contact us",features:["Everything in Pro","Admin dashboard","RBAC","Dedicated support"]}],lJ={MessageSquare:Cp,Zap:_I,Smartphone:RH,Globe:CH,Shield:Dn,Clock:vo};function cJ(){const[e,t]=x.useState(null),r=Nm(),n=Nm(),s=Nm(),i=Nm();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed left-0 right-0 top-0 z-40 border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(me,{to:"/",className:"text-xl font-semibold text-foreground",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-6",children:[a.jsx("a",{href:"#features",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Features"}),a.jsx("a",{href:"#quick-start",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Quick start"}),a.jsx("a",{href:"#pricing",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Pricing"}),a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Docs"}),a.jsx(me,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(M,{asChild:!0,size:"sm",children:a.jsx(me,{to:"/signup",children:"Sign up"})})]})]})}),a.jsxs("main",{children:[a.jsxs("section",{className:"relative overflow-hidden px-4 pt-32 pb-24 sm:px-6 sm:pt-40 sm:pb-32",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"landing-hero-blob absolute -left-32 top-20 h-80 w-80 rounded-full opacity-40",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.4) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-2 absolute right-0 top-1/3 h-96 w-96 rounded-full opacity-30",style:{background:"radial-gradient(circle, rgb(var(--accent) / 0.35) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-3 absolute bottom-20 left-1/3 h-64 w-64 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.3) 0%, transparent 70%)"}})]}),a.jsxs("div",{className:"relative mx-auto max-w-3xl text-center",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:"Local-first, chat-native personal agent"}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground sm:text-xl",children:"Run tools, schedule jobs, pair devices, and control your agent from the chat surfaces you already use."}),a.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-4",children:[a.jsx(M,{size:"lg",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/download",className:"inline-flex items-center gap-2",children:[a.jsx(ks,{className:"h-5 w-5"}),"Install Gateway"]})}),a.jsx(M,{size:"lg",variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/dashboard",className:"inline-flex items-center gap-2",children:[a.jsx(My,{className:"h-5 w-5"}),"Open Local UI"]})}),a.jsx(M,{size:"lg",variant:"ghost",asChild:!0,className:"min-h-[44px] text-muted-foreground",children:a.jsxs(me,{to:"/help",className:"inline-flex items-center gap-2",children:[a.jsx(Wr,{className:"h-5 w-5"}),"Docs"]})})]})]})]}),a.jsxs("section",{id:"features",ref:r.ref,className:Z("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Features"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"One gateway for chat, skills, nodes, automation, and security."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:iJ.map((o,l)=>a.jsx(uJ,{feature:o,index:l},o.id))})]}),a.jsx("section",{id:"quick-start",ref:n.ref,className:Z("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Quick start"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Get running in a few steps."}),a.jsx("ol",{className:"mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:["Install and start the gateway (local-only or cloud-linked).","Open the Control UI at your local URL.","Add a channel (e.g. Telegram) and message your agent.","Try Summarize this URL with a link in chat."].map((o,l)=>a.jsxs("li",{className:"relative flex gap-4 rounded-lg border border-border bg-card p-6 shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground","aria-hidden":!0,children:l+1}),a.jsx("span",{className:"text-muted-foreground",children:o})]},l))})]})}),a.jsxs("section",{id:"integrations",ref:s.ref,className:Z("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Works with your stack"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Chat providers and model backends you can connect today."}),a.jsx("div",{className:"mt-12 flex flex-wrap items-center justify-center gap-8",children:aJ.map(o=>a.jsx("div",{className:"flex h-14 min-w-[120px] items-center justify-center rounded-lg border border-border bg-card/50 px-6 py-3 text-sm font-medium text-muted-foreground transition-colors hover:border-primary/50 hover:text-foreground",children:o.providerName},o.id))})]}),a.jsx("section",{id:"pricing",ref:i.ref,className:Z("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Plans"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Start free, scale when you need more."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-3",children:oJ.map(o=>a.jsxs(ee,{className:"cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",onClick:()=>t(o),children:[a.jsxs(ne,{className:"pb-2",children:[a.jsx(ae,{className:"text-lg",children:o.planName}),a.jsx(ve,{children:o.description}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:o.price})]}),a.jsxs(te,{children:[a.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.features.slice(0,3).map((l,c)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(rs,{className:"h-4 w-4 text-accent"}),l]},c))}),a.jsx(M,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:l=>{l.stopPropagation(),t(o)},children:"Learn more"})]})]},o.id))})]})}),a.jsx("footer",{className:"border-t border-border py-12",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Repository"}),a.jsx(me,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(me,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]}),a.jsx(Ge,{open:!!e,onOpenChange:o=>{o||t(null)},children:a.jsx(qe,{className:"max-w-md",children:e&&a.jsxs(a.Fragment,{children:[a.jsxs(We,{children:[a.jsx(Ve,{children:e.planName}),a.jsx(He,{children:e.description})]}),a.jsx("p",{className:"text-2xl font-semibold text-foreground",children:e.price}),a.jsx("ul",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:e.features.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(rs,{className:"h-4 w-4 text-accent"}),o]},l))}),a.jsx(M,{asChild:!0,className:"mt-6 w-full",children:a.jsx(me,{to:"/signup",children:"Get started"})})]})})})]})}function uJ({feature:e,index:t}){const r=lJ[e.iconName]??_I;return a.jsx(ee,{className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",style:{transitionDelay:`${t*50}ms`},children:a.jsxs(ne,{children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 text-primary",children:a.jsx(r,{className:"h-6 w-6"})}),a.jsx(ae,{className:"text-lg",children:e.name}),a.jsx(ve,{children:e.description})]})})}var $p=e=>e.type==="checkbox",jl=e=>e instanceof Date,En=e=>e==null;const cL=e=>typeof e=="object";var Sr=e=>!En(e)&&!Array.isArray(e)&&cL(e)&&!jl(e),dJ=e=>Sr(e)&&e.target?$p(e.target)?e.target.checked:e.target.value:e,fJ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,hJ=(e,t)=>e.has(fJ(t)),pJ=e=>{const t=e.constructor&&e.constructor.prototype;return Sr(t)&&t.hasOwnProperty("isPrototypeOf")},GS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Er(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(GS&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Sr(e)&&pJ(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Er(e[s]));return n}var sx=e=>/^\w*$/.test(e),nr=e=>e===void 0,YS=e=>Array.isArray(e)?e.filter(Boolean):[],QS=e=>YS(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ee=(e,t,r)=>{if(!t||!Sr(e))return r;const n=(sx(t)?[t]:QS(t)).reduce((s,i)=>En(s)?s:s[i],e);return nr(n)||n===e?nr(e[t])?r:e[t]:n},vi=e=>typeof e=="boolean",Xs=e=>typeof e=="function",Ft=(e,t,r)=>{let n=-1;const s=sx(t)?[t]:QS(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Sr(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const nO={BLUR:"blur",FOCUS_OUT:"focusout"},Js={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mJ=P.createContext(null);mJ.displayName="HookFormControlContext";var gJ=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Js.all&&(t._proxyFormState[o]=!n||Js.all),e[o]}});return s};const vJ=typeof window<"u"?P.useLayoutEffect:P.useEffect;var Gn=e=>typeof e=="string",yJ=(e,t,r,n,s)=>Gn(e)?(n&&t.watch.add(e),Ee(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ee(r,i))):(n&&(t.watchAll=!0),r),xj=e=>En(e)||!cL(e);function ro(e,t,r=new WeakSet){if(xj(e)||xj(t))return Object.is(e,t);if(jl(e)&&jl(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(jl(o)&&jl(l)||Sr(o)&&Sr(l)||Array.isArray(o)&&Array.isArray(l)?!ro(o,l,r):!Object.is(o,l))return!1}}return!0}const xJ=P.createContext(null);xJ.displayName="HookFormContext";var uL=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},qf=e=>Array.isArray(e)?e:[e],sO=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function dL(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&Sr(s)&&i){const o=dL(s,i);Sr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var hn=e=>Sr(e)&&!Object.keys(e).length,XS=e=>e.type==="file",Xg=e=>{if(!GS)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},fL=e=>e.type==="select-multiple",JS=e=>e.type==="radio",bJ=e=>JS(e)||$p(e),Qb=e=>Xg(e)&&e.isConnected;function wJ(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=nr(e)?n++:e[t[n++]];return e}function jJ(e){for(const t in e)if(e.hasOwnProperty(t)&&!nr(e[t]))return!1;return!0}function yr(e,t){const r=Array.isArray(t)?t:sx(t)?[t]:QS(t),n=r.length===1?e:wJ(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Sr(n)&&hn(n)||Array.isArray(n)&&jJ(n))&&yr(e,r.slice(0,-1)),e}var _J=e=>{for(const t in e)if(Xs(e[t]))return!0;return!1};function hL(e){return Array.isArray(e)||Sr(e)&&!_J(e)}function bj(e,t={}){for(const r in e){const n=e[r];hL(n)?(t[r]=Array.isArray(n)?[]:{},bj(n,t[r])):nr(n)||(t[r]=!0)}return t}function Uc(e,t,r){r||(r=bj(t));for(const n in e){const s=e[n];if(hL(s))nr(t)||xj(r[n])?r[n]=bj(s,Array.isArray(s)?[]:{}):Uc(s,En(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!ro(s,i)}}return r}const iO={value:!1,isValid:!1},aO={value:!0,isValid:!0};var pL=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!nr(e[0].attributes.value)?nr(e[0].value)||e[0].value===""?aO:{value:e[0].value,isValid:!0}:aO:iO}return iO},mL=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>nr(e)?e:t?e===""?NaN:e&&+e:r&&Gn(e)?new Date(e):n?n(e):e;const oO={isValid:!1,value:null};var gL=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,oO):oO;function lO(e){const t=e.ref;return XS(t)?t.files:JS(t)?gL(e.refs).value:fL(t)?[...t.selectedOptions].map(({value:r})=>r):$p(t)?pL(e.refs).value:mL(nr(t.value)?e.ref.value:t.value,e)}var SJ=(e,t,r,n)=>{const s={};for(const i of e){const o=Ee(t,i);o&&Ft(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Jg=e=>e instanceof RegExp,of=e=>nr(e)?e:Jg(e)?e.source:Sr(e)?Jg(e.value)?e.value.source:e.value:e,cO=e=>({isOnSubmit:!e||e===Js.onSubmit,isOnBlur:e===Js.onBlur,isOnChange:e===Js.onChange,isOnAll:e===Js.all,isOnTouch:e===Js.onTouched});const uO="AsyncFunction";var NJ=e=>!!e&&!!e.validate&&!!(Xs(e.validate)&&e.validate.constructor.name===uO||Sr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===uO)),kJ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),dO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Wf=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Ee(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Wf(l,t))break}else if(Sr(l)&&Wf(l,t))break}}};function fO(e,t,r){const n=Ee(e,r);if(n||sx(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Ee(t,i),l=Ee(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var CJ=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return hn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Js.all))},EJ=(e,t,r)=>!e||!t||e===t||qf(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),OJ=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,PJ=(e,t)=>!YS(Ee(e,t)).length&&yr(e,t),AJ=(e,t,r)=>{const n=qf(Ee(e,r));return Ft(n,"root",t[r]),Ft(e,r,n),e};function hO(e,t,r="validate"){if(Gn(e)||Array.isArray(e)&&e.every(Gn)||vi(e)&&!e)return{type:r,message:Gn(e)?e:"",ref:t}}var Ac=e=>Sr(e)&&!Jg(e)?e:{value:e,message:""},pO=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:v,mount:y}=e._f,b=Ee(r,m);if(!y||t.has(m))return{};const w=l?l[0]:o,S=E=>{s&&w.reportValidity&&(w.setCustomValidity(vi(E)?"":E||""),w.reportValidity())},j={},_=JS(o),N=$p(o),k=_||N,C=(v||XS(o))&&nr(o.value)&&nr(b)||Xg(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,T=uL.bind(null,m,n,j),I=(E,U,O,B=Hi.maxLength,A=Hi.minLength)=>{const z=E?U:O;j[m]={type:E?B:A,message:z,ref:o,...T(E?B:A,z)}};if(i?!Array.isArray(b)||!b.length:c&&(!k&&(C||En(b))||vi(b)&&!b||N&&!pL(l).isValid||_&&!gL(l).isValid)){const{value:E,message:U}=Gn(c)?{value:!!c,message:c}:Ac(c);if(E&&(j[m]={type:Hi.required,message:U,ref:w,...T(Hi.required,U)},!n))return S(U),j}if(!C&&(!En(f)||!En(h))){let E,U;const O=Ac(h),B=Ac(f);if(!En(b)&&!isNaN(b)){const A=o.valueAsNumber||b&&+b;En(O.value)||(E=A>O.value),En(B.value)||(U=A<B.value)}else{const A=o.valueAsDate||new Date(b),z=$=>new Date(new Date().toDateString()+" "+$),L=o.type=="time",R=o.type=="week";Gn(O.value)&&b&&(E=L?z(b)>z(O.value):R?b>O.value:A>new Date(O.value)),Gn(B.value)&&b&&(U=L?z(b)<z(B.value):R?b<B.value:A<new Date(B.value))}if((E||U)&&(I(!!E,O.message,B.message,Hi.max,Hi.min),!n))return S(j[m].message),j}if((u||d)&&!C&&(Gn(b)||i&&Array.isArray(b))){const E=Ac(u),U=Ac(d),O=!En(E.value)&&b.length>+E.value,B=!En(U.value)&&b.length<+U.value;if((O||B)&&(I(O,E.message,U.message),!n))return S(j[m].message),j}if(p&&!C&&Gn(b)){const{value:E,message:U}=Ac(p);if(Jg(E)&&!b.match(E)&&(j[m]={type:Hi.pattern,message:U,ref:o,...T(Hi.pattern,U)},!n))return S(U),j}if(g){if(Xs(g)){const E=await g(b,r),U=hO(E,w);if(U&&(j[m]={...U,...T(Hi.validate,U.message)},!n))return S(U.message),j}else if(Sr(g)){let E={};for(const U in g){if(!hn(E)&&!n)break;const O=hO(await g[U](b,r),w,U);O&&(E={...O,...T(U,O.message)},S(O.message),n&&(j[m]=E))}if(!hn(E)&&(j[m]={ref:w,...E},!n))return j}}return S(!0),j};const TJ={mode:Js.onSubmit,reValidateMode:Js.onChange,shouldFocusError:!0};function RJ(e={}){let t={...TJ,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Xs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Sr(t.defaultValues)||Sr(t.values)?Er(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Er(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:sO(),state:sO()},g=t.criteriaMode===Js.all,m=D=>W=>{clearTimeout(u),u=setTimeout(D,W)},v=async D=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||D)){let W;t.resolver?(W=hn((await k()).errors),y()):W=await T(n,!0),W!==r.isValid&&p.state.next({isValid:W})}},y=(D,W)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((D||Array.from(l.mount)).forEach(Y=>{Y&&(W?Ft(r.validatingFields,Y,W):yr(r.validatingFields,Y))}),p.state.next({validatingFields:r.validatingFields,isValidating:!hn(r.validatingFields)}))},b=(D,W=[],Y,ye,fe=!0,se=!0)=>{if(ye&&Y&&!t.disabled){if(o.action=!0,se&&Array.isArray(Ee(n,D))){const Ae=Y(Ee(n,D),ye.argA,ye.argB);fe&&Ft(n,D,Ae)}if(se&&Array.isArray(Ee(r.errors,D))){const Ae=Y(Ee(r.errors,D),ye.argA,ye.argB);fe&&Ft(r.errors,D,Ae),PJ(r.errors,D)}if((f.touchedFields||h.touchedFields)&&se&&Array.isArray(Ee(r.touchedFields,D))){const Ae=Y(Ee(r.touchedFields,D),ye.argA,ye.argB);fe&&Ft(r.touchedFields,D,Ae)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Uc(s,i)),p.state.next({name:D,isDirty:E(D,W),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ft(i,D,W)},w=(D,W)=>{Ft(r.errors,D,W),p.state.next({errors:r.errors})},S=D=>{r.errors=D,p.state.next({errors:r.errors,isValid:!1})},j=(D,W,Y,ye)=>{const fe=Ee(n,D);if(fe){const se=Ee(i,D,nr(Y)?Ee(s,D):Y);nr(se)||ye&&ye.defaultChecked||W?Ft(i,D,W?se:lO(fe._f)):B(D,se),o.mount&&!o.action&&v()}},_=(D,W,Y,ye,fe)=>{let se=!1,Ae=!1;const xt={name:D};if(!t.disabled){if(!Y||ye){(f.isDirty||h.isDirty)&&(Ae=r.isDirty,r.isDirty=xt.isDirty=E(),se=Ae!==xt.isDirty);const bt=ro(Ee(s,D),W);Ae=!!Ee(r.dirtyFields,D),bt?yr(r.dirtyFields,D):Ft(r.dirtyFields,D,!0),xt.dirtyFields=r.dirtyFields,se=se||(f.dirtyFields||h.dirtyFields)&&Ae!==!bt}if(Y){const bt=Ee(r.touchedFields,D);bt||(Ft(r.touchedFields,D,Y),xt.touchedFields=r.touchedFields,se=se||(f.touchedFields||h.touchedFields)&&bt!==Y)}se&&fe&&p.state.next(xt)}return se?xt:{}},N=(D,W,Y,ye)=>{const fe=Ee(r.errors,D),se=(f.isValid||h.isValid)&&vi(W)&&r.isValid!==W;if(t.delayError&&Y?(c=m(()=>w(D,Y)),c(t.delayError)):(clearTimeout(u),c=null,Y?Ft(r.errors,D,Y):yr(r.errors,D)),(Y?!ro(fe,Y):fe)||!hn(ye)||se){const Ae={...ye,...se&&vi(W)?{isValid:W}:{},errors:r.errors,name:D};r={...r,...Ae},p.state.next(Ae)}},k=async D=>(y(D,!0),await t.resolver(i,t.context,SJ(D||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async D=>{const{errors:W}=await k(D);if(y(D),D)for(const Y of D){const ye=Ee(W,Y);ye?Ft(r.errors,Y,ye):yr(r.errors,Y)}else r.errors=W;return W},T=async(D,W,Y={valid:!0})=>{for(const ye in D){const fe=D[ye];if(fe){const{_f:se,...Ae}=fe;if(se){const xt=l.array.has(se.name),bt=fe._f&&NJ(fe._f);bt&&f.validatingFields&&y([se.name],!0);const vr=await pO(fe,l.disabled,i,g,t.shouldUseNativeValidation&&!W,xt);if(bt&&f.validatingFields&&y([se.name]),vr[se.name]&&(Y.valid=!1,W||e.shouldUseNativeValidation))break;!W&&(Ee(vr,se.name)?xt?AJ(r.errors,vr,se.name):Ft(r.errors,se.name,vr[se.name]):yr(r.errors,se.name))}!hn(Ae)&&await T(Ae,W,Y)}}return Y.valid},I=()=>{for(const D of l.unMount){const W=Ee(n,D);W&&(W._f.refs?W._f.refs.every(Y=>!Qb(Y)):!Qb(W._f.ref))&&Me(D)}l.unMount=new Set},E=(D,W)=>!t.disabled&&(D&&W&&Ft(i,D,W),!ro(J(),s)),U=(D,W,Y)=>yJ(D,l,{...o.mount?i:nr(W)?s:Gn(D)?{[D]:W}:W},Y,W),O=D=>YS(Ee(o.mount?i:s,D,t.shouldUnregister?Ee(s,D,[]):[])),B=(D,W,Y={})=>{const ye=Ee(n,D);let fe=W;if(ye){const se=ye._f;se&&(!se.disabled&&Ft(i,D,mL(W,se)),fe=Xg(se.ref)&&En(W)?"":W,fL(se.ref)?[...se.ref.options].forEach(Ae=>Ae.selected=fe.includes(Ae.value)):se.refs?$p(se.ref)?se.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(fe)?Ae.checked=!!fe.find(xt=>xt===Ae.value):Ae.checked=fe===Ae.value||!!fe)}):se.refs.forEach(Ae=>Ae.checked=Ae.value===fe):XS(se.ref)?se.ref.value="":(se.ref.value=fe,se.ref.type||p.state.next({name:D,values:Er(i)})))}(Y.shouldDirty||Y.shouldTouch)&&_(D,fe,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&$(D)},A=(D,W,Y)=>{for(const ye in W){if(!W.hasOwnProperty(ye))return;const fe=W[ye],se=D+"."+ye,Ae=Ee(n,se);(l.array.has(D)||Sr(fe)||Ae&&!Ae._f)&&!jl(fe)?A(se,fe,Y):B(se,fe,Y)}},z=(D,W,Y={})=>{const ye=Ee(n,D),fe=l.array.has(D),se=Er(W);Ft(i,D,se),fe?(p.array.next({name:D,values:Er(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&Y.shouldDirty&&p.state.next({name:D,dirtyFields:Uc(s,i),isDirty:E(D,se)})):ye&&!ye._f&&!En(se)?A(D,se,Y):B(D,se,Y),dO(D,l)?p.state.next({...r,name:D,values:Er(i)}):p.state.next({name:o.mount?D:void 0,values:Er(i)})},L=async D=>{o.mount=!0;const W=D.target;let Y=W.name,ye=!0;const fe=Ee(n,Y),se=bt=>{ye=Number.isNaN(bt)||jl(bt)&&isNaN(bt.getTime())||ro(bt,Ee(i,Y,bt))},Ae=cO(t.mode),xt=cO(t.reValidateMode);if(fe){let bt,vr;const Wi=W.type?lO(fe._f):dJ(D),Ts=D.type===nO.BLUR||D.type===nO.FOCUS_OUT,Kd=!kJ(fe._f)&&!t.resolver&&!Ee(r.errors,Y)&&!fe._f.deps||OJ(Ts,Ee(r.touchedFields,Y),r.isSubmitted,xt,Ae),pi=dO(Y,l,Ts);Ft(i,Y,Wi),Ts?(!W||!W.readOnly)&&(fe._f.onBlur&&fe._f.onBlur(D),c&&c(0)):fe._f.onChange&&fe._f.onChange(D);const bc=_(Y,Wi,Ts),Da=!hn(bc)||pi;if(!Ts&&p.state.next({name:Y,type:D.type,values:Er(i)}),Kd)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Ts&&v():Ts||v()),Da&&p.state.next({name:Y,...pi?{}:bc});if(!Ts&&pi&&p.state.next({...r}),t.resolver){const{errors:Vp}=await k([Y]);if(y([Y]),se(Wi),ye){const tb=fO(r.errors,n,Y),Gd=fO(Vp,n,tb.name||Y);bt=Gd.error,Y=Gd.name,vr=hn(Vp)}}else y([Y],!0),bt=(await pO(fe,l.disabled,i,g,t.shouldUseNativeValidation))[Y],y([Y]),se(Wi),ye&&(bt?vr=!1:(f.isValid||h.isValid)&&(vr=await T(n,!0)));ye&&(fe._f.deps&&(!Array.isArray(fe._f.deps)||fe._f.deps.length>0)&&$(fe._f.deps),N(Y,vr,bt,bc))}},R=(D,W)=>{if(Ee(r.errors,W)&&D.focus)return D.focus(),1},$=async(D,W={})=>{let Y,ye;const fe=qf(D);if(t.resolver){const se=await C(nr(D)?D:fe);Y=hn(se),ye=D?!fe.some(Ae=>Ee(se,Ae)):Y}else D?(ye=(await Promise.all(fe.map(async se=>{const Ae=Ee(n,se);return await T(Ae&&Ae._f?{[se]:Ae}:Ae)}))).every(Boolean),!(!ye&&!r.isValid)&&v()):ye=Y=await T(n);return p.state.next({...!Gn(D)||(f.isValid||h.isValid)&&Y!==r.isValid?{}:{name:D},...t.resolver||!D?{isValid:Y}:{},errors:r.errors}),W.shouldFocus&&!ye&&Wf(n,R,D?fe:l.mount),ye},J=(D,W)=>{let Y={...o.mount?i:s};return W&&(Y=dL(W.dirtyFields?r.dirtyFields:r.touchedFields,Y)),nr(D)?Y:Gn(D)?Ee(Y,D):D.map(ye=>Ee(Y,ye))},G=(D,W)=>({invalid:!!Ee((W||r).errors,D),isDirty:!!Ee((W||r).dirtyFields,D),error:Ee((W||r).errors,D),isValidating:!!Ee(r.validatingFields,D),isTouched:!!Ee((W||r).touchedFields,D)}),ie=D=>{D&&qf(D).forEach(W=>yr(r.errors,W)),p.state.next({errors:D?r.errors:{}})},he=(D,W,Y)=>{const ye=(Ee(n,D,{_f:{}})._f||{}).ref,fe=Ee(r.errors,D)||{},{ref:se,message:Ae,type:xt,...bt}=fe;Ft(r.errors,D,{...bt,...W,ref:ye}),p.state.next({name:D,errors:r.errors,isValid:!1}),Y&&Y.shouldFocus&&ye&&ye.focus&&ye.focus()},Le=(D,W)=>Xs(D)?p.state.subscribe({next:Y=>"values"in Y&&D(U(void 0,W),Y)}):U(D,W,!0),Fe=D=>p.state.subscribe({next:W=>{EJ(D.name,W.name,D.exact)&&CJ(W,D.formState||f,tn,D.reRenderRoot)&&D.callback({values:{...i},...r,...W,defaultValues:s})}}).unsubscribe,ce=D=>(o.mount=!0,h={...h,...D.formState},Fe({...D,formState:{...d,...D.formState}})),Me=(D,W={})=>{for(const Y of D?qf(D):l.mount)l.mount.delete(Y),l.array.delete(Y),W.keepValue||(yr(n,Y),yr(i,Y)),!W.keepError&&yr(r.errors,Y),!W.keepDirty&&yr(r.dirtyFields,Y),!W.keepTouched&&yr(r.touchedFields,Y),!W.keepIsValidating&&yr(r.validatingFields,Y),!t.shouldUnregister&&!W.keepDefaultValue&&yr(s,Y);p.state.next({values:Er(i)}),p.state.next({...r,...W.keepDirty?{isDirty:E()}:{}}),!W.keepIsValid&&v()},re=({disabled:D,name:W})=>{if(vi(D)&&o.mount||D||l.disabled.has(W)){const fe=l.disabled.has(W)!==!!D;D?l.disabled.add(W):l.disabled.delete(W),fe&&o.mount&&!o.action&&v()}},pe=(D,W={})=>{let Y=Ee(n,D);const ye=vi(W.disabled)||vi(t.disabled);return Ft(n,D,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:D}},name:D,mount:!0,...W}}),l.mount.add(D),Y?re({disabled:vi(W.disabled)?W.disabled:t.disabled,name:D}):j(D,!0,W.value),{...ye?{disabled:W.disabled||t.disabled}:{},...t.progressive?{required:!!W.required,min:of(W.min),max:of(W.max),minLength:of(W.minLength),maxLength:of(W.maxLength),pattern:of(W.pattern)}:{},name:D,onChange:L,onBlur:L,ref:fe=>{if(fe){pe(D,W),Y=Ee(n,D);const se=nr(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,Ae=bJ(se),xt=Y._f.refs||[];if(Ae?xt.find(bt=>bt===se):se===Y._f.ref)return;Ft(n,D,{_f:{...Y._f,...Ae?{refs:[...xt.filter(Qb),se,...Array.isArray(Ee(s,D))?[{}]:[]],ref:{type:se.type,name:D}}:{ref:se}}}),j(D,!1,void 0,se)}else Y=Ee(n,D,{}),Y._f&&(Y._f.mount=!1),(t.shouldUnregister||W.shouldUnregister)&&!(hJ(l.array,D)&&o.action)&&l.unMount.add(D)}}},H=()=>t.shouldFocusError&&Wf(n,R,l.mount),K=D=>{vi(D)&&(p.state.next({disabled:D}),Wf(n,(W,Y)=>{const ye=Ee(n,Y);ye&&(W.disabled=ye._f.disabled||D,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(fe=>{fe.disabled=ye._f.disabled||D}))},0,!1))},Ye=(D,W)=>async Y=>{let ye;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let fe=Er(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:se,values:Ae}=await k();y(),r.errors=se,fe=Er(Ae)}else await T(n);if(l.disabled.size)for(const se of l.disabled)yr(fe,se);if(yr(r.errors,"root"),hn(r.errors)){p.state.next({errors:{}});try{await D(fe,Y)}catch(se){ye=se}}else W&&await W({...r.errors},Y),H(),setTimeout(H);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hn(r.errors)&&!ye,submitCount:r.submitCount+1,errors:r.errors}),ye)throw ye},Ue=(D,W={})=>{Ee(n,D)&&(nr(W.defaultValue)?z(D,Er(Ee(s,D))):(z(D,W.defaultValue),Ft(s,D,Er(W.defaultValue))),W.keepTouched||yr(r.touchedFields,D),W.keepDirty||(yr(r.dirtyFields,D),r.isDirty=W.defaultValue?E(D,Er(Ee(s,D))):E()),W.keepError||(yr(r.errors,D),f.isValid&&v()),p.state.next({...r}))},wt=(D,W={})=>{const Y=D?Er(D):s,ye=Er(Y),fe=hn(D),se=fe?s:ye;if(W.keepDefaultValues||(s=Y),!W.keepValues){if(W.keepDirtyValues){const Ae=new Set([...l.mount,...Object.keys(Uc(s,i))]);for(const xt of Array.from(Ae)){const bt=Ee(r.dirtyFields,xt),vr=Ee(i,xt),Wi=Ee(se,xt);bt&&!nr(vr)?Ft(se,xt,vr):!bt&&!nr(Wi)&&z(xt,Wi)}}else{if(GS&&nr(D))for(const Ae of l.mount){const xt=Ee(n,Ae);if(xt&&xt._f){const bt=Array.isArray(xt._f.refs)?xt._f.refs[0]:xt._f.ref;if(Xg(bt)){const vr=bt.closest("form");if(vr){vr.reset();break}}}}if(W.keepFieldsRef)for(const Ae of l.mount)z(Ae,Ee(se,Ae));else n={}}i=t.shouldUnregister?W.keepDefaultValues?Er(s):{}:Er(se),p.array.next({values:{...se}}),p.state.next({values:{...se}})}l={mount:W.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!W.keepIsValid||!!W.keepDirtyValues||!t.shouldUnregister&&!hn(se),o.watch=!!t.shouldUnregister,o.keepIsValid=!!W.keepIsValid,o.action=!1,W.keepErrors||(r.errors={}),p.state.next({submitCount:W.keepSubmitCount?r.submitCount:0,isDirty:fe?!1:W.keepDirty?r.isDirty:!!(W.keepDefaultValues&&!ro(D,s)),isSubmitted:W.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:fe?{}:W.keepDirtyValues?W.keepDefaultValues&&i?Uc(s,i):r.dirtyFields:W.keepDefaultValues&&D?Uc(s,D):W.keepDirty?r.dirtyFields:{},touchedFields:W.keepTouched?r.touchedFields:{},errors:W.keepErrors?r.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},yt=(D,W)=>wt(Xs(D)?D(i):D,{...t.resetOptions,...W}),Zt=(D,W={})=>{const Y=Ee(n,D),ye=Y&&Y._f;if(ye){const fe=ye.refs?ye.refs[0]:ye.ref;fe.focus&&setTimeout(()=>{fe.focus(),W.shouldSelect&&Xs(fe.select)&&fe.select()})}},tn=D=>{r={...r,...D}},hi={control:{register:pe,unregister:Me,getFieldState:G,handleSubmit:Ye,setError:he,_subscribe:Fe,_runSchema:k,_updateIsValidating:y,_focusError:H,_getWatch:U,_getDirty:E,_setValid:v,_setFieldArray:b,_setDisabledField:re,_setErrors:S,_getFieldArray:O,_reset:wt,_resetDefaultValues:()=>Xs(t.defaultValues)&&t.defaultValues().then(D=>{yt(D,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:K,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(D){o=D},get _defaultValues(){return s},get _names(){return l},set _names(D){l=D},get _formState(){return r},get _options(){return t},set _options(D){t={...t,...D}}},subscribe:ce,trigger:$,register:pe,handleSubmit:Ye,watch:Le,setValue:z,getValues:J,reset:yt,resetField:Ue,clearErrors:ie,unregister:Me,setError:he,setFocus:Zt,getFieldState:G};return{...hi,formControl:hi}}function kt(e={}){const t=P.useRef(void 0),r=P.useRef(void 0),[n,s]=P.useState({isDirty:!1,isValidating:!1,isLoading:Xs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Xs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Xs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=RJ(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,vJ(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),P.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),P.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),P.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),P.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),P.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),P.useEffect(()=>{var o;e.values&&!ro(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),P.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=P.useMemo(()=>gJ(n,i),[i,n]),t.current}const mO=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ee(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},vL=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?mO(n.ref,r,e):n.refs&&n.refs.forEach(s=>mO(s,r,e))}},$J=(e,t)=>{t.shouldUseNativeValidation&&vL(e,t);const r={};for(const n in e){const s=Ee(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(MJ(t.names||Object.keys(e),n)){const o=Object.assign({},Ee(r,n));Ft(o,"root",i),Ft(r,n,o)}else Ft(r,n,i)}return r},MJ=(e,t)=>e.some(r=>r.startsWith(t+"."));var IJ=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=uL(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},Ct=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&vL({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:$J(IJ(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},gt;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(gt||(gt={}));var gO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(gO||(gO={}));const Oe=gt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xa=e=>{switch(typeof e){case"undefined":return Oe.undefined;case"string":return Oe.string;case"number":return Number.isNaN(e)?Oe.nan:Oe.number;case"boolean":return Oe.boolean;case"function":return Oe.function;case"bigint":return Oe.bigint;case"symbol":return Oe.symbol;case"object":return Array.isArray(e)?Oe.array:e===null?Oe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Oe.promise:typeof Map<"u"&&e instanceof Map?Oe.map:typeof Set<"u"&&e instanceof Set?Oe.set:typeof Date<"u"&&e instanceof Date?Oe.date:Oe.object;default:return Oe.unknown}},ue=gt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ja extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof ja))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,gt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ja.create=e=>new ja(e);const wj=(e,t)=>{let r;switch(e.code){case ue.invalid_type:e.received===Oe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ue.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,gt.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:r=`Unrecognized key(s) in object: ${gt.joinValues(e.keys,", ")}`;break;case ue.invalid_union:r="Invalid input";break;case ue.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${gt.joinValues(e.options)}`;break;case ue.invalid_enum_value:r=`Invalid enum value. Expected ${gt.joinValues(e.options)}, received '${e.received}'`;break;case ue.invalid_arguments:r="Invalid function arguments";break;case ue.invalid_return_type:r="Invalid function return type";break;case ue.invalid_date:r="Invalid date";break;case ue.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:gt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ue.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ue.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ue.custom:r="Invalid input";break;case ue.invalid_intersection_types:r="Intersection results could not be merged";break;case ue.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ue.not_finite:r="Number must be finite";break;default:r=t.defaultError,gt.assertNever(e)}return{message:r}};let DJ=wj;function LJ(){return DJ}const FJ=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function Se(e,t){const r=LJ(),n=FJ({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===wj?void 0:wj].filter(s=>!!s)});e.common.issues.push(n)}class ns{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Je;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return ns.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Je;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Je=Object.freeze({status:"aborted"}),Of=e=>({status:"dirty",value:e}),Es=e=>({status:"valid",value:e}),vO=e=>e.status==="aborted",yO=e=>e.status==="dirty",Wu=e=>e.status==="valid",Zg=e=>typeof Promise<"u"&&e instanceof Promise;var Te;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Te||(Te={}));class Uo{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const xO=(e,t)=>{if(Wu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ja(e.common.issues);return this._error=r,this._error}}};function it(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class ht{get description(){return this._def.description}_getType(t){return Xa(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ns,ctx:{common:t.parent.common,data:t.data,parsedType:Xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Zg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xa(t)},s=this._parseSync({data:t,path:n.path,parent:n});return xO(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xa(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Wu(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Wu(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xa(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Zg(s)?s:Promise.resolve(s));return xO(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:ue.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Ku({schema:this,typeName:Ze.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Po.create(this,this._def)}nullable(){return Gu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ti.create(this)}promise(){return nv.create(this,this._def)}or(t){return tv.create([this,t],this._def)}and(t){return rv.create(this,t,this._def)}transform(t){return new Ku({...it(this._def),schema:this,typeName:Ze.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Sj({...it(this._def),innerType:this,defaultValue:r,typeName:Ze.ZodDefault})}brand(){return new lZ({typeName:Ze.ZodBranded,type:this,...it(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Nj({...it(this._def),innerType:this,catchValue:r,typeName:Ze.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ZS.create(this,t)}readonly(){return kj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const UJ=/^c[^\s-]{8,}$/i,BJ=/^[0-9a-z]+$/,zJ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qJ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,WJ=/^[a-z0-9_-]{21}$/i,VJ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,HJ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,KJ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GJ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Xb;const YJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,QJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,XJ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,JJ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ZJ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,eZ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,yL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",tZ=new RegExp(`^${yL}$`);function xL(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function rZ(e){return new RegExp(`^${xL(e)}$`)}function nZ(e){let t=`${yL}T${xL(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function sZ(e,t){return!!((t==="v4"||!t)&&YJ.test(e)||(t==="v6"||!t)&&XJ.test(e))}function iZ(e,t){if(!VJ.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function aZ(e,t){return!!((t==="v4"||!t)&&QJ.test(e)||(t==="v6"||!t)&&JJ.test(e))}class sa extends ht{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Oe.string){const i=this._getOrReturnCtx(t);return Se(i,{code:ue.invalid_type,expected:Oe.string,received:i.parsedType}),Je}const n=new ns;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Se(s,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Se(s,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")KJ.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"email",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Xb||(Xb=new RegExp(GJ,"u")),Xb.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"emoji",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")qJ.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"uuid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")WJ.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"nanoid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")UJ.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"cuid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")BJ.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"cuid2",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")zJ.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"ulid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Se(s,{validation:"url",code:ue.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"regex",code:ue.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Se(s,{code:ue.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Se(s,{code:ue.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Se(s,{code:ue.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?nZ(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{code:ue.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?tZ.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{code:ue.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?rZ(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{code:ue.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?HJ.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"duration",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?sZ(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"ip",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?iZ(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"jwt",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?aZ(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"cidr",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?ZJ.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"base64",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?eZ.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"base64url",code:ue.invalid_string,message:i.message}),n.dirty()):gt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:ue.invalid_string,...Te.errToObj(n)})}_addCheck(t){return new sa({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Te.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Te.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Te.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Te.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Te.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Te.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Te.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Te.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Te.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Te.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Te.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Te.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Te.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Te.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Te.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Te.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Te.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Te.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Te.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Te.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Te.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Te.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Te.errToObj(r)})}nonempty(t){return this.min(1,Te.errToObj(t))}trim(){return new sa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new sa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new sa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}sa.create=e=>new sa({checks:[],typeName:Ze.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...it(e)});function oZ(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class Jl extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Oe.number){const i=this._getOrReturnCtx(t);return Se(i,{code:ue.invalid_type,expected:Oe.number,received:i.parsedType}),Je}let n;const s=new ns;for(const i of this._def.checks)i.kind==="int"?gt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:ue.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ue.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ue.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?oZ(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:ue.not_finite,message:i.message}),s.dirty()):gt.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Te.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Te.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Te.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Te.toString(r))}setLimit(t,r,n,s){return new Jl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Te.toString(s)}]})}_addCheck(t){return new Jl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Te.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Te.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&gt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Jl.create=e=>new Jl({checks:[],typeName:Ze.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...it(e)});class Zl extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Oe.bigint)return this._getInvalidInput(t);let n;const s=new ns;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ue.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ue.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):gt.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Se(r,{code:ue.invalid_type,expected:Oe.bigint,received:r.parsedType}),Je}gte(t,r){return this.setLimit("min",t,!0,Te.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Te.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Te.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Te.toString(r))}setLimit(t,r,n,s){return new Zl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Te.toString(s)}]})}_addCheck(t){return new Zl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zl.create=e=>new Zl({checks:[],typeName:Ze.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...it(e)});class ev extends ht{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Oe.boolean){const n=this._getOrReturnCtx(t);return Se(n,{code:ue.invalid_type,expected:Oe.boolean,received:n.parsedType}),Je}return Es(t.data)}}ev.create=e=>new ev({typeName:Ze.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...it(e)});class Vu extends ht{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Oe.date){const i=this._getOrReturnCtx(t);return Se(i,{code:ue.invalid_type,expected:Oe.date,received:i.parsedType}),Je}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Se(i,{code:ue.invalid_date}),Je}const n=new ns;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:ue.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:ue.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):gt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Vu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Te.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Te.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Vu.create=e=>new Vu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ze.ZodDate,...it(e)});class bO extends ht{_parse(t){if(this._getType(t)!==Oe.symbol){const n=this._getOrReturnCtx(t);return Se(n,{code:ue.invalid_type,expected:Oe.symbol,received:n.parsedType}),Je}return Es(t.data)}}bO.create=e=>new bO({typeName:Ze.ZodSymbol,...it(e)});class wO extends ht{_parse(t){if(this._getType(t)!==Oe.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:ue.invalid_type,expected:Oe.undefined,received:n.parsedType}),Je}return Es(t.data)}}wO.create=e=>new wO({typeName:Ze.ZodUndefined,...it(e)});class jO extends ht{_parse(t){if(this._getType(t)!==Oe.null){const n=this._getOrReturnCtx(t);return Se(n,{code:ue.invalid_type,expected:Oe.null,received:n.parsedType}),Je}return Es(t.data)}}jO.create=e=>new jO({typeName:Ze.ZodNull,...it(e)});class _O extends ht{constructor(){super(...arguments),this._any=!0}_parse(t){return Es(t.data)}}_O.create=e=>new _O({typeName:Ze.ZodAny,...it(e)});class SO extends ht{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Es(t.data)}}SO.create=e=>new SO({typeName:Ze.ZodUnknown,...it(e)});class Bo extends ht{_parse(t){const r=this._getOrReturnCtx(t);return Se(r,{code:ue.invalid_type,expected:Oe.never,received:r.parsedType}),Je}}Bo.create=e=>new Bo({typeName:Ze.ZodNever,...it(e)});class NO extends ht{_parse(t){if(this._getType(t)!==Oe.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:ue.invalid_type,expected:Oe.void,received:n.parsedType}),Je}return Es(t.data)}}NO.create=e=>new NO({typeName:Ze.ZodVoid,...it(e)});class Ti extends ht{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Oe.array)return Se(r,{code:ue.invalid_type,expected:Oe.array,received:r.parsedType}),Je;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Se(r,{code:o?ue.too_big:ue.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Se(r,{code:ue.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Se(r,{code:ue.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Uo(r,o,r.path,l)))).then(o=>ns.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new Uo(r,o,r.path,l)));return ns.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ti({...this._def,minLength:{value:t,message:Te.toString(r)}})}max(t,r){return new Ti({...this._def,maxLength:{value:t,message:Te.toString(r)}})}length(t,r){return new Ti({...this._def,exactLength:{value:t,message:Te.toString(r)}})}nonempty(t){return this.min(1,t)}}Ti.create=(e,t)=>new Ti({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ze.ZodArray,...it(t)});function Bc(e){if(e instanceof wr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Po.create(Bc(n))}return new wr({...e._def,shape:()=>t})}else return e instanceof Ti?new Ti({...e._def,type:Bc(e.element)}):e instanceof Po?Po.create(Bc(e.unwrap())):e instanceof Gu?Gu.create(Bc(e.unwrap())):e instanceof ec?ec.create(e.items.map(t=>Bc(t))):e}class wr extends ht{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=gt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Oe.object){const u=this._getOrReturnCtx(t);return Se(u,{code:ue.invalid_type,expected:Oe.object,received:u.parsedType}),Je}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Bo&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Uo(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Bo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Se(s,{code:ue.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Uo(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ns.mergeObjectSync(n,u)):ns.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Te.errToObj,new wr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Te.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new wr({...this._def,unknownKeys:"strip"})}passthrough(){return new wr({...this._def,unknownKeys:"passthrough"})}extend(t){return new wr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new wr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ze.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new wr({...this._def,catchall:t})}pick(t){const r={};for(const n of gt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new wr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of gt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new wr({...this._def,shape:()=>r})}deepPartial(){return Bc(this)}partial(t){const r={};for(const n of gt.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new wr({...this._def,shape:()=>r})}required(t){const r={};for(const n of gt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Po;)i=i._def.innerType;r[n]=i}return new wr({...this._def,shape:()=>r})}keyof(){return bL(gt.objectKeys(this.shape))}}wr.create=(e,t)=>new wr({shape:()=>e,unknownKeys:"strip",catchall:Bo.create(),typeName:Ze.ZodObject,...it(t)});wr.strictCreate=(e,t)=>new wr({shape:()=>e,unknownKeys:"strict",catchall:Bo.create(),typeName:Ze.ZodObject,...it(t)});wr.lazycreate=(e,t)=>new wr({shape:e,unknownKeys:"strip",catchall:Bo.create(),typeName:Ze.ZodObject,...it(t)});class tv extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ja(l.ctx.common.issues));return Se(r,{code:ue.invalid_union,unionErrors:o}),Je}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new ja(c));return Se(r,{code:ue.invalid_union,unionErrors:l}),Je}}get options(){return this._def.options}}tv.create=(e,t)=>new tv({options:e,typeName:Ze.ZodUnion,...it(t)});function jj(e,t){const r=Xa(e),n=Xa(t);if(e===t)return{valid:!0,data:e};if(r===Oe.object&&n===Oe.object){const s=gt.objectKeys(t),i=gt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=jj(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Oe.array&&n===Oe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=jj(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Oe.date&&n===Oe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class rv extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(vO(i)||vO(o))return Je;const l=jj(i.value,o.value);return l.valid?((yO(i)||yO(o))&&r.dirty(),{status:r.value,value:l.data}):(Se(n,{code:ue.invalid_intersection_types}),Je)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}rv.create=(e,t,r)=>new rv({left:e,right:t,typeName:Ze.ZodIntersection,...it(r)});class ec extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Oe.array)return Se(n,{code:ue.invalid_type,expected:Oe.array,received:n.parsedType}),Je;if(n.data.length<this._def.items.length)return Se(n,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Je;!this._def.rest&&n.data.length>this._def.items.length&&(Se(n,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Uo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ns.mergeArray(r,o)):ns.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ec({...this._def,rest:t})}}ec.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ec({items:e,typeName:Ze.ZodTuple,rest:null,...it(t)})};class kO extends ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Oe.map)return Se(n,{code:ue.invalid_type,expected:Oe.map,received:n.parsedType}),Je;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Uo(n,l,n.path,[u,"key"])),value:i._parse(new Uo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Je;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Je;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}kO.create=(e,t,r)=>new kO({valueType:t,keyType:e,typeName:Ze.ZodMap,...it(r)});class Ph extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Oe.set)return Se(n,{code:ue.invalid_type,expected:Oe.set,received:n.parsedType}),Je;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Se(n,{code:ue.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Se(n,{code:ue.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Je;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Uo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Ph({...this._def,minSize:{value:t,message:Te.toString(r)}})}max(t,r){return new Ph({...this._def,maxSize:{value:t,message:Te.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ph.create=(e,t)=>new Ph({valueType:e,minSize:null,maxSize:null,typeName:Ze.ZodSet,...it(t)});class CO extends ht{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}CO.create=(e,t)=>new CO({getter:e,typeName:Ze.ZodLazy,...it(t)});class _j extends ht{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Se(r,{received:r.data,code:ue.invalid_literal,expected:this._def.value}),Je}return{status:"valid",value:t.data}}get value(){return this._def.value}}_j.create=(e,t)=>new _j({value:e,typeName:Ze.ZodLiteral,...it(t)});function bL(e,t){return new Hu({values:e,typeName:Ze.ZodEnum,...it(t)})}class Hu extends ht{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{expected:gt.joinValues(n),received:r.parsedType,code:ue.invalid_type}),Je}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{received:r.data,code:ue.invalid_enum_value,options:n}),Je}return Es(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Hu.create(t,{...this._def,...r})}exclude(t,r=this._def){return Hu.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Hu.create=bL;class EO extends ht{_parse(t){const r=gt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Oe.string&&n.parsedType!==Oe.number){const s=gt.objectValues(r);return Se(n,{expected:gt.joinValues(s),received:n.parsedType,code:ue.invalid_type}),Je}if(this._cache||(this._cache=new Set(gt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=gt.objectValues(r);return Se(n,{received:n.data,code:ue.invalid_enum_value,options:s}),Je}return Es(t.data)}get enum(){return this._def.values}}EO.create=(e,t)=>new EO({values:e,typeName:Ze.ZodNativeEnum,...it(t)});class nv extends ht{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Oe.promise&&r.common.async===!1)return Se(r,{code:ue.invalid_type,expected:Oe.promise,received:r.parsedType}),Je;const n=r.parsedType===Oe.promise?r.data:Promise.resolve(r.data);return Es(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}nv.create=(e,t)=>new nv({type:e,typeName:Ze.ZodPromise,...it(t)});class Ku extends ht{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Se(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Je;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Je:c.status==="dirty"||r.value==="dirty"?Of(c.value):c});{if(r.value==="aborted")return Je;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Je:l.status==="dirty"||r.value==="dirty"?Of(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Je:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Je:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Wu(o))return Je;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Wu(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):Je);gt.assertNever(s)}}Ku.create=(e,t,r)=>new Ku({schema:e,typeName:Ze.ZodEffects,effect:t,...it(r)});Ku.createWithPreprocess=(e,t,r)=>new Ku({schema:t,effect:{type:"preprocess",transform:e},typeName:Ze.ZodEffects,...it(r)});class Po extends ht{_parse(t){return this._getType(t)===Oe.undefined?Es(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Po.create=(e,t)=>new Po({innerType:e,typeName:Ze.ZodOptional,...it(t)});class Gu extends ht{_parse(t){return this._getType(t)===Oe.null?Es(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Gu.create=(e,t)=>new Gu({innerType:e,typeName:Ze.ZodNullable,...it(t)});class Sj extends ht{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Oe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Sj.create=(e,t)=>new Sj({innerType:e,typeName:Ze.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...it(t)});class Nj extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Zg(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ja(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ja(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Nj.create=(e,t)=>new Nj({innerType:e,typeName:Ze.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...it(t)});class OO extends ht{_parse(t){if(this._getType(t)!==Oe.nan){const n=this._getOrReturnCtx(t);return Se(n,{code:ue.invalid_type,expected:Oe.nan,received:n.parsedType}),Je}return{status:"valid",value:t.data}}}OO.create=e=>new OO({typeName:Ze.ZodNaN,...it(e)});class lZ extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ZS extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Je:i.status==="dirty"?(r.dirty(),Of(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Je:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new ZS({in:t,out:r,typeName:Ze.ZodPipeline})}}class kj extends ht{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Wu(s)&&(s.value=Object.freeze(s.value)),s);return Zg(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}kj.create=(e,t)=>new kj({innerType:e,typeName:Ze.ZodReadonly,...it(t)});var Ze;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ze||(Ze={}));const Pe=sa.create;Jl.create;Zl.create;const Ho=ev.create;Vu.create;Bo.create;Ti.create;const Et=wr.create;tv.create;rv.create;ec.create;const eN=_j.create,gr=Hu.create;nv.create;Po.create;Gu.create;const ei={string:e=>sa.create({...e,coerce:!0}),number:e=>Jl.create({...e,coerce:!0}),boolean:e=>ev.create({...e,coerce:!0}),bigint:e=>Zl.create({...e,coerce:!0}),date:e=>Vu.create({...e,coerce:!0})};var cZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uZ=cZ.reduce((e,t)=>{const r=Ep(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),dZ="Label",wL=x.forwardRef((e,t)=>a.jsx(uZ.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));wL.displayName=dZ;var jL=wL;const fZ=_S("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Q=x.forwardRef(({className:e,...t},r)=>a.jsx(jL,{ref:r,className:Z(fZ(),e),...t}));Q.displayName=jL.displayName;var ix="Tabs",[hZ]=Fi(ix,[ex]),_L=ex(),[pZ,tN]=hZ(ix),SL=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Op(l),[f,h]=Yl({prop:n,onChange:s,defaultProp:i??"",caller:ix});return a.jsx(pZ,{scope:r,baseId:Pi(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Xe.div,{dir:d,"data-orientation":o,...u,ref:t})})});SL.displayName=ix;var NL="TabsList",kL=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=tN(NL,r),o=_L(r);return a.jsx(h4,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});kL.displayName=NL;var CL="TabsTrigger",EL=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=tN(CL,r),l=_L(r),c=AL(o.baseId,n),u=TL(o.baseId,n),d=n===o.value;return a.jsx(p4,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Ne(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ne(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});EL.displayName=CL;var OL="TabsContent",PL=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=tN(OL,r),c=AL(l.baseId,n),u=TL(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(os,{present:s||d,children:({present:h})=>a.jsx(Xe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});PL.displayName=OL;function AL(e,t){return`${e}-trigger-${t}`}function TL(e,t){return`${e}-content-${t}`}var mZ=SL,RL=kL,$L=EL,ML=PL;const Ko=mZ,Ta=x.forwardRef(({className:e,...t},r)=>a.jsx(RL,{ref:r,className:Z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ta.displayName=RL.displayName;const Vt=x.forwardRef(({className:e,...t},r)=>a.jsx($L,{ref:r,className:Z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Vt.displayName=$L.displayName;const Ht=x.forwardRef(({className:e,...t},r)=>a.jsx(ML,{ref:r,className:Z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ht.displayName=ML.displayName;const gZ=Et({email:Pe().email("Invalid email"),password:Pe().min(1,"Password required")});function vZ(){const e=Vo(),[t]=fq(),r=t.get("returnTo")??"/dashboard",{register:n,handleSubmit:s,formState:{errors:i,isSubmitting:o}}=kt({resolver:Ct(gZ)}),l=async u=>{const d=await Z9(u.email,u.password);d.success?(V.success("Signed in",{description:"Welcome back."}),e(r,{replace:!0})):V.error("Sign in failed",{description:d.error})},c=async u=>{const d=await nH(u,{redirectTo:r});d.success||V.error("Sign in failed",{description:d.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(ee,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Sign in"}),a.jsx(ve,{children:"Choose local-only or cloud-linked mode."})]}),a.jsx(te,{children:a.jsxs(Ko,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Ta,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(Vt,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(Vt,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Ht,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. Access the Control UI at your local URL and use QR or pairing code to connect devices."}),a.jsx(M,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(me,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Ht,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:s(l),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"email",children:"Email"}),a.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...n("email"),"aria-invalid":!!i.email}),i.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"password",children:"Password"}),a.jsx(ge,{id:"password",type:"password",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"current-password",...n("password"),"aria-invalid":!!i.password}),i.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.password.message})]}),a.jsx("div",{className:"flex items-center justify-between text-sm",children:a.jsx(me,{to:"/forgot-password",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Forgot password?"})}),a.jsx(M,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Signing in"]}):"Sign in"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("span",{className:"relative flex justify-center text-xs uppercase text-muted-foreground",children:"Or continue with"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(M,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("github"),children:[a.jsx(kH,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"GitHub"]}),a.jsxs(M,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("google"),children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24","aria-hidden":!0,children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["No account?"," ",a.jsx(me,{to:"/signup",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign up"})]})]})]})})]})})}const yZ=Et({email:Pe().email("Invalid email"),password:Pe().min(8,"At least 8 characters"),confirmPassword:Pe()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function xZ(){const e=Vo(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:s}}=kt({resolver:Ct(yZ)}),i=async o=>{const l=await sH(o.email,o.password,{redirectTo:"/verify-email"});l.success?l.needsEmailVerification?(V.success("Check your email",{description:"We sent a verification link. Click it or enter the code on the next page."}),e("/verify-email",{replace:!0})):(V.success("Account created",{description:"You can sign in now."}),e("/dashboard",{replace:!0})):V.error("Sign up failed",{description:l.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(ee,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Create account"}),a.jsx(ve,{children:"Choose local-only or sign up for cloud-linked mode."})]}),a.jsx(te,{children:a.jsxs(Ko,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Ta,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(Vt,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(Vt,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Ht,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. No signup required. Open the Control UI and connect devices via QR or pairing code."}),a.jsx(M,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(me,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Ht,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:r(i),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"email",children:"Email"}),a.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...t("email"),"aria-invalid":!!n.email}),n.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"password",children:"Password"}),a.jsx(ge,{id:"password",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("password"),"aria-invalid":!!n.password}),n.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"confirmPassword",children:"Confirm password"}),a.jsx(ge,{id:"confirmPassword",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("confirmPassword"),"aria-invalid":!!n.confirmPassword}),n.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.confirmPassword.message})]}),a.jsx(M,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Creating account"]}):"Sign up"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx(me,{to:"/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Log in"})]})]})]})})]})})}const PO={empty:"",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"};function bZ(e){if(!e||e.length===0)return{level:"empty",score:0,label:PO.empty,minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1};const t=/[a-z]/.test(e),r=/[A-Z]/.test(e),n=/\d/.test(e),s=/[^A-Za-z0-9]/.test(e),i=e.length>=8;let o=0;e.length>=8&&(o+=1),e.length>=12&&(o+=1),t&&r&&(o+=1),n&&(o+=1),s&&(o+=1),o=Math.min(4,o);const l=o===0||o===1?"weak":o===2?"fair":o===3?"good":"strong";return{level:l,score:o,label:PO[l],minLength:i,hasLower:t,hasUpper:r,hasNumber:n,hasSpecial:s}}function wZ(e){switch(e){case"empty":return"bg-muted-foreground/30";case"weak":return"bg-destructive";case"fair":return"bg-warning";case"good":return"bg-accent";case"strong":return"bg-success";default:return"bg-muted-foreground/30"}}const jZ=Et({email:Pe().min(1,"Email is required").email("Enter a valid email address")}),_Z=Et({password:Pe().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must include a lowercase letter").regex(/[A-Z]/,"Password must include an uppercase letter").regex(/\d/,"Password must include a number"),confirmPassword:Pe().min(1,"Confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function SZ(){const[e,t]=x.useState("email"),[r,n]=x.useState(!0),s=kt({resolver:Ct(jZ),defaultValues:{email:""}}),i=kt({resolver:Ct(_Z),defaultValues:{password:"",confirmPassword:""}}),o=i.watch("password",""),l=bZ(o);x.useEffect(()=>{if(!oH()){n(!1);return}q.auth.getSession().then(({data:{session:d}})=>{d&&(t("set_password"),window.history.replaceState(null,"",window.location.pathname)),n(!1)})},[]);const c=async d=>{const f=await iH(d.email,"/forgot-password");f.success?(t("email_sent"),V.success("Check your email",{description:"If an account exists, we sent a reset link. Check spam if you dont see it."})):V.error("Could not send reset link",{description:f.error})},u=async d=>{const f=await aH(d.password);f.success?(t("success"),V.success("Password updated",{description:"You can now sign in with your new password."}),await q.auth.signOut()):V.error("Could not update password",{description:f.error})};return r?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(me,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md",children:[a.jsx(Fg,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsx("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Checking your reset link"})})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(me,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(Fg,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(me,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(ee,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ne,{className:"space-y-1",children:[a.jsx(ae,{className:"text-xl font-semibold",children:e==="email"||e==="email_sent"?"Reset password":e==="set_password"?"Set new password":"Password updated"}),a.jsxs(ve,{children:[e==="email"&&"Enter your cloud account email and well send a secure reset link. For local-only mode, you dont need a password.",e==="email_sent"&&"If an account exists for that email, we sent a reset link. Check your inbox and spam folder.",e==="set_password"&&"Choose a strong password. Youll use it to sign in to your cloud-linked account.",e==="success"&&"Your password has been updated. You can now sign in with your new credentials."]})]}),a.jsxs(te,{className:"space-y-4",children:[(e==="email"||e==="email_sent")&&a.jsx(a.Fragment,{children:e==="email"?a.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"password-reset-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lu,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"password-reset-email",type:"email",placeholder:"you@example.com",className:"pl-9 rounded-md border-border py-3",autoComplete:"email",...s.register("email"),"aria-invalid":!!s.formState.errors.email})]}),s.formState.errors.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:s.formState.errors.email.message})]}),a.jsx(M,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Sending":"Send reset link"})]}):a.jsxs("div",{className:"rounded-md border border-border bg-secondary/30 px-4 py-3 text-sm text-muted-foreground",children:[a.jsx("p",{children:"Check your email for the reset link. The link expires after a short time."}),a.jsx(M,{type:"button",variant:"ghost",className:"mt-3 text-primary hover:text-primary",onClick:()=>t("email"),children:"Send another link"})]})}),e==="set_password"&&a.jsxs("form",{onSubmit:i.handleSubmit(u),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"new-password",children:"New password"}),a.jsxs("div",{className:"relative",children:[a.jsx(pS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"new-password",type:"password",placeholder:"",className:"pl-9 rounded-md border-border py-3",autoComplete:"new-password",...i.register("password"),"aria-invalid":!!i.formState.errors.password})]}),o.length>0&&a.jsxs("div",{className:"space-y-1","aria-live":"polite",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"Strength"}),a.jsx("span",{className:Z(l.level!=="empty"&&l.level!=="weak"?"text-success":l.level==="weak"?"text-destructive":"text-muted-foreground"),children:l.label})]}),a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-secondary",role:"progressbar","aria-valuenow":l.score*25,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Password strength",children:a.jsx("div",{className:Z("h-full rounded-full transition-all duration-300",wZ(l.level)),style:{width:`${l.score*25}%`}})})]}),i.formState.errors.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"confirm-password",children:"Confirm password"}),a.jsx(ge,{id:"confirm-password",type:"password",placeholder:"",className:"rounded-md border-border py-3",autoComplete:"new-password",...i.register("confirmPassword"),"aria-invalid":!!i.formState.errors.confirmPassword}),i.formState.errors.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.confirmPassword.message})]}),a.jsx(M,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Updating":"Update password"})]}),e==="success"&&a.jsxs("div",{className:"animate-fade-in-up space-y-4 text-center",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"rounded-full bg-success/15 p-3",children:a.jsx(Mo,{className:"h-8 w-8 text-success","aria-hidden":!0})})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now sign in with your new password."}),a.jsx(M,{asChild:!0,className:"w-full rounded-md py-3 font-medium",size:"lg",children:a.jsx(me,{to:"/login",children:"Sign in"})})]}),e!=="success"&&a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:a.jsx(me,{to:"/login",className:"font-medium text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Back to login"})})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(me,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Ry,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})})]})}const NZ=Et({token:Pe().min(1,"Enter the verification code from your email")});function kZ(){const e=Vo(),[t,r]=x.useState("checking"),[n,s]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=kt({resolver:Ct(NZ),defaultValues:{token:""}});x.useEffect(()=>{let p=!1;async function g(){const m=cH();if(m){const b=await vE(m);p||(b.success?(r("verified"),V.success("Email verified",{description:"Your email has been confirmed. You can continue to the dashboard."}),window.history.replaceState(null,"",window.location.pathname)):V.error("Verification failed",{description:b.error}));return}const v=await uH();if(p)return;if(v){r("verified");return}const{data:{user:y}}=await q.auth.getUser();p||(y!=null&&y.email&&c(y.email),r("pending"))}return g(),()=>{p=!0}},[]);const d=async p=>{const g=await vE(p.token);g.success?(r("verified"),u.reset(),V.success("Email verified",{description:"Your email has been confirmed."})):V.error("Verification failed",{description:g.error})},f=async()=>{o(!0);const p=await lH();o(!1),s(!1),p.success?V.success("Verification email sent",{description:"Check your inbox and spam folder for the link."}):V.error("Could not resend email",{description:p.error})},h=()=>{e("/dashboard",{replace:!0})};return t==="checking"?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(me,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md","aria-label":"Back to login",children:[a.jsx(Fg,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsxs("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:[a.jsx(Zn,{className:"mx-auto h-8 w-8 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking verification status"})]})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(me,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(Fg,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(me,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(ee,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ne,{className:"space-y-1",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-xl font-semibold",children:[a.jsx(Lu,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Verify your email"]}),a.jsxs(ve,{children:["Required for signup and sensitive operations (e.g. skill install). We sent a link to",l?` ${l}`:" your email","."]})]}),a.jsxs(te,{className:"space-y-4",children:[a.jsx("div",{role:"status","aria-live":"polite",className:t==="verified"?"flex items-center gap-2 rounded-md border border-success/30 bg-success/10 px-3 py-2.5 text-sm text-success":"flex items-center gap-2 rounded-md border border-warning/30 bg-warning/10 px-3 py-2.5 text-sm text-warning",children:t==="verified"?a.jsxs(a.Fragment,{children:[a.jsx(lI,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Verified"]}):a.jsxs(a.Fragment,{children:[a.jsx(Lu,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Pending"]})}),t==="verified"?a.jsxs("div",{className:"animate-fade-in-up space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Youre all set. Continue to your dashboard or complete your profile."}),a.jsx(M,{onClick:h,className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md",size:"lg",children:"Continue to dashboard"}),a.jsx(M,{asChild:!0,variant:"outline",className:"w-full rounded-md py-3",children:a.jsx(me,{to:"/profile",children:"Go to profile"})})]}):a.jsxs(a.Fragment,{children:[a.jsx(M,{type:"button",variant:"outline",className:"w-full rounded-md py-3",onClick:()=>s(!0),children:"Resend verification email"}),a.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"verify-token",children:"Or enter code manually"}),a.jsxs("div",{className:"relative",children:[a.jsx(fS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"verify-token",type:"text",placeholder:"Paste verification code from email",className:"pl-9 rounded-md border-border py-3",autoComplete:"one-time-code",...u.register("token"),"aria-invalid":!!u.formState.errors.token})]}),u.formState.errors.token&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:u.formState.errors.token.message})]}),a.jsx(M,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?a.jsxs(a.Fragment,{children:[a.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Verifying"]}):a.jsxs(a.Fragment,{children:[a.jsx(Fu,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Verify"]})})]})]})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(me,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Ry,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})}),a.jsx(Ge,{open:n,onOpenChange:s,children:a.jsxs(qe,{className:"rounded-[10px] border border-border bg-card shadow-lg max-w-[640px]","aria-describedby":"resend-dialog-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Resend verification email"}),a.jsx(He,{id:"resend-dialog-description",children:"Well send another verification link to your email. Check your spam folder if you dont see the first one."})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(M,{type:"button",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Sending"]}):"Send again"})]})]})})]})}function we({className:e,...t}){return a.jsx("div",{className:Z("animate-pulse rounded-md bg-muted",e),...t})}function IL(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ax="Switch",[CZ]=Fi(ax),[EZ,OZ]=CZ(ax),DL=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=x.useState(null),g=dt(t,w=>p(w)),m=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,b]=Yl({prop:s,defaultProp:i??!1,onChange:u,caller:ax});return a.jsxs(EZ,{scope:r,checked:y,disabled:l,children:[a.jsx(Xe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":BL(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Ne(e.onClick,w=>{b(S=>!S),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&a.jsx(UL,{control:h,bubbles:!m.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});DL.displayName=ax;var LL="SwitchThumb",FL=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=OZ(LL,r);return a.jsx(Xe.span,{"data-state":BL(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});FL.displayName=LL;var PZ="SwitchBubbleInput",UL=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=x.useRef(null),l=dt(o,i),c=IL(r),u=GD(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});UL.displayName=PZ;function BL(e){return e?"checked":"unchecked"}var zL=DL,AZ=FL;const Zr=x.forwardRef(({className:e,...t},r)=>a.jsx(zL,{className:Z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),ref:r,...t,children:a.jsx(AZ,{className:Z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Zr.displayName=zL.displayName;const TZ="http://localhost:3000/api";async function lf(e,t={}){const r=`${TZ}${e}`,n={"Content-Type":"application/json",...t.headers},s=typeof window<"u"?localStorage.getItem("auth_token"):null;s&&(n.Authorization=`Bearer ${s}`);const i=await fetch(r,{...t,headers:n});if(!i.ok)throw i.status===401&&typeof window<"u"&&(localStorage.removeItem("auth_token"),window.location.href="/login"),new Error(`API Error: ${i.status}`);const o=await i.text();if(o)return JSON.parse(o)}const be={get:e=>lf(e),post:(e,t)=>lf(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>lf(e,{method:"PUT",body:JSON.stringify(t)}),patch:(e,t)=>lf(e,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>lf(e,{method:"DELETE"})},Ls="/profile",ui={getProfile:()=>be.get(`${Ls}`),updateProfile:e=>be.patch(`${Ls}`,e),getOAuthAccounts:()=>be.get(`${Ls}/oauth-accounts`),unlinkOAuthAccount:e=>be.delete(`${Ls}/oauth-accounts/${e}`),getDeviceSessions:()=>be.get(`${Ls}/sessions`),revokeSession:e=>be.delete(`${Ls}/sessions/${e}`),getApiKeys:()=>be.get(`${Ls}/api-keys`),createApiKey:e=>be.post(`${Ls}/api-keys`,e),revokeApiKey:e=>be.delete(`${Ls}/api-keys/${e}`),getSecuritySettings:()=>be.get(`${Ls}/security-settings`),updateSecuritySettings:e=>be.patch(`${Ls}/security-settings`,e)},un={all:["profile"],profile:()=>[...un.all,"detail"],oauthAccounts:()=>[...un.all,"oauth-accounts"],sessions:()=>[...un.all,"sessions"],apiKeys:()=>[...un.all,"api-keys"],securitySettings:()=>[...un.all,"security-settings"]};function Mp(e,t){return e().catch(()=>t)}function ox(){return De({queryKey:un.profile(),queryFn:()=>Mp(ui.getProfile,null)})}function RZ(){const e=je();return _e({mutationFn:t=>ui.updateProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:un.profile()}),V.success("Profile updated")},onError:t=>{V.error(t.message||"Failed to update profile")}})}function $Z(){return De({queryKey:un.oauthAccounts(),queryFn:()=>Mp(ui.getOAuthAccounts,[])})}function MZ(){const e=je();return _e({mutationFn:t=>ui.unlinkOAuthAccount(t),onSuccess:()=>{e.invalidateQueries({queryKey:un.oauthAccounts()}),V.success("Account unlinked")},onError:t=>{V.error(t.message||"Failed to unlink account")}})}function IZ(){return De({queryKey:un.sessions(),queryFn:()=>Mp(ui.getDeviceSessions,[])})}function DZ(){const e=je();return _e({mutationFn:t=>ui.revokeSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:un.sessions()}),V.success("Session revoked")},onError:t=>{V.error(t.message||"Failed to revoke session")}})}function LZ(){return De({queryKey:un.apiKeys(),queryFn:()=>Mp(ui.getApiKeys,[])})}function FZ(){const e=je();return _e({mutationFn:t=>ui.createApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:un.apiKeys()}),V.success("API key created")},onError:t=>{V.error(t.message||"Failed to create API key")}})}function UZ(){const e=je();return _e({mutationFn:t=>ui.revokeApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:un.apiKeys()}),V.success("API key revoked")},onError:t=>{V.error(t.message||"Failed to revoke API key")}})}function qL(){return De({queryKey:un.securitySettings(),queryFn:()=>Mp(ui.getSecuritySettings,null)})}function WL(){const e=je();return _e({mutationFn:t=>ui.updateSecuritySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:un.securitySettings()}),V.success("Security settings updated")},onError:t=>{V.error(t.message||"Failed to update security settings")}})}function Dt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _a(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function BZ(e,t){const r=Dt(e);return isNaN(t)?_a(e,NaN):(r.setDate(r.getDate()+t),r)}const VL=6048e5,zZ=864e5,km=43200,AO=1440;let qZ={};function Ip(){return qZ}function Ah(e,t){var l,c,u,d;const r=Ip(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Dt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function sv(e){return Ah(e,{weekStartsOn:1})}function HL(e){const t=Dt(e),r=t.getFullYear(),n=_a(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=sv(n),i=_a(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=sv(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function TO(e){const t=Dt(e);return t.setHours(0,0,0,0),t}function iv(e){const t=Dt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function WZ(e,t){const r=TO(e),n=TO(t),s=+r-iv(r),i=+n-iv(n);return Math.round((s-i)/zZ)}function VZ(e){const t=HL(e),r=_a(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),sv(r)}function og(e,t){const r=Dt(e),n=Dt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function HZ(e){return _a(e,Date.now())}function KZ(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function GZ(e){if(!KZ(e)&&typeof e!="number")return!1;const t=Dt(e);return!isNaN(Number(t))}function YZ(e,t){const r=Dt(e),n=Dt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function QZ(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function XZ(e,t){return+Dt(e)-+Dt(t)}function JZ(e){const t=Dt(e);return t.setHours(23,59,59,999),t}function ZZ(e){const t=Dt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function eee(e){const t=Dt(e);return+JZ(t)==+ZZ(t)}function tee(e,t){const r=Dt(e),n=Dt(t),s=og(r,n),i=Math.abs(YZ(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=og(r,n)===-s;eee(Dt(e))&&i===1&&og(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function ree(e,t,r){const n=XZ(e,t)/1e3;return QZ(r==null?void 0:r.roundingMethod)(n)}function nee(e){const t=Dt(e),r=_a(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const see={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iee=(e,t,r)=>{let n;const s=see[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Jb(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const aee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cee={date:Jb({formats:aee,defaultWidth:"full"}),time:Jb({formats:oee,defaultWidth:"full"}),dateTime:Jb({formats:lee,defaultWidth:"full"})},uee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dee=(e,t,r,n)=>uee[e];function cf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const fee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yee=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xee={ordinalNumber:yee,era:cf({values:fee,defaultWidth:"wide"}),quarter:cf({values:hee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:cf({values:pee,defaultWidth:"wide"}),day:cf({values:mee,defaultWidth:"wide"}),dayPeriod:cf({values:gee,defaultWidth:"wide",formattingValues:vee,defaultFormattingWidth:"wide"})};function uf(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?wee(l,f=>f.test(o)):bee(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function bee(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function wee(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function jee(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const _ee=/^(\d+)(th|st|nd|rd)?/i,See=/\d+/i,Nee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kee={any:[/^b/i,/^(a|c)/i]},Cee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Eee={any:[/1/i,/2/i,/3/i,/4/i]},Oee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Aee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Tee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ree={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$ee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mee={ordinalNumber:jee({matchPattern:_ee,parsePattern:See,valueCallback:e=>parseInt(e,10)}),era:uf({matchPatterns:Nee,defaultMatchWidth:"wide",parsePatterns:kee,defaultParseWidth:"any"}),quarter:uf({matchPatterns:Cee,defaultMatchWidth:"wide",parsePatterns:Eee,defaultParseWidth:"any",valueCallback:e=>e+1}),month:uf({matchPatterns:Oee,defaultMatchWidth:"wide",parsePatterns:Pee,defaultParseWidth:"any"}),day:uf({matchPatterns:Aee,defaultMatchWidth:"wide",parsePatterns:Tee,defaultParseWidth:"any"}),dayPeriod:uf({matchPatterns:Ree,defaultMatchWidth:"any",parsePatterns:$ee,defaultParseWidth:"any"})},KL={code:"en-US",formatDistance:iee,formatLong:cee,formatRelative:dee,localize:xee,match:Mee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Iee(e){const t=Dt(e);return WZ(t,nee(t))+1}function Dee(e){const t=Dt(e),r=+sv(t)-+VZ(t);return Math.round(r/VL)+1}function GL(e,t){var d,f,h,p;const r=Dt(e),n=r.getFullYear(),s=Ip(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=_a(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Ah(o,t),c=_a(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Ah(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Lee(e,t){var l,c,u,d;const r=Ip(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=GL(e,t),i=_a(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Ah(i,t)}function Fee(e,t){const r=Dt(e),n=+Ah(r,t)-+Lee(r,t);return Math.round(n/VL)+1}function Ot(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Wa={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ot(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ot(r+1,2)},d(e,t){return Ot(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ot(e.getHours()%12||12,t.length)},H(e,t){return Ot(e.getHours(),t.length)},m(e,t){return Ot(e.getMinutes(),t.length)},s(e,t){return Ot(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ot(s,t.length)}},Tc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},RO={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Wa.y(e,t)},Y:function(e,t,r,n){const s=GL(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Ot(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ot(i,t.length)},R:function(e,t){const r=HL(e);return Ot(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ot(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ot(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ot(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Wa.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ot(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Fee(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ot(s,t.length)},I:function(e,t,r){const n=Dee(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ot(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Wa.d(e,t)},D:function(e,t,r){const n=Iee(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ot(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ot(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ot(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ot(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Tc.noon:n===0?s=Tc.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Tc.evening:n>=12?s=Tc.afternoon:n>=4?s=Tc.morning:s=Tc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Wa.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Wa.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ot(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ot(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Wa.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Wa.s(e,t)},S:function(e,t){return Wa.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return MO(n);case"XXXX":case"XX":return ul(n);case"XXXXX":case"XXX":default:return ul(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return MO(n);case"xxxx":case"xx":return ul(n);case"xxxxx":case"xxx":default:return ul(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$O(n,":");case"OOOO":default:return"GMT"+ul(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$O(n,":");case"zzzz":default:return"GMT"+ul(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ot(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ot(n,t.length)}};function $O(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Ot(i,2)}function MO(e,t){return e%60===0?(e>0?"-":"+")+Ot(Math.abs(e)/60,2):ul(e,t)}function ul(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ot(Math.trunc(n/60),2),i=Ot(n%60,2);return r+s+t+i}const IO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},YL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Uee=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return IO(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",IO(n,t)).replace("{{time}}",YL(s,t))},Bee={p:YL,P:Uee},zee=/^D+$/,qee=/^Y+$/,Wee=["D","DD","YY","YYYY"];function Vee(e){return zee.test(e)}function Hee(e){return qee.test(e)}function Kee(e,t,r){const n=Gee(e,t,r);if(console.warn(n),Wee.includes(e))throw new RangeError(n)}function Gee(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xee=/^'([^]*?)'?$/,Jee=/''/g,Zee=/[a-zA-Z]/;function QL(e,t,r){var d,f,h,p;const n=Ip(),s=n.locale??KL,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=Dt(e);if(!GZ(l))throw new RangeError("Invalid time value");let c=t.match(Qee).map(g=>{const m=g[0];if(m==="p"||m==="P"){const v=Bee[m];return v(g,s.formatLong)}return g}).join("").match(Yee).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const m=g[0];if(m==="'")return{isToken:!1,value:ete(g)};if(RO[m])return{isToken:!0,value:g};if(m.match(Zee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const m=g.value;(Hee(m)||Vee(m))&&Kee(m,t,String(e));const v=RO[m[0]];return v(l,m,s.localize,u)}).join("")}function ete(e){const t=e.match(Xee);return t?t[1].replace(Jee,"'"):e}function tte(e,t,r){const n=Ip(),s=(r==null?void 0:r.locale)??n.locale??KL,i=2520,o=og(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Dt(t),u=Dt(e)):(c=Dt(e),u=Dt(t));const d=ree(u,c),f=(iv(u)-iv(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<AO){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<km){const g=Math.round(h/AO);return s.formatDistance("xDays",g,l)}else if(h<km*2)return p=Math.round(h/km),s.formatDistance("aboutXMonths",p,l)}if(p=tee(u,c),p<12){const g=Math.round(h/km);return s.formatDistance("xMonths",g,l)}else{const g=p%12,m=Math.trunc(p/12);return g<3?s.formatDistance("aboutXYears",m,l):g<9?s.formatDistance("overXYears",m,l):s.formatDistance("almostXYears",m+1,l)}}function Dr(e,t){return tte(e,HZ(e),t)}function rte(e,t){return BZ(e,-7)}const nte=Et({name:Pe().min(1,"Name is required").max(64),scope:Pe().min(1,"Scope is required").max(128)}),ste={github:"GitHub",google:"Google",discord:"Discord",slack:"Slack"};function ite(){const{data:e,isLoading:t}=ox(),r=RZ(),[n,s]=x.useState(!1),[i,o]=x.useState((e==null?void 0:e.display_name)??"");if(x.useEffect(()=>{!n&&(e==null?void 0:e.display_name)!==void 0&&o(e.display_name??"")},[e==null?void 0:e.display_name,n]),t)return a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(we,{className:"h-6 w-32"}),a.jsx(we,{className:"h-4 w-48 mt-2"})]}),a.jsxs(te,{className:"flex items-center gap-4",children:[a.jsx(we,{className:"h-16 w-16 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{className:"h-5 w-40"}),a.jsx(we,{className:"h-4 w-24"})]})]})]});const l=(e==null?void 0:e.display_name)||"User",c=(e==null?void 0:e.email)??"",u=(e==null?void 0:e.workspace_path)??"",d=l.slice(0,2).toUpperCase(),f=()=>{r.mutate({display_name:i||null},{onSuccess:()=>s(!1)})};return a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Dy,{className:"h-5 w-5"}),"Profile summary"]}),a.jsx(ve,{children:"Account and avatar."})]}),a.jsxs(te,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-6",children:[a.jsxs(Ky,{className:"h-16 w-16 shrink-0",children:[a.jsx(AS,{src:(e==null?void 0:e.avatar_url)??void 0,alt:l}),a.jsx(Gy,{className:"text-lg bg-primary/20 text-primary",children:d})]}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[n?a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(ge,{value:i,onChange:h=>o(h.target.value),placeholder:"Display name",className:"max-w-xs","aria-label":"Display name"}),a.jsx(M,{size:"sm",onClick:f,disabled:r.isPending,children:r.isPending?a.jsx(Zn,{className:"h-4 w-4 animate-spin"}):"Save"}),a.jsx(M,{size:"sm",variant:"ghost",onClick:()=>{s(!1),o((e==null?void 0:e.display_name)??"")},children:"Cancel"})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium truncate",children:l}),a.jsx(M,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",onClick:()=>{o((e==null?void 0:e.display_name)??""),s(!0)},"aria-label":"Edit display name",children:"Edit"})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Workspace: ",a.jsx("span",{className:"font-mono truncate",children:u})]})]})]})]})}function ate(){const{data:e,isLoading:t}=$Z(),r=MZ(),[n,s]=x.useState(null);if(t)return a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(we,{className:"h-6 w-40"}),a.jsx(we,{className:"h-4 w-56 mt-2"})]}),a.jsxs(te,{children:[a.jsx(we,{className:"h-12 w-full"}),a.jsx(we,{className:"h-12 w-full mt-2"})]})]});const i=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(DH,{className:"h-5 w-5"}),"Connected accounts"]}),a.jsx(ve,{children:"OAuth and linked accounts; unlink here."})]}),a.jsx(te,{children:i.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected accounts."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connect GitHub, Google, or other providers from Settings."})]}):a.jsx("ul",{className:"space-y-2",children:i.map(o=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsx("span",{className:"font-medium",children:ste[o.provider]??o.provider}),a.jsx(M,{variant:"outline",size:"sm",onClick:()=>s(o.id),disabled:r.isPending,"aria-label":`Unlink ${o.provider}`,children:"Unlink"})]},o.id))})})]}),a.jsx(Ge,{open:!!n,onOpenChange:()=>s(null),children:a.jsxs(qe,{showClose:!0,children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Unlink account"}),a.jsx(He,{children:"Are you sure you want to unlink this account? You may need to sign in again with this provider to reconnect."})]}),a.jsxs(Qe,{children:[a.jsx(M,{variant:"outline",onClick:()=>s(null),children:"Cancel"}),a.jsx(M,{variant:"destructive",onClick:()=>{n&&r.mutate(n,{onSuccess:()=>s(null)})},disabled:r.isPending,children:r.isPending?a.jsx(Zn,{className:"h-4 w-4 animate-spin"}):"Unlink"})]})]})})]})}function ote(){const{data:e,isLoading:t}=IZ(),{data:r,isLoading:n}=qL(),s=WL(),i=DZ(),[o,l]=x.useState(null),c=t||n,u=(r==null?void 0:r.two_factor_enabled)??!1;if(c)return a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(we,{className:"h-6 w-24"}),a.jsx(we,{className:"h-4 w-48 mt-2"})]}),a.jsxs(te,{className:"space-y-4",children:[a.jsx(we,{className:"h-10 w-32"}),a.jsx(we,{className:"h-6 w-full"})]})]});const d=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Dn,{className:"h-5 w-5"}),"Security"]}),a.jsx(ve,{children:"Password, 2FA, active sessions."})]}),a.jsxs(te,{className:"space-y-4",children:[a.jsx(M,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(me,{to:"/forgot-password",children:"Change password"})}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(Q,{htmlFor:"2fa",className:"cursor-pointer",children:"Two-factor authentication"}),a.jsx(Zr,{id:"2fa",checked:u,onCheckedChange:f=>s.mutate({two_factor_enabled:f}),disabled:s.isPending})]}),a.jsx(ES,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Active sessions"}),d.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No other sessions."}):a.jsx("ul",{className:"space-y-2",children:d.map(f=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Iy,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:f.device_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Dr(new Date(f.last_active_at),{addSuffix:!0})})]})]}),a.jsx(M,{variant:"outline",size:"sm",onClick:()=>l(f.id),disabled:i.isPending,"aria-label":`Revoke ${f.device_name}`,children:"Revoke"})]},f.id))})]})]})]}),a.jsx(Ge,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(qe,{showClose:!0,children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Revoke session"}),a.jsx(He,{children:"This device will be signed out. Are you sure?"})]}),a.jsxs(Qe,{children:[a.jsx(M,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(M,{variant:"destructive",onClick:()=>{o&&i.mutate(o,{onSuccess:()=>l(null)})},disabled:i.isPending,children:i.isPending?a.jsx(Zn,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function lte(){const{data:e,isLoading:t}=LZ(),r=FZ(),n=UZ(),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(null),d=kt({resolver:Ct(nte),defaultValues:{name:"",scope:"read"}}),f=p=>{r.mutate(p,{onSuccess:g=>{u(g.key),d.reset()}})};if(t)return a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(we,{className:"h-6 w-24"}),a.jsx(we,{className:"h-4 w-40 mt-2"})]}),a.jsxs(te,{children:[a.jsx(we,{className:"h-10 w-28"}),a.jsx(we,{className:"h-12 w-full mt-4"})]})]});const h=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(_h,{className:"h-5 w-5"}),"API Keys"]}),a.jsx(ve,{children:"Create and manage scoped API keys for integrations."})]}),a.jsxs(te,{className:"space-y-4",children:[a.jsx(M,{variant:"outline",size:"sm",onClick:()=>{i(!0),u(null)},children:"Create API key"}),h.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-6 text-center",children:[a.jsx(fS,{className:"mx-auto h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No API keys yet."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a key to use with external tools or scripts."})]}):a.jsx("ul",{className:"space-y-2",children:h.map(p=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:p.name}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[p.key_prefix,""]})]}),a.jsx(M,{variant:"outline",size:"sm",onClick:()=>l(p.id),disabled:n.isPending,"aria-label":`Revoke key ${p.name}`,children:"Revoke"})]},p.id))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Keychain / 1Password integration can be enabled below."})]})]}),a.jsx(Ge,{open:s,onOpenChange:i,children:a.jsxs(qe,{showClose:!0,children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Create API key"}),a.jsx(He,{children:"Choose a name and scope. The key value is shown only once."})]}),c?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Your new key (copy now)"}),a.jsx(ge,{readOnly:!0,value:c,className:"font-mono text-sm","aria-label":"API key value"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Store this securely; it won't be shown again."}),a.jsx(Qe,{children:a.jsx(M,{onClick:()=>i(!1),children:"Done"})})]}):a.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"key-name",children:"Name"}),a.jsx(ge,{id:"key-name",...d.register("name"),placeholder:"e.g. CI pipeline","aria-invalid":!!d.formState.errors.name}),d.formState.errors.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"key-scope",children:"Scope"}),a.jsx(ge,{id:"key-scope",...d.register("scope"),placeholder:"e.g. read, write","aria-invalid":!!d.formState.errors.scope}),d.formState.errors.scope&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.scope.message})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsx(M,{type:"submit",disabled:r.isPending,children:r.isPending?a.jsx(Zn,{className:"h-4 w-4 animate-spin"}):"Create"})]})]})]})}),a.jsx(Ge,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(qe,{showClose:!0,children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Revoke API key"}),a.jsx(He,{children:"This key will stop working immediately. Any integrations using it will need a new key."})]}),a.jsxs(Qe,{children:[a.jsx(M,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(M,{variant:"destructive",onClick:()=>{o&&n.mutate(o,{onSuccess:()=>l(null)})},disabled:n.isPending,children:n.isPending?a.jsx(Zn,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function cte(){const{data:e,isLoading:t}=qL(),r=WL(),n=(e==null?void 0:e.keychain_integration_enabled)??!1;return t?a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(we,{className:"h-6 w-48"}),a.jsx(we,{className:"h-4 w-64 mt-2"})]}),a.jsx(te,{children:a.jsx(we,{className:"h-6 w-full"})})]}):a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(fS,{className:"h-5 w-5"}),"Keychain / 1Password"]}),a.jsx(ve,{children:"Use 1Password or system keychain for secure login and autofill."})]}),a.jsx(te,{children:a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(Q,{htmlFor:"keychain",className:"cursor-pointer",children:"Enable 1Password integration"}),a.jsx(Zr,{id:"keychain",checked:n,onCheckedChange:s=>r.mutate({keychain_integration_enabled:s}),disabled:r.isPending})]})})]})}function ute(){return a.jsxs("div",{className:Z("mx-auto max-w-3xl space-y-6 animate-fade-in-up"),children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Profile"}),a.jsx(ite,{}),a.jsx(ate,{}),a.jsx(ote,{}),a.jsx(lte,{}),a.jsx(cte,{}),a.jsx("div",{className:"flex justify-end",children:a.jsx(M,{asChild:!0,children:a.jsx(me,{to:"/settings",children:"Settings"})})})]})}function dte(){return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(ee,{className:"w-full max-w-md animate-fade-in-up",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(ks,{className:"h-5 w-5"}),"Install Gateway"]}),a.jsx(ve,{children:"Download the Clawgate gateway for your platform."})]}),a.jsxs(te,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway binaries and installers will be available here. For now, use the Open Local UI button if you have the gateway running."}),a.jsx(M,{asChild:!0,className:"w-full",children:a.jsx(me,{to:"/dashboard",children:"Open Local UI"})}),a.jsx(M,{variant:"outline",asChild:!0,className:"w-full",children:a.jsx(me,{to:"/",children:"Back to home"})})]})]})})}const fte=_S("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-600/20 text-green-400",warning:"border-transparent bg-amber-600/20 text-amber-400"}},defaultVariants:{variant:"default"}});function tt({className:e,variant:t,...r}){return a.jsx("div",{className:Z(fte({variant:t}),e),...r})}const Gt="/dashboard",jn={getActivities:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return be.get(`${Gt}/activities${t?`?${t}`:""}`)},getActivity:e=>be.get(`${Gt}/activities/${e}`),createActivity:e=>be.post(`${Gt}/activities`,e),deleteActivity:e=>be.delete(`${Gt}/activities/${e}`),getRuns:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return be.get(`${Gt}/runs${t?`?${t}`:""}`)},getRun:e=>be.get(`${Gt}/runs/${e}`),createRun:e=>be.post(`${Gt}/runs`,e),updateRun:(e,t)=>be.patch(`${Gt}/runs/${e}`,t),abortRun:e=>be.post(`${Gt}/runs/${e}/abort`,{}),getCronJobs:()=>be.get(`${Gt}/cron-jobs`),getCronJob:e=>be.get(`${Gt}/cron-jobs/${e}`),createCronJob:e=>be.post(`${Gt}/cron-jobs`,e),updateCronJob:(e,t)=>be.patch(`${Gt}/cron-jobs/${e}`,t),deleteCronJob:e=>be.delete(`${Gt}/cron-jobs/${e}`),runCronJobNow:e=>be.post(`${Gt}/cron-jobs/${e}/run-now`,{}),getCronRunHistory:(e,t)=>{const r=t?new URLSearchParams(Object.fromEntries(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)]))).toString():"";return be.get(`${Gt}/cron-jobs/${e}/run-history${r?`?${r}`:""}`)},getNodes:()=>be.get(`${Gt}/nodes`),getNode:e=>be.get(`${Gt}/nodes/${e}`),createNode:e=>be.post(`${Gt}/nodes`,e),updateNode:(e,t)=>be.patch(`${Gt}/nodes/${e}`,t),deleteNode:e=>be.delete(`${Gt}/nodes/${e}`),getAlerts:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return be.get(`${Gt}/alerts${t?`?${t}`:""}`)},getAlert:e=>be.get(`${Gt}/alerts/${e}`),updateAlert:(e,t)=>be.patch(`${Gt}/alerts/${e}`,t),quickRun:e=>be.post(`${Gt}/quick-run`,e)};function Ad(e,t){return e().catch(()=>t)}const mt={all:["dashboard"],activities:e=>[...mt.all,"activities",e],activity:e=>[...mt.all,"activity",e],runs:e=>[...mt.all,"runs",e],run:e=>[...mt.all,"run",e],cronJobs:()=>[...mt.all,"cron-jobs"],cronJob:e=>[...mt.all,"cron-job",e],cronRunHistory:(e,t)=>[...mt.all,"cron-run-history",e,t],nodes:()=>[...mt.all,"nodes"],node:e=>[...mt.all,"node",e],alerts:e=>[...mt.all,"alerts",e],alert:e=>[...mt.all,"alert",e]};function hte(e){return De({queryKey:mt.activities(e),queryFn:()=>Ad(()=>jn.getActivities(e),[])})}function pte(){const e=je();return _e({mutationFn:t=>jn.deleteActivity(t),onSuccess:()=>{e.invalidateQueries({queryKey:mt.activities()}),V.success("Activity removed")},onError:t=>{V.error(t.message||"Failed to remove activity")}})}function mte(e){return De({queryKey:mt.runs(e),queryFn:()=>Ad(()=>jn.getRuns(e),[])})}function gte(){const e=je();return _e({mutationFn:t=>jn.abortRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:mt.runs()}),V.success("Run aborted")},onError:t=>{V.error(t.message||"Failed to abort run")}})}function XL(){return De({queryKey:mt.cronJobs(),queryFn:()=>Ad(()=>jn.getCronJobs(),[])})}function JL(){const e=je();return _e({mutationFn:t=>jn.createCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:mt.cronJobs()}),V.success("Cron job created")},onError:t=>{V.error(t.message||"Failed to create cron job")}})}function vte(){const e=je();return _e({mutationFn:({id:t,data:r})=>jn.updateCronJob(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:mt.cronJobs()}),e.invalidateQueries({queryKey:mt.cronJob(r)}),V.success("Cron job updated")},onError:t=>{V.error(t.message||"Failed to update cron job")}})}function yte(){const e=je();return _e({mutationFn:t=>jn.deleteCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:mt.cronJobs()}),V.success("Cron job deleted")},onError:t=>{V.error(t.message||"Failed to delete cron job")}})}function xte(e,t){return De({queryKey:mt.cronRunHistory(e??"",t),queryFn:()=>e?Ad(()=>jn.getCronRunHistory(e,t),[]):Promise.resolve([]),enabled:!!e})}function bte(){const e=je();return _e({mutationFn:t=>jn.runCronJobNow(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:mt.cronJobs()}),e.invalidateQueries({queryKey:mt.cronRunHistory(r)}),e.invalidateQueries({queryKey:mt.runs()}),V.success("Job started")},onError:t=>{V.error(t.message||"Failed to run job")}})}function ZL(){return De({queryKey:mt.nodes(),queryFn:()=>Ad(()=>jn.getNodes(),[])})}function wte(){const e=je();return _e({mutationFn:({id:t,data:r})=>jn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:mt.nodes()}),e.invalidateQueries({queryKey:mt.node(r)}),V.success("Node updated")},onError:t=>{V.error(t.message||"Failed to update node")}})}function jte(e){return De({queryKey:mt.alerts(e),queryFn:()=>Ad(()=>jn.getAlerts(e),[])})}function _te(){const e=je();return _e({mutationFn:({id:t,data:r})=>jn.updateAlert(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:mt.alerts()}),e.invalidateQueries({queryKey:mt.alert(r)}),V.success("Alert updated")},onError:t=>{V.error(t.message||"Failed to update alert")}})}function Ste(){const e=je();return _e({mutationFn:t=>jn.quickRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:mt.activities()}),e.invalidateQueries({queryKey:mt.runs()}),V.success("Message sent")},onError:t=>{V.error(t.message||"Failed to send message")}})}const DO={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"};function Nte({activity:e,open:t,onOpenChange:r,onDelete:n}){if(!e)return null;const s=()=>{n==null||n(e.id),r(!1)};return a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(qe,{className:"max-w-lg","aria-describedby":"activity-detail-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Activity details"}),a.jsxs(He,{id:"activity-detail-description",children:[DO[e.activity_type]??e.activity_type," "," ",Dr(new Date(e.created_at),{addSuffix:!0})]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),a.jsx("p",{className:"text-sm",children:DO[e.activity_type]??e.activity_type})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Details"}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md border border-border bg-secondary/30 p-3 text-xs",children:JSON.stringify(e.details,null,2)})]})]}),a.jsxs(Qe,{children:[n&&a.jsx(M,{variant:"destructive",onClick:s,children:"Remove"}),a.jsx(M,{variant:"outline",onClick:()=>r(!1),children:"Close"})]})]})})}function kte({run:e,open:t,onOpenChange:r,onConfirm:n,isAborting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(qe,{"aria-describedby":"run-abort-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Abort run?"}),a.jsxs(He,{id:"run-abort-description",children:["This will stop the run that started"," ",Dr(new Date(e.start_time),{addSuffix:!0}),". This action cannot be undone."]})]}),a.jsxs(Qe,{children:[a.jsx(M,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(M,{variant:"destructive",onClick:i,disabled:s,children:s?"Aborting":"Abort run"})]})]})})}function Cte(e){const t=Ete(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(Pte);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Ete(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=Tte(s),l=Ate(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Aa(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ote=Symbol("radix.slottable");function Pte(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ote}function Ate(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Tte(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var eF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Rte="VisuallyHidden",$te=x.forwardRef((e,t)=>a.jsx(Xe.span,{...e,ref:t,style:{...eF,...e.style}}));$te.displayName=Rte;var Mte=[" ","Enter","ArrowUp","ArrowDown"],Ite=[" ","Enter"],tc="Select",[lx,cx,Dte]=TS(tc),[Td]=Fi(tc,[Dte,Zy]),ux=Zy(),[Lte,Go]=Td(tc),[Fte,Ute]=Td(tc),tF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=ux(t),[v,y]=x.useState(null),[b,w]=x.useState(null),[S,j]=x.useState(!1),_=Op(u),[N,k]=Yl({prop:n,defaultProp:s??!1,onChange:i,caller:tc}),[C,T]=Yl({prop:o,defaultProp:l,onChange:c,caller:tc}),I=x.useRef(null),E=v?g||!!v.closest("form"):!0,[U,O]=x.useState(new Set),B=Array.from(U).map(A=>A.props.value).join(";");return a.jsx(s4,{...m,children:a.jsxs(Lte,{required:p,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Pi(),value:C,onValueChange:T,open:N,onOpenChange:k,dir:_,triggerPointerDownPosRef:I,disabled:h,children:[a.jsx(lx.Provider,{scope:t,children:a.jsx(Fte,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(A=>{O(z=>new Set(z).add(A))},[]),onNativeOptionRemove:x.useCallback(A=>{O(z=>{const L=new Set(z);return L.delete(A),L})},[]),children:r})}),E?a.jsxs(NF,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:A=>T(A.target.value),disabled:h,form:g,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(U)]},B):null]})})};tF.displayName=tc;var rF="SelectTrigger",nF=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=ux(r),o=Go(rF,r),l=o.disabled||n,c=dt(t,o.onTriggerChange),u=cx(r),d=x.useRef("touch"),[f,h,p]=CF(m=>{const v=u().filter(w=>!w.disabled),y=v.find(w=>w.value===o.value),b=EF(v,m,y);b!==void 0&&o.onValueChange(b.value)}),g=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(i4,{asChild:!0,...i,children:a.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":kF(o.value)?"":void 0,...s,ref:c,onClick:Ne(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:Ne(s.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:Ne(s.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&Mte.includes(m.key)&&(g(),m.preventDefault())})})})});nF.displayName=rF;var sF="SelectValue",iF=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=Go(sF,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=dt(t,c.onValueNodeChange);return kr(()=>{u(d)},[u,d]),a.jsx(Xe.span,{...l,ref:f,style:{pointerEvents:"none"},children:kF(c.value)?a.jsx(a.Fragment,{children:o}):i})});iF.displayName=sF;var Bte="SelectIcon",aF=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Xe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});aF.displayName=Bte;var zte="SelectPortal",oF=e=>a.jsx(By,{asChild:!0,...e});oF.displayName=zte;var rc="SelectContent",lF=x.forwardRef((e,t)=>{const r=Go(rc,e.__scopeSelect),[n,s]=x.useState();if(kr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?bd.createPortal(a.jsx(cF,{scope:e.__scopeSelect,children:a.jsx(lx.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(uF,{...e,ref:t})});lF.displayName=rc;var zs=10,[cF,Yo]=Td(rc),qte="SelectContentImpl",Wte=Cte("SelectContent.RemoveScroll"),uF=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...y}=e,b=Go(rc,r),[w,S]=x.useState(null),[j,_]=x.useState(null),N=dt(t,ce=>S(ce)),[k,C]=x.useState(null),[T,I]=x.useState(null),E=cx(r),[U,O]=x.useState(!1),B=x.useRef(!1);x.useEffect(()=>{if(w)return xS(w)},[w]),yS();const A=x.useCallback(ce=>{const[Me,...re]=E().map(K=>K.ref.current),[pe]=re.slice(-1),H=document.activeElement;for(const K of ce)if(K===H||(K==null||K.scrollIntoView({block:"nearest"}),K===Me&&j&&(j.scrollTop=0),K===pe&&j&&(j.scrollTop=j.scrollHeight),K==null||K.focus(),document.activeElement!==H))return},[E,j]),z=x.useCallback(()=>A([k,w]),[A,k,w]);x.useEffect(()=>{U&&z()},[U,z]);const{onOpenChange:L,triggerPointerDownPosRef:R}=b;x.useEffect(()=>{if(w){let ce={x:0,y:0};const Me=pe=>{var H,K;ce={x:Math.abs(Math.round(pe.pageX)-(((H=R.current)==null?void 0:H.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((K=R.current)==null?void 0:K.y)??0))}},re=pe=>{ce.x<=10&&ce.y<=10?pe.preventDefault():w.contains(pe.target)||L(!1),document.removeEventListener("pointermove",Me),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",re,{capture:!0})}}},[w,L,R]),x.useEffect(()=>{const ce=()=>L(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[L]);const[$,J]=CF(ce=>{const Me=E().filter(H=>!H.disabled),re=Me.find(H=>H.ref.current===document.activeElement),pe=EF(Me,ce,re);pe&&setTimeout(()=>pe.ref.current.focus())}),G=x.useCallback((ce,Me,re)=>{const pe=!B.current&&!re;(b.value!==void 0&&b.value===Me||pe)&&(C(ce),pe&&(B.current=!0))},[b.value]),ie=x.useCallback(()=>w==null?void 0:w.focus(),[w]),he=x.useCallback((ce,Me,re)=>{const pe=!B.current&&!re;(b.value!==void 0&&b.value===Me||pe)&&I(ce)},[b.value]),Le=n==="popper"?Cj:dF,Fe=Le===Cj?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return a.jsx(cF,{scope:r,content:w,viewport:j,onViewportChange:_,itemRefCallback:G,selectedItem:k,onItemLeave:ie,itemTextRefCallback:he,focusSelectedItem:z,selectedItemText:T,position:n,isPositioned:U,searchRef:$,children:a.jsx(qy,{as:Wte,allowPinchZoom:!0,children:a.jsx(Uy,{asChild:!0,trapped:b.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Ne(s,ce=>{var Me;(Me=b.trigger)==null||Me.focus({preventScroll:!0}),ce.preventDefault()}),children:a.jsx(Fy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:a.jsx(Le,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ce=>ce.preventDefault(),...y,...Fe,onPlaced:()=>O(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ne(y.onKeyDown,ce=>{const Me=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Me&&ce.key.length===1&&J(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let pe=E().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const H=ce.target,K=pe.indexOf(H);pe=pe.slice(K+1)}setTimeout(()=>A(pe)),ce.preventDefault()}})})})})})})});uF.displayName=qte;var Vte="SelectItemAlignedPosition",dF=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Go(rc,r),o=Yo(rc,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=dt(t,N=>d(N)),h=cx(r),p=x.useRef(!1),g=x.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,w=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&v&&y){const N=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(i.dir!=="rtl"){const H=T.left-k.left,K=C.left-H,Ye=N.left-K,Ue=N.width+Ye,wt=Math.max(Ue,k.width),yt=window.innerWidth-zs,Zt=fj(K,[zs,Math.max(zs,yt-wt)]);l.style.minWidth=Ue+"px",l.style.left=Zt+"px"}else{const H=k.right-T.right,K=window.innerWidth-C.right-H,Ye=window.innerWidth-N.right-K,Ue=N.width+Ye,wt=Math.max(Ue,k.width),yt=window.innerWidth-zs,Zt=fj(K,[zs,Math.max(zs,yt-wt)]);l.style.minWidth=Ue+"px",l.style.right=Zt+"px"}const I=h(),E=window.innerHeight-zs*2,U=m.scrollHeight,O=window.getComputedStyle(u),B=parseInt(O.borderTopWidth,10),A=parseInt(O.paddingTop,10),z=parseInt(O.borderBottomWidth,10),L=parseInt(O.paddingBottom,10),R=B+A+U+L+z,$=Math.min(v.offsetHeight*5,R),J=window.getComputedStyle(m),G=parseInt(J.paddingTop,10),ie=parseInt(J.paddingBottom,10),he=N.top+N.height/2-zs,Le=E-he,Fe=v.offsetHeight/2,ce=v.offsetTop+Fe,Me=B+A+ce,re=R-Me;if(Me<=he){const H=I.length>0&&v===I[I.length-1].ref.current;l.style.bottom="0px";const K=u.clientHeight-m.offsetTop-m.offsetHeight,Ye=Math.max(Le,Fe+(H?ie:0)+K+z),Ue=Me+Ye;l.style.height=Ue+"px"}else{const H=I.length>0&&v===I[0].ref.current;l.style.top="0px";const Ye=Math.max(he,B+m.offsetTop+(H?G:0)+Fe)+re;l.style.height=Ye+"px",m.scrollTop=Me-he+m.offsetTop}l.style.margin=`${zs}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,v,y,i.dir,n]);kr(()=>w(),[w]);const[S,j]=x.useState();kr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const _=x.useCallback(N=>{N&&g.current===!0&&(w(),b==null||b(),g.current=!1)},[w,b]);return a.jsx(Kte,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(Xe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});dF.displayName=Vte;var Hte="SelectPopperPosition",Cj=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=zs,...i}=e,o=ux(r);return a.jsx(a4,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cj.displayName=Hte;var[Kte,rN]=Td(rc,{}),Ej="SelectViewport",fF=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Yo(Ej,r),o=rN(Ej,r),l=dt(t,i.onViewportChange),c=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(lx.Slot,{scope:r,children:a.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ne(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-zs*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(m,v);if(y<g){const b=y+p,w=Math.min(g,b),S=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});fF.displayName=Ej;var hF="SelectGroup",[Gte,Yte]=Td(hF),Qte=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Pi();return a.jsx(Gte,{scope:r,id:s,children:a.jsx(Xe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Qte.displayName=hF;var pF="SelectLabel",mF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Yte(pF,r);return a.jsx(Xe.div,{id:s.id,...n,ref:t})});mF.displayName=pF;var av="SelectItem",[Xte,gF]=Td(av),vF=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Go(av,r),c=Yo(av,r),u=l.value===n,[d,f]=x.useState(i??""),[h,p]=x.useState(!1),g=dt(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,s)}),m=Pi(),v=x.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Xte,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:x.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:a.jsx(lx.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Xe.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Ne(o.onFocus,()=>p(!0)),onBlur:Ne(o.onBlur,()=>p(!1)),onClick:Ne(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Ne(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Ne(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Ne(o.onPointerMove,b=>{var w;v.current=b.pointerType,s?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ne(o.onKeyDown,b=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(Ite.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});vF.displayName=av;var Pf="SelectItemText",yF=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Go(Pf,r),l=Yo(Pf,r),c=gF(Pf,r),u=Ute(Pf,r),[d,f]=x.useState(null),h=dt(t,y=>f(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=x.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return kr(()=>(m(g),()=>v(g)),[m,v,g]),a.jsxs(a.Fragment,{children:[a.jsx(Xe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bd.createPortal(i.children,o.valueNode):null]})});yF.displayName=Pf;var xF="SelectItemIndicator",bF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return gF(xF,r).isSelected?a.jsx(Xe.span,{"aria-hidden":!0,...n,ref:t}):null});bF.displayName=xF;var Oj="SelectScrollUpButton",wF=x.forwardRef((e,t)=>{const r=Yo(Oj,e.__scopeSelect),n=rN(Oj,e.__scopeSelect),[s,i]=x.useState(!1),o=dt(t,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(_F,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});wF.displayName=Oj;var Pj="SelectScrollDownButton",jF=x.forwardRef((e,t)=>{const r=Yo(Pj,e.__scopeSelect),n=rN(Pj,e.__scopeSelect),[s,i]=x.useState(!1),o=dt(t,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(_F,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});jF.displayName=Pj;var _F=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Yo("SelectScrollButton",r),o=x.useRef(null),l=cx(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),kr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Xe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ne(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ne(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ne(s.onPointerLeave,()=>{c()})})}),Jte="SelectSeparator",SF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Xe.div,{"aria-hidden":!0,...n,ref:t})});SF.displayName=Jte;var Aj="SelectArrow",Zte=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ux(r),i=Go(Aj,r),o=Yo(Aj,r);return i.open&&o.position==="popper"?a.jsx(o4,{...s,...n,ref:t}):null});Zte.displayName=Aj;var ere="SelectBubbleInput",NF=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=x.useRef(null),i=dt(n,s),o=IL(t);return x.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Xe.select,{...r,style:{...eF,...r.style},ref:i,defaultValue:t})});NF.displayName=ere;function kF(e){return e===""||e===void 0}function CF(e){const t=zr(e),r=x.useRef(""),n=x.useRef(0),s=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function EF(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=tre(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function tre(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var rre=tF,OF=nF,nre=iF,sre=aF,ire=oF,PF=lF,are=fF,AF=mF,TF=vF,ore=yF,lre=bF,RF=wF,$F=jF,MF=SF;const Tt=rre,Rt=nre,St=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(OF,{ref:n,className:Z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(sre,{asChild:!0,children:a.jsx(kd,{className:"h-4 w-4 opacity-50"})})]}));St.displayName=OF.displayName;const IF=x.forwardRef(({className:e,...t},r)=>a.jsx(RF,{ref:r,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(oI,{className:"h-4 w-4"})}));IF.displayName=RF.displayName;const DF=x.forwardRef(({className:e,...t},r)=>a.jsx($F,{ref:r,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(kd,{className:"h-4 w-4"})}));DF.displayName=$F.displayName;const Nt=x.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(ire,{children:a.jsxs(PF,{ref:s,className:Z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-card text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(IF,{}),a.jsx(are,{className:Z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(DF,{})]})}));Nt.displayName=PF.displayName;const cre=x.forwardRef(({className:e,...t},r)=>a.jsx(AF,{ref:r,className:Z("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));cre.displayName=AF.displayName;const Ie=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(TF,{ref:n,className:Z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(lre,{children:a.jsx(kp,{className:"h-4 w-4"})})}),a.jsx(ore,{children:t})]}));Ie.displayName=TF.displayName;const ure=x.forwardRef(({className:e,...t},r)=>a.jsx(MF,{ref:r,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));ure.displayName=MF.displayName;const dre=Et({name:Pe().min(1,"Name is required").max(200,"Name too long"),schedule:Pe().min(1,"Schedule is required"),description:Pe().optional(),payload_json:Pe().optional(),session_target:Pe().optional(),isolation_setting:Ho().optional(),status:gr(["active","paused"]).optional()}),Cm={name:"",schedule:"",description:"",payload_json:"{}",session_target:"",isolation_setting:!1,status:"active"};function fre(e){if(!e||!e.trim())return{};try{const t=JSON.parse(e);return typeof t=="object"&&t!==null?t:{}}catch{return{}}}function LF({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,userId:s="",job:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=kt({resolver:Ct(dre),defaultValues:Cm}),p=d("status"),g=d("isolation_setting");x.useEffect(()=>{e&&i?f({name:i.name??i.description??"",schedule:i.schedule,description:i.description??"",payload_json:typeof i.payload=="object"&&Object.keys(i.payload||{}).length>0?JSON.stringify(i.payload,null,2):"{}",session_target:i.session_target??"",isolation_setting:i.isolation_setting??!1,status:i.status==="failed"?"paused":i.status}):e&&!i&&f(Cm)},[e,i,f]);const m=y=>{const b=fre(y.payload_json??"{}");r(o&&i?{name:y.name||null,schedule:y.schedule,description:y.description||null,payload:b,session_target:y.session_target||null,isolation_setting:y.isolation_setting??!1,status:y.status??"active"}:{user_id:s,name:y.name||null,schedule:y.schedule,description:y.description||null,payload:b,session_target:y.session_target||null,isolation_setting:y.isolation_setting??!1,status:y.status??"active"}),f(Cm),t(!1)},v=y=>{y||f(Cm),t(y)};return a.jsx(Ge,{open:e,onOpenChange:v,children:a.jsxs(qe,{className:"max-w-[640px]","aria-describedby":"cron-job-form-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:o?"Edit cron job":"Create cron job"}),a.jsx(He,{id:"cron-job-form-description",children:o?"Update schedule, payload, session target, and isolation.":"Add a scheduled job with cron expression, payload, and session target."})]}),a.jsxs("form",{onSubmit:c(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"name",children:"Job name"}),a.jsx(ge,{id:"name",placeholder:"e.g. Daily backup",...l("name"),className:h.name?"border-destructive":""}),h.name&&a.jsx("p",{className:"text-xs text-destructive",children:h.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"schedule",children:"Schedule (cron expression)"}),a.jsx(ge,{id:"schedule",placeholder:"e.g. 0 * * * * (hourly)",...l("schedule"),className:h.schedule?"border-destructive":""}),h.schedule&&a.jsx("p",{className:"text-xs text-destructive",children:h.schedule.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"description",children:"Description (optional)"}),a.jsx(ge,{id:"description",placeholder:"Optional description",...l("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"payload_json",children:"Payload (JSON)"}),a.jsx("textarea",{id:"payload_json",rows:4,placeholder:'{"key": "value"}',...l("payload_json"),className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-mono"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"session_target",children:"Session target"}),a.jsx(ge,{id:"session_target",placeholder:"Target session or channel",...l("session_target")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"isolation_setting",children:"Isolation"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Run job in isolated environment (sandbox)"})]}),a.jsx(Zr,{id:"isolation_setting",checked:g??!1,onCheckedChange:y=>u("isolation_setting",y)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Status"}),a.jsxs(Tt,{value:p??"active",onValueChange:y=>u("status",y),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"active",children:"Active"}),a.jsx(Ie,{value:"paused",children:"Paused"})]})]})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>v(!1),disabled:n,children:"Cancel"}),a.jsx(M,{type:"submit",disabled:n,children:n?"Saving":o?"Save changes":"Create job"})]})]})]})})}const Zb={healthy:"Healthy",degraded:"Degraded",unknown:"Unknown",offline:"Offline"},hre={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},pre={paired:"success",offline:"destructive",error:"warning"};function FF({node:e,open:t,onOpenChange:r,onUpdateHealth:n,isUpdating:s=!1}){var u;const[i,o]=x.useState((e==null?void 0:e.connection_health)??"unknown");if(x.useEffect(()=>{e&&o(e.connection_health)},[e,t]),!e)return null;const l=e.connection_health,c=()=>{n==null||n(e.id,i),r(!1)};return a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(qe,{className:"max-w-md","aria-describedby":"node-health-description",children:[a.jsxs(We,{children:[a.jsxs(Ve,{className:"flex items-center gap-2",children:[a.jsx(Oi,{className:"h-5 w-5"}),e.name??"Node","  Connection health"]}),a.jsx(He,{id:"node-health-description",children:"View and update node connection health and capabilities."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),a.jsx(tt,{variant:pre[e.status],children:e.status})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Current health:"}),a.jsxs(tt,{variant:hre[l],children:[l==="healthy"&&a.jsx(gS,{className:"mr-1 h-3 w-3"}),l==="offline"&&a.jsx(jI,{className:"mr-1 h-3 w-3"}),Zb[l]]})]}),(u=e.capabilities)!=null&&u.length?a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Capabilities"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.capabilities.map(d=>a.jsx(tt,{variant:"outline",className:"text-xs",children:d},d))})]}):null,n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Update connection health"}),a.jsxs(Tt,{value:i,onValueChange:d=>o(d),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsx(Nt,{children:Object.keys(Zb).map(d=>a.jsx(Ie,{value:d,children:Zb[d]},d))})]})]})]}),n&&a.jsxs(Qe,{children:[a.jsx(M,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(M,{onClick:c,disabled:s||i===l,children:s?"Saving":"Save"})]})]})})}const mre={low:"Low",medium:"Medium",high:"High",critical:"Critical"},gre=[{value:"open",label:"Open"},{value:"acknowledged",label:"Acknowledged"},{value:"resolved",label:"Resolved"}];function vre({alert:e,open:t,onOpenChange:r,onResolve:n,isUpdating:s=!1}){if(!e)return null;const i=o=>{n==null||n(e.id,o),r(!1)};return a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(qe,{className:"max-w-lg","aria-describedby":"alert-resolution-description",children:[a.jsxs(We,{children:[a.jsxs(Ve,{className:"flex items-center gap-2",children:[a.jsx(dc,{className:Z("h-5 w-5",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning")}),"Alert  ",e.type]}),a.jsx(He,{id:"alert-resolution-description",children:"Update resolution status for this security or audit finding."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{className:"rounded-md border border-border bg-secondary/30 p-3",children:a.jsx("p",{className:"text-sm",children:e.description})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Severity:"}),a.jsx("span",{className:Z("text-sm font-medium",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning"),children:mre[e.severity]})]}),n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Resolution status"}),a.jsxs(Tt,{value:e.resolution_status,onValueChange:o=>i(o),disabled:s,children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsx(Nt,{children:gre.map(o=>a.jsx(Ie,{value:o.value,children:o.label},o.value))})]})]})]}),a.jsxs(Qe,{children:[a.jsx(M,{variant:"outline",onClick:()=>r(!1),children:"Close"}),n&&a.jsx(M,{onClick:()=>i("resolved"),disabled:s||e.resolution_status==="resolved",children:s?"Updating":"Mark resolved"})]})]})})}const LO={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"},yre={running:"default",completed:"secondary",failed:"destructive",aborted:"warning"},xre={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"};function bre(){const[e,t]=x.useState(""),[r,n]=x.useState(""),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,p]=x.useState(null),[g,m]=x.useState(null),{data:v}=ox(),y=(v==null?void 0:v.user_id)??"",{data:b=[],isLoading:w}=hte({limit:20,type:r||void 0}),{data:S=[],isLoading:j}=mte({status:"running",limit:10}),{data:_=[],isLoading:N}=XL(),{data:k=[],isLoading:C}=ZL(),{data:T=[],isLoading:I}=jte({resolution_status:"open"}),E=Ste(),U=gte(),O=JL(),B=pte(),A=_te(),z=wte(),L=()=>{const $=e.trim();$&&E.mutate({message:$},{onSuccess:()=>t("")})},R=r?b.filter($=>$.activity_type===r):b;return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active runs",value:S.length,icon:ca,href:"/chat"},{title:"Cron jobs",value:_.length,icon:Ty,href:"/cron"},{title:"Nodes",value:k.length,icon:Oi,href:"/nodes"},{title:"Alerts",value:T.length,icon:Dn,href:"/security"}].map(({title:$,value:J,icon:G,href:ie})=>a.jsx(me,{to:ie,children:a.jsxs(ee,{className:"transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:$}),a.jsx(G,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(te,{children:a.jsx("div",{className:"text-2xl font-bold",children:J})})]})},$))}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(ee,{className:"flex flex-col",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(oS,{className:"h-5 w-5"}),"Recent activity"]}),a.jsxs("select",{value:r,onChange:$=>n($.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter activity type",children:[a.jsx("option",{value:"",children:"All"}),Object.entries(LO).map(([$,J])=>a.jsx("option",{value:$,children:J},$))]})]}),a.jsx(te,{className:"flex-1 overflow-hidden",children:a.jsx(Pt,{className:"h-[280px] pr-4",children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map($=>a.jsx(we,{className:"h-14 w-full rounded-lg"},$))}):R.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity."}):a.jsx("ul",{className:"space-y-2",children:R.map($=>a.jsx("li",{children:a.jsxs("div",{className:Z("rounded-lg border border-border bg-secondary/30 p-3 transition-colors hover:bg-secondary/50",s===$.id&&"ring-2 ring-ring"),children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 text-left",onClick:()=>i(s===$.id?null:$.id),"aria-expanded":s===$.id,children:[s===$.id?a.jsx(kd,{className:"h-4 w-4 shrink-0"}):a.jsx(rs,{className:"h-4 w-4 shrink-0"}),a.jsx(tt,{variant:"secondary",className:"text-xs",children:LO[$.activity_type]??$.activity_type}),a.jsx("span",{className:"flex-1 truncate text-sm text-muted-foreground",children:Dr(new Date($.created_at),{addSuffix:!0})})]}),s===$.id&&a.jsx("div",{className:"mt-2 flex items-center gap-2 border-t border-border pt-2",children:a.jsx(M,{variant:"outline",size:"sm",onClick:()=>l($),children:"View details"})})]})},$.id))})})})]}),a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Cp,{className:"h-5 w-5"}),"Quick Run"]}),a.jsx(ve,{children:"Send a message to the default session or channel."})]}),a.jsx(te,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{type:"text",placeholder:"Type a command or message...",className:"flex-1",value:e,onChange:$=>t($.target.value),onKeyDown:$=>$.key==="Enter"&&L(),"aria-label":"Quick run message"}),a.jsx(M,{onClick:L,disabled:!e.trim()||E.isPending,children:E.isPending?a.jsx("span",{className:"animate-pulse",children:"Sending"}):a.jsx(Fu,{className:"h-4 w-4"})})]})})]})]}),a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Active runs"}),a.jsx(ve,{children:"Stream and abort running jobs."})]}),a.jsx(te,{children:j?a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{className:"h-12 w-full rounded-lg"}),a.jsx(we,{className:"h-12 w-full rounded-lg"})]}):S.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No active runs."}):a.jsx("ul",{className:"space-y-2",children:S.map($=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tt,{variant:yre[$.status],children:$.status}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started ",Dr(new Date($.start_time),{addSuffix:!0})]})]}),a.jsxs(M,{variant:"destructive",size:"sm",onClick:()=>u($),disabled:$.status!=="running",children:[a.jsx(cS,{className:"mr-1 h-4 w-4"}),"Abort"]})]},$.id))})})]}),a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(ae,{children:"Cron overview"}),a.jsxs(M,{size:"sm",onClick:()=>f(!0),children:[a.jsx(ar,{className:"mr-1 h-4 w-4"}),"Create job"]})]}),a.jsx(te,{children:N?a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{className:"h-10 w-full rounded-lg"}),a.jsx(we,{className:"h-10 w-full rounded-lg"})]}):_.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No cron jobs."}),a.jsx(M,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(me,{to:"/cron",children:"Manage cron"})})]}):a.jsxs("ul",{className:"space-y-2",children:[_.slice(0,5).map($=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:$.description||$.schedule}),a.jsx("p",{className:"text-xs text-muted-foreground",children:$.schedule})]}),a.jsx(tt,{variant:$.status==="active"?"default":"secondary",children:$.status})]},$.id)),_.length>5&&a.jsx("li",{children:a.jsx(M,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs(me,{to:"/cron",children:["View all (",_.length,")"]})})})]})})]}),a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(ae,{children:"Nodes status"}),a.jsx(M,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(me,{to:"/nodes",children:"Pair node"})})]}),a.jsx(te,{children:C?a.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[a.jsx(we,{className:"h-20 rounded-lg"}),a.jsx(we,{className:"h-20 rounded-lg"})]}):k.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes."}),a.jsx(M,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(me,{to:"/nodes",children:"Pair node"})})]}):a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:k.map($=>a.jsxs("button",{type:"button",className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3 text-left transition-colors hover:bg-secondary/50",onClick:()=>p($),children:[a.jsx(Oi,{className:"h-8 w-8 shrink-0 text-muted-foreground"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:$.name??"Node"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(tt,{variant:xre[$.connection_health],className:"text-xs",children:[$.connection_health==="healthy"&&a.jsx(gS,{className:"mr-0.5 h-3 w-3"}),$.connection_health==="offline"&&a.jsx(jI,{className:"mr-0.5 h-3 w-3"}),$.connection_health]})})]})]},$.id))})})]})]}),a.jsxs(ee,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(dc,{className:"h-5 w-5 text-warning"}),"Skill alerts / audit findings"]}),a.jsx(M,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(me,{to:"/security",children:"Run audit"})})]}),a.jsx(te,{children:I?a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{className:"h-12 w-full rounded-lg"}),a.jsx(we,{className:"h-12 w-full rounded-lg"})]}):T.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No alerts."}),a.jsx(M,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(me,{to:"/security",children:"Run audit"})})]}):a.jsx("ul",{className:"space-y-2",children:T.map($=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:$.type}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",children:$.description})]}),a.jsx(tt,{variant:$.severity==="critical"?"destructive":$.severity==="high"?"warning":"secondary",className:"shrink-0",children:$.severity}),a.jsx(M,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>m($),children:"Fix"})]},$.id))})})]}),a.jsx(Nte,{activity:o,open:!!o,onOpenChange:$=>!$&&l(null),onDelete:$=>{B.mutate($),l(null)}}),a.jsx(kte,{run:c,open:!!c,onOpenChange:$=>!$&&u(null),onConfirm:$=>{U.mutate($),u(null)},isAborting:U.isPending}),a.jsx(LF,{open:d,onOpenChange:f,onSubmit:$=>{"user_id"in $&&$.user_id!==void 0&&O.mutate($)},isSubmitting:O.isPending,userId:y}),a.jsx(FF,{node:h,open:!!h,onOpenChange:$=>!$&&p(null),onUpdateHealth:($,J)=>z.mutate({id:$,data:{connection_health:J}}),isUpdating:z.isPending}),a.jsx(vre,{alert:g,open:!!g,onOpenChange:$=>!$&&m(null),onResolve:($,J)=>A.mutate({id:$,data:{resolution_status:J}}),isUpdating:A.isPending})]})}const li={getSessions:async()=>{const{data:e,error:t}=await q.from("chat_sessions").select("*").order("started_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSession:async e=>{const{data:t,error:r}=await q.from("chat_sessions").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSession:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("chat_sessions").insert(r).select().single();if(s)throw new Error(s.message);return n},updateSession:async(e,t)=>{const{data:r,error:n}=await q.from("chat_sessions").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteSession:async e=>{const{error:t}=await q.from("chat_sessions").delete().eq("id",e);if(t)throw new Error(t.message)},getMessages:async(e,t)=>{let r=q.from("chat_messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},sendMessage:async e=>{const{data:t,error:r}=await q.from("chat_messages").insert(e).select().single();if(r)throw new Error(r.message);return t},getToolInvocations:async(e,t)=>{let r=q.from("tool_invocations").select("*").eq("session_id",e).order("created_at",{ascending:!1});t!=null&&t.messageId&&(r=r.eq("message_id",t.messageId)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createToolInvocation:async e=>{const{data:t,error:r}=await q.from("tool_invocations").insert(e).select().single();if(r)throw new Error(r.message);return t},updateToolInvocation:async(e,t)=>{const{data:r,error:n}=await q.from("tool_invocations").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},approveToolInvocation:async e=>li.updateToolInvocation(e,{status:"approved"}),denyToolInvocation:async e=>li.updateToolInvocation(e,{status:"denied"})};function wre(e,t){return e().catch(()=>t)}const An={all:["chat"],sessions:()=>[...An.all,"sessions"],session:e=>[...An.all,"session",e],messages:(e,t)=>[...An.all,"messages",e,t],toolInvocations:(e,t)=>[...An.all,"toolInvocations",e,t]};function jre(){return De({queryKey:An.sessions(),queryFn:()=>wre(()=>li.getSessions(),[])})}function _re(e){return De({queryKey:An.session(e??""),queryFn:()=>e?li.getSession(e):Promise.resolve(null),enabled:!!e})}function Sre(){const e=je();return _e({mutationFn:t=>li.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:An.sessions()}),V.success("Session created")},onError:t=>{V.error(t.message||"Failed to create session")}})}function Nre(){const e=je();return _e({mutationFn:({id:t,data:r})=>li.updateSession(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:An.sessions()}),e.invalidateQueries({queryKey:An.session(r)}),V.success("Session updated")},onError:t=>{V.error(t.message||"Failed to update session")}})}function kre(e,t){return De({queryKey:An.messages(e??"",{limit:t}),queryFn:()=>e?li.getMessages(e,{limit:t}):Promise.resolve([]),enabled:!!e})}function Cre(){const e=je();return _e({mutationFn:t=>li.sendMessage(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:An.messages(r.session_id)}),V.success("Message sent")},onError:t=>{V.error(t.message||"Failed to send message")}})}function Ere(e,t){return De({queryKey:An.toolInvocations(e??"",t),queryFn:()=>e?li.getToolInvocations(e,t):Promise.resolve([]),enabled:!!e})}function Ore(){const e=je();return _e({mutationFn:({id:t,sessionId:r})=>li.approveToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:An.toolInvocations(r)}),V.success("Tool output approved")},onError:t=>{V.error(t.message||"Failed to approve")}})}function Pre(){const e=je();return _e({mutationFn:({id:t,sessionId:r})=>li.denyToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:An.toolInvocations(r)}),V.success("Tool output denied")},onError:t=>{V.error(t.message||"Failed to deny")}})}function Are({message:e,currentUserId:t}){const r=e.role==="user"||e.sender_id===t,n=e.role==="assistant"?"Assistant":e.role==="system"?"System":"You",s=Array.isArray(e.attachment_links)&&e.attachment_links.length>0;return a.jsxs("div",{className:Z("flex gap-3 rounded-lg p-3 transition-colors duration-200 hover:bg-card/80",r&&"flex-row-reverse"),"data-message-id":e.id,children:[a.jsx(Ky,{className:"h-8 w-8 shrink-0 rounded-full border border-border bg-secondary",children:a.jsx(Gy,{className:"text-xs text-muted-foreground",children:e.role==="assistant"?a.jsx(sI,{className:"h-4 w-4"}):a.jsx(Dy,{className:"h-4 w-4"})})}),a.jsxs("div",{className:Z("flex min-w-0 flex-1 flex-col gap-1",r&&"items-end"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-foreground",children:n}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Dr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsx("p",{className:"whitespace-pre-wrap break-words text-sm text-foreground",children:e.text}),s&&a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.attachment_links.map((i,o)=>a.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"rounded border border-border bg-secondary px-2 py-1 text-xs text-primary hover:underline",children:i.name??"Attachment"},o))})]})]})}function Tre({messages:e,isLoading:t,currentUserId:r,className:n}){const s=x.useRef(null);return x.useEffect(()=>{var i;(i=s.current)==null||i.scrollIntoView({behavior:"smooth"})},[e.length]),a.jsx(Pt,{className:Z("flex-1",n),"data-testid":"message-thread",children:a.jsx("div",{className:"space-y-1 p-4",children:t?a.jsx("div",{className:"flex flex-col gap-4 py-8",children:[1,2,3].map(i=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-muted animate-pulse"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-24 rounded bg-muted animate-pulse"}),a.jsx("div",{className:"h-4 w-full max-w-md rounded bg-muted animate-pulse"})]})]},i))}):e.length===0?a.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No messages yet. Send a message or use a slash command."}):e.map((i,o)=>a.jsx("div",{ref:o===e.length-1?s:void 0,children:a.jsx(Are,{message:i,currentUserId:r})},i.id))})})}function Rre({sessionId:e,onSend:t,onAttachClick:r,onToolSelect:n,disabled:s,isSending:i,availableTools:o=[],className:l}){const[c,u]=x.useState(""),[d,f]=x.useState(null),h=x.useCallback(g=>{g.preventDefault();const m=c.trim();!m||!e||(t(m,{toolName:d??void 0}),u(""),f(null))},[c,e,t,d]),p=!!(e&&c.trim()&&!s&&!i);return a.jsx("form",{onSubmit:h,className:Z("flex flex-col gap-2 border-t border-border bg-card p-4 transition-shadow duration-200",l),children:a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx(M,{type:"button",variant:"ghost",size:"icon",onClick:r,disabled:s||!e,"aria-label":"Attach file",className:"shrink-0",children:a.jsx(PH,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsx(ge,{value:c,onChange:g=>u(g.target.value),placeholder:"Type a message...",disabled:s||!e,className:"min-h-10 flex-1 rounded-md border-input bg-background px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Message input"}),o.length>0&&a.jsxs(Tt,{value:d??"",onValueChange:g=>{f(g||null),g&&n&&n(g)},disabled:s||!e,children:[a.jsxs(St,{className:"w-full sm:w-[140px]","aria-label":"Select tool",children:[a.jsx(Ly,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),a.jsx(Rt,{placeholder:"Tool"})]}),a.jsx(Nt,{children:o.map(g=>a.jsx(Ie,{value:g.id,children:g.name},g.id))})]})]}),a.jsx(M,{type:"submit",size:"icon",disabled:!p,"aria-label":"Send message",className:"shrink-0 transition-transform hover:scale-105 active:scale-95",children:i?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsx(Fu,{className:"h-4 w-4"})})]})})}function $re(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=x.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Mre(s,...t)]}function Mre(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Ire=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],UF=Ire.reduce((e,t)=>{const r=Ep(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),nN="Progress",sN=100,[Dre]=$re(nN),[Lre,Fre]=Dre(nN),BF=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Ure,...o}=e;(s||s===0)&&!FO(s)&&console.error(Bre(`${s}`,"Progress"));const l=FO(s)?s:sN;n!==null&&!UO(n,l)&&console.error(zre(`${n}`,"Progress"));const c=UO(n,l)?n:null,u=ov(c)?i(c,l):void 0;return a.jsx(Lre,{scope:r,value:c,max:l,children:a.jsx(UF.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ov(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":WF(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});BF.displayName=nN;var zF="ProgressIndicator",qF=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Fre(zF,r);return a.jsx(UF.div,{"data-state":WF(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});qF.displayName=zF;function Ure(e,t){return`${Math.round(e/t*100)}%`}function WF(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ov(e){return typeof e=="number"}function FO(e){return ov(e)&&!isNaN(e)&&e>0}function UO(e,t){return ov(e)&&!isNaN(e)&&e<=t&&e>=0}function Bre(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${sN}\`.`}function zre(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${sN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var VF=BF,qre=qF;const iN=x.forwardRef(({className:e,value:t,...r},n)=>a.jsx(VF,{ref:n,className:Z("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(qre,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));iN.displayName=VF.displayName;const Wre={pending:"secondary",running:"default",completed:"outline",failed:"destructive",approved:"outline",denied:"destructive"};function Vre({invocation:e,onApprove:t,onDeny:r,className:n}){const s=e.status==="running",i=e.status==="completed"||e.status==="running",o=e.output&&typeof e.output=="object"?JSON.stringify(e.output,null,2):e.output!=null?String(e.output):"";return a.jsxs(ee,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover",n),"data-invocation-id":e.id,children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ly,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-semibold",children:e.tool_name}),a.jsx(tt,{variant:Wre[e.status],className:"text-xs",children:e.status})]}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Dr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsxs(te,{className:"p-4",children:[s&&a.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Zn,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Running"}),a.jsx(iN,{value:void 0,className:"h-1.5 flex-1"})]}),o&&a.jsx("pre",{className:"max-h-48 overflow-auto rounded border border-border bg-secondary/50 p-3 text-xs text-foreground",children:o}),i&&t&&r&&a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(M,{size:"sm",variant:"outline",className:"gap-1.5",onClick:()=>r(e.id),children:[a.jsx(Uu,{className:"h-4 w-4"}),"Deny"]}),a.jsxs(M,{size:"sm",className:"gap-1.5",onClick:()=>t(e.id),children:[a.jsx(kp,{className:"h-4 w-4"}),"Approve"]})]})]})]})}function Hre({session:e,sessions:t,onSelectSession:r,currentSessionId:n,routingTargets:s=[],className:i}){return a.jsxs("aside",{className:Z("flex w-full flex-col gap-4 lg:w-72 lg:shrink-0",i),"aria-label":"Chat sidebar",children:[a.jsxs(ee,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(ne,{className:"pb-2",children:a.jsx(ae,{className:"text-sm font-semibold",children:"Session"})}),a.jsxs(te,{className:"text-sm text-muted-foreground",children:[e?a.jsx("p",{className:"font-medium text-foreground",children:e.title}):a.jsx("p",{children:"Main session (default)"}),e&&a.jsxs("p",{className:"mt-1 text-xs",children:["Status: ",a.jsx(tt,{variant:"outline",children:e.status})]})]})]}),t.length>1&&a.jsxs(ee,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(ne,{className:"pb-2",children:a.jsx(ae,{className:"text-sm font-semibold",children:"Sessions"})}),a.jsx(te,{children:a.jsx(Pt,{className:"h-32",children:a.jsx("ul",{className:"space-y-1",children:t.slice(0,10).map(o=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>r(o.id),className:Z("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors",n===o.id?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx(Cp,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:o.title})]})},o.id))})})})]}),a.jsxs(ee,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(ne,{className:"pb-2",children:a.jsx(ae,{className:"text-sm font-semibold",children:"Routing targets"})}),a.jsx(te,{className:"text-sm text-muted-foreground",children:s.length===0?a.jsx("p",{children:"No channels configured."}):a.jsx("ul",{className:"space-y-1",children:s.map(o=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(mI,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:o.name}),a.jsx(tt,{variant:"secondary",className:"text-xs",children:o.type})]},o.id))})})]})]})}function Kre({traces:e,isLoading:t,onExport:r,className:n}){const[s,i]=x.useState(!1);return a.jsxs(ee,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",n),children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[r&&a.jsx(M,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Export trace",children:a.jsx(ks,{className:"h-4 w-4"})}),a.jsx(M,{variant:"ghost",size:"icon",onClick:()=>i(o=>!o),"aria-label":s?"Collapse":"Expand",children:s?a.jsx(kd,{className:"h-4 w-4"}):a.jsx(oI,{className:"h-4 w-4"})})]})]}),s&&a.jsx(te,{className:"p-0",children:a.jsx(Pt,{className:"h-48",children:a.jsx("div",{className:"space-y-1 p-2",children:t?a.jsx("div",{className:"flex flex-col gap-2 py-4",children:[1,2,3].map(o=>a.jsx("div",{className:"h-8 w-full rounded bg-muted animate-pulse"},o))}):e.length===0?a.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No active run."}):e.map(o=>a.jsxs("div",{className:"rounded border border-border bg-secondary/30 px-3 py-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium",children:o.type}),a.jsx("span",{className:"text-muted-foreground",children:o.timestamp})]}),a.jsx("p",{className:"mt-1 text-muted-foreground",children:o.summary})]},o.id))})})})]})}function Gre({open:e,onOpenChange:t,attachments:r,onAdd:n,onRemove:s,onConfirm:i,maxAttachments:o=5,className:l}){const[c,u]=x.useState(""),[d,f]=x.useState(""),h=()=>{const g=c.trim();!g||r.length>=o||(n(g,d.trim()||void 0),u(""),f(""))},p=()=>{i(),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:Z("max-w-[640px]",l),"aria-describedby":"attachment-modal-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Manage attachments"}),a.jsxs(He,{id:"attachment-modal-description",children:["Add links or URLs to attach to your message. You can add up to"," ",o," attachments."]})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(Q,{htmlFor:"attach-url",children:"URL"}),a.jsx(ge,{id:"attach-url",type:"url",placeholder:"https://...",value:c,onChange:g=>u(g.target.value),className:"rounded-md border-input"})]}),a.jsxs("div",{className:"w-32 space-y-2",children:[a.jsx(Q,{htmlFor:"attach-name",children:"Name (optional)"}),a.jsx(ge,{id:"attach-name",placeholder:"Label",value:d,onChange:g=>f(g.target.value),className:"rounded-md border-input"})]}),a.jsx(M,{type:"button",variant:"secondary",size:"icon",onClick:h,disabled:!c.trim()||r.length>=o,className:"mt-6 shrink-0","aria-label":"Add attachment",children:a.jsx(wI,{className:"h-4 w-4"})})]}),r.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{children:["Attachments (",r.length,"/",o,")"]}),a.jsx(Pt,{className:"h-32 rounded-md border border-border p-2",children:a.jsx("ul",{className:"space-y-1",children:r.map((g,m)=>a.jsxs("li",{className:"flex items-center justify-between rounded bg-secondary/50 px-2 py-1.5 text-sm",children:[a.jsx("span",{className:"truncate",children:g.name??g.url}),a.jsx(M,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(m),"aria-label":"Remove attachment",children:a.jsx(Uu,{className:"h-4 w-4"})})]},m))})})]})]}),a.jsxs(Qe,{children:[a.jsx(M,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(M,{onClick:p,children:"Done"})]})]})})}const Yre={new:"Start new session",reset:"Reset session",stop:"Stop session"},Qre={new:"Start a new chat session. Your current session will remain in the list.",reset:"Clear all messages in this session. This cannot be undone.",stop:"Pause the current session. You can resume later."};function Xre({open:e,onOpenChange:t,action:r,onConfirm:n,isLoading:s,className:i}){if(!r)return null;const o=()=>{n(r),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:Z("max-w-[640px]",i),"aria-describedby":"session-dialog-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:Yre[r]}),a.jsx(He,{id:"session-dialog-description",children:Qre[r]})]}),a.jsxs(Qe,{children:[a.jsx(M,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(M,{onClick:o,disabled:s,children:s?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsxs(a.Fragment,{children:[r==="new"&&a.jsx(ar,{className:"mr-1.5 h-4 w-4"}),r==="reset"&&a.jsx(gI,{className:"mr-1.5 h-4 w-4"}),r==="stop"&&a.jsx(kh,{className:"mr-1.5 h-4 w-4"}),"Confirm"]})})]})]})})}const Jre=[{id:"browser",name:"Browser",description:"Fetch and summarize URLs"},{id:"search",name:"Search",description:"Web search"},{id:"code",name:"Code",description:"Run code snippets"}];function Zre(){const{data:e}=ox(),t=(e==null?void 0:e.user_id)??null,[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState([]),[h,p]=x.useState([]),{data:g=[],isLoading:m}=jre(),{data:v}=_re(r),{data:y=[],isLoading:b}=kre(r,200),{data:w=[]}=Ere(r,{limit:20}),S=Sre(),j=Nre(),_=Cre(),N=Ore(),k=Pre();x.useEffect(()=>{if(!m){if(g.length>0&&!r){n(g[0].id);return}g.length===0&&S.mutate({title:"New session"},{onSuccess:O=>n(O.id)})}},[m,g.length,g,r,S]);const C=x.useCallback((O,B)=>{r&&_.mutate({session_id:r,sender_id:t??void 0,role:"user",text:O,attachment_links:(B==null?void 0:B.attachmentUrls)??d},{onSuccess:()=>f([])})},[r,t,d,_]),T=x.useCallback(O=>{O==="new"?S.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:B=>{n(B.id),l(!1),i(null)}}):O==="reset"&&r?S.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:B=>{n(B.id),l(!1),i(null)}}):O==="stop"&&r&&j.mutate({id:r,data:{status:"paused"}},{onSuccess:()=>{l(!1),i(null)}})},[r,S,j]),I=x.useCallback(O=>{r&&N.mutate({id:O,sessionId:r})},[r,N]),E=x.useCallback(O=>{r&&k.mutate({id:O,sessionId:r})},[r,k]),U=O=>{i(O),l(!0)};return a.jsxs("div",{className:"flex h-[calc(100vh-8rem)] flex-col gap-4 animate-fade-in-up",children:[a.jsxs("header",{className:"flex items-center justify-between gap-4",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Chat Session"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>U("new"),className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(ar,{className:"h-4 w-4"}),"/new"]}),a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>U("reset"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(gI,{className:"h-4 w-4"}),"/reset"]}),a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>U("stop"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(kh,{className:"h-4 w-4"}),"/stop"]})]})]}),a.jsxs("div",{className:"grid flex-1 gap-4 overflow-hidden lg:grid-cols-3",children:[a.jsxs("div",{className:"flex min-h-0 flex-col lg:col-span-2",children:[a.jsxs(ee,{className:"flex flex-1 flex-col overflow-hidden rounded-lg border border-border bg-card shadow-card",children:[a.jsx(Tre,{messages:y,isLoading:b,currentUserId:t,className:"min-h-0"}),a.jsx(Rre,{sessionId:r,onSend:C,onAttachClick:()=>u(!0),disabled:!r,isSending:_.isPending,availableTools:Jre})]}),w.length>0&&a.jsx(Pt,{className:"mt-4 max-h-64 rounded-lg border border-border bg-card p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Tool invocations"}),w.map(O=>a.jsx(Vre,{invocation:O,onApprove:I,onDeny:E},O.id))]})})]}),a.jsxs("div",{className:"flex min-h-0 flex-col gap-4 overflow-auto",children:[a.jsx(Hre,{session:v??null,sessions:g,onSelectSession:n,currentSessionId:r,routingTargets:[]}),a.jsx(Kre,{traces:h,onExport:()=>p([])})]})]}),a.jsx(Gre,{open:c,onOpenChange:u,attachments:d,onAdd:(O,B)=>f(A=>[...A,{url:O,name:B}]),onRemove:O=>f(B=>B.filter((A,z)=>z!==O)),onConfirm:()=>{},maxAttachments:5}),a.jsx(Xre,{open:o,onOpenChange:l,action:s,onConfirm:T,isLoading:S.isPending||j.isPending})]})}const Qo={getChannels:async()=>{const{data:e,error:t}=await q.from("channels").select("*").order("last_event_at",{ascending:!1,nullsFirst:!1});if(t)throw new Error(t.message);return e??[]},getChannel:async e=>{const{data:t,error:r}=await q.from("channels").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createChannel:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("channels").insert(r).select().single();if(s)throw new Error(s.message);return n},updateChannel:async(e,t)=>{const{data:r,error:n}=await q.from("channels").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteChannel:async e=>{const{error:t}=await q.from("channels").delete().eq("id",e);if(t)throw new Error(t.message)},getAdapterConfig:async e=>{const{data:t,error:r}=await q.from("adapter_configurations").select("*").eq("channel_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertAdapterConfig:async e=>{const t=await Qo.getAdapterConfig(e.channel_id);if(t){const{data:i,error:o}=await q.from("adapter_configurations").update({dm_policy:e.dm_policy,group_policy:e.group_policy,mention_gating:e.mention_gating,webhook_url:e.webhook_url??t.webhook_url,polling_interval_seconds:e.polling_interval_seconds??t.polling_interval_seconds}).eq("channel_id",e.channel_id).select().single();if(o)throw new Error(o.message);return i}const r={channel_id:e.channel_id,dm_policy:e.dm_policy??"pairing",group_policy:e.group_policy??"mention",mention_gating:e.mention_gating??!0,webhook_url:e.webhook_url??null,polling_interval_seconds:e.polling_interval_seconds??null},{data:n,error:s}=await q.from("adapter_configurations").insert(r).select().single();if(s)throw new Error(s.message);return n},updateAdapterConfig:async(e,t)=>{const{data:r,error:n}=await q.from("adapter_configurations").update(t).eq("channel_id",e).select().single();if(n)throw new Error(n.message);return r},getDeliveryLogs:async(e,t)=>{if(!e)return[];let r=q.from("delivery_logs").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.eventType&&(r=r.eq("event_type",t.eventType)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createDeliveryLog:async e=>{const{data:t,error:r}=await q.from("delivery_logs").insert(e).select().single();if(r)throw new Error(r.message);return t}};function ene(e,t){return e().catch(()=>t)}const vs={all:["channels"],list:()=>[...vs.all,"list"],detail:e=>[...vs.all,"detail",e],adapterConfig:e=>[...vs.all,"adapterConfig",e],deliveryLogs:(e,t)=>[...vs.all,"deliveryLogs",e,t]};function tne(){return De({queryKey:vs.list(),queryFn:()=>ene(()=>Qo.getChannels(),[])})}function rne(e){return De({queryKey:vs.detail(e??""),queryFn:()=>e?Qo.getChannel(e):Promise.resolve(null),enabled:!!e})}function nne(){const e=je();return _e({mutationFn:t=>Qo.createChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:vs.list()}),V.success("Channel added")},onError:t=>{V.error(t.message||"Failed to add channel")}})}function sne(){const e=je();return _e({mutationFn:t=>Qo.deleteChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:vs.list()}),V.success("Channel removed")},onError:t=>{V.error(t.message||"Failed to remove channel")}})}function ine(e){return De({queryKey:vs.adapterConfig(e??""),queryFn:()=>e?Qo.getAdapterConfig(e):Promise.resolve(null),enabled:!!e})}function ane(){const e=je();return _e({mutationFn:t=>Qo.upsertAdapterConfig(t),onSuccess:(t,r)=>{const n=r.channel_id;e.invalidateQueries({queryKey:vs.adapterConfig(n)}),e.invalidateQueries({queryKey:vs.detail(n)}),V.success("Channel config saved")},onError:t=>{V.error(t.message||"Failed to save config")}})}function one(e,t){return De({queryKey:vs.deliveryLogs(e,t),queryFn:()=>e?Qo.getDeliveryLogs(e,t):Promise.resolve([]),enabled:!!e})}const ew={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},lne=Et({provider:gr(["whatsapp","telegram","slack","discord"]),display_name:Pe().optional()}),cne=Et({retrieval_mode:gr(["webhook","polling"]),webhook_url:Pe().url().optional().or(eN("")),polling_interval_seconds:ei.number().min(30).max(3600).optional()}),une=[{id:1,title:"Provider",description:"Select chat provider"},{id:2,title:"Retrieval",description:"Webhook or polling"},{id:3,title:"Provision",description:"QR or code if needed"},{id:4,title:"Confirm",description:"Finish setup"}];function dne({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const[s,i]=x.useState(1),o=kt({resolver:Ct(lne),defaultValues:{provider:"telegram",display_name:""}}),l=kt({resolver:Ct(cne),defaultValues:{retrieval_mode:"webhook",webhook_url:"",polling_interval_seconds:60}}),c=o.watch("provider"),u=l.watch("retrieval_mode"),d=async()=>{if(!(s===1&&!await o.trigger())&&!(s===2&&!await l.trigger())){if(s===4){const p=o.getValues(),g=l.getValues();r({provider:p.provider,display_name:p.display_name||null,webhook_url:u==="webhook"&&g.webhook_url?g.webhook_url:null,polling_interval_seconds:u==="polling"?g.polling_interval_seconds??60:null}),t(!1),i(1),o.reset(),l.reset();return}i(p=>p+1)}},f=()=>{s>1&&i(p=>p-1)},h=p=>{p||(i(1),o.reset(),l.reset()),t(p)};return a.jsx(Ge,{open:e,onOpenChange:h,children:a.jsxs(qe,{className:"max-w-lg","aria-describedby":"add-channel-wizard-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Add channel"}),a.jsx(He,{id:"add-channel-wizard-description",children:"Connect a chat channel adapter. Follow the steps to complete setup."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:une.map(p=>a.jsx("div",{className:Z("h-1 flex-1 rounded-full transition-colors",p.id<=s?"bg-primary":"bg-muted"),"aria-hidden":!0},p.id))}),s===1&&a.jsxs("form",{id:"wizard-step1",className:"space-y-4 py-4",onSubmit:o.handleSubmit(()=>i(2)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Provider"}),a.jsxs(Tt,{value:c,onValueChange:p=>o.setValue("provider",p),children:[a.jsx(St,{children:a.jsx(Rt,{placeholder:"Select provider"})}),a.jsx(Nt,{children:Object.keys(ew).map(p=>a.jsx(Ie,{value:p,children:ew[p]},p))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"display_name",children:"Display name (optional)"}),a.jsx(ge,{id:"display_name",placeholder:"e.g. Team Telegram",...o.register("display_name")})]})]}),s===2&&a.jsxs("form",{id:"wizard-step2",className:"space-y-4 py-4",onSubmit:l.handleSubmit(()=>i(3)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Message retrieval"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"webhook",checked:u==="webhook",onChange:()=>l.setValue("retrieval_mode","webhook"),className:"h-4 w-4 accent-primary"}),a.jsx(mI,{className:"h-4 w-4"}),"Webhook"]}),a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"polling",checked:u==="polling",onChange:()=>l.setValue("retrieval_mode","polling"),className:"h-4 w-4 accent-primary"}),a.jsx(ng,{className:"h-4 w-4"}),"Polling"]})]})]}),u==="webhook"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"webhook_url",children:"Webhook URL"}),a.jsx(ge,{id:"webhook_url",placeholder:"https://...",...l.register("webhook_url")}),l.formState.errors.webhook_url&&a.jsx("p",{className:"text-xs text-destructive",children:l.formState.errors.webhook_url.message})]}),u==="polling"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"polling_interval_seconds",children:"Polling interval (seconds)"}),a.jsx(ge,{id:"polling_interval_seconds",type:"number",min:30,max:3600,...l.register("polling_interval_seconds")})]})]}),s===3&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-border bg-card/50 p-8",children:[a.jsx(mS,{className:"mb-4 h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:c==="whatsapp"||c==="telegram"?"Scan the QR code with your app to link this channel. You can also use the pairing code shown in the next step.":"Complete OAuth in the provider dashboard if required, then continue."}),a.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Provisioning step is simulated. In production, QR and codes are generated by the gateway."})]})}),s===4&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4 text-sm",children:[a.jsx("p",{className:"font-medium",children:ew[c]}),o.getValues("display_name")&&a.jsx("p",{className:"text-muted-foreground",children:o.getValues("display_name")}),a.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Retrieval: ",l.getValues("retrieval_mode")==="webhook"?"Webhook":"Polling"]})]})}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[s>1?a.jsxs(M,{type:"button",variant:"outline",onClick:f,disabled:n,children:[a.jsx(aI,{className:"mr-2 h-4 w-4"}),"Back"]}):a.jsx("div",{}),a.jsx(M,{type:"button",onClick:d,disabled:n,children:s===4?n?"Adding":"Add channel":a.jsxs(a.Fragment,{children:["Next",a.jsx(rs,{className:"ml-2 h-4 w-4"})]})})]})]})})}const fne=Et({dm_policy:gr(["pairing","allowlist","open","disabled"]),group_policy:gr(["mention","open","disabled"]),mention_gating:Ho()}),BO={pairing:"Pairing required",allowlist:"Allowlist only",open:"Open to all",disabled:"Disabled"},zO={mention:"Mention required",open:"Open to all",disabled:"Disabled"};function hne({open:e,onOpenChange:t,channelId:r,channelName:n,config:s,onSubmit:i,isSubmitting:o=!1}){const l={dm_policy:(s==null?void 0:s.dm_policy)??"pairing",group_policy:(s==null?void 0:s.group_policy)??"mention",mention_gating:(s==null?void 0:s.mention_gating)??!0},{handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h,isDirty:p}}=kt({resolver:Ct(fne),defaultValues:l}),g=d("mention_gating");x.useEffect(()=>{e&&s&&f({dm_policy:s.dm_policy,group_policy:s.group_policy,mention_gating:s.mention_gating})},[e,s,f]);const m=y=>{i(y),f(y),t(!1)},v=y=>{y||f(l),t(y)};return a.jsx(Ge,{open:e,onOpenChange:v,children:a.jsxs(qe,{className:"max-w-lg","aria-describedby":"channel-policy-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Channel policy"}),a.jsx(He,{id:"channel-policy-description",children:n?`DM and group policies for ${n}`:"Set DM policy, group policy, and mention gating for this channel."})]}),a.jsxs("form",{id:"channel-policy-form",onSubmit:c(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"DM policy"}),a.jsxs(Tt,{value:d("dm_policy"),onValueChange:y=>u("dm_policy",y,{shouldDirty:!0}),children:[a.jsx(St,{className:Z(h.dm_policy&&"border-destructive"),children:a.jsx(Rt,{placeholder:"Select DM policy"})}),a.jsx(Nt,{children:Object.keys(BO).map(y=>a.jsx(Ie,{value:y,children:BO[y]},y))})]}),h.dm_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.dm_policy.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Group policy"}),a.jsxs(Tt,{value:d("group_policy"),onValueChange:y=>u("group_policy",y,{shouldDirty:!0}),children:[a.jsx(St,{className:Z(h.group_policy&&"border-destructive"),children:a.jsx(Rt,{placeholder:"Select group policy"})}),a.jsx(Nt,{children:Object.keys(zO).map(y=>a.jsx(Ie,{value:y,children:zO[y]},y))})]}),h.group_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.group_policy.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"mention_gating",children:"Mention gating"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Require @mention in groups to trigger the agent"})]}),a.jsx(Zr,{id:"mention_gating",checked:g,onCheckedChange:y=>u("mention_gating",y,{shouldDirty:!0})})]})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),a.jsx(M,{type:"submit",form:"channel-policy-form",disabled:!p||o,children:o?"Saving":"Save"})]})]})})}function pne({open:e,onOpenChange:t,log:r}){return r?a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-lg","aria-describedby":"delivery-error-description",children:[a.jsxs(We,{children:[a.jsxs(Ve,{className:"flex items-center gap-2",children:[a.jsx(uc,{className:"h-5 w-5 text-destructive"}),"Delivery error details"]}),a.jsxs(He,{id:"delivery-error-description",children:["Event: ",r.event_type,"  ",r.success?"Succeeded":"Failed"," "," ",QL(new Date(r.created_at),"PPp")]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Error details"}),a.jsx("pre",{className:"mt-2 max-h-48 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-sm",children:r.error_details??"No error message recorded."})]}),r.metadata&&Object.keys(r.metadata).length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Metadata"}),a.jsx("pre",{className:"mt-2 max-h-32 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-xs",children:JSON.stringify(r.metadata,null,2)})]})]})]})}):null}const qO={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},mne={active:"success",inactive:"secondary",error:"destructive",provisioning:"warning"};function gne(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,f]=x.useState(""),{data:h=[],isLoading:p}=tne(),{data:g}=rne(r),{data:m}=ine(r),{data:v=[]}=one(r,{limit:50}),y=nne(),b=sne(),w=ane(),S=async N=>{const k=await y.mutateAsync({provider:N.provider,display_name:N.display_name,status:"provisioning"});await w.mutateAsync({channel_id:k.id,dm_policy:"pairing",group_policy:"mention",mention_gating:!0,webhook_url:N.webhook_url??null,polling_interval_seconds:N.polling_interval_seconds??null}),n(k.id),t(!1)},j=N=>{r&&w.mutate({channel_id:r,dm_policy:N.dm_policy,group_policy:N.group_policy,mention_gating:N.mention_gating})},_=N=>{l(N),u(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Channels & Adapters"}),a.jsxs(M,{onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}),a.jsxs(Ko,{defaultValue:"channels",className:"space-y-4",children:[a.jsxs(Ta,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsx(Vt,{value:"channels",children:"Channels"}),a.jsx(Vt,{value:"logs",children:"Delivery logs"}),a.jsx(Vt,{value:"test",children:"Test console"})]}),a.jsx(Ht,{value:"channels",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Channels list"}),a.jsx(ve,{children:"Manage chat channel adapters and per-channel policies."})]}),a.jsx(te,{children:p?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>a.jsx(we,{className:"h-16 w-full rounded-lg"},N))}):h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ng,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No channels added. Use Add Channel to connect WhatsApp, Telegram, Slack, or Discord."}),a.jsxs(M,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}):a.jsx(Pt,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:h.map(N=>a.jsxs("div",{className:Z("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",r===N.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>n(N.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(ng,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.display_name||qO[N.provider]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[qO[N.provider],N.last_event_at&&`  Last event ${Dr(new Date(N.last_event_at),{addSuffix:!0})}`]})]}),a.jsx(tt,{variant:mne[N.status],className:"shrink-0",children:N.status}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.success_rate.toFixed(0),"% success"]})]}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsxs(M,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(Gl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(wa,{align:"end",children:[a.jsxs(pr,{onClick:()=>{n(N.id),i(!0)},children:[a.jsx(ua,{className:"mr-2 h-4 w-4"}),"Configure policy"]}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this channel?")&&(b.mutate(N.id),r===N.id&&n(null))},children:[a.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},N.id))})})})]}),a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Channel config"}),a.jsx(ve,{children:"DM policy, group policy, mention gating."})]}),a.jsx(te,{children:r?a.jsx("div",{className:"space-y-4",children:m===void 0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{className:"h-10 w-full"}),a.jsx(we,{className:"h-10 w-full"}),a.jsx(we,{className:"h-12 w-full"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"DM policy"}),a.jsx("span",{className:"font-medium capitalize",children:(m==null?void 0:m.dm_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Group policy"}),a.jsx("span",{className:"font-medium capitalize",children:(m==null?void 0:m.group_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Mention gating"}),a.jsx("span",{className:"font-medium",children:m!=null&&m.mention_gating?"On":"Off"})]})]}),a.jsxs(M,{variant:"outline",className:"w-full",onClick:()=>i(!0),children:[a.jsx(ua,{className:"mr-2 h-4 w-4"}),"Edit policy"]})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ua,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel to configure."})]})})]})]})}),a.jsx(Ht,{value:"logs",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Delivery logs"}),a.jsxs(ve,{children:["Recent inbound/outbound events",r&&" for selected channel"]})]}),a.jsx(te,{children:r?v.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Mo,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No delivery logs yet."})]}):a.jsx(Pt,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-2",children:v.map(N=>a.jsx("div",{className:Z("flex items-center justify-between rounded-lg border p-3 text-sm",N.success?"border-border":"border-destructive/50 bg-destructive/5"),children:a.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[N.success?a.jsx(Mo,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx($y,{className:"h-4 w-4 shrink-0 text-destructive"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.event_type}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Dr(new Date(N.created_at),{addSuffix:!0})})]}),!N.success&&N.error_details&&a.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>_(N),className:"shrink-0",children:[a.jsx(My,{className:"mr-1 h-4 w-4"}),"Details"]})]})},N.id))})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ng,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to view delivery logs."})]})})]})}),a.jsx(Ht,{value:"test",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Test console"}),a.jsx(ve,{children:"Send test messages through the selected channel."})]}),a.jsx(te,{children:r?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{htmlFor:"test-message",className:"text-sm font-medium",children:"Test message"}),a.jsx(ge,{id:"test-message",placeholder:"Type a message to send...",value:d,onChange:N=>f(N.target.value),className:"min-h-[80px]"})]}),a.jsxs(M,{disabled:!d.trim(),onClick:()=>{f("")},children:[a.jsx(Fu,{className:"mr-2 h-4 w-4"}),"Send test message"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Test messages are sent through the gateway. Roundtrip and errors appear in Delivery logs."})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Fu,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to test."})]})})]})})]}),a.jsx(dne,{open:e,onOpenChange:t,onSubmit:S,isSubmitting:y.isPending||w.isPending}),a.jsx(hne,{open:s,onOpenChange:i,channelId:r??"",channelName:(g==null?void 0:g.display_name)??(g==null?void 0:g.provider),config:m??null,onSubmit:j,isSubmitting:w.isPending}),a.jsx(pne,{open:c,onOpenChange:u,log:o})]})}function vne(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skills Library"}),a.jsx(M,{variant:"outline",asChild:!0,children:a.jsxs(me,{to:"/skill-editor",children:[a.jsx(lS,{className:"mr-2 h-4 w-4"}),"Skill Editor"]})})]}),a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Installed skills"}),a.jsx(ve,{children:"Enable/disable and manage local skills."})]}),a.jsx(te,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills installed. Browse the registry below."})})]}),a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Registry browser"}),a.jsx(ve,{children:"Browse and install skills from the registry."})]}),a.jsxs(te,{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(yI,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{placeholder:"Search skills...",className:"pl-9"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No results. (Registry integration placeholder.)"})]})]}),a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Skill detail"}),a.jsx(ve,{children:"SKILL.md render, frontmatter, permissions, provenance. Install flow: gating checks, env prompts."})]}),a.jsx(te,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to view details."})})]})]})}const Un="/skills",Ra={list:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return be.get(`${Un}${t?`?${t}`:""}`)},get:e=>be.get(`${Un}/${e}`),create:e=>be.post(Un,e),update:(e,t)=>be.patch(`${Un}/${e}`,t),delete:e=>be.delete(`${Un}/${e}`),getTestRuns:(e,t)=>{const r=t?new URLSearchParams(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)])).toString():"";return be.get(`${Un}/${e}/test-runs${r?`?${r}`:""}`)},getTestRun:(e,t)=>be.get(`${Un}/${e}/test-runs/${t}`),runTest:(e,t)=>be.post(`${Un}/${e}/test-run`,t??{}),abortTestRun:(e,t)=>be.post(`${Un}/${e}/test-runs/${t}/abort`,{}),checkRequirements:e=>be.get(`${Un}/${e}/check-requirements`),getVersions:e=>be.get(`${Un}/${e}/versions`),createVersion:(e,t)=>be.post(`${Un}/${e}/versions`,t),commit:(e,t)=>be.post(`${Un}/${e}/commit`,t)};function dx(e,t){return e().catch(()=>t)}const Qr={all:["skills"],list:e=>[...Qr.all,"list",e],detail:e=>[...Qr.all,"detail",e],testRuns:(e,t)=>[...Qr.all,"test-runs",e,t],testRun:(e,t)=>[...Qr.all,"test-run",e,t],versions:e=>[...Qr.all,"versions",e],gating:e=>[...Qr.all,"gating",e]};function yne(e){return De({queryKey:Qr.list(e),queryFn:()=>dx(()=>Ra.list(e),[])})}function xne(e){return De({queryKey:Qr.detail(e??""),queryFn:()=>e?dx(()=>Ra.get(e),null):Promise.resolve(null),enabled:!!e})}function bne(){const e=je();return _e({mutationFn:t=>Ra.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.list()}),V.success("Skill created")},onError:t=>{V.error(t.message||"Failed to create skill")}})}function wne(){const e=je();return _e({mutationFn:({id:t,data:r})=>Ra.update(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Qr.list()}),e.invalidateQueries({queryKey:Qr.detail(r)}),V.success("Skill saved")},onError:t=>{V.error(t.message||"Failed to save skill")}})}function jne(e,t){return De({queryKey:Qr.testRuns(e??"",t),queryFn:()=>e?dx(()=>Ra.getTestRuns(e,t),[]):Promise.resolve([]),enabled:!!e})}function _ne(){const e=je();return _e({mutationFn:({skillId:t,payload:r})=>Ra.runTest(t,r),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:Qr.testRuns(r)}),V.success("Test run started")},onError:t=>{V.error(t.message||"Failed to run skill test")}})}function Sne(e){return De({queryKey:Qr.versions(e??""),queryFn:()=>e?dx(()=>Ra.getVersions(e),[]):Promise.resolve([]),enabled:!!e})}function Nne(e){return De({queryKey:Qr.gating(e??""),queryFn:()=>e?Ra.checkRequirements(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}function kne(){const e=je();return _e({mutationFn:({skillId:t,message:r,sign:n})=>Ra.commit(t,{message:r,sign:n}),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:Qr.detail(r)}),e.invalidateQueries({queryKey:Qr.versions(r)}),V.success("Changes committed")},onError:t=>{V.error(t.message||"Failed to commit")}})}const Cne=Et({name:Pe().min(1,"Name is required"),version:Pe().min(1,"Version is required"),description:Pe().optional(),permissions:Pe().optional(),env_keys:Pe().optional()}),tw={name:"",version:"1.0.0",description:"",permissions:"",env_keys:""};function Ene({open:e,onOpenChange:t,initialValues:r,onSubmit:n,isSubmitting:s=!1}){const i=()=>({...tw,name:(r==null?void 0:r.name)??"",version:(r==null?void 0:r.version)??"1.0.0",description:(r==null?void 0:r.description)??"",permissions:Array.isArray(r==null?void 0:r.permissions)?r.permissions.join(", "):(r==null?void 0:r.permissions)??"",env_keys:r!=null&&r.env_keys?typeof r.env_keys=="object"?Object.keys(r.env_keys).join(", "):String(r.env_keys):""}),{register:o,handleSubmit:l,reset:c,formState:{errors:u}}=kt({resolver:Ct(Cne),defaultValues:i()});x.useEffect(()=>{e&&c(i())},[e]);const d=h=>{const p={name:h.name,version:h.version,description:h.description||void 0,permissions:h.permissions?h.permissions.split(",").map(g=>g.trim()).filter(Boolean):void 0,env_keys:h.env_keys?h.env_keys.split(",").map(g=>g.trim()).filter(Boolean):void 0};n(p),c(tw),t(!1)},f=h=>{h||c(tw),t(h)};return a.jsx(Ge,{open:e,onOpenChange:f,children:a.jsxs(qe,{className:"max-w-lg","aria-describedby":"frontmatter-dialog-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Edit frontmatter"}),a.jsx(He,{id:"frontmatter-dialog-description",children:"YAML frontmatter fields for SKILL.md (name, version, permissions, env)."})]}),a.jsxs("form",{onSubmit:l(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"frontmatter-name",children:"Name"}),a.jsx(ge,{id:"frontmatter-name",placeholder:"skill-name",...o("name"),className:Z(u.name&&"border-destructive")}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"frontmatter-version",children:"Version"}),a.jsx(ge,{id:"frontmatter-version",placeholder:"1.0.0",...o("version"),className:Z(u.version&&"border-destructive")}),u.version&&a.jsx("p",{className:"text-xs text-destructive",children:u.version.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"frontmatter-description",children:"Description (optional)"}),a.jsx(ge,{id:"frontmatter-description",placeholder:"Short description",...o("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"frontmatter-permissions",children:"Permissions (comma-separated)"}),a.jsx(ge,{id:"frontmatter-permissions",placeholder:"network, exec, read",...o("permissions")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"frontmatter-env",children:"Env keys (comma-separated)"}),a.jsx(ge,{id:"frontmatter-env",placeholder:"API_KEY, GMAIL_CREDENTIALS",...o("env_keys")})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx(M,{type:"submit",disabled:s,children:s?"Saving":"Save"})]})]})]})})}const One=Et({message:Pe().optional(),sign:Ho().optional()}),rw={message:"",sign:!1};function Pne({open:e,onOpenChange:t,skillName:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,watch:l,setValue:c,reset:u,formState:{errors:d}}=kt({resolver:Ct(One),defaultValues:rw}),f=l("sign"),h=g=>{n({message:g.message||void 0,sign:g.sign}),u(rw),t(!1)},p=g=>{g||u(rw),t(g)};return a.jsx(Ge,{open:e,onOpenChange:p,children:a.jsxs(qe,{className:"max-w-lg","aria-describedby":"commit-dialog-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Commit changes"}),a.jsx(He,{id:"commit-dialog-description",children:r?`Finalize and commit changes for "${r}". Optionally sign the package.`:"Finalize and commit your skill. Optionally sign the package."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"commit-message",children:"Commit message (optional)"}),a.jsx(ge,{id:"commit-message",placeholder:"e.g. Add Gmail Pub/Sub gating",...i("message"),className:Z(d.message&&"border-destructive")}),d.message&&a.jsx("p",{className:"text-xs text-destructive",children:d.message.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"commit-sign",children:"Sign package"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally sign this version for provenance."})]}),a.jsx(Zr,{id:"commit-sign",checked:f,onCheckedChange:g=>c("sign",g)})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),a.jsx(M,{type:"submit",disabled:s,children:s?"Committing":"Commit"})]})]})]})})}function Ane({open:e,onClose:t,requirements:r,passed:n,title:s="Gating checks",className:i}){return e?a.jsx("div",{className:Z("absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-background/95 p-6 backdrop-blur-sm",i),role:"dialog","aria-labelledby":"gating-overlay-title","aria-describedby":"gating-overlay-desc",children:a.jsxs("div",{className:"relative w-full max-w-md rounded-lg border border-border bg-card p-6 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("h2",{id:"gating-overlay-title",className:"text-lg font-semibold",children:s}),a.jsx(M,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close",children:a.jsx(Uu,{className:"h-4 w-4"})})]}),a.jsx("p",{id:"gating-overlay-desc",className:"mt-1 text-sm text-muted-foreground",children:n?"All requirements are met. You can save and deploy.":"Resolve the items below before saving or deploying."}),a.jsx("ul",{className:"mt-4 space-y-2",role:"list",children:r.map(o=>a.jsxs("li",{className:Z("flex items-start gap-3 rounded-md border border-border px-3 py-2 text-sm",o.met?"bg-success/10 border-success/30":"bg-destructive/10 border-destructive/30"),children:[o.met?a.jsx(lI,{className:"h-5 w-5 shrink-0 text-success","aria-hidden":!0}):a.jsx(uc,{className:"h-5 w-5 shrink-0 text-destructive","aria-hidden":!0}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium",children:o.label}),o.message&&a.jsx("p",{className:"mt-0.5 text-muted-foreground",children:o.message})]})]},o.id))}),r.length===0&&a.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"No gating checks defined."}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx(M,{onClick:t,children:"Close"})})]})}):null}const Rc=`# Skill name

Short description of what this skill does.

## Requirements

- List gating requirements (env vars, permissions, etc.)

## Usage

How to use this skill from chat or cron.
`;function Tne(){const{skillId:e}=$z(),t=Vo(),[r,n]=x.useState("editor"),[s,i]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(!1),{data:g=[],isLoading:m}=yne(),{data:v,isLoading:y}=xne(e??null),{data:b=[]}=jne(e??null,{limit:5}),{data:w=[]}=Sne(e??null),{data:S}=Nne(e??null),j=wne(),_=_ne(),N=kne(),k=bne(),C=v??null,T=C&&(s!==C.content||o!==C.name),I=x.useCallback(()=>{C?(i(C.content||Rc),l(C.name||"")):(i(Rc),l(""))},[C]);x.useEffect(()=>{C?(i(C.content||Rc),l(C.name||"")):e||(i(Rc),l(""))},[e,C==null?void 0:C.id,C==null?void 0:C.content,C==null?void 0:C.name]);const E=$=>{t(`/skill-editor/${$}`)},U=()=>{!e||!C||j.mutate({id:e,data:{content:s,name:o||C.name}},{onSuccess:()=>I()})},O=()=>{e&&_.mutate({skillId:e})},B=$=>{e&&N.mutate({skillId:e,...$},{onSuccess:()=>f(!1)})},A=$=>{!e||!C||j.mutate({id:e,data:{frontmatter:{...C.frontmatter,...$}}},{onSuccess:()=>{u(!1)}})},z=b[0],L=S&&!S.passed,R=(S==null?void 0:S.requirements)??[];return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skill Editor"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>t("/skill-editor"),"aria-label":"Clear selection",children:[a.jsx(SH,{className:"mr-1 h-4 w-4"}),"All skills"]}),a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>u(!0),disabled:!e,"aria-label":"Edit frontmatter",children:[a.jsx(TH,{className:"mr-1 h-4 w-4"}),"Frontmatter"]}),a.jsxs(M,{variant:"outline",size:"sm",onClick:U,disabled:!e||!T||j.isPending,children:[a.jsx(vI,{className:"mr-1 h-4 w-4"}),j.isPending?"Saving":"Save"]}),a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>p(!0),className:L?"border-warning text-warning":"","aria-label":"Gating checks",children:[a.jsx(uc,{className:"mr-1 h-4 w-4"}),"Gating"]}),a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>f(!0),disabled:!e,children:[a.jsx(NH,{className:"mr-1 h-4 w-4"}),"Commit"]}),a.jsxs(M,{size:"sm",onClick:O,disabled:!e||_.isPending,children:[a.jsx(ca,{className:"mr-1 h-4 w-4"}),_.isPending?"Running":"Test run"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[a.jsxs(ee,{className:"lg:col-span-1",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsx(ae,{className:"text-sm",children:"Skills"}),a.jsx(ve,{children:"Select a skill to edit."})]}),a.jsxs(te,{className:"pt-0",children:[m?a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{className:"h-9 w-full"}),a.jsx(we,{className:"h-9 w-full"}),a.jsx(we,{className:"h-9 w-4/5"})]}):g.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet."}),a.jsxs(M,{size:"sm",variant:"outline",className:"w-full",onClick:()=>k.mutate({user_id:"",name:"Untitled Skill",content:Rc},{onSuccess:$=>{t(`/skill-editor/${$.id}`)}}),disabled:k.isPending,children:[a.jsx(ar,{className:"mr-1 h-4 w-4"}),k.isPending?"Creating":"New skill"]})]}):a.jsx(Pt,{className:"h-[200px] pr-2",children:a.jsx("ul",{className:"space-y-0.5",role:"list",children:g.map($=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>E($.id),className:Z("flex w-full items-center gap-2 rounded-md px-3 py-2 text-left text-sm transition-colors hover:bg-secondary",e===$.id&&"bg-primary/15 text-primary"),children:[a.jsx(Wr,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:$.name}),a.jsx(rs,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})},$.id))})}),a.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Versions"}),e&&a.jsx(Pt,{className:"h-[120px] pr-2",children:w.length===0?a.jsx("p",{className:"text-xs text-muted-foreground",children:"No versions yet."}):a.jsx("ul",{className:"space-y-1 text-xs",children:w.slice(0,5).map($=>a.jsxs("li",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"truncate font-mono",children:$.version_number}),a.jsx("span",{className:"text-muted-foreground shrink-0",children:$.changes?"":""})]},$.id))})}),!e&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a skill to see versions."})]})]})]}),a.jsx("div",{className:"space-y-4 lg:col-span-1",children:y&&e?a.jsx(ee,{children:a.jsx(te,{className:"flex items-center justify-center py-12",children:a.jsx(we,{className:"h-8 w-48"})})}):a.jsxs(a.Fragment,{children:[a.jsxs(Ko,{value:r,onValueChange:n,className:"w-full",children:[a.jsxs(Ta,{className:"grid w-full grid-cols-3",children:[a.jsx(Vt,{value:"editor",children:"SKILL.md editor"}),a.jsx(Vt,{value:"preview",children:"Preview"}),a.jsx(Vt,{value:"frontmatter",children:"Frontmatter"})]}),a.jsx(Ht,{value:"editor",className:"mt-4",children:a.jsxs(ee,{className:"relative overflow-hidden",children:[h&&a.jsx(Ane,{open:h,onClose:()=>p(!1),requirements:R.map($=>({id:$.id,label:$.label,met:$.met,message:$.message})),passed:(S==null?void 0:S.passed)??!0}),a.jsxs(te,{className:"pt-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(Q,{htmlFor:"skill-name",className:"text-muted-foreground",children:"Skill name"}),a.jsx(ge,{id:"skill-name",value:o,onChange:$=>l($.target.value),placeholder:"my-skill",className:"mt-1 max-w-xs font-medium"})]}),a.jsx("textarea",{"aria-label":"SKILL.md content",className:"min-h-[300px] w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:Rc,value:s,onChange:$=>i($.target.value)})]})]})}),a.jsx(Ht,{value:"preview",className:"mt-4",children:a.jsx(ee,{children:a.jsx(te,{className:"pt-6",children:a.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-semibold prose-p:text-muted-foreground prose-code:text-sm",children:a.jsx("pre",{className:"whitespace-pre-wrap rounded-md bg-muted/50 p-4 font-sans text-sm",children:s||"Nothing to preview."})})})})}),a.jsx(Ht,{value:"frontmatter",className:"mt-4",children:a.jsx(ee,{children:a.jsxs(te,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:'Edit YAML frontmatter (name, version, permissions, env) via the Frontmatter button in the header, or open the "Frontmatter" dialog.'}),(C==null?void 0:C.frontmatter)&&Object.keys(C.frontmatter).length>0&&a.jsx("pre",{className:"mt-4 rounded-md bg-muted/50 p-4 font-mono text-xs",children:JSON.stringify(C.frontmatter,null,2)})]})})})]}),a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(ae,{className:"text-sm",children:"Test runner"}),a.jsx(ve,{children:"Run skill in sandbox and view logs."})]}),a.jsx(te,{children:z?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Status: ",z.status]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(z.created_at).toLocaleString()})]}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-muted p-4 text-xs text-muted-foreground",children:z.logs||"No logs."})]}):a.jsx("pre",{className:"rounded-md bg-muted p-4 text-xs text-muted-foreground",children:'No test runs yet. Click "Test run" to execute.'})})]})]})})]}),a.jsx(Ene,{open:c,onOpenChange:u,initialValues:C==null?void 0:C.frontmatter,onSubmit:A,isSubmitting:j.isPending}),a.jsx(Pne,{open:d,onOpenChange:f,skillName:C==null?void 0:C.name,onSubmit:B,isSubmitting:N.isPending})]})}const Rne=10,nw=["voice_wake","talk_mode","remote_exec","browser_proxy","camera_capture"];function WO(e){return{voice_wake:"Wake word detection",talk_mode:"Voice conversation mode",remote_exec:"Remote command execution",browser_proxy:"Browser/CDP proxy",camera_capture:"Camera and screen capture"}[e]??e}const Ln={getNodes:async()=>{const{data:e,error:t}=await q.from("nodes").select("*").order("last_active_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getNode:async e=>{const{data:t,error:r}=await q.from("nodes").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createNode:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("nodes").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNode:async(e,t)=>{const{data:r,error:n}=await q.from("nodes").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteNode:async e=>{const{error:t}=await q.from("nodes").delete().eq("id",e);if(t)throw new Error(t.message)},getNodeCapabilities:async e=>{const{data:t,error:r}=await q.from("node_capabilities").select("*").eq("node_id",e).order("capability_key");if(r)throw new Error(r.message);return t??[]},getNodeCapability:async(e,t)=>{const{data:r,error:n}=await q.from("node_capabilities").select("*").eq("node_id",e).eq("capability_key",t).single();if(n){if(n.code==="PGRST116")return null;throw new Error(n.message)}return r},upsertNodeCapability:async e=>{const{data:t,error:r}=await q.from("node_capabilities").upsert({node_id:e.node_id,capability_key:e.capability_key,status:e.status??"enabled",description:e.description??null,configurations:e.configurations??{}},{onConflict:"node_id,capability_key"}).select().single();if(r)throw new Error(r.message);return t},updateNodeCapability:async(e,t)=>{const{data:r,error:n}=await q.from("node_capabilities").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getNodeApprovals:async e=>{let t=q.from("node_approvals").select("*").order("created_at",{ascending:!1});e!=null&&e.nodeId&&(t=t.eq("node_id",e.nodeId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},createNodeApproval:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,requester_id:t.id},{data:n,error:s}=await q.from("node_approvals").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNodeApproval:async(e,t)=>{const{data:r,error:n}=await q.from("node_approvals").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},startPairing:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const t=$ne(),r=new Date;r.setMinutes(r.getMinutes()+Rne);const n={user_id:e.id,pairing_code:t,expires_at:r.toISOString()},{data:s,error:i}=await q.from("pairing_requests").insert(n).select().single();if(i)throw new Error(i.message);return s},claimPairing:async(e,t)=>{const{data:{user:r}}=await q.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await q.from("pairing_requests").select("*").eq("pairing_code",e.trim()).eq("user_id",r.id).is("node_id",null).gt("expires_at",new Date().toISOString()).single();if(s||!n)throw new Error("Invalid or expired pairing code");const i=await Ln.createNode({name:t??`Node ${e.slice(-6)}`,status:"paired",connection_health:"healthy",capabilities:nw});await q.from("pairing_requests").update({node_id:i.id}).eq("id",n.id);for(const o of nw)await Ln.upsertNodeCapability({node_id:i.id,capability_key:o,status:"enabled",description:WO(o)});return i},getDefaultCapabilityKeys:()=>nw,getCapabilityDescription:WO};function $ne(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function HF(e,t){return e().catch(()=>t)}const $r={all:["nodes"],list:()=>[...$r.all,"list"],detail:e=>[...$r.all,"detail",e],capabilities:e=>[...$r.all,"capabilities",e],approvals:e=>[...$r.all,"approvals",e],pairing:()=>[...$r.all,"pairing"]};function Mne(){return De({queryKey:$r.list(),queryFn:()=>HF(()=>Ln.getNodes(),[])})}function Ine(e){return De({queryKey:$r.detail(e??""),queryFn:()=>e?Ln.getNode(e):Promise.resolve(null),enabled:!!e})}function Dne(){const e=je();return _e({mutationFn:({id:t,data:r})=>Ln.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:$r.list()}),e.invalidateQueries({queryKey:$r.detail(r)}),V.success("Node updated")},onError:t=>{V.error(t.message||"Failed to update node")}})}function Lne(){const e=je();return _e({mutationFn:t=>Ln.deleteNode(t),onSuccess:()=>{e.invalidateQueries({queryKey:$r.list()}),e.invalidateQueries({queryKey:$r.approvals()}),V.success("Node removed")},onError:t=>{V.error(t.message||"Failed to remove node")}})}function Fne(e){return De({queryKey:$r.capabilities(e??""),queryFn:()=>e?Ln.getNodeCapabilities(e):Promise.resolve([]),enabled:!!e})}function Une(){const e=je();return _e({mutationFn:t=>Ln.upsertNodeCapability(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:$r.capabilities(r.node_id)}),e.invalidateQueries({queryKey:$r.detail(r.node_id)}),V.success("Capability updated")},onError:t=>{V.error(t.message||"Failed to update capability")}})}function Bne(e){return De({queryKey:$r.approvals(e),queryFn:()=>HF(()=>Ln.getNodeApprovals(e),[])})}function zne(){const e=je();return _e({mutationFn:({id:t,data:r})=>Ln.updateNodeApproval(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:$r.approvals()}),V.success("Approval updated")},onError:t=>{V.error(t.message||"Failed to update approval")}})}function qne(){const e=je();return _e({mutationFn:()=>Ln.startPairing(),onSuccess:()=>{e.invalidateQueries({queryKey:$r.pairing()})},onError:t=>{V.error(t.message||"Failed to start pairing")}})}function Wne(){const e=je();return _e({mutationFn:({code:t,nodeName:r})=>Ln.claimPairing(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:$r.list()}),e.invalidateQueries({queryKey:$r.pairing()}),V.success("Device paired")},onError:t=>{V.error(t.message||"Failed to pair device")}})}function Vne(e){const t=new Date(e).getTime(),r=Date.now(),n=Math.max(0,Math.floor((t-r)/1e3)),s=Math.floor(n/60),i=n%60;return`${s}:${i.toString().padStart(2,"0")}`}function Hne({open:e,onOpenChange:t,pairingRequest:r,onStartPairing:n,isStartingPairing:s,onPaired:i}){const[o,l]=x.useState(""),[c,u]=x.useState(""),[d,f]=x.useState(!1),h=Wne();x.useEffect(()=>{if(!r||!e)return;const v=()=>l(Vne(r.expires_at));v();const y=setInterval(v,1e3);return()=>clearInterval(y)},[r,e]);const p=()=>{r&&(navigator.clipboard.writeText(r.pairing_code),f(!0),setTimeout(()=>f(!1),2e3))},g=async()=>{if(c.trim())try{await h.mutateAsync({code:c.trim()}),i==null||i(),t(!1),u("")}catch{}},m=r&&new Date(r.expires_at).getTime()<=Date.now();return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsx(qe,{className:"max-w-[640px]","aria-describedby":"pairing-description",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Pair device"}),a.jsx(He,{id:"pairing-description",children:"Scan the QR code or enter the code on your device to pair. Code expires in 10 minutes."})]}),r?a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:Z("flex h-40 w-40 flex-col items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted/30",m&&"opacity-60"),children:[a.jsx(mS,{className:"h-16 w-16 text-muted-foreground"}),a.jsx("span",{className:"mt-2 text-xs text-muted-foreground",children:"QR code"}),a.jsx("p",{className:"mt-1 text-center text-xs text-muted-foreground",children:"Scan with your device app"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(vo,{className:"h-4 w-4"}),a.jsx("span",{children:m?"Expired":`Expires in ${o}`})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-muted-foreground",children:"One-time code"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("code",{className:"flex-1 rounded border border-border bg-muted/50 px-3 py-2 text-lg font-mono tracking-widest",children:r.pairing_code}),a.jsx(M,{variant:"outline",size:"icon",onClick:p,"aria-label":"Copy code",children:d?a.jsx(kp,{className:"h-4 w-4 text-success"}):a.jsx(cI,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter this code on your device if you cannot scan the QR code."}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx(Q,{htmlFor:"manual-code",className:"text-muted-foreground",children:"Or enter a code from another device"}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx(ge,{id:"manual-code",placeholder:"e.g. ABCD1234",value:c,onChange:v=>u(v.target.value.toUpperCase().slice(0,12)),className:"font-mono uppercase tracking-wider"}),a.jsx(M,{onClick:g,disabled:!c.trim()||h.isPending,children:h.isPending?"Pairing":"Pair"})]})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-8",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Start pairing to generate a QR code and one-time code."}),a.jsx(M,{onClick:n,disabled:s,className:"min-w-[160px]",children:s?"Generating":"Start pairing"})]}),a.jsxs(Qe,{children:[a.jsx(M,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r&&!m&&a.jsx(M,{variant:"outline",onClick:n,disabled:s,children:"New code"})]})]})})})}const Kne={pending:{label:"Pending",variant:"secondary",icon:vo},approved:{label:"Approved",variant:"success",icon:Mo},denied:{label:"Denied",variant:"destructive",icon:$y}};function Gne({open:e,onOpenChange:t,approval:r,node:n,onApprove:s,onDeny:i,isUpdating:o=!1}){var f;if(!r)return null;const{label:l,variant:c,icon:u}=Kne[r.status],d=r.status==="pending";return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-md","aria-describedby":"approval-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Approval request"}),a.jsx(He,{id:"approval-description",children:"Review and approve or deny this capability or execution request."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(tt,{variant:c,className:"gap-1",children:[a.jsx(u,{className:"h-3 w-3"}),l]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:Dr(new Date(r.created_at),{addSuffix:!0})})]}),a.jsxs("dl",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Action"}),a.jsx("dd",{className:"font-medium capitalize",children:r.action_type.replace(/_/g," ")})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Node"}),a.jsx("dd",{className:"font-medium",children:(n==null?void 0:n.name)??((f=n==null?void 0:n.id)==null?void 0:f.slice(0,8))??""})]}),r.capability_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Capability"}),a.jsxs("dd",{className:"font-medium",children:[r.capability_id.slice(0,8),""]})]})]})]}),a.jsxs(Qe,{children:[a.jsx(M,{variant:"outline",onClick:()=>t(!1),children:"Close"}),d&&a.jsxs(a.Fragment,{children:[a.jsx(M,{variant:"outline",className:"text-destructive hover:bg-destructive/10 hover:text-destructive",onClick:()=>i(r.id),disabled:o,children:"Deny"}),a.jsx(M,{onClick:()=>s(r.id),disabled:o,children:o?"Updating":"Approve"})]})]})]})})}const Yne=Et({status:gr(["enabled","disabled","pending_approval"]),description:Pe().optional()});function Qne({open:e,onOpenChange:t,node:r,capability:n,onSubmit:s,isSubmitting:i=!1}){const o=kt({resolver:Ct(Yne),defaultValues:{status:"enabled",description:""},values:n!=null?{status:n.status,description:n.description??""}:void 0});if(!r)return null;const l=n?Ln.getCapabilityDescription(n.capability_key):"";return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-md","aria-describedby":"capability-config-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Capability configuration"}),a.jsxs(He,{id:"capability-config-description",children:["Update status and description for this capability on"," ",a.jsx("span",{className:"font-medium",children:r.name??"node"}),"."]})]}),a.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[n&&a.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 px-3 py-2 text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Capability: "}),a.jsx("span",{className:"font-medium capitalize",children:n.capability_key.replace(/_/g," ")}),l&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:l})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"cap-status",children:"Status"}),a.jsxs(Tt,{value:o.watch("status"),onValueChange:c=>o.setValue("status",c),children:[a.jsx(St,{id:"cap-status",children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"enabled",children:"Enabled"}),a.jsx(Ie,{value:"disabled",children:"Disabled"}),a.jsx(Ie,{value:"pending_approval",children:"Pending approval"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"cap-description",children:"Description (optional)"}),a.jsx(ge,{id:"cap-description",placeholder:"e.g. Remote exec for backup scripts",...o.register("description"),className:Z(o.formState.errors.description&&"border-destructive")}),o.formState.errors.description&&a.jsx("p",{className:"text-xs text-destructive",children:o.formState.errors.description.message})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(M,{type:"submit",disabled:i,children:i?"Saving":"Save"})]})]})]})})}const Xne={paired:"success",offline:"destructive",error:"warning"},Jne={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},Zne={voice_wake:Sh,talk_mode:Sh,remote_exec:MH,browser_proxy:Iy,camera_capture:bH};function ese(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,p]=x.useState(null),[g,m]=x.useState(!1),{data:v=[],isLoading:y}=Mne(),{data:b}=Ine(s),{data:w=[]}=Fne(s),{data:S=[]}=Bne({status:"pending",limit:20}),j=qne(),_=Dne(),N=Lne(),k=Une(),C=zne(),T=S.find(A=>A.id===c),I=async()=>{try{const A=await j.mutateAsync();n(A)}catch{}},E=A=>{!s||!h||(k.mutate({node_id:s,capability_key:h.capability_key,status:A.status,description:A.description??null}),f(!1),p(null))},U=A=>{C.mutate({id:A,data:{status:"approved"}}),l(!1),u(null)},O=A=>{C.mutate({id:A,data:{status:"denied"}}),l(!1),u(null)},B=(A,z)=>{_.mutate({id:A,data:{connection_health:z}})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Nodes (Paired Devices)"}),a.jsxs(M,{onClick:()=>{n(null),t(!0)},children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Pair node"]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Nodes list"}),a.jsx(ve,{children:"Paired devices with capability badges. Select a node to manage capabilities and exec allowlist."})]}),a.jsx(te,{children:y?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(A=>a.jsx(we,{className:"h-16 w-full rounded-lg"},A))}):v.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Oi,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes. Use Pair node to add a device via QR or code."}),a.jsxs(M,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Pair node"]})]}):a.jsx(Pt,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:v.map(A=>a.jsxs("div",{className:Z("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",s===A.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>i(A.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(Oi,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:A.name??`Node ${A.id.slice(0,8)}`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:A.last_active_at?`Last active ${Dr(new Date(A.last_active_at),{addSuffix:!0})}`:"Never"})]}),a.jsx(tt,{variant:Xne[A.status],className:"shrink-0",children:A.status}),a.jsx(tt,{variant:Jne[A.connection_health],className:"shrink-0",children:A.connection_health})]}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsxs(M,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(Gl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(wa,{align:"end",children:[a.jsxs(pr,{onClick:()=>{i(A.id),m(!0)},children:[a.jsx(gS,{className:"mr-2 h-4 w-4"}),"Connection health"]}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Unpair this device? This cannot be undone.")&&(N.mutate(A.id),s===A.id&&i(null))},children:[a.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Unpair"]})]})]})]},A.id))})})})]}),a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Pair node"}),a.jsx(ve,{children:"QR on left, code and instructions on right, expiry countdown."})]}),a.jsx(te,{children:a.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-border p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(mS,{className:"mx-auto h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start pairing to show QR and code."}),a.jsxs(M,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Start pairing"]})]})})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Capabilities"}),a.jsx(ve,{children:"Enable or disable capabilities for the selected node."})]}),a.jsx(te,{children:s?w.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{className:"h-10 w-full"}),a.jsx(we,{className:"h-10 w-full"}),a.jsx(we,{className:"h-10 w-full"})]}):a.jsx("div",{className:"space-y-2",children:w.map(A=>{const z=Zne[A.capability_key]??Oi;return a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:A.capability_key.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Ln.getCapabilityDescription(A.capability_key)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tt,{variant:A.status==="enabled"?"success":A.status==="pending_approval"?"warning":"secondary",children:A.status}),a.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{p(A),f(!0)},"aria-label":"Edit capability",children:a.jsx(ua,{className:"h-4 w-4"})})]})]},A.id)})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ua,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to manage capabilities."})]})})]}),a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Approval requests"}),a.jsx(ve,{children:"Pending capability or execution requests."})]}),a.jsx(te,{children:S.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(bI,{className:"mb-3 h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No pending approvals."})]}):a.jsx(Pt,{className:"h-[240px] pr-2",children:a.jsx("div",{className:"space-y-2",children:S.map(A=>a.jsxs("button",{type:"button",onClick:()=>{u(A.id),l(!0)},className:"flex w-full items-center justify-between rounded-lg border border-border p-3 text-left transition-colors hover:bg-card",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:A.action_type.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Dr(new Date(A.created_at),{addSuffix:!0})})]}),a.jsx(tt,{variant:"secondary",children:A.status})]},A.id))})})})]})]})]}),a.jsx(Hne,{open:e,onOpenChange:t,pairingRequest:r,onStartPairing:I,isStartingPairing:j.isPending,onPaired:()=>{n(null),t(!1)}}),a.jsx(Gne,{open:o,onOpenChange:l,approval:T??null,node:T?v.find(A=>A.id===T.node_id)??null:null,onApprove:U,onDeny:O,isUpdating:C.isPending}),a.jsx(Qne,{open:d,onOpenChange:f,node:b??null,capability:h,onSubmit:E,isSubmitting:k.isPending}),a.jsx(FF,{node:b??null,open:g,onOpenChange:m,onUpdateHealth:B,isUpdating:_.isPending})]})}function tse({job:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=e.name||e.description||"Unnamed job",o=()=>{n(e.id),r(!1)};return a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(qe,{"aria-describedby":"cron-delete-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Delete cron job?"}),a.jsxs(He,{id:"cron-delete-description",children:['This will permanently delete "',i,'" and its run history. This action cannot be undone.']})]}),a.jsxs(Qe,{children:[a.jsx(M,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(M,{variant:"destructive",onClick:o,disabled:s,children:s?"Deleting":"Delete job"})]})]})})}const rse={running:{label:"Running",icon:Zn,variant:"secondary"},completed:{label:"Completed",icon:Mo,variant:"default"},failed:{label:"Failed",icon:$y,variant:"destructive"},aborted:{label:"Aborted",icon:gH,variant:"outline"}};function nse({jobId:e,runs:t,isLoading:r=!1,className:n}){return e?r?a.jsxs(ee,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ne,{children:[a.jsx(we,{className:"h-6 w-32"}),a.jsx(we,{className:"h-4 w-48"})]}),a.jsx(te,{className:"space-y-3",children:[1,2,3].map(s=>a.jsx(we,{className:"h-20 w-full rounded-lg"},s))})]}):t.length?a.jsxs(ee,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Cf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(ve,{children:"Past executions with output and logs. Newest first."})]}),a.jsx(te,{children:a.jsx(Pt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-3",children:t.map(s=>{const i=rse[s.status],o=i.icon;return a.jsxs("li",{className:"rounded-lg border border-border bg-secondary/30 p-4 transition-shadow hover:shadow-card",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(tt,{variant:i.variant,className:"gap-1",children:[s.status==="running"?a.jsx(o,{className:"h-3 w-3 animate-spin"}):a.jsx(o,{className:"h-3 w-3"}),i.label]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:Dr(new Date(s.execution_time),{addSuffix:!0})})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.execution_time).toLocaleString()})]}),s.output!=null&&s.output!==""||s.log!=null&&s.log!==""?a.jsxs("div",{className:"mt-3 space-y-2",children:[s.output!=null&&s.output!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Output"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono",children:s.output})]}),s.log!=null&&s.log!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Log"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono whitespace-pre-wrap",children:s.log})]})]}):null]},s.id)})})})})]}):a.jsxs(ee,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Cf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(ve,{children:"Past executions for this job. Run the job to see entries here."})]}),a.jsx(te,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Cf,{className:"h-10 w-10 text-muted-foreground/50"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No runs yet"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'Use "Run now" on a job to execute it and record history.'})]})})]}):a.jsxs(ee,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Cf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(ve,{children:"Select a job to view its run history, or run a job to see entries here."})]}),a.jsx(te,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No job selected. Run a job from the list above to see execution logs and output."})})]})}function sse(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),{data:h}=ox(),p=(h==null?void 0:h.user_id)??"",{data:g=[],isLoading:m}=XL(),{data:v=[],isLoading:y}=xte(c??d,{limit:20}),b=JL(),w=vte(),S=yte(),j=bte(),_=()=>{i(null),t(!0)},N=O=>{i(O),t(!0)},k=O=>{s?w.mutate({id:s.id,data:O},{onSuccess:()=>{t(!1),i(null)}}):b.mutate(O,{onSuccess:()=>t(!1)})},C=O=>{l(O),n(!0)},T=O=>{S.mutate(O,{onSuccess:()=>{n(!1),l(null),c===O&&u(null)}})},I=O=>{f(O.id),j.mutate(O.id,{onSuccess:()=>{u(O.id),f(null)},onError:()=>f(null)})},E=O=>O.name||O.description||"Unnamed job",U=O=>O==="active"?"default":O==="paused"?"secondary":"destructive";return a.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Cron Jobs & Scheduler"}),a.jsxs(M,{onClick:_,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Create job"]})]}),a.jsxs(ee,{className:"overflow-hidden rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Cron list"}),a.jsx(ve,{children:"Scheduled jobs with run now, edit, and delete. Select a job to view run history below."})]}),a.jsx(te,{className:"p-0",children:m?a.jsx("div",{className:"space-y-3 p-6",children:[1,2,3].map(O=>a.jsx(we,{className:"h-16 w-full rounded-lg"},O))}):g.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[a.jsx("th",{className:"sticky top-0 z-10 bg-secondary/50 px-6 py-4 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Schedule"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Next run"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Session target"}),a.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),a.jsx("tbody",{children:g.map(O=>a.jsxs("tr",{className:Z("border-b border-border transition-colors hover:bg-secondary/30",c===O.id&&"bg-primary/5"),children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:E(O)}),O.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Dn,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]})}),a.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:O.schedule}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(tt,{variant:U(O.status),children:O.status})}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:O.next_run_time?Dr(new Date(O.next_run_time),{addSuffix:!0}):""}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:O.session_target||""}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>I(O),disabled:j.isPending&&d===O.id,className:"transition-transform hover:scale-[1.02]",children:[j.isPending&&d===O.id?a.jsx(vo,{className:"h-4 w-4 animate-spin"}):a.jsx(ca,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 hidden sm:inline",children:j.isPending&&d===O.id?"Running":"Run now"})]}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsx(M,{variant:"outline",size:"icon",className:"h-8 w-8",children:a.jsx(Gl,{className:"h-4 w-4"})})}),a.jsxs(wa,{align:"end",children:[a.jsxs(pr,{onClick:()=>N(O),children:[a.jsx(Nh,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(pr,{onClick:()=>{u(O.id)},children:[a.jsx(vo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>C(O),children:[a.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},O.id))})]})}),a.jsx("div",{className:"space-y-3 p-4 md:hidden",children:g.map(O=>a.jsx(ee,{className:Z("rounded-lg border border-border bg-card shadow-card transition-all hover:shadow-card-hover",c===O.id&&"ring-2 ring-primary"),children:a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:E(O)}),O.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Dn,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]}),a.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:O.schedule}),a.jsx(tt,{variant:U(O.status),className:"mt-2",children:O.status}),O.next_run_time&&a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Next: ",Dr(new Date(O.next_run_time),{addSuffix:!0})]})]}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(Gl,{className:"h-4 w-4"})})}),a.jsxs(wa,{align:"end",children:[a.jsxs(pr,{onClick:()=>I(O),children:[a.jsx(ca,{className:"mr-2 h-4 w-4"}),"Run now"]}),a.jsxs(pr,{onClick:()=>N(O),children:[a.jsx(Nh,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(pr,{onClick:()=>u(O.id),children:[a.jsx(vo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>C(O),children:[a.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(M,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>I(O),disabled:j.isPending&&d===O.id,children:[j.isPending&&d===O.id?a.jsx(vo,{className:"mr-1 h-4 w-4 animate-spin"}):a.jsx(ca,{className:"mr-1 h-4 w-4"}),"Run now"]}),a.jsx(M,{variant:"outline",size:"sm",onClick:()=>N(O),children:"Edit"})]})]})},O.id))})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center border-t border-border py-16 text-center",children:[a.jsx(Ty,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsx("p",{className:"mt-4 text-sm font-medium",children:"No cron jobs yet"}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create a job to run skills on a schedule. Use the cron builder, payload, and session target."}),a.jsxs(M,{onClick:_,className:"mt-4",children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Create job"]})]})})]}),a.jsx(nse,{jobId:c??d,runs:v,isLoading:y}),a.jsx(LF,{open:e,onOpenChange:t,onSubmit:k,isSubmitting:b.isPending||w.isPending,userId:p,job:s}),a.jsx(tse,{job:o,open:r,onOpenChange:n,onConfirm:T,isDeleting:S.isPending})]})}function ise(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="wh_";for(let r=0;r<12;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}const zi={getWebhooks:async()=>{const{data:e,error:t}=await q.from("webhooks").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWebhook:async e=>{const{data:t,error:r}=await q.from("webhooks").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWebhook:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r=ise(),s=`${typeof window<"u"?`${window.location.origin}/api/webhooks`:"/api/webhooks"}/${encodeURIComponent(e.route_name)}?token=${encodeURIComponent(r)}`,i={user_id:t.id,route_name:e.route_name,token_preview:r,token_hash:null,url:s,mapping_template:e.mapping_template??null,delivery_route:e.delivery_route??null},{data:o,error:l}=await q.from("webhooks").insert(i).select().single();if(l)throw new Error(l.message);return o},updateWebhook:async(e,t)=>{const{data:r,error:n}=await q.from("webhooks").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWebhook:async e=>{const{error:t}=await q.from("webhooks").delete().eq("id",e);if(t)throw new Error(t.message)},getHookScripts:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)return[];let r=q.from("hook_scripts").select("*").eq("user_id",t.id).order("event_trigger");e===null?r=r.is("webhook_id",null):e&&(r=r.or(`webhook_id.eq.${e},webhook_id.is.null`));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},getHookScript:async e=>{const{data:t,error:r}=await q.from("hook_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createHookScript:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("hook_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateHookScript:async(e,t)=>{const{data:r,error:n}=await q.from("hook_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteHookScript:async e=>{const{error:t}=await q.from("hook_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getPayloadTemplates:async e=>{if(!e)return[];const{data:t,error:r}=await q.from("payload_templates").select("*").eq("webhook_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getPayloadTemplate:async e=>{const{data:t,error:r}=await q.from("payload_templates").select("*").eq("webhook_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertPayloadTemplate:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r=await zi.getPayloadTemplate(e.webhook_id);if(r){const{data:o,error:l}=await q.from("payload_templates").update({template_content:e.template_content??r.template_content}).eq("webhook_id",e.webhook_id).select().single();if(l)throw new Error(l.message);return o}const n={user_id:t.id,webhook_id:e.webhook_id,template_content:e.template_content??""},{data:s,error:i}=await q.from("payload_templates").insert(n).select().single();if(i)throw new Error(i.message);return s},updatePayloadTemplate:async(e,t)=>{const{data:r,error:n}=await q.from("payload_templates").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}};function ase(e,t){return e().catch(()=>t)}const Tn={all:["webhooks"],list:()=>[...Tn.all,"list"],detail:e=>[...Tn.all,"detail",e],hookScripts:e=>[...Tn.all,"hookScripts",e],payloadTemplate:e=>[...Tn.all,"payloadTemplate",e]};function ose(){return De({queryKey:Tn.list(),queryFn:()=>ase(()=>zi.getWebhooks(),[])})}function lse(){const e=je();return _e({mutationFn:t=>zi.createWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tn.list()}),V.success("Webhook created")},onError:t=>{V.error(t.message||"Failed to create webhook")}})}function cse(){const e=je();return _e({mutationFn:t=>zi.deleteWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tn.list()}),V.success("Webhook removed")},onError:t=>{V.error(t.message||"Failed to remove webhook")}})}function use(e){return De({queryKey:Tn.hookScripts(e),queryFn:()=>zi.getHookScripts(e)})}function dse(){const e=je();return _e({mutationFn:t=>zi.createHookScript(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Tn.hookScripts(r.webhook_id??null)}),V.success("Hook script added")},onError:t=>{V.error(t.message||"Failed to add hook script")}})}function fse(){const e=je();return _e({mutationFn:({id:t,data:r})=>zi.updateHookScript(t,r),onSuccess:t=>{(t==null?void 0:t.webhook_id)!==void 0&&e.invalidateQueries({queryKey:Tn.hookScripts(t.webhook_id)}),e.invalidateQueries({queryKey:Tn.hookScripts(null)}),V.success("Hook script updated")},onError:t=>{V.error(t.message||"Failed to update hook script")}})}function hse(){const e=je();return _e({mutationFn:t=>zi.deleteHookScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tn.all}),V.success("Hook script removed")},onError:t=>{V.error(t.message||"Failed to remove hook script")}})}function pse(e){return De({queryKey:Tn.payloadTemplate(e??""),queryFn:()=>e?zi.getPayloadTemplate(e):Promise.resolve(null),enabled:!!e})}function mse(){const e=je();return _e({mutationFn:t=>zi.upsertPayloadTemplate(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Tn.payloadTemplate(r.webhook_id)}),V.success("Payload template saved")},onError:t=>{V.error(t.message||"Failed to save payload template")}})}const gse=Et({route_name:Pe().min(1,"Route name is required").regex(/^[a-z0-9_-]+$/i,"Use only letters, numbers, hyphens, and underscores"),mapping_template:Pe().optional(),delivery_route:Pe().optional()}),sw={route_name:"",mapping_template:"",delivery_route:""};function vse({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=kt({resolver:Ct(gse),defaultValues:sw}),c=d=>{var f,h;r({route_name:d.route_name.trim(),mapping_template:((f=d.mapping_template)==null?void 0:f.trim())||null,delivery_route:((h=d.delivery_route)==null?void 0:h.trim())||null}),o(sw)},u=d=>{d||o(sw),t(d)};return a.jsx(Ge,{open:e,onOpenChange:u,children:a.jsxs(qe,{className:"max-w-lg","aria-describedby":"create-webhook-form-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Create webhook"}),a.jsx(He,{id:"create-webhook-form-description",children:"Add an inbound webhook endpoint. A token will be generated; configure delivery routing if needed."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"route_name",children:"Route name"}),a.jsx(ge,{id:"route_name",placeholder:"e.g. my-integration",...s("route_name"),className:l.route_name?"border-destructive":"",autoComplete:"off"}),l.route_name&&a.jsx("p",{className:"text-xs text-destructive",children:l.route_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"delivery_route",children:"Delivery route (optional)"}),a.jsx(ge,{id:"delivery_route",placeholder:"e.g. session or channel target",...s("delivery_route")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"mapping_template",children:"Mapping template (optional)"}),a.jsx("textarea",{id:"mapping_template",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"JSON or template for payload mapping",...s("mapping_template")})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"secondary",onClick:()=>u(!1),disabled:n,children:"Cancel"}),a.jsx(M,{type:"submit",disabled:n,children:n?"Creating":"Create webhook"})]})]})]})})}const yse=Et({event_trigger:Pe().min(1,"Event trigger is required"),language:gr(["javascript","python"]),script_content:Pe(),webhook_id:Pe().nullable()}),xse=["/new","/reset","start","end","before_run","after_run"],Em={event_trigger:"/new",language:"javascript",script_content:"",webhook_id:null};function bse({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,script:s=null,webhooks:i}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=kt({resolver:Ct(yse),defaultValues:Em}),h=u("language"),p=u("webhook_id");x.useEffect(()=>{d(s?{event_trigger:s.event_trigger,language:s.language,script_content:s.script_content??"",webhook_id:s.webhook_id??null}:Em)},[s,e,d]);const g=v=>{r(v),s||d(Em),t(!1)},m=v=>{v||d(Em),t(v)};return a.jsx(Ge,{open:e,onOpenChange:m,children:a.jsxs(qe,{className:"max-w-2xl max-h-[90vh] flex flex-col","aria-describedby":"hook-script-editor-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:s?"Edit hook script":"Add hook script"}),a.jsx(He,{id:"hook-script-editor-description",children:"Sandboxed script (JavaScript or Python) for lifecycle events. Runs in a restricted environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"flex flex-col flex-1 min-h-0 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"event_trigger",children:"Event trigger"}),a.jsxs(Tt,{value:u("event_trigger"),onValueChange:v=>c("event_trigger",v),children:[a.jsx(St,{id:"event_trigger",className:f.event_trigger?"border-destructive":"",children:a.jsx(Rt,{placeholder:"Select trigger"})}),a.jsx(Nt,{children:xse.map(v=>a.jsx(Ie,{value:v,children:v},v))})]}),f.event_trigger&&a.jsx("p",{className:"text-xs text-destructive",children:f.event_trigger.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"language",children:"Language"}),a.jsxs(Tt,{value:h,onValueChange:v=>c("language",v),children:[a.jsx(St,{id:"language",children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"javascript",children:"JavaScript"}),a.jsx(Ie,{value:"python",children:"Python"})]})]})]})]}),i.length>0&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"webhook_id",children:"Webhook (optional)"}),a.jsxs(Tt,{value:p??"none",onValueChange:v=>c("webhook_id",v==="none"?null:v),children:[a.jsx(St,{id:"webhook_id",children:a.jsx(Rt,{placeholder:"Global (all webhooks)"})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"none",children:"Global (all webhooks)"}),i.map(v=>a.jsx(Ie,{value:v.id,children:v.route_name},v.id))]})]})]}),a.jsxs("div",{className:"grid gap-2 flex-1 min-h-[200px]",children:[a.jsx(Q,{htmlFor:"script_content",children:"Script content"}),a.jsx("textarea",{id:"script_content",className:"flex w-full flex-1 min-h-[200px] rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:h==="javascript"?"// e.g. return { ...payload };":"# e.g. return { **payload }",...o("script_content"),spellCheck:!1})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"secondary",onClick:()=>m(!1),disabled:n,children:"Cancel"}),a.jsx(M,{type:"submit",disabled:n,children:n?"Saving":s?"Save":"Add script"})]})]})]})})}function wse({webhooks:e,isLoadingWebhooks:t=!1}){const[r,n]=x.useState(null),[s,i]=x.useState(null),{data:o,isLoading:l}=pse(r),c=mse(),u=s!==null?s:(o==null?void 0:o.template_content)??"",d=()=>{r&&c.mutate({webhook_id:r,template_content:u},{onSuccess:()=>i(null)})},f=r&&u!==((o==null?void 0:o.template_content)??"");return a.jsxs(ee,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(jH,{className:"h-5 w-5 text-muted-foreground"}),"Payload transformer"]}),a.jsx(ve,{children:"Edit transformation templates per webhook. Preview and save to apply."})]}),a.jsxs(te,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"payload-webhook",children:"Webhook"}),t?a.jsx(we,{className:"h-10 w-full rounded-md"}):a.jsxs(Tt,{value:r??"",onValueChange:h=>{n(h||null),i(null)},children:[a.jsx(St,{id:"payload-webhook",children:a.jsx(Rt,{placeholder:"Select a webhook"})}),a.jsx(Nt,{children:e.length===0?a.jsx(Ie,{value:"_none",disabled:!0,children:"No webhooks  create one first"}):e.map(h=>a.jsx(Ie,{value:h.id,children:h.route_name},h.id))})]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"template_content",children:"Template content"}),l?a.jsx(we,{className:"h-[200px] w-full rounded-md"}):a.jsx("textarea",{id:"template_content",rows:10,className:Z("flex w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),placeholder:"JSON or template (e.g. Handlebars) for payload mapping",value:u,onChange:h=>i(h.target.value),spellCheck:!1})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(M,{onClick:d,disabled:c.isPending||!f&&!o,children:c.isPending?"Saving":a.jsxs(a.Fragment,{children:[a.jsx(vI,{className:"mr-2 h-4 w-4"}),"Save template"]})})})]}),!r&&e.length>0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a webhook above to edit its payload transformation template."}),!r&&e.length===0&&!t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a webhook in the Endpoints tab first, then select it here to add a transformation template."})]})]})}function jse(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState(null),{data:c=[],isLoading:u}=ose(),{data:d=[],isLoading:f}=use(null),h=lse(),p=cse(),g=dse(),m=fse(),v=hse(),y=async _=>{await h.mutateAsync(_),t(!1)},b=_=>{navigator.clipboard.writeText(_),l(_),V.success("URL copied"),setTimeout(()=>l(null),2e3)},w=_=>{s?m.mutate({id:s.id,data:{event_trigger:_.event_trigger,language:_.language,script_content:_.script_content,webhook_id:_.webhook_id}},{onSuccess:()=>{i(null),n(!1)}}):g.mutate({event_trigger:_.event_trigger,language:_.language,script_content:_.script_content,webhook_id:_.webhook_id},{onSuccess:()=>n(!1)})},S=_=>{i(_),n(!0)},j=()=>{i(null),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Webhooks & Hooks"}),a.jsxs(M,{onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}),a.jsxs(Ko,{defaultValue:"endpoints",className:"space-y-4",children:[a.jsxs(Ta,{className:"grid w-full max-w-2xl grid-cols-4",children:[a.jsx(Vt,{value:"endpoints",children:"Endpoints"}),a.jsx(Vt,{value:"hooks",children:"Hook scripts"}),a.jsx(Vt,{value:"transform",children:"Payload transformer"}),a.jsx(Vt,{value:"gmail",children:"Gmail Pub/Sub"})]}),a.jsx(Ht,{value:"endpoints",className:"space-y-4",children:a.jsxs(ee,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(lj,{className:"h-5 w-5 text-muted-foreground"}),"Webhook endpoints"]}),a.jsx(ve,{children:"List (token), create webhook modal. URL, token preview, last received, mapping."})]}),a.jsx(te,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(_=>a.jsx(we,{className:"h-20 w-full rounded-lg"},_))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(lj,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No webhooks. Create one to receive inbound events."}),a.jsxs(M,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}):a.jsx(Pt,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-3",children:c.map(_=>a.jsx("div",{className:"flex flex-col gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-card/80",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:_.route_name}),a.jsx("p",{className:"mt-1 truncate font-mono text-xs text-muted-foreground",children:_.url}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"font-mono",children:["Token: ",_.token_preview]}),_.last_received_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ty,{className:"h-3 w-3"}),"Last received"," ",Dr(new Date(_.last_received_at),{addSuffix:!0})]})]}),_.mapping_template&&a.jsx(tt,{variant:"secondary",className:"mt-2",children:"Mapping"})]}),a.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[a.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>b(_.url),"aria-label":"Copy URL",children:o===_.url?a.jsx(kp,{className:"h-4 w-4 text-success"}):a.jsx(cI,{className:"h-4 w-4"})}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsxs(M,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(Gl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsx(wa,{align:"end",children:a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this webhook?")&&p.mutate(_.id)},children:[a.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Remove"]})})]})]})]})},_.id))})})})]})}),a.jsx(Ht,{value:"hooks",className:"space-y-4",children:a.jsxs(ee,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(yE,{className:"h-5 w-5 text-muted-foreground"}),"Hook scripts editor"]}),a.jsx(ve,{children:"Sandbox environment for lifecycle hooks (restricted JS/Python). Event triggers: /new, /reset, start, end."})]}),a.jsxs(te,{children:[a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsxs(M,{onClick:j,children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add hook script"]})}),f?a.jsx("div",{className:"space-y-3",children:[1,2].map(_=>a.jsx(we,{className:"h-16 w-full rounded-lg"},_))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(yE,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No hook scripts. Add one for lifecycle events (/new, /reset, start, end)."}),a.jsxs(M,{className:"mt-4",variant:"outline",onClick:j,children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add hook script"]})]}):a.jsx(Pt,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"space-y-2",children:d.map(_=>{var N;return a.jsxs("div",{className:Z("flex items-center justify-between gap-2 rounded-lg border border-border p-3 transition-colors hover:bg-card/80"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:_.event_trigger}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.language,_.webhook_id?`  Webhook: ${((N=c.find(k=>k.id===_.webhook_id))==null?void 0:N.route_name)??_.webhook_id}`:"  Global"]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(M,{variant:"ghost",size:"sm",onClick:()=>S(_),children:"Edit"}),a.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>{window.confirm("Remove this hook script?")&&v.mutate(_.id)},"aria-label":"Remove script",children:a.jsx(Ss,{className:"h-4 w-4"})})]})]},_.id)})})})]})]})}),a.jsx(Ht,{value:"transform",className:"space-y-4",children:a.jsx(wse,{webhooks:c,isLoadingWebhooks:u})}),a.jsx(Ht,{value:"gmail",className:"space-y-4",children:a.jsxs(ee,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Lu,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub guided setup"]}),a.jsx(ve,{children:"Guided flow for Gmail Pub/Sub integration. Connect your Gmail account and configure webhook delivery."})]}),a.jsx(te,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Lu,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gmail Pub/Sub setup will be available here. Create a webhook first, then link it to Gmail."}),a.jsx(M,{className:"mt-4",variant:"outline",disabled:!0,children:"Coming soon"})]})})]})})]}),a.jsx(vse,{open:e,onOpenChange:t,onSubmit:y,isSubmitting:h.isPending}),a.jsx(bse,{open:r,onOpenChange:_=>{n(_),_||i(null)},onSubmit:w,isSubmitting:g.isPending||m.isPending,script:s,webhooks:c})]})}var _se=Array.isArray,Fn=_se,Sse=typeof Kp=="object"&&Kp&&Kp.Object===Object&&Kp,KF=Sse,Nse=KF,kse=typeof self=="object"&&self&&self.Object===Object&&self,Cse=Nse||kse||Function("return this")(),qi=Cse,Ese=qi,Ose=Ese.Symbol,Dp=Ose,VO=Dp,GF=Object.prototype,Pse=GF.hasOwnProperty,Ase=GF.toString,df=VO?VO.toStringTag:void 0;function Tse(e){var t=Pse.call(e,df),r=e[df];try{e[df]=void 0;var n=!0}catch{}var s=Ase.call(e);return n&&(t?e[df]=r:delete e[df]),s}var Rse=Tse,$se=Object.prototype,Mse=$se.toString;function Ise(e){return Mse.call(e)}var Dse=Ise,HO=Dp,Lse=Rse,Fse=Dse,Use="[object Null]",Bse="[object Undefined]",KO=HO?HO.toStringTag:void 0;function zse(e){return e==null?e===void 0?Bse:Use:KO&&KO in Object(e)?Lse(e):Fse(e)}var $a=zse;function qse(e){return e!=null&&typeof e=="object"}var Ma=qse,Wse=$a,Vse=Ma,Hse="[object Symbol]";function Kse(e){return typeof e=="symbol"||Vse(e)&&Wse(e)==Hse}var Rd=Kse,Gse=Fn,Yse=Rd,Qse=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xse=/^\w*$/;function Jse(e,t){if(Gse(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Yse(e)?!0:Xse.test(e)||!Qse.test(e)||t!=null&&e in Object(t)}var aN=Jse;function Zse(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xo=Zse;const $d=Lt(Xo);var eie=$a,tie=Xo,rie="[object AsyncFunction]",nie="[object Function]",sie="[object GeneratorFunction]",iie="[object Proxy]";function aie(e){if(!tie(e))return!1;var t=eie(e);return t==nie||t==sie||t==rie||t==iie}var oN=aie;const nt=Lt(oN);var oie=qi,lie=oie["__core-js_shared__"],cie=lie,iw=cie,GO=function(){var e=/[^.]+$/.exec(iw&&iw.keys&&iw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function uie(e){return!!GO&&GO in e}var die=uie,fie=Function.prototype,hie=fie.toString;function pie(e){if(e!=null){try{return hie.call(e)}catch{}try{return e+""}catch{}}return""}var YF=pie,mie=oN,gie=die,vie=Xo,yie=YF,xie=/[\\^$.*+?()[\]{}|]/g,bie=/^\[object .+?Constructor\]$/,wie=Function.prototype,jie=Object.prototype,_ie=wie.toString,Sie=jie.hasOwnProperty,Nie=RegExp("^"+_ie.call(Sie).replace(xie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kie(e){if(!vie(e)||gie(e))return!1;var t=mie(e)?Nie:bie;return t.test(yie(e))}var Cie=kie;function Eie(e,t){return e==null?void 0:e[t]}var Oie=Eie,Pie=Cie,Aie=Oie;function Tie(e,t){var r=Aie(e,t);return Pie(r)?r:void 0}var pc=Tie,Rie=pc,$ie=Rie(Object,"create"),fx=$ie,YO=fx;function Mie(){this.__data__=YO?YO(null):{},this.size=0}var Iie=Mie;function Die(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Lie=Die,Fie=fx,Uie="__lodash_hash_undefined__",Bie=Object.prototype,zie=Bie.hasOwnProperty;function qie(e){var t=this.__data__;if(Fie){var r=t[e];return r===Uie?void 0:r}return zie.call(t,e)?t[e]:void 0}var Wie=qie,Vie=fx,Hie=Object.prototype,Kie=Hie.hasOwnProperty;function Gie(e){var t=this.__data__;return Vie?t[e]!==void 0:Kie.call(t,e)}var Yie=Gie,Qie=fx,Xie="__lodash_hash_undefined__";function Jie(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Qie&&t===void 0?Xie:t,this}var Zie=Jie,eae=Iie,tae=Lie,rae=Wie,nae=Yie,sae=Zie;function Md(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Md.prototype.clear=eae;Md.prototype.delete=tae;Md.prototype.get=rae;Md.prototype.has=nae;Md.prototype.set=sae;var iae=Md;function aae(){this.__data__=[],this.size=0}var oae=aae;function lae(e,t){return e===t||e!==e&&t!==t}var lN=lae,cae=lN;function uae(e,t){for(var r=e.length;r--;)if(cae(e[r][0],t))return r;return-1}var hx=uae,dae=hx,fae=Array.prototype,hae=fae.splice;function pae(e){var t=this.__data__,r=dae(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():hae.call(t,r,1),--this.size,!0}var mae=pae,gae=hx;function vae(e){var t=this.__data__,r=gae(t,e);return r<0?void 0:t[r][1]}var yae=vae,xae=hx;function bae(e){return xae(this.__data__,e)>-1}var wae=bae,jae=hx;function _ae(e,t){var r=this.__data__,n=jae(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Sae=_ae,Nae=oae,kae=mae,Cae=yae,Eae=wae,Oae=Sae;function Id(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Id.prototype.clear=Nae;Id.prototype.delete=kae;Id.prototype.get=Cae;Id.prototype.has=Eae;Id.prototype.set=Oae;var px=Id,Pae=pc,Aae=qi,Tae=Pae(Aae,"Map"),cN=Tae,QO=iae,Rae=px,$ae=cN;function Mae(){this.size=0,this.__data__={hash:new QO,map:new($ae||Rae),string:new QO}}var Iae=Mae;function Dae(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Lae=Dae,Fae=Lae;function Uae(e,t){var r=e.__data__;return Fae(t)?r[typeof t=="string"?"string":"hash"]:r.map}var mx=Uae,Bae=mx;function zae(e){var t=Bae(this,e).delete(e);return this.size-=t?1:0,t}var qae=zae,Wae=mx;function Vae(e){return Wae(this,e).get(e)}var Hae=Vae,Kae=mx;function Gae(e){return Kae(this,e).has(e)}var Yae=Gae,Qae=mx;function Xae(e,t){var r=Qae(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Jae=Xae,Zae=Iae,eoe=qae,toe=Hae,roe=Yae,noe=Jae;function Dd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Dd.prototype.clear=Zae;Dd.prototype.delete=eoe;Dd.prototype.get=toe;Dd.prototype.has=roe;Dd.prototype.set=noe;var uN=Dd,QF=uN,soe="Expected a function";function dN(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(soe);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(dN.Cache||QF),r}dN.Cache=QF;var XF=dN;const ioe=Lt(XF);var aoe=XF,ooe=500;function loe(e){var t=aoe(e,function(n){return r.size===ooe&&r.clear(),n}),r=t.cache;return t}var coe=loe,uoe=coe,doe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,foe=/\\(\\)?/g,hoe=uoe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(doe,function(r,n,s,i){t.push(s?i.replace(foe,"$1"):n||r)}),t}),poe=hoe;function moe(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var fN=moe,XO=Dp,goe=fN,voe=Fn,yoe=Rd,JO=XO?XO.prototype:void 0,ZO=JO?JO.toString:void 0;function JF(e){if(typeof e=="string")return e;if(voe(e))return goe(e,JF)+"";if(yoe(e))return ZO?ZO.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var xoe=JF,boe=xoe;function woe(e){return e==null?"":boe(e)}var ZF=woe,joe=Fn,_oe=aN,Soe=poe,Noe=ZF;function koe(e,t){return joe(e)?e:_oe(e,t)?[e]:Soe(Noe(e))}var e3=koe,Coe=Rd;function Eoe(e){if(typeof e=="string"||Coe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var gx=Eoe,Ooe=e3,Poe=gx;function Aoe(e,t){t=Ooe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Poe(t[r++])];return r&&r==n?e:void 0}var hN=Aoe,Toe=hN;function Roe(e,t,r){var n=e==null?void 0:Toe(e,t);return n===void 0?r:n}var t3=Roe;const ws=Lt(t3);function $oe(e){return e==null}var Moe=$oe;const lt=Lt(Moe);var Ioe=$a,Doe=Fn,Loe=Ma,Foe="[object String]";function Uoe(e){return typeof e=="string"||!Doe(e)&&Loe(e)&&Ioe(e)==Foe}var Boe=Uoe;const nc=Lt(Boe);var r3={exports:{}},$t={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN=Symbol.for("react.element"),mN=Symbol.for("react.portal"),vx=Symbol.for("react.fragment"),yx=Symbol.for("react.strict_mode"),xx=Symbol.for("react.profiler"),bx=Symbol.for("react.provider"),wx=Symbol.for("react.context"),zoe=Symbol.for("react.server_context"),jx=Symbol.for("react.forward_ref"),_x=Symbol.for("react.suspense"),Sx=Symbol.for("react.suspense_list"),Nx=Symbol.for("react.memo"),kx=Symbol.for("react.lazy"),qoe=Symbol.for("react.offscreen"),n3;n3=Symbol.for("react.module.reference");function Os(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pN:switch(e=e.type,e){case vx:case xx:case yx:case _x:case Sx:return e;default:switch(e=e&&e.$$typeof,e){case zoe:case wx:case jx:case kx:case Nx:case bx:return e;default:return t}}case mN:return t}}}$t.ContextConsumer=wx;$t.ContextProvider=bx;$t.Element=pN;$t.ForwardRef=jx;$t.Fragment=vx;$t.Lazy=kx;$t.Memo=Nx;$t.Portal=mN;$t.Profiler=xx;$t.StrictMode=yx;$t.Suspense=_x;$t.SuspenseList=Sx;$t.isAsyncMode=function(){return!1};$t.isConcurrentMode=function(){return!1};$t.isContextConsumer=function(e){return Os(e)===wx};$t.isContextProvider=function(e){return Os(e)===bx};$t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pN};$t.isForwardRef=function(e){return Os(e)===jx};$t.isFragment=function(e){return Os(e)===vx};$t.isLazy=function(e){return Os(e)===kx};$t.isMemo=function(e){return Os(e)===Nx};$t.isPortal=function(e){return Os(e)===mN};$t.isProfiler=function(e){return Os(e)===xx};$t.isStrictMode=function(e){return Os(e)===yx};$t.isSuspense=function(e){return Os(e)===_x};$t.isSuspenseList=function(e){return Os(e)===Sx};$t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vx||e===xx||e===yx||e===_x||e===Sx||e===qoe||typeof e=="object"&&e!==null&&(e.$$typeof===kx||e.$$typeof===Nx||e.$$typeof===bx||e.$$typeof===wx||e.$$typeof===jx||e.$$typeof===n3||e.getModuleId!==void 0)};$t.typeOf=Os;r3.exports=$t;var Woe=r3.exports,Voe=$a,Hoe=Ma,Koe="[object Number]";function Goe(e){return typeof e=="number"||Hoe(e)&&Voe(e)==Koe}var s3=Goe;const Yoe=Lt(s3);var Qoe=s3;function Xoe(e){return Qoe(e)&&e!=+e}var Joe=Xoe;const Ld=Lt(Joe);var ti=function(t){return t===0?0:t>0?1:-1},_l=function(t){return nc(t)&&t.indexOf("%")===t.length-1},de=function(t){return Yoe(t)&&!Ld(t)},Zoe=function(t){return lt(t)},Ir=function(t){return de(t)||nc(t)},ele=0,Lp=function(t){var r=++ele;return"".concat(t||"").concat(r)},sc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&!nc(t))return n;var i;if(_l(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Ld(i)&&(i=n),s&&i>r&&(i=r),i},no=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},tle=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},ms=function(t,r){return de(t)&&de(r)?function(n){return t+n*(r-t)}:function(){return r}};function lv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ws(n,t))===r})}var rle=function(t,r){return de(t)&&de(r)?t-r:nc(t)&&nc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function pu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Tj(e){"@babel/helpers - typeof";return Tj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tj(e)}var nle=["viewBox","children"],sle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eP=["points","pathLength"],aw={svg:nle,polygon:eP,polyline:eP},gN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!$d(n))return null;var s={};return Object.keys(n).forEach(function(i){gN.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},ile=function(t,r,n){return function(s){return t(r,n,s),null}},uv=function(t,r,n){if(!$d(t)||Tj(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];gN.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=ile(o,r,n))}),s},ale=["children"],ole=["children"];function tP(e,t){if(e==null)return{};var r=lle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rj(e){"@babel/helpers - typeof";return Rj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rj(e)}var rP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},da=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},nP=null,ow=null,vN=function e(t){if(t===nP&&Array.isArray(ow))return ow;var r=[];return x.Children.forEach(t,function(n){lt(n)||(Woe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ow=r,nP=t,r};function si(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return da(s)}):n=[da(t)],vN(e).forEach(function(s){var i=ws(s,"type.displayName")||ws(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Vn(e,t){var r=si(e,t);return r&&r[0]}var sP=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!de(n)||n<=0||!de(s)||s<=0)},cle=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ule=function(t){return t&&t.type&&nc(t.type)&&cle.indexOf(t.type)>=0},dle=function(t){return t&&Rj(t)==="object"&&"clipDot"in t},fle=function(t,r,n,s){var i,o=(i=aw==null?void 0:aw[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!nt(t)&&(s&&o.includes(r)||sle.includes(r))||n&&gN.includes(r)},at=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(x.isValidElement(t)&&(s=t.props),!$d(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;fle((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},$j=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return iP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!iP(i,o))return!1}return!0},iP=function(t,r){if(lt(t)&&lt(r))return!0;if(!lt(t)&&!lt(r)){var n=t.props||{},s=n.children,i=tP(n,ale),o=r.props||{},l=o.children,c=tP(o,ole);return s&&l?pu(i,c)&&$j(s,l):!s&&!l?pu(i,c):!1}return!1},aP=function(t,r){var n=[],s={};return vN(t).forEach(function(i,o){if(ule(i))n.push(i);else if(i){var l=da(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},hle=function(t){var r=t&&t.type;return r&&rP[r]?rP[r]:null},ple=function(t,r){return vN(r).indexOf(t)},mle=["children","width","height","viewBox","className","style","title","desc"];function Mj(){return Mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mj.apply(this,arguments)}function gle(e,t){if(e==null)return{};var r=vle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ij(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=gle(e,mle),d=s||{width:r,height:n,x:0,y:0},f=ut("recharts-surface",i);return P.createElement("svg",Mj({},at(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),P.createElement("title",null,l),P.createElement("desc",null,c),t)}var yle=["children","className"];function Dj(){return Dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dj.apply(this,arguments)}function xle(e,t){if(e==null)return{};var r=ble(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ble(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ir=P.forwardRef(function(e,t){var r=e.children,n=e.className,s=xle(e,yle),i=ut("recharts-layer",n);return P.createElement("g",Dj({className:i},at(s,!0),{ref:t}),r)}),fa=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function wle(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var jle=wle,_le=jle;function Sle(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:_le(e,t,r)}var Nle=Sle,kle="\\ud800-\\udfff",Cle="\\u0300-\\u036f",Ele="\\ufe20-\\ufe2f",Ole="\\u20d0-\\u20ff",Ple=Cle+Ele+Ole,Ale="\\ufe0e\\ufe0f",Tle="\\u200d",Rle=RegExp("["+Tle+kle+Ple+Ale+"]");function $le(e){return Rle.test(e)}var i3=$le;function Mle(e){return e.split("")}var Ile=Mle,a3="\\ud800-\\udfff",Dle="\\u0300-\\u036f",Lle="\\ufe20-\\ufe2f",Fle="\\u20d0-\\u20ff",Ule=Dle+Lle+Fle,Ble="\\ufe0e\\ufe0f",zle="["+a3+"]",Lj="["+Ule+"]",Fj="\\ud83c[\\udffb-\\udfff]",qle="(?:"+Lj+"|"+Fj+")",o3="[^"+a3+"]",l3="(?:\\ud83c[\\udde6-\\uddff]){2}",c3="[\\ud800-\\udbff][\\udc00-\\udfff]",Wle="\\u200d",u3=qle+"?",d3="["+Ble+"]?",Vle="(?:"+Wle+"(?:"+[o3,l3,c3].join("|")+")"+d3+u3+")*",Hle=d3+u3+Vle,Kle="(?:"+[o3+Lj+"?",Lj,l3,c3,zle].join("|")+")",Gle=RegExp(Fj+"(?="+Fj+")|"+Kle+Hle,"g");function Yle(e){return e.match(Gle)||[]}var Qle=Yle,Xle=Ile,Jle=i3,Zle=Qle;function ece(e){return Jle(e)?Zle(e):Xle(e)}var tce=ece,rce=Nle,nce=i3,sce=tce,ice=ZF;function ace(e){return function(t){t=ice(t);var r=nce(t)?sce(t):void 0,n=r?r[0]:t.charAt(0),s=r?rce(r,1).join(""):t.slice(1);return n[e]()+s}}var oce=ace,lce=oce,cce=lce("toUpperCase"),uce=cce;const Cx=Lt(uce);function qt(e){return function(){return e}}const f3=Math.cos,dv=Math.sin,di=Math.sqrt,fv=Math.PI,Ex=2*fv,Uj=Math.PI,Bj=2*Uj,dl=1e-6,dce=Bj-dl;function h3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function fce(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return h3;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class hce{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?h3:fce(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>dl)if(!(Math.abs(f*c-u*d)>dl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=s-l,m=c*c+u*u,v=p*p+g*g,y=Math.sqrt(m),b=Math.sqrt(h),w=i*Math.tan((Uj-Math.acos((m+h-v)/(2*y*b)))/2),S=w/b,j=w/y;Math.abs(S-1)>dl&&this._append`L${t+S*d},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>dl||Math.abs(this._y1-d)>dl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Bj+Bj),h>dce?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>dl&&this._append`A${n},${n},0,${+(h>=Uj)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function yN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new hce(t)}function xN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function p3(e){this._context=e}p3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ox(e){return new p3(e)}function m3(e){return e[0]}function g3(e){return e[1]}function v3(e,t){var r=qt(!0),n=null,s=Ox,i=null,o=yN(l);e=typeof e=="function"?e:e===void 0?m3:qt(e),t=typeof t=="function"?t:t===void 0?g3:qt(t);function l(c){var u,d=(c=xN(c)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:qt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:qt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:qt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Om(e,t,r){var n=null,s=qt(!0),i=null,o=Ox,l=null,c=yN(u);e=typeof e=="function"?e:e===void 0?m3:qt(+e),t=typeof t=="function"?t:qt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?g3:qt(+r);function u(f){var h,p,g,m=(f=xN(f)).length,v,y=!1,b,w=new Array(m),S=new Array(m);for(i==null&&(l=o(b=c())),h=0;h<=m;++h){if(!(h<m&&s(v=f[h],h,f))===y)if(y=!y)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(w[g],S[g]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(v,h,f),S[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):S[h]))}if(b)return l=null,b+""||null}function d(){return v3().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:qt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class y3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function pce(e){return new y3(e,!0)}function mce(e){return new y3(e,!1)}const bN={draw(e,t){const r=di(t/fv);e.moveTo(r,0),e.arc(0,0,r,0,Ex)}},gce={draw(e,t){const r=di(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},x3=di(1/3),vce=x3*2,yce={draw(e,t){const r=di(t/vce),n=r*x3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},xce={draw(e,t){const r=di(t),n=-r/2;e.rect(n,n,r,r)}},bce=.8908130915292852,b3=dv(fv/10)/dv(7*fv/10),wce=dv(Ex/10)*b3,jce=-f3(Ex/10)*b3,_ce={draw(e,t){const r=di(t*bce),n=wce*r,s=jce*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Ex*i/5,l=f3(o),c=dv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},lw=di(3),Sce={draw(e,t){const r=-di(t/(lw*3));e.moveTo(0,r*2),e.lineTo(-lw*r,-r),e.lineTo(lw*r,-r),e.closePath()}},ls=-.5,cs=di(3)/2,zj=1/di(12),Nce=(zj/2+1)*3,kce={draw(e,t){const r=di(t/Nce),n=r/2,s=r*zj,i=n,o=r*zj+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ls*n-cs*s,cs*n+ls*s),e.lineTo(ls*i-cs*o,cs*i+ls*o),e.lineTo(ls*l-cs*c,cs*l+ls*c),e.lineTo(ls*n+cs*s,ls*s-cs*n),e.lineTo(ls*i+cs*o,ls*o-cs*i),e.lineTo(ls*l+cs*c,ls*c-cs*l),e.closePath()}};function Cce(e,t){let r=null,n=yN(s);e=typeof e=="function"?e:qt(e||bN),t=typeof t=="function"?t:qt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:qt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:qt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function hv(){}function pv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function w3(e){this._context=e}w3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ece(e){return new w3(e)}function j3(e){this._context=e}j3.prototype={areaStart:hv,areaEnd:hv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:pv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Oce(e){return new j3(e)}function _3(e){this._context=e}_3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:pv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pce(e){return new _3(e)}function S3(e){this._context=e}S3.prototype={areaStart:hv,areaEnd:hv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ace(e){return new S3(e)}function oP(e){return e<0?-1:1}function lP(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(oP(i)+oP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function cP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function cw(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function mv(e){this._context=e}mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cw(this,this._t0,cP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cw(this,cP(this,r=lP(this,e,t)),r);break;default:cw(this,this._t0,r=lP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function N3(e){this._context=new k3(e)}(N3.prototype=Object.create(mv.prototype)).point=function(e,t){mv.prototype.point.call(this,t,e)};function k3(e){this._context=e}k3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function Tce(e){return new mv(e)}function Rce(e){return new N3(e)}function C3(e){this._context=e}C3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=uP(e),s=uP(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uP(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function $ce(e){return new C3(e)}function Px(e,t){this._context=e,this._t=t}Px.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Mce(e){return new Px(e,.5)}function Ice(e){return new Px(e,0)}function Dce(e){return new Px(e,1)}function Yu(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function qj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Lce(e,t){return e[t]}function Fce(e){const t=[];return t.key=e,t}function Uce(){var e=qt([]),t=qj,r=Yu,n=Lce;function s(i){var o=Array.from(e.apply(this,arguments),Fce),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=xN(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:qt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:qt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?qj:typeof i=="function"?i:qt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Yu,s):r},s}function Bce(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Yu(e,t)}}function zce(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Yu(e,t)}}function qce(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;p+=v-y}c+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Yu(e,t)}}function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}var Wce=["type","size","sizeType"];function Wj(){return Wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wj.apply(this,arguments)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){Vce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vce(e,t,r){return t=Hce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hce(e){var t=Kce(e,"string");return Th(t)=="symbol"?t:t+""}function Kce(e,t){if(Th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gce(e,t){if(e==null)return{};var r=Yce(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var E3={symbolCircle:bN,symbolCross:gce,symbolDiamond:yce,symbolSquare:xce,symbolStar:_ce,symbolTriangle:Sce,symbolWye:kce},Qce=Math.PI/180,Xce=function(t){var r="symbol".concat(Cx(t));return E3[r]||bN},Jce=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Qce;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Zce=function(t,r){E3["symbol".concat(Cx(t))]=r},wN=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=Gce(t,Wce),u=fP(fP({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=Xce(n),y=Cce().type(v).size(Jce(i,l,n));return y()},f=u.className,h=u.cx,p=u.cy,g=at(u,!0);return h===+h&&p===+p&&i===+i?P.createElement("path",Wj({},g,{className:ut("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};wN.registerSymbol=Zce;function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function Vj(){return Vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vj.apply(this,arguments)}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){Rh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P3(n.key),n)}}function nue(e,t,r){return t&&rue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sue(e,t,r){return t=gv(t),iue(e,O3()?Reflect.construct(t,r||[],gv(e).constructor):t.apply(e,r))}function iue(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aue(e)}function aue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O3=function(){return!!e})()}function gv(e){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gv(e)}function oue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hj(e,t)}function Hj(e,t){return Hj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Hj(e,t)}function Rh(e,t,r){return t=P3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P3(e){var t=lue(e,"string");return Qu(t)=="symbol"?t:t+""}function lue(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var us=32,jN=function(e){function t(){return tue(this,t),sue(this,t,arguments)}return oue(t,e),nue(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=us/2,o=us/6,l=us/3,c=n.inactive?s:n.color;if(n.type==="plainline")return P.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:us,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(us,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return P.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(us/8,"h").concat(us,"v").concat(us*3/4,"h").concat(-us,"z"),className:"recharts-legend-icon"});if(P.isValidElement(n.legendIcon)){var u=eue({},n);return delete u.legendIcon,P.cloneElement(n.legendIcon,u)}return P.createElement(wN,{fill:c,cx:i,cy:i,size:us,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:us,height:us},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||c,v=ut(Rh(Rh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=nt(p.value)?null:p.value;fa(!nt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return P.createElement("li",Vj({className:v,style:f,key:"legend-item-".concat(g)},uv(n.props,p,g)),P.createElement(Ij,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),P.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Rh(jN,"displayName","Legend");Rh(jN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cue=px;function uue(){this.__data__=new cue,this.size=0}var due=uue;function fue(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var hue=fue;function pue(e){return this.__data__.get(e)}var mue=pue;function gue(e){return this.__data__.has(e)}var vue=gue,yue=px,xue=cN,bue=uN,wue=200;function jue(e,t){var r=this.__data__;if(r instanceof yue){var n=r.__data__;if(!xue||n.length<wue-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new bue(n)}return r.set(e,t),this.size=r.size,this}var _ue=jue,Sue=px,Nue=due,kue=hue,Cue=mue,Eue=vue,Oue=_ue;function Fd(e){var t=this.__data__=new Sue(e);this.size=t.size}Fd.prototype.clear=Nue;Fd.prototype.delete=kue;Fd.prototype.get=Cue;Fd.prototype.has=Eue;Fd.prototype.set=Oue;var A3=Fd,Pue="__lodash_hash_undefined__";function Aue(e){return this.__data__.set(e,Pue),this}var Tue=Aue;function Rue(e){return this.__data__.has(e)}var $ue=Rue,Mue=uN,Iue=Tue,Due=$ue;function vv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Mue;++t<r;)this.add(e[t])}vv.prototype.add=vv.prototype.push=Iue;vv.prototype.has=Due;var T3=vv;function Lue(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var R3=Lue;function Fue(e,t){return e.has(t)}var $3=Fue,Uue=T3,Bue=R3,zue=$3,que=1,Wue=2;function Vue(e,t,r,n,s,i){var o=r&que,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Wue?new Uue:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var v=o?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Bue(t,function(y,b){if(!zue(p,b)&&(g===y||s(g,y,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(g===m||s(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var M3=Vue,Hue=qi,Kue=Hue.Uint8Array,Gue=Kue;function Yue(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var Que=Yue;function Xue(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var _N=Xue,pP=Dp,mP=Gue,Jue=lN,Zue=M3,ede=Que,tde=_N,rde=1,nde=2,sde="[object Boolean]",ide="[object Date]",ade="[object Error]",ode="[object Map]",lde="[object Number]",cde="[object RegExp]",ude="[object Set]",dde="[object String]",fde="[object Symbol]",hde="[object ArrayBuffer]",pde="[object DataView]",gP=pP?pP.prototype:void 0,uw=gP?gP.valueOf:void 0;function mde(e,t,r,n,s,i,o){switch(r){case pde:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case hde:return!(e.byteLength!=t.byteLength||!i(new mP(e),new mP(t)));case sde:case ide:case lde:return Jue(+e,+t);case ade:return e.name==t.name&&e.message==t.message;case cde:case dde:return e==t+"";case ode:var l=ede;case ude:var c=n&rde;if(l||(l=tde),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=nde,o.set(e,t);var d=Zue(l(e),l(t),n,s,i,o);return o.delete(e),d;case fde:if(uw)return uw.call(e)==uw.call(t)}return!1}var gde=mde;function vde(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var I3=vde,yde=I3,xde=Fn;function bde(e,t,r){var n=t(e);return xde(e)?n:yde(n,r(e))}var wde=bde;function jde(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var _de=jde;function Sde(){return[]}var Nde=Sde,kde=_de,Cde=Nde,Ede=Object.prototype,Ode=Ede.propertyIsEnumerable,vP=Object.getOwnPropertySymbols,Pde=vP?function(e){return e==null?[]:(e=Object(e),kde(vP(e),function(t){return Ode.call(e,t)}))}:Cde,Ade=Pde;function Tde(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Rde=Tde,$de=$a,Mde=Ma,Ide="[object Arguments]";function Dde(e){return Mde(e)&&$de(e)==Ide}var Lde=Dde,yP=Lde,Fde=Ma,D3=Object.prototype,Ude=D3.hasOwnProperty,Bde=D3.propertyIsEnumerable,zde=yP(function(){return arguments}())?yP:function(e){return Fde(e)&&Ude.call(e,"callee")&&!Bde.call(e,"callee")},SN=zde,yv={exports:{}};function qde(){return!1}var Wde=qde;yv.exports;(function(e,t){var r=qi,n=Wde,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(yv,yv.exports);var L3=yv.exports,Vde=9007199254740991,Hde=/^(?:0|[1-9]\d*)$/;function Kde(e,t){var r=typeof e;return t=t??Vde,!!t&&(r=="number"||r!="symbol"&&Hde.test(e))&&e>-1&&e%1==0&&e<t}var NN=Kde,Gde=9007199254740991;function Yde(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Gde}var kN=Yde,Qde=$a,Xde=kN,Jde=Ma,Zde="[object Arguments]",efe="[object Array]",tfe="[object Boolean]",rfe="[object Date]",nfe="[object Error]",sfe="[object Function]",ife="[object Map]",afe="[object Number]",ofe="[object Object]",lfe="[object RegExp]",cfe="[object Set]",ufe="[object String]",dfe="[object WeakMap]",ffe="[object ArrayBuffer]",hfe="[object DataView]",pfe="[object Float32Array]",mfe="[object Float64Array]",gfe="[object Int8Array]",vfe="[object Int16Array]",yfe="[object Int32Array]",xfe="[object Uint8Array]",bfe="[object Uint8ClampedArray]",wfe="[object Uint16Array]",jfe="[object Uint32Array]",Qt={};Qt[pfe]=Qt[mfe]=Qt[gfe]=Qt[vfe]=Qt[yfe]=Qt[xfe]=Qt[bfe]=Qt[wfe]=Qt[jfe]=!0;Qt[Zde]=Qt[efe]=Qt[ffe]=Qt[tfe]=Qt[hfe]=Qt[rfe]=Qt[nfe]=Qt[sfe]=Qt[ife]=Qt[afe]=Qt[ofe]=Qt[lfe]=Qt[cfe]=Qt[ufe]=Qt[dfe]=!1;function _fe(e){return Jde(e)&&Xde(e.length)&&!!Qt[Qde(e)]}var Sfe=_fe;function Nfe(e){return function(t){return e(t)}}var F3=Nfe,xv={exports:{}};xv.exports;(function(e,t){var r=KF,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(xv,xv.exports);var kfe=xv.exports,Cfe=Sfe,Efe=F3,xP=kfe,bP=xP&&xP.isTypedArray,Ofe=bP?Efe(bP):Cfe,U3=Ofe,Pfe=Rde,Afe=SN,Tfe=Fn,Rfe=L3,$fe=NN,Mfe=U3,Ife=Object.prototype,Dfe=Ife.hasOwnProperty;function Lfe(e,t){var r=Tfe(e),n=!r&&Afe(e),s=!r&&!n&&Rfe(e),i=!r&&!n&&!s&&Mfe(e),o=r||n||s||i,l=o?Pfe(e.length,String):[],c=l.length;for(var u in e)(t||Dfe.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||$fe(u,c)))&&l.push(u);return l}var Ffe=Lfe,Ufe=Object.prototype;function Bfe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ufe;return e===r}var zfe=Bfe;function qfe(e,t){return function(r){return e(t(r))}}var B3=qfe,Wfe=B3,Vfe=Wfe(Object.keys,Object),Hfe=Vfe,Kfe=zfe,Gfe=Hfe,Yfe=Object.prototype,Qfe=Yfe.hasOwnProperty;function Xfe(e){if(!Kfe(e))return Gfe(e);var t=[];for(var r in Object(e))Qfe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Jfe=Xfe,Zfe=oN,ehe=kN;function the(e){return e!=null&&ehe(e.length)&&!Zfe(e)}var Fp=the,rhe=Ffe,nhe=Jfe,she=Fp;function ihe(e){return she(e)?rhe(e):nhe(e)}var Ax=ihe,ahe=wde,ohe=Ade,lhe=Ax;function che(e){return ahe(e,lhe,ohe)}var uhe=che,wP=uhe,dhe=1,fhe=Object.prototype,hhe=fhe.hasOwnProperty;function phe(e,t,r,n,s,i){var o=r&dhe,l=wP(e),c=l.length,u=wP(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:hhe.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<c;){h=l[f];var y=e[h],b=t[h];if(n)var w=o?n(b,y,h,t,e,i):n(y,b,h,e,t,i);if(!(w===void 0?y===b||s(y,b,r,n,i):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var S=e.constructor,j=t.constructor;S!=j&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(m=!1)}return i.delete(e),i.delete(t),m}var mhe=phe,ghe=pc,vhe=qi,yhe=ghe(vhe,"DataView"),xhe=yhe,bhe=pc,whe=qi,jhe=bhe(whe,"Promise"),_he=jhe,She=pc,Nhe=qi,khe=She(Nhe,"Set"),z3=khe,Che=pc,Ehe=qi,Ohe=Che(Ehe,"WeakMap"),Phe=Ohe,Kj=xhe,Gj=cN,Yj=_he,Qj=z3,Xj=Phe,q3=$a,Ud=YF,jP="[object Map]",Ahe="[object Object]",_P="[object Promise]",SP="[object Set]",NP="[object WeakMap]",kP="[object DataView]",The=Ud(Kj),Rhe=Ud(Gj),$he=Ud(Yj),Mhe=Ud(Qj),Ihe=Ud(Xj),fl=q3;(Kj&&fl(new Kj(new ArrayBuffer(1)))!=kP||Gj&&fl(new Gj)!=jP||Yj&&fl(Yj.resolve())!=_P||Qj&&fl(new Qj)!=SP||Xj&&fl(new Xj)!=NP)&&(fl=function(e){var t=q3(e),r=t==Ahe?e.constructor:void 0,n=r?Ud(r):"";if(n)switch(n){case The:return kP;case Rhe:return jP;case $he:return _P;case Mhe:return SP;case Ihe:return NP}return t});var Dhe=fl,dw=A3,Lhe=M3,Fhe=gde,Uhe=mhe,CP=Dhe,EP=Fn,OP=L3,Bhe=U3,zhe=1,PP="[object Arguments]",AP="[object Array]",Pm="[object Object]",qhe=Object.prototype,TP=qhe.hasOwnProperty;function Whe(e,t,r,n,s,i){var o=EP(e),l=EP(t),c=o?AP:CP(e),u=l?AP:CP(t);c=c==PP?Pm:c,u=u==PP?Pm:u;var d=c==Pm,f=u==Pm,h=c==u;if(h&&OP(e)){if(!OP(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new dw),o||Bhe(e)?Lhe(e,t,r,n,s,i):Fhe(e,t,c,r,n,s,i);if(!(r&zhe)){var p=d&&TP.call(e,"__wrapped__"),g=f&&TP.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return i||(i=new dw),s(m,v,r,n,i)}}return h?(i||(i=new dw),Uhe(e,t,r,n,s,i)):!1}var Vhe=Whe,Hhe=Vhe,RP=Ma;function W3(e,t,r,n,s){return e===t?!0:e==null||t==null||!RP(e)&&!RP(t)?e!==e&&t!==t:Hhe(e,t,r,n,W3,s)}var CN=W3,Khe=A3,Ghe=CN,Yhe=1,Qhe=2;function Xhe(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Khe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Ghe(d,u,Yhe|Qhe,n,f):h))return!1}}return!0}var Jhe=Xhe,Zhe=Xo;function epe(e){return e===e&&!Zhe(e)}var V3=epe,tpe=V3,rpe=Ax;function npe(e){for(var t=rpe(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,tpe(s)]}return t}var spe=npe;function ipe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var H3=ipe,ape=Jhe,ope=spe,lpe=H3;function cpe(e){var t=ope(e);return t.length==1&&t[0][2]?lpe(t[0][0],t[0][1]):function(r){return r===e||ape(r,e,t)}}var upe=cpe;function dpe(e,t){return e!=null&&t in Object(e)}var fpe=dpe,hpe=e3,ppe=SN,mpe=Fn,gpe=NN,vpe=kN,ype=gx;function xpe(e,t,r){t=hpe(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=ype(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&vpe(s)&&gpe(o,s)&&(mpe(e)||ppe(e)))}var bpe=xpe,wpe=fpe,jpe=bpe;function _pe(e,t){return e!=null&&jpe(e,t,wpe)}var Spe=_pe,Npe=CN,kpe=t3,Cpe=Spe,Epe=aN,Ope=V3,Ppe=H3,Ape=gx,Tpe=1,Rpe=2;function $pe(e,t){return Epe(e)&&Ope(t)?Ppe(Ape(e),t):function(r){var n=kpe(r,e);return n===void 0&&n===t?Cpe(r,e):Npe(t,n,Tpe|Rpe)}}var Mpe=$pe;function Ipe(e){return e}var Bd=Ipe;function Dpe(e){return function(t){return t==null?void 0:t[e]}}var Lpe=Dpe,Fpe=hN;function Upe(e){return function(t){return Fpe(t,e)}}var Bpe=Upe,zpe=Lpe,qpe=Bpe,Wpe=aN,Vpe=gx;function Hpe(e){return Wpe(e)?zpe(Vpe(e)):qpe(e)}var Kpe=Hpe,Gpe=upe,Ype=Mpe,Qpe=Bd,Xpe=Fn,Jpe=Kpe;function Zpe(e){return typeof e=="function"?e:e==null?Qpe:typeof e=="object"?Xpe(e)?Ype(e[0],e[1]):Gpe(e):Jpe(e)}var Jo=Zpe;function eme(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var K3=eme;function tme(e){return e!==e}var rme=tme;function nme(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var sme=nme,ime=K3,ame=rme,ome=sme;function lme(e,t,r){return t===t?ome(e,t,r):ime(e,ame,r)}var cme=lme,ume=cme;function dme(e,t){var r=e==null?0:e.length;return!!r&&ume(e,t,0)>-1}var fme=dme;function hme(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var pme=hme;function mme(){}var gme=mme,fw=z3,vme=gme,yme=_N,xme=1/0,bme=fw&&1/yme(new fw([,-0]))[1]==xme?function(e){return new fw(e)}:vme,wme=bme,jme=T3,_me=fme,Sme=pme,Nme=$3,kme=wme,Cme=_N,Eme=200;function Ome(e,t,r){var n=-1,s=_me,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=Sme;else if(i>=Eme){var u=t?null:kme(e);if(u)return Cme(u);o=!1,s=Nme,c=new jme}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Pme=Ome,Ame=Jo,Tme=Pme;function Rme(e,t){return e&&e.length?Tme(e,Ame(t)):[]}var $me=Rme;const $P=Lt($me);function G3(e,t,r){return t===!0?$P(e,r):nt(t)?$P(e,t):e}function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}var Mme=["ref"];function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){Tx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ime(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q3(n.key),n)}}function Dme(e,t,r){return t&&IP(e.prototype,t),r&&IP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lme(e,t,r){return t=bv(t),Fme(e,Y3()?Reflect.construct(t,r||[],bv(e).constructor):t.apply(e,r))}function Fme(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ume(e)}function Ume(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y3=function(){return!!e})()}function bv(e){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bv(e)}function Bme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jj(e,t)}function Jj(e,t){return Jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Jj(e,t)}function Tx(e,t,r){return t=Q3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q3(e){var t=zme(e,"string");return Xu(t)=="symbol"?t:t+""}function zme(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qme(e,t){if(e==null)return{};var r=Wme(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vme(e){return e.value}function Hme(e,t){if(P.isValidElement(e))return P.cloneElement(e,t);if(typeof e=="function")return P.createElement(e,t);t.ref;var r=qme(t,Mme);return P.createElement(jN,r)}var DP=1,mu=function(e){function t(){var r;Ime(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Lme(this,t,[].concat(s)),Tx(r,"lastBoundingBox",{width:-1,height:-1}),r}return Bme(t,e),Dme(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>DP||Math.abs(s.height-this.lastBoundingBox.height)>DP)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ki({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ki(Ki({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Ki(Ki({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return P.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Hme(i,Ki(Ki({},this.props),{},{payload:G3(d,u,Vme)})))}}],[{key:"getWithHeight",value:function(n,s){var i=Ki(Ki({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&de(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(x.PureComponent);Tx(mu,"displayName","Legend");Tx(mu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var LP=Dp,Kme=SN,Gme=Fn,FP=LP?LP.isConcatSpreadable:void 0;function Yme(e){return Gme(e)||Kme(e)||!!(FP&&e&&e[FP])}var Qme=Yme,Xme=I3,Jme=Qme;function X3(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=Jme),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?X3(l,t-1,r,n,s):Xme(s,l):n||(s[s.length]=l)}return s}var J3=X3;function Zme(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var ege=Zme,tge=ege,rge=tge(),nge=rge,sge=nge,ige=Ax;function age(e,t){return e&&sge(e,t,ige)}var Z3=age,oge=Fp;function lge(e,t){return function(r,n){if(r==null)return r;if(!oge(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var cge=lge,uge=Z3,dge=cge,fge=dge(uge),EN=fge,hge=EN,pge=Fp;function mge(e,t){var r=-1,n=pge(e)?Array(e.length):[];return hge(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var e5=mge;function gge(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var vge=gge,UP=Rd;function yge(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=UP(e),o=t!==void 0,l=t===null,c=t===t,u=UP(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var xge=yge,bge=xge;function wge(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=bge(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var jge=wge,hw=fN,_ge=hN,Sge=Jo,Nge=e5,kge=vge,Cge=F3,Ege=jge,Oge=Bd,Pge=Fn;function Age(e,t,r){t.length?t=hw(t,function(i){return Pge(i)?function(o){return _ge(o,i.length===1?i[0]:i)}:i}):t=[Oge];var n=-1;t=hw(t,Cge(Sge));var s=Nge(e,function(i,o,l){var c=hw(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return kge(s,function(i,o){return Ege(i,o,r)})}var Tge=Age;function Rge(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var $ge=Rge,Mge=$ge,BP=Math.max;function Ige(e,t,r){return t=BP(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=BP(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),Mge(e,this,l)}}var Dge=Ige;function Lge(e){return function(){return e}}var Fge=Lge,Uge=pc,Bge=function(){try{var e=Uge(Object,"defineProperty");return e({},"",{}),e}catch{}}(),t5=Bge,zge=Fge,zP=t5,qge=Bd,Wge=zP?function(e,t){return zP(e,"toString",{configurable:!0,enumerable:!1,value:zge(t),writable:!0})}:qge,Vge=Wge,Hge=800,Kge=16,Gge=Date.now;function Yge(e){var t=0,r=0;return function(){var n=Gge(),s=Kge-(n-r);if(r=n,s>0){if(++t>=Hge)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Qge=Yge,Xge=Vge,Jge=Qge,Zge=Jge(Xge),eve=Zge,tve=Bd,rve=Dge,nve=eve;function sve(e,t){return nve(rve(e,t,tve),e+"")}var ive=sve,ave=lN,ove=Fp,lve=NN,cve=Xo;function uve(e,t,r){if(!cve(r))return!1;var n=typeof t;return(n=="number"?ove(r)&&lve(t,r.length):n=="string"&&t in r)?ave(r[t],e):!1}var Rx=uve,dve=J3,fve=Tge,hve=ive,qP=Rx,pve=hve(function(e,t){if(e==null)return[];var r=t.length;return r>1&&qP(e,t[0],t[1])?t=[]:r>2&&qP(t[0],t[1],t[2])&&(t=[t[0]]),fve(e,dve(t,1),[])}),mve=pve;const ON=Lt(mve);function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(e)}function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zj.apply(this,arguments)}function gve(e,t){return bve(e)||xve(e,t)||yve(e,t)||vve()}function vve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yve(e,t){if(e){if(typeof e=="string")return WP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WP(e,t)}}function WP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bve(e){if(Array.isArray(e))return e}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){wve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wve(e,t,r){return t=jve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jve(e){var t=_ve(e,"string");return $h(t)=="symbol"?t:t+""}function _ve(e,t){if($h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sve(e){return Array.isArray(e)&&Ir(e[0])&&Ir(e[1])?e.join(" ~ "):e}var Nve=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(d&&d.length){var E={padding:0,margin:0},U=(h?ON(d,h):d).map(function(O,B){if(O.type==="none")return null;var A=pw({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},l),z=O.formatter||f||Sve,L=O.value,R=O.name,$=L,J=R;if(z&&$!=null&&J!=null){var G=z(L,R,O,B,d);if(Array.isArray(G)){var ie=gve(G,2);$=ie[0],J=ie[1]}else $=G}return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:A},Ir(J)?P.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Ir(J)?P.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,P.createElement("span",{className:"recharts-tooltip-item-value"},$),P.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:E},U)}return null},S=pw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=pw({margin:0},u),_=!lt(m),N=_?m:"",k=ut("recharts-default-tooltip",p),C=ut("recharts-tooltip-label",g);_&&v&&d!==void 0&&d!==null&&(N=v(m,d));var T=b?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",Zj({className:k,style:S},T),P.createElement("p",{className:C,style:j},P.isValidElement(N)?N:"".concat(N)),w())};function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function Am(e,t,r){return t=kve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kve(e){var t=Cve(e,"string");return Mh(t)=="symbol"?t:t+""}function Cve(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ff="recharts-tooltip-wrapper",Eve={visibility:"hidden"};function Ove(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ut(ff,Am(Am(Am(Am({},"".concat(ff,"-right"),de(r)&&t&&de(t.x)&&r>=t.x),"".concat(ff,"-left"),de(r)&&t&&de(t.x)&&r<t.x),"".concat(ff,"-bottom"),de(n)&&t&&de(t.y)&&n>=t.y),"".concat(ff,"-top"),de(n)&&t&&de(t.y)&&n<t.y))}function HP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&de(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function Pve(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ave(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=HP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=HP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Pve({translateX:d,translateY:f,useTranslate3d:l})):u=Eve,{cssProperties:u,cssClasses:Ove({translateX:d,translateY:f,coordinate:r})}}function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){t_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n5(n.key),n)}}function $ve(e,t,r){return t&&Rve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mve(e,t,r){return t=wv(t),Ive(e,r5()?Reflect.construct(t,r||[],wv(e).constructor):t.apply(e,r))}function Ive(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dve(e)}function Dve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r5=function(){return!!e})()}function wv(e){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wv(e)}function Lve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e_(e,t)}function e_(e,t){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},e_(e,t)}function t_(e,t,r){return t=n5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n5(e){var t=Fve(e,"string");return Ju(t)=="symbol"?t:t+""}function Fve(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var YP=1,Uve=function(e){function t(){var r;Tve(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Mve(this,t,[].concat(s)),t_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),t_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Lve(t,e),$ve(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>YP||Math.abs(n.height-this.state.lastBoundingBox.height)>YP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,g=s.position,m=s.reverseDirection,v=s.useTranslate3d,y=s.viewBox,b=s.wrapperStyle,w=Ave({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),S=w.cssClasses,j=w.cssProperties,_=GP(GP({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return P.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(k){n.wrapperNode=k}},u)}}])}(x.PureComponent),Bve=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},zd={isSsr:Bve()};function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function XP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){PN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i5(n.key),n)}}function Wve(e,t,r){return t&&qve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vve(e,t,r){return t=jv(t),Hve(e,s5()?Reflect.construct(t,r||[],jv(e).constructor):t.apply(e,r))}function Hve(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kve(e)}function Kve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s5=function(){return!!e})()}function jv(e){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jv(e)}function Gve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r_(e,t)}function r_(e,t){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},r_(e,t)}function PN(e,t,r){return t=i5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i5(e){var t=Yve(e,"string");return Zu(t)=="symbol"?t:t+""}function Yve(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qve(e){return e.dataKey}function Xve(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(Nve,t)}var yi=function(e){function t(){return zve(this,t),Vve(this,t,arguments)}return Gve(t,e),Wve(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,g=s.payload,m=s.payloadUniqBy,v=s.position,y=s.reverseDirection,b=s.useTranslate3d,w=s.viewBox,S=s.wrapperStyle,j=g??[];f&&j.length&&(j=G3(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),m,Qve));var _=j.length>0;return P.createElement(Uve,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:_,offset:p,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:S},Xve(u,XP(XP({},this.props),{},{payload:j})))}}])}(x.PureComponent);PN(yi,"displayName","Tooltip");PN(yi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!zd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Jve=qi,Zve=function(){return Jve.Date.now()},eye=Zve,tye=/\s/;function rye(e){for(var t=e.length;t--&&tye.test(e.charAt(t)););return t}var nye=rye,sye=nye,iye=/^\s+/;function aye(e){return e&&e.slice(0,sye(e)+1).replace(iye,"")}var oye=aye,lye=oye,JP=Xo,cye=Rd,ZP=NaN,uye=/^[-+]0x[0-9a-f]+$/i,dye=/^0b[01]+$/i,fye=/^0o[0-7]+$/i,hye=parseInt;function pye(e){if(typeof e=="number")return e;if(cye(e))return ZP;if(JP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=JP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lye(e);var r=dye.test(e);return r||fye.test(e)?hye(e.slice(2),r?2:8):uye.test(e)?ZP:+e}var a5=pye,mye=Xo,mw=eye,e2=a5,gye="Expected a function",vye=Math.max,yye=Math.min;function xye(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(gye);t=e2(t)||0,mye(r)&&(d=!!r.leading,f="maxWait"in r,i=f?vye(e2(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(_){var N=n,k=s;return n=s=void 0,u=_,o=e.apply(k,N),o}function g(_){return u=_,l=setTimeout(y,t),d?p(_):o}function m(_){var N=_-c,k=_-u,C=t-N;return f?yye(C,i-k):C}function v(_){var N=_-c,k=_-u;return c===void 0||N>=t||N<0||f&&k>=i}function y(){var _=mw();if(v(_))return b(_);l=setTimeout(y,m(_))}function b(_){return l=void 0,h&&n?p(_):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function S(){return l===void 0?o:b(mw())}function j(){var _=mw(),N=v(_);if(n=arguments,s=this,c=_,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(y,t),p(c)}return l===void 0&&(l=setTimeout(y,t)),o}return j.cancel=w,j.flush=S,j}var bye=xye,wye=bye,jye=Xo,_ye="Expected a function";function Sye(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(_ye);return jye(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),wye(e,t,{leading:n,maxWait:t,trailing:s})}var Nye=Sye;const o5=Lt(Nye);function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){kye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kye(e,t,r){return t=Cye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cye(e){var t=Eye(e,"string");return Ih(t)=="symbol"?t:t+""}function Eye(e,t){if(Ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oye(e,t){return Rye(e)||Tye(e,t)||Aye(e,t)||Pye()}function Pye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aye(e,t){if(e){if(typeof e=="string")return r2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r2(e,t)}}function r2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Rye(e){if(Array.isArray(e))return e}var $ye=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,b=e.onResize,w=e.style,S=w===void 0?{}:w,j=x.useRef(null),_=x.useRef();_.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=x.useState({containerWidth:s.width,containerHeight:s.height}),k=Oye(N,2),C=k[0],T=k[1],I=x.useCallback(function(U,O){T(function(B){var A=Math.round(U),z=Math.round(O);return B.containerWidth===A&&B.containerHeight===z?B:{containerWidth:A,containerHeight:z}})},[]);x.useEffect(function(){var U=function(R){var $,J=R[0].contentRect,G=J.width,ie=J.height;I(G,ie),($=_.current)===null||$===void 0||$.call(_,G,ie)};m>0&&(U=o5(U,m,{trailing:!0,leading:!1}));var O=new ResizeObserver(U),B=j.current.getBoundingClientRect(),A=B.width,z=B.height;return I(A,z),O.observe(j.current),function(){O.disconnect()}},[I,m]);var E=x.useMemo(function(){var U=C.containerWidth,O=C.containerHeight;if(U<0||O<0)return null;fa(_l(o)||_l(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),fa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=_l(o)?U:o,A=_l(c)?O:c;r&&r>0&&(B?A=B/r:A&&(B=A*r),h&&A>h&&(A=h)),fa(B>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,A,o,c,d,f,r);var z=!Array.isArray(p)&&da(p.type).endsWith("Chart");return P.Children.map(p,function(L){return P.isValidElement(L)?x.cloneElement(L,Tm({width:B,height:A},z?{style:Tm({height:"100%",width:"100%",maxHeight:A,maxWidth:B},L.props.style)}:{})):L})},[r,p,c,h,f,d,C,o]);return P.createElement("div",{id:v?"".concat(v):void 0,className:ut("recharts-responsive-container",y),style:Tm(Tm({},S),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},E)}),l5=function(t){return null};l5.displayName="Cell";function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function n_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){Mye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mye(e,t,r){return t=Iye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iye(e){var t=Dye(e,"string");return Dh(t)=="symbol"?t:t+""}function Dye(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $c={widthCache:{},cacheCount:0},Lye=2e3,Fye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},s2="recharts_measurement_span";function Uye(e){var t=n_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Vf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||zd.isSsr)return{width:0,height:0};var n=Uye(r),s=JSON.stringify({text:t,copyStyle:n});if($c.widthCache[s])return $c.widthCache[s];try{var i=document.getElementById(s2);i||(i=document.createElement("span"),i.setAttribute("id",s2),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=n_(n_({},Fye),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return $c.widthCache[s]=c,++$c.cacheCount>Lye&&($c.cacheCount=0,$c.widthCache={}),c}catch{return{width:0,height:0}}},Bye=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function _v(e,t){return Vye(e)||Wye(e,t)||qye(e,t)||zye()}function zye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qye(e,t){if(e){if(typeof e=="string")return i2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i2(e,t)}}function i2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Vye(e){if(Array.isArray(e))return e}function Hye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gye(n.key),n)}}function Kye(e,t,r){return t&&a2(e.prototype,t),r&&a2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gye(e){var t=Yye(e,"string");return Lh(t)=="symbol"?t:t+""}function Yye(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var o2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,l2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Xye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,c5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jye=Object.keys(c5),tu="NaN";function Zye(e,t){return e*c5[t]}var Rm=function(){function e(t,r){Hye(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Qye.test(r)&&(this.num=NaN,this.unit=""),Jye.includes(r)&&(this.num=Zye(t,r),this.unit="px")}return Kye(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Xye.exec(r))!==null&&n!==void 0?n:[],i=_v(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function u5(e){if(e.includes(tu))return tu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=o2.exec(t))!==null&&r!==void 0?r:[],s=_v(n,4),i=s[1],o=s[2],l=s[3],c=Rm.parse(i??""),u=Rm.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return tu;t=t.replace(o2,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=l2.exec(t))!==null&&f!==void 0?f:[],p=_v(h,4),g=p[1],m=p[2],v=p[3],y=Rm.parse(g??""),b=Rm.parse(v??""),w=m==="+"?y.add(b):y.subtract(b);if(w.isNaN())return tu;t=t.replace(l2,w.toString())}return t}var c2=/\(([^()]*)\)/;function exe(e){for(var t=e;t.includes("(");){var r=c2.exec(t),n=_v(r,2),s=n[1];t=t.replace(c2,u5(s))}return t}function txe(e){var t=e.replace(/\s+/g,"");return t=exe(t),t=u5(t),t}function rxe(e){try{return txe(e)}catch{return tu}}function gw(e){var t=rxe(e.slice(5,-1));return t===tu?"":t}var nxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sxe=["dx","dy","angle","className","breakAll"];function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s_.apply(this,arguments)}function u2(e,t){if(e==null)return{};var r=ixe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ixe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function d2(e,t){return cxe(e)||lxe(e,t)||oxe(e,t)||axe()}function axe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oxe(e,t){if(e){if(typeof e=="string")return f2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f2(e,t)}}function f2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function cxe(e){if(Array.isArray(e))return e}var d5=/[ \f\n\r\t\v\u2028\u2029]+/,f5=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];lt(r)||(n?i=r.toString().split(""):i=r.toString().split(d5));var o=i.map(function(c){return{word:c,width:Vf(c,s).width}}),l=n?0:Vf("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},uxe=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=de(o),f=l,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(A,z){var L=z.word,R=z.width,$=A[A.length-1];if($&&(s==null||i||$.width+R+n<Number(s)))$.words.push(L),$.width+=R+n;else{var J={words:[L],width:R};A.push(J)}return A},[])},p=h(r),g=function(B){return B.reduce(function(A,z){return A.width>z.width?A:z})};if(!d)return p;for(var m="",v=function(B){var A=f.slice(0,B),z=f5({breakAll:u,style:c,children:A+m}).wordsWithComputedWidth,L=h(z),R=L.length>o||g(L).width>Number(s);return[R,L]},y=0,b=f.length-1,w=0,S;y<=b&&w<=f.length-1;){var j=Math.floor((y+b)/2),_=j-1,N=v(_),k=d2(N,2),C=k[0],T=k[1],I=v(j),E=d2(I,1),U=E[0];if(!C&&!U&&(y=j+1),C&&U&&(b=j-1),!C&&U){S=T;break}w++}return S||p},h2=function(t){var r=lt(t)?[]:t.toString().split(d5);return[{words:r}]},dxe=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!zd.isSsr){var c,u,d=f5({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return h2(s);return uxe({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return h2(s)},p2="#808080",Sv=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?p2:v,b=u2(t,nxe),w=x.useMemo(function(){return dxe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),S=b.dx,j=b.dy,_=b.angle,N=b.className,k=b.breakAll,C=u2(b,sxe);if(!Ir(n)||!Ir(i))return null;var T=n+(de(S)?S:0),I=i+(de(j)?j:0),E;switch(m){case"start":E=gw("calc(".concat(u,")"));break;case"middle":E=gw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=gw("calc(".concat(w.length-1," * -").concat(l,")"));break}var U=[];if(f){var O=w[0].width,B=b.width;U.push("scale(".concat((de(B)?B/O:1)/O,")"))}return _&&U.push("rotate(".concat(_,", ").concat(T,", ").concat(I,")")),U.length&&(C.transform=U.join(" ")),P.createElement("text",s_({},at(C,!0),{x:T,y:I,className:ut("recharts-text",N),textAnchor:p,fill:y.includes("url")?p2:y}),w.map(function(A,z){var L=A.words.join(k?"":" ");return P.createElement("tspan",{x:T,dy:z===0?E:l,key:"".concat(L,"-").concat(z)},L)}))};function Ao(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fxe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function AN(e){let t,r,n;e.length!==2?(t=Ao,r=(l,c)=>Ao(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ao||e===fxe?e:hxe,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function hxe(){return 0}function h5(e){return e===null?NaN:+e}function*pxe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const mxe=AN(Ao),Up=mxe.right;AN(h5).center;class m2 extends Map{constructor(t,r=yxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(g2(this,t))}has(t){return super.has(g2(this,t))}set(t,r){return super.set(gxe(this,t),r)}delete(t){return super.delete(vxe(this,t))}}function g2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function gxe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function vxe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function yxe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xxe(e=Ao){if(e===Ao)return p5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function p5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bxe=Math.sqrt(50),wxe=Math.sqrt(10),jxe=Math.sqrt(2);function Nv(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=bxe?10:i>=wxe?5:i>=jxe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Nv(e,t,r*2):[l,c,u]}function i_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Nv(t,e,r):Nv(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function a_(e,t,r){return t=+t,e=+e,r=+r,Nv(e,t,r)[2]}function o_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?a_(t,e,r):a_(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function v2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function y2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function m5(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?p5:xxe(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));m5(e,t,p,g,s)}const i=e[t];let o=r,l=n;for(hf(e,r,t),s(e[n],i)>0&&hf(e,r,n);o<l;){for(hf(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?hf(e,r,l):(++l,hf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function hf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _xe(e,t,r){if(e=Float64Array.from(pxe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return y2(e);if(t>=1)return v2(e);var n,s=(n-1)*t,i=Math.floor(s),o=v2(m5(e,i).subarray(0,i+1)),l=y2(e.subarray(i+1));return o+(l-o)*(s-i)}}function Sxe(e,t,r=h5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function Nxe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Ps(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ia(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const l_=Symbol("implicit");function TN(){var e=new m2,t=[],r=[],n=l_;function s(i){let o=e.get(i);if(o===void 0){if(n!==l_)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new m2;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return TN(t,r).unknown(n)},Ps.apply(s,arguments),s}function Fh(){var e=TN().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,g=p?s:n,m=p?n:s;i=(m-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(m-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=Nxe(h).map(function(y){return g+i*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Fh(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ps.apply(f(),arguments)}function g5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return g5(t())},e}function Hf(){return g5(Fh.apply(null,arguments).paddingInner(1))}function RN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function v5(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Bp(){}var Uh=.7,kv=1/Uh,gu="\\s*([+-]?\\d+)\\s*",Bh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kxe=/^#([0-9a-f]{3,8})$/,Cxe=new RegExp(`^rgb\\(${gu},${gu},${gu}\\)$`),Exe=new RegExp(`^rgb\\(${Ri},${Ri},${Ri}\\)$`),Oxe=new RegExp(`^rgba\\(${gu},${gu},${gu},${Bh}\\)$`),Pxe=new RegExp(`^rgba\\(${Ri},${Ri},${Ri},${Bh}\\)$`),Axe=new RegExp(`^hsl\\(${Bh},${Ri},${Ri}\\)$`),Txe=new RegExp(`^hsla\\(${Bh},${Ri},${Ri},${Bh}\\)$`),x2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RN(Bp,zh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:b2,formatHex:b2,formatHex8:Rxe,formatHsl:$xe,formatRgb:w2,toString:w2});function b2(){return this.rgb().formatHex()}function Rxe(){return this.rgb().formatHex8()}function $xe(){return y5(this).formatHsl()}function w2(){return this.rgb().formatRgb()}function zh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=kxe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?j2(t):r===3?new Rn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?$m(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?$m(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Cxe.exec(e))?new Rn(t[1],t[2],t[3],1):(t=Exe.exec(e))?new Rn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Oxe.exec(e))?$m(t[1],t[2],t[3],t[4]):(t=Pxe.exec(e))?$m(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Axe.exec(e))?N2(t[1],t[2]/100,t[3]/100,1):(t=Txe.exec(e))?N2(t[1],t[2]/100,t[3]/100,t[4]):x2.hasOwnProperty(e)?j2(x2[e]):e==="transparent"?new Rn(NaN,NaN,NaN,0):null}function j2(e){return new Rn(e>>16&255,e>>8&255,e&255,1)}function $m(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rn(e,t,r,n)}function Mxe(e){return e instanceof Bp||(e=zh(e)),e?(e=e.rgb(),new Rn(e.r,e.g,e.b,e.opacity)):new Rn}function c_(e,t,r,n){return arguments.length===1?Mxe(e):new Rn(e,t,r,n??1)}function Rn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}RN(Rn,c_,v5(Bp,{brighter(e){return e=e==null?kv:Math.pow(kv,e),new Rn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Uh:Math.pow(Uh,e),new Rn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rn(Fl(this.r),Fl(this.g),Fl(this.b),Cv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_2,formatHex:_2,formatHex8:Ixe,formatRgb:S2,toString:S2}));function _2(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}`}function Ixe(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}${Sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function S2(){const e=Cv(this.opacity);return`${e===1?"rgb(":"rgba("}${Fl(this.r)}, ${Fl(this.g)}, ${Fl(this.b)}${e===1?")":`, ${e})`}`}function Cv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sl(e){return e=Fl(e),(e<16?"0":"")+e.toString(16)}function N2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zs(e,t,r,n)}function y5(e){if(e instanceof Zs)return new Zs(e.h,e.s,e.l,e.opacity);if(e instanceof Bp||(e=zh(e)),!e)return new Zs;if(e instanceof Zs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Zs(o,l,c,e.opacity)}function Dxe(e,t,r,n){return arguments.length===1?y5(e):new Zs(e,t,r,n??1)}function Zs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}RN(Zs,Dxe,v5(Bp,{brighter(e){return e=e==null?kv:Math.pow(kv,e),new Zs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Uh:Math.pow(Uh,e),new Zs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Rn(vw(e>=240?e-240:e+120,s,n),vw(e,s,n),vw(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Zs(k2(this.h),Mm(this.s),Mm(this.l),Cv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cv(this.opacity);return`${e===1?"hsl(":"hsla("}${k2(this.h)}, ${Mm(this.s)*100}%, ${Mm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function k2(e){return e=(e||0)%360,e<0?e+360:e}function Mm(e){return Math.max(0,Math.min(1,e||0))}function vw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const $N=e=>()=>e;function Lxe(e,t){return function(r){return e+r*t}}function Fxe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Uxe(e){return(e=+e)==1?x5:function(t,r){return r-t?Fxe(t,r,e):$N(isNaN(t)?r:t)}}function x5(e,t){var r=t-e;return r?Lxe(e,r):$N(isNaN(e)?t:e)}const C2=function e(t){var r=Uxe(t);function n(s,i){var o=r((s=c_(s)).r,(i=c_(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=x5(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function Bxe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function zxe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qxe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=qd(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function Wxe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ev(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Vxe(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=qd(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var u_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yw=new RegExp(u_.source,"g");function Hxe(e){return function(){return e}}function Kxe(e){return function(t){return e(t)+""}}function Gxe(e,t){var r=u_.lastIndex=yw.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=u_.exec(e))&&(s=yw.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Ev(n,s)})),r=yw.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Kxe(c[0].x):Hxe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function qd(e,t){var r=typeof t,n;return t==null||r==="boolean"?$N(t):(r==="number"?Ev:r==="string"?(n=zh(t))?(t=n,C2):Gxe:t instanceof zh?C2:t instanceof Date?Wxe:zxe(t)?Bxe:Array.isArray(t)?qxe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Vxe:Ev)(e,t)}function MN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Yxe(e,t){t===void 0&&(t=e,e=qd);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Qxe(e){return function(){return e}}function Ov(e){return+e}var E2=[0,1];function gn(e){return e}function d_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Qxe(isNaN(t)?NaN:.5)}function Xxe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Jxe(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=d_(s,n),i=r(o,i)):(n=d_(n,s),i=r(i,o)),function(l){return i(n(l))}}function Zxe(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=d_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Up(e,l,1,n)-1;return i[c](s[c](l))}}function zp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $x(){var e=E2,t=E2,r=qd,n,s,i,o=gn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==gn&&(o=Xxe(e[0],e[h-1])),l=h>2?Zxe:Jxe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),Ev)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Ov),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=MN,d()},f.clamp=function(h){return arguments.length?(o=h?!0:gn,d()):o!==gn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,d()}}function IN(){return $x()(gn,gn)}function ebe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Pv(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ed(e){return e=Pv(Math.abs(e)),e?e[1]:NaN}function tbe(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function rbe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var nbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qh(e){if(!(t=nbe.exec(e)))throw new Error("invalid format: "+e);var t;return new DN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qh.prototype=DN.prototype;function DN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}DN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sbe(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var Av;function ibe(e,t){var r=Pv(e,t);if(!r)return Av=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(Av=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Pv(e,Math.max(0,t+i-1))[0]}function O2(e,t){var r=Pv(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const P2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ebe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>O2(e*100,t),r:O2,s:ibe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function A2(e){return e}var T2=Array.prototype.map,R2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function abe(e){var t=e.grouping===void 0||e.thousands===void 0?A2:tbe(T2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?A2:rbe(T2.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=qh(f);var p=f.fill,g=f.align,m=f.sign,v=f.symbol,y=f.zero,b=f.width,w=f.comma,S=f.precision,j=f.trim,_=f.type;_==="n"?(w=!0,_="g"):P2[_]||(S===void 0&&(S=12),j=!0,_="g"),(y||p==="0"&&g==="=")&&(y=!0,p="0",g="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():""),k=(v==="$"?n:/[%p]/.test(_)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),C=P2[_],T=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(E){var U=N,O=k,B,A,z;if(_==="c")O=C(E)+O,E="";else{E=+E;var L=E<0||1/E<0;if(E=isNaN(E)?c:C(Math.abs(E),S),j&&(E=sbe(E)),L&&+E==0&&m!=="+"&&(L=!1),U=(L?m==="("?m:l:m==="-"||m==="("?"":m)+U,O=(_==="s"&&!isNaN(E)&&Av!==void 0?R2[8+Av/3]:"")+O+(L&&m==="("?")":""),T){for(B=-1,A=E.length;++B<A;)if(z=E.charCodeAt(B),48>z||z>57){O=(z===46?s+E.slice(B+1):E.slice(B))+O,E=E.slice(0,B);break}}}w&&!y&&(E=t(E,1/0));var R=U.length+E.length+O.length,$=R<b?new Array(b-R+1).join(p):"";switch(w&&y&&(E=t($+E,$.length?b-O.length:1/0),$=""),g){case"<":E=U+E+O+$;break;case"=":E=U+$+E+O;break;case"^":E=$.slice(0,R=$.length>>1)+U+E+O+$.slice(R);break;default:E=$+U+E+O;break}return i(E)}return I.toString=function(){return f+""},I}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(ed(h)/3)))*3,g=Math.pow(10,-p),m=u((f=qh(f),f.type="f",f),{suffix:R2[8+p/3]});return function(v){return m(g*v)}}return{format:u,formatPrefix:d}}var Im,LN,b5;obe({thousands:",",grouping:[3],currency:["$",""]});function obe(e){return Im=abe(e),LN=Im.format,b5=Im.formatPrefix,Im}function lbe(e){return Math.max(0,-ed(Math.abs(e)))}function cbe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ed(t)/3)))*3-ed(Math.abs(e)))}function ube(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ed(t)-ed(e))+1}function w5(e,t,r,n){var s=o_(e,t,r),i;switch(n=qh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=cbe(s,o))&&(n.precision=i),b5(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=ube(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=lbe(s))&&(n.precision=i-(n.type==="%")*2);break}}return LN(n)}function Zo(e){var t=e.domain;return e.ticks=function(r){var n=t();return i_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return w5(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=a_(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Tv(){var e=IN();return e.copy=function(){return zp(e,Tv())},Ps.apply(e,arguments),Zo(e)}function j5(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ov),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return j5(e).unknown(t)},e=arguments.length?Array.from(e,Ov):[0,1],Zo(r)}function _5(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function $2(e){return Math.log(e)}function M2(e){return Math.exp(e)}function dbe(e){return-Math.log(-e)}function fbe(e){return-Math.exp(-e)}function hbe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pbe(e){return e===10?hbe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mbe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function I2(e){return(t,r)=>-e(-t,r)}function FN(e){const t=e($2,M2),r=t.domain;let n=10,s,i;function o(){return s=mbe(n),i=pbe(n),r()[0]<0?(s=I2(s),i=I2(i),e(dbe,fbe)):e($2,M2),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),g,m;const v=l==null?10:+l;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;y.push(m)}y.length*2<v&&(y=i_(u,d,v))}else y=i_(h,p,Math.min(p-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=qh(c)).precision==null&&(c.trim=!0),c=LN(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(_5(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function S5(){const e=FN($x()).domain([1,10]);return e.copy=()=>zp(e,S5()).base(e.base()),Ps.apply(e,arguments),e}function D2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function L2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function UN(e){var t=1,r=e(D2(t),L2(t));return r.constant=function(n){return arguments.length?e(D2(t=+n),L2(t)):t},Zo(r)}function N5(){var e=UN($x());return e.copy=function(){return zp(e,N5()).constant(e.constant())},Ps.apply(e,arguments)}function F2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gbe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vbe(e){return e<0?-e*e:e*e}function BN(e){var t=e(gn,gn),r=1;function n(){return r===1?e(gn,gn):r===.5?e(gbe,vbe):e(F2(r),F2(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Zo(t)}function zN(){var e=BN($x());return e.copy=function(){return zp(e,zN()).exponent(e.exponent())},Ps.apply(e,arguments),e}function ybe(){return zN.apply(null,arguments).exponent(.5)}function U2(e){return Math.sign(e)*e*e}function xbe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function k5(){var e=IN(),t=[0,1],r=!1,n;function s(i){var o=xbe(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(U2(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ov)).map(U2)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return k5(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ps.apply(s,arguments),Zo(s)}function C5(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Sxe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Up(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ao),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return C5().domain(e).range(t).unknown(n)},Ps.apply(i,arguments)}function E5(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Up(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return E5().domain([e,t]).range(s).unknown(i)},Ps.apply(Zo(o),arguments)}function O5(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Up(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return O5().domain(e).range(t).unknown(r)},Ps.apply(s,arguments)}const xw=new Date,bw=new Date;function Lr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Lr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(xw.setTime(+i),bw.setTime(+o),e(xw),e(bw),Math.floor(r(xw,bw))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Rv=Lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Rv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Rv);Rv.range;const ia=1e3,ys=ia*60,aa=ys*60,Sa=aa*24,qN=Sa*7,B2=Sa*30,ww=Sa*365,Nl=Lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getUTCSeconds());Nl.range;const WN=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ia)},(e,t)=>{e.setTime(+e+t*ys)},(e,t)=>(t-e)/ys,e=>e.getMinutes());WN.range;const VN=Lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ys)},(e,t)=>(t-e)/ys,e=>e.getUTCMinutes());VN.range;const HN=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ia-e.getMinutes()*ys)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getHours());HN.range;const KN=Lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCHours());KN.range;const qp=Lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ys)/Sa,e=>e.getDate()-1);qp.range;const Mx=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sa,e=>e.getUTCDate()-1);Mx.range;const P5=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sa,e=>Math.floor(e/Sa));P5.range;function mc(e){return Lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ys)/qN)}const Ix=mc(0),$v=mc(1),bbe=mc(2),wbe=mc(3),td=mc(4),jbe=mc(5),_be=mc(6);Ix.range;$v.range;bbe.range;wbe.range;td.range;jbe.range;_be.range;function gc(e){return Lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/qN)}const Dx=gc(0),Mv=gc(1),Sbe=gc(2),Nbe=gc(3),rd=gc(4),kbe=gc(5),Cbe=gc(6);Dx.range;Mv.range;Sbe.range;Nbe.range;rd.range;kbe.range;Cbe.range;const GN=Lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());GN.range;const YN=Lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());YN.range;const Na=Lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Na.range;const ka=Lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ka.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ka.range;function A5(e,t,r,n,s,i){const o=[[Nl,1,ia],[Nl,5,5*ia],[Nl,15,15*ia],[Nl,30,30*ia],[i,1,ys],[i,5,5*ys],[i,15,15*ys],[i,30,30*ys],[s,1,aa],[s,3,3*aa],[s,6,6*aa],[s,12,12*aa],[n,1,Sa],[n,2,2*Sa],[r,1,qN],[t,1,B2],[t,3,3*B2],[e,1,ww]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=AN(([,,v])=>v).right(o,h);if(p===o.length)return e.every(o_(u/ww,d/ww,f));if(p===0)return Rv.every(Math.max(o_(u,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[Ebe,Obe]=A5(ka,YN,Dx,P5,KN,VN),[Pbe,Abe]=A5(Na,GN,Ix,qp,HN,WN);function jw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _w(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Tbe(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=mf(s),d=gf(s),f=mf(i),h=gf(i),p=mf(o),g=gf(o),m=mf(l),v=gf(l),y=mf(c),b=gf(c),w={a:z,A:L,b:R,B:$,c:null,d:K2,e:K2,f:twe,g:dwe,G:hwe,H:Jbe,I:Zbe,j:ewe,L:T5,m:rwe,M:nwe,p:J,q:G,Q:Q2,s:X2,S:swe,u:iwe,U:awe,V:owe,w:lwe,W:cwe,x:null,X:null,y:uwe,Y:fwe,Z:pwe,"%":Y2},S={a:ie,A:he,b:Le,B:Fe,c:null,d:G2,e:G2,f:ywe,g:Ewe,G:Pwe,H:mwe,I:gwe,j:vwe,L:$5,m:xwe,M:bwe,p:ce,q:Me,Q:Q2,s:X2,S:wwe,u:jwe,U:_we,V:Swe,w:Nwe,W:kwe,x:null,X:null,y:Cwe,Y:Owe,Z:Awe,"%":Y2},j={a:T,A:I,b:E,B:U,c:O,d:V2,e:V2,f:Gbe,g:W2,G:q2,H:H2,I:H2,j:Wbe,L:Kbe,m:qbe,M:Vbe,p:C,q:zbe,Q:Qbe,s:Xbe,S:Hbe,u:Dbe,U:Lbe,V:Fbe,w:Ibe,W:Ube,x:B,X:A,y:W2,Y:q2,Z:Bbe,"%":Ybe};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),S.x=_(r,S),S.X=_(n,S),S.c=_(t,S);function _(re,pe){return function(H){var K=[],Ye=-1,Ue=0,wt=re.length,yt,Zt,tn;for(H instanceof Date||(H=new Date(+H));++Ye<wt;)re.charCodeAt(Ye)===37&&(K.push(re.slice(Ue,Ye)),(Zt=z2[yt=re.charAt(++Ye)])!=null?yt=re.charAt(++Ye):Zt=yt==="e"?" ":"0",(tn=pe[yt])&&(yt=tn(H,Zt)),K.push(yt),Ue=Ye+1);return K.push(re.slice(Ue,Ye)),K.join("")}}function N(re,pe){return function(H){var K=pf(1900,void 0,1),Ye=k(K,re,H+="",0),Ue,wt;if(Ye!=H.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(pe&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Ue=_w(pf(K.y,0,1)),wt=Ue.getUTCDay(),Ue=wt>4||wt===0?Mv.ceil(Ue):Mv(Ue),Ue=Mx.offset(Ue,(K.V-1)*7),K.y=Ue.getUTCFullYear(),K.m=Ue.getUTCMonth(),K.d=Ue.getUTCDate()+(K.w+6)%7):(Ue=jw(pf(K.y,0,1)),wt=Ue.getDay(),Ue=wt>4||wt===0?$v.ceil(Ue):$v(Ue),Ue=qp.offset(Ue,(K.V-1)*7),K.y=Ue.getFullYear(),K.m=Ue.getMonth(),K.d=Ue.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),wt="Z"in K?_w(pf(K.y,0,1)).getUTCDay():jw(pf(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(wt+5)%7:K.w+K.U*7-(wt+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,_w(K)):jw(K)}}function k(re,pe,H,K){for(var Ye=0,Ue=pe.length,wt=H.length,yt,Zt;Ye<Ue;){if(K>=wt)return-1;if(yt=pe.charCodeAt(Ye++),yt===37){if(yt=pe.charAt(Ye++),Zt=j[yt in z2?pe.charAt(Ye++):yt],!Zt||(K=Zt(re,H,K))<0)return-1}else if(yt!=H.charCodeAt(K++))return-1}return K}function C(re,pe,H){var K=u.exec(pe.slice(H));return K?(re.p=d.get(K[0].toLowerCase()),H+K[0].length):-1}function T(re,pe,H){var K=p.exec(pe.slice(H));return K?(re.w=g.get(K[0].toLowerCase()),H+K[0].length):-1}function I(re,pe,H){var K=f.exec(pe.slice(H));return K?(re.w=h.get(K[0].toLowerCase()),H+K[0].length):-1}function E(re,pe,H){var K=y.exec(pe.slice(H));return K?(re.m=b.get(K[0].toLowerCase()),H+K[0].length):-1}function U(re,pe,H){var K=m.exec(pe.slice(H));return K?(re.m=v.get(K[0].toLowerCase()),H+K[0].length):-1}function O(re,pe,H){return k(re,t,pe,H)}function B(re,pe,H){return k(re,r,pe,H)}function A(re,pe,H){return k(re,n,pe,H)}function z(re){return o[re.getDay()]}function L(re){return i[re.getDay()]}function R(re){return c[re.getMonth()]}function $(re){return l[re.getMonth()]}function J(re){return s[+(re.getHours()>=12)]}function G(re){return 1+~~(re.getMonth()/3)}function ie(re){return o[re.getUTCDay()]}function he(re){return i[re.getUTCDay()]}function Le(re){return c[re.getUTCMonth()]}function Fe(re){return l[re.getUTCMonth()]}function ce(re){return s[+(re.getUTCHours()>=12)]}function Me(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var pe=_(re+="",w);return pe.toString=function(){return re},pe},parse:function(re){var pe=N(re+="",!1);return pe.toString=function(){return re},pe},utcFormat:function(re){var pe=_(re+="",S);return pe.toString=function(){return re},pe},utcParse:function(re){var pe=N(re+="",!0);return pe.toString=function(){return re},pe}}}var z2={"-":"",_:" ",0:"0"},Vr=/^\s*\d+/,Rbe=/^%/,$be=/[\\^$*+?|[\]().{}]/g;function vt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Mbe(e){return e.replace($be,"\\$&")}function mf(e){return new RegExp("^(?:"+e.map(Mbe).join("|")+")","i")}function gf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Ibe(e,t,r){var n=Vr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Dbe(e,t,r){var n=Vr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Lbe(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Fbe(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Ube(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function q2(e,t,r){var n=Vr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function W2(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Bbe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function zbe(e,t,r){var n=Vr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function qbe(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function V2(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Wbe(e,t,r){var n=Vr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function H2(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Vbe(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Hbe(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Kbe(e,t,r){var n=Vr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Gbe(e,t,r){var n=Vr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ybe(e,t,r){var n=Rbe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Qbe(e,t,r){var n=Vr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Xbe(e,t,r){var n=Vr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function K2(e,t){return vt(e.getDate(),t,2)}function Jbe(e,t){return vt(e.getHours(),t,2)}function Zbe(e,t){return vt(e.getHours()%12||12,t,2)}function ewe(e,t){return vt(1+qp.count(Na(e),e),t,3)}function T5(e,t){return vt(e.getMilliseconds(),t,3)}function twe(e,t){return T5(e,t)+"000"}function rwe(e,t){return vt(e.getMonth()+1,t,2)}function nwe(e,t){return vt(e.getMinutes(),t,2)}function swe(e,t){return vt(e.getSeconds(),t,2)}function iwe(e){var t=e.getDay();return t===0?7:t}function awe(e,t){return vt(Ix.count(Na(e)-1,e),t,2)}function R5(e){var t=e.getDay();return t>=4||t===0?td(e):td.ceil(e)}function owe(e,t){return e=R5(e),vt(td.count(Na(e),e)+(Na(e).getDay()===4),t,2)}function lwe(e){return e.getDay()}function cwe(e,t){return vt($v.count(Na(e)-1,e),t,2)}function uwe(e,t){return vt(e.getFullYear()%100,t,2)}function dwe(e,t){return e=R5(e),vt(e.getFullYear()%100,t,2)}function fwe(e,t){return vt(e.getFullYear()%1e4,t,4)}function hwe(e,t){var r=e.getDay();return e=r>=4||r===0?td(e):td.ceil(e),vt(e.getFullYear()%1e4,t,4)}function pwe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vt(t/60|0,"0",2)+vt(t%60,"0",2)}function G2(e,t){return vt(e.getUTCDate(),t,2)}function mwe(e,t){return vt(e.getUTCHours(),t,2)}function gwe(e,t){return vt(e.getUTCHours()%12||12,t,2)}function vwe(e,t){return vt(1+Mx.count(ka(e),e),t,3)}function $5(e,t){return vt(e.getUTCMilliseconds(),t,3)}function ywe(e,t){return $5(e,t)+"000"}function xwe(e,t){return vt(e.getUTCMonth()+1,t,2)}function bwe(e,t){return vt(e.getUTCMinutes(),t,2)}function wwe(e,t){return vt(e.getUTCSeconds(),t,2)}function jwe(e){var t=e.getUTCDay();return t===0?7:t}function _we(e,t){return vt(Dx.count(ka(e)-1,e),t,2)}function M5(e){var t=e.getUTCDay();return t>=4||t===0?rd(e):rd.ceil(e)}function Swe(e,t){return e=M5(e),vt(rd.count(ka(e),e)+(ka(e).getUTCDay()===4),t,2)}function Nwe(e){return e.getUTCDay()}function kwe(e,t){return vt(Mv.count(ka(e)-1,e),t,2)}function Cwe(e,t){return vt(e.getUTCFullYear()%100,t,2)}function Ewe(e,t){return e=M5(e),vt(e.getUTCFullYear()%100,t,2)}function Owe(e,t){return vt(e.getUTCFullYear()%1e4,t,4)}function Pwe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?rd(e):rd.ceil(e),vt(e.getUTCFullYear()%1e4,t,4)}function Awe(){return"+0000"}function Y2(){return"%"}function Q2(e){return+e}function X2(e){return Math.floor(+e/1e3)}var Mc,I5,D5;Twe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Twe(e){return Mc=Tbe(e),I5=Mc.format,Mc.parse,D5=Mc.utcFormat,Mc.utcParse,Mc}function Rwe(e){return new Date(e)}function $we(e){return e instanceof Date?+e:+new Date(+e)}function QN(e,t,r,n,s,i,o,l,c,u){var d=IN(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),w=u("%B"),S=u("%Y");function j(_){return(c(_)<_?p:l(_)<_?g:o(_)<_?m:i(_)<_?v:n(_)<_?s(_)<_?y:b:r(_)<_?w:S)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,$we)):h().map(Rwe)},d.ticks=function(_){var N=h();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?j:u(N)},d.nice=function(_){var N=h();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?h(_5(N,_)):d},d.copy=function(){return zp(d,QN(e,t,r,n,s,i,o,l,c,u))},d}function Mwe(){return Ps.apply(QN(Pbe,Abe,Na,GN,Ix,qp,HN,WN,Nl,I5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Iwe(){return Ps.apply(QN(Ebe,Obe,ka,YN,Dx,Mx,KN,VN,Nl,D5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lx(){var e=0,t=1,r,n,s,i,o=gn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(qd),u.rangeRound=d(MN),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function el(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function L5(){var e=Zo(Lx()(gn));return e.copy=function(){return el(e,L5())},Ia.apply(e,arguments)}function F5(){var e=FN(Lx()).domain([1,10]);return e.copy=function(){return el(e,F5()).base(e.base())},Ia.apply(e,arguments)}function U5(){var e=UN(Lx());return e.copy=function(){return el(e,U5()).constant(e.constant())},Ia.apply(e,arguments)}function XN(){var e=BN(Lx());return e.copy=function(){return el(e,XN()).exponent(e.exponent())},Ia.apply(e,arguments)}function Dwe(){return XN.apply(null,arguments).exponent(.5)}function B5(){var e=[],t=gn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Up(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ao),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>_xe(e,i/n))},r.copy=function(){return B5(t).domain(e)},Ia.apply(r,arguments)}function Fx(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=gn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,u=Yxe(m,[y,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(qd),p.rangeRound=g(MN),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),i=m(t),o=m(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function z5(){var e=Zo(Fx()(gn));return e.copy=function(){return el(e,z5())},Ia.apply(e,arguments)}function q5(){var e=FN(Fx()).domain([.1,1,10]);return e.copy=function(){return el(e,q5()).base(e.base())},Ia.apply(e,arguments)}function W5(){var e=UN(Fx());return e.copy=function(){return el(e,W5()).constant(e.constant())},Ia.apply(e,arguments)}function JN(){var e=BN(Fx());return e.copy=function(){return el(e,JN()).exponent(e.exponent())},Ia.apply(e,arguments)}function Lwe(){return JN.apply(null,arguments).exponent(.5)}const J2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fh,scaleDiverging:z5,scaleDivergingLog:q5,scaleDivergingPow:JN,scaleDivergingSqrt:Lwe,scaleDivergingSymlog:W5,scaleIdentity:j5,scaleImplicit:l_,scaleLinear:Tv,scaleLog:S5,scaleOrdinal:TN,scalePoint:Hf,scalePow:zN,scaleQuantile:C5,scaleQuantize:E5,scaleRadial:k5,scaleSequential:L5,scaleSequentialLog:F5,scaleSequentialPow:XN,scaleSequentialQuantile:B5,scaleSequentialSqrt:Dwe,scaleSequentialSymlog:U5,scaleSqrt:ybe,scaleSymlog:N5,scaleThreshold:O5,scaleTime:Mwe,scaleUtc:Iwe,tickFormat:w5},Symbol.toStringTag,{value:"Module"}));var Fwe=Rd;function Uwe(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Fwe(o):r(o,l)))var l=o,c=i}return c}var V5=Uwe;function Bwe(e,t){return e>t}var zwe=Bwe,qwe=V5,Wwe=zwe,Vwe=Bd;function Hwe(e){return e&&e.length?qwe(e,Vwe,Wwe):void 0}var Kwe=Hwe;const yo=Lt(Kwe);function Gwe(e,t){return e<t}var Ywe=Gwe,Qwe=V5,Xwe=Ywe,Jwe=Bd;function Zwe(e){return e&&e.length?Qwe(e,Jwe,Xwe):void 0}var e0e=Zwe;const Ux=Lt(e0e);var t0e=fN,r0e=Jo,n0e=e5,s0e=Fn;function i0e(e,t){var r=s0e(e)?t0e:n0e;return r(e,r0e(t))}var a0e=i0e,o0e=J3,l0e=a0e;function c0e(e,t){return o0e(l0e(e,t),1)}var u0e=c0e;const d0e=Lt(u0e);var f0e=CN;function h0e(e,t){return f0e(e,t)}var p0e=h0e;const Wh=Lt(p0e);var Wd=1e9,m0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ek,rr=!0,Ns="[DecimalError] ",Ul=Ns+"Invalid argument: ",ZN=Ns+"Exponent out of range: ",Vd=Math.floor,hl=Math.pow,g0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yn,Ur=1e7,Xt=7,H5=9007199254740991,Iv=Vd(H5/Xt),Ce={};Ce.absoluteValue=Ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ce.comparedTo=Ce.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(e){return ha(this,new this.constructor(e))};Ce.dividedToIntegerBy=Ce.idiv=function(e){var t=this,r=t.constructor;return Bt(ha(t,new r(e),0,1),r.precision)};Ce.equals=Ce.eq=function(e){return!this.cmp(e)};Ce.exponent=function(){return Nr(this)};Ce.greaterThan=Ce.gt=function(e){return this.cmp(e)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(e){return this.cmp(e)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(e){return this.cmp(e)<0};Ce.lessThanOrEqualTo=Ce.lte=function(e){return this.cmp(e)<1};Ce.logarithm=Ce.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Yn))throw Error(Ns+"NaN");if(r.s<1)throw Error(Ns+(r.s?"NaN":"-Infinity"));return r.eq(Yn)?new n(0):(rr=!1,t=ha(Vh(r,i),Vh(e,i),i),rr=!0,Bt(t,s))};Ce.minus=Ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Y5(t,e):K5(t,(e.s=-e.s,e))};Ce.modulo=Ce.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Ns+"NaN");return r.s?(rr=!1,t=ha(r,e,0,1).times(e),rr=!0,r.minus(t)):Bt(new n(r),s)};Ce.naturalExponential=Ce.exp=function(){return G5(this)};Ce.naturalLogarithm=Ce.ln=function(){return Vh(this)};Ce.negated=Ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ce.plus=Ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?K5(t,e):Y5(t,(e.s=-e.s,e))};Ce.precision=Ce.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ul+e);if(t=Nr(s)+1,n=s.d.length-1,r=n*Xt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ce.squareRoot=Ce.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ns+"NaN")}for(e=Nr(l),rr=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ni(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Vd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(ha(l,i,o+2)).times(.5),Ni(i.d).slice(0,o)===(t=Ni(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Bt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return rr=!0,Bt(n,r)};Ce.times=Ce.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%Ur|0,t=l/Ur|0;i[s]=(i[s]+t)%Ur|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,rr?Bt(e,f.precision):e};Ce.toDecimalPlaces=Ce.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ii(e,0,Wd),t===void 0?t=n.rounding:Ii(t,0,8),Bt(r,e+Nr(r)+1,t))};Ce.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=ic(n,!0):(Ii(e,0,Wd),t===void 0?t=s.rounding:Ii(t,0,8),n=Bt(new s(n),e+1,t),r=ic(n,!0,e+1)),r};Ce.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?ic(s):(Ii(e,0,Wd),t===void 0?t=i.rounding:Ii(t,0,8),n=Bt(new i(s),e+Nr(s)+1,t),r=ic(n.abs(),!1,e+Nr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var e=this,t=e.constructor;return Bt(new t(e),Nr(e)+1,t.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Yn);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ns+"Infinity");return l}if(l.eq(Yn))return l;if(n=c.precision,e.eq(Yn))return Bt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=H5){for(s=new c(Yn),t=Math.ceil(n/Xt+4),rr=!1;r%2&&(s=s.times(l),eA(s.d,t)),r=Vd(r/2),r!==0;)l=l.times(l),eA(l.d,t);return rr=!0,e.s<0?new c(Yn).div(s):Bt(s,n)}}else if(i<0)throw Error(Ns+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,rr=!1,s=e.times(Vh(l,n+u)),rr=!0,s=G5(s),s.s=i,s};Ce.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Nr(s),n=ic(s,r<=i.toExpNeg||r>=i.toExpPos)):(Ii(e,1,Wd),t===void 0?t=i.rounding:Ii(t,0,8),s=Bt(new i(s),e,t),r=Nr(s),n=ic(s,e<=r||r<=i.toExpNeg,e)),n};Ce.toSignificantDigits=Ce.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ii(e,1,Wd),t===void 0?t=n.rounding:Ii(t,0,8)),Bt(new n(r),e,t)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Nr(e),r=e.constructor;return ic(e,t<=r.toExpNeg||t>=r.toExpPos)};function K5(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),rr?Bt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Xt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ur|0,c[i]%=Ur;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,rr?Bt(t,f):t}function Ii(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ul+e)}function Ni(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Xt-n.length,r&&(i+=Ja(r)),i+=n;o=e[t],n=o+"",r=Xt-n.length,r&&(i+=Ja(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ha=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Ur|0,o=i/Ur|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Ur+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,p,g,m,v,y,b,w,S,j,_,N,k,C=n.constructor,T=n.s==s.s?1:-1,I=n.d,E=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(Ns+"Division by zero");for(c=n.e-s.e,N=E.length,j=I.length,p=new C(T),g=p.d=[],u=0;E[u]==(I[u]||0);)++u;if(E[u]>(I[u]||0)&&--c,i==null?b=i=C.precision:o?b=i+(Nr(n)-Nr(s))+1:b=i,b<0)return new C(0);if(b=b/Xt+2|0,u=0,N==1)for(d=0,E=E[0],b++;(u<j||d)&&b--;u++)w=d*Ur+(I[u]||0),g[u]=w/E|0,d=w%E|0;else{for(d=Ur/(E[0]+1)|0,d>1&&(E=e(E,d),I=e(I,d),N=E.length,j=I.length),S=N,m=I.slice(0,N),v=m.length;v<N;)m[v++]=0;k=E.slice(),k.unshift(0),_=E[0],E[1]>=Ur/2&&++_;do d=0,l=t(E,m,N,v),l<0?(y=m[0],N!=v&&(y=y*Ur+(m[1]||0)),d=y/_|0,d>1?(d>=Ur&&(d=Ur-1),f=e(E,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,N<h?k:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(E,m,N,v),l<1&&(d++,r(m,N<v?k:E,v))),v=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[v++]=I[S]||0:(m=[I[S]],v=1);while((S++<j||m[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=c,Bt(p,o?i+Nr(p)+1:i)}}();function G5(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Nr(e)>16)throw Error(ZN+Nr(e));if(!e.s)return new d(Yn);for(rr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(hl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(Yn),d.precision=l;;){if(s=Bt(s.times(e),l),r=r.times(++c),o=i.plus(ha(s,r,l)),Ni(o.d).slice(0,l)===Ni(i.d).slice(0,l)){for(;u--;)i=Bt(i.times(i),l);return d.precision=f,t==null?(rr=!0,Bt(i,f)):i}i=o}}function Nr(e){for(var t=e.e*Xt,r=e.d[0];r>=10;r/=10)t++;return t}function Sw(e,t,r){if(t>e.LN10.sd())throw rr=!0,r&&(e.precision=r),Error(Ns+"LN10 precision limit exceeded");return Bt(new e(e.LN10),t)}function Ja(e){for(var t="";e--;)t+="0";return t}function Vh(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Ns+(p.s?"NaN":"-Infinity"));if(p.eq(Yn))return new m(0);if(t==null?(rr=!1,u=v):u=t,p.eq(10))return t==null&&(rr=!0),Sw(m,u);if(u+=h,m.precision=u,r=Ni(g),n=r.charAt(0),i=Nr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ni(p.d),n=r.charAt(0),f++;i=Nr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Sw(m,u+2,v).times(i+""),p=Vh(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(rr=!0,Bt(p,v)):p;for(l=o=p=ha(p.minus(Yn),p.plus(Yn),u),d=Bt(p.times(p),u),s=3;;){if(o=Bt(o.times(d),u),c=l.plus(ha(o,new m(s),u)),Ni(c.d).slice(0,u)===Ni(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Sw(m,u+2,v).times(i+""))),l=ha(l,new m(f),u),m.precision=v,t==null?(rr=!0,Bt(l,v)):l;l=c,s+=2}}function Z2(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Vd(r/Xt),e.d=[],n=(r+1)%Xt,r<0&&(n+=Xt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Xt;n<s;)e.d.push(+t.slice(n,n+=Xt));t=t.slice(n),n=Xt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),rr&&(e.e>Iv||e.e<-Iv))throw Error(ZN+r)}else e.s=0,e.e=0,e.d=[0];return e}function Bt(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xt,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Xt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Xt,s=n-Xt+o}if(r!==void 0&&(i=hl(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/hl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Nr(e),f.length=1,t=t-i-1,f[0]=hl(10,(Xt-t%Xt)%Xt),e.e=Vd(-t/Xt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=hl(10,Xt-n),f[d]=s>0?(u/hl(10,o-s)%hl(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Ur&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Ur)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(rr&&(e.e>Iv||e.e<-Iv))throw Error(ZN+Nr(e));return e}function Y5(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),rr?Bt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(p/Xt),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Ur-1;--c[i],c[s]+=Ur}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,rr?Bt(t,p):t):new h(0)}function ic(e,t,r){var n,s=Nr(e),i=Ni(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ja(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Ja(-s-1)+i,r&&(n=r-o)>0&&(i+=Ja(n))):s>=o?(i+=Ja(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Ja(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Ja(n))),e.s<0?"-"+i:i}function eA(e,t){if(e.length>t)return e.length=t,!0}function Q5(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ul+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Z2(o,i.toString())}else if(typeof i!="string")throw Error(Ul+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,g0e.test(i))Z2(o,i);else throw Error(Ul+i)}if(s.prototype=Ce,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=Q5,s.config=s.set=v0e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function v0e(e){if(!e||typeof e!="object")throw Error(Ns+"Object expected");var t,r,n,s=["precision",1,Wd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Vd(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Ul+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ul+r+": "+n);return this}var ek=Q5(m0e);Yn=new ek(1);const It=ek;function y0e(e){return j0e(e)||w0e(e)||b0e(e)||x0e()}function x0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b0e(e,t){if(e){if(typeof e=="string")return f_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f_(e,t)}}function w0e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function j0e(e){if(Array.isArray(e))return f_(e)}function f_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _0e=function(t){return t},X5={},J5=function(t){return t===X5},tA=function(t){return function r(){return arguments.length===0||arguments.length===1&&J5(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},S0e=function e(t,r){return t===1?r:tA(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==X5}).length;return o>=t?r.apply(void 0,s):e(t-o,tA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return J5(f)?c.shift():f});return r.apply(void 0,y0e(d).concat(c))}))})},Bx=function(t){return S0e(t.length,t)},h_=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},N0e=Bx(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),k0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return _0e;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},p_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Z5=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function C0e(e){var t;return e===0?t=1:t=Math.floor(new It(e).abs().log(10).toNumber())+1,t}function E0e(e,t,r){for(var n=new It(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var O0e=Bx(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),P0e=Bx(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),A0e=Bx(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const zx={rangeStep:E0e,getDigitCount:C0e,interpolateNumber:O0e,uninterpolateNumber:P0e,uninterpolateTruncation:A0e};function m_(e){return $0e(e)||R0e(e)||eU(e)||T0e()}function T0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R0e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $0e(e){if(Array.isArray(e))return g_(e)}function Hh(e,t){return D0e(e)||I0e(e,t)||eU(e,t)||M0e()}function M0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eU(e,t){if(e){if(typeof e=="string")return g_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g_(e,t)}}function g_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I0e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function D0e(e){if(Array.isArray(e))return e}function tU(e){var t=Hh(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function rU(e,t,r){if(e.lte(0))return new It(0);var n=zx.getDigitCount(e.toNumber()),s=new It(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new It(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new It(Math.ceil(c))}function L0e(e,t,r){var n=1,s=new It(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new It(10).pow(zx.getDigitCount(e)-1),s=new It(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new It(Math.floor(e)))}else e===0?s=new It(Math.floor((t-1)/2)):r||(s=new It(Math.floor(e)));var o=Math.floor((t-1)/2),l=k0e(N0e(function(c){return s.add(new It(c-o).mul(n)).toNumber()}),h_);return l(0,t)}function nU(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new It(0),tickMin:new It(0),tickMax:new It(0)};var i=rU(new It(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new It(0):(o=new It(e).add(t).div(2),o=o.sub(new It(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new It(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?nU(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new It(l).mul(i)),tickMax:o.add(new It(c).mul(i))})}function F0e(e){var t=Hh(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=tU([r,n]),c=Hh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(m_(h_(0,s-1).map(function(){return 1/0}))):[].concat(m_(h_(0,s-1).map(function(){return-1/0})),[d]);return r>n?p_(f):f}if(u===d)return L0e(u,s,i);var h=nU(u,d,o,i),p=h.step,g=h.tickMin,m=h.tickMax,v=zx.rangeStep(g,m.add(new It(.1).mul(p)),p);return r>n?p_(v):v}function U0e(e,t){var r=Hh(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=tU([n,s]),l=Hh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=rU(new It(u).sub(c).div(d-1),i,0),h=[].concat(m_(zx.rangeStep(new It(c),new It(u).sub(new It(.99).mul(f)),f)),[u]);return n>s?p_(h):h}var B0e=Z5(F0e),z0e=Z5(U0e),q0e="Invariant failed";function ac(e,t){throw new Error(q0e)}var W0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(this,arguments)}function V0e(e,t){return Y0e(e)||G0e(e,t)||K0e(e,t)||H0e()}function H0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K0e(e,t){if(e){if(typeof e=="string")return rA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rA(e,t)}}function rA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Y0e(e){if(Array.isArray(e))return e}function Q0e(e,t){if(e==null)return{};var r=X0e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function J0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aU(n.key),n)}}function eje(e,t,r){return t&&Z0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tje(e,t,r){return t=Lv(t),rje(e,sU()?Reflect.construct(t,r||[],Lv(e).constructor):t.apply(e,r))}function rje(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nje(e)}function nje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sU=function(){return!!e})()}function Lv(e){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(e)}function sje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v_(e,t)}function v_(e,t){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},v_(e,t)}function iU(e,t,r){return t=aU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aU(e){var t=ije(e,"string");return nd(t)=="symbol"?t:t+""}function ije(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qx=function(e){function t(){return J0e(this,t),tje(this,t,arguments)}return sje(t,e),eje(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Q0e(n,W0e),p=at(h,!1);this.props.direction==="x"&&d.type!=="number"&&ac();var g=c.map(function(m){var v=u(m,l),y=v.x,b=v.y,w=v.value,S=v.errorVal;if(!S)return null;var j=[],_,N;if(Array.isArray(S)){var k=V0e(S,2);_=k[0],N=k[1]}else _=N=S;if(i==="vertical"){var C=d.scale,T=b+s,I=T+o,E=T-o,U=C(w-_),O=C(w+N);j.push({x1:O,y1:I,x2:O,y2:E}),j.push({x1:U,y1:T,x2:O,y2:T}),j.push({x1:U,y1:I,x2:U,y2:E})}else if(i==="horizontal"){var B=f.scale,A=y+s,z=A-o,L=A+o,R=B(w-_),$=B(w+N);j.push({x1:z,y1:$,x2:L,y2:$}),j.push({x1:A,y1:R,x2:A,y2:$}),j.push({x1:z,y1:R,x2:L,y2:R})}return P.createElement(ir,Dv({className:"recharts-errorBar",key:"bar-".concat(j.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),j.map(function(J){return P.createElement("line",Dv({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return P.createElement(ir,{className:"recharts-errorBars"},g)}}])}(P.Component);iU(qx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});iU(qx,"displayName","ErrorBar");function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){aje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aje(e,t,r){return t=oje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oje(e){var t=lje(e,"string");return Kh(t)=="symbol"?t:t+""}function lje(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oU=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Vn(r,mu);if(!o)return null;var l=mu.defaultProps,c=l!==void 0?al(al({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?al(al({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:c.iconType||v||"square",color:tk(f),value:m||g,payload:p}}),al(al(al({},c),mu.getWithHeight(o,s)),{},{payload:u,item:o})};function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function sA(e){return fje(e)||dje(e)||uje(e)||cje()}function cje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uje(e,t){if(e){if(typeof e=="string")return y_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y_(e,t)}}function dje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fje(e){if(Array.isArray(e))return y_(e)}function y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(n){vu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vu(e,t,r){return t=hje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hje(e){var t=pje(e,"string");return Gh(t)=="symbol"?t:t+""}function pje(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ss(e,t,r){return lt(e)||lt(t)?r:Ir(t)?ws(e,t,r):nt(t)?t(e):r}function Kf(e,t,r,n){var s=d0e(e,function(l){return ss(l,t)});if(r==="number"){var i=s.filter(function(l){return de(l)||parseFloat(l)});return i.length?[Ux(i),yo(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!lt(l)}):s;return o.map(function(l){return Ir(l)||l instanceof Date?l:""})}var mje=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(ti(f-d)!==ti(h-f)){var g=[];if(ti(h-f)===ti(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},tk=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},gje=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(N){return da(N.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?hr(hr({},b),y[0].props):y[0].props,S=w.barSize,j=w[v];o[j]||(o[j]=[]);var _=lt(S)?r:S;o[j].push({item:y[0],stackList:y.slice(1),barSize:lt(_)?void 0:sc(_,n,0)})}}return o},vje=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=sc(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,g=o.reduce(function(S,j){return S+j.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&p>0&&(h=!0,p*=.9,g=c*p);var m=(s-g)/2>>0,v={offset:m-u,size:0};d=o.reduce(function(S,j){var _={item:j.item,position:{offset:v.offset+v.size+u,size:h?p:j.barSize}},N=[].concat(sA(S),[_]);return v=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:v})}),N},f)}else{var y=sc(n,s,0,!0);s-2*y-(c-1)*u<=0&&(u=0);var b=(s-2*y-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(S,j,_){var N=[].concat(sA(S),[{item:j.item,position:{offset:y+(b+u)*_+(b-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},yje=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=oU({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&de(t[p]))return hr(hr({},t),{},vu({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&de(t[g]))return hr(hr({},t),{},vu({},g,t[g]+(h||0)))}return t},xje=function(t,r,n){return lt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},lU=function(t,r,n,s,i){var o=r.props.children,l=si(o,qx).filter(function(u){return xje(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=ss(d,n);if(lt(f))return u;var h=Array.isArray(f)?[Ux(f),yo(f)]:[f,f],p=c.reduce(function(g,m){var v=ss(d,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},bje=function(t,r,n,s,i){var o=r.map(function(l){return lU(t,l,n,i,s)}).filter(function(l){return!lt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},cU=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&lU(t,c,u,s)||Kf(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},uU=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},dU=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},oa=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ti(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Ld(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},Nw=new WeakMap,Dm=function(t,r){if(typeof r!="function")return t;Nw.has(t)||Nw.set(t,new WeakMap);var n=Nw.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},wje=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Fh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Tv(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Hf(),realScaleType:"point"}:i==="category"?{scale:Fh(),realScaleType:"band"}:{scale:Tv(),realScaleType:"linear"};if(nc(s)){var c="scale".concat(Cx(s));return{scale:(J2[c]||Hf)(),realScaleType:J2[c]?c:"point"}}return nt(s)?{scale:s}:{scale:Hf(),realScaleType:"point"}},aA=1e-4,jje=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-aA,o=Math.max(s[0],s[1])+aA,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},_je=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},Sje=function(t,r){if(!r||r.length!==2||!de(r[0])||!de(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!de(t[0])||t[0]<n)&&(i[0]=n),(!de(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},Nje=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Ld(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},kje=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Ld(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Cje={sign:Nje,expand:Bce,none:Yu,silhouette:zce,wiggle:qce,positive:kje},Eje=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=Cje[n],o=Uce().keys(s).value(function(l,c){return+ss(l,c,0)}).order(qj).offset(i);return o(t)},Oje=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?hr(hr({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var y=g[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(Ir(m)){var w=b.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[Lp("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return hr(hr({},f),{},vu({},y,b))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return hr(hr({},m),{},vu({},v,{numericAxisId:n,cateAxisId:s,items:y.items,stackedData:Eje(t,y.items,i)}))},g)}return hr(hr({},f),{},vu({},h,p))},d)},Pje=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=B0e(u,i,l);return t.domain([Ux(d),yo(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=z0e(f,i,l);return{niceTicks:h}}return null};function oA(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!lt(s[t.dataKey])){var l=lv(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=ss(s,lt(o)?t.dataKey:o);return lt(c)?null:t.scale(c)}var lA=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=ss(o,r.dataKey,r.domain[l]);return lt(c)?null:r.scale(c)-i/2+s},Aje=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},Tje=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Ir(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Rje=function(t){return t.reduce(function(r,n){return[Ux(n.concat([r[0]]).filter(de)),yo(n.concat([r[1]]).filter(de))]},[1/0,-1/0])},fU=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Rje(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},cA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,x_=function(t,r,n){if(nt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(de(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(cA.test(t[0])){var i=+cA.exec(t[0])[1];s[0]=r[0]-i}else nt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(de(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(uA.test(t[1])){var o=+uA.exec(t[1])[1];s[1]=r[1]+o}else nt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Fv=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=ON(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},dA=function(t,r,n){return!t||!t.length||Wh(t,ws(n,"type.defaultProps.domain"))?r:t},hU=function(t,r){var n=t.type.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return hr(hr({},at(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:tk(t),value:ss(r,s),type:c,payload:r,chartType:u,hide:d})};function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){$je(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $je(e,t,r){return t=Mje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mje(e){var t=Ije(e,"string");return Yh(t)=="symbol"?t:t+""}function Ije(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uv=Math.PI/180,Dje=function(t){return t*180/Math.PI},Xr=function(t,r,n,s){return{x:t+Math.cos(-Uv*s)*n,y:r+Math.sin(-Uv*s)*n}},Lje=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},Fje=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=Lje({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:Dje(u),angleInRadian:u}},Uje=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},Bje=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},pA=function(t,r){var n=t.x,s=t.y,i=Fje({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Uje(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?hA(hA({},r),{},{radius:o,angle:Bje(p,r)}):null};function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}var zje=["offset"];function qje(e){return Kje(e)||Hje(e)||Vje(e)||Wje()}function Wje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vje(e,t){if(e){if(typeof e=="string")return b_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b_(e,t)}}function Hje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kje(e){if(Array.isArray(e))return b_(e)}function b_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gje(e,t){if(e==null)return{};var r=Yje(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){Qje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qje(e,t,r){return t=Xje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xje(e){var t=Jje(e,"string");return Qh(t)=="symbol"?t:t+""}function Jje(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(this,arguments)}var Zje=function(t){var r=t.value,n=t.formatter,s=lt(t.children)?r:t.children;return nt(n)?n(s):s},e_e=function(t,r){var n=ti(r-t),s=Math.min(Math.abs(r-t),360);return n*s},t_e=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+h)/2,y=e_e(p,g),b=y>=0?1:-1,w,S;s==="insideStart"?(w=p+b*o,S=m):s==="insideEnd"?(w=g-b*o,S=!m):s==="end"&&(w=g+b*o,S=m),S=y<=0?S:!S;var j=Xr(u,d,v,w),_=Xr(u,d,v,w+(S?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),k=lt(t.id)?Lp("recharts-radial-line-"):t.id;return P.createElement("text",Xh({},n,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",l)}),P.createElement("defs",null,P.createElement("path",{id:k,d:N})),P.createElement("textPath",{xlinkHref:"#".concat(k)},r))},r_e=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var p=Xr(o,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Xr(o,l,v,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},n_e=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*s,y=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return Or(Or({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Or(Or({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Or(Or({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var _={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Or(Or({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?Or({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideRight"?Or({x:l+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):i==="insideTop"?Or({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?Or({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},N):i==="insideTopLeft"?Or({x:l+v,y:c+h,textAnchor:b,verticalAnchor:g},N):i==="insideTopRight"?Or({x:l+u-v,y:c+h,textAnchor:y,verticalAnchor:g},N):i==="insideBottomLeft"?Or({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:p},N):i==="insideBottomRight"?Or({x:l+u-v,y:c+d-h,textAnchor:y,verticalAnchor:p},N):$d(i)&&(de(i.x)||_l(i.x))&&(de(i.y)||_l(i.y))?Or({x:l+sc(i.x,u),y:c+sc(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):Or({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},s_e=function(t){return"cx"in t&&de(t.cx)};function ln(e){var t=e.offset,r=t===void 0?5:t,n=Gje(e,zje),s=Or({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||lt(l)&&lt(c)&&!x.isValidElement(u)&&!nt(u))return null;if(x.isValidElement(u))return x.cloneElement(u,s);var p;if(nt(u)){if(p=x.createElement(u,s),x.isValidElement(p))return p}else p=Zje(s);var g=s_e(i),m=at(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return t_e(s,p,m);var v=g?r_e(s):n_e(s);return P.createElement(Sv,Xh({className:ut("recharts-label",f)},m,v,{breakAll:h}),p)}ln.displayName="Label";var pU=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(de(m)&&de(v)){if(de(f)&&de(h))return{x:f,y:h,width:m,height:v};if(de(p)&&de(g))return{x:p,y:g,width:m,height:v}}return de(f)&&de(h)?{x:f,y:h,width:0,height:0}:de(r)&&de(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},i_e=function(t,r){return t?t===!0?P.createElement(ln,{key:"label-implicit",viewBox:r}):Ir(t)?P.createElement(ln,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===ln?x.cloneElement(t,{key:"label-implicit",viewBox:r}):P.createElement(ln,{key:"label-implicit",content:t,viewBox:r}):nt(t)?P.createElement(ln,{key:"label-implicit",content:t,viewBox:r}):$d(t)?P.createElement(ln,Xh({viewBox:r},t,{key:"label-implicit"})):null:null},a_e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=pU(t),o=si(s,ln).map(function(c,u){return x.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=i_e(t.label,r||i);return[l].concat(qje(o))};ln.parseViewBox=pU;ln.renderCallByParent=a_e;function o_e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var l_e=o_e;const c_e=Lt(l_e);function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}var u_e=["valueAccessor"],d_e=["data","dataKey","clockWise","id","textBreakAll"];function f_e(e){return g_e(e)||m_e(e)||p_e(e)||h_e()}function h_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p_e(e,t){if(e){if(typeof e=="string")return w_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w_(e,t)}}function m_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function g_e(e){if(Array.isArray(e))return w_(e)}function w_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bv.apply(this,arguments)}function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){v_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v_e(e,t,r){return t=y_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y_e(e){var t=x_e(e,"string");return Jh(t)=="symbol"?t:t+""}function x_e(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yA(e,t){if(e==null)return{};var r=b_e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var w_e=function(t){return Array.isArray(t.value)?c_e(t.value):t.value};function To(e){var t=e.valueAccessor,r=t===void 0?w_e:t,n=yA(e,u_e),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=yA(n,d_e);return!s||!s.length?null:P.createElement(ir,{className:"recharts-label-list"},s.map(function(d,f){var h=lt(i)?r(d,f):ss(d&&d.payload,i),p=lt(l)?{}:{id:"".concat(l,"-").concat(f)};return P.createElement(ln,Bv({},at(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:ln.parseViewBox(lt(o)?d:vA(vA({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}To.displayName="LabelList";function j_e(e,t){return e?e===!0?P.createElement(To,{key:"labelList-implicit",data:t}):P.isValidElement(e)||nt(e)?P.createElement(To,{key:"labelList-implicit",data:t,content:e}):$d(e)?P.createElement(To,Bv({data:t},e,{key:"labelList-implicit"})):null:null}function __e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=si(n,To).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=j_e(e.label,t);return[i].concat(f_e(s))}To.renderCallByParent=__e;function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(this,arguments)}function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){S_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S_e(e,t,r){return t=N_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N_e(e){var t=k_e(e,"string");return Zh(t)=="symbol"?t:t+""}function k_e(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C_e=function(t,r){var n=ti(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Lm=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Uv,h=u?i:i+o*f,p=Xr(r,n,d,h),g=Xr(r,n,s,h),m=u?i-o*f:i,v=Xr(r,n,d*Math.cos(f*Uv),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},mU=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=C_e(o,l),u=o+c,d=Xr(r,n,i,o),f=Xr(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=Xr(r,n,s,o),g=Xr(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},E_e=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ti(d-u),h=Lm({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Lm({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,w=v.theta,S=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(S<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):mU({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var _=Lm({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=_.circleTangency,k=_.lineTangency,C=_.theta,T=Lm({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=T.circleTangency,E=T.lineTangency,U=T.theta,O=c?Math.abs(u-d):Math.abs(u-d)-C-U;if(O<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(O>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},O_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gU=function(t){var r=bA(bA({},O_e),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=ut("recharts-sector",h),g=o-i,m=sc(l,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=E_e({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=mU({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),P.createElement("path",j_({},at(r,!0),{className:p,d:v,role:"img"}))};function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},__.apply(this,arguments)}function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){P_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P_e(e,t,r){return t=A_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A_e(e){var t=T_e(e,"string");return ep(t)=="symbol"?t:t+""}function T_e(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _A={curveBasisClosed:Oce,curveBasisOpen:Pce,curveBasis:Ece,curveBumpX:pce,curveBumpY:mce,curveLinearClosed:Ace,curveLinear:Ox,curveMonotoneX:Tce,curveMonotoneY:Rce,curveNatural:$ce,curveStep:Mce,curveStepAfter:Dce,curveStepBefore:Ice},Fm=function(t){return t.x===+t.x&&t.y===+t.y},vf=function(t){return t.x},yf=function(t){return t.y},R_e=function(t,r){if(nt(t))return t;var n="curve".concat(Cx(t));return(n==="curveMonotone"||n==="curveBump")&&r?_A["".concat(n).concat(r==="vertical"?"Y":"X")]:_A[n]||Ox},$_e=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=R_e(n,l),f=u?i.filter(function(m){return Fm(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return Fm(m)}):o,g=f.map(function(m,v){return jA(jA({},m),{},{base:p[v]})});return l==="vertical"?h=Om().y(yf).x1(vf).x0(function(m){return m.base.x}):h=Om().x(vf).y1(yf).y0(function(m){return m.base.y}),h.defined(Fm).curve(d),h(g)}return l==="vertical"&&de(o)?h=Om().y(yf).x1(vf).x0(o):de(o)?h=Om().x(vf).y1(yf).y0(o):h=v3().x(vf).y(yf),h.defined(Fm).curve(d),h(f)},Gf=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?$_e(t):s;return x.createElement("path",__({},at(t,!1),cv(t),{className:ut("recharts-curve",r),d:o,ref:i}))},vU={exports:{}},M_e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",I_e=M_e,D_e=I_e;function yU(){}function xU(){}xU.resetWarningCache=yU;var L_e=function(){function e(n,s,i,o,l,c){if(c!==D_e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xU,resetWarningCache:yU};return r.PropTypes=r,r};vU.exports=L_e();var F_e=vU.exports;const jt=Lt(F_e),{getOwnPropertyNames:U_e,getOwnPropertySymbols:B_e}=Object,{hasOwnProperty:z_e}=Object.prototype;function kw(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Um(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function q_e(e){return e!=null?e[Symbol.toStringTag]:void 0}function SA(e){return U_e(e).concat(B_e(e))}const W_e=Object.hasOwn||((e,t)=>z_e.call(e,t));function vc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const V_e="__v",H_e="__o",K_e="_owner",{getOwnPropertyDescriptor:NA,keys:kA}=Object;function G_e(e,t){return e.byteLength===t.byteLength&&zv(new Uint8Array(e),new Uint8Array(t))}function Y_e(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Q_e(e,t){return e.byteLength===t.byteLength&&zv(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function X_e(e,t){return vc(e.getTime(),t.getTime())}function J_e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Z_e(e,t){return e===t}function CA(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const e1e=vc;function t1e(e,t,r){const n=kA(e);let s=n.length;if(kA(t).length!==s)return!1;for(;s-- >0;)if(!bU(e,t,r,n[s]))return!1;return!0}function xf(e,t,r){const n=SA(e);let s=n.length;if(SA(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!bU(e,t,r,i)||(o=NA(e,i),l=NA(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function r1e(e,t){return vc(e.valueOf(),t.valueOf())}function n1e(e,t){return e.source===t.source&&e.flags===t.flags}function EA(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function zv(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function s1e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function bU(e,t,r,n){return(n===K_e||n===H_e||n===V_e)&&(e.$$typeof||t.$$typeof)?!0:W_e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const i1e="[object ArrayBuffer]",a1e="[object Arguments]",o1e="[object Boolean]",l1e="[object DataView]",c1e="[object Date]",u1e="[object Error]",d1e="[object Map]",f1e="[object Number]",h1e="[object Object]",p1e="[object RegExp]",m1e="[object Set]",g1e="[object String]",v1e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},y1e="[object URL]",x1e=Object.prototype.toString;function b1e({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(v,y,b){if(v===y)return!0;if(v==null||y==null)return!1;const w=typeof v;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?l(v,y,b):w==="function"?i(v,y,b):!1;const S=v.constructor;if(S!==y.constructor)return!1;if(S===Object)return c(v,y,b);if(Array.isArray(v))return t(v,y,b);if(S===Date)return n(v,y,b);if(S===RegExp)return d(v,y,b);if(S===Map)return o(v,y,b);if(S===Set)return f(v,y,b);const j=x1e.call(v);if(j===c1e)return n(v,y,b);if(j===p1e)return d(v,y,b);if(j===d1e)return o(v,y,b);if(j===m1e)return f(v,y,b);if(j===h1e)return typeof v.then!="function"&&typeof y.then!="function"&&c(v,y,b);if(j===y1e)return p(v,y,b);if(j===u1e)return s(v,y,b);if(j===a1e)return c(v,y,b);if(v1e[j])return h(v,y,b);if(j===i1e)return e(v,y,b);if(j===l1e)return r(v,y,b);if(j===o1e||j===f1e||j===g1e)return u(v,y,b);if(g){let _=g[j];if(!_){const N=q_e(v);N&&(_=g[N])}if(_)return _(v,y,b)}return!1}}function w1e({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:G_e,areArraysEqual:r?xf:Y_e,areDataViewsEqual:Q_e,areDatesEqual:X_e,areErrorsEqual:J_e,areFunctionsEqual:Z_e,areMapsEqual:r?kw(CA,xf):CA,areNumbersEqual:e1e,areObjectsEqual:r?xf:t1e,arePrimitiveWrappersEqual:r1e,areRegExpsEqual:n1e,areSetsEqual:r?kw(EA,xf):EA,areTypedArraysEqual:r?kw(zv,xf):zv,areUrlsEqual:s1e,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=Um(n.areArraysEqual),i=Um(n.areMapsEqual),o=Um(n.areObjectsEqual),l=Um(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function j1e(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function _1e({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const S1e=tl();tl({strict:!0});tl({circular:!0});tl({circular:!0,strict:!0});tl({createInternalComparator:()=>vc});tl({strict:!0,createInternalComparator:()=>vc});tl({circular:!0,createInternalComparator:()=>vc});tl({circular:!0,createInternalComparator:()=>vc,strict:!0});function tl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=w1e(e),o=b1e(i),l=r?r(o):j1e(o);return _1e({circular:t,comparator:o,createState:n,equals:l,strict:s})}function N1e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function OA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):N1e(s)};requestAnimationFrame(n)}function S_(e){"@babel/helpers - typeof";return S_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S_(e)}function k1e(e){return P1e(e)||O1e(e)||E1e(e)||C1e()}function C1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1e(e,t){if(e){if(typeof e=="string")return PA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PA(e,t)}}function PA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P1e(e){if(Array.isArray(e))return e}function A1e(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=k1e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){OA(s.bind(null,u),c);return}s(c),OA(s.bind(null,u));return}S_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function TA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){wU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wU(e,t,r){return t=T1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T1e(e){var t=R1e(e,"string");return tp(t)==="symbol"?t:String(t)}function R1e(e,t){if(tp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $1e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},M1e=function(t){return t},I1e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Yf=function(t,r){return Object.keys(r).reduce(function(n,s){return TA(TA({},n),{},wU({},s,t(s,r[s])))},{})},RA=function(t,r,n){return t.map(function(s){return"".concat(I1e(s)," ").concat(r,"ms ").concat(n)}).join(",")};function D1e(e,t){return U1e(e)||F1e(e,t)||jU(e,t)||L1e()}function L1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function U1e(e){if(Array.isArray(e))return e}function B1e(e){return W1e(e)||q1e(e)||jU(e)||z1e()}function z1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jU(e,t){if(e){if(typeof e=="string")return N_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N_(e,t)}}function q1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W1e(e){if(Array.isArray(e))return N_(e)}function N_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qv=1e-4,_U=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},SU=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},$A=function(t,r){return function(n){var s=_U(t,r);return SU(s,n)}},V1e=function(t,r){return function(n){var s=_U(t,r),i=[].concat(B1e(s.map(function(o,l){return o*l}).slice(1)),[0]);return SU(i,n)}},MA=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=D1e(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=$A(s,o),h=$A(i,l),p=V1e(s,o),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,w=b,S=0;S<8;++S){var j=f(w)-b,_=p(w);if(Math.abs(j-b)<qv||_<qv)return h(w);w=g(w-j/_)}return h(w)};return m.isStepper=!1,m},H1e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,g=h*i,m=h+(p-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<qv&&Math.abs(m)<qv?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},K1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MA(s);case"spring":return H1e();default:if(s.split("(")[0]==="cubic-bezier")return MA(s)}return typeof s=="function"?s:null};function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function IA(e){return Q1e(e)||Y1e(e)||NU(e)||G1e()}function G1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q1e(e){if(Array.isArray(e))return C_(e)}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){k_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k_(e,t,r){return t=X1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X1e(e){var t=J1e(e,"string");return rp(t)==="symbol"?t:String(t)}function J1e(e,t){if(rp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z1e(e,t){return rSe(e)||tSe(e,t)||NU(e,t)||eSe()}function eSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NU(e,t){if(e){if(typeof e=="string")return C_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C_(e,t)}}function C_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function rSe(e){if(Array.isArray(e))return e}var Wv=function(t,r,n){return t+(r-t)*n},E_=function(t){var r=t.from,n=t.to;return r!==n},nSe=function e(t,r,n){var s=Yf(function(i,o){if(E_(o)){var l=t(o.from,o.to,o.velocity),c=Z1e(l,2),u=c[0],d=c[1];return Gr(Gr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Yf(function(i,o){return E_(o)?Gr(Gr({},o),{},{velocity:Wv(o.velocity,s[i].velocity,n),from:Wv(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const sSe=function(e,t,r,n,s){var i=$1e(e,t),o=i.reduce(function(v,y){return Gr(Gr({},v),{},k_({},y,[e[y],t[y]]))},{}),l=i.reduce(function(v,y){return Gr(Gr({},v),{},k_({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Yf(function(y,b){return b.from},l)},p=function(){return!Object.values(l).filter(E_).length},g=function(y){u||(u=y);var b=y-u,w=b/r.dt;l=nSe(r,l,w),s(Gr(Gr(Gr({},e),t),h())),u=y,p()||(c=requestAnimationFrame(f))},m=function(y){d||(d=y);var b=(y-d)/n,w=Yf(function(j,_){return Wv.apply(void 0,IA(_).concat([r(b)]))},o);if(s(Gr(Gr(Gr({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var S=Yf(function(j,_){return Wv.apply(void 0,IA(_).concat([r(1)]))},o);s(Gr(Gr(Gr({},e),t),S))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}var iSe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aSe(e,t){if(e==null)return{};var r=oSe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oSe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Cw(e){return dSe(e)||uSe(e)||cSe(e)||lSe()}function lSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cSe(e,t){if(e){if(typeof e=="string")return O_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O_(e,t)}}function uSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dSe(e){if(Array.isArray(e))return O_(e)}function O_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){Af(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Af(e,t,r){return t=kU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kU(n.key),n)}}function pSe(e,t,r){return t&&hSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kU(e){var t=mSe(e,"string");return sd(t)==="symbol"?t:String(t)}function mSe(e,t){if(sd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P_(e,t)}function P_(e,t){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},P_(e,t)}function vSe(e){var t=ySe();return function(){var n=Vv(e),s;if(t){var i=Vv(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return A_(this,s)}}function A_(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T_(e)}function T_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ySe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(e)}var Ca=function(e){gSe(r,e);var t=vSe(r);function r(n,s){var i;fSe(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(T_(i)),i.changeStyle=i.changeStyle.bind(T_(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),A_(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},A_(i);i.state={style:c?Af({},c,u):u}}else i.state={style:{}};return i}return pSe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Af({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(S1e(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:s.to;if(this.state&&h){var v={style:c?Af({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(Fs(Fs({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=sSe(o,l,K1e(u),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,y){if(y===0)return m;var b=v.duration,w=v.easing,S=w===void 0?"ease":w,j=v.style,_=v.properties,N=v.onAnimationEnd,k=y>0?o[y-1]:v,C=_||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(Cw(m),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:b,easing:S}),b]);var T=RA(C,b,S),I=Fs(Fs(Fs({},k.style),j),{},{transition:T});return[].concat(Cw(m),[I,b,N]).filter(M1e)};return this.manager.start([c].concat(Cw(o.reduce(p,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=A1e());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=l?Af({},l,c):c,v=RA(Object.keys(m),o,u);g.start([d,i,Fs(Fs({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=aSe(s,iSe),u=x.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,b=x.cloneElement(p,Fs(Fs({},c),{},{style:Fs(Fs({},v),d),className:y}));return b};return u===1?f(x.Children.only(i)):P.createElement("div",null,x.Children.map(i,function(h){return f(h)}))}}]),r}(x.PureComponent);Ca.displayName="Animate";Ca.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ca.propTypes={from:jt.oneOfType([jt.object,jt.string]),to:jt.oneOfType([jt.object,jt.string]),attributeName:jt.string,duration:jt.number,begin:jt.number,easing:jt.oneOfType([jt.string,jt.func]),steps:jt.arrayOf(jt.shape({duration:jt.number.isRequired,style:jt.object.isRequired,easing:jt.oneOfType([jt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jt.func]),properties:jt.arrayOf("string"),onAnimationEnd:jt.func})),children:jt.oneOfType([jt.node,jt.func]),isActive:jt.bool,canBegin:jt.bool,onAnimationEnd:jt.func,shouldReAnimate:jt.bool,onAnimationStart:jt.func,onAnimationReStart:jt.func};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hv.apply(this,arguments)}function xSe(e,t){return _Se(e)||jSe(e,t)||wSe(e,t)||bSe()}function bSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wSe(e,t){if(e){if(typeof e=="string")return FA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FA(e,t)}}function FA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function _Se(e){if(Array.isArray(e))return e}function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){SSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SSe(e,t,r){return t=NSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NSe(e){var t=kSe(e,"string");return np(t)=="symbol"?t:t+""}function kSe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zA=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},CSe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},ESe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rk=function(t){var r=BA(BA({},ESe),t),n=x.useRef(),s=x.useState(-1),i=xSe(s,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=ut("recharts-rectangle",p);return b?P.createElement(Ca,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(S){var j=S.width,_=S.height,N=S.x,k=S.y;return P.createElement(Ca,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},P.createElement("path",Hv({},at(r,!0),{className:w,d:zA(N,k,j,_,h),ref:n})))}):P.createElement("path",Hv({},at(r,!0),{className:w,d:zA(c,u,d,f,h)}))};function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R_.apply(this,arguments)}var nk=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=ut("recharts-dot",i);return r===+r&&n===+n&&s===+s?x.createElement("circle",R_({},at(t,!1),cv(t),{className:o,cx:r,cy:n,r:s})):null};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}var OSe=["x","y","top","left","width","height","className"];function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$_.apply(this,arguments)}function qA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function PSe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(r),!0).forEach(function(n){ASe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ASe(e,t,r){return t=TSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TSe(e){var t=RSe(e,"string");return sp(t)=="symbol"?t:t+""}function RSe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Se(e,t){if(e==null)return{};var r=MSe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ISe=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},DSe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=$Se(t,OSe),v=PSe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!de(n)||!de(i)||!de(f)||!de(p)||!de(l)||!de(u)?null:P.createElement("path",$_({},at(v,!0),{className:ut("recharts-cross",g),d:ISe(n,i,f,p,l,u)}))},LSe=B3,FSe=LSe(Object.getPrototypeOf,Object),USe=FSe,BSe=$a,zSe=USe,qSe=Ma,WSe="[object Object]",VSe=Function.prototype,HSe=Object.prototype,CU=VSe.toString,KSe=HSe.hasOwnProperty,GSe=CU.call(Object);function YSe(e){if(!qSe(e)||BSe(e)!=WSe)return!1;var t=zSe(e);if(t===null)return!0;var r=KSe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&CU.call(r)==GSe}var QSe=YSe;const XSe=Lt(QSe);var JSe=$a,ZSe=Ma,eNe="[object Boolean]";function tNe(e){return e===!0||e===!1||ZSe(e)&&JSe(e)==eNe}var rNe=tNe;const nNe=Lt(rNe);function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(this,arguments)}function sNe(e,t){return lNe(e)||oNe(e,t)||aNe(e,t)||iNe()}function iNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aNe(e,t){if(e){if(typeof e=="string")return WA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WA(e,t)}}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function lNe(e){if(Array.isArray(e))return e}function VA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(r),!0).forEach(function(n){cNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cNe(e,t,r){return t=uNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uNe(e){var t=dNe(e,"string");return ip(t)=="symbol"?t:t+""}function dNe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KA=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},fNe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hNe=function(t){var r=HA(HA({},fNe),t),n=x.useRef(),s=x.useState(-1),i=sNe(s,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=ut("recharts-trapezoid",p);return y?P.createElement(Ca,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:y},function(w){var S=w.upperWidth,j=w.lowerWidth,_=w.height,N=w.x,k=w.y;return P.createElement(Ca,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},P.createElement("path",Kv({},at(r,!0),{className:b,d:KA(N,k,S,j,_),ref:n})))}):P.createElement("g",null,P.createElement("path",Kv({},at(r,!0),{className:b,d:KA(c,u,d,f,h)})))},pNe=["option","shapeType","propTransformer","activeClassName","isActive"];function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function mNe(e,t){if(e==null)return{};var r=gNe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(r),!0).forEach(function(n){vNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vNe(e,t,r){return t=yNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yNe(e){var t=xNe(e,"string");return ap(t)=="symbol"?t:t+""}function xNe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bNe(e,t){return Gv(Gv({},t),e)}function wNe(e,t){return e==="symbols"}function YA(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return P.createElement(rk,r);case"trapezoid":return P.createElement(hNe,r);case"sector":return P.createElement(gU,r);case"symbols":if(wNe(t))return P.createElement(wN,r);break;default:return null}}function jNe(e){return x.isValidElement(e)?e.props:e}function _Ne(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?bNe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=mNe(e,pNe),u;if(x.isValidElement(t))u=x.cloneElement(t,Gv(Gv({},c),jNe(t)));else if(nt(t))u=t(c);else if(XSe(t)&&!nNe(t)){var d=s(t,c);u=P.createElement(YA,{shapeType:r,elementProps:d})}else{var f=c;u=P.createElement(YA,{shapeType:r,elementProps:f})}return l?P.createElement(ir,{className:o},u):u}function Wx(e,t){return t!=null&&"trapezoids"in e.props}function Vx(e,t){return t!=null&&"sectors"in e.props}function op(e,t){return t!=null&&"points"in e.props}function SNe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function NNe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function kNe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function CNe(e,t){var r;return Wx(e,t)?r=SNe:Vx(e,t)?r=NNe:op(e,t)&&(r=kNe),r}function ENe(e,t){var r;return Wx(e,t)?r="trapezoids":Vx(e,t)?r="sectors":op(e,t)&&(r="points"),r}function ONe(e,t){if(Wx(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Vx(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return op(e,t)?t.payload:{}}function PNe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=ENe(r,t),i=ONe(r,t),o=n.filter(function(c,u){var d=Wh(i,c),f=r.props[s].filter(function(g){var m=CNe(r,t);return m(g,t)}),h=r.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var ANe=Math.ceil,TNe=Math.max;function RNe(e,t,r,n){for(var s=-1,i=TNe(ANe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var $Ne=RNe,MNe=a5,QA=1/0,INe=17976931348623157e292;function DNe(e){if(!e)return e===0?e:0;if(e=MNe(e),e===QA||e===-QA){var t=e<0?-1:1;return t*INe}return e===e?e:0}var EU=DNe,LNe=$Ne,FNe=Rx,Ew=EU;function UNe(e){return function(t,r,n){return n&&typeof n!="number"&&FNe(t,r,n)&&(r=n=void 0),t=Ew(t),r===void 0?(r=t,t=0):r=Ew(r),n=n===void 0?t<r?1:-1:Ew(n),LNe(t,r,n,e)}}var BNe=UNe,zNe=BNe,qNe=zNe(),WNe=qNe;const Yv=Lt(WNe);function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function XA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function JA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(r),!0).forEach(function(n){OU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OU(e,t,r){return t=VNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VNe(e){var t=HNe(e,"string");return lp(t)=="symbol"?t:t+""}function HNe(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KNe=["Webkit","Moz","O","ms"],GNe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=KNe.reduce(function(i,o){return JA(JA({},i),{},OU({},o+n,r))},{});return s[t]=r,s};function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(this,arguments)}function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){qn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AU(n.key),n)}}function QNe(e,t,r){return t&&eT(e.prototype,t),r&&eT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XNe(e,t,r){return t=Xv(t),JNe(e,PU()?Reflect.construct(t,r||[],Xv(e).constructor):t.apply(e,r))}function JNe(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZNe(e)}function ZNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PU=function(){return!!e})()}function Xv(e){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xv(e)}function eke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M_(e,t)}function M_(e,t){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},M_(e,t)}function qn(e,t,r){return t=AU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(e){var t=tke(e,"string");return id(t)=="symbol"?t:t+""}function tke(e,t){if(id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rke=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Hf().domain(Yv(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},tT=function(t){return t.changedTouches&&!!t.changedTouches.length},ad=function(e){function t(r){var n;return YNe(this,t),n=XNe(this,t,[r]),qn(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),qn(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),qn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),qn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),qn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),qn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),qn(n,"handleSlideDragStart",function(s){var i=tT(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return eke(t,e),QNe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=ss(i[n],l,n);return nt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var v=this.getIndex({startX:o+m,endX:l+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=tT(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),y[o]=u+b;var w=this.getIndex(y),S=w.startIndex,j=w.endIndex,_=function(){var k=v.length-1;return o==="startX"&&(l>c?S%m===0:j%m===0)||l<c&&j===k||o==="endX"&&(l>c?j%m===0:S%m===0)||l>c&&j===k};this.setState(qn(qn({},o,u+b),"brushMoveStartX",n.pageX),function(){g&&_()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(qn({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return P.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?P.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=Ow(Ow({},at(this.props,!1)),{},{x:y,y:u,width:d,height:f}),w=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return P.createElement(ir,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return P.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return P.createElement(ir,{className:"recharts-brush-texts"},P.createElement(Sv,Qv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},g),this.getTextOfTick(s)),P.createElement(Sv,Qv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!s||!s.length||!de(l)||!de(c)||!de(u)||!de(d)||u<=0||d<=0)return null;var w=ut("recharts-brush",i),S=P.Children.count(o)===1,j=GNe("userSelect","none");return P.createElement(ir,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return P.createElement(P.Fragment,null,P.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),P.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),P.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return P.isValidElement(n)?i=P.cloneElement(n,s):nt(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Ow({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?rke({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(x.PureComponent);qn(ad,"displayName","Brush");qn(ad,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nke=EN;function ske(e,t){var r;return nke(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var ike=ske,ake=R3,oke=Jo,lke=ike,cke=Fn,uke=Rx;function dke(e,t,r){var n=cke(e)?ake:lke;return r&&uke(e,t,r)&&(t=void 0),n(e,oke(t))}var fke=dke;const hke=Lt(fke);var $i=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},rT=t5;function pke(e,t,r){t=="__proto__"&&rT?rT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var mke=pke,gke=mke,vke=Z3,yke=Jo;function xke(e,t){var r={};return t=yke(t),vke(e,function(n,s,i){gke(r,s,t(n,s,i))}),r}var bke=xke;const wke=Lt(bke);function jke(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var _ke=jke,Ske=EN;function Nke(e,t){var r=!0;return Ske(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var kke=Nke,Cke=_ke,Eke=kke,Oke=Jo,Pke=Fn,Ake=Rx;function Tke(e,t,r){var n=Pke(e)?Cke:Eke;return r&&Ake(e,t,r)&&(t=void 0),n(e,Oke(t))}var Rke=Tke;const TU=Lt(Rke);var $ke=["x","y"];function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I_.apply(this,arguments)}function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(n){Mke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mke(e,t,r){return t=Ike(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ike(e){var t=Dke(e,"string");return cp(t)=="symbol"?t:t+""}function Dke(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lke(e,t){if(e==null)return{};var r=Fke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Uke(e,t){var r=e.x,n=e.y,s=Lke(e,$ke),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return bf(bf(bf(bf(bf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function sT(e){return P.createElement(_Ne,I_({shapeType:"rectangle",propTransformer:Uke,activeClassName:"recharts-active-bar"},e))}var Bke=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=de(n)||Zoe(n);return i?t(n,s):(i||ac(),r)}},zke=["value","background"],RU;function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function qke(e,t){if(e==null)return{};var r=Wke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(this,arguments)}function iT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(r),!0).forEach(function(n){xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MU(n.key),n)}}function Hke(e,t,r){return t&&aT(e.prototype,t),r&&aT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kke(e,t,r){return t=Zv(t),Gke(e,$U()?Reflect.construct(t,r||[],Zv(e).constructor):t.apply(e,r))}function Gke(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yke(e)}function Yke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($U=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(e)}function Qke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D_(e,t)}function D_(e,t){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},D_(e,t)}function xo(e,t,r){return t=MU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MU(e){var t=Xke(e,"string");return od(t)=="symbol"?t:t+""}function Xke(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wp=function(e){function t(){var r;Vke(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Kke(this,t,[].concat(s)),xo(r,"state",{isAnimationFinished:!1}),xo(r,"id",Lp("recharts-bar-")),xo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),xo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Qke(t,e),Hke(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=at(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:o,m=xr(xr(xr({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return P.createElement(ir,Jv({className:"recharts-bar-rectangle"},uv(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),P.createElement(sT,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return P.createElement(Ca,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(v,y){var b=h&&h[y];if(b){var w=ms(b.x,v.x),S=ms(b.y,v.y),j=ms(b.width,v.width),_=ms(b.height,v.height);return xr(xr({},v),{},{x:w(g),y:S(g),width:j(g),height:_(g)})}if(o==="horizontal"){var N=ms(0,v.height),k=N(g);return xr(xr({},v),{},{y:v.y+v.height-k,height:k})}var C=ms(0,v.width),T=C(g);return xr(xr({},v),{},{width:T})});return P.createElement(ir,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Wh(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=at(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=qke(u,zke);if(!f)return null;var p=xr(xr(xr(xr(xr({},h),{},{fill:"#eee"},f),c),uv(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return P.createElement(sT,Jv({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=si(d,qx);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:ss(v,y)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return P.createElement(ir,g,f.map(function(m){return P.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=ut("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,S=b||w,j=lt(m)?this.id:m;return P.createElement(ir,{className:y},b||w?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(j)},P.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,P.createElement(ir,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!p||v)&&To.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(x.PureComponent);RU=Wp;xo(Wp,"displayName","Bar");xo(Wp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!zd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xo(Wp,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=_je(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?xr(xr({},m),r.props):r.props,y=v.dataKey,b=v.children,w=v.minPointSize,S=g==="horizontal"?o:i,j=u?S.scale.domain():null,_=Aje({numericAxis:S}),N=si(b,l5),k=f.map(function(C,T){var I,E,U,O,B,A;u?I=Sje(u[d+T],j):(I=ss(C,y),Array.isArray(I)||(I=[_,I]));var z=Bke(w,RU.defaultProps.minPointSize)(I[1],T);if(g==="horizontal"){var L,R=[o.scale(I[0]),o.scale(I[1])],$=R[0],J=R[1];E=lA({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:C,index:T}),U=(L=J??$)!==null&&L!==void 0?L:void 0,O=p.size;var G=$-J;if(B=Number.isNaN(G)?0:G,A={x:E,y:o.y,width:O,height:o.height},Math.abs(z)>0&&Math.abs(B)<Math.abs(z)){var ie=ti(B||z)*(Math.abs(z)-Math.abs(B));U-=ie,B+=ie}}else{var he=[i.scale(I[0]),i.scale(I[1])],Le=he[0],Fe=he[1];if(E=Le,U=lA({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:C,index:T}),O=Fe-Le,B=p.size,A={x:i.x,y:U,width:i.width,height:B},Math.abs(z)>0&&Math.abs(O)<Math.abs(z)){var ce=ti(O||z)*(Math.abs(z)-Math.abs(O));O+=ce}}return xr(xr(xr({},C),{},{x:E,y:U,width:O,height:B,value:u?I:I[1],payload:C,background:A},N&&N[T]&&N[T].props),{},{tooltipPayload:[hU(r,C)],tooltipPosition:{x:E+O/2,y:U+B/2}})});return xr({data:k,layout:g},h)});function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function Jke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IU(n.key),n)}}function Zke(e,t,r){return t&&oT(e.prototype,t),r&&oT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){Hx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hx(e,t,r){return t=IU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IU(e){var t=eCe(e,"string");return up(t)=="symbol"?t:t+""}function eCe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tCe=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Vn(u,Wp);return d.reduce(function(p,g){var m=r[g],v=m.orientation,y=m.domain,b=m.padding,w=b===void 0?{}:b,S=m.mirror,j=m.reversed,_="".concat(v).concat(S?"Mirror":""),N,k,C,T,I;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var E=y[1]-y[0],U=1/0,O=m.categoricalDomain.sort(rle);if(O.forEach(function(he,Le){Le>0&&(U=Math.min((he||0)-(O[Le-1]||0),U))}),Number.isFinite(U)){var B=U/E,A=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(N=B*A/2),m.padding==="no-gap"){var z=sc(t.barCategoryGap,B*A),L=B*A/2;N=L-z-(L-z)/A*z}}}s==="xAxis"?k=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:k=m.range,j&&(k=[k[1],k[0]]);var R=wje(m,i,h),$=R.scale,J=R.realScaleType;$.domain(y).range(k),jje($);var G=Pje($,Ys(Ys({},m),{},{realScaleType:J}));s==="xAxis"?(I=v==="top"&&!S||v==="bottom"&&S,C=n.left,T=f[_]-I*m.height):s==="yAxis"&&(I=v==="left"&&!S||v==="right"&&S,C=f[_]-I*m.width,T=n.top);var ie=Ys(Ys(Ys({},m),G),{},{realScaleType:J,x:C,y:T,scale:$,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return ie.bandSize=Fv(ie,G),!m.hide&&s==="xAxis"?f[_]+=(I?-1:1)*ie.height:m.hide||(f[_]+=(I?-1:1)*ie.width),Ys(Ys({},p),{},Hx({},g,ie))},{})},DU=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},rCe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return DU({x:r,y:n},{x:s,y:i})},LU=function(){function e(t){Jke(this,e),this.scale=t}return Zke(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Hx(LU,"EPS",1e-4);var sk=function(t){var r=Object.keys(t).reduce(function(n,s){return Ys(Ys({},n),{},Hx({},s,LU.create(t[s])))},{});return Ys(Ys({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return wke(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return TU(s,function(i,o){return r[o].isInRange(i)})}})};function nCe(e){return(e%180+180)%180}var sCe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=nCe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},iCe=Jo,aCe=Fp,oCe=Ax;function lCe(e){return function(t,r,n){var s=Object(t);if(!aCe(t)){var i=iCe(r);t=oCe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var cCe=lCe,uCe=EU;function dCe(e){var t=uCe(e),r=t%1;return t===t?r?t-r:t:0}var fCe=dCe,hCe=K3,pCe=Jo,mCe=fCe,gCe=Math.max;function vCe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:mCe(r);return s<0&&(s=gCe(n+s,0)),hCe(e,pCe(t),s)}var yCe=vCe,xCe=cCe,bCe=yCe,wCe=xCe(bCe),jCe=wCe;const _Ce=Lt(jCe);var SCe=ioe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),ik=x.createContext(void 0),ak=x.createContext(void 0),FU=x.createContext(void 0),UU=x.createContext({}),BU=x.createContext(void 0),zU=x.createContext(0),qU=x.createContext(0),cT=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=SCe(i);return P.createElement(ik.Provider,{value:n},P.createElement(ak.Provider,{value:s},P.createElement(UU.Provider,{value:i},P.createElement(FU.Provider,{value:d},P.createElement(BU.Provider,{value:o},P.createElement(zU.Provider,{value:u},P.createElement(qU.Provider,{value:c},l)))))))},NCe=function(){return x.useContext(BU)},WU=function(t){var r=x.useContext(ik);r==null&&ac();var n=r[t];return n==null&&ac(),n},kCe=function(){var t=x.useContext(ik);return no(t)},CCe=function(){var t=x.useContext(ak),r=_Ce(t,function(n){return TU(n.domain,Number.isFinite)});return r||no(t)},VU=function(t){var r=x.useContext(ak);r==null&&ac();var n=r[t];return n==null&&ac(),n},ECe=function(){var t=x.useContext(FU);return t},OCe=function(){return x.useContext(UU)},ok=function(){return x.useContext(qU)},lk=function(){return x.useContext(zU)};function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function PCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ACe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KU(n.key),n)}}function TCe(e,t,r){return t&&ACe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RCe(e,t,r){return t=ey(t),$Ce(e,HU()?Reflect.construct(t,r||[],ey(e).constructor):t.apply(e,r))}function $Ce(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MCe(e)}function MCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HU=function(){return!!e})()}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ey(e)}function ICe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L_(e,t)}function L_(e,t){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},L_(e,t)}function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){ck(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ck(e,t,r){return t=KU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KU(e){var t=DCe(e,"string");return ld(t)=="symbol"?t:t+""}function DCe(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function LCe(e,t){return zCe(e)||BCe(e,t)||UCe(e,t)||FCe()}function FCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UCe(e,t){if(e){if(typeof e=="string")return fT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fT(e,t)}}function fT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zCe(e){if(Array.isArray(e))return e}function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F_.apply(this,arguments)}var qCe=function(t,r){var n;return P.isValidElement(t)?n=P.cloneElement(t,r):nt(t)?n=t(r):n=P.createElement("line",F_({},r,{className:"recharts-reference-line-line"})),n},WCe=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,m=t.y.apply(g,{position:o});if($i(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var y=u.x,b=t.x.apply(y,{position:o});if($i(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+p},{x:b,y:f}];return l==="top"?w.reverse():w}if(s){var S=u.segment,j=S.map(function(_){return t.apply(_,{position:o})});return $i(u,"discard")&&hke(j,function(_){return!t.isInRange(_)})?null:j}return null};function VCe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=NCe(),d=WU(s),f=VU(i),h=ECe();if(!u||!h)return null;fa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=sk({x:d.scale,y:f.scale}),g=Ir(t),m=Ir(r),v=n&&n.length===2,y=WCe(p,g,m,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=LCe(y,2),w=b[0],S=w.x,j=w.y,_=b[1],N=_.x,k=_.y,C=$i(e,"hidden")?"url(#".concat(u,")"):void 0,T=dT(dT({clipPath:C},at(e,!0)),{},{x1:S,y1:j,x2:N,y2:k});return P.createElement(ir,{className:ut("recharts-reference-line",l)},qCe(o,T),ln.renderCallByParent(e,rCe({x1:S,y1:j,x2:N,y2:k})))}var uk=function(e){function t(){return PCe(this,t),RCe(this,t,arguments)}return ICe(t,e),TCe(t,[{key:"render",value:function(){return P.createElement(VCe,this.props)}}])}(P.Component);ck(uk,"displayName","ReferenceLine");ck(uk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U_.apply(this,arguments)}function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(n){Kx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YU(n.key),n)}}function GCe(e,t,r){return t&&KCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YCe(e,t,r){return t=ty(t),QCe(e,GU()?Reflect.construct(t,r||[],ty(e).constructor):t.apply(e,r))}function QCe(e,t){if(t&&(cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XCe(e)}function XCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GU=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(e)}function JCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B_(e,t)}function B_(e,t){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},B_(e,t)}function Kx(e,t,r){return t=YU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YU(e){var t=ZCe(e,"string");return cd(t)=="symbol"?t:t+""}function ZCe(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eEe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=sk({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return $i(t,"discard")&&!o.isInRange(l)?null:l},Gx=function(e){function t(){return HCe(this,t),YCe(this,t,arguments)}return JCe(t,e),GCe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ir(s),d=Ir(i);if(fa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=eEe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,y=$i(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=pT(pT({clipPath:y},at(this.props,!0)),{},{cx:h,cy:p});return P.createElement(ir,{className:ut("recharts-reference-dot",v)},t.renderDot(m,b),ln.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(P.Component);Kx(Gx,"displayName","ReferenceDot");Kx(Gx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Kx(Gx,"renderDot",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):nt(e)?r=e(t):r=P.createElement(nk,U_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function z_(){return z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z_.apply(this,arguments)}function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){Yx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XU(n.key),n)}}function nEe(e,t,r){return t&&rEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sEe(e,t,r){return t=ry(t),iEe(e,QU()?Reflect.construct(t,r||[],ry(e).constructor):t.apply(e,r))}function iEe(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aEe(e)}function aEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QU=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ry(e)}function oEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q_(e,t)}function q_(e,t){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},q_(e,t)}function Yx(e,t,r){return t=XU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XU(e){var t=lEe(e,"string");return ud(t)=="symbol"?t:t+""}function lEe(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cEe=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=sk({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return $i(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:DU(p,g)},Qx=function(e){function t(){return tEe(this,t),sEe(this,t,arguments)}return oEe(t,e),nEe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;fa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ir(s),h=Ir(i),p=Ir(o),g=Ir(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=cEe(f,h,p,g,this.props);if(!v&&!m)return null;var y=$i(this.props,"hidden")?"url(#".concat(d,")"):void 0;return P.createElement(ir,{className:ut("recharts-reference-area",c)},t.renderRect(m,gT(gT({clipPath:y},at(this.props,!0)),v)),ln.renderCallByParent(this.props,v))}}])}(P.Component);Yx(Qx,"displayName","ReferenceArea");Yx(Qx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Yx(Qx,"renderRect",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):nt(e)?r=e(t):r=P.createElement(rk,z_({},t,{className:"recharts-reference-area-rect"})),r});function JU(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function uEe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return sCe(n,r)}function dEe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function ny(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function fEe(e,t){return JU(e,t+1)}function hEe(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:JU(n,u)};var m=c,v,y=function(){return v===void 0&&(v=r(g,m)),v},b=g.coordinate,w=c===0||ny(e,b,y,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(y()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){pEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pEe(e,t,r){return t=mEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mEe(e){var t=gEe(e,"string");return dp(t)=="symbol"?t:t+""}function gEe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vEe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var v=e*(p.coordinate+e*m()/2-c);i[h]=p=an(an({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=an(an({},p),{},{tickCoord:p.coordinate});var y=ny(e,p.tickCoord,m,l,c);y&&(c=p.tickCoord-e*(m()/2+s),i[h]=an(an({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function yEe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=an(an({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=ny(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+s),o[l-1]=an(an({},d),{},{isShow:!0}))}for(var g=i?l-1:l,m=function(b){var w=o[b],S,j=function(){return S===void 0&&(S=r(w,b)),S};if(b===0){var _=e*(w.coordinate-e*j()/2-c);o[b]=w=an(an({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else o[b]=w=an(an({},w),{},{tickCoord:w.coordinate});var N=ny(e,w.tickCoord,j,c,u);N&&(c=w.tickCoord+e*(j()/2+s),o[b]=an(an({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return o}function dk(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(de(c)||zd.isSsr)return fEe(s,typeof c=="number"&&de(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?Vf(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,S){var j=nt(u)?u(w.value,S):w.value;return p==="width"?uEe(Vf(j,{fontSize:t,letterSpacing:r}),g,f):Vf(j,{fontSize:t,letterSpacing:r})[p]},v=s.length>=2?ti(s[1].coordinate-s[0].coordinate):1,y=dEe(i,v,p);return c==="equidistantPreserveStart"?hEe(v,y,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=yEe(v,y,m,s,o,c==="preserveStartEnd"):h=vEe(v,y,m,s,o),h.filter(function(b){return b.isShow}))}var xEe=["viewBox"],bEe=["viewBox"],wEe=["ticks"];function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(this,arguments)}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){fk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pw(e,t){if(e==null)return{};var r=jEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eB(n.key),n)}}function SEe(e,t,r){return t&&xT(e.prototype,t),r&&xT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NEe(e,t,r){return t=sy(t),kEe(e,ZU()?Reflect.construct(t,r||[],sy(e).constructor):t.apply(e,r))}function kEe(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CEe(e)}function CEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZU=function(){return!!e})()}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sy(e)}function EEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W_(e,t)}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},W_(e,t)}function fk(e,t,r){return t=eB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=OEe(e,"string");return dd(t)=="symbol"?t:t+""}function OEe(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hd=function(e){function t(r){var n;return _Ee(this,t),n=NEe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return EEe(t,e),SEe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=Pw(n,xEe),l=this.props,c=l.viewBox,u=Pw(l,bEe);return!pu(i,c)||!pu(o,u)||!pu(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,g,m,v,y,b,w=f?-1:1,S=n.tickSize||d,j=de(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=o+ +!f*c,m=v-w*S,b=m-w*h,y=j;break;case"left":m=v=n.coordinate,g=i+ +!f*l,p=g-w*S,y=p-w*h,b=j;break;case"right":m=v=n.coordinate,g=i+ +f*l,p=g+w*S,y=p+w*h,b=j;break;default:p=g=n.coordinate,v=o+ +f*c,m=v+w*S,b=m+w*h,y=j;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Cr(Cr(Cr({},at(this.props,!1)),at(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Cr(Cr({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Cr(Cr({},f),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return P.createElement("line",ru({},f,{className:ut("recharts-cartesian-axis-line",ws(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=dk(Cr(Cr({},this.props),{},{ticks:n}),s,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=at(this.props,!1),y=at(d,!1),b=Cr(Cr({},v),{},{fill:"none"},at(c,!1)),w=p.map(function(S,j){var _=o.getTickLineCoord(S),N=_.line,k=_.tick,C=Cr(Cr(Cr(Cr({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},y),k),{},{index:j,payload:S,visibleTicksCount:p.length,tickFormatter:f});return P.createElement(ir,ru({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},uv(o.props,S,j)),c&&P.createElement("line",ru({},b,N,{className:ut("recharts-cartesian-axis-tick-line",ws(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(nt(f)?f(S.value,j):S.value).concat(h||"")))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=Pw(f,wEe),g=h;return nt(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:P.createElement(ir,{className:ut("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ln.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=ut(s.className,"recharts-cartesian-axis-tick-value");return P.isValidElement(n)?o=P.cloneElement(n,Cr(Cr({},s),{},{className:l})):nt(n)?o=n(Cr(Cr({},s),{},{className:l})):o=P.createElement(Sv,ru({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(x.Component);fk(Hd,"displayName","CartesianAxis");fk(Hd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var PEe=["x1","y1","x2","y2","key"],AEe=["offset"];function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){TEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TEe(e,t,r){return t=REe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function REe(e){var t=$Ee(e,"string");return oc(t)=="symbol"?t:t+""}function $Ee(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}function wT(e,t){if(e==null)return{};var r=MEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var IEe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return P.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function tB(e,t){var r;if(P.isValidElement(e))r=P.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=wT(t,PEe),u=at(c,!1);u.offset;var d=wT(u,AEe);r=P.createElement("line",kl({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function DEe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=cn(cn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return tB(s,u)});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function LEe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=cn(cn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return tB(s,u)});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function FEe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+o-h:d[p+1]-h;if(m<=0)return null;var v=p%t.length;return P.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function UEe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+l-h:d[p+1]-h;if(m<=0)return null;var v=p%n.length;return P.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var BEe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return dU(dk(cn(cn(cn({},Hd.defaultProps),n),{},{ticks:oa(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},zEe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return dU(dk(cn(cn(cn({},Hd.defaultProps),n),{},{ticks:oa(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Ic={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rB(e){var t,r,n,s,i,o,l=ok(),c=lk(),u=OCe(),d=cn(cn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ic.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ic.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ic.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ic.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ic.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ic.verticalFill,x:de(e.x)?e.x:u.left,y:de(e.y)?e.y:u.top,width:de(e.width)?e.width:u.width,height:de(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=kCe(),w=CCe();if(!de(p)||p<=0||!de(g)||g<=0||!de(f)||f!==+f||!de(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||BEe,j=d.horizontalCoordinatesGenerator||zEe,_=d.horizontalPoints,N=d.verticalPoints;if((!_||!_.length)&&nt(j)){var k=v&&v.length,C=j({yAxis:w?cn(cn({},w),{},{ticks:k?v:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);fa(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oc(C),"]")),Array.isArray(C)&&(_=C)}if((!N||!N.length)&&nt(S)){var T=y&&y.length,I=S({xAxis:b?cn(cn({},b),{},{ticks:T?y:b.ticks}):void 0,width:l,height:c,offset:u},T?!0:m);fa(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oc(I),"]")),Array.isArray(I)&&(N=I)}return P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(IEe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),P.createElement(DEe,kl({},d,{offset:u,horizontalPoints:_,xAxis:b,yAxis:w})),P.createElement(LEe,kl({},d,{offset:u,verticalPoints:N,xAxis:b,yAxis:w})),P.createElement(FEe,kl({},d,{horizontalPoints:_})),P.createElement(UEe,kl({},d,{verticalPoints:N})))}rB.displayName="CartesianGrid";var qEe=["layout","type","stroke","connectNulls","isRange","ref"],WEe=["key"],nB;function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function sB(e,t){if(e==null)return{};var r=VEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cl.apply(this,arguments)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){ki(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aB(n.key),n)}}function KEe(e,t,r){return t&&_T(e.prototype,t),r&&_T(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GEe(e,t,r){return t=iy(t),YEe(e,iB()?Reflect.construct(t,r||[],iy(e).constructor):t.apply(e,r))}function YEe(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QEe(e)}function QEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iB=function(){return!!e})()}function iy(e){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iy(e)}function XEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V_(e,t)}function V_(e,t){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},V_(e,t)}function ki(e,t,r){return t=aB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aB(e){var t=JEe(e,"string");return fd(t)=="symbol"?t:t+""}function JEe(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rl=function(e){function t(){var r;HEe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=GEe(this,t,[].concat(s)),ki(r,"state",{isAnimationFinished:!0}),ki(r,"id",Lp("recharts-area-")),ki(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nt(o)&&o()}),ki(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nt(o)&&o()}),r}return XEe(t,e),KEe(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=at(this.props,!1),p=at(u,!0),g=d.map(function(v,y){var b=Ka(Ka(Ka({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,b)}),m={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return P.createElement(ir,Cl({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=yo(o.map(function(h){return h.y||0}));return de(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(yo(i.map(function(h){return h.y||0})),f)),de(f)?P.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=yo(o.map(function(h){return h.x||0}));return de(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(yo(i.map(function(h){return h.x||0})),f)),de(f)?P.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=sB(l,qEe);return P.createElement(ir,{clipPath:i?"url(#clipPath-".concat(o,")"):null},P.createElement(Gf,Cl({},at(p,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&P.createElement(Gf,Cl({},at(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&P.createElement(Gf,Cl({},at(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return P.createElement(Ca,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(m){var w=m.length/l.length,S=l.map(function(k,C){var T=Math.floor(C*w);if(m[T]){var I=m[T],E=ms(I.x,k.x),U=ms(I.y,k.y);return Ka(Ka({},k),{},{x:E(b),y:U(b)})}return k}),j;if(de(c)&&typeof c=="number"){var _=ms(v,c);j=_(b)}else if(lt(c)||Ld(c)){var N=ms(v,0);j=N(b)}else j=c.map(function(k,C){var T=Math.floor(C*w);if(v[T]){var I=v[T],E=ms(I.x,k.x),U=ms(I.y,k.y);return Ka(Ka({},k),{},{x:E(b),y:U(b)})}return k});return i.renderAreaStatically(S,j,n,s)}return P.createElement(ir,null,P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(b))),P.createElement(ir,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Wh(d,o)||!Wh(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,p=s.width,g=s.height,m=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=ut("recharts-area",c),S=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,_=S||j,N=lt(v)?this.id:v,k=(n=at(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,T=C===void 0?3:C,I=k.strokeWidth,E=I===void 0?2:I,U=dle(o)?o:{},O=U.clipDot,B=O===void 0?!0:O,A=T*2+E;return P.createElement(ir,{className:w},S||j?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(N)},P.createElement("rect",{x:S?d:d-p/2,y:j?u:u-g/2,width:S?p:p*2,height:j?g:g*2})),!B&&P.createElement("clipPath",{id:"clipPath-dots-".concat(N)},P.createElement("rect",{x:d-A/2,y:u-A/2,width:p+A,height:g+A}))):null,b?null:this.renderArea(_,N),(o||b)&&this.renderDots(_,B,N),(!m||y)&&To.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);nB=rl;ki(rl,"displayName","Area");ki(rl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!zd.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ki(rl,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(de(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ki(rl,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,g=u&&u.length,m=nB.getBaseValue(t,r,n,s),v=p==="horizontal",y=!1,b=f.map(function(S,j){var _;g?_=u[d+j]:(_=ss(S,c),Array.isArray(_)?y=!0:_=[m,_]);var N=_[1]==null||g&&ss(S,c)==null;return v?{x:oA({axis:n,ticks:i,bandSize:l,entry:S,index:j}),y:N?null:s.scale(_[1]),value:_,payload:S}:{x:N?null:n.scale(_[1]),y:oA({axis:s,ticks:o,bandSize:l,entry:S,index:j}),value:_,payload:S}}),w;return g||y?w=b.map(function(S){var j=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:j!=null&&S.y!=null?s.scale(j):null}:{x:j!=null?n.scale(j):null,y:S.y}}):w=v?s.scale(m):n.scale(m),Ka({points:b,baseLine:w,layout:p,isRange:y},h)});ki(rl,"renderDotItem",function(e,t){var r;if(P.isValidElement(e))r=P.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=ut("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=sB(t,WEe);r=P.createElement(nk,Cl({},i,{key:s,className:n}))}return r});function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function ZEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cB(n.key),n)}}function tOe(e,t,r){return t&&eOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rOe(e,t,r){return t=ay(t),nOe(e,oB()?Reflect.construct(t,r||[],ay(e).constructor):t.apply(e,r))}function nOe(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sOe(e)}function sOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oB=function(){return!!e})()}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ay(e)}function iOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H_(e,t)}function H_(e,t){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},H_(e,t)}function lB(e,t,r){return t=cB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cB(e){var t=aOe(e,"string");return hd(t)=="symbol"?t:t+""}function aOe(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K_.apply(this,arguments)}function oOe(e){var t=e.xAxisId,r=ok(),n=lk(),s=WU(t);return s==null?null:x.createElement(Hd,K_({},s,{className:ut("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return oa(o,!0)}}))}var Xx=function(e){function t(){return ZEe(this,t),rOe(this,t,arguments)}return iOe(t,e),tOe(t,[{key:"render",value:function(){return x.createElement(oOe,this.props)}}])}(x.Component);lB(Xx,"displayName","XAxis");lB(Xx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function lOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fB(n.key),n)}}function uOe(e,t,r){return t&&cOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dOe(e,t,r){return t=oy(t),fOe(e,uB()?Reflect.construct(t,r||[],oy(e).constructor):t.apply(e,r))}function fOe(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hOe(e)}function hOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uB=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oy(e)}function pOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G_(e,t)}function G_(e,t){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},G_(e,t)}function dB(e,t,r){return t=fB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fB(e){var t=mOe(e,"string");return pd(t)=="symbol"?t:t+""}function mOe(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y_.apply(this,arguments)}var gOe=function(t){var r=t.yAxisId,n=ok(),s=lk(),i=VU(r);return i==null?null:x.createElement(Hd,Y_({},i,{className:ut("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return oa(l,!0)}}))},Jx=function(e){function t(){return lOe(this,t),dOe(this,t,arguments)}return pOe(t,e),uOe(t,[{key:"render",value:function(){return x.createElement(gOe,this.props)}}])}(x.Component);dB(Jx,"displayName","YAxis");dB(Jx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ST(e){return bOe(e)||xOe(e)||yOe(e)||vOe()}function vOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yOe(e,t){if(e){if(typeof e=="string")return Q_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q_(e,t)}}function xOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bOe(e){if(Array.isArray(e))return Q_(e)}function Q_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var X_=function(t,r,n,s,i){var o=si(t,uk),l=si(t,Gx),c=[].concat(ST(o),ST(l)),u=si(t,Qx),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&$i(v.props,"extendDomain")&&de(v.props[f])){var y=v.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&$i(v.props,"extendDomain")&&de(v.props[p])&&de(v.props[g])){var y=v.props[p],b=v.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return de(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},hB={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var S=v.length,j;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(j=1,b=new Array(y-1);j<y;j++)b[j-1]=arguments[j];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(hB);var wOe=hB.exports;const jOe=Lt(wOe);var Aw=new jOe,Tw="recharts.syncMouseEvents";function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function _Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pB(n.key),n)}}function NOe(e,t,r){return t&&SOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rw(e,t,r){return t=pB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pB(e){var t=kOe(e,"string");return fp(t)=="symbol"?t:t+""}function kOe(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var COe=function(){function e(){_Oe(this,e),Rw(this,"activeIndex",0),Rw(this,"coordinateList",[]),Rw(this,"layout","horizontal")}return NOe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function EOe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&de(n)&&de(s))return!0}return!1}function OOe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function mB(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Xr(t,r,n,s),l=Xr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function POe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Xr(l,c,u,f),p=Xr(l,c,d,f);n=h.x,s=h.y,i=p.x,o=p.y}else return mB(t);return[{x:n,y:s},{x:i,y:o}]}function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){AOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AOe(e,t,r){return t=TOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TOe(e){var t=ROe(e,"string");return hp(t)=="symbol"?t:t+""}function ROe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Oe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,m=Gf;if(h==="ScatterChart")g=o,m=DSe;else if(h==="BarChart")g=OOe(f,o,c,d),m=rk;else if(f==="radial"){var v=mB(o),y=v.cx,b=v.cy,w=v.radius,S=v.startAngle,j=v.endAngle;g={cx:y,cy:b,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},m=gU}else g={points:POe(f,o,c)},m=Gf;var _=Bm(Bm(Bm(Bm({stroke:"#ccc",pointerEvents:"none"},c),g),at(p,!1)),{},{payload:l,payloadIndex:u,className:ut("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,_):x.createElement(m,_)}var MOe=["item"],IOe=["children","className","width","height","style","compact","title","desc"];function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nu.apply(this,arguments)}function kT(e,t){return FOe(e)||LOe(e,t)||vB(e,t)||DOe()}function DOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function FOe(e){if(Array.isArray(e))return e}function CT(e,t){if(e==null)return{};var r=UOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yB(n.key),n)}}function qOe(e,t,r){return t&&zOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WOe(e,t,r){return t=ly(t),VOe(e,gB()?Reflect.construct(t,r||[],ly(e).constructor):t.apply(e,r))}function VOe(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HOe(e)}function HOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gB=function(){return!!e})()}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ly(e)}function KOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},J_(e,t)}function gd(e){return QOe(e)||YOe(e)||vB(e)||GOe()}function GOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vB(e,t){if(e){if(typeof e=="string")return Z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z_(e,t)}}function YOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QOe(e){if(Array.isArray(e))return Z_(e)}function Z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){Be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Be(e,t,r){return t=yB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yB(e){var t=XOe(e,"string");return md(t)=="symbol"?t:t+""}function XOe(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JOe={xAxis:["bottom","top"],yAxis:["left","right"]},ZOe={width:"100%",height:"100%"},xB={x:0,y:0};function zm(e){return e}var ePe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},tPe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return X(X(X({},s),Xr(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return X(X(X({},s),Xr(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return xB},Zx=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(gd(l),gd(u)):l},[]);return o.length>0?o:t&&t.length&&de(s)&&de(i)?t.slice(s,i+1):[]};function bB(e){return e==="number"?[0,"auto"]:void 0}var e1=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Zx(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=lv(p,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(gd(c),[hU(u,h)]):c},[])},OT=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=ePe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=mje(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=e1(t,r,d,f),p=tPe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},rPe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=uU(d,i);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?X(X({},m.type.defaultProps),m.props):m.props,b=y.type,w=y.dataKey,S=y.allowDataOverflow,j=y.allowDuplicatedCategory,_=y.scale,N=y.ticks,k=y.includeHidden,C=y[o];if(g[C])return g;var T=Zx(t.data,{graphicalItems:s.filter(function(G){var ie,he=o in G.props?G.props[o]:(ie=G.type.defaultProps)===null||ie===void 0?void 0:ie[o];return he===C}),dataStartIndex:c,dataEndIndex:u}),I=T.length,E,U,O;EOe(y.domain,S,b)&&(E=x_(y.domain,null,S),p&&(b==="number"||_!=="auto")&&(O=Kf(T,w,"category")));var B=bB(b);if(!E||E.length===0){var A,z=(A=y.domain)!==null&&A!==void 0?A:B;if(w){if(E=Kf(T,w,b),b==="category"&&p){var L=tle(E);j&&L?(U=E,E=Yv(0,I)):j||(E=dA(z,E,m).reduce(function(G,ie){return G.indexOf(ie)>=0?G:[].concat(gd(G),[ie])},[]))}else if(b==="category")j?E=E.filter(function(G){return G!==""&&!lt(G)}):E=dA(z,E,m).reduce(function(G,ie){return G.indexOf(ie)>=0||ie===""||lt(ie)?G:[].concat(gd(G),[ie])},[]);else if(b==="number"){var R=bje(T,s.filter(function(G){var ie,he,Le=o in G.props?G.props[o]:(ie=G.type.defaultProps)===null||ie===void 0?void 0:ie[o],Fe="hide"in G.props?G.props.hide:(he=G.type.defaultProps)===null||he===void 0?void 0:he.hide;return Le===C&&(k||!Fe)}),w,i,d);R&&(E=R)}p&&(b==="number"||_!=="auto")&&(O=Kf(T,w,"category"))}else p?E=Yv(0,I):l&&l[C]&&l[C].hasStack&&b==="number"?E=h==="expand"?[0,1]:fU(l[C].stackGroups,c,u):E=cU(T,s.filter(function(G){var ie=o in G.props?G.props[o]:G.type.defaultProps[o],he="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ie===C&&(k||!he)}),b,d,!0);if(b==="number")E=X_(f,E,C,i,N),z&&(E=x_(z,E,S));else if(b==="category"&&z){var $=z,J=E.every(function(G){return $.indexOf(G)>=0});J&&(E=$)}}return X(X({},g),{},Be({},C,X(X({},y),{},{axisType:i,domain:E,categoricalDomain:O,duplicateDomain:U,originalDomain:(v=y.domain)!==null&&v!==void 0?v:B,isCategorical:p,layout:d})))},{})},nPe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Zx(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=uU(d,i),m=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?X(X({},y.type.defaultProps),y.props):y.props,w=b[o],S=bB("number");if(!v[w]){m++;var j;return g?j=Yv(0,p):l&&l[w]&&l[w].hasStack?(j=fU(l[w].stackGroups,c,u),j=X_(f,j,w,i)):(j=x_(S,cU(h,n.filter(function(_){var N,k,C=o in _.props?_.props[o]:(N=_.type.defaultProps)===null||N===void 0?void 0:N[o],T="hide"in _.props?_.props.hide:(k=_.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!T}),"number",d),s.defaultProps.allowDataOverflow),j=X_(f,j,w,i)),X(X({},v),{},Be({},w,X(X({axisType:i},s.defaultProps),{},{hide:!0,orientation:ws(JOe,"".concat(i,".").concat(m%2),null),domain:j,originalDomain:S,isCategorical:g,layout:d})))}return v},{})},sPe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=si(d,i),p={};return h&&h.length?p=rPe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=nPe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},iPe=function(t){var r=no(t),n=oa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ON(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Fv(r,n)}},PT=function(t){var r=t.children,n=t.defaultShowTooltip,s=Vn(r,ad),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},aPe=function(t){return!t||!t.length?!1:t.some(function(r){var n=da(r&&r.type);return n&&n.indexOf("Bar")>=0})},AT=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},oPe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Vn(f,ad),g=Vn(f,mu),m=Object.keys(c).reduce(function(j,_){var N=c[_],k=N.orientation;return!N.mirror&&!N.hide?X(X({},j),{},Be({},k,j[k]+N.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,_){var N=o[_],k=N.orientation;return!N.mirror&&!N.hide?X(X({},j),{},Be({},k,ws(j,"".concat(k))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),y=X(X({},v),m),b=y.bottom;p&&(y.bottom+=p.props.height||ad.defaultProps.height),g&&r&&(y=yje(y,s,n,r));var w=u-y.left-y.right,S=d-y.top-y.bottom;return X(X({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(S,0)})},lPe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},cPe=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var w=b.graphicalItems,S=b.stackGroups,j=b.offset,_=b.updateId,N=b.dataStartIndex,k=b.dataEndIndex,C=y.barSize,T=y.layout,I=y.barGap,E=y.barCategoryGap,U=y.maxBarSize,O=AT(T),B=O.numericAxisName,A=O.cateAxisName,z=aPe(w),L=[];return w.forEach(function(R,$){var J=Zx(y.data,{graphicalItems:[R],dataStartIndex:N,dataEndIndex:k}),G=R.type.defaultProps!==void 0?X(X({},R.type.defaultProps),R.props):R.props,ie=G.dataKey,he=G.maxBarSize,Le=G["".concat(B,"Id")],Fe=G["".concat(A,"Id")],ce={},Me=c.reduce(function(D,W){var Y=b["".concat(W.axisType,"Map")],ye=G["".concat(W.axisType,"Id")];Y&&Y[ye]||W.axisType==="zAxis"||ac();var fe=Y[ye];return X(X({},D),{},Be(Be({},W.axisType,fe),"".concat(W.axisType,"Ticks"),oa(fe)))},ce),re=Me[A],pe=Me["".concat(A,"Ticks")],H=S&&S[Le]&&S[Le].hasStack&&Tje(R,S[Le].stackGroups),K=da(R.type).indexOf("Bar")>=0,Ye=Fv(re,pe),Ue=[],wt=z&&gje({barSize:C,stackGroups:S,totalSize:lPe(Me,A)});if(K){var yt,Zt,tn=lt(he)?U:he,Sn=(yt=(Zt=Fv(re,pe,!0))!==null&&Zt!==void 0?Zt:tn)!==null&&yt!==void 0?yt:0;Ue=vje({barGap:I,barCategoryGap:E,bandSize:Sn!==Ye?Sn:Ye,sizeList:wt[Fe],maxBarSize:tn}),Sn!==Ye&&(Ue=Ue.map(function(D){return X(X({},D),{},{position:X(X({},D.position),{},{offset:D.position.offset-Sn/2})})}))}var hi=R&&R.type&&R.type.getComposedData;hi&&L.push({props:X(X({},hi(X(X({},Me),{},{displayedData:J,props:y,dataKey:ie,item:R,bandSize:Ye,barPosition:Ue,offset:j,stackedData:H,layout:T,dataStartIndex:N,dataEndIndex:k}))),{},Be(Be(Be({key:R.key||"item-".concat($)},B,Me[B]),A,Me[A]),"animationId",_)),childIndex:ple(R,y.children),item:R})}),L},p=function(y,b){var w=y.props,S=y.dataStartIndex,j=y.dataEndIndex,_=y.updateId;if(!sP({props:w}))return null;var N=w.children,k=w.layout,C=w.stackOffset,T=w.data,I=w.reverseStackOrder,E=AT(k),U=E.numericAxisName,O=E.cateAxisName,B=si(N,n),A=Oje(T,B,"".concat(U,"Id"),"".concat(O,"Id"),C,I),z=c.reduce(function(G,ie){var he="".concat(ie.axisType,"Map");return X(X({},G),{},Be({},he,sPe(w,X(X({},ie),{},{graphicalItems:B,stackGroups:ie.axisType===U&&A,dataStartIndex:S,dataEndIndex:j}))))},{}),L=oPe(X(X({},z),{},{props:w,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(z).forEach(function(G){z[G]=d(w,z[G],L,G.replace("Map",""),r)});var R=z["".concat(O,"Map")],$=iPe(R),J=h(w,X(X({},z),{},{dataStartIndex:S,dataEndIndex:j,updateId:_,graphicalItems:B,stackGroups:A,offset:L}));return X(X({formattedGraphicalItems:J,graphicalItems:B,offset:L,stackGroups:A},$),z)},g=function(v){function y(b){var w,S,j;return BOe(this,y),j=WOe(this,y,[b]),Be(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(j,"accessibilityManager",new COe),Be(j,"handleLegendBBoxUpdate",function(_){if(_){var N=j.state,k=N.dataStartIndex,C=N.dataEndIndex,T=N.updateId;j.setState(X({legendBBox:_},p({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:T},X(X({},j.state),{},{legendBBox:_}))))}}),Be(j,"handleReceiveSyncEvent",function(_,N,k){if(j.props.syncId===_){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),Be(j,"handleBrushChange",function(_){var N=_.startIndex,k=_.endIndex;if(N!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return X({dataStartIndex:N,dataEndIndex:k},p({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),Be(j,"handleMouseEnter",function(_){var N=j.getMouseInfo(_);if(N){var k=X(X({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;nt(C)&&C(k,_)}}),Be(j,"triggeredAfterMouseMove",function(_){var N=j.getMouseInfo(_),k=N?X(X({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;nt(C)&&C(k,_)}),Be(j,"handleItemMouseEnter",function(_){j.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Be(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Be(j,"handleMouseMove",function(_){_.persist(),j.throttleTriggeredAfterMouseMove(_)}),Be(j,"handleMouseLeave",function(_){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseLeave;nt(k)&&k(N,_)}),Be(j,"handleOuterEvent",function(_){var N=hle(_),k=ws(j.props,"".concat(N));if(N&&nt(k)){var C,T;/.*touch.*/i.test(N)?T=j.getMouseInfo(_.changedTouches[0]):T=j.getMouseInfo(_),k((C=T)!==null&&C!==void 0?C:{},_)}}),Be(j,"handleClick",function(_){var N=j.getMouseInfo(_);if(N){var k=X(X({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;nt(C)&&C(k,_)}}),Be(j,"handleMouseDown",function(_){var N=j.props.onMouseDown;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),Be(j,"handleMouseUp",function(_){var N=j.props.onMouseUp;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),Be(j,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Be(j,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseDown(_.changedTouches[0])}),Be(j,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseUp(_.changedTouches[0])}),Be(j,"handleDoubleClick",function(_){var N=j.props.onDoubleClick;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),Be(j,"handleContextMenu",function(_){var N=j.props.onContextMenu;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),Be(j,"triggerSyncEvent",function(_){j.props.syncId!==void 0&&Aw.emit(Tw,j.props.syncId,_,j.eventEmitterSymbol)}),Be(j,"applySyncEvent",function(_){var N=j.props,k=N.layout,C=N.syncMethod,T=j.state.updateId,I=_.dataStartIndex,E=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)j.setState(X({dataStartIndex:I,dataEndIndex:E},p({props:j.props,dataStartIndex:I,dataEndIndex:E,updateId:T},j.state)));else if(_.activeTooltipIndex!==void 0){var U=_.chartX,O=_.chartY,B=_.activeTooltipIndex,A=j.state,z=A.offset,L=A.tooltipTicks;if(!z)return;if(typeof C=="function")B=C(L,_);else if(C==="value"){B=-1;for(var R=0;R<L.length;R++)if(L[R].value===_.activeLabel){B=R;break}}var $=X(X({},z),{},{x:z.left,y:z.top}),J=Math.min(U,$.x+$.width),G=Math.min(O,$.y+$.height),ie=L[B]&&L[B].value,he=e1(j.state,j.props.data,B),Le=L[B]?{x:k==="horizontal"?L[B].coordinate:J,y:k==="horizontal"?G:L[B].coordinate}:xB;j.setState(X(X({},_),{},{activeLabel:ie,activeCoordinate:Le,activePayload:he,activeTooltipIndex:B}))}else j.setState(_)}),Be(j,"renderCursor",function(_){var N,k=j.state,C=k.isTooltipActive,T=k.activeCoordinate,I=k.activePayload,E=k.offset,U=k.activeTooltipIndex,O=k.tooltipAxisBandSize,B=j.getTooltipEventType(),A=(N=_.props.active)!==null&&N!==void 0?N:C,z=j.props.layout,L=_.key||"_recharts-cursor";return P.createElement($Oe,{key:L,activeCoordinate:T,activePayload:I,activeTooltipIndex:U,chartName:r,element:_,isActive:A,layout:z,offset:E,tooltipAxisBandSize:O,tooltipEventType:B})}),Be(j,"renderPolarAxis",function(_,N,k){var C=ws(_,"type.axisType"),T=ws(j.state,"".concat(C,"Map")),I=_.type.defaultProps,E=I!==void 0?X(X({},I),_.props):_.props,U=T&&T[E["".concat(C,"Id")]];return x.cloneElement(_,X(X({},U),{},{className:ut(C,U.className),key:_.key||"".concat(N,"-").concat(k),ticks:oa(U,!0)}))}),Be(j,"renderPolarGrid",function(_){var N=_.props,k=N.radialLines,C=N.polarAngles,T=N.polarRadius,I=j.state,E=I.radiusAxisMap,U=I.angleAxisMap,O=no(E),B=no(U),A=B.cx,z=B.cy,L=B.innerRadius,R=B.outerRadius;return x.cloneElement(_,{polarAngles:Array.isArray(C)?C:oa(B,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(T)?T:oa(O,!0).map(function($){return $.coordinate}),cx:A,cy:z,innerRadius:L,outerRadius:R,key:_.key||"polar-grid",radialLines:k})}),Be(j,"renderLegend",function(){var _=j.state.formattedGraphicalItems,N=j.props,k=N.children,C=N.width,T=N.height,I=j.props.margin||{},E=C-(I.left||0)-(I.right||0),U=oU({children:k,formattedGraphicalItems:_,legendWidth:E,legendContent:u});if(!U)return null;var O=U.item,B=CT(U,MOe);return x.cloneElement(O,X(X({},B),{},{chartWidth:C,chartHeight:T,margin:I,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Be(j,"renderTooltip",function(){var _,N=j.props,k=N.children,C=N.accessibilityLayer,T=Vn(k,yi);if(!T)return null;var I=j.state,E=I.isTooltipActive,U=I.activeCoordinate,O=I.activePayload,B=I.activeLabel,A=I.offset,z=(_=T.props.active)!==null&&_!==void 0?_:E;return x.cloneElement(T,{viewBox:X(X({},A),{},{x:A.left,y:A.top}),active:z,label:B,payload:z?O:[],coordinate:U,accessibilityLayer:C})}),Be(j,"renderBrush",function(_){var N=j.props,k=N.margin,C=N.data,T=j.state,I=T.offset,E=T.dataStartIndex,U=T.dataEndIndex,O=T.updateId;return x.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Dm(j.handleBrushChange,_.props.onChange),data:C,x:de(_.props.x)?_.props.x:I.left,y:de(_.props.y)?_.props.y:I.top+I.height+I.brushBottom-(k.bottom||0),width:de(_.props.width)?_.props.width:I.width,startIndex:E,endIndex:U,updateId:"brush-".concat(O)})}),Be(j,"renderReferenceElement",function(_,N,k){if(!_)return null;var C=j,T=C.clipPathId,I=j.state,E=I.xAxisMap,U=I.yAxisMap,O=I.offset,B=_.type.defaultProps||{},A=_.props,z=A.xAxisId,L=z===void 0?B.xAxisId:z,R=A.yAxisId,$=R===void 0?B.yAxisId:R;return x.cloneElement(_,{key:_.key||"".concat(N,"-").concat(k),xAxis:E[L],yAxis:U[$],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:T})}),Be(j,"renderActivePoints",function(_){var N=_.item,k=_.activePoint,C=_.basePoint,T=_.childIndex,I=_.isRange,E=[],U=N.props.key,O=N.item.type.defaultProps!==void 0?X(X({},N.item.type.defaultProps),N.item.props):N.item.props,B=O.activeDot,A=O.dataKey,z=X(X({index:T,dataKey:A,cx:k.x,cy:k.y,r:4,fill:tk(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},at(B,!1)),cv(B));return E.push(y.renderActiveDot(B,z,"".concat(U,"-activePoint-").concat(T))),C?E.push(y.renderActiveDot(B,X(X({},z),{},{cx:C.x,cy:C.y}),"".concat(U,"-basePoint-").concat(T))):I&&E.push(null),E}),Be(j,"renderGraphicChild",function(_,N,k){var C=j.filterFormatItem(_,N,k);if(!C)return null;var T=j.getTooltipEventType(),I=j.state,E=I.isTooltipActive,U=I.tooltipAxis,O=I.activeTooltipIndex,B=I.activeLabel,A=j.props.children,z=Vn(A,yi),L=C.props,R=L.points,$=L.isRange,J=L.baseLine,G=C.item.type.defaultProps!==void 0?X(X({},C.item.type.defaultProps),C.item.props):C.item.props,ie=G.activeDot,he=G.hide,Le=G.activeBar,Fe=G.activeShape,ce=!!(!he&&E&&z&&(ie||Le||Fe)),Me={};T!=="axis"&&z&&z.props.trigger==="click"?Me={onClick:Dm(j.handleItemMouseEnter,_.props.onClick)}:T!=="axis"&&(Me={onMouseLeave:Dm(j.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Dm(j.handleItemMouseEnter,_.props.onMouseEnter)});var re=x.cloneElement(_,X(X({},C.props),Me));function pe(W){return typeof U.dataKey=="function"?U.dataKey(W.payload):null}if(ce)if(O>=0){var H,K;if(U.dataKey&&!U.allowDuplicatedCategory){var Ye=typeof U.dataKey=="function"?pe:"payload.".concat(U.dataKey.toString());H=lv(R,Ye,B),K=$&&J&&lv(J,Ye,B)}else H=R==null?void 0:R[O],K=$&&J&&J[O];if(Fe||Le){var Ue=_.props.activeIndex!==void 0?_.props.activeIndex:O;return[x.cloneElement(_,X(X(X({},C.props),Me),{},{activeIndex:Ue})),null,null]}if(!lt(H))return[re].concat(gd(j.renderActivePoints({item:C,activePoint:H,basePoint:K,childIndex:O,isRange:$})))}else{var wt,yt=(wt=j.getItemByXY(j.state.activeCoordinate))!==null&&wt!==void 0?wt:{graphicalItem:re},Zt=yt.graphicalItem,tn=Zt.item,Sn=tn===void 0?_:tn,hi=Zt.childIndex,D=X(X(X({},C.props),Me),{},{activeIndex:hi});return[x.cloneElement(Sn,D),null,null]}return $?[re,null,null]:[re,null]}),Be(j,"renderCustomized",function(_,N,k){return x.cloneElement(_,X(X({key:"recharts-customized-".concat(k)},j.props),j.state))}),Be(j,"renderMap",{CartesianGrid:{handler:zm,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:zm},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:zm},YAxis:{handler:zm},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Lp("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=o5(j.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return KOe(y,v),qOe(y,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,j=w.data,_=w.height,N=w.layout,k=Vn(S,yi);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=e1(this.state,j,C,T),E=this.state.tooltipTicks[C].coordinate,U=(this.state.offset.top+_)/2,O=N==="horizontal",B=O?{x:E,y:U}:{y:E,x:U},A=this.state.formattedGraphicalItems.find(function(L){var R=L.item;return R.type.name==="Scatter"});A&&(B=X(X({},B),A.props.points[C].tooltipPosition),I=A.props.points[C].tooltipPayload);var z={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:T,activePayload:I,activeCoordinate:B};this.setState(z),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,_;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(w){$j([Vn(w.children,yi)],[Vn(this.props.children,yi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Vn(this.props.children,yi);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),_=Bye(j),N={chartX:Math.round(w.pageX-_.left),chartY:Math.round(w.pageY-_.top)},k=j.width/S.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,k);if(!C)return null;var T=this.state,I=T.xAxisMap,E=T.yAxisMap,U=this.getTooltipEventType(),O=OT(this.state,this.props.data,this.props.layout,C);if(U!=="axis"&&I&&E){var B=no(I).scale,A=no(E).scale,z=B&&B.invert?B.invert(N.chartX):null,L=A&&A.invert?A.invert(N.chartY):null;return X(X({},N),{},{xValue:z,yValue:L},O)}return O?X(X({},N),O):null}},{key:"inRange",value:function(w,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,N=w/j,k=S/j;if(_==="horizontal"||_==="vertical"){var C=this.state.offset,T=N>=C.left&&N<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return T?{x:N,y:k}:null}var I=this.state,E=I.angleAxisMap,U=I.radiusAxisMap;if(E&&U){var O=no(E);return pA({x:N,y:k},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),j=Vn(w,yi),_={};j&&S==="axis"&&(j.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=cv(this.props,this.handleOuterEvent);return X(X({},N),_)}},{key:"addListener",value:function(){Aw.on(Tw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Aw.removeListener(Tw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,j){for(var _=this.state.formattedGraphicalItems,N=0,k=_.length;N<k;N++){var C=_[N];if(C.item===w||C.props.key===w.key||S===da(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,j=S.left,_=S.top,N=S.height,k=S.width;return P.createElement("defs",null,P.createElement("clipPath",{id:w},P.createElement("rect",{x:j,y:_,height:N,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,j){var _=kT(j,2),N=_[0],k=_[1];return X(X({},S),{},Be({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,j){var _=kT(j,2),N=_[0],k=_[1];return X(X({},S),{},Be({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,j=S.formattedGraphicalItems,_=S.activeItem;if(j&&j.length)for(var N=0,k=j.length;N<k;N++){var C=j[N],T=C.props,I=C.item,E=I.type.defaultProps!==void 0?X(X({},I.type.defaultProps),I.props):I.props,U=da(I.type);if(U==="Bar"){var O=(T.data||[]).find(function(L){return CSe(w,L)});if(O)return{graphicalItem:C,payload:O}}else if(U==="RadialBar"){var B=(T.data||[]).find(function(L){return pA(w,L)});if(B)return{graphicalItem:C,payload:B}}else if(Wx(C,_)||Vx(C,_)||op(C,_)){var A=PNe({graphicalItem:C,activeTooltipItem:_,itemData:E.data}),z=E.activeIndex===void 0?A:E.activeIndex;return{graphicalItem:X(X({},C),{},{childIndex:z}),payload:op(C,_)?E.data[A]:C.props.data[A]}}}return null}},{key:"render",value:function(){var w=this;if(!sP(this))return null;var S=this.props,j=S.children,_=S.className,N=S.width,k=S.height,C=S.style,T=S.compact,I=S.title,E=S.desc,U=CT(S,IOe),O=at(U,!1);if(T)return P.createElement(cT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement(Ij,nu({},O,{width:N,height:k,title:I,desc:E}),this.renderClipPath(),aP(j,this.renderMap)));if(this.props.accessibilityLayer){var B,A;O.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,O.role=(A=this.props.role)!==null&&A!==void 0?A:"application",O.onKeyDown=function(L){w.accessibilityManager.keyboardEvent(L)},O.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return P.createElement(cT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement("div",nu({className:ut("recharts-wrapper",_),style:X({position:"relative",cursor:"default",width:N,height:k},C)},z,{ref:function(R){w.container=R}}),P.createElement(Ij,nu({},O,{width:N,height:k,title:I,desc:E,style:ZOe}),this.renderClipPath(),aP(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);Be(g,"displayName",r),Be(g,"defaultProps",X({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Be(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,S=v.children,j=v.width,_=v.height,N=v.layout,k=v.stackOffset,C=v.margin,T=y.dataStartIndex,I=y.dataEndIndex;if(y.updateId===void 0){var E=PT(v);return X(X(X({},E),{},{updateId:0},p(X(X({props:v},E),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:_,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(b!==y.prevDataKey||w!==y.prevData||j!==y.prevWidth||_!==y.prevHeight||N!==y.prevLayout||k!==y.prevStackOffset||!pu(C,y.prevMargin)){var U=PT(v),O={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},B=X(X({},OT(y,w,N)),{},{updateId:y.updateId+1}),A=X(X(X({},U),O),B);return X(X(X({},A),p(X({props:v},A),y)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:_,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(!$j(S,y.prevChildren)){var z,L,R,$,J=Vn(S,ad),G=J&&(z=(L=J.props)===null||L===void 0?void 0:L.startIndex)!==null&&z!==void 0?z:T,ie=J&&(R=($=J.props)===null||$===void 0?void 0:$.endIndex)!==null&&R!==void 0?R:I,he=G!==T||ie!==I,Le=!lt(w),Fe=Le&&!he?y.updateId:y.updateId+1;return X(X({updateId:Fe},p(X(X({props:v},y),{},{updateId:Fe,dataStartIndex:G,dataEndIndex:ie}),y)),{},{prevChildren:S,dataStartIndex:G,dataEndIndex:ie})}return null}),Be(g,"renderActiveDot",function(v,y,b){var w;return x.isValidElement(v)?w=x.cloneElement(v,y):nt(v)?w=v(y):w=P.createElement(nk,y),P.createElement(ir,{className:"recharts-active-dot",key:b},w)});var m=x.forwardRef(function(y,b){return P.createElement(g,nu({},y,{ref:b}))});return m.displayName=g.displayName,m},uPe=cPe({chartName:"AreaChart",GraphicalChild:rl,axisComponents:[{axisType:"xAxis",AxisComp:Xx},{axisType:"yAxis",AxisComp:Jx}],formatAxisMap:tCe});const fi={getProviders:async()=>{const{data:e,error:t}=await q.from("model_providers").select("*").order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProvider:async e=>{const{data:t,error:r}=await q.from("model_providers").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProvider:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("model_providers").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProvider:async(e,t)=>{const{data:r,error:n}=await q.from("model_providers").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProvider:async e=>{const{error:t}=await q.from("model_providers").delete().eq("id",e);if(t)throw new Error(t.message)},getRequests:async e=>{let t=q.from("model_requests").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getRequest:async e=>{const{data:t,error:r}=await q.from("model_requests").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createRequest:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("model_requests").insert(r).select().single();if(s)throw new Error(s.message);return n},updateRequest:async(e,t)=>{const{data:r,error:n}=await q.from("model_requests").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getUsageMetrics:async e=>{let t=q.from("usage_metrics").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.since&&(t=t.gte("created_at",e.since)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getUsageSummary:async e=>{const t=await fi.getUsageMetrics({limit:1e4,providerId:e==null?void 0:e.providerId,since:e==null?void 0:e.since}),r=t.reduce((i,o)=>i+o.token_count_input,0),n=t.reduce((i,o)=>i+o.token_count_output,0),s=new Set(t.map(i=>i.request_id));return{totalInputTokens:r,totalOutputTokens:n,requestCount:s.size}},createUsageMetric:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("usage_metrics").insert(r).select().single();if(s)throw new Error(s.message);return n},getConfigurationOverrides:async e=>{if(!e)return null;const{data:t,error:r}=await q.from("configuration_overrides").select("*").eq("request_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},getConfigurationOverridesByRequestIds:async e=>{if(e.length===0)return[];const{data:t,error:r}=await q.from("configuration_overrides").select("*").in("request_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},upsertConfigurationOverride:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("configuration_overrides").upsert({request_id:r.request_id,user_id:r.user_id,model_name:r.model_name??null,temperature:r.temperature??null,max_tokens:r.max_tokens??null,parameters:r.parameters??{}},{onConflict:"request_id"}).select().single();if(s)throw new Error(s.message);return n},updateConfigurationOverride:async(e,t)=>{const{data:r,error:n}=await q.from("configuration_overrides").update(t).eq("request_id",e).select().single();if(n)throw new Error(n.message);return r}};function hk(e,t){return e().catch(()=>t)}const jr={all:["model-providers"],providers:()=>[...jr.all,"providers"],provider:e=>[...jr.all,"provider",e],requests:e=>[...jr.all,"requests",e],request:e=>[...jr.all,"request",e],usageMetrics:e=>[...jr.all,"usage-metrics",e],usageSummary:e=>[...jr.all,"usage-summary",e],configOverride:e=>[...jr.all,"config-override",e]};function dPe(){return De({queryKey:jr.providers(),queryFn:()=>hk(()=>fi.getProviders(),[])})}function fPe(){const e=je();return _e({mutationFn:t=>fi.createProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:jr.providers()}),V.success("Provider added")},onError:t=>{V.error(t.message||"Failed to add provider")}})}function hPe(){const e=je();return _e({mutationFn:({id:t,data:r})=>fi.updateProvider(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:jr.providers()}),e.invalidateQueries({queryKey:jr.provider(r)}),V.success("Provider updated")},onError:t=>{V.error(t.message||"Failed to update provider")}})}function pPe(){const e=je();return _e({mutationFn:t=>fi.deleteProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:jr.providers()}),e.invalidateQueries({queryKey:jr.requests()}),V.success("Provider removed")},onError:t=>{V.error(t.message||"Failed to remove provider")}})}function mPe(e){return De({queryKey:jr.requests(e),queryFn:()=>hk(()=>fi.getRequests(e),[])})}function gPe(){const e=je();return _e({mutationFn:t=>fi.createRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:jr.requests()}),V.success("Request logged")},onError:t=>{V.error(t.message||"Failed to log request")}})}function vPe(e){return De({queryKey:jr.usageMetrics(e),queryFn:()=>hk(()=>fi.getUsageMetrics(e),[])})}function yPe(e){return De({queryKey:jr.usageSummary(e),queryFn:()=>fi.getUsageSummary(e)})}function xPe(){const e=je();return _e({mutationFn:t=>fi.createUsageMetric(t),onSuccess:()=>{e.invalidateQueries({queryKey:jr.usageMetrics()}),e.invalidateQueries({queryKey:jr.usageSummary()})},onError:t=>{V.error(t.message||"Failed to record usage")}})}function bPe(){const e=je();return _e({mutationFn:t=>fi.upsertConfigurationOverride(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:jr.configOverride(r.request_id)}),V.success("Configuration saved")},onError:t=>{V.error(t.message||"Failed to save configuration")}})}const TT={openai:"OpenAI",anthropic:"Anthropic",local:"Local",ollama:"Ollama",vllm:"vLLM",custom:"Custom"},wPe=Et({name:Pe().min(1,"Name is required").max(128),slug:gr(["openai","anthropic","local","ollama","vllm","custom"]),api_endpoint_base:Pe().url().optional().or(eN("")),priority:ei.number().int().min(0).max(999),is_default:Ho(),status:gr(["active","inactive","error"])});function jPe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,provider:s}){const i=!!s,o=kt({resolver:Ct(wPe),defaultValues:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"}});x.useEffect(()=>{e&&o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"})},[e,s,o]);const l=o.handleSubmit(u=>{r({name:u.name,slug:u.slug,api_endpoint_base:u.api_endpoint_base||null,priority:u.priority,is_default:u.is_default,status:u.status}),o.reset()}),c=u=>{u||o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:void 0),t(u)};return a.jsx(Ge,{open:e,onOpenChange:c,children:a.jsxs(qe,{className:"max-w-md",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:i?"Edit provider":"Add provider"}),a.jsx(He,{children:i?"Update model provider settings and priority.":"Register a new AI model provider (OpenAI, Anthropic, local, etc.)."})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"name",children:"Name"}),a.jsx(ge,{id:"name",placeholder:"e.g. OpenAI GPT-4",...o.register("name"),className:Z(o.formState.errors.name&&"border-destructive")}),o.formState.errors.name&&a.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Provider type"}),a.jsxs(Tt,{value:o.watch("slug"),onValueChange:u=>o.setValue("slug",u),disabled:i,children:[a.jsx(St,{children:a.jsx(Rt,{placeholder:"Select type"})}),a.jsx(Nt,{children:Object.keys(TT).map(u=>a.jsx(Ie,{value:u,children:TT[u]},u))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"api_endpoint_base",children:"API endpoint (optional)"}),a.jsx(ge,{id:"api_endpoint_base",placeholder:"https://api.openai.com/v1",...o.register("api_endpoint_base")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"priority",children:"Priority (higher = preferred)"}),a.jsx(ge,{id:"priority",type:"number",min:0,max:999,...o.register("priority")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsx(Q,{htmlFor:"is_default",className:"cursor-pointer",children:"Default provider"}),a.jsx(Zr,{id:"is_default",checked:o.watch("is_default"),onCheckedChange:u=>o.setValue("is_default",u)})]}),i&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Status"}),a.jsxs(Tt,{value:o.watch("status"),onValueChange:u=>o.setValue("status",u),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"active",children:"Active"}),a.jsx(Ie,{value:"inactive",children:"Inactive"}),a.jsx(Ie,{value:"error",children:"Error"})]})]})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),a.jsx(M,{type:"submit",disabled:n,children:n?"Saving":i?"Update":"Add"})]})]})]})})}const _Pe=Et({provider_id:Pe().uuid().optional().nullable(),model_name:Pe().max(128).optional(),temperature:ei.number().min(0).max(2).optional(),max_tokens:ei.number().int().min(1).max(128e3).optional()}),SPe={pending:"secondary",running:"default",completed:"secondary",failed:"destructive"},NPe={active:"success",inactive:"secondary",error:"destructive"};function kPe(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s]=x.useState(()=>rte(new Date).toISOString()),{data:i=[],isLoading:o}=dPe(),{data:l=[],isLoading:c}=mPe({limit:50}),{data:u,isLoading:d}=yPe({since:s}),{data:f=[]}=vPe({limit:100,since:s}),h=fPe(),p=hPe(),g=pPe(),m=gPe(),v=xPe(),y=bPe(),b=kt({resolver:Ct(_Pe),defaultValues:{provider_id:null,model_name:"",temperature:.7,max_tokens:4096}}),w=_=>{r?p.mutate({id:r.id,data:{name:_.name,slug:_.slug,api_endpoint_base:_.api_endpoint_base??void 0,priority:_.priority,is_default:_.is_default,status:_.status}},{onSettled:()=>{n(null),t(!1)}}):h.mutate({name:_.name,slug:_.slug,api_endpoint_base:_.api_endpoint_base??null,priority:_.priority,is_default:_.is_default,status:_.status},{onSuccess:()=>t(!1)})},S=b.handleSubmit(async _=>{var C,T;const N=_.provider_id??((C=i.find(I=>I.is_default))==null?void 0:C.id)??((T=i[0])==null?void 0:T.id)??null,k=await m.mutateAsync({provider_id:N,status:"pending"});await y.mutateAsync({request_id:k.id,model_name:_.model_name??null,temperature:_.temperature??null,max_tokens:_.max_tokens??null}),await v.mutateAsync({request_id:k.id,provider_id:N,token_count_input:0,token_count_output:0}),b.reset()}),j=f.slice().reverse().reduce((_,N)=>{const k=QL(N.created_at,"yyyy-MM-dd");_.find(T=>T.date===k)||_.push({date:k,tokens:0,requests:0});const C=_.find(T=>T.date===k);return C&&(C.tokens+=N.token_count_input+N.token_count_output,C.requests+=1),_},[]);return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Model Providers"})}),a.jsxs(Ko,{defaultValue:"request",className:"space-y-4",children:[a.jsxs(Ta,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsxs(Vt,{value:"request",className:"gap-2",children:[a.jsx(Fu,{className:"h-4 w-4"}),"Request"]}),a.jsxs(Vt,{value:"usage",className:"gap-2",children:[a.jsx(iI,{className:"h-4 w-4"}),"Usage"]}),a.jsxs(Vt,{value:"providers",className:"gap-2",children:[a.jsx(Oi,{className:"h-4 w-4"}),"Providers"]})]}),a.jsxs(Ht,{value:"request",className:"space-y-4",children:[a.jsxs(ee,{className:"shadow-card",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"New request"}),a.jsx(ve,{children:"Select provider and optional overrides. Request will be logged for usage and history."})]}),a.jsx(te,{children:a.jsxs("form",{onSubmit:S,className:"flex flex-col gap-4 sm:max-w-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Provider"}),a.jsxs(Tt,{value:b.watch("provider_id")??"",onValueChange:_=>b.setValue("provider_id",_||null),children:[a.jsx(St,{children:a.jsx(Rt,{placeholder:"Default provider"})}),a.jsxs(Nt,{children:[i.map(_=>a.jsxs(Ie,{value:_.id,children:[_.name," ",_.is_default&&"(default)"]},_.id)),i.length===0&&a.jsx(Ie,{value:"_none",disabled:!0,children:"Add a provider first"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"model_name",children:"Model (optional)"}),a.jsx(ge,{id:"model_name",placeholder:"e.g. gpt-4o",...b.register("model_name")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"temperature",children:"Temperature"}),a.jsx(ge,{id:"temperature",type:"number",step:.1,min:0,max:2,...b.register("temperature")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"max_tokens",children:"Max tokens"}),a.jsx(ge,{id:"max_tokens",type:"number",...b.register("max_tokens")})]})]}),a.jsx(M,{type:"submit",disabled:m.isPending||i.length===0,children:m.isPending?"Submitting":"Log request"})]})})]}),a.jsxs(ee,{className:"shadow-card",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Recent requests"}),a.jsx(ve,{children:"Last 50 model requests"})]}),a.jsx(te,{children:c?a.jsx(we,{className:"h-32 w-full rounded-lg"}):l.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No requests yet. Submit a request above or run from chat/skills."}):a.jsx(Pt,{className:"h-64",children:a.jsx("ul",{className:"space-y-2",children:l.map(_=>{var N;return a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border p-3 transition-colors hover:bg-secondary/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(oS,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:_.provider_id?((N=i.find(k=>k.id===_.provider_id))==null?void 0:N.name)??"Unknown":"No provider"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Dr(_.created_at,{addSuffix:!0})})]})]}),a.jsx(tt,{variant:SPe[_.status],children:_.status})]},_.id)})})})})]})]}),a.jsxs(Ht,{value:"usage",className:"space-y-4",children:[d?a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsx(we,{className:"h-24 rounded-lg"}),a.jsx(we,{className:"h-24 rounded-lg"}),a.jsx(we,{className:"h-24 rounded-lg"})]}):a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ae,{className:"text-sm font-medium",children:"Total input tokens"}),a.jsx(xE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(te,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalInputTokens)??0})})]}),a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ae,{className:"text-sm font-medium",children:"Total output tokens"}),a.jsx(xE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(te,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalOutputTokens)??0})})]}),a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ae,{className:"text-sm font-medium",children:"Requests (period)"}),a.jsx(IH,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(te,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.requestCount)??0})})]})]}),a.jsxs(ee,{className:"shadow-card",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Usage over time"}),a.jsx(ve,{children:"Tokens and request count (last 7 days by default)"})]}),a.jsx(te,{children:j.length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-8 text-center",children:"No usage data in this period."}):a.jsx($ye,{width:"100%",height:280,children:a.jsxs(uPe,{data:j,children:[a.jsx(rB,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Xx,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Jx,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(yi,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"}}),a.jsx(rl,{type:"monotone",dataKey:"tokens",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Tokens"})]})})})]})]}),a.jsxs(Ht,{value:"providers",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure AI model providers (OpenAI, Anthropic, local). Priority and default control routing and failover."}),a.jsxs(M,{onClick:()=>{n(null),t(!0)},children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add provider"]})]}),o?a.jsx(we,{className:"h-48 w-full rounded-lg"}):i.length===0?a.jsx(ee,{className:"shadow-card",children:a.jsxs(te,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Oi,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"No providers yet. Add one to start logging requests and usage."}),a.jsxs(M,{onClick:()=>t(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add provider"]})]})}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.map(_=>a.jsxs(ee,{className:"shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",children:[a.jsxs(ne,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ae,{className:"text-base flex items-center gap-2",children:[_.name,_.is_default&&a.jsx(tt,{variant:"secondary",className:"text-xs",children:"Default"})]}),a.jsxs(ve,{className:"text-xs mt-1",children:[_.api_endpoint_base??_.slug," Priority ",_.priority]})]}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(Gl,{className:"h-4 w-4"})})}),a.jsxs(wa,{align:"end",children:[a.jsxs(pr,{onClick:()=>{n(_),t(!0)},children:[a.jsx(Nh,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>g.mutate(_.id),children:[a.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]}),a.jsx(te,{children:a.jsx(tt,{variant:NPe[_.status],children:_.status})})]},_.id))})]})]}),a.jsx(jPe,{open:e,onOpenChange:t,onSubmit:w,isSubmitting:h.isPending||p.isPending,provider:r})]})}const _n={getProfiles:async()=>{const{data:e,error:t}=await q.from("browser_profiles").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProfile:async e=>{const{data:t,error:r}=await q.from("browser_profiles").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProfile:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("browser_profiles").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProfile:async(e,t)=>{const{data:r,error:n}=await q.from("browser_profiles").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProfile:async e=>{const{error:t}=await q.from("browser_profiles").delete().eq("id",e);if(t)throw new Error(t.message)},getTabs:async e=>{if(!e)return[];const{data:t,error:r}=await q.from("browser_tabs").select("*").eq("browser_profile_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getTab:async e=>{const{data:t,error:r}=await q.from("browser_tabs").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertTabs:async(e,t)=>{const r=t.map(i=>({...i,browser_profile_id:e})),{data:n,error:s}=await q.from("browser_tabs").upsert(r,{onConflict:"id"}).select();if(s)throw new Error(s.message);return n??[]},updateTab:async(e,t)=>{const{data:r,error:n}=await q.from("browser_tabs").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteTab:async e=>{const{error:t}=await q.from("browser_tabs").delete().eq("id",e);if(t)throw new Error(t.message)},getScripts:async()=>{const{data:e,error:t}=await q.from("browser_scripts").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getScript:async e=>{const{data:t,error:r}=await q.from("browser_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createScript:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("browser_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateScript:async(e,t)=>{const{data:r,error:n}=await q.from("browser_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteScript:async e=>{const{error:t}=await q.from("browser_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getCaptureRecords:async(e,t)=>{if(!e)return[];let r=q.from("browser_capture_records").select("*").eq("browser_profile_id",e).order("created_at",{ascending:!1});t!=null&&t.type&&(r=r.eq("capture_type",t.type)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createCaptureRecord:async e=>{const{data:t,error:r}=await q.from("browser_capture_records").insert(e).select().single();if(r)throw new Error(r.message);return t},getCommands:async e=>{if(!e)return[];const{data:t,error:r}=await q.from("browser_commands").select("*").eq("browser_profile_id",e).order("sequence_order",{ascending:!0}).order("created_at",{ascending:!0});if(r)throw new Error(r.message);return t??[]},getCommand:async e=>{const{data:t,error:r}=await q.from("browser_commands").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCommand:async e=>{const{data:t,error:r}=await q.from("browser_commands").insert(e).select().single();if(r)throw new Error(r.message);return t},updateCommand:async(e,t)=>{const{data:r,error:n}=await q.from("browser_commands").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCommand:async e=>{const{error:t}=await q.from("browser_commands").delete().eq("id",e);if(t)throw new Error(t.message)},deleteCaptureRecord:async e=>{const{error:t}=await q.from("browser_capture_records").delete().eq("id",e);if(t)throw new Error(t.message)},getCdpTokens:async()=>{const{data:e,error:t}=await q.from("browser_cdp_tokens").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getCdpToken:async e=>{const{data:t,error:r}=await q.from("browser_cdp_tokens").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCdpToken:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("browser_cdp_tokens").insert(r).select().single();if(s)throw new Error(s.message);return n},updateCdpToken:async(e,t)=>{const{data:r,error:n}=await q.from("browser_cdp_tokens").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCdpToken:async e=>{const{error:t}=await q.from("browser_cdp_tokens").delete().eq("id",e);if(t)throw new Error(t.message)}};function pk(e,t){return e().catch(()=>t)}const Ut={all:["browser"],profiles:()=>[...Ut.all,"profiles"],profile:e=>[...Ut.all,"profile",e??""],tabs:e=>[...Ut.all,"tabs",e??""],tab:e=>[...Ut.all,"tab",e??""],scripts:()=>[...Ut.all,"scripts"],script:e=>[...Ut.all,"script",e??""],captures:(e,t)=>[...Ut.all,"captures",e??"",t],commands:e=>[...Ut.all,"commands",e??""],command:e=>[...Ut.all,"command",e??""],cdpTokens:()=>[...Ut.all,"cdpTokens"],cdpToken:e=>[...Ut.all,"cdpToken",e??""]};function CPe(){return De({queryKey:Ut.profiles(),queryFn:()=>pk(()=>_n.getProfiles(),[])})}function EPe(e){return De({queryKey:Ut.profile(e),queryFn:()=>e?_n.getProfile(e):Promise.resolve(null),enabled:!!e})}function OPe(){const e=je();return _e({mutationFn:t=>_n.createProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ut.profiles()}),V.success("Profile created")},onError:t=>{V.error(t.message||"Failed to create profile")}})}function PPe(){const e=je();return _e({mutationFn:({id:t,data:r})=>_n.updateProfile(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ut.profiles()}),e.invalidateQueries({queryKey:Ut.profile(r)}),V.success("Profile updated")},onError:t=>{V.error(t.message||"Failed to update profile")}})}function APe(e){return De({queryKey:Ut.tabs(e),queryFn:()=>_n.getTabs(e),enabled:!!e})}function TPe(){return De({queryKey:Ut.scripts(),queryFn:()=>pk(()=>_n.getScripts(),[])})}function RPe(){const e=je();return _e({mutationFn:t=>_n.createScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ut.scripts()}),V.success("Script added")},onError:t=>{V.error(t.message||"Failed to add script")}})}function $Pe(e,t){return De({queryKey:Ut.captures(e,t),queryFn:()=>_n.getCaptureRecords(e,t),enabled:!!e})}function MPe(){const e=je();return _e({mutationFn:t=>_n.createCaptureRecord(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ut.captures(r.browser_profile_id)}),V.success("Capture saved")},onError:t=>{V.error(t.message||"Failed to save capture")}})}function IPe(){const e=je();return _e({mutationFn:t=>_n.deleteCaptureRecord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ut.all}),V.success("Capture removed")},onError:t=>{V.error(t.message||"Failed to remove capture")}})}function DPe(e){return De({queryKey:Ut.commands(e),queryFn:()=>_n.getCommands(e),enabled:!!e})}function LPe(){const e=je();return _e({mutationFn:t=>_n.createCommand(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ut.commands(r.browser_profile_id)}),V.success("Command added to queue")},onError:t=>{V.error(t.message||"Failed to add command")}})}function FPe(){const e=je();return _e({mutationFn:t=>_n.deleteCommand(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ut.all}),V.success("Command removed")},onError:t=>{V.error(t.message||"Failed to remove command")}})}function UPe(){return De({queryKey:Ut.cdpTokens(),queryFn:()=>pk(()=>_n.getCdpTokens(),[])})}function BPe(){const e=je();return _e({mutationFn:t=>_n.createCdpToken(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ut.cdpTokens()}),V.success("CDP token added")},onError:t=>{V.error(t.message||"Failed to add CDP token")}})}function zPe({open:e,onOpenChange:t,action:r,onConfirm:n,isPending:s=!1,profilePath:i,isIsolated:o=!0}){const l=r==="start";return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(We,{children:[a.jsx(Ve,{children:l?"Start managed profile":"Stop managed profile"}),a.jsx(He,{children:l?"Start the managed Chromium profile. The profile will run in an isolated environment.":"Stop the managed Chromium profile. Any open tabs and automation will be terminated."})]}),(i!=null||o!=null)&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm text-muted-foreground",children:[i&&a.jsxs("p",{className:"truncate",title:i,children:[a.jsx("span",{className:"font-medium text-foreground",children:"Path:"})," ",i]}),o!=null&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-foreground",children:"Isolation:"})," ",o?"Enabled":"Disabled"]})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(M,{variant:l?"default":"destructive",onClick:()=>{n(),t(!1)},disabled:s,children:s?"Please wait":l?a.jsxs(a.Fragment,{children:[a.jsx(ca,{className:"mr-2 h-4 w-4"}),"Start profile"]}):a.jsxs(a.Fragment,{children:[a.jsx(kh,{className:"mr-2 h-4 w-4"}),"Stop profile"]})})]})]})})}function qPe({open:e,onOpenChange:t,tab:r}){if(!r)return null;const n=r.url||"about:blank",s=r.title||n;return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(We,{children:[a.jsx(Ve,{className:"flex items-center gap-2 truncate pr-8",children:s}),a.jsx(He,{className:"break-all",children:n})]}),a.jsxs("div",{className:"space-y-4",children:[r.snapshot_url&&a.jsx("div",{className:"rounded-lg border border-border overflow-hidden bg-secondary/30",children:a.jsx("img",{src:r.snapshot_url,alt:`Snapshot of ${s}`,className:"w-full h-auto max-h-48 object-cover object-top"})}),a.jsxs("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"URL"}),a.jsx("dd",{className:"min-w-0 truncate text-right font-mono text-xs",title:r.url,children:r.url||""})]}),r.external_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"External ID"}),a.jsx("dd",{className:"font-mono text-xs",children:r.external_id})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Updated"}),a.jsx("dd",{children:new Date(r.updated_at).toLocaleString()})]})]}),n.startsWith("http")&&a.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:Z("inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium","bg-primary/10 text-primary hover:bg-primary/20 transition-colors"),children:[a.jsx(My,{className:"h-4 w-4"}),"Open in new tab"]})]})]})})}const WPe=Et({name:Pe().min(1,"Name is required").max(200,"Name too long"),script_content:Pe().optional()}),RT={name:"",script_content:""};function VPe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=kt({resolver:Ct(WPe),defaultValues:RT}),c=u=>{var d;r({name:u.name.trim(),script_content:((d=u.script_content)==null?void 0:d.trim())||null,execution_status:"pending"}),o(RT),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Add automation script"}),a.jsx(He,{children:"Upload or paste an automation script. It will appear in the Automation Runner and can be executed against the managed profile."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"script-name",children:"Script name"}),a.jsx(ge,{id:"script-name",placeholder:"e.g. login-flow.js",...s("name"),className:l.name?"border-destructive":""}),l.name&&a.jsx("p",{className:"text-sm text-destructive",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"script-content",children:"Content (optional)"}),a.jsx("textarea",{id:"script-content",placeholder:"Paste script content or leave empty to upload later",...s("script_content"),rows:6,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(M,{type:"submit",disabled:n,children:n?"Adding":"Add script"})]})]})]})})}const HPe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},KPe={screenshot:jh,pdf:Wr,dom:Ug};function GPe({open:e,onOpenChange:t,captureType:r,fileUrl:n,filePath:s,onDownload:i,onClose:o}){const l=KPe[r],c=HPe[r],u=!!n,d=()=>{o==null||o(),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(We,{children:[a.jsxs(Ve,{className:"flex items-center gap-2",children:[a.jsx(l,{className:"h-5 w-5 text-accent"}),c," captured"]}),a.jsxs(He,{children:["Your ",c.toLowerCase()," has been saved. You can download it or continue capturing."]})]}),s&&a.jsx("p",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm font-mono text-muted-foreground truncate",title:s,children:s}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{variant:"outline",onClick:d,children:"Close"}),u&&a.jsxs(M,{onClick:()=>{if(i==null||i(),n){const f=document.createElement("a");f.href=n,f.download=`capture-${r}-${Date.now()}`,f.click()}d()},children:[a.jsx(ks,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})}const YPe=Et({connection_type:gr(["local","node_proxy"]),token_preview:Pe().max(20).optional(),config_json:Pe().optional()}),$w={connection_type:"local",token_preview:"",config_json:"{}"};function QPe({open:e,onOpenChange:t,existing:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=kt({resolver:Ct(YPe),defaultValues:r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:$w}),f=c("connection_type");x.useEffect(()=>{e&&u(r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:$w)},[e,r,u]);const h=p=>{let g={};try{g=p.config_json?JSON.parse(p.config_json):{}}catch{g={}}n(r?{connection_type:p.connection_type,token_preview:p.token_preview||null,config_json:g}:{connection_type:p.connection_type,token_preview:p.token_preview||null,config_json:g}),u($w),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(We,{children:[a.jsx(Ve,{children:r?"Edit CDP connector":"Add CDP connector"}),a.jsx(He,{children:"Configure local or node proxy CDP connection. Sensitive token data is stored securely and only a redacted preview is shown here."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Connection type"}),a.jsxs(Tt,{value:f,onValueChange:p=>l("connection_type",p),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"local",children:"Local"}),a.jsx(Ie,{value:"node_proxy",children:"Node proxy"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"token-preview",className:"flex items-center gap-2",children:[a.jsx(uI,{className:"h-4 w-4 text-muted-foreground"}),"Token preview (redacted)"]}),a.jsx(ge,{id:"token-preview",placeholder:"e.g. ws://***...***",...i("token_preview")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional label or redacted preview for this token. The actual token is never stored in plain text."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"config-json",children:"Config (JSON, optional)"}),a.jsx("textarea",{id:"config-json",placeholder:'{"host": "localhost", "port": 9222}',...i("config_json"),rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),d.config_json&&a.jsx("p",{className:"text-sm text-destructive",children:d.config_json.message})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(M,{type:"submit",disabled:s,children:s?"Saving":r?"Save changes":"Add connector"})]})]})]})})}const XPe=[{value:"click",label:"Click"},{value:"type",label:"Type"},{value:"select",label:"Select"},{value:"navigate",label:"Navigate"},{value:"scroll",label:"Scroll"},{value:"wait",label:"Wait"},{value:"screenshot",label:"Screenshot"}],JPe=Et({command_type:gr(["click","type","select","navigate","scroll","wait","screenshot"]),selector:Pe().optional(),text:Pe().optional(),url:Pe().url().optional().or(eN("")),value:Pe().optional(),x:ei.number().optional(),y:ei.number().optional(),ms:ei.number().min(0).optional(),sequence_order:ei.number().min(0).optional()}),Mw={command_type:"click",selector:"",text:"",url:"",value:"",sequence_order:0};function ZPe({open:e,onOpenChange:t,browserProfileId:r,nextSequenceOrder:n,onSubmit:s,isSubmitting:i=!1}){const{register:o,handleSubmit:l,watch:c,setValue:u,reset:d,formState:{errors:f}}=kt({resolver:Ct(JPe),defaultValues:{...Mw,sequence_order:n}}),h=c("command_type");x.useEffect(()=>{e&&r&&d({...Mw,sequence_order:n})},[e,r,n,d]);const p=m=>{var y,b;const v={};return(y=m.selector)!=null&&y.trim()&&(v.selector=m.selector.trim()),m.text!==void 0&&m.text!==""&&(v.text=m.text),(b=m.url)!=null&&b.trim()&&(v.url=m.url.trim()),m.value!==void 0&&m.value!==""&&(v.value=m.value),m.x!==void 0&&(v.x=m.x),m.y!==void 0&&(v.y=m.y),m.ms!==void 0&&(v.ms=m.ms),v},g=m=>{if(!r)return;const v=p(m);s({browser_profile_id:r,command_type:m.command_type,parameters:v,sequence_order:m.sequence_order??n,status:"pending"}),d({...Mw,sequence_order:n+1}),t(!1)};return r?a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-[480px]",showClose:!0,children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Add command to queue"}),a.jsx(He,{children:"Add an automation command. Commands run in sequence within the deterministic tab control environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Command type"}),a.jsxs(Tt,{value:h,onValueChange:m=>u("command_type",m),children:[a.jsx(St,{className:"w-full",children:a.jsx(Rt,{placeholder:"Select type"})}),a.jsx(Nt,{children:XPe.map(({value:m,label:v})=>a.jsx(Ie,{value:m,children:v},m))})]})]}),(h==="click"||h==="type"||h==="select"||h==="wait")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"selector",children:"Selector (CSS or XPath)"}),a.jsx(ge,{id:"selector",placeholder:"e.g. #submit-btn or //button[text()='OK']",...o("selector"),className:f.selector?"border-destructive":""}),f.selector&&a.jsx("p",{className:"text-sm text-destructive",children:f.selector.message})]}),h==="type"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"text",children:"Text to type"}),a.jsx(ge,{id:"text",placeholder:"Text to enter",...o("text"),className:f.text?"border-destructive":""})]}),h==="select"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"value",children:"Option value"}),a.jsx(ge,{id:"value",placeholder:"Value to select",...o("value")})]}),h==="navigate"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"url",children:"URL"}),a.jsx(ge,{id:"url",type:"url",placeholder:"https://example.com",...o("url"),className:f.url?"border-destructive":""}),f.url&&a.jsx("p",{className:"text-sm text-destructive",children:f.url.message})]}),h==="scroll"&&a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"scroll-x",children:"X (px)"}),a.jsx(ge,{id:"scroll-x",type:"number",placeholder:"0",...o("x")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"scroll-y",children:"Y (px)"}),a.jsx(ge,{id:"scroll-y",type:"number",placeholder:"0",...o("y")})]})]}),h==="wait"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"ms",children:"Delay (ms)"}),a.jsx(ge,{id:"ms",type:"number",min:0,placeholder:"1000",...o("ms"),className:f.ms?"border-destructive":""}),f.ms&&a.jsx("p",{className:"text-sm text-destructive",children:f.ms.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"sequence_order",children:"Order in queue"}),a.jsx(ge,{id:"sequence_order",type:"number",min:0,...o("sequence_order"),className:f.sequence_order?"border-destructive":""}),f.sequence_order&&a.jsx("p",{className:"text-sm text-destructive",children:f.sequence_order.message})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsx(M,{type:"submit",disabled:i,className:"transition-transform hover:scale-[1.02]",children:i?"Adding":"Add command"})]})]})]})}):null}const e2e={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},t2e={screenshot:jh,pdf:Wr,dom:Ug};function r2e({open:e,onOpenChange:t,captures:r,onDownload:n,onDelete:s,isDeleting:i=!1}){const o=l=>{l.file_url&&window.open(l.file_url,"_blank","noopener,noreferrer")};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-[640px] max-h-[85vh] flex flex-col",showClose:!0,children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Captured outputs"}),a.jsx(He,{children:"View, download, or delete captured screenshots, PDFs, and DOM snapshots from this session."})]}),a.jsx(Pt,{className:"flex-1 min-h-[200px] rounded-lg border border-border",children:r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[a.jsx(jh,{className:"h-12 w-12 mb-3 opacity-50"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No captures yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Capture a screenshot, PDF, or DOM snapshot from the session to see them here."})]}):a.jsx("ul",{className:"p-2 space-y-2",children:r.map(l=>{const c=t2e[l.capture_type],u=e2e[l.capture_type],d=new Date(l.created_at).toLocaleString(),f=!!l.file_url;return a.jsxs("li",{className:Z("flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3","transition-shadow hover:shadow-md"),children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-md bg-primary/10 text-primary",children:a.jsx(c,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:u}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",title:l.file_path??l.file_url??"",children:l.file_path??l.file_url??d}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f&&a.jsx(M,{variant:"ghost",size:"icon",onClick:()=>o(l),"aria-label":"View in new tab",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(My,{className:"h-4 w-4"})}),a.jsx(M,{variant:"ghost",size:"icon",onClick:()=>n(l),"aria-label":"Download",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(ks,{className:"h-4 w-4"})}),a.jsx(M,{variant:"ghost",size:"icon",onClick:()=>s(l.id),disabled:i,"aria-label":"Delete",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:a.jsx(Ss,{className:"h-4 w-4"})})]})]},l.id)})})})]})})}const n2e={running:"Running",stopped:"Stopped",starting:"Starting",stopping:"Stopping",error:"Error"},$T={click:"Click",type:"Type",select:"Select",navigate:"Navigate",scroll:"Scroll",wait:"Wait",screenshot:"Screenshot"};function s2e(){const[e,t]=x.useState(null),[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(null),[h,p]=x.useState(!1),[g,m]=x.useState(!1),[v,y]=x.useState(!1),{data:b=[],isLoading:w}=CPe(),S=x.useMemo(()=>b.find(H=>H.status==="running")??b[0]??null,[b]),j=r??(S==null?void 0:S.id)??null,{data:_}=EPe(j),{data:N=[],isLoading:k,refetch:C}=APe(j),{data:T=[],isLoading:I}=TPe(),{data:E=[]}=$Pe(j,{limit:20}),{data:U=[]}=UPe(),{data:O=[],isLoading:B}=DPe(j),A=PPe(),z=OPe(),L=RPe(),R=MPe(),$=IPe(),J=BPe(),G=LPe(),ie=FPe(),he=(_==null?void 0:_.status)==="running",Le=x.useMemo(()=>O.length===0?0:Math.max(...O.map(H=>H.sequence_order),0)+1,[O]),Fe=H=>{j&&t({open:!0,action:H})},ce=()=>{if(!e||!j)return;const H=e.action==="start"?"running":"stopped";A.mutate({id:j,data:{status:H}},{onSettled:()=>t(null)})},Me=H=>{j&&R.mutate({browser_profile_id:j,capture_type:H,file_path:null,file_url:`/api/browser/captures/${H}-${Date.now()}`,tab_id:null},{onSuccess:K=>{f({open:!0,type:H,fileUrl:K.file_url,filePath:K.file_path})}})},re=H=>{if(H.file_url){const K=document.createElement("a");K.href=H.file_url,K.download=`capture-${H.capture_type}-${Date.now()}`,K.click()}},pe=x.useMemo(()=>{const H=[];return O.slice(0,5).forEach(K=>{H.push({id:K.id,label:`${$T[K.command_type]}  ${K.status}`,time:new Date(K.created_at).toLocaleTimeString(),createdAt:K.created_at})}),E.slice(0,3).forEach(K=>{H.push({id:K.id,label:`Capture: ${K.capture_type}`,time:new Date(K.created_at).toLocaleTimeString(),createdAt:K.created_at})}),H.sort((K,Ye)=>Ye.createdAt.localeCompare(K.createdAt)).slice(0,8).map(({id:K,label:Ye,time:Ue})=>({id:K,label:Ye,time:Ue}))},[O,E]);return a.jsxs("div",{className:"flex flex-col h-full animate-fade-in-up",children:[a.jsxs("header",{className:"shrink-0 mb-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Browser Automation Console"}),a.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Managed Chromium profile, command queue, and capture tools. Control your session from the footer."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0",children:[a.jsxs(ee,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[a.jsx(fI,{className:"h-5 w-5 text-primary"}),"Command Queue"]}),a.jsxs(M,{size:"sm",onClick:()=>m(!0),disabled:!j||G.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(ar,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(ve,{children:"Add and manage automation commands. They run in sequence."})]}),a.jsx(te,{className:"flex-1 flex flex-col min-h-0",children:j?B?a.jsx("ul",{className:"space-y-2",children:[1,2,3].map(H=>a.jsx(we,{className:"h-10 rounded-md"},H))}):O.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(OH,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No commands in queue"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a command to run automations."}),a.jsxs(M,{className:"mt-3 transition-transform hover:scale-[1.02]",variant:"outline",size:"sm",onClick:()=>m(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Add command"]})]}):a.jsx(Pt,{className:"flex-1 -mx-1 px-1",children:a.jsx("ul",{className:"space-y-1",children:O.map(H=>a.jsxs("li",{className:"flex items-center gap-2 rounded-md border border-border bg-secondary/30 px-2 py-1.5 group",children:[a.jsx("span",{className:"text-xs text-muted-foreground w-6 shrink-0",children:H.sequence_order+1}),a.jsx("span",{className:"truncate text-sm flex-1",children:$T[H.command_type]}),a.jsx(tt,{variant:"secondary",className:"text-xs shrink-0",children:H.status}),a.jsx(M,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>ie.mutate(H.id),disabled:ie.isPending,"aria-label":"Remove command",children:a.jsx(Ss,{className:"h-3 w-3"})})]},H.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select or create a profile to add commands."})})]}),a.jsxs(ee,{className:"lg:col-span-6 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Iy,{className:"h-5 w-5 text-primary"}),"Browser Viewport"]}),j&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:j,onChange:H=>n(H.target.value||null),children:b.map(H=>a.jsxs("option",{value:H.id,children:["Profile  ",n2e[H.status]??H.status]},H.id))}),a.jsxs(M,{size:"sm",onClick:()=>Fe("start"),disabled:he||A.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(ca,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>Fe("stop"),disabled:!he||A.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(kh,{className:"h-4 w-4 mr-1"}),"Stop"]}),a.jsx(M,{variant:"ghost",size:"sm",onClick:()=>C(),disabled:k||!he,children:a.jsx(Cd,{className:Z("h-4 w-4",k&&"animate-spin")})})]})]}),a.jsx(ve,{children:"Tab inspector and active session. Start the profile to see tabs."})]}),a.jsx(te,{className:"flex-1 flex flex-col min-h-0",children:j?k?a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:[1,2,3,4].map(H=>a.jsx(we,{className:"h-24 rounded-lg"},H))}):N.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(bE,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No tabs"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:he?"Open pages in the managed browser or refresh.":"Start the profile to see tabs."})]}):a.jsx(Pt,{className:"flex-1",children:a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:N.map(H=>a.jsxs("button",{type:"button",onClick:()=>{i(H),l(!0)},className:"flex flex-col overflow-hidden rounded-lg border border-border bg-secondary/30 text-left transition-all hover:border-primary/50 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[H.snapshot_url?a.jsx("img",{src:H.snapshot_url,alt:"",className:"h-20 w-full object-cover object-top"}):a.jsx("div",{className:"flex h-20 w-full items-center justify-center bg-muted",children:a.jsx(bE,{className:"h-8 w-8 text-muted-foreground"})}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"truncate text-sm font-medium",title:H.title??H.url,children:H.title||H.url||"Untitled"}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",title:H.url,children:H.url||""})]})]},H.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a profile to start."})})]}),a.jsxs(ee,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[a.jsx(jh,{className:"h-5 w-5 text-primary"}),"Output Capture"]}),a.jsx(ve,{children:"Screenshot, PDF, or DOM snapshot. View and manage captures below."})]}),a.jsxs(te,{className:"flex-1 flex flex-col gap-3 min-h-0",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>Me("screenshot"),disabled:!j||!he||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(jh,{className:"h-4 w-4 mr-1"}),"Screenshot"]}),a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>Me("pdf"),disabled:!j||!he||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Wr,{className:"h-4 w-4 mr-1"}),"PDF"]}),a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>Me("dom"),disabled:!j||!he||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ug,{className:"h-4 w-4 mr-1"}),"DOM"]})]}),a.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recent"}),a.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>y(!0),className:"text-primary hover:text-primary",children:["Manage",a.jsx(rs,{className:"h-4 w-4 ml-0.5"})]})]}),E.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No captures yet."}):a.jsx(Pt,{className:"flex-1",children:a.jsx("ul",{className:"space-y-1",children:E.slice(0,5).map(H=>a.jsxs("li",{className:"flex items-center justify-between rounded-md border border-border bg-secondary/30 px-2 py-1.5 text-sm",children:[a.jsx("span",{children:H.capture_type}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(H.created_at).toLocaleDateString()})]},H.id))})})]})]})]})]}),a.jsx("footer",{className:"shrink-0 mt-4 pt-4 border-t border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Session"}),b.length>0&&j&&a.jsxs(a.Fragment,{children:[a.jsxs(M,{size:"sm",onClick:()=>Fe("start"),disabled:he||A.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(ca,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>Fe("stop"),disabled:!he||A.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(kh,{className:"h-4 w-4 mr-1"}),"Stop"]})]}),b.length===0&&a.jsx(M,{size:"sm",variant:"outline",onClick:()=>z.mutate({status:"stopped",is_isolated:!0}),disabled:z.isPending,children:z.isPending?"Creating":"Create profile"})]}),a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(oS,{className:"h-4 w-4 text-muted-foreground shrink-0"}),a.jsx(Pt,{className:"max-w-full",children:a.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground",children:pe.length===0?a.jsx("span",{children:"No activity yet"}):pe.map(H=>a.jsx("span",{className:"shrink-0 whitespace-nowrap",title:H.time,children:H.label},H.id))})})]})]})}),!w&&b.length===0&&a.jsx(ee,{className:"mt-4 shadow-card",children:a.jsxs(te,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No profile yet. Create a default profile to start the managed browser."}),a.jsx(M,{size:"sm",variant:"outline",onClick:()=>z.mutate({status:"stopped",is_isolated:!0}),disabled:z.isPending,className:"transition-transform hover:scale-[1.02]",children:z.isPending?"Creating":"Create profile"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-base",children:[a.jsx(Ug,{className:"h-4 w-4 text-primary"}),"Automation Runner"]}),a.jsxs(M,{size:"sm",onClick:()=>u(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(wI,{className:"h-4 w-4 mr-1"}),"Add script"]})]}),a.jsx(ve,{children:"Upload and run automation scripts."})]}),a.jsx(te,{children:I?a.jsx(we,{className:"h-10 rounded-md"}):T.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No scripts. Add one to run automations."}):a.jsx("ul",{className:"space-y-1",children:T.slice(0,3).map(H=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"truncate",children:H.name}),a.jsx(tt,{variant:"secondary",children:H.execution_status})]},H.id))})})]}),a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-base",children:[a.jsx(ua,{className:"h-4 w-4 text-primary"}),"CDP Connector"]}),a.jsxs(M,{size:"sm",variant:"outline",onClick:()=>p(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(ar,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(ve,{children:"Local or node proxy CDP settings."})]}),a.jsx(te,{children:U.length===0?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(uI,{className:"h-4 w-4"}),"No CDP connectors. Add one for remote CDP."]}):a.jsx("ul",{className:"space-y-1",children:U.slice(0,3).map(H=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-mono truncate",children:H.token_preview||H.connection_type}),a.jsx(tt,{variant:"secondary",children:H.connection_type})]},H.id))})})]})]}),e&&a.jsx(zPe,{open:e.open,onOpenChange:H=>!H&&t(null),action:e.action,onConfirm:ce,isPending:A.isPending,profilePath:_==null?void 0:_.footprint_path,isIsolated:_==null?void 0:_.is_isolated}),a.jsx(qPe,{open:o,onOpenChange:l,tab:s}),a.jsx(VPe,{open:c,onOpenChange:u,onSubmit:H=>L.mutate(H),isSubmitting:L.isPending}),d&&a.jsx(GPe,{open:d.open,onOpenChange:H=>!H&&f(null),captureType:d.type,fileUrl:d.fileUrl,filePath:d.filePath}),a.jsx(QPe,{open:h,onOpenChange:p,existing:null,onSubmit:H=>J.mutate(H),isSubmitting:J.isPending}),a.jsx(ZPe,{open:g,onOpenChange:m,browserProfileId:j,nextSequenceOrder:Le,onSubmit:H=>G.mutate(H),isSubmitting:G.isPending}),a.jsx(r2e,{open:v,onOpenChange:y,captures:E,onDownload:re,onDelete:H=>$.mutate(H),isDeleting:$.isPending})]})}const As={getWakeWords:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("wake_words").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createWakeWord:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("wake_words").insert(r).select().single();if(s)throw new Error(s.message);return n},updateWakeWord:async(e,t)=>{const{data:r,error:n}=await q.from("wake_words").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWakeWord:async e=>{const{error:t}=await q.from("wake_words").delete().eq("id",e);if(t)throw new Error(t.message)},getTalkModeSettings:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("talk_mode_settings").select("*").eq("user_id",e.id).order("node_id",{ascending:!0,nullsFirst:!0});if(r)throw new Error(r.message);return t??[]},getTalkModeSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");let r=q.from("talk_mode_settings").select("*").eq("user_id",t.id);e===null?r=r.is("node_id",null):r=r.eq("node_id",e);const{data:n,error:s}=await r.maybeSingle();if(s)throw new Error(s.message);return n},upsertTalkModeSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id,node_id:e.node_id??null},{data:n,error:s}=await q.from("talk_mode_settings").upsert(r,{onConflict:"user_id,node_id"}).select().single();if(s)throw new Error(s.message);return n},updateTalkModeSetting:async(e,t)=>{const{data:r,error:n}=await q.from("talk_mode_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getTranscriptionBackends:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("transcription_backends").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTranscriptionBackends:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("transcription_backends").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTranscriptionBackends:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await q.from("transcription_backends").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getTtsProviderSetting:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("tts_provider_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTtsProviderSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("tts_provider_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTtsProviderSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await q.from("tts_provider_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getMediaSetting:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("media_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertMediaSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("media_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateMediaSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await q.from("media_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r}};function wB(e,t){return e().catch(()=>t)}const Rr={all:["voice"],wakeWords:()=>[...Rr.all,"wakeWords"],talkModeSettings:()=>[...Rr.all,"talkModeSettings"],talkModeSetting:e=>[...Rr.all,"talkModeSetting",e],transcriptionBackends:()=>[...Rr.all,"transcriptionBackends"],ttsProviderSetting:()=>[...Rr.all,"ttsProviderSetting"],mediaSetting:()=>[...Rr.all,"mediaSetting"]};function i2e(){return De({queryKey:Rr.wakeWords(),queryFn:()=>wB(()=>As.getWakeWords(),[])})}function a2e(){const e=je();return _e({mutationFn:t=>As.createWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.wakeWords()}),V.success("Wake word added")},onError:t=>{V.error(t.message||"Failed to add wake word")}})}function o2e(){const e=je();return _e({mutationFn:({id:t,data:r})=>As.updateWakeWord(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.wakeWords()}),V.success("Wake word updated")},onError:t=>{V.error(t.message||"Failed to update wake word")}})}function l2e(){const e=je();return _e({mutationFn:t=>As.deleteWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.wakeWords()}),V.success("Wake word removed")},onError:t=>{V.error(t.message||"Failed to remove wake word")}})}function c2e(){return De({queryKey:Rr.talkModeSettings(),queryFn:()=>wB(()=>As.getTalkModeSettings(),[])})}function u2e(){const e=je();return _e({mutationFn:t=>As.upsertTalkModeSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.talkModeSettings()}),e.invalidateQueries({queryKey:Rr.all}),V.success("Talk mode saved")},onError:t=>{V.error(t.message||"Failed to save talk mode")}})}function d2e(){return De({queryKey:Rr.transcriptionBackends(),queryFn:()=>As.getTranscriptionBackends()})}function f2e(){const e=je();return _e({mutationFn:t=>As.upsertTranscriptionBackends(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.transcriptionBackends()}),V.success("Transcription backends saved")},onError:t=>{V.error(t.message||"Failed to save transcription backends")}})}function h2e(){return De({queryKey:Rr.ttsProviderSetting(),queryFn:()=>As.getTtsProviderSetting()})}function p2e(){const e=je();return _e({mutationFn:t=>As.upsertTtsProviderSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.ttsProviderSetting()}),V.success("TTS provider saved")},onError:t=>{V.error(t.message||"Failed to save TTS provider")}})}function m2e(){return De({queryKey:Rr.mediaSetting(),queryFn:()=>As.getMediaSetting()})}function g2e(){const e=je();return _e({mutationFn:t=>As.upsertMediaSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.mediaSetting()}),V.success("Media settings saved")},onError:t=>{V.error(t.message||"Failed to save media settings")}})}const v2e=Et({word:Pe().min(1,"Wake word is required").max(64),status:gr(["active","inactive"]),propagate_to_nodes:Ho()}),Iw={word:"",status:"active",propagate_to_nodes:!0};function y2e({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initial:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=kt({resolver:Ct(v2e),defaultValues:Iw}),f=c("propagate_to_nodes"),h=c("status"),p=m=>{r(m),u(Iw),t(!1)},g=m=>{m&&s?u({word:s.word,status:s.status,propagate_to_nodes:s.propagate_to_nodes}):m||u(Iw),t(m)};return a.jsx(Ge,{open:e,onOpenChange:g,children:a.jsxs(qe,{className:"max-w-md","aria-describedby":"wake-word-form-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:s?"Edit wake word":"Add wake word"}),a.jsx(He,{id:"wake-word-form-description",children:"Configure a voice wake word. Optionally propagate to connected nodes."})]}),a.jsxs("form",{onSubmit:o(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"wake-word-input",children:"Wake word"}),a.jsx(ge,{id:"wake-word-input",placeholder:"e.g. Hey Clawgate",...i("word"),className:"transition-colors focus-visible:ring-2"}),d.word&&a.jsx("p",{className:"text-sm text-destructive",children:d.word.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Status"}),a.jsxs(Tt,{value:h,onValueChange:m=>l("status",m),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"active",children:"Active"}),a.jsx(Ie,{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"propagate-nodes",children:"Propagate to nodes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this wake word to paired devices"})]}),a.jsx(Zr,{id:"propagate-nodes",checked:f,onCheckedChange:m=>l("propagate_to_nodes",m)})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(M,{type:"submit",disabled:n,children:n?"Saving":s?"Update":"Add"})]})]})]})})}const x2e=Et({node_id:Pe().nullable(),enabled:Ho(),interrupt_sensitivity:gr(["low","medium","high"])});function b2e({nodes:e,settings:t,defaultSetting:r,onSave:n,isSubmitting:s=!1}){const i="",o={node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"},{handleSubmit:l,setValue:c,watch:u,reset:d}=kt({resolver:Ct(x2e),defaultValues:o});x.useEffect(()=>{d({node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"})},[r,d]);const f=u("node_id"),h=u("enabled"),p=u("interrupt_sensitivity"),g=m=>{const v=m.node_id===""||!m.node_id?null:m.node_id;n({node_id:v,enabled:m.enabled,interrupt_sensitivity:m.interrupt_sensitivity}),d({node_id:m.node_id,enabled:m.enabled,interrupt_sensitivity:m.interrupt_sensitivity})};return a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Talk mode"}),a.jsx(ve,{children:"Enable or disable voice interaction per node and set interrupt sensitivity."})]}),a.jsx(te,{className:"space-y-6",children:a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Node"}),a.jsxs(Tt,{value:f||i,onValueChange:m=>{const v=m===i?null:m,y=v===null?r:t.find(b=>b.node_id===v);c("node_id",m||i),c("enabled",(y==null?void 0:y.enabled)??!1),c("interrupt_sensitivity",(y==null?void 0:y.interrupt_sensitivity)??"medium")},children:[a.jsx(St,{children:a.jsx(Rt,{placeholder:"Default (all nodes)"})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"",children:"Default (all nodes)"}),e.map(m=>a.jsx(Ie,{value:m.id,children:m.name||m.id.slice(0,8)},m.id))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"talk-enabled",children:"Talk mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Enable for this node":"Enable for all nodes by default"})]}),a.jsx(Zr,{id:"talk-enabled",checked:h,onCheckedChange:m=>c("enabled",m)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Interrupt sensitivity"}),a.jsxs(Tt,{value:p,onValueChange:m=>c("interrupt_sensitivity",m),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"low",children:"Low"}),a.jsx(Ie,{value:"medium",children:"Medium"}),a.jsx(Ie,{value:"high",children:"High"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How quickly the agent stops when you start speaking"})]}),a.jsx(M,{type:"submit",disabled:s,children:s?"Saving":"Save talk mode"})]})})]})}const MT=["whisper","google","assemblyai","deepgram","local-cli"];function w2e({open:e,onOpenChange:t,providerList:r,cliFallback:n,onSave:s,isSubmitting:i=!1}){const[o,l]=x.useState(r.length>0?[...r]:[...MT]),[c,u]=x.useState(n??"");x.useEffect(()=>{e&&(l(r.length>0?[...r]:[...MT]),u(n??""))},[e,r,n]);const d=g=>{if(g<=0)return;const m=[...o];[m[g-1],m[g]]=[m[g],m[g-1]],l(m)},f=g=>{if(g>=o.length-1)return;const m=[...o];[m[g],m[g+1]]=[m[g+1],m[g]],l(m)},h=g=>{l(m=>m.filter((v,y)=>y!==g))},p=()=>{s(o,c.trim()||null),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-lg","aria-describedby":"transcription-backend-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Transcription backends"}),a.jsx(He,{id:"transcription-backend-description",children:"Set the order of preference for transcription providers. First available is used."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Provider order (first = preferred)"}),a.jsx("ul",{className:"flex flex-col gap-2 rounded-lg border border-border p-2",children:o.map((g,m)=>a.jsxs("li",{className:Z("flex items-center gap-2 rounded-md border border-border bg-card px-3 py-2 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsx("span",{className:"text-muted-foreground","aria-hidden":!0,children:a.jsx(fI,{className:"h-4 w-4"})}),a.jsx("span",{className:"flex-1 font-medium",children:g}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(m),disabled:m===0,"aria-label":"Move up",children:""}),a.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(m),disabled:m===o.length-1,"aria-label":"Move down",children:""}),a.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h(m),"aria-label":"Remove",children:a.jsx(Ss,{className:"h-4 w-4"})})]})]},`${g}-${m}`))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"cli-fallback",children:"CLI fallback command"}),a.jsx(ge,{id:"cli-fallback",placeholder:"e.g. /usr/bin/whisper-cli",value:c,onChange:g=>u(g.target.value),className:"transition-colors focus-visible:ring-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional local CLI used when cloud providers are unavailable"})]})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(M,{onClick:p,disabled:i,children:i?"Saving":"Save order"})]})]})})}const j2e=Et({provider:Pe().min(1,"Provider is required"),model:Pe().optional()}),_2e=[{id:"default",label:"Default (system)"},{id:"openai",label:"OpenAI"},{id:"google",label:"Google Cloud TTS"},{id:"amazon",label:"Amazon Polly"},{id:"elevenlabs",label:"ElevenLabs"},{id:"azure",label:"Azure Speech"},{id:"local",label:"Local / Ollama"}],IT={provider:"default",model:""};function S2e({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s="default",initialModel:i=null}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=kt({resolver:Ct(j2e),defaultValues:{provider:s,model:i??""}}),h=u("provider"),p=m=>{var v;r({provider:m.provider,model:((v=m.model)==null?void 0:v.trim())||null}),d(IT),t(!1)},g=m=>{d(m?{provider:s,model:i??""}:IT),t(m)};return a.jsx(Ge,{open:e,onOpenChange:g,children:a.jsxs(qe,{className:"max-w-md","aria-describedby":"tts-provider-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"TTS provider"}),a.jsx(He,{id:"tts-provider-description",children:"Choose the text-to-speech provider and model for voice output."})]}),a.jsxs("form",{onSubmit:l(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Provider"}),a.jsxs(Tt,{value:h,onValueChange:m=>c("provider",m),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsx(Nt,{children:_2e.map(m=>a.jsx(Ie,{value:m.id,children:m.label},m.id))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"tts-model",children:"Model (optional)"}),a.jsx(ge,{id:"tts-model",placeholder:"e.g. tts-1, en-US-Standard-D",...o("model"),className:"transition-colors focus-visible:ring-2"}),f.model&&a.jsx("p",{className:"text-sm text-destructive",children:f.model.message})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(M,{type:"submit",disabled:n,children:n?"Saving":"Save"})]})]})]})})}const N2e=Et({retention_days:ei.number().min(1).max(3650),size_cap_mb:ei.number().min(1).max(1048576),fallback_strategy:gr(["local","cloud","none"]),audio_note_handling:gr(["store","transcribe_and_store","transcribe_only","discard"])}),DT={retention_days:30,size_cap_mb:1024,fallback_strategy:"local",audio_note_handling:"store"};function k2e({initial:e,onSave:t,isSubmitting:r=!1}){const{register:n,handleSubmit:s,setValue:i,watch:o,reset:l,formState:{errors:c}}=kt({resolver:Ct(N2e),defaultValues:e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:DT}),u=o("fallback_strategy"),d=o("audio_note_handling");return x.useEffect(()=>{l(e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:DT)},[e,l]),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Media storage"}),a.jsx(ve,{children:"Retention, size caps, and fallback for audio notes and media capture."})]}),a.jsx(te,{children:a.jsxs("form",{onSubmit:s(t),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"retention-days",children:"Retention (days)"}),a.jsx(ge,{id:"retention-days",type:"number",min:1,max:3650,...n("retention_days"),className:"transition-colors focus-visible:ring-2"}),c.retention_days&&a.jsx("p",{className:"text-sm text-destructive",children:c.retention_days.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep media before cleanup (13650)"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"size-cap-mb",children:"Size cap (MB)"}),a.jsx(ge,{id:"size-cap-mb",type:"number",min:1,...n("size_cap_mb"),className:"transition-colors focus-visible:ring-2"}),c.size_cap_mb&&a.jsx("p",{className:"text-sm text-destructive",children:c.size_cap_mb.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum storage for media; oldest items are removed when exceeded"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Fallback strategy"}),a.jsxs(Tt,{value:u,onValueChange:f=>i("fallback_strategy",f),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"local",children:"Local only"}),a.jsx(Ie,{value:"cloud",children:"Cloud when local full"}),a.jsx(Ie,{value:"none",children:"No fallback (fail when full)"})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Audio note handling"}),a.jsxs(Tt,{value:d,onValueChange:f=>i("audio_note_handling",f),children:[a.jsx(St,{children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"store",children:"Store only"}),a.jsx(Ie,{value:"transcribe_and_store",children:"Transcribe and store"}),a.jsx(Ie,{value:"transcribe_only",children:"Transcribe only"}),a.jsx(Ie,{value:"discard",children:"Discard"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"What to do with captured audio notes"})]}),a.jsx(M,{type:"submit",disabled:r,children:r?"Saving":"Save media settings"})]})})]})}function C2e(){var L;const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,i]=x.useState(!1),[o,l]=x.useState(!1),{data:c=[],isLoading:u}=i2e(),d=a2e(),f=o2e(),h=l2e(),{data:p=[],isLoading:g}=c2e(),m=u2e(),v=p.find(R=>R.node_id===null)??null,{data:y=[]}=ZL(),{data:b,isLoading:w}=d2e(),S=f2e(),{data:j,isLoading:_}=h2e(),N=p2e(),{data:k,isLoading:C}=m2e(),T=g2e(),I=()=>{n(null),t(!0)},E=R=>{n(R),t(!0)},U=R=>{r?f.mutate({id:r.id,data:{word:R.word,status:R.status,propagate_to_nodes:R.propagate_to_nodes}},{onSuccess:()=>t(!1)}):d.mutate({word:R.word,status:R.status,propagate_to_nodes:R.propagate_to_nodes},{onSuccess:()=>t(!1)})},O=R=>{m.mutate({node_id:R.node_id,enabled:R.enabled,interrupt_sensitivity:R.interrupt_sensitivity})},B=(R,$)=>{S.mutate({provider_list:R,cli_fallback:$})},A=R=>{N.mutate({provider:R.provider,model:R.model})},z=R=>{T.mutate(R)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(me,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(rs,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Voice & Media"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Sh,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Voice & Media"]}),a.jsx("p",{className:"text-muted-foreground",children:"Configure wake words, talk mode, transcription, TTS, and media storage."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_240px]",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(ae,{children:"Wake words"}),a.jsx(ve,{children:"Voice activation phrases; optionally propagated to nodes."})]}),a.jsxs(M,{type:"button",size:"sm",onClick:I,className:"shrink-0 transition-transform hover:scale-[1.02]",children:[a.jsx(ar,{className:"h-4 w-4 mr-2"}),"Add"]})]}),a.jsx(te,{children:u?a.jsx(we,{className:"h-24 w-full rounded-lg"}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(Sh,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No wake words configured"}),a.jsx(M,{type:"button",variant:"outline",size:"sm",onClick:I,children:"Add wake word"})]}):a.jsx("ul",{className:"space-y-2",children:c.map(R=>a.jsxs("li",{className:Z("flex items-center justify-between rounded-lg border border-border bg-card px-4 py-3 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium",children:R.word}),a.jsx(tt,{variant:R.status==="active"?"success":"secondary",children:R.status}),R.propagate_to_nodes&&a.jsx("span",{className:"text-muted-foreground text-xs",children:" nodes"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>E(R),"aria-label":"Edit wake word",children:a.jsx(Nh,{className:"h-4 w-4"})}),a.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h.mutate(R.id),"aria-label":"Delete wake word",children:a.jsx(Ss,{className:"h-4 w-4"})})]})]},R.id))})})]}),g?a.jsx(we,{className:"h-64 w-full rounded-lg"}):a.jsx(b2e,{nodes:y,settings:p,defaultSetting:v,onSave:O,isSubmitting:m.isPending}),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(EH,{className:"h-5 w-5 text-primary"}),"Transcription backends"]}),a.jsx(ve,{children:"Provider order and CLI fallback for voice-to-text."})]}),a.jsx(M,{type:"button",size:"sm",variant:"outline",onClick:()=>i(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Edit order"})]}),a.jsx(te,{children:w?a.jsx(we,{className:"h-16 w-full rounded-lg"}):b?a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-muted-foreground",children:["Order: ",(L=b.provider_list)!=null&&L.length?b.provider_list.join("  "):"default"]}),b.cli_fallback&&a.jsxs("p",{className:"text-muted-foreground",children:["CLI fallback: ",a.jsx("code",{className:"rounded bg-secondary px-1",children:b.cli_fallback})]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No backends configured. Use default order or set your preference."})})]}),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx($H,{className:"h-5 w-5 text-primary"}),"TTS provider"]}),a.jsx(ve,{children:"Text-to-speech provider and model for voice output."})]}),a.jsx(M,{type:"button",size:"sm",variant:"outline",onClick:()=>l(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Configure"})]}),a.jsx(te,{children:_?a.jsx(we,{className:"h-12 w-full rounded-lg"}):j?a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:j.provider}),j.model&&a.jsxs("span",{className:"text-muted-foreground",children:[" / ",j.model]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default (system)"})})]}),C?a.jsx(we,{className:"h-80 w-full rounded-lg"}):a.jsx(k2e,{initial:k??null,onSave:z,isSubmitting:T.isPending})]}),a.jsxs("aside",{className:"space-y-4 lg:order-last",children:[a.jsxs(ee,{className:"border-border bg-card/80",children:[a.jsx(ne,{className:"pb-2",children:a.jsx(ae,{className:"text-base",children:"Related"})}),a.jsxs(te,{className:"space-y-2",children:[a.jsxs(me,{to:"/settings",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[a.jsx(ua,{className:"h-4 w-4 shrink-0"}),"Settings"]}),a.jsx(me,{to:"/nodes",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:"Nodes"})]})]}),a.jsxs(ee,{className:"border-border bg-card/80",children:[a.jsx(ne,{className:"pb-2",children:a.jsxs(ae,{className:"text-base flex items-center gap-2",children:[a.jsx(Ry,{className:"h-4 w-4"}),"Help"]})}),a.jsx(te,{children:a.jsx(me,{to:"/help",className:"text-sm text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Docs & quick start"})})]})]})]}),a.jsx(y2e,{open:e,onOpenChange:t,onSubmit:U,isSubmitting:d.isPending||f.isPending,initial:r}),a.jsx(w2e,{open:s,onOpenChange:i,providerList:(b==null?void 0:b.provider_list)??[],cliFallback:(b==null?void 0:b.cli_fallback)??null,onSave:B,isSubmitting:S.isPending}),a.jsx(S2e,{open:o,onOpenChange:l,onSubmit:A,isSubmitting:N.isPending,initialProvider:(j==null?void 0:j.provider)??"default",initialModel:(j==null?void 0:j.model)??null})]})}function E2e(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Settings / Preferences"}),a.jsxs(Ko,{defaultValue:"network",children:[a.jsxs(Ta,{children:[a.jsx(Vt,{value:"network",children:"Network"}),a.jsx(Vt,{value:"remote",children:"Remote access"}),a.jsx(Vt,{value:"secrets",children:"Secrets"}),a.jsx(Vt,{value:"tools",children:"Tool policies"}),a.jsx(Vt,{value:"model",children:"Model defaults"})]}),a.jsx(Ht,{value:"network",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Network binding / TLS"}),a.jsx(ve,{children:"Bind address and TLS certificate."})]}),a.jsx(te,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Bind address"}),a.jsx(ge,{placeholder:"0.0.0.0:3000"})]})})]})}),a.jsx(Ht,{value:"remote",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Remote access (tailnet / proxy)"})}),a.jsx(te,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure Tailscale or proxy for remote access."})})]})}),a.jsx(Ht,{value:"secrets",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Secrets management"}),a.jsx(ve,{children:"Keychain, 1Password CLI, encrypted fallback."})]}),a.jsxs(te,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Never write long-lived tokens to plaintext. Manage secrets and keychain configuration in the dedicated Secrets & Keychain page."}),a.jsx(M,{asChild:!0,variant:"secondary",children:a.jsx(me,{to:"/secrets",children:"Open Secrets & Keychain"})})]})]})}),a.jsx(Ht,{value:"tools",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Tool policies"}),a.jsx(ve,{children:"Exec allowlist, sandbox toggle."})]}),a.jsx(te,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Q,{htmlFor:"sandbox",children:"Sandbox tools"}),a.jsx(Zr,{id:"sandbox"})]})})]})}),a.jsx(Ht,{value:"model",className:"space-y-4",children:a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Model defaults"}),a.jsx(ve,{children:"Default provider and model for runs."})]}),a.jsx(te,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Default model"}),a.jsx(ge,{placeholder:"gpt-4"})]})})]})})]}),a.jsx(ee,{children:a.jsxs(te,{className:"pt-6",children:[a.jsx(M,{children:"Restart / Apply"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Restart gateway to apply some settings."})]})})]})}const LT="[ENCRYPTED]";async function jB(){const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");return e.id}async function qm(e,t,r={}){const s={user_id:await jB(),secret_id:t,action:e,details:r};await q.from("secret_audit_logs").insert(s)}const yc={getSecrets:async()=>{const{data:e,error:t}=await q.from("secrets").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSecret:async e=>{const{data:t,error:r}=await q.from("secrets").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSecret:async e=>{const t=await jB(),r=e.storage_method==="encrypted_fallback"&&e.value!=null?LT:null,n={user_id:t,name:e.name.trim(),storage_method:e.storage_method,encrypted_value:r,key_reference:e.key_reference??null},{data:s,error:i}=await q.from("secrets").insert(n).select().single();if(i)throw new Error(i.message);const o=s;return await qm("secret_created",o.id,{name:o.name}),o},updateSecret:async(e,t)=>{const{data:r,error:n}=await q.from("secrets").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);const s=r;return await qm("secret_updated",e,{name:s.name}),s},rotateSecret:async(e,t)=>{const r=t.value!=null?LT:void 0,{data:n,error:s}=await q.from("secrets").update({encrypted_value:r}).eq("id",e).select().single();if(s)throw new Error(s.message);return await qm("secret_rotated",e),n},deleteSecret:async e=>{const t=await yc.getSecret(e),{error:r}=await q.from("secrets").delete().eq("id",e);if(r)throw new Error(r.message);t&&await qm("secret_deleted",null,{name:t.name})},getAuditLogs:async(e=50)=>{const{data:t,error:r}=await q.from("secret_audit_logs").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}};function O2e(e,t){return e().catch(()=>t)}const yn={all:["secrets"],list:()=>[...yn.all,"list"],detail:e=>[...yn.all,"detail",e],auditLogs:e=>[...yn.all,"auditLogs",e]};function P2e(){return De({queryKey:yn.list(),queryFn:()=>O2e(()=>yc.getSecrets(),[])})}function A2e(){const e=je();return _e({mutationFn:t=>yc.createSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:yn.list()}),e.invalidateQueries({queryKey:yn.auditLogs()}),V.success("Secret created")},onError:t=>{V.error(t.message||"Failed to create secret")}})}function T2e(){const e=je();return _e({mutationFn:({id:t,data:r})=>yc.updateSecret(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:yn.list()}),e.invalidateQueries({queryKey:yn.detail(r)}),e.invalidateQueries({queryKey:yn.auditLogs()}),V.success("Secret updated")},onError:t=>{V.error(t.message||"Failed to update secret")}})}function R2e(){const e=je();return _e({mutationFn:({id:t,value:r})=>yc.rotateSecret(t,{value:r}),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:yn.list()}),e.invalidateQueries({queryKey:yn.detail(r)}),e.invalidateQueries({queryKey:yn.auditLogs()}),V.success("Secret rotated")},onError:t=>{V.error(t.message||"Failed to rotate secret")}})}function $2e(){const e=je();return _e({mutationFn:t=>yc.deleteSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:yn.list()}),e.invalidateQueries({queryKey:yn.auditLogs()}),V.success("Secret removed")},onError:t=>{V.error(t.message||"Failed to remove secret")}})}function M2e(e=50){return De({queryKey:yn.auditLogs(e),queryFn:()=>yc.getAuditLogs(e)})}const I2e=Et({name:Pe().min(1,"Name is required").max(128,"Name too long"),storage_method:gr(["os_keychain","onepassword","encrypted_fallback"]),value:Pe().optional(),key_reference:Pe().optional()}),Dw={name:"",storage_method:"encrypted_fallback",value:"",key_reference:""};function D2e({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,watch:l,setValue:c,formState:{errors:u}}=kt({resolver:Ct(I2e),defaultValues:Dw}),d=l("storage_method"),f=p=>{var g,m;r({name:p.name.trim(),storage_method:p.storage_method,value:((g=p.value)==null?void 0:g.trim())||void 0,key_reference:((m=p.key_reference)==null?void 0:m.trim())||null}),o(Dw)},h=p=>{p||o(Dw),t(p)};return a.jsx(Ge,{open:e,onOpenChange:h,children:a.jsxs(qe,{className:"max-w-lg","aria-describedby":"add-secret-form-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Add secret"}),a.jsx(He,{id:"add-secret-form-description",children:"Store a secret securely. Choose where it will be stored; value is never stored in plaintext."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"name",children:"Name"}),a.jsx(ge,{id:"name",placeholder:"e.g. API_KEY_GITHUB",...s("name"),className:u.name?"border-destructive":"",autoComplete:"off"}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Storage method"}),a.jsxs(Tt,{value:d,onValueChange:p=>c("storage_method",p),children:[a.jsx(St,{className:u.storage_method?"border-destructive":"",children:a.jsx(Rt,{placeholder:"Select storage"})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Ie,{value:"onepassword",children:"1Password"}),a.jsx(Ie,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"OS Keychain (macOS/Windows/Linux), 1Password CLI, or encrypted fallback when keychain is unavailable."})]}),d==="encrypted_fallback"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"value",children:"Value"}),a.jsx(ge,{id:"value",type:"password",placeholder:"Enter secret value",autoComplete:"new-password",...s("value")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value is encrypted before storage; never stored in plaintext."})]}),(d==="os_keychain"||d==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"key_reference",children:"Key reference (optional)"}),a.jsx(ge,{id:"key_reference",placeholder:"e.g. service/account/key",...s("key_reference"),autoComplete:"off"})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"secondary",onClick:()=>h(!1),disabled:n,children:"Cancel"}),a.jsx(M,{type:"submit",disabled:n,children:n?"Adding":"Add secret"})]})]})]})})}const L2e=Et({name:Pe().min(1,"Name is required").max(128,"Name too long"),storage_method:gr(["os_keychain","onepassword","encrypted_fallback"]),key_reference:Pe().optional()});function F2e({open:e,onOpenChange:t,secret:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,reset:l,watch:c,setValue:u,formState:{errors:d}}=kt({resolver:Ct(L2e),defaultValues:{name:(r==null?void 0:r.name)??"",storage_method:(r==null?void 0:r.storage_method)??"encrypted_fallback",key_reference:(r==null?void 0:r.key_reference)??""}}),f=c("storage_method");x.useEffect(()=>{e&&r&&l({name:r.name,storage_method:r.storage_method,key_reference:r.key_reference??""})},[e,r,l]);const h=g=>{var m;n({name:g.name.trim(),storage_method:g.storage_method,key_reference:((m=g.key_reference)==null?void 0:m.trim())||null}),t(!1)},p=g=>{g||t(!1)};return r?a.jsx(Ge,{open:e,onOpenChange:p,children:a.jsxs(qe,{className:"max-w-lg","aria-describedby":"edit-secret-form-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Edit secret"}),a.jsx(He,{id:"edit-secret-form-description",children:"Update name or storage method. The secret value is never displayed; use Rotate to set a new value."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"edit-name",children:"Name"}),a.jsx(ge,{id:"edit-name",placeholder:"e.g. API_KEY_GITHUB",...i("name"),className:d.name?"border-destructive":"",autoComplete:"off"}),d.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{children:"Storage method"}),a.jsxs(Tt,{value:f,onValueChange:g=>u("storage_method",g),children:[a.jsx(St,{className:d.storage_method?"border-destructive":"",children:a.jsx(Rt,{placeholder:"Select storage"})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Ie,{value:"onepassword",children:"1Password"}),a.jsx(Ie,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]})]}),(f==="os_keychain"||f==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"edit-key_reference",children:"Key reference (optional)"}),a.jsx(ge,{id:"edit-key_reference",placeholder:"e.g. service/account/key",...i("key_reference"),autoComplete:"off"})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"secondary",onClick:()=>p(!1),disabled:s,children:"Cancel"}),a.jsx(M,{type:"submit",disabled:s,children:s?"Saving":"Save changes"})]})]})]})}):null}function U2e({values:e,onChange:t,disabled:r=!1,className:n}){return a.jsxs(ee,{className:Z("shadow-card transition-shadow hover:shadow-card-hover",n),children:[a.jsxs(ne,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_h,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ae,{children:"Setup & configuration"})]}),a.jsx(ve,{children:"Choose where secrets are stored. OS keychain and 1Password keep credentials out of the database; encrypted fallback is used when keychain is unavailable."})]}),a.jsxs(te,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"keychain",className:"text-base font-medium",children:"OS Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"macOS Keychain, Windows Credential Manager, or Linux secret store"})]}),a.jsx(Zr,{id:"keychain",checked:e.keychainEnabled,onCheckedChange:s=>t({...e,keychainEnabled:s}),disabled:r,"aria-label":"Toggle OS keychain"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"onepassword",className:"text-base font-medium",children:"1Password integration"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Store and retrieve secrets via 1Password CLI"})]}),a.jsx(Zr,{id:"onepassword",checked:e.onepasswordEnabled,onCheckedChange:s=>t({...e,onepasswordEnabled:s}),disabled:r,"aria-label":"Toggle 1Password"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"fallback",className:"text-base font-medium",children:"Encrypted fallback"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Encrypt and store in database when keychain is unavailable"})]}),a.jsx(Zr,{id:"fallback",checked:e.encryptedFallbackEnabled,onCheckedChange:s=>t({...e,encryptedFallbackEnabled:s}),disabled:r,"aria-label":"Toggle encrypted fallback"})]}),a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Dn,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Long-lived tokens are never written to plaintext. Runtime retrieval uses least-privilege scoping."]})]})]})}const FT={os_keychain:"OS Keychain",onepassword:"1Password",encrypted_fallback:"Encrypted fallback"};function B2e(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState({keychainEnabled:!0,onepasswordEnabled:!1,encryptedFallbackEnabled:!0}),{data:c=[],isLoading:u}=P2e(),{data:d=[],isLoading:f}=M2e(50),h=A2e(),p=T2e(),g=$2e(),m=R2e(),v=async j=>{await h.mutateAsync(j),t(!1)},y=async j=>{s&&(await p.mutateAsync({id:s.id,data:j}),n(!1),i(null))},b=j=>{i(j),n(!0)},w=j=>{m.mutate({id:j.id},{onSuccess:()=>n(!1)})},S=j=>{window.confirm(`Remove secret "${j.name}"? This cannot be undone.`)&&g.mutate(j.id)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Secrets & Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Store and manage secrets securely. No plaintext on disk."})]}),a.jsxs(M,{onClick:()=>t(!0),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(ar,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}),a.jsxs(ee,{className:"border-border shadow-card",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ae,{className:"text-base",children:"Keychain status"})]}),a.jsx(ve,{children:o.keychainEnabled||o.onepasswordEnabled?"Keychain or 1Password is configured. Secrets can be stored in the vault.":"Using encrypted fallback only. Enable OS keychain or 1Password for stronger isolation."})]}),a.jsxs(te,{className:"flex flex-wrap gap-2",children:[o.keychainEnabled&&a.jsxs(tt,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Mo,{className:"h-3 w-3 mr-1"}),"OS Keychain"]}),o.onepasswordEnabled&&a.jsxs(tt,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Mo,{className:"h-3 w-3 mr-1"}),"1Password"]}),!o.keychainEnabled&&!o.onepasswordEnabled&&a.jsxs(tt,{variant:"secondary",className:"bg-warning/15 text-warning border-0",children:[a.jsx(uc,{className:"h-3 w-3 mr-1"}),"Fallback only"]})]})]}),a.jsxs(Ko,{defaultValue:"secrets",className:"space-y-4",children:[a.jsxs(Ta,{children:[a.jsx(Vt,{value:"secrets",children:"Secrets management"}),a.jsx(Vt,{value:"setup",children:"Setup & configuration"}),a.jsx(Vt,{value:"audit",children:"Audit logs"})]}),a.jsx(Ht,{value:"secrets",className:"space-y-4",children:a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{className:"text-lg",children:"Stored secrets"}),a.jsx(ve,{children:"Add, edit, or rotate secrets. Values are never shown after save."})]}),a.jsx(te,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>a.jsx(we,{className:"h-14 w-full rounded-lg"},j))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(_h,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No secrets yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Add a secret to store API keys, tokens, or other credentials securely."}),a.jsxs(M,{variant:"default",className:"mt-4 transition-transform hover:scale-[1.02]",onClick:()=>t(!0),children:[a.jsx(ar,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}):a.jsx(Pt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:c.map(j=>a.jsxs("li",{className:Z("flex items-center justify-between rounded-lg border border-border p-4","transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:a.jsx(_h,{className:"h-5 w-5 text-primary","aria-hidden":!0})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:j.name}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[FT[j.storage_method]??j.storage_method,"  Updated"," ",Dr(new Date(j.updated_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(tt,{variant:"secondary",className:"text-xs",children:FT[j.storage_method]??j.storage_method}),a.jsxs(Lo,{children:[a.jsx(Fo,{asChild:!0,children:a.jsx(M,{variant:"ghost",size:"icon","aria-label":"Actions",children:a.jsx(Gl,{className:"h-4 w-4"})})}),a.jsxs(wa,{align:"end",children:[a.jsxs(pr,{onClick:()=>b(j),children:[a.jsx(Nh,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(pr,{onClick:()=>w(j),children:[a.jsx(Cd,{className:"h-4 w-4 mr-2"}),"Rotate secret"]}),a.jsxs(pr,{className:"text-destructive focus:text-destructive",onClick:()=>S(j),children:[a.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})]})]},j.id))})})})]})}),a.jsx(Ht,{value:"setup",className:"space-y-4",children:a.jsx(U2e,{values:o,onChange:l})}),a.jsx(Ht,{value:"audit",className:"space-y-4",children:a.jsxs(ee,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wr,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ae,{className:"text-lg",children:"Audit logs"})]}),a.jsx(ve,{children:"Recent secret access, rotation, and configuration changes."})]}),a.jsx(te,{children:f?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(j=>a.jsx(we,{className:"h-12 w-full rounded-lg"},j))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Wr,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No audit entries yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Actions on secrets will appear here."})]}):a.jsx(Pt,{className:"h-[360px] pr-4",children:a.jsx("ul",{className:"space-y-2",role:"list",children:d.map(j=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3 text-sm",children:[a.jsx("span",{className:"font-medium capitalize",children:j.action.replace(/_/g," ")}),a.jsx("span",{className:"text-muted-foreground",children:Dr(new Date(j.created_at),{addSuffix:!0})})]},j.id))})})})]})})]}),a.jsx(D2e,{open:e,onOpenChange:t,onSubmit:v,isSubmitting:h.isPending}),a.jsx(F2e,{open:r,onOpenChange:n,secret:s,onSubmit:y,isSubmitting:p.isPending})]})}const Bn="/security",xc={runAudit:()=>be.post(`${Bn}/audit/run`,{}),getAudits:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return be.get(`${Bn}/audits${t?`?${t}`:""}`)},getAudit:e=>be.get(`${Bn}/audits/${e}`),createAudit:e=>be.post(`${Bn}/audits`,e),getIssuesByAuditId:e=>be.get(`${Bn}/audits/${e}/issues`),createIssue:e=>be.post(`${Bn}/issues`,e),applyAutoFix:e=>be.post(`${Bn}/issues/${e}/auto-fix`,{}),updateIssue:(e,t)=>be.patch(`${Bn}/issues/${e}`,t),getIncidentActions:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return be.get(`${Bn}/incident-actions${t?`?${t}`:""}`)},createIncidentAction:e=>be.post(`${Bn}/incident-actions`,e),exportAuditLogs:e=>be.post(`${Bn}/export`,e),getAuditLogs:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return be.get(`${Bn}/audit-logs${t?`?${t}`:""}`)},createAuditLog:e=>be.post(`${Bn}/audit-logs`,e)};function _B(e,t){return e().catch(()=>t)}const Qn={all:["security"],audits:e=>[...Qn.all,"audits",e],audit:e=>[...Qn.all,"audit",e??""],issues:e=>[...Qn.all,"issues",e??""],incidentActions:e=>[...Qn.all,"incident-actions",e],auditLogs:e=>[...Qn.all,"audit-logs",e]};function z2e(e){return De({queryKey:Qn.audits(e),queryFn:()=>_B(()=>xc.getAudits(e),[])})}function q2e(e){return De({queryKey:Qn.issues(e),queryFn:()=>e?_B(()=>xc.getIssuesByAuditId(e),[]):Promise.resolve([]),enabled:!!e})}function W2e(){const e=je();return _e({mutationFn:()=>xc.runAudit(),onSuccess:t=>{var r;e.invalidateQueries({queryKey:Qn.all}),(r=t==null?void 0:t.audit)!=null&&r.id&&(e.invalidateQueries({queryKey:Qn.audit(t.audit.id)}),e.invalidateQueries({queryKey:Qn.issues(t.audit.id)})),V.success("Security audit completed")},onError:t=>{V.error(t.message||"Audit failed")}})}function V2e(){const e=je();return _e({mutationFn:t=>xc.applyAutoFix(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qn.all}),V.success("Auto-fix applied")},onError:t=>{V.error(t.message||"Auto-fix failed")}})}function H2e(){const e=je();return _e({mutationFn:({issueId:t,data:r})=>xc.updateIssue(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Qn.all}),V.success("Issue updated")},onError:t=>{V.error(t.message||"Update failed")}})}function K2e(){const e=je();return _e({mutationFn:t=>xc.createIncidentAction(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qn.all}),V.success("Action submitted")},onError:t=>{V.error(t.message||"Action failed")}})}function G2e(){return _e({mutationFn:e=>xc.exportAuditLogs(e),onSuccess:e=>{e!=null&&e.download_url&&window.open(e.download_url,"_blank"),V.success("Export started")},onError:e=>{V.error(e.message||"Export failed")}})}const SB=x.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));SB.displayName="Textarea";function Y2e({open:e,onOpenChange:t,onConfirm:r,isSubmitting:n=!1,mode:s="auto_fix",issueDescription:i}){const o=s==="auto_fix",l=o?"Apply auto-fix?":"Record manual remediation?",c=o?"This will apply the recommended automated fix for this issue. The change will be logged for compliance.":"This will record your manual fix for this issue. The change will be logged for compliance.",u=()=>{r(),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-[480px]","aria-describedby":"remediation-confirm-desc",children:[a.jsxs(We,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bI,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Ve,{children:l})]}),a.jsxs(He,{id:"remediation-confirm-desc",children:[c,i&&a.jsxs("span",{className:"mt-2 block text-muted-foreground truncate max-w-full",title:i,children:["Issue: ",i.slice(0,80),i.length>80?"":""]})]})]}),a.jsxs(Qe,{children:[a.jsx(M,{variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(M,{onClick:u,disabled:n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:n?"Applying":o?"Apply auto-fix":"Record fix"})]})]})})}const UT={critical:{label:"Critical",icon:uc,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:dc,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:uS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:dS,className:"text-accent bg-accent/15 border-accent/30"}};function Q2e(e){return e?e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):""}function X2e({issue:e,open:t,onOpenChange:r,autoFixEnabled:n=!1,onAutoFixChange:s,onApplyAutoFix:i,isApplyingAutoFix:o=!1,onApplyManualFix:l,isApplyingManualFix:c=!1}){const[u,d]=x.useState(!1),[f,h]=x.useState("");if(!e)return null;const p=UT[e.severity]??UT.medium,g=p.icon,m=o||c,v=()=>{d(!0)},y=()=>{i==null||i(e.id)},b=()=>{const w=f.trim();w&&l&&(l(e.id,w),h(""))};return a.jsxs(a.Fragment,{children:[a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(qe,{className:"max-w-[640px] max-h-[85vh] flex flex-col","aria-describedby":"audit-issue-description",children:[a.jsxs(We,{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(g,{className:Z("h-5 w-5 shrink-0",p.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(tt,{variant:"secondary",className:Z("border text-xs font-medium",p.className),children:p.label})]}),a.jsx(Ve,{className:"text-left pt-1",children:"Security finding"}),a.jsx(He,{id:"audit-issue-description",className:"text-left",children:"Details, affected files, and remediation for this issue."})]}),a.jsx(Pt,{className:"flex-1 max-h-[50vh] rounded-md border border-border px-3 py-2",children:a.jsxs("div",{className:"space-y-4 pr-2",children:[e.category&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Category"}),a.jsx(tt,{variant:"outline",className:"text-xs font-medium",children:Q2e(e.category)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-foreground",children:e.description})]}),e.remediation&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Recommended fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap",children:e.remediation})]}),e.affected_files&&e.affected_files.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Affected files / configs"}),a.jsx("ul",{className:"text-sm font-mono text-foreground list-disc list-inside space-y-0.5",children:e.affected_files.map((w,S)=>a.jsx("li",{children:w},S))})]}),e.applied_fix&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Applied fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap bg-success/10 border border-success/30 rounded-lg px-3 py-2",children:e.applied_fix})]}),e.auto_fix_available&&!e.applied_fix&&a.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border border-border p-3 bg-card/50",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Q,{htmlFor:"audit-autofix-toggle",className:"text-sm font-medium",children:"Auto-fix available"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Apply safe automated remediation for this issue."})]}),a.jsx(Zr,{id:"audit-autofix-toggle",checked:n,onCheckedChange:s,disabled:m,"aria-label":"Enable auto-fix for this issue"})]})]})}),a.jsxs("div",{className:"flex flex-col gap-3 pt-2 border-t border-border",children:[e.auto_fix_available&&!e.applied_fix&&a.jsx("div",{className:"flex justify-end",children:a.jsx(M,{variant:"default",size:"sm",onClick:v,disabled:m||!n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:o?"Applying":"Apply auto-fix now"})}),l&&!e.applied_fix&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"audit-manual-fix",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ly,{className:"h-4 w-4","aria-hidden":!0}),"Manual remediation"]}),a.jsx(SB,{id:"audit-manual-fix",placeholder:"Describe the fix you applied (e.g. moved secret to keychain, updated config)...",value:f,onChange:w=>h(w.target.value),disabled:m,rows:3,className:"resize-none text-sm font-mono","aria-describedby":"audit-manual-fix-hint"}),a.jsx("p",{id:"audit-manual-fix-hint",className:"text-xs text-muted-foreground",children:"Record your custom fix for compliance. This will be logged."}),a.jsx(M,{variant:"outline",size:"sm",onClick:b,disabled:m||!f.trim(),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:c?"Saving":"Record manual fix"})]})]})]})}),a.jsx(Y2e,{open:u,onOpenChange:d,onConfirm:y,isSubmitting:o,mode:"auto_fix",issueDescription:e.description})]})}const J2e={revoke_sessions:{label:"Revoke sessions",description:"This will revoke all active sessions except the current one. Users will need to sign in again on other devices.",icon:pS,variant:"destructive"},rotate_secrets:{label:"Rotate secrets",description:"This will rotate API keys and tokens. Any integrations using old credentials will need to be updated.",icon:Cd,variant:"destructive"},export_logs:{label:"Export security logs",description:"Export audit and security logs for external analysis or compliance. Redaction will be applied by default.",icon:ks,variant:"default"},stop_blast_radius:{label:"Stop blast radius",description:"Contain the impact of a potential incident by stopping affected runs and isolating resources.",icon:cS,variant:"destructive"},quarantine_skill:{label:"Quarantine skill",description:"Disable and isolate a skill that may be risky until you review and approve it.",icon:xI,variant:"destructive"}};function Z2e({actionType:e,open:t,onOpenChange:r,onConfirm:n,isSubmitting:s=!1}){if(!e)return null;const i=J2e[e]??{label:e.replace(/_/g," "),description:"This action will be logged and may have side effects.",icon:xI,variant:"default"},o=i.icon,l=()=>{n(e),r(!1)};return a.jsx(Ge,{open:t,onOpenChange:r,children:a.jsxs(qe,{"aria-describedby":"incident-action-description",children:[a.jsxs(We,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Ve,{children:i.label})]}),a.jsx(He,{id:"incident-action-description",children:i.description})]}),a.jsxs(Qe,{children:[a.jsx(M,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(M,{variant:i.variant==="destructive"?"destructive":"default",onClick:l,disabled:s,children:s?"Processing":"Confirm"})]})]})})}const eAe=Et({format:gr(["json","csv"]),applyRedaction:Ho(),from:Pe().optional(),to:Pe().optional()});function tAe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const{register:s,handleSubmit:i,setValue:o,watch:l}=kt({resolver:Ct(eAe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:""}}),c=l("applyRedaction"),u=l("format"),d=f=>{const h={format:f.format,apply_redaction:f.applyRedaction,from:f.from||void 0,to:f.to||void 0};r(h),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-[480px]","aria-describedby":"security-export-desc",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Export security logs"}),a.jsx(He,{id:"security-export-desc",children:"Configure format, date range, and redaction. Export will download audit and security logs for compliance or analysis."})]}),a.jsxs("form",{onSubmit:i(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"security-export-format",children:"Format"}),a.jsxs(Tt,{value:u,onValueChange:f=>o("format",f),children:[a.jsx(St,{id:"security-export-format",children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"json",children:"JSON"}),a.jsx(Ie,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"security-export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Redact sensitive data in exported logs (recommended)."})]}),a.jsx(Zr,{id:"security-export-redaction",checked:c,onCheckedChange:f=>o("applyRedaction",f)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"security-export-from",children:"From (optional)"}),a.jsx(ge,{id:"security-export-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"security-export-to",children:"To (optional)"}),a.jsx(ge,{id:"security-export-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(M,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const BT={critical:{label:"Critical",icon:uc,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:dc,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:uS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:dS,className:"text-accent bg-accent/15 border-accent/30"}};function zT(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function rAe(e){return e>=70?"High risk":e>=40?"Medium risk":e>=10?"Low risk":"No critical issues"}function qT(e){return e>=70?"text-destructive":e>=40?"text-warning":e>=10?"text-accent":"text-success"}function nAe({issue:e,isSelected:t,onSelect:r}){const n=BT[e.severity]??BT.medium,s=n.icon,i=e.description.length>120?e.description.slice(0,120)+"":e.description;return a.jsxs("button",{type:"button",onClick:r,className:Z("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View details for issue: ${e.description.slice(0,50)}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(s,{className:Z("h-4 w-4 shrink-0",n.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(tt,{variant:"secondary",className:Z("text-xs font-medium border shrink-0",n.className),children:n.label}),e.auto_fix_available&&a.jsx(tt,{variant:"outline",className:"text-xs shrink-0",children:"Auto-fix"})]}),a.jsx("p",{className:"mt-1.5 text-sm text-foreground line-clamp-2",children:i})]})}const sAe=[{type:"revoke_sessions",label:"Revoke sessions",icon:pS},{type:"rotate_secrets",label:"Rotate secrets",icon:Cd},{type:"export_logs",label:"Export logs",icon:ks},{type:"stop_blast_radius",label:"Stop blast radius",icon:cS}];function iAe(){const{user:e}=aS(),[t,r]=x.useState(null),[n,s]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(!1),{data:p=[],isLoading:g}=z2e({limit:10}),m=p[0]??null,v=(m==null?void 0:m.id)??null,{data:y=[],isLoading:b}=q2e(v),w=W2e(),S=K2e(),j=G2e(),_=V2e(),N=H2e(),k={critical:y.filter(A=>A.severity==="critical").length,high:y.filter(A=>A.severity==="high").length,medium:y.filter(A=>A.severity==="medium").length,low:y.filter(A=>A.severity==="low").length},C=(m==null?void 0:m.risk_score)??0,T=A=>{r(A),s(!1),o(!0)},I=A=>{if(A==="export_logs"){h(!0);return}d(A),c(!0)},E=A=>{S.mutate({user_id:(e==null?void 0:e.id)??"",audit_id:v??void 0,action_type:A},{onSuccess:()=>{d(null)}})},U=A=>{j.mutate(A,{onSuccess:z=>{z!=null&&z.download_url&&window.open(z.download_url,"_blank")}})},O=A=>{_.mutate(A,{onSuccess:()=>{o(!1),r(null)}})},B=(A,z)=>{N.mutate({issueId:A,data:{applied_fix:z}},{onSuccess:()=>{o(!1),r(null)}})};return a.jsxs("div",{className:"animate-fade-in-up flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0 space-y-6",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(me,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(rs,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Security Audit"})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Dn,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Security Audit"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Run automated security checks and manage remediation. Review issues and use incident response actions when needed."})]}),a.jsxs("nav",{className:"flex items-center gap-3 text-sm","aria-label":"Quick links",children:[a.jsx(me,{to:"/dashboard",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Home"}),a.jsx(me,{to:"/settings",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Settings"}),a.jsx(me,{to:"/help",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Help"})]})]})]}),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Run audit"}),a.jsx(ve,{children:"Start automated checks for plaintext secrets, open binds, risky permissions, and misconfigurations."})]}),a.jsxs(te,{className:"space-y-4",children:[a.jsxs(M,{onClick:()=>w.mutate(),disabled:w.isPending,size:"lg",className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(ca,{className:"mr-2 h-4 w-4"}),w.isPending?"Running":"Start Audit"]}),w.isPending&&a.jsxs("div",{className:"space-y-2",role:"status","aria-live":"polite",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Running security checks"}),a.jsx(iN,{value:50,className:"h-2 animate-pulse","aria-label":"Audit in progress"})]})]})]}),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Audit summary"}),a.jsx(ve,{children:"Overall risk score and issue counts from the latest audit."})]}),a.jsx(te,{children:g?a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(we,{className:"h-14 w-14 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{className:"h-6 w-32"}),a.jsx(we,{className:"h-4 w-48"})]})]}):m?a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:Z("flex h-14 w-14 items-center justify-center rounded-full border-2 font-semibold text-xl",qT(C),C>=70&&"border-destructive bg-destructive/10",C>=40&&C<70&&"border-warning bg-warning/10",C<40&&"border-success bg-success/10"),children:C}),a.jsxs("div",{children:[a.jsx("p",{className:Z("font-semibold text-lg",qT(C)),children:rAe(C)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last run: ",zT(m.created_at)]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.critical>0&&a.jsxs(tt,{variant:"secondary",className:"border-destructive/50 text-destructive",children:[k.critical," critical"]}),k.high>0&&a.jsxs(tt,{variant:"secondary",className:"border-warning/50 text-warning",children:[k.high," high"]}),k.medium>0&&a.jsxs(tt,{variant:"secondary",className:"text-muted-foreground",children:[k.medium," medium"]}),k.low>0&&a.jsxs(tt,{variant:"secondary",className:"border-accent/50 text-accent",children:[k.low," low"]}),y.length===0&&a.jsx(tt,{variant:"secondary",className:"text-success",children:"No issues"})]})]}):a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Dn,{className:"h-10 w-10 text-muted-foreground","aria-hidden":!0}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:"No audit yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Start Audit" to get your current risk score and issues.'})]})]})})]}),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Issue list"}),a.jsx(ve,{children:"Findings from the audit. Click an issue for details and remediation. Auto-fix is available where marked."})]}),a.jsx(te,{children:a.jsx(Pt,{className:"h-[360px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:b?[1,2,3,4].map(A=>a.jsx(we,{className:"h-20 w-full rounded-lg"},A)):y.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(uS,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No issues"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Checks include plaintext secrets, open binds, and risky skill permissions. Run an audit to see results."})]}):y.map(A=>a.jsx(nAe,{issue:A,isSelected:(t==null?void 0:t.id)===A.id,onSelect:()=>T(A)},A.id))})})})]}),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Incident response"}),a.jsx(ve,{children:"Quick actions to contain threats: revoke sessions, rotate secrets, export logs, or stop blast radius."})]}),a.jsx(te,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:sAe.map(({type:A,label:z,icon:L})=>a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>I(A),disabled:S.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(L,{className:"mr-2 h-4 w-4"}),z]},A))})})]})]}),a.jsxs("aside",{className:"w-full lg:w-72 shrink-0 space-y-4","aria-label":"Security audit sidebar",children:[a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsxs(ae,{className:"text-base flex items-center gap-2",children:[a.jsx(Cf,{className:"h-4 w-4","aria-hidden":!0}),"Previous audits"]}),a.jsx(ve,{children:"Quick links to recent audit runs."})]}),a.jsx(te,{children:g?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(A=>a.jsx(we,{className:"h-12 w-full rounded-lg"},A))}):p.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No audits yet."}):a.jsx("ul",{className:"space-y-2",role:"list",children:p.slice(0,5).map(A=>a.jsx("li",{children:a.jsx("div",{className:Z("rounded-lg border px-3 py-2 transition-colors",(m==null?void 0:m.id)===A.id?"border-primary bg-primary/10":"border-border bg-card/50 hover:bg-secondary/50"),children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("span",{className:"text-sm font-medium",children:["Risk ",A.risk_score]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:zT(A.created_at)})]})})},A.id))})})]}),a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsx(ae,{className:"text-base",children:"Export"}),a.jsx(ve,{children:"Export audit logs for compliance or incident response."})]}),a.jsx(te,{children:a.jsxs(M,{variant:"outline",className:"w-full transition-transform hover:scale-[1.02] active:scale-[0.98]",onClick:()=>h(!0),children:[a.jsx(ks,{className:"mr-2 h-4 w-4"}),"Export logs"]})})]})]}),a.jsx(X2e,{issue:t,open:i,onOpenChange:o,autoFixEnabled:n,onAutoFixChange:s,onApplyAutoFix:O,isApplyingAutoFix:_.isPending,onApplyManualFix:B,isApplyingManualFix:N.isPending}),a.jsx(Z2e,{actionType:u,open:l,onOpenChange:c,onConfirm:E,isSubmitting:S.isPending}),a.jsx(tAe,{open:f,onOpenChange:h,onExport:U,isExporting:j.isPending})]})}const Us="/logs",mk={getLogs:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&r!=="").map(([r,n])=>[r,Array.isArray(n)?n.join(","):String(n)])).toString():"";return be.get(`${Us}${t?`?${t}`:""}`)},getLog:e=>be.get(`${Us}/${e}`),createLog:e=>be.post(`${Us}`,e),getTraceByLogId:e=>be.get(`${Us}/${e}/trace`),getTrace:e=>be.get(`${Us}/traces/${e}`),createTrace:e=>be.post(`${Us}/traces`,e),updateTrace:(e,t)=>be.patch(`${Us}/traces/${e}`,t),exportLogs:e=>be.post(`${Us}/export`,e),getRetentionSettings:()=>be.get(`${Us}/retention`),updateRetentionSettings:e=>be.patch(`${Us}/retention`,e),createRetentionSettings:e=>be.post(`${Us}/retention`,e)};function NB(e,t){return e().catch(()=>t)}const gl={all:["logs"],list:e=>[...gl.all,"list",e],detail:e=>[...gl.all,"detail",e],traceByLogId:e=>[...gl.all,"trace",e],trace:e=>[...gl.all,"trace-id",e],retention:()=>[...gl.all,"retention"]};function aAe(e){return De({queryKey:gl.list(e),queryFn:()=>NB(()=>mk.getLogs(e),[])})}function oAe(e){return De({queryKey:gl.traceByLogId(e??""),queryFn:()=>e?NB(()=>mk.getTraceByLogId(e),null):Promise.resolve(null),enabled:!!e})}function lAe(){return _e({mutationFn:e=>mk.exportLogs(e),onSuccess:()=>{V.success("Export started")},onError:e=>{V.error(e.message||"Export failed")}})}const kB=["debug","info","warning","error","critical"],cAe=Et({severity:gr(kB).optional(),from:Pe().optional(),to:Pe().optional(),search:Pe().optional(),limit:ei.number().min(10).max(500).optional()});function uAe({open:e,onOpenChange:t,currentFilters:r,onApply:n}){const{register:s,handleSubmit:i,setValue:o,watch:l,reset:c,formState:{isDirty:u}}=kt({resolver:Ct(cAe),defaultValues:{severity:void 0,from:(r==null?void 0:r.from)??"",to:(r==null?void 0:r.to)??"",search:(r==null?void 0:r.search)??"",limit:(r==null?void 0:r.limit)??100}}),d=l("severity"),f=p=>{const g={limit:p.limit,search:p.search||void 0,from:p.from||void 0,to:p.to||void 0};p.severity&&(g.severity=p.severity),n(g),t(!1)},h=()=>{c({severity:void 0,from:"",to:"",search:"",limit:100}),n({limit:100}),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-[480px]","aria-describedby":"filter-desc",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Filter logs"}),a.jsx(He,{id:"filter-desc",children:"Refine the log stream by severity, date range, and keywords."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"filter-severity",children:"Severity"}),a.jsxs(Tt,{value:d??"",onValueChange:p=>o("severity",p||void 0,{shouldDirty:!0}),children:[a.jsx(St,{id:"filter-severity",children:a.jsx(Rt,{placeholder:"All severities"})}),a.jsx(Nt,{children:kB.map(p=>a.jsx(Ie,{value:p,children:p},p))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"filter-from",children:"From (ISO date)"}),a.jsx(ge,{id:"filter-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"filter-to",children:"To (ISO date)"}),a.jsx(ge,{id:"filter-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"filter-search",children:"Keyword search"}),a.jsx(ge,{id:"filter-search",placeholder:"Search in message",...s("search"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"filter-limit",children:"Max results"}),a.jsx(ge,{id:"filter-limit",type:"number",min:10,max:500,...s("limit"),className:"font-mono"})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{type:"button",variant:"outline",onClick:h,children:"Clear"}),a.jsx(M,{type:"submit",disabled:!u,children:"Apply"})]})]})]})})}const CB=["debug","info","warning","error","critical"],dAe=Et({format:gr(["json","csv"]),applyRedaction:Ho(),from:Pe().optional(),to:Pe().optional(),severity:gr(CB).optional()});function fAe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const[s,i]=x.useState("json"),{register:o,handleSubmit:l,setValue:c,watch:u}=kt({resolver:Ct(dAe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:"",severity:void 0}}),d=u("applyRedaction"),f=u("severity"),h=p=>{const g={format:p.format,applyRedaction:p.applyRedaction,from:p.from||void 0,to:p.to||void 0,severity:p.severity};r(g),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{className:"max-w-[480px]","aria-describedby":"export-desc",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Export logs"}),a.jsx(He,{id:"export-desc",children:"Choose format, date range, and redaction. Export will download with your settings."})]}),a.jsxs("form",{onSubmit:l(h),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"export-format",children:"Format"}),a.jsxs(Tt,{value:s,onValueChange:p=>{i(p),c("format",p)},children:[a.jsx(St,{id:"export-format",children:a.jsx(Rt,{})}),a.jsxs(Nt,{children:[a.jsx(Ie,{value:"json",children:"JSON"}),a.jsx(Ie,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use redacted message content in export"})]}),a.jsx(Zr,{id:"export-redaction",checked:d,onCheckedChange:p=>c("applyRedaction",p)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"export-from",children:"From (optional)"}),a.jsx(ge,{id:"export-from",type:"datetime-local",...o("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"export-to",children:"To (optional)"}),a.jsx(ge,{id:"export-to",type:"datetime-local",...o("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"export-severity",children:"Severity filter (optional)"}),a.jsxs(Tt,{value:f??"",onValueChange:p=>c("severity",p||void 0),children:[a.jsx(St,{id:"export-severity",children:a.jsx(Rt,{placeholder:"All severities"})}),a.jsx(Nt,{children:CB.map(p=>a.jsx(Ie,{value:p,children:p},p))})]})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(M,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}function hAe(e){return e==null?"":e<1e3?`${e} ms`:`${(e/1e3).toFixed(2)} s`}function WT({label:e,icon:t,children:r,defaultOpen:n=!0}){const[s,i]=x.useState(n);return a.jsxs("div",{className:"rounded border border-border bg-secondary/30 overflow-hidden",children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 px-3 py-2 text-left text-sm font-medium hover:bg-secondary/50 transition-colors",onClick:()=>i(o=>!o),"aria-expanded":s,children:[s?a.jsx(kd,{className:"h-4 w-4 shrink-0"}):a.jsx(rs,{className:"h-4 w-4 shrink-0"}),a.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),e]}),s&&a.jsx("div",{className:"border-t border-border px-3 py-2 font-mono text-xs text-muted-foreground",children:r})]})}function pAe({trace:e,isLoading:t,onClose:r,onExport:n,className:s}){if(t)return a.jsxs(ee,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsx(ne,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:a.jsxs(ae,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]})}),a.jsx(te,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(we,{className:"h-10 w-full"}),a.jsx(we,{className:"h-24 w-full"}),a.jsx(we,{className:"h-24 w-full"})]})})]});if(!e)return a.jsxs(ee,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),r&&a.jsx(M,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(Uu,{className:"h-4 w-4"})})]}),a.jsx(te,{className:"p-6",children:a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a log entry to view its trace."})})]});const i=Array.isArray(e.tool_invocation)?e.tool_invocation:[],o=Array.isArray(e.model_calls)?e.model_calls:[];return a.jsxs(ee,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[n&&a.jsx(M,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Export trace",children:a.jsx(ks,{className:"h-4 w-4"})}),r&&a.jsx(M,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(Uu,{className:"h-4 w-4"})})]})]}),a.jsxs(te,{className:"p-0",children:[a.jsxs("div",{className:"flex items-center gap-2 border-b border-border px-4 py-2 text-xs text-muted-foreground",children:[a.jsx(vo,{className:"h-3.5 w-3.5"}),"Duration: ",hAe(e.duration_ms)]}),a.jsx(Pt,{className:"h-[320px]",children:a.jsxs("div",{className:"space-y-2 p-3",children:[a.jsx(WT,{label:"Tool invocations",icon:Ly,defaultOpen:!0,children:i.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(i,null,2)})}),a.jsx(WT,{label:"Model calls",icon:Oi,defaultOpen:!0,children:o.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(o,null,2)})})]})})]})]})}const VT={debug:{label:"debug",icon:yH,className:"text-muted-foreground"},info:{label:"info",icon:dS,className:"text-primary"},warning:{label:"warning",icon:dc,className:"text-warning"},error:{label:"error",icon:uc,className:"text-destructive"},critical:{label:"critical",icon:$y,className:"text-destructive font-semibold"}};function mAe(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function gAe({log:e,isSelected:t,onSelect:r}){const n=VT[e.severity]??VT.info,s=n.icon,i=e.redacted_message??e.message,o=i.length>200?i.slice(0,200)+"":i;return a.jsxs("button",{type:"button",onClick:r,className:Z("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View trace for log ${e.id}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(s,{className:Z("h-4 w-4 shrink-0",n.className),"aria-hidden":!0}),a.jsx(tt,{variant:"secondary",className:Z("text-xs font-mono shrink-0",n.className),children:n.label}),a.jsx("span",{className:"text-xs font-mono text-muted-foreground shrink-0",children:mAe(e.timestamp)})]}),a.jsx("p",{className:"mt-1.5 font-mono text-xs text-foreground break-words line-clamp-2",children:o})]})}function vAe(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState({limit:100}),[o,l]=x.useState(null),{data:c=[],isLoading:u}=aAe(s),{data:d,isLoading:f}=oAe(o),h=lAe(),p=m=>{i(m)},g=m=>{h.mutate(m,{onSuccess:v=>{v!=null&&v.download_url&&window.open(v.download_url,"_blank")}})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(me,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(rs,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Logs & Tracing"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Wr,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Logs & Tracing"]}),a.jsx("p",{className:"text-muted-foreground",children:"Structured logs and per-run traces. Filter, view traces, and export with redaction."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(ee,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(ae,{children:"Log stream"}),a.jsx(ve,{children:"Real-time logs with severity. Select a row to view its run trace."})]})}),a.jsx(te,{children:a.jsx(Pt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:u?a.jsx(a.Fragment,{children:[1,2,3,4,5].map(m=>a.jsx(we,{className:"h-20 w-full rounded-lg"},m))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Wr,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Connect the gateway to stream logs, or logs will appear here once available."})]}):c.map(m=>a.jsx(gAe,{log:m,isSelected:o===m.id,onSelect:()=>l(v=>v===m.id?null:m.id)},m.id))})})})]}),a.jsx(pAe,{trace:d??null,isLoading:f,onClose:()=>l(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(ee,{className:"transition-shadow duration-200",children:[a.jsxs(ne,{className:"pb-2",children:[a.jsx(ae,{className:"text-base",children:"Filters & export"}),a.jsx(ve,{children:"Refine the log view and export with redaction options."})]}),a.jsxs(te,{className:"space-y-3",children:[a.jsxs(M,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(_H,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(M,{variant:"outline",className:"w-full justify-start",onClick:()=>n(!0),children:[a.jsx(ks,{className:"mr-2 h-4 w-4"}),"Export logs"]})]})]})})]}),a.jsx("footer",{className:"pt-4 border-t border-border",children:a.jsxs(me,{to:"/settings",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:[a.jsx(ua,{className:"h-4 w-4"}),"Manage retention settings"]})}),a.jsx(uAe,{open:e,onOpenChange:t,currentFilters:s,onApply:p}),a.jsx(fAe,{open:r,onOpenChange:n,onExport:g,isExporting:h.isPending})]})}function yAe(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Admin Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Enterprise / admin management. Cloud-only."}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2 text-base",children:[a.jsx(LH,{className:"h-4 w-4"}),"User management"]}),a.jsx(ve,{children:"Users table and roles."})]}),a.jsx(te,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No users (demo)."})})]}),a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2 text-base",children:[a.jsx(xH,{className:"h-4 w-4"}),"Workspace settings"]}),a.jsx(ve,{children:"Multi-workspace controls."})]}),a.jsx(te,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default workspace."})})]}),a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2 text-base",children:[a.jsx(iI,{className:"h-4 w-4"}),"Licensing summary"]}),a.jsx(ve,{children:"Seats and entitlements."})]}),a.jsx(te,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No licensing (self-hosted)."})})]})]}),a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Analytics panels"}),a.jsx(ve,{children:"Sessions, run success rates, skill installs."})]}),a.jsx(te,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics placeholder."})})]})]})}function xAe(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"About / Help"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(lS,{className:"h-5 w-5"}),"Quick start"]}),a.jsx(ve,{children:"Get started with Clawgate."})]}),a.jsxs(te,{children:[a.jsxs("ol",{className:"list-decimal space-y-2 pl-4 text-sm text-muted-foreground",children:[a.jsx("li",{children:"Install and start the gateway."}),a.jsx("li",{children:"Open Control UI and add a channel."}),a.jsx("li",{children:"Message your agent from chat."})]}),a.jsx(M,{variant:"outline",size:"sm",className:"mt-4",asChild:!0,children:a.jsx(me,{to:"/",children:"Landing"})})]})]}),a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(dI,{className:"h-5 w-5"}),"Docs"]}),a.jsx(ve,{children:"Documentation links."})]}),a.jsx(te,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Documentation (external link placeholder)."})})]}),a.jsxs(ee,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Lu,{className:"h-5 w-5"}),"Support"]}),a.jsx(ve,{children:"Contact support with context."})]}),a.jsx(te,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Support form with context autofill."})})]})]})]})}const eb={getPrivacySettings:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)return null;const{data:t,error:r}=await q.from("privacy_policy_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t??null},updatePrivacySettings:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,...e},{data:n,error:s}=await q.from("privacy_policy_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},ensurePrivacySettings:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const t=await eb.getPrivacySettings();if(t)return t;const r={user_id:e.id},{data:n,error:s}=await q.from("privacy_policy_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},getCurrentPolicyDocument:async(e="privacy")=>{const{data:t,error:r}=await q.from("policy_documents").select("*").eq("document_type",e).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(r)throw new Error(r.message);return t??null}},pp={all:["privacy"],settings:()=>[...pp.all,"settings"],policyDocument:e=>[...pp.all,"policy",e]};function EB(e,t){return e().catch(()=>t)}function bAe(){return De({queryKey:pp.settings(),queryFn:()=>EB(eb.getPrivacySettings,null)})}function wAe(){const e=je();return _e({mutationFn:t=>eb.updatePrivacySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:pp.settings()}),V.success("Privacy preferences updated")},onError:t=>{V.error(t.message||"Failed to update privacy preferences")}})}function jAe(e="privacy"){return De({queryKey:pp.policyDocument(e),queryFn:()=>EB(()=>eb.getCurrentPolicyDocument(e),null)})}function _Ae({open:e,onOpenChange:t,telemetryOptOut:r,onConfirm:n,isUpdating:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{"aria-describedby":"preferences-modal-description",children:[a.jsxs(We,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Ve,{children:"Confirm privacy preference"})]}),a.jsx(He,{id:"preferences-modal-description",children:r?a.jsx(a.Fragment,{children:"You are opting out of telemetry and optional usage data collection. We will not send diagnostic or usage data from this account. This preference will be saved and can be changed anytime in Settings or on this page."}):a.jsx(a.Fragment,{children:"You are opting in to optional telemetry. We may collect anonymous usage and diagnostic data to improve the product. No personal data is shared. You can opt out anytime in Settings or on this page."})})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(M,{onClick:i,disabled:s,className:"transition-transform hover:scale-[1.02]",children:s?"Saving":"Save preference"})]})]})})}function SAe({open:e,onOpenChange:t,onDownload:r,onOpenInNewTab:n,title:s="Download Privacy Policy",description:i="Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."}){const o=()=>{r(),t(!1)},l=()=>{n==null||n(),t(!1)};return a.jsx(Ge,{open:e,onOpenChange:t,children:a.jsxs(qe,{"aria-describedby":"download-confirmation-description",children:[a.jsxs(We,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Ve,{children:s})]}),a.jsx(He,{id:"download-confirmation-description",children:i})]}),a.jsxs(Qe,{className:"gap-2 sm:gap-0",children:[a.jsx(M,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n&&a.jsx(M,{variant:"outline",onClick:l,className:"transition-transform hover:scale-[1.02]",children:"Open in new tab"}),a.jsxs(M,{onClick:o,className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(ks,{className:"h-4 w-4","aria-hidden":!0}),"Download"]})]})]})})}const HT=[{id:"intro",title:"Introduction",content:"Clawgate is a local-first, chat-native personal agent platform. This policy explains how we handle your data when you use the Control UI and optional cloud-linked features. We are committed to transparency and putting you in control."},{id:"data-collection",title:"Data collection",content:"When you use local-only mode, data stays on your devices. We do not collect or transmit personal data from your gateway. If you link a cloud account, we store only what is necessary to provide that service (e.g. profile, session tokens). Optional telemetryanonymous usage and diagnostic datamay be collected only if you have not opted out. We do not sell your data."},{id:"storage",title:"Storage and local-first",content:"Session transcripts, skill definitions, cron jobs, and node pairings are stored locally by default. Cloud-backed features (e.g. sync, backup) store only what you explicitly enable. Credentials and long-lived tokens are stored in your system keychain or an encrypted fallback when available."},{id:"retention",title:"Retention",content:"Local data is retained according to your settings (e.g. log retention, media caps). Cloud-stored data is retained only as long as your account is active and in line with our terms. You can request deletion of cloud data at any time."},{id:"third-party",title:"Third-party services and APIs",content:"Channel adapters (e.g. Telegram, Slack) and model providers (e.g. OpenAI, Anthropic) process data according to their policies when you use those integrations. We pass only the minimum data required. We recommend reviewing each providers privacy policy."}];function NAe({id:e,title:t,content:r,defaultOpen:n=!1}){const[s,i]=x.useState(n);return a.jsxs("details",{id:e,open:s,onToggle:o=>i(o.target.open),className:"group border-b border-border last:border-b-0",children:[a.jsxs("summary",{className:"flex cursor-pointer list-none items-center gap-2 py-4 text-left font-medium text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-md px-1 -mx-1",children:[s?a.jsx(kd,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}):a.jsx(rs,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{children:t})]}),a.jsx("div",{className:"prose prose-invert prose-sm max-w-none pb-4 pl-6 text-muted-foreground",children:a.jsx("p",{className:"m-0 leading-relaxed",children:r})})]})}function kAe(){const{data:e,isLoading:t}=bAe(),r=wAe(),{data:n}=jAe("privacy"),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),d=(e==null?void 0:e.telemetry_opt_out)??!1,f=x.useCallback(y=>{l(y),i(!0)},[]),h=x.useCallback(()=>{o!==null&&r.mutate({telemetry_opt_out:o},{onSuccess:()=>l(null)})},[o,r]),p=(n==null?void 0:n.content)??HT.map(y=>`${y.title}

${y.content}`).join(`

`),g=n!=null&&n.content?[{id:"policy",title:"Full policy",content:n.content}]:HT,m=x.useCallback(()=>{const y=new Blob([p],{type:"text/plain;charset=utf-8"}),b=URL.createObjectURL(y),w=document.createElement("a");w.href=b,w.download="privacy-policy.txt",w.click(),URL.revokeObjectURL(b)},[p]),v=x.useCallback(()=>{const y=new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Privacy Policy - Clawgate</title><style>body{font-family:Inter,sans-serif;max-width:720px;margin:2rem auto;padding:0 1rem;line-height:1.6;color:#e2e8f0;} h1{font-size:1.75rem;} h2{font-size:1.25rem;margin-top:1.5rem;} p{white-space:pre-wrap;}</style></head><body><h1>Privacy Policy</h1><p>${p.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}</p></body></html>`],{type:"text/html;charset=utf-8"}),b=URL.createObjectURL(y);window.open(b,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(b),5e3)},[p]);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8 sm:px-6 animate-fade-in-up",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-[28px] font-semibold leading-tight text-foreground",children:"Privacy Policy"}),a.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"How we collect, store, and use your data. Clawgate is local-first; your data stays on your devices unless you use cloud-linked features."})]}),a.jsxs(ee,{className:"mb-8",children:[a.jsxs(ne,{children:[a.jsx(ae,{className:"text-lg",children:"Policy sections"}),a.jsx(ve,{children:"Expand each section for details on data collection, storage, retention, and third-party services."})]}),a.jsx(te,{className:"px-0 sm:px-6",children:a.jsx("div",{className:"divide-y-0",children:g.map((y,b)=>a.jsx(NAe,{id:y.id,title:y.title,content:y.content,defaultOpen:b===0},y.id))})})]}),a.jsxs(ee,{className:"mb-8",children:[a.jsxs(ne,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(ae,{className:"text-lg",children:"Opt-out controls"})]}),a.jsx(ve,{children:"Manage your data collection preferences. Changes are saved to your account and reflected in Settings."})]}),a.jsxs(te,{children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Q,{htmlFor:"telemetry-opt-out",className:"text-sm font-medium text-foreground",children:"Opt out of telemetry"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"When on, we do not send anonymous usage or diagnostic data from your account."})]}),a.jsx(Zr,{id:"telemetry-opt-out",checked:d,onCheckedChange:f,disabled:t,"aria-describedby":"telemetry-opt-out-description"})]}),t&&a.jsx("p",{id:"telemetry-opt-out-description",className:"mt-2 text-xs text-muted-foreground",children:"Loading preferences"})]})]}),a.jsxs(ee,{className:"mb-8",children:[a.jsxs(ne,{children:[a.jsx(ae,{className:"text-lg",children:"Download policy"}),a.jsx(ve,{children:"Save a copy for your records or open in a new tab to print or save as PDF."})]}),a.jsx(te,{children:a.jsxs(M,{variant:"outline",onClick:()=>u(!0),className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(ks,{className:"h-4 w-4","aria-hidden":!0}),"Download Privacy Policy"]})})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx(M,{variant:"outline",asChild:!0,children:a.jsx(me,{to:"/",children:"Back to home"})}),a.jsxs("nav",{className:"flex flex-wrap gap-6",children:[a.jsx(me,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms of Service"}),a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Help & support"})]})]})})]}),a.jsx(_Ae,{open:s,onOpenChange:i,telemetryOptOut:o??d,onConfirm:h,isUpdating:r.isPending}),a.jsx(SAe,{open:c,onOpenChange:u,onDownload:m,onOpenInNewTab:v,title:"Download Privacy Policy",description:"Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."})]})}function CAe(){return a.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 animate-fade-in-up py-8",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Terms of Service"}),a.jsxs(ee,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Terms of Service"})}),a.jsx(te,{className:"prose prose-invert max-w-none text-sm text-muted-foreground",children:a.jsx("p",{children:"Full terms text. Accept/decline controls for cloud features. Document download."})})]}),a.jsx(M,{variant:"outline",asChild:!0,children:a.jsx(me,{to:"/",children:"Back"})})]})}async function EAe(e,t,r){try{const{data:{user:n}}=await q.auth.getUser(),s={error_code:"404",url_attempted:e,user_id:(n==null?void 0:n.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null)};await q.from("error_logs").insert(s)}catch{}}async function OAe(e,t,r,n){try{const{data:{user:s}}=await q.auth.getUser(),i={error_code:"500",url_attempted:e,user_id:(s==null?void 0:s.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null),metadata:n??{}};await q.from("error_logs").insert(i)}catch{}}function KT(){const e=Li(),t=e.pathname+e.search;x.useEffect(()=>{EAe(t,typeof document<"u"&&document.referrer||null,typeof navigator<"u"?navigator.userAgent:null)},[t]);const r=()=>{window.location.reload()};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(me,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-4",children:[a.jsx(me,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(M,{asChild:!0,size:"sm",children:a.jsx(me,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:Z("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-muted/50",children:a.jsx(dI,{className:"h-12 w-12 text-muted-foreground","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"Oops! Page Not Found"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."}),t!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Attempted: ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:t})]})]}),a.jsx(ee,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(te,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(M,{onClick:r,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(Cd,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(M,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/",children:[a.jsx(hI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsx(M,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/dashboard",children:[a.jsx(hS,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsxs(me,{to:"/help",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(Wr,{className:"h-4 w-4"}),"Docs & support"]}),a.jsx("span",{className:"mx-2 text-muted-foreground/60",children:""}),a.jsx(me,{to:"/logs",className:"inline-flex items-center text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Logs & tracing"})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(me,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(me,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]})}async function PAe(e){var i;const{data:{user:t}}=await q.auth.getUser(),r={user_id:(t==null?void 0:t.id)??null,error_type:e.error_type.trim(),description:e.description.trim(),contact_email:((i=e.contact_email)==null?void 0:i.trim())||null,context:e.context??{}},{data:n,error:s}=await q.from("user_reports").insert(r).select("id").single();if(s)throw new Error(s.message);return{id:n.id}}const AAe=Et({description:Pe().min(10,"Please provide at least 10 characters describing what happened").max(2e3,"Description must be 2000 characters or less"),contact_email:Pe().max(255).optional().refine(e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),"Enter a valid email address"),comments:Pe().max(1e3).optional()}),Lw={description:"",contact_email:"",comments:""};function TAe({open:e,onOpenChange:t,onSubmit:r,errorType:n="500",errorContext:s}){const{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=kt({resolver:Ct(AAe),defaultValues:Lw}),d=async h=>{var p,g;await r({error_type:n,description:h.description.trim(),contact_email:((p=h.contact_email)==null?void 0:p.trim())||null,context:{...s,comments:((g=h.comments)==null?void 0:g.trim())||void 0}}),l(Lw),t(!1)},f=h=>{h||l(Lw),t(h)};return a.jsx(Ge,{open:e,onOpenChange:f,children:a.jsxs(qe,{className:"max-w-lg","aria-describedby":"report-issue-form-description",children:[a.jsxs(We,{children:[a.jsx(Ve,{children:"Report an issue"}),a.jsx(He,{id:"report-issue-form-description",children:"Describe what happened so we can investigate. Your report helps us improve reliability."})]}),a.jsxs("form",{onSubmit:o(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"report-description",children:"What happened?"}),a.jsx("textarea",{id:"report-description",rows:4,placeholder:"e.g. I was on the dashboard and clicked Save; the page showed an error.",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("description"),"aria-invalid":!!c.description}),c.description&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.description.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"report-contact",children:"Contact email (optional)"}),a.jsx(ge,{id:"report-contact",type:"email",placeholder:"you@example.com",...i("contact_email"),className:c.contact_email?"border-destructive":"",autoComplete:"email","aria-invalid":!!c.contact_email}),c.contact_email&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.contact_email.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Q,{htmlFor:"report-comments",children:"Additional details (optional)"}),a.jsx("textarea",{id:"report-comments",rows:2,placeholder:"Any other context that might help",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("comments")})]}),a.jsxs(Qe,{children:[a.jsx(M,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:u,children:"Cancel"}),a.jsx(M,{type:"submit",disabled:u,children:u?"Sending":"Send report"})]})]})]})})}function RAe(){const e=Li(),[t,r]=x.useState(!1),n=e.pathname+e.search,s=typeof document<"u"&&document.referrer||null,i=typeof navigator<"u"?navigator.userAgent:null;x.useEffect(()=>{OAe(n,s,i,{path:n,referrer:s??void 0})},[n,s,i]);const o=()=>{window.location.reload()},l=async c=>{await PAe(c),V.success("Report sent",{description:"Thank you. Well use this to improve reliability."})};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(me,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex gap-4",children:[a.jsx(me,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(M,{asChild:!0,size:"sm",children:a.jsx(me,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:Z("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(dc,{className:"h-12 w-12 text-destructive","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"500 Server Error"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"Something went wrong on our side. Weve been notified and are looking into it. You can retry, go back home, or report more details below."}),n!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Page:"," ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:n})]})]}),a.jsx(ee,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(te,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(M,{onClick:o,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(Cd,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(M,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/",children:[a.jsx(hI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsxs(M,{variant:"default",onClick:()=>r(!0),className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Report this issue to support",children:[a.jsx(Cp,{className:"mr-2 h-4 w-4"}),"Report issue"]}),a.jsx(M,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/dashboard",children:[a.jsx(hS,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Logs & security"}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-1 text-sm",children:[a.jsxs(me,{to:"/logs",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(Wr,{className:"h-4 w-4"}),"Logs & tracing"]}),a.jsxs(me,{to:"/security",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(Dn,{className:"h-4 w-4"}),"Security audit"]})]})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(me,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(me,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})}),a.jsx(TAe,{open:t,onOpenChange:r,onSubmit:l,errorType:"500",errorContext:{url:n,referrer:s??void 0}})]})}const $Ae=new Dq({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});function MAe(){return a.jsxs(Lq,{client:$Ae,children:[a.jsx(aq,{children:a.jsx(dH,{children:a.jsx(mG,{children:a.jsxs(Xz,{children:[a.jsx(pt,{path:"/",element:a.jsx(cJ,{})}),a.jsx(pt,{path:"/login",element:a.jsx(vZ,{})}),a.jsx(pt,{path:"/signup",element:a.jsx(xZ,{})}),a.jsx(pt,{path:"/forgot-password",element:a.jsx(SZ,{})}),a.jsx(pt,{path:"/verify-email",element:a.jsx(kZ,{})}),a.jsx(pt,{path:"/download",element:a.jsx(dte,{})}),a.jsx(pt,{path:"/privacy",element:a.jsx(kAe,{})}),a.jsx(pt,{path:"/terms",element:a.jsx(CAe,{})}),a.jsx(pt,{path:"/500",element:a.jsx(RAe,{})}),a.jsxs(pt,{element:a.jsx(rJ,{}),children:[a.jsx(pt,{path:"/dashboard",element:a.jsx(bre,{})}),a.jsx(pt,{path:"/profile",element:a.jsx(fH,{}),children:a.jsx(pt,{index:!0,element:a.jsx(ute,{})})}),a.jsx(pt,{path:"/chat",element:a.jsx(Zre,{})}),a.jsx(pt,{path:"/channels",element:a.jsx(gne,{})}),a.jsx(pt,{path:"/skills",element:a.jsx(vne,{})}),a.jsx(pt,{path:"/skill-editor/:skillId?",element:a.jsx(Tne,{})}),a.jsx(pt,{path:"/nodes",element:a.jsx(ese,{})}),a.jsx(pt,{path:"/cron",element:a.jsx(sse,{})}),a.jsx(pt,{path:"/webhooks",element:a.jsx(jse,{})}),a.jsx(pt,{path:"/model-providers",element:a.jsx(kPe,{})}),a.jsx(pt,{path:"/browser",element:a.jsx(s2e,{})}),a.jsx(pt,{path:"/voice",element:a.jsx(C2e,{})}),a.jsx(pt,{path:"/secrets",element:a.jsx(B2e,{})}),a.jsx(pt,{path:"/settings",element:a.jsx(E2e,{})}),a.jsx(pt,{path:"/security",element:a.jsx(iAe,{})}),a.jsx(pt,{path:"/logs",element:a.jsx(vAe,{})}),a.jsx(pt,{path:"/admin",element:a.jsx(yAe,{})}),a.jsx(pt,{path:"/help",element:a.jsx(xAe,{})})]}),a.jsx(pt,{path:"/404",element:a.jsx(KT,{})}),a.jsx(pt,{path:"*",element:a.jsx(KT,{})})]})})})}),a.jsx(jW,{position:"top-right",richColors:!0,closeButton:!0})]})}const OB=document.getElementById("root");if(!OB)throw new Error("Root element not found");Fw.createRoot(OB).render(a.jsx(P.StrictMode,{children:a.jsx(MAe,{})}));

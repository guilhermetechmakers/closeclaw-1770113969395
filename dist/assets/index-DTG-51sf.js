var Bk=e=>{throw TypeError(e)};var xb=(e,t,r)=>t.has(e)||Bk("Cannot "+r);var F=(e,t,r)=>(xb(e,t,"read from private field"),r?r.call(e):t.get(e)),qe=(e,t,r)=>t.has(e)?Bk("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Se=(e,t,r,n)=>(xb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),st=(e,t,r)=>(xb(e,t,"access private method"),r);var ap=(e,t,r,n)=>({set _(s){Se(e,t,s,r)},get _(){return F(e,t,n)}});function x6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ut(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var DR={exports:{}},Ny={},LR={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m=Symbol.for("react.element"),b6=Symbol.for("react.portal"),w6=Symbol.for("react.fragment"),j6=Symbol.for("react.strict_mode"),_6=Symbol.for("react.profiler"),S6=Symbol.for("react.provider"),N6=Symbol.for("react.context"),k6=Symbol.for("react.forward_ref"),C6=Symbol.for("react.suspense"),E6=Symbol.for("react.memo"),O6=Symbol.for("react.lazy"),qk=Symbol.iterator;function P6(e){return e===null||typeof e!="object"?null:(e=qk&&e[qk]||e["@@iterator"],typeof e=="function"?e:null)}var FR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UR=Object.assign,BR={};function kd(e,t,r){this.props=e,this.context=t,this.refs=BR,this.updater=r||FR}kd.prototype.isReactComponent={};kd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qR(){}qR.prototype=kd.prototype;function S1(e,t,r){this.props=e,this.context=t,this.refs=BR,this.updater=r||FR}var N1=S1.prototype=new qR;N1.constructor=S1;UR(N1,kd.prototype);N1.isPureReactComponent=!0;var zk=Array.isArray,zR=Object.prototype.hasOwnProperty,k1={current:null},WR={key:!0,ref:!0,__self:!0,__source:!0};function VR(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)zR.call(t,n)&&!WR.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:$m,type:e,key:i,ref:o,props:s,_owner:k1.current}}function A6(e,t){return{$$typeof:$m,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function C1(e){return typeof e=="object"&&e!==null&&e.$$typeof===$m}function T6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Wk=/\/+/g;function bb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?T6(""+e.key):t.toString(36)}function ag(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $m:case b6:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+bb(o,0):n,zk(s)?(r="",e!=null&&(r=e.replace(Wk,"$&/")+"/"),ag(s,t,r,"",function(u){return u})):s!=null&&(C1(s)&&(s=A6(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Wk,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",zk(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+bb(i,l);o+=ag(i,t,r,c,s)}else if(c=P6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+bb(i,l++),o+=ag(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function lp(e,t,r){if(e==null)return e;var n=[],s=0;return ag(e,n,"","",function(i){return t.call(r,i,s++)}),n}function R6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jn={current:null},og={transition:null},M6={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:og,ReactCurrentOwner:k1};function KR(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:lp,forEach:function(e,t,r){lp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return lp(e,function(){t++}),t},toArray:function(e){return lp(e,function(t){return t})||[]},only:function(e){if(!C1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ot.Component=kd;ot.Fragment=w6;ot.Profiler=_6;ot.PureComponent=S1;ot.StrictMode=j6;ot.Suspense=C6;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M6;ot.act=KR;ot.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=UR({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=k1.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)zR.call(t,c)&&!WR.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:$m,type:e.type,key:s,ref:i,props:n,_owner:o}};ot.createContext=function(e){return e={$$typeof:N6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:S6,_context:e},e.Consumer=e};ot.createElement=VR;ot.createFactory=function(e){var t=VR.bind(null,e);return t.type=e,t};ot.createRef=function(){return{current:null}};ot.forwardRef=function(e){return{$$typeof:k6,render:e}};ot.isValidElement=C1;ot.lazy=function(e){return{$$typeof:O6,_payload:{_status:-1,_result:e},_init:R6}};ot.memo=function(e,t){return{$$typeof:E6,type:e,compare:t===void 0?null:t}};ot.startTransition=function(e){var t=og.transition;og.transition={};try{e()}finally{og.transition=t}};ot.unstable_act=KR;ot.useCallback=function(e,t){return jn.current.useCallback(e,t)};ot.useContext=function(e){return jn.current.useContext(e)};ot.useDebugValue=function(){};ot.useDeferredValue=function(e){return jn.current.useDeferredValue(e)};ot.useEffect=function(e,t){return jn.current.useEffect(e,t)};ot.useId=function(){return jn.current.useId()};ot.useImperativeHandle=function(e,t,r){return jn.current.useImperativeHandle(e,t,r)};ot.useInsertionEffect=function(e,t){return jn.current.useInsertionEffect(e,t)};ot.useLayoutEffect=function(e,t){return jn.current.useLayoutEffect(e,t)};ot.useMemo=function(e,t){return jn.current.useMemo(e,t)};ot.useReducer=function(e,t,r){return jn.current.useReducer(e,t,r)};ot.useRef=function(e){return jn.current.useRef(e)};ot.useState=function(e){return jn.current.useState(e)};ot.useSyncExternalStore=function(e,t,r){return jn.current.useSyncExternalStore(e,t,r)};ot.useTransition=function(){return jn.current.useTransition()};ot.version="18.3.1";LR.exports=ot;var b=LR.exports;const A=Ut(b),ky=x6({__proto__:null,default:A},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $6=b,I6=Symbol.for("react.element"),D6=Symbol.for("react.fragment"),L6=Object.prototype.hasOwnProperty,F6=$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U6={key:!0,ref:!0,__self:!0,__source:!0};function HR(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)L6.call(t,n)&&!U6.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:I6,type:e,key:i,ref:o,props:s,_owner:F6.current}}Ny.Fragment=D6;Ny.jsx=HR;Ny.jsxs=HR;DR.exports=Ny;var a=DR.exports,s0={},GR={exports:{}},ls={},YR={exports:{}},QR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,M){var $=D.length;D.push(M);e:for(;0<$;){var X=$-1>>>1,G=D[X];if(0<s(G,M))D[X]=M,D[$]=G,$=X;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var M=D[0],$=D.pop();if($!==M){D[0]=$;e:for(var X=0,G=D.length,ce=G>>>1;X<ce;){var pe=2*(X+1)-1,We=D[pe],te=pe+1,se=D[te];if(0>s(We,$))te<G&&0>s(se,We)?(D[X]=se,D[te]=$,X=te):(D[X]=We,D[pe]=$,X=pe);else if(te<G&&0>s(se,$))D[X]=se,D[te]=$,X=te;else break e}}return M}function s(D,M){var $=D.sortIndex-M.sortIndex;return $!==0?$:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=D)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function S(D){if(p=!1,w(D),!g)if(r(c)!==null)g=!0,R(j);else{var M=r(u);M!==null&&z(S,M.startTime-D)}}function j(D,M){g=!1,p&&(p=!1,x(k),k=-1),m=!0;var $=h;try{for(w(M),f=r(c);f!==null&&(!(f.expirationTime>M)||D&&!I());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var G=X(f.expirationTime<=M);M=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),w(M)}else n(c);f=r(c)}if(f!==null)var ce=!0;else{var pe=r(u);pe!==null&&z(S,pe.startTime-M),ce=!1}return ce}finally{f=null,h=$,m=!1}}var _=!1,N=null,k=-1,C=5,T=-1;function I(){return!(e.unstable_now()-T<C)}function E(){if(N!==null){var D=e.unstable_now();T=D;var M=!0;try{M=N(!0,D)}finally{M?U():(_=!1,N=null)}}else _=!1}var U;if(typeof y=="function")U=function(){y(E)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,B=P.port2;P.port1.onmessage=E,U=function(){B.postMessage(null)}}else U=function(){v(E,0)};function R(D){N=D,_||(_=!0,U())}function z(D,M){k=v(function(){D(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,R(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var $=h;h=M;try{return D()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=h;h=D;try{return M()}finally{h=$}},e.unstable_scheduleCallback=function(D,M,$){var X=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,D={id:d++,callback:M,priorityLevel:D,startTime:$,expirationTime:G,sortIndex:-1},$>X?(D.sortIndex=$,t(u,D),r(c)===null&&D===r(u)&&(p?(x(k),k=-1):p=!0,z(S,$-X))):(D.sortIndex=G,t(c,D),g||m||(g=!0,R(j))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var M=h;return function(){var $=h;h=M;try{return D.apply(this,arguments)}finally{h=$}}}})(QR);YR.exports=QR;var B6=YR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q6=b,ss=B6;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XR=new Set,dh={};function pc(e,t){Lu(e,t),Lu(e+"Capture",t)}function Lu(e,t){for(dh[e]=t,e=0;e<t.length;e++)XR.add(t[e])}var _a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i0=Object.prototype.hasOwnProperty,z6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vk={},Kk={};function W6(e){return i0.call(Kk,e)?!0:i0.call(Vk,e)?!1:z6.test(e)?Kk[e]=!0:(Vk[e]=!0,!1)}function V6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function K6(e,t,r,n){if(t===null||typeof t>"u"||V6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _n(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new _n(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new _n(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new _n(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new _n(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new _n(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new _n(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new _n(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new _n(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new _n(e,5,!1,e.toLowerCase(),null,!1,!1)});var E1=/[\-:]([a-z])/g;function O1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(E1,O1);tn[t]=new _n(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(E1,O1);tn[t]=new _n(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(E1,O1);tn[t]=new _n(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new _n(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new _n(e,1,!1,e.toLowerCase(),null,!0,!0)});function P1(e,t,r,n){var s=tn.hasOwnProperty(t)?tn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(K6(t,r,s,n)&&(r=null),n||s===null?W6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $a=q6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cp=Symbol.for("react.element"),Yc=Symbol.for("react.portal"),Qc=Symbol.for("react.fragment"),A1=Symbol.for("react.strict_mode"),a0=Symbol.for("react.profiler"),JR=Symbol.for("react.provider"),ZR=Symbol.for("react.context"),T1=Symbol.for("react.forward_ref"),o0=Symbol.for("react.suspense"),l0=Symbol.for("react.suspense_list"),R1=Symbol.for("react.memo"),so=Symbol.for("react.lazy"),eM=Symbol.for("react.offscreen"),Hk=Symbol.iterator;function sf(e){return e===null||typeof e!="object"?null:(e=Hk&&e[Hk]||e["@@iterator"],typeof e=="function"?e:null)}var fr=Object.assign,wb;function $f(e){if(wb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);wb=t&&t[1]||""}return`
`+wb+e}var jb=!1;function _b(e,t){if(!e||jb)return"";jb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{jb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$f(e):""}function H6(e){switch(e.tag){case 5:return $f(e.type);case 16:return $f("Lazy");case 13:return $f("Suspense");case 19:return $f("SuspenseList");case 0:case 2:case 15:return e=_b(e.type,!1),e;case 11:return e=_b(e.type.render,!1),e;case 1:return e=_b(e.type,!0),e;default:return""}}function c0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qc:return"Fragment";case Yc:return"Portal";case a0:return"Profiler";case A1:return"StrictMode";case o0:return"Suspense";case l0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ZR:return(e.displayName||"Context")+".Consumer";case JR:return(e._context.displayName||"Context")+".Provider";case T1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R1:return t=e.displayName||null,t!==null?t:c0(e.type)||"Memo";case so:t=e._payload,e=e._init;try{return c0(e(t))}catch{}}return null}function G6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c0(t);case 8:return t===A1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Y6(e){var t=tM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function up(e){e._valueTracker||(e._valueTracker=Y6(e))}function rM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=tM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Sg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function u0(e,t){var r=t.checked;return fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Gk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Wo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nM(e,t){t=t.checked,t!=null&&P1(e,"checked",t,!1)}function d0(e,t){nM(e,t);var r=Wo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?f0(e,t.type,r):t.hasOwnProperty("defaultValue")&&f0(e,t.type,Wo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function f0(e,t,r){(t!=="number"||Sg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var If=Array.isArray;function fu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Wo(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function h0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return fr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(de(92));if(If(r)){if(1<r.length)throw Error(de(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Wo(r)}}function sM(e,t){var r=Wo(t.value),n=Wo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Xk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dp,aM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dp=dp||document.createElement("div"),dp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q6=["Webkit","ms","Moz","O"];Object.keys(Hf).forEach(function(e){Q6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hf[t]=Hf[e]})});function oM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Hf.hasOwnProperty(e)&&Hf[e]?(""+t).trim():t+"px"}function lM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=oM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var X6=fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function p0(e,t){if(t){if(X6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function g0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v0=null;function M1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var y0=null,hu=null,mu=null;function Jk(e){if(e=Lm(e)){if(typeof y0!="function")throw Error(de(280));var t=e.stateNode;t&&(t=Ay(t),y0(e.stateNode,e.type,t))}}function cM(e){hu?mu?mu.push(e):mu=[e]:hu=e}function uM(){if(hu){var e=hu,t=mu;if(mu=hu=null,Jk(e),t)for(e=0;e<t.length;e++)Jk(t[e])}}function dM(e,t){return e(t)}function fM(){}var Sb=!1;function hM(e,t,r){if(Sb)return e(t,r);Sb=!0;try{return dM(e,t,r)}finally{Sb=!1,(hu!==null||mu!==null)&&(fM(),uM())}}function hh(e,t){var r=e.stateNode;if(r===null)return null;var n=Ay(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(de(231,t,typeof r));return r}var x0=!1;if(_a)try{var af={};Object.defineProperty(af,"passive",{get:function(){x0=!0}}),window.addEventListener("test",af,af),window.removeEventListener("test",af,af)}catch{x0=!1}function J6(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Gf=!1,Ng=null,kg=!1,b0=null,Z6={onError:function(e){Gf=!0,Ng=e}};function e8(e,t,r,n,s,i,o,l,c){Gf=!1,Ng=null,J6.apply(Z6,arguments)}function t8(e,t,r,n,s,i,o,l,c){if(e8.apply(this,arguments),Gf){if(Gf){var u=Ng;Gf=!1,Ng=null}else throw Error(de(198));kg||(kg=!0,b0=u)}}function gc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zk(e){if(gc(e)!==e)throw Error(de(188))}function r8(e){var t=e.alternate;if(!t){if(t=gc(e),t===null)throw Error(de(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Zk(s),e;if(i===n)return Zk(s),t;i=i.sibling}throw Error(de(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(de(189))}}if(r.alternate!==n)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?e:t}function pM(e){return e=r8(e),e!==null?gM(e):null}function gM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gM(e);if(t!==null)return t;e=e.sibling}return null}var vM=ss.unstable_scheduleCallback,eC=ss.unstable_cancelCallback,n8=ss.unstable_shouldYield,s8=ss.unstable_requestPaint,vr=ss.unstable_now,i8=ss.unstable_getCurrentPriorityLevel,$1=ss.unstable_ImmediatePriority,yM=ss.unstable_UserBlockingPriority,Cg=ss.unstable_NormalPriority,a8=ss.unstable_LowPriority,xM=ss.unstable_IdlePriority,Cy=null,Ri=null;function o8(e){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(Cy,e,void 0,(e.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:u8,l8=Math.log,c8=Math.LN2;function u8(e){return e>>>=0,e===0?32:31-(l8(e)/c8|0)|0}var fp=64,hp=4194304;function Df(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Eg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Df(l):(i&=o,i!==0&&(n=Df(i)))}else o=r&~s,o!==0?n=Df(o):i!==0&&(n=Df(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-oi(t),s=1<<r,n|=e[r],t&=~s;return n}function d8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-oi(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=d8(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function w0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bM(){var e=fp;return fp<<=1,!(fp&4194240)&&(fp=64),e}function Nb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Im(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-oi(t),e[t]=r}function h8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-oi(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function I1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-oi(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var $t=0;function wM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jM,D1,_M,SM,NM,j0=!1,mp=[],Po=null,Ao=null,To=null,mh=new Map,ph=new Map,co=[],m8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tC(e,t){switch(e){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(t.pointerId)}}function of(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Lm(t),t!==null&&D1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function p8(e,t,r,n,s){switch(t){case"focusin":return Po=of(Po,e,t,r,n,s),!0;case"dragenter":return Ao=of(Ao,e,t,r,n,s),!0;case"mouseover":return To=of(To,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return mh.set(i,of(mh.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ph.set(i,of(ph.get(i)||null,e,t,r,n,s)),!0}return!1}function kM(e){var t=_l(e.target);if(t!==null){var r=gc(t);if(r!==null){if(t=r.tag,t===13){if(t=mM(r),t!==null){e.blockedOn=t,NM(e.priority,function(){_M(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);v0=n,r.target.dispatchEvent(n),v0=null}else return t=Lm(r),t!==null&&D1(t),e.blockedOn=r,!1;t.shift()}return!0}function rC(e,t,r){lg(e)&&r.delete(t)}function g8(){j0=!1,Po!==null&&lg(Po)&&(Po=null),Ao!==null&&lg(Ao)&&(Ao=null),To!==null&&lg(To)&&(To=null),mh.forEach(rC),ph.forEach(rC)}function lf(e,t){e.blockedOn===t&&(e.blockedOn=null,j0||(j0=!0,ss.unstable_scheduleCallback(ss.unstable_NormalPriority,g8)))}function gh(e){function t(s){return lf(s,e)}if(0<mp.length){lf(mp[0],e);for(var r=1;r<mp.length;r++){var n=mp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Po!==null&&lf(Po,e),Ao!==null&&lf(Ao,e),To!==null&&lf(To,e),mh.forEach(t),ph.forEach(t),r=0;r<co.length;r++)n=co[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<co.length&&(r=co[0],r.blockedOn===null);)kM(r),r.blockedOn===null&&co.shift()}var pu=$a.ReactCurrentBatchConfig,Og=!0;function v8(e,t,r,n){var s=$t,i=pu.transition;pu.transition=null;try{$t=1,L1(e,t,r,n)}finally{$t=s,pu.transition=i}}function y8(e,t,r,n){var s=$t,i=pu.transition;pu.transition=null;try{$t=4,L1(e,t,r,n)}finally{$t=s,pu.transition=i}}function L1(e,t,r,n){if(Og){var s=_0(e,t,r,n);if(s===null)$b(e,t,n,Pg,r),tC(e,n);else if(p8(s,e,t,r,n))n.stopPropagation();else if(tC(e,n),t&4&&-1<m8.indexOf(e)){for(;s!==null;){var i=Lm(s);if(i!==null&&jM(i),i=_0(e,t,r,n),i===null&&$b(e,t,n,Pg,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else $b(e,t,n,null,r)}}var Pg=null;function _0(e,t,r,n){if(Pg=null,e=M1(n),e=_l(e),e!==null)if(t=gc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pg=e,null}function CM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i8()){case $1:return 1;case yM:return 4;case Cg:case a8:return 16;case xM:return 536870912;default:return 16}default:return 16}}var So=null,F1=null,cg=null;function EM(){if(cg)return cg;var e,t=F1,r=t.length,n,s="value"in So?So.value:So.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return cg=s.slice(e,1<n?1-n:void 0)}function ug(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pp(){return!0}function nC(){return!1}function cs(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pp:nC,this.isPropagationStopped=nC,this}return fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pp)},persist:function(){},isPersistent:pp}),t}var Cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},U1=cs(Cd),Dm=fr({},Cd,{view:0,detail:0}),x8=cs(Dm),kb,Cb,cf,Ey=fr({},Dm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cf&&(cf&&e.type==="mousemove"?(kb=e.screenX-cf.screenX,Cb=e.screenY-cf.screenY):Cb=kb=0,cf=e),kb)},movementY:function(e){return"movementY"in e?e.movementY:Cb}}),sC=cs(Ey),b8=fr({},Ey,{dataTransfer:0}),w8=cs(b8),j8=fr({},Dm,{relatedTarget:0}),Eb=cs(j8),_8=fr({},Cd,{animationName:0,elapsedTime:0,pseudoElement:0}),S8=cs(_8),N8=fr({},Cd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),k8=cs(N8),C8=fr({},Cd,{data:0}),iC=cs(C8),E8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=P8[e])?!!t[e]:!1}function B1(){return A8}var T8=fr({},Dm,{key:function(e){if(e.key){var t=E8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ug(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?O8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B1,charCode:function(e){return e.type==="keypress"?ug(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ug(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R8=cs(T8),M8=fr({},Ey,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aC=cs(M8),$8=fr({},Dm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B1}),I8=cs($8),D8=fr({},Cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),L8=cs(D8),F8=fr({},Ey,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U8=cs(F8),B8=[9,13,27,32],q1=_a&&"CompositionEvent"in window,Yf=null;_a&&"documentMode"in document&&(Yf=document.documentMode);var q8=_a&&"TextEvent"in window&&!Yf,OM=_a&&(!q1||Yf&&8<Yf&&11>=Yf),oC=" ",lC=!1;function PM(e,t){switch(e){case"keyup":return B8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xc=!1;function z8(e,t){switch(e){case"compositionend":return AM(t);case"keypress":return t.which!==32?null:(lC=!0,oC);case"textInput":return e=t.data,e===oC&&lC?null:e;default:return null}}function W8(e,t){if(Xc)return e==="compositionend"||!q1&&PM(e,t)?(e=EM(),cg=F1=So=null,Xc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return OM&&t.locale!=="ko"?null:t.data;default:return null}}var V8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!V8[e.type]:t==="textarea"}function TM(e,t,r,n){cM(n),t=Ag(t,"onChange"),0<t.length&&(r=new U1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Qf=null,vh=null;function K8(e){zM(e,0)}function Oy(e){var t=eu(e);if(rM(t))return e}function H8(e,t){if(e==="change")return t}var RM=!1;if(_a){var Ob;if(_a){var Pb="oninput"in document;if(!Pb){var uC=document.createElement("div");uC.setAttribute("oninput","return;"),Pb=typeof uC.oninput=="function"}Ob=Pb}else Ob=!1;RM=Ob&&(!document.documentMode||9<document.documentMode)}function dC(){Qf&&(Qf.detachEvent("onpropertychange",MM),vh=Qf=null)}function MM(e){if(e.propertyName==="value"&&Oy(vh)){var t=[];TM(t,vh,e,M1(e)),hM(K8,t)}}function G8(e,t,r){e==="focusin"?(dC(),Qf=t,vh=r,Qf.attachEvent("onpropertychange",MM)):e==="focusout"&&dC()}function Y8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oy(vh)}function Q8(e,t){if(e==="click")return Oy(t)}function X8(e,t){if(e==="input"||e==="change")return Oy(t)}function J8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fi=typeof Object.is=="function"?Object.is:J8;function yh(e,t){if(fi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!i0.call(t,s)||!fi(e[s],t[s]))return!1}return!0}function fC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hC(e,t){var r=fC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fC(r)}}function $M(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$M(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function IM(){for(var e=window,t=Sg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Sg(e.document)}return t}function z1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Z8(e){var t=IM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&$M(r.ownerDocument.documentElement,r)){if(n!==null&&z1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=hC(r,i);var o=hC(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eq=_a&&"documentMode"in document&&11>=document.documentMode,Jc=null,S0=null,Xf=null,N0=!1;function mC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;N0||Jc==null||Jc!==Sg(n)||(n=Jc,"selectionStart"in n&&z1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xf&&yh(Xf,n)||(Xf=n,n=Ag(S0,"onSelect"),0<n.length&&(t=new U1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Jc)))}function gp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zc={animationend:gp("Animation","AnimationEnd"),animationiteration:gp("Animation","AnimationIteration"),animationstart:gp("Animation","AnimationStart"),transitionend:gp("Transition","TransitionEnd")},Ab={},DM={};_a&&(DM=document.createElement("div").style,"AnimationEvent"in window||(delete Zc.animationend.animation,delete Zc.animationiteration.animation,delete Zc.animationstart.animation),"TransitionEvent"in window||delete Zc.transitionend.transition);function Py(e){if(Ab[e])return Ab[e];if(!Zc[e])return e;var t=Zc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in DM)return Ab[e]=t[r];return e}var LM=Py("animationend"),FM=Py("animationiteration"),UM=Py("animationstart"),BM=Py("transitionend"),qM=new Map,pC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xo(e,t){qM.set(e,t),pc(t,[e])}for(var Tb=0;Tb<pC.length;Tb++){var Rb=pC[Tb],tq=Rb.toLowerCase(),rq=Rb[0].toUpperCase()+Rb.slice(1);Xo(tq,"on"+rq)}Xo(LM,"onAnimationEnd");Xo(FM,"onAnimationIteration");Xo(UM,"onAnimationStart");Xo("dblclick","onDoubleClick");Xo("focusin","onFocus");Xo("focusout","onBlur");Xo(BM,"onTransitionEnd");Lu("onMouseEnter",["mouseout","mouseover"]);Lu("onMouseLeave",["mouseout","mouseover"]);Lu("onPointerEnter",["pointerout","pointerover"]);Lu("onPointerLeave",["pointerout","pointerover"]);pc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pc("onBeforeInput",["compositionend","keypress","textInput","paste"]);pc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nq=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lf));function gC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,t8(n,t,void 0,e),e.currentTarget=null}function zM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;gC(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;gC(s,l,u),i=c}}}if(kg)throw e=b0,kg=!1,b0=null,e}function Xt(e,t){var r=t[P0];r===void 0&&(r=t[P0]=new Set);var n=e+"__bubble";r.has(n)||(WM(t,e,2,!1),r.add(n))}function Mb(e,t,r){var n=0;t&&(n|=4),WM(r,e,n,t)}var vp="_reactListening"+Math.random().toString(36).slice(2);function xh(e){if(!e[vp]){e[vp]=!0,XR.forEach(function(r){r!=="selectionchange"&&(nq.has(r)||Mb(r,!1,e),Mb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vp]||(t[vp]=!0,Mb("selectionchange",!1,t))}}function WM(e,t,r,n){switch(CM(t)){case 1:var s=v8;break;case 4:s=y8;break;default:s=L1}r=s.bind(null,t,r,e),s=void 0,!x0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function $b(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=_l(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}hM(function(){var u=i,d=M1(r),f=[];e:{var h=qM.get(e);if(h!==void 0){var m=U1,g=e;switch(e){case"keypress":if(ug(r)===0)break e;case"keydown":case"keyup":m=R8;break;case"focusin":g="focus",m=Eb;break;case"focusout":g="blur",m=Eb;break;case"beforeblur":case"afterblur":m=Eb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=w8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=I8;break;case LM:case FM:case UM:m=S8;break;case BM:m=L8;break;case"scroll":m=x8;break;case"wheel":m=U8;break;case"copy":case"cut":case"paste":m=k8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=aC}var p=(t&4)!==0,v=!p&&e==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=hh(y,x),S!=null&&p.push(bh(y,S,w)))),v)break;y=y.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==v0&&(g=r.relatedTarget||r.fromElement)&&(_l(g)||g[Sa]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?_l(g):null,g!==null&&(v=gc(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=sC,S="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=aC,S="onPointerLeave",x="onPointerEnter",y="pointer"),v=m==null?h:eu(m),w=g==null?h:eu(g),h=new p(S,y+"leave",m,r,d),h.target=v,h.relatedTarget=w,S=null,_l(d)===u&&(p=new p(x,y+"enter",g,r,d),p.target=w,p.relatedTarget=v,S=p),v=S,m&&g)t:{for(p=m,x=g,y=0,w=p;w;w=Ec(w))y++;for(w=0,S=x;S;S=Ec(S))w++;for(;0<y-w;)p=Ec(p),y--;for(;0<w-y;)x=Ec(x),w--;for(;y--;){if(p===x||x!==null&&p===x.alternate)break t;p=Ec(p),x=Ec(x)}p=null}else p=null;m!==null&&vC(f,h,m,p,!1),g!==null&&v!==null&&vC(f,v,g,p,!0)}}e:{if(h=u?eu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=H8;else if(cC(h))if(RM)j=X8;else{j=Y8;var _=G8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Q8);if(j&&(j=j(e,u))){TM(f,j,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&f0(h,"number",h.value)}switch(_=u?eu(u):window,e){case"focusin":(cC(_)||_.contentEditable==="true")&&(Jc=_,S0=u,Xf=null);break;case"focusout":Xf=S0=Jc=null;break;case"mousedown":N0=!0;break;case"contextmenu":case"mouseup":case"dragend":N0=!1,mC(f,r,d);break;case"selectionchange":if(eq)break;case"keydown":case"keyup":mC(f,r,d)}var N;if(q1)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Xc?PM(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(OM&&r.locale!=="ko"&&(Xc||k!=="onCompositionStart"?k==="onCompositionEnd"&&Xc&&(N=EM()):(So=d,F1="value"in So?So.value:So.textContent,Xc=!0)),_=Ag(u,k),0<_.length&&(k=new iC(k,e,null,r,d),f.push({event:k,listeners:_}),N?k.data=N:(N=AM(r),N!==null&&(k.data=N)))),(N=q8?z8(e,r):W8(e,r))&&(u=Ag(u,"onBeforeInput"),0<u.length&&(d=new iC("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}zM(f,t)})}function bh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ag(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hh(e,r),i!=null&&n.unshift(bh(e,i,s)),i=hh(e,t),i!=null&&n.push(bh(e,i,s))),e=e.return}return n}function Ec(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vC(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=hh(r,i),c!=null&&o.unshift(bh(r,c,l))):s||(c=hh(r,i),c!=null&&o.push(bh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var sq=/\r\n?/g,iq=/\u0000|\uFFFD/g;function yC(e){return(typeof e=="string"?e:""+e).replace(sq,`
`).replace(iq,"")}function yp(e,t,r){if(t=yC(t),yC(e)!==t&&r)throw Error(de(425))}function Tg(){}var k0=null,C0=null;function E0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var O0=typeof setTimeout=="function"?setTimeout:void 0,aq=typeof clearTimeout=="function"?clearTimeout:void 0,xC=typeof Promise=="function"?Promise:void 0,oq=typeof queueMicrotask=="function"?queueMicrotask:typeof xC<"u"?function(e){return xC.resolve(null).then(e).catch(lq)}:O0;function lq(e){setTimeout(function(){throw e})}function Ib(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),gh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);gh(t)}function Ro(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ed=Math.random().toString(36).slice(2),Ei="__reactFiber$"+Ed,wh="__reactProps$"+Ed,Sa="__reactContainer$"+Ed,P0="__reactEvents$"+Ed,cq="__reactListeners$"+Ed,uq="__reactHandles$"+Ed;function _l(e){var t=e[Ei];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sa]||r[Ei]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bC(e);e!==null;){if(r=e[Ei])return r;e=bC(e)}return t}e=r,r=e.parentNode}return null}function Lm(e){return e=e[Ei]||e[Sa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function eu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function Ay(e){return e[wh]||null}var A0=[],tu=-1;function Jo(e){return{current:e}}function tr(e){0>tu||(e.current=A0[tu],A0[tu]=null,tu--)}function Gt(e,t){tu++,A0[tu]=e.current,e.current=t}var Vo={},hn=Jo(Vo),Dn=Jo(!1),Hl=Vo;function Fu(e,t){var r=e.type.contextTypes;if(!r)return Vo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ln(e){return e=e.childContextTypes,e!=null}function Rg(){tr(Dn),tr(hn)}function wC(e,t,r){if(hn.current!==Vo)throw Error(de(168));Gt(hn,t),Gt(Dn,r)}function VM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(de(108,G6(e)||"Unknown",s));return fr({},r,n)}function Mg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vo,Hl=hn.current,Gt(hn,e),Gt(Dn,Dn.current),!0}function jC(e,t,r){var n=e.stateNode;if(!n)throw Error(de(169));r?(e=VM(e,t,Hl),n.__reactInternalMemoizedMergedChildContext=e,tr(Dn),tr(hn),Gt(hn,e)):tr(Dn),Gt(Dn,r)}var ia=null,Ty=!1,Db=!1;function KM(e){ia===null?ia=[e]:ia.push(e)}function dq(e){Ty=!0,KM(e)}function Zo(){if(!Db&&ia!==null){Db=!0;var e=0,t=$t;try{var r=ia;for($t=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ia=null,Ty=!1}catch(s){throw ia!==null&&(ia=ia.slice(e+1)),vM($1,Zo),s}finally{$t=t,Db=!1}}return null}var ru=[],nu=0,$g=null,Ig=0,ys=[],xs=0,Gl=null,ua=1,da="";function hl(e,t){ru[nu++]=Ig,ru[nu++]=$g,$g=e,Ig=t}function HM(e,t,r){ys[xs++]=ua,ys[xs++]=da,ys[xs++]=Gl,Gl=e;var n=ua;e=da;var s=32-oi(n)-1;n&=~(1<<s),r+=1;var i=32-oi(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ua=1<<32-oi(t)+s|r<<s|n,da=i+e}else ua=1<<i|r<<s|n,da=e}function W1(e){e.return!==null&&(hl(e,1),HM(e,1,0))}function V1(e){for(;e===$g;)$g=ru[--nu],ru[nu]=null,Ig=ru[--nu],ru[nu]=null;for(;e===Gl;)Gl=ys[--xs],ys[xs]=null,da=ys[--xs],ys[xs]=null,ua=ys[--xs],ys[xs]=null}var rs=null,es=null,sr=!1,ti=null;function GM(e,t){var r=ws(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _C(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rs=e,es=Ro(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rs=e,es=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gl!==null?{id:ua,overflow:da}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ws(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,rs=e,es=null,!0):!1;default:return!1}}function T0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function R0(e){if(sr){var t=es;if(t){var r=t;if(!_C(e,t)){if(T0(e))throw Error(de(418));t=Ro(r.nextSibling);var n=rs;t&&_C(e,t)?GM(n,r):(e.flags=e.flags&-4097|2,sr=!1,rs=e)}}else{if(T0(e))throw Error(de(418));e.flags=e.flags&-4097|2,sr=!1,rs=e}}}function SC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rs=e}function xp(e){if(e!==rs)return!1;if(!sr)return SC(e),sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!E0(e.type,e.memoizedProps)),t&&(t=es)){if(T0(e))throw YM(),Error(de(418));for(;t;)GM(e,t),t=Ro(t.nextSibling)}if(SC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){es=Ro(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}es=null}}else es=rs?Ro(e.stateNode.nextSibling):null;return!0}function YM(){for(var e=es;e;)e=Ro(e.nextSibling)}function Uu(){es=rs=null,sr=!1}function K1(e){ti===null?ti=[e]:ti.push(e)}var fq=$a.ReactCurrentBatchConfig;function uf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var n=r.stateNode}if(!n)throw Error(de(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,e))}return e}function bp(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function NC(e){var t=e._init;return t(e._payload)}function QM(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=Do(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,S){return y===null||y.tag!==6?(y=Wb(w,x.mode,S),y.return=x,y):(y=s(y,w),y.return=x,y)}function c(x,y,w,S){var j=w.type;return j===Qc?d(x,y,w.props.children,S,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===so&&NC(j)===y.type)?(S=s(y,w.props),S.ref=uf(x,y,w),S.return=x,S):(S=vg(w.type,w.key,w.props,null,x.mode,S),S.ref=uf(x,y,w),S.return=x,S)}function u(x,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Vb(w,x.mode,S),y.return=x,y):(y=s(y,w.children||[]),y.return=x,y)}function d(x,y,w,S,j){return y===null||y.tag!==7?(y=Wl(w,x.mode,S,j),y.return=x,y):(y=s(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Wb(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case cp:return w=vg(y.type,y.key,y.props,null,x.mode,w),w.ref=uf(x,null,y),w.return=x,w;case Yc:return y=Vb(y,x.mode,w),y.return=x,y;case so:var S=y._init;return f(x,S(y._payload),w)}if(If(y)||sf(y))return y=Wl(y,x.mode,w,null),y.return=x,y;bp(x,y)}return null}function h(x,y,w,S){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(x,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cp:return w.key===j?c(x,y,w,S):null;case Yc:return w.key===j?u(x,y,w,S):null;case so:return j=w._init,h(x,y,j(w._payload),S)}if(If(w)||sf(w))return j!==null?null:d(x,y,w,S,null);bp(x,w)}return null}function m(x,y,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,l(y,x,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case cp:return x=x.get(S.key===null?w:S.key)||null,c(y,x,S,j);case Yc:return x=x.get(S.key===null?w:S.key)||null,u(y,x,S,j);case so:var _=S._init;return m(x,y,w,_(S._payload),j)}if(If(S)||sf(S))return x=x.get(w)||null,d(y,x,S,j,null);bp(y,S)}return null}function g(x,y,w,S){for(var j=null,_=null,N=y,k=y=0,C=null;N!==null&&k<w.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var T=h(x,N,w[k],S);if(T===null){N===null&&(N=C);break}e&&N&&T.alternate===null&&t(x,N),y=i(T,y,k),_===null?j=T:_.sibling=T,_=T,N=C}if(k===w.length)return r(x,N),sr&&hl(x,k),j;if(N===null){for(;k<w.length;k++)N=f(x,w[k],S),N!==null&&(y=i(N,y,k),_===null?j=N:_.sibling=N,_=N);return sr&&hl(x,k),j}for(N=n(x,N);k<w.length;k++)C=m(N,x,k,w[k],S),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),y=i(C,y,k),_===null?j=C:_.sibling=C,_=C);return e&&N.forEach(function(I){return t(x,I)}),sr&&hl(x,k),j}function p(x,y,w,S){var j=sf(w);if(typeof j!="function")throw Error(de(150));if(w=j.call(w),w==null)throw Error(de(151));for(var _=j=null,N=y,k=y=0,C=null,T=w.next();N!==null&&!T.done;k++,T=w.next()){N.index>k?(C=N,N=null):C=N.sibling;var I=h(x,N,T.value,S);if(I===null){N===null&&(N=C);break}e&&N&&I.alternate===null&&t(x,N),y=i(I,y,k),_===null?j=I:_.sibling=I,_=I,N=C}if(T.done)return r(x,N),sr&&hl(x,k),j;if(N===null){for(;!T.done;k++,T=w.next())T=f(x,T.value,S),T!==null&&(y=i(T,y,k),_===null?j=T:_.sibling=T,_=T);return sr&&hl(x,k),j}for(N=n(x,N);!T.done;k++,T=w.next())T=m(N,x,k,T.value,S),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?k:T.key),y=i(T,y,k),_===null?j=T:_.sibling=T,_=T);return e&&N.forEach(function(E){return t(x,E)}),sr&&hl(x,k),j}function v(x,y,w,S){if(typeof w=="object"&&w!==null&&w.type===Qc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case cp:e:{for(var j=w.key,_=y;_!==null;){if(_.key===j){if(j=w.type,j===Qc){if(_.tag===7){r(x,_.sibling),y=s(_,w.props.children),y.return=x,x=y;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===so&&NC(j)===_.type){r(x,_.sibling),y=s(_,w.props),y.ref=uf(x,_,w),y.return=x,x=y;break e}r(x,_);break}else t(x,_);_=_.sibling}w.type===Qc?(y=Wl(w.props.children,x.mode,S,w.key),y.return=x,x=y):(S=vg(w.type,w.key,w.props,null,x.mode,S),S.ref=uf(x,y,w),S.return=x,x=S)}return o(x);case Yc:e:{for(_=w.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=s(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=Vb(w,x.mode,S),y.return=x,x=y}return o(x);case so:return _=w._init,v(x,y,_(w._payload),S)}if(If(w))return g(x,y,w,S);if(sf(w))return p(x,y,w,S);bp(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=s(y,w),y.return=x,x=y):(r(x,y),y=Wb(w,x.mode,S),y.return=x,x=y),o(x)):r(x,y)}return v}var Bu=QM(!0),XM=QM(!1),Dg=Jo(null),Lg=null,su=null,H1=null;function G1(){H1=su=Lg=null}function Y1(e){var t=Dg.current;tr(Dg),e._currentValue=t}function M0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function gu(e,t){Lg=e,H1=su=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rn=!0),e.firstContext=null)}function Es(e){var t=e._currentValue;if(H1!==e)if(e={context:e,memoizedValue:t,next:null},su===null){if(Lg===null)throw Error(de(308));su=e,Lg.dependencies={lanes:0,firstContext:e}}else su=su.next=e;return t}var Sl=null;function Q1(e){Sl===null?Sl=[e]:Sl.push(e)}function JM(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Q1(t)):(r.next=s.next,s.next=r),t.interleaved=r,Na(e,n)}function Na(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var io=!1;function X1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ga(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,bt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Na(e,r)}return s=n.interleaved,s===null?(t.next=t,Q1(n)):(t.next=s.next,s.next=t),n.interleaved=t,Na(e,r)}function dg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,I1(e,r)}}function kC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fg(e,t,r,n){var s=e.updateQueue;io=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=fr({},f,h);break e;case 2:io=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ql|=o,e.lanes=o,e.memoizedState=f}}function CC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(de(191,s));s.call(n)}}}var Fm={},Mi=Jo(Fm),jh=Jo(Fm),_h=Jo(Fm);function Nl(e){if(e===Fm)throw Error(de(174));return e}function J1(e,t){switch(Gt(_h,t),Gt(jh,e),Gt(Mi,Fm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:m0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=m0(t,e)}tr(Mi),Gt(Mi,t)}function qu(){tr(Mi),tr(jh),tr(_h)}function e$(e){Nl(_h.current);var t=Nl(Mi.current),r=m0(t,e.type);t!==r&&(Gt(jh,e),Gt(Mi,r))}function Z1(e){jh.current===e&&(tr(Mi),tr(jh))}var lr=Jo(0);function Ug(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lb=[];function eS(){for(var e=0;e<Lb.length;e++)Lb[e]._workInProgressVersionPrimary=null;Lb.length=0}var fg=$a.ReactCurrentDispatcher,Fb=$a.ReactCurrentBatchConfig,Yl=0,ur=null,Tr=null,qr=null,Bg=!1,Jf=!1,Sh=0,hq=0;function nn(){throw Error(de(321))}function tS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fi(e[r],t[r]))return!1;return!0}function rS(e,t,r,n,s,i){if(Yl=i,ur=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fg.current=e===null||e.memoizedState===null?vq:yq,e=r(n,s),Jf){i=0;do{if(Jf=!1,Sh=0,25<=i)throw Error(de(301));i+=1,qr=Tr=null,t.updateQueue=null,fg.current=xq,e=r(n,s)}while(Jf)}if(fg.current=qg,t=Tr!==null&&Tr.next!==null,Yl=0,qr=Tr=ur=null,Bg=!1,t)throw Error(de(300));return e}function nS(){var e=Sh!==0;return Sh=0,e}function _i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?ur.memoizedState=qr=e:qr=qr.next=e,qr}function Os(){if(Tr===null){var e=ur.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=qr===null?ur.memoizedState:qr.next;if(t!==null)qr=t,Tr=e;else{if(e===null)throw Error(de(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},qr===null?ur.memoizedState=qr=e:qr=qr.next=e}return qr}function Nh(e,t){return typeof t=="function"?t(e):t}function Ub(e){var t=Os(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var n=Tr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Yl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,ur.lanes|=d,Ql|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,fi(n,t.memoizedState)||(Rn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ur.lanes|=i,Ql|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Bb(e){var t=Os(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);fi(i,t.memoizedState)||(Rn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function t$(){}function r$(e,t){var r=ur,n=Os(),s=t(),i=!fi(n.memoizedState,s);if(i&&(n.memoizedState=s,Rn=!0),n=n.queue,sS(i$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||qr!==null&&qr.memoizedState.tag&1){if(r.flags|=2048,kh(9,s$.bind(null,r,n,s,t),void 0,null),Wr===null)throw Error(de(349));Yl&30||n$(r,t,s)}return s}function n$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ur.updateQueue,t===null?(t={lastEffect:null,stores:null},ur.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function s$(e,t,r,n){t.value=r,t.getSnapshot=n,a$(t)&&o$(e)}function i$(e,t,r){return r(function(){a$(t)&&o$(e)})}function a$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fi(e,r)}catch{return!0}}function o$(e){var t=Na(e,1);t!==null&&li(t,e,1,-1)}function EC(e){var t=_i();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nh,lastRenderedState:e},t.queue=e,e=e.dispatch=gq.bind(null,ur,e),[t.memoizedState,e]}function kh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ur.updateQueue,t===null?(t={lastEffect:null,stores:null},ur.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function l$(){return Os().memoizedState}function hg(e,t,r,n){var s=_i();ur.flags|=e,s.memoizedState=kh(1|t,r,void 0,n===void 0?null:n)}function Ry(e,t,r,n){var s=Os();n=n===void 0?null:n;var i=void 0;if(Tr!==null){var o=Tr.memoizedState;if(i=o.destroy,n!==null&&tS(n,o.deps)){s.memoizedState=kh(t,r,i,n);return}}ur.flags|=e,s.memoizedState=kh(1|t,r,i,n)}function OC(e,t){return hg(8390656,8,e,t)}function sS(e,t){return Ry(2048,8,e,t)}function c$(e,t){return Ry(4,2,e,t)}function u$(e,t){return Ry(4,4,e,t)}function d$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function f$(e,t,r){return r=r!=null?r.concat([e]):null,Ry(4,4,d$.bind(null,t,e),r)}function iS(){}function h$(e,t){var r=Os();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function m$(e,t){var r=Os();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function p$(e,t,r){return Yl&21?(fi(r,t)||(r=bM(),ur.lanes|=r,Ql|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rn=!0),e.memoizedState=r)}function mq(e,t){var r=$t;$t=r!==0&&4>r?r:4,e(!0);var n=Fb.transition;Fb.transition={};try{e(!1),t()}finally{$t=r,Fb.transition=n}}function g$(){return Os().memoizedState}function pq(e,t,r){var n=Io(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},v$(e))y$(t,r);else if(r=JM(e,t,r,n),r!==null){var s=xn();li(r,e,n,s),x$(r,t,n)}}function gq(e,t,r){var n=Io(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(v$(e))y$(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,fi(l,o)){var c=t.interleaved;c===null?(s.next=s,Q1(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=JM(e,t,s,n),r!==null&&(s=xn(),li(r,e,n,s),x$(r,t,n))}}function v$(e){var t=e.alternate;return e===ur||t!==null&&t===ur}function y$(e,t){Jf=Bg=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function x$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,I1(e,r)}}var qg={readContext:Es,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},vq={readContext:Es,useCallback:function(e,t){return _i().memoizedState=[e,t===void 0?null:t],e},useContext:Es,useEffect:OC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,hg(4194308,4,d$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hg(4194308,4,e,t)},useInsertionEffect:function(e,t){return hg(4,2,e,t)},useMemo:function(e,t){var r=_i();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=_i();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=pq.bind(null,ur,e),[n.memoizedState,e]},useRef:function(e){var t=_i();return e={current:e},t.memoizedState=e},useState:EC,useDebugValue:iS,useDeferredValue:function(e){return _i().memoizedState=e},useTransition:function(){var e=EC(!1),t=e[0];return e=mq.bind(null,e[1]),_i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ur,s=_i();if(sr){if(r===void 0)throw Error(de(407));r=r()}else{if(r=t(),Wr===null)throw Error(de(349));Yl&30||n$(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,OC(i$.bind(null,n,i,e),[e]),n.flags|=2048,kh(9,s$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=_i(),t=Wr.identifierPrefix;if(sr){var r=da,n=ua;r=(n&~(1<<32-oi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Sh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=hq++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yq={readContext:Es,useCallback:h$,useContext:Es,useEffect:sS,useImperativeHandle:f$,useInsertionEffect:c$,useLayoutEffect:u$,useMemo:m$,useReducer:Ub,useRef:l$,useState:function(){return Ub(Nh)},useDebugValue:iS,useDeferredValue:function(e){var t=Os();return p$(t,Tr.memoizedState,e)},useTransition:function(){var e=Ub(Nh)[0],t=Os().memoizedState;return[e,t]},useMutableSource:t$,useSyncExternalStore:r$,useId:g$,unstable_isNewReconciler:!1},xq={readContext:Es,useCallback:h$,useContext:Es,useEffect:sS,useImperativeHandle:f$,useInsertionEffect:c$,useLayoutEffect:u$,useMemo:m$,useReducer:Bb,useRef:l$,useState:function(){return Bb(Nh)},useDebugValue:iS,useDeferredValue:function(e){var t=Os();return Tr===null?t.memoizedState=e:p$(t,Tr.memoizedState,e)},useTransition:function(){var e=Bb(Nh)[0],t=Os().memoizedState;return[e,t]},useMutableSource:t$,useSyncExternalStore:r$,useId:g$,unstable_isNewReconciler:!1};function Gs(e,t){if(e&&e.defaultProps){t=fr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var My={isMounted:function(e){return(e=e._reactInternals)?gc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xn(),s=Io(e),i=ga(n,s);i.payload=t,r!=null&&(i.callback=r),t=Mo(e,i,s),t!==null&&(li(t,e,s,n),dg(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xn(),s=Io(e),i=ga(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Mo(e,i,s),t!==null&&(li(t,e,s,n),dg(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xn(),n=Io(e),s=ga(r,n);s.tag=2,t!=null&&(s.callback=t),t=Mo(e,s,n),t!==null&&(li(t,e,n,r),dg(t,e,n))}};function PC(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!yh(r,n)||!yh(s,i):!0}function b$(e,t,r){var n=!1,s=Vo,i=t.contextType;return typeof i=="object"&&i!==null?i=Es(i):(s=Ln(t)?Hl:hn.current,n=t.contextTypes,i=(n=n!=null)?Fu(e,s):Vo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=My,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function AC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&My.enqueueReplaceState(t,t.state,null)}function I0(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},X1(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Es(i):(i=Ln(t)?Hl:hn.current,s.context=Fu(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&($0(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&My.enqueueReplaceState(s,s.state,null),Fg(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function zu(e,t){try{var r="",n=t;do r+=H6(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function qb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function D0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bq=typeof WeakMap=="function"?WeakMap:Map;function w$(e,t,r){r=ga(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wg||(Wg=!0,H0=n),D0(e,t)},r}function j$(e,t,r){r=ga(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){D0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){D0(e,t),typeof n!="function"&&($o===null?$o=new Set([this]):$o.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function TC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new bq;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Mq.bind(null,e,t,r),t.then(e,e))}function RC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function MC(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ga(-1,1),t.tag=2,Mo(r,t,1))),r.lanes|=1),e)}var wq=$a.ReactCurrentOwner,Rn=!1;function gn(e,t,r,n){t.child=e===null?XM(t,null,r,n):Bu(t,e.child,r,n)}function $C(e,t,r,n,s){r=r.render;var i=t.ref;return gu(t,s),n=rS(e,t,r,n,i,s),r=nS(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ka(e,t,s)):(sr&&r&&W1(t),t.flags|=1,gn(e,t,n,s),t.child)}function IC(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!hS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,_$(e,t,i,n,s)):(e=vg(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:yh,r(o,n)&&e.ref===t.ref)return ka(e,t,s)}return t.flags|=1,e=Do(i,n),e.ref=t.ref,e.return=t,t.child=e}function _$(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(yh(i,n)&&e.ref===t.ref)if(Rn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Rn=!0);else return t.lanes=e.lanes,ka(e,t,s)}return L0(e,t,r,n,s)}function S$(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(au,Hn),Hn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gt(au,Hn),Hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Gt(au,Hn),Hn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Gt(au,Hn),Hn|=n;return gn(e,t,s,r),t.child}function N$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function L0(e,t,r,n,s){var i=Ln(r)?Hl:hn.current;return i=Fu(t,i),gu(t,s),r=rS(e,t,r,n,i,s),n=nS(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ka(e,t,s)):(sr&&n&&W1(t),t.flags|=1,gn(e,t,r,s),t.child)}function DC(e,t,r,n,s){if(Ln(r)){var i=!0;Mg(t)}else i=!1;if(gu(t,s),t.stateNode===null)mg(e,t),b$(t,r,n),I0(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Es(u):(u=Ln(r)?Hl:hn.current,u=Fu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&AC(t,o,n,u),io=!1;var h=t.memoizedState;o.state=h,Fg(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Dn.current||io?(typeof d=="function"&&($0(t,r,d,n),c=t.memoizedState),(l=io||PC(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ZM(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Gs(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Es(c):(c=Ln(r)?Hl:hn.current,c=Fu(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&AC(t,o,n,c),io=!1,h=t.memoizedState,o.state=h,Fg(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||Dn.current||io?(typeof m=="function"&&($0(t,r,m,n),g=t.memoizedState),(u=io||PC(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return F0(e,t,r,n,i,s)}function F0(e,t,r,n,s,i){N$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&jC(t,r,!1),ka(e,t,i);n=t.stateNode,wq.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Bu(t,e.child,null,i),t.child=Bu(t,null,l,i)):gn(e,t,l,i),t.memoizedState=n.state,s&&jC(t,r,!0),t.child}function k$(e){var t=e.stateNode;t.pendingContext?wC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wC(e,t.context,!1),J1(e,t.containerInfo)}function LC(e,t,r,n,s){return Uu(),K1(s),t.flags|=256,gn(e,t,r,n),t.child}var U0={dehydrated:null,treeContext:null,retryLane:0};function B0(e){return{baseLanes:e,cachePool:null,transitions:null}}function C$(e,t,r){var n=t.pendingProps,s=lr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Gt(lr,s&1),e===null)return R0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Dy(o,n,0,null),e=Wl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=B0(r),t.memoizedState=U0,e):aS(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return jq(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Do(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Do(l,i):(i=Wl(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?B0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=U0,n}return i=e.child,e=i.sibling,n=Do(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function aS(e,t){return t=Dy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wp(e,t,r,n){return n!==null&&K1(n),Bu(t,e.child,null,r),e=aS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jq(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=qb(Error(de(422))),wp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Dy({mode:"visible",children:n.children},s,0,null),i=Wl(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Bu(t,e.child,null,o),t.child.memoizedState=B0(o),t.memoizedState=U0,i);if(!(t.mode&1))return wp(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(de(419)),n=qb(i,n,void 0),wp(e,t,o,n)}if(l=(o&e.childLanes)!==0,Rn||l){if(n=Wr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Na(e,s),li(n,e,s,-1))}return fS(),n=qb(Error(de(421))),wp(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=$q.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,es=Ro(s.nextSibling),rs=t,sr=!0,ti=null,e!==null&&(ys[xs++]=ua,ys[xs++]=da,ys[xs++]=Gl,ua=e.id,da=e.overflow,Gl=t),t=aS(t,n.children),t.flags|=4096,t)}function FC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),M0(e.return,t,r)}function zb(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function E$(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(gn(e,t,n.children,r),n=lr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&FC(e,r,t);else if(e.tag===19)FC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Gt(lr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ug(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),zb(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ug(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}zb(t,!0,r,null,i);break;case"together":zb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ka(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ql|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,r=Do(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Do(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _q(e,t,r){switch(t.tag){case 3:k$(t),Uu();break;case 5:e$(t);break;case 1:Ln(t.type)&&Mg(t);break;case 4:J1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Gt(Dg,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Gt(lr,lr.current&1),t.flags|=128,null):r&t.child.childLanes?C$(e,t,r):(Gt(lr,lr.current&1),e=ka(e,t,r),e!==null?e.sibling:null);Gt(lr,lr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return E$(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Gt(lr,lr.current),n)break;return null;case 22:case 23:return t.lanes=0,S$(e,t,r)}return ka(e,t,r)}var O$,q0,P$,A$;O$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};q0=function(){};P$=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Nl(Mi.current);var i=null;switch(r){case"input":s=u0(e,s),n=u0(e,n),i=[];break;case"select":s=fr({},s,{value:void 0}),n=fr({},n,{value:void 0}),i=[];break;case"textarea":s=h0(e,s),n=h0(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Tg)}p0(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};A$=function(e,t,r,n){r!==n&&(t.flags|=4)};function df(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Sq(e,t,r){var n=t.pendingProps;switch(V1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return Ln(t.type)&&Rg(),sn(t),null;case 3:return n=t.stateNode,qu(),tr(Dn),tr(hn),eS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ti!==null&&(Q0(ti),ti=null))),q0(e,t),sn(t),null;case 5:Z1(t);var s=Nl(_h.current);if(r=t.type,e!==null&&t.stateNode!=null)P$(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(de(166));return sn(t),null}if(e=Nl(Mi.current),xp(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ei]=t,n[wh]=i,e=(t.mode&1)!==0,r){case"dialog":Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(s=0;s<Lf.length;s++)Xt(Lf[s],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"input":Gk(n,i),Xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Xt("invalid",n);break;case"textarea":Qk(n,i),Xt("invalid",n)}p0(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&yp(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&yp(n.textContent,l,e),s=["children",""+l]):dh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Xt("scroll",n)}switch(r){case"input":up(n),Yk(n,i,!0);break;case"textarea":up(n),Xk(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Tg)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ei]=t,e[wh]=n,O$(e,t,!1,!1),t.stateNode=e;e:{switch(o=g0(r,n),r){case"dialog":Xt("cancel",e),Xt("close",e),s=n;break;case"iframe":case"object":case"embed":Xt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Lf.length;s++)Xt(Lf[s],e);s=n;break;case"source":Xt("error",e),s=n;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),s=n;break;case"details":Xt("toggle",e),s=n;break;case"input":Gk(e,n),s=u0(e,n),Xt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=fr({},n,{value:void 0}),Xt("invalid",e);break;case"textarea":Qk(e,n),s=h0(e,n),Xt("invalid",e);break;default:s=n}p0(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?lM(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&aM(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&fh(e,c):typeof c=="number"&&fh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Xt("scroll",e):c!=null&&P1(e,i,c,o))}switch(r){case"input":up(e),Yk(e,n,!1);break;case"textarea":up(e),Xk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Wo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?fu(e,!!n.multiple,i,!1):n.defaultValue!=null&&fu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Tg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(e&&t.stateNode!=null)A$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(de(166));if(r=Nl(_h.current),Nl(Mi.current),xp(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ei]=t,(i=n.nodeValue!==r)&&(e=rs,e!==null))switch(e.tag){case 3:yp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yp(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ei]=t,t.stateNode=n}return sn(t),null;case 13:if(tr(lr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sr&&es!==null&&t.mode&1&&!(t.flags&128))YM(),Uu(),t.flags|=98560,i=!1;else if(i=xp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(de(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));i[Ei]=t}else Uu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),i=!1}else ti!==null&&(Q0(ti),ti=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||lr.current&1?Ir===0&&(Ir=3):fS())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return qu(),q0(e,t),e===null&&xh(t.stateNode.containerInfo),sn(t),null;case 10:return Y1(t.type._context),sn(t),null;case 17:return Ln(t.type)&&Rg(),sn(t),null;case 19:if(tr(lr),i=t.memoizedState,i===null)return sn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)df(i,!1);else{if(Ir!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ug(e),o!==null){for(t.flags|=128,df(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Gt(lr,lr.current&1|2),t.child}e=e.sibling}i.tail!==null&&vr()>Wu&&(t.flags|=128,n=!0,df(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ug(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),df(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!sr)return sn(t),null}else 2*vr()-i.renderingStartTime>Wu&&r!==1073741824&&(t.flags|=128,n=!0,df(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=vr(),t.sibling=null,r=lr.current,Gt(lr,n?r&1|2:r&1),t):(sn(t),null);case 22:case 23:return dS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Hn&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function Nq(e,t){switch(V1(t),t.tag){case 1:return Ln(t.type)&&Rg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qu(),tr(Dn),tr(hn),eS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Z1(t),null;case 13:if(tr(lr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));Uu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tr(lr),null;case 4:return qu(),null;case 10:return Y1(t.type._context),null;case 22:case 23:return dS(),null;case 24:return null;default:return null}}var jp=!1,ln=!1,kq=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function iu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pr(e,t,n)}else r.current=null}function z0(e,t,r){try{r()}catch(n){pr(e,t,n)}}var UC=!1;function Cq(e,t){if(k0=Og,e=IM(),z1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(C0={focusedElem:e,selectionRange:r},Og=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:Gs(t.type,p),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(S){pr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return g=UC,UC=!1,g}function Zf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&z0(t,r,i)}s=s.next}while(s!==n)}}function $y(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function W0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function T$(e){var t=e.alternate;t!==null&&(e.alternate=null,T$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ei],delete t[wh],delete t[P0],delete t[cq],delete t[uq])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function R$(e){return e.tag===5||e.tag===3||e.tag===4}function BC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function V0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Tg));else if(n!==4&&(e=e.child,e!==null))for(V0(e,t,r),e=e.sibling;e!==null;)V0(e,t,r),e=e.sibling}function K0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(K0(e,t,r),e=e.sibling;e!==null;)K0(e,t,r),e=e.sibling}var Qr=null,Js=!1;function Xa(e,t,r){for(r=r.child;r!==null;)M$(e,t,r),r=r.sibling}function M$(e,t,r){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(Cy,r)}catch{}switch(r.tag){case 5:ln||iu(r,t);case 6:var n=Qr,s=Js;Qr=null,Xa(e,t,r),Qr=n,Js=s,Qr!==null&&(Js?(e=Qr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qr.removeChild(r.stateNode));break;case 18:Qr!==null&&(Js?(e=Qr,r=r.stateNode,e.nodeType===8?Ib(e.parentNode,r):e.nodeType===1&&Ib(e,r),gh(e)):Ib(Qr,r.stateNode));break;case 4:n=Qr,s=Js,Qr=r.stateNode.containerInfo,Js=!0,Xa(e,t,r),Qr=n,Js=s;break;case 0:case 11:case 14:case 15:if(!ln&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&z0(r,t,o),s=s.next}while(s!==n)}Xa(e,t,r);break;case 1:if(!ln&&(iu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){pr(r,t,l)}Xa(e,t,r);break;case 21:Xa(e,t,r);break;case 22:r.mode&1?(ln=(n=ln)||r.memoizedState!==null,Xa(e,t,r),ln=n):Xa(e,t,r);break;default:Xa(e,t,r)}}function qC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kq),t.forEach(function(n){var s=Iq.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Bs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Qr=l.stateNode,Js=!1;break e;case 3:Qr=l.stateNode.containerInfo,Js=!0;break e;case 4:Qr=l.stateNode.containerInfo,Js=!0;break e}l=l.return}if(Qr===null)throw Error(de(160));M$(i,o,s),Qr=null,Js=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){pr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$$(t,e),t=t.sibling}function $$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bs(t,e),ji(e),n&4){try{Zf(3,e,e.return),$y(3,e)}catch(p){pr(e,e.return,p)}try{Zf(5,e,e.return)}catch(p){pr(e,e.return,p)}}break;case 1:Bs(t,e),ji(e),n&512&&r!==null&&iu(r,r.return);break;case 5:if(Bs(t,e),ji(e),n&512&&r!==null&&iu(r,r.return),e.flags&32){var s=e.stateNode;try{fh(s,"")}catch(p){pr(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&nM(s,i),g0(l,o);var u=g0(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?lM(s,f):d==="dangerouslySetInnerHTML"?aM(s,f):d==="children"?fh(s,f):P1(s,d,f,u)}switch(l){case"input":d0(s,i);break;case"textarea":sM(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?fu(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?fu(s,!!i.multiple,i.defaultValue,!0):fu(s,!!i.multiple,i.multiple?[]:"",!1))}s[wh]=i}catch(p){pr(e,e.return,p)}}break;case 6:if(Bs(t,e),ji(e),n&4){if(e.stateNode===null)throw Error(de(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){pr(e,e.return,p)}}break;case 3:if(Bs(t,e),ji(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gh(t.containerInfo)}catch(p){pr(e,e.return,p)}break;case 4:Bs(t,e),ji(e);break;case 13:Bs(t,e),ji(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(cS=vr())),n&4&&qC(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ln=(u=ln)||d,Bs(t,e),ln=u):Bs(t,e),ji(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Oe=e,d=e.child;d!==null;){for(f=Oe=d;Oe!==null;){switch(h=Oe,m=h.child,h.tag){case 0:case 11:case 14:case 15:Zf(4,h,h.return);break;case 1:iu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){pr(n,r,p)}}break;case 5:iu(h,h.return);break;case 22:if(h.memoizedState!==null){WC(f);continue}}m!==null?(m.return=h,Oe=m):WC(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=oM("display",o))}catch(p){pr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){pr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bs(t,e),ji(e),n&4&&qC(e);break;case 21:break;default:Bs(t,e),ji(e)}}function ji(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(R$(r)){var n=r;break e}r=r.return}throw Error(de(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(fh(s,""),n.flags&=-33);var i=BC(e);K0(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=BC(e);V0(e,l,o);break;default:throw Error(de(161))}}catch(c){pr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Eq(e,t,r){Oe=e,I$(e)}function I$(e,t,r){for(var n=(e.mode&1)!==0;Oe!==null;){var s=Oe,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||jp;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ln;l=jp;var u=ln;if(jp=o,(ln=c)&&!u)for(Oe=s;Oe!==null;)o=Oe,c=o.child,o.tag===22&&o.memoizedState!==null?VC(s):c!==null?(c.return=o,Oe=c):VC(s);for(;i!==null;)Oe=i,I$(i),i=i.sibling;Oe=s,jp=l,ln=u}zC(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Oe=i):zC(e)}}function zC(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ln||$y(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ln)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Gs(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&CC(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}CC(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&gh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}ln||t.flags&512&&W0(t)}catch(h){pr(t,t.return,h)}}if(t===e){Oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function WC(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function VC(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$y(4,t)}catch(c){pr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){pr(t,s,c)}}var i=t.return;try{W0(t)}catch(c){pr(t,i,c)}break;case 5:var o=t.return;try{W0(t)}catch(c){pr(t,o,c)}}}catch(c){pr(t,t.return,c)}if(t===e){Oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Oe=l;break}Oe=t.return}}var Oq=Math.ceil,zg=$a.ReactCurrentDispatcher,oS=$a.ReactCurrentOwner,Ss=$a.ReactCurrentBatchConfig,bt=0,Wr=null,Sr=null,Zr=0,Hn=0,au=Jo(0),Ir=0,Ch=null,Ql=0,Iy=0,lS=0,eh=null,Tn=null,cS=0,Wu=1/0,na=null,Wg=!1,H0=null,$o=null,_p=!1,No=null,Vg=0,th=0,G0=null,pg=-1,gg=0;function xn(){return bt&6?vr():pg!==-1?pg:pg=vr()}function Io(e){return e.mode&1?bt&2&&Zr!==0?Zr&-Zr:fq.transition!==null?(gg===0&&(gg=bM()),gg):(e=$t,e!==0||(e=window.event,e=e===void 0?16:CM(e.type)),e):1}function li(e,t,r,n){if(50<th)throw th=0,G0=null,Error(de(185));Im(e,r,n),(!(bt&2)||e!==Wr)&&(e===Wr&&(!(bt&2)&&(Iy|=r),Ir===4&&uo(e,Zr)),Fn(e,n),r===1&&bt===0&&!(t.mode&1)&&(Wu=vr()+500,Ty&&Zo()))}function Fn(e,t){var r=e.callbackNode;f8(e,t);var n=Eg(e,e===Wr?Zr:0);if(n===0)r!==null&&eC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&eC(r),t===1)e.tag===0?dq(KC.bind(null,e)):KM(KC.bind(null,e)),oq(function(){!(bt&6)&&Zo()}),r=null;else{switch(wM(n)){case 1:r=$1;break;case 4:r=yM;break;case 16:r=Cg;break;case 536870912:r=xM;break;default:r=Cg}r=W$(r,D$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function D$(e,t){if(pg=-1,gg=0,bt&6)throw Error(de(327));var r=e.callbackNode;if(vu()&&e.callbackNode!==r)return null;var n=Eg(e,e===Wr?Zr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Kg(e,n);else{t=n;var s=bt;bt|=2;var i=F$();(Wr!==e||Zr!==t)&&(na=null,Wu=vr()+500,zl(e,t));do try{Tq();break}catch(l){L$(e,l)}while(!0);G1(),zg.current=i,bt=s,Sr!==null?t=0:(Wr=null,Zr=0,t=Ir)}if(t!==0){if(t===2&&(s=w0(e),s!==0&&(n=s,t=Y0(e,s))),t===1)throw r=Ch,zl(e,0),uo(e,n),Fn(e,vr()),r;if(t===6)uo(e,n);else{if(s=e.current.alternate,!(n&30)&&!Pq(s)&&(t=Kg(e,n),t===2&&(i=w0(e),i!==0&&(n=i,t=Y0(e,i))),t===1))throw r=Ch,zl(e,0),uo(e,n),Fn(e,vr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(de(345));case 2:ml(e,Tn,na);break;case 3:if(uo(e,n),(n&130023424)===n&&(t=cS+500-vr(),10<t)){if(Eg(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){xn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=O0(ml.bind(null,e,Tn,na),t);break}ml(e,Tn,na);break;case 4:if(uo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-oi(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=vr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Oq(n/1960))-n,10<n){e.timeoutHandle=O0(ml.bind(null,e,Tn,na),n);break}ml(e,Tn,na);break;case 5:ml(e,Tn,na);break;default:throw Error(de(329))}}}return Fn(e,vr()),e.callbackNode===r?D$.bind(null,e):null}function Y0(e,t){var r=eh;return e.current.memoizedState.isDehydrated&&(zl(e,t).flags|=256),e=Kg(e,t),e!==2&&(t=Tn,Tn=r,t!==null&&Q0(t)),e}function Q0(e){Tn===null?Tn=e:Tn.push.apply(Tn,e)}function Pq(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!fi(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function uo(e,t){for(t&=~lS,t&=~Iy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-oi(t),n=1<<r;e[r]=-1,t&=~n}}function KC(e){if(bt&6)throw Error(de(327));vu();var t=Eg(e,0);if(!(t&1))return Fn(e,vr()),null;var r=Kg(e,t);if(e.tag!==0&&r===2){var n=w0(e);n!==0&&(t=n,r=Y0(e,n))}if(r===1)throw r=Ch,zl(e,0),uo(e,t),Fn(e,vr()),r;if(r===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ml(e,Tn,na),Fn(e,vr()),null}function uS(e,t){var r=bt;bt|=1;try{return e(t)}finally{bt=r,bt===0&&(Wu=vr()+500,Ty&&Zo())}}function Xl(e){No!==null&&No.tag===0&&!(bt&6)&&vu();var t=bt;bt|=1;var r=Ss.transition,n=$t;try{if(Ss.transition=null,$t=1,e)return e()}finally{$t=n,Ss.transition=r,bt=t,!(bt&6)&&Zo()}}function dS(){Hn=au.current,tr(au)}function zl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,aq(r)),Sr!==null)for(r=Sr.return;r!==null;){var n=r;switch(V1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rg();break;case 3:qu(),tr(Dn),tr(hn),eS();break;case 5:Z1(n);break;case 4:qu();break;case 13:tr(lr);break;case 19:tr(lr);break;case 10:Y1(n.type._context);break;case 22:case 23:dS()}r=r.return}if(Wr=e,Sr=e=Do(e.current,null),Zr=Hn=t,Ir=0,Ch=null,lS=Iy=Ql=0,Tn=eh=null,Sl!==null){for(t=0;t<Sl.length;t++)if(r=Sl[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Sl=null}return e}function L$(e,t){do{var r=Sr;try{if(G1(),fg.current=qg,Bg){for(var n=ur.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Bg=!1}if(Yl=0,qr=Tr=ur=null,Jf=!1,Sh=0,oS.current=null,r===null||r.return===null){Ir=1,Ch=t,Sr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Zr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=RC(o);if(m!==null){m.flags&=-257,MC(m,o,l,i,t),m.mode&1&&TC(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){TC(i,u,t),fS();break e}c=Error(de(426))}}else if(sr&&l.mode&1){var v=RC(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),MC(v,o,l,i,t),K1(zu(c,l));break e}}i=c=zu(c,l),Ir!==4&&(Ir=2),eh===null?eh=[i]:eh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=w$(i,c,t);kC(i,x);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($o===null||!$o.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=j$(i,l,t);kC(i,S);break e}}i=i.return}while(i!==null)}B$(r)}catch(j){t=j,Sr===r&&r!==null&&(Sr=r=r.return);continue}break}while(!0)}function F$(){var e=zg.current;return zg.current=qg,e===null?qg:e}function fS(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Wr===null||!(Ql&268435455)&&!(Iy&268435455)||uo(Wr,Zr)}function Kg(e,t){var r=bt;bt|=2;var n=F$();(Wr!==e||Zr!==t)&&(na=null,zl(e,t));do try{Aq();break}catch(s){L$(e,s)}while(!0);if(G1(),bt=r,zg.current=n,Sr!==null)throw Error(de(261));return Wr=null,Zr=0,Ir}function Aq(){for(;Sr!==null;)U$(Sr)}function Tq(){for(;Sr!==null&&!n8();)U$(Sr)}function U$(e){var t=z$(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?B$(e):Sr=t,oS.current=null}function B$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Nq(r,t),r!==null){r.flags&=32767,Sr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ir=6,Sr=null;return}}else if(r=Sq(r,t,Hn),r!==null){Sr=r;return}if(t=t.sibling,t!==null){Sr=t;return}Sr=t=e}while(t!==null);Ir===0&&(Ir=5)}function ml(e,t,r){var n=$t,s=Ss.transition;try{Ss.transition=null,$t=1,Rq(e,t,r,n)}finally{Ss.transition=s,$t=n}return null}function Rq(e,t,r,n){do vu();while(No!==null);if(bt&6)throw Error(de(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(h8(e,i),e===Wr&&(Sr=Wr=null,Zr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_p||(_p=!0,W$(Cg,function(){return vu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ss.transition,Ss.transition=null;var o=$t;$t=1;var l=bt;bt|=4,oS.current=null,Cq(e,r),$$(r,e),Z8(C0),Og=!!k0,C0=k0=null,e.current=r,Eq(r),s8(),bt=l,$t=o,Ss.transition=i}else e.current=r;if(_p&&(_p=!1,No=e,Vg=s),i=e.pendingLanes,i===0&&($o=null),o8(r.stateNode),Fn(e,vr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Wg)throw Wg=!1,e=H0,H0=null,e;return Vg&1&&e.tag!==0&&vu(),i=e.pendingLanes,i&1?e===G0?th++:(th=0,G0=e):th=0,Zo(),null}function vu(){if(No!==null){var e=wM(Vg),t=Ss.transition,r=$t;try{if(Ss.transition=null,$t=16>e?16:e,No===null)var n=!1;else{if(e=No,No=null,Vg=0,bt&6)throw Error(de(331));var s=bt;for(bt|=4,Oe=e.current;Oe!==null;){var i=Oe,o=i.child;if(Oe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Oe=u;Oe!==null;){var d=Oe;switch(d.tag){case 0:case 11:case 15:Zf(8,d,i)}var f=d.child;if(f!==null)f.return=d,Oe=f;else for(;Oe!==null;){d=Oe;var h=d.sibling,m=d.return;if(T$(d),d===u){Oe=null;break}if(h!==null){h.return=m,Oe=h;break}Oe=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Oe=o;else e:for(;Oe!==null;){if(i=Oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zf(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Oe=x;break e}Oe=i.return}}var y=e.current;for(Oe=y;Oe!==null;){o=Oe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Oe=w;else e:for(o=y;Oe!==null;){if(l=Oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$y(9,l)}}catch(j){pr(l,l.return,j)}if(l===o){Oe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Oe=S;break e}Oe=l.return}}if(bt=s,Zo(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(Cy,e)}catch{}n=!0}return n}finally{$t=r,Ss.transition=t}}return!1}function HC(e,t,r){t=zu(r,t),t=w$(e,t,1),e=Mo(e,t,1),t=xn(),e!==null&&(Im(e,1,t),Fn(e,t))}function pr(e,t,r){if(e.tag===3)HC(e,e,r);else for(;t!==null;){if(t.tag===3){HC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($o===null||!$o.has(n))){e=zu(r,e),e=j$(t,e,1),t=Mo(t,e,1),e=xn(),t!==null&&(Im(t,1,e),Fn(t,e));break}}t=t.return}}function Mq(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xn(),e.pingedLanes|=e.suspendedLanes&r,Wr===e&&(Zr&r)===r&&(Ir===4||Ir===3&&(Zr&130023424)===Zr&&500>vr()-cS?zl(e,0):lS|=r),Fn(e,t)}function q$(e,t){t===0&&(e.mode&1?(t=hp,hp<<=1,!(hp&130023424)&&(hp=4194304)):t=1);var r=xn();e=Na(e,t),e!==null&&(Im(e,t,r),Fn(e,r))}function $q(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),q$(e,r)}function Iq(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(de(314))}n!==null&&n.delete(t),q$(e,r)}var z$;z$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dn.current)Rn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Rn=!1,_q(e,t,r);Rn=!!(e.flags&131072)}else Rn=!1,sr&&t.flags&1048576&&HM(t,Ig,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;mg(e,t),e=t.pendingProps;var s=Fu(t,hn.current);gu(t,r),s=rS(null,t,n,e,s,r);var i=nS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ln(n)?(i=!0,Mg(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,X1(t),s.updater=My,t.stateNode=s,s._reactInternals=t,I0(t,n,e,r),t=F0(null,t,n,!0,i,r)):(t.tag=0,sr&&i&&W1(t),gn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(mg(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Lq(n),e=Gs(n,e),s){case 0:t=L0(null,t,n,e,r);break e;case 1:t=DC(null,t,n,e,r);break e;case 11:t=$C(null,t,n,e,r);break e;case 14:t=IC(null,t,n,Gs(n.type,e),r);break e}throw Error(de(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gs(n,s),L0(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gs(n,s),DC(e,t,n,s,r);case 3:e:{if(k$(t),e===null)throw Error(de(387));n=t.pendingProps,i=t.memoizedState,s=i.element,ZM(e,t),Fg(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=zu(Error(de(423)),t),t=LC(e,t,n,r,s);break e}else if(n!==s){s=zu(Error(de(424)),t),t=LC(e,t,n,r,s);break e}else for(es=Ro(t.stateNode.containerInfo.firstChild),rs=t,sr=!0,ti=null,r=XM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Uu(),n===s){t=ka(e,t,r);break e}gn(e,t,n,r)}t=t.child}return t;case 5:return e$(t),e===null&&R0(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,E0(n,s)?o=null:i!==null&&E0(n,i)&&(t.flags|=32),N$(e,t),gn(e,t,o,r),t.child;case 6:return e===null&&R0(t),null;case 13:return C$(e,t,r);case 4:return J1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Bu(t,null,n,r):gn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gs(n,s),$C(e,t,n,s,r);case 7:return gn(e,t,t.pendingProps,r),t.child;case 8:return gn(e,t,t.pendingProps.children,r),t.child;case 12:return gn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Gt(Dg,n._currentValue),n._currentValue=o,i!==null)if(fi(i.value,o)){if(i.children===s.children&&!Dn.current){t=ka(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ga(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),M0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(de(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),M0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}gn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,gu(t,r),s=Es(s),n=n(s),t.flags|=1,gn(e,t,n,r),t.child;case 14:return n=t.type,s=Gs(n,t.pendingProps),s=Gs(n.type,s),IC(e,t,n,s,r);case 15:return _$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gs(n,s),mg(e,t),t.tag=1,Ln(n)?(e=!0,Mg(t)):e=!1,gu(t,r),b$(t,n,s),I0(t,n,s,r),F0(null,t,n,!0,e,r);case 19:return E$(e,t,r);case 22:return S$(e,t,r)}throw Error(de(156,t.tag))};function W$(e,t){return vM(e,t)}function Dq(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(e,t,r,n){return new Dq(e,t,r,n)}function hS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lq(e){if(typeof e=="function")return hS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===T1)return 11;if(e===R1)return 14}return 2}function Do(e,t){var r=e.alternate;return r===null?(r=ws(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function vg(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")hS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qc:return Wl(r.children,s,i,t);case A1:o=8,s|=8;break;case a0:return e=ws(12,r,t,s|2),e.elementType=a0,e.lanes=i,e;case o0:return e=ws(13,r,t,s),e.elementType=o0,e.lanes=i,e;case l0:return e=ws(19,r,t,s),e.elementType=l0,e.lanes=i,e;case eM:return Dy(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case JR:o=10;break e;case ZR:o=9;break e;case T1:o=11;break e;case R1:o=14;break e;case so:o=16,n=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=ws(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Wl(e,t,r,n){return e=ws(7,e,n,t),e.lanes=r,e}function Dy(e,t,r,n){return e=ws(22,e,n,t),e.elementType=eM,e.lanes=r,e.stateNode={isHidden:!1},e}function Wb(e,t,r){return e=ws(6,e,null,t),e.lanes=r,e}function Vb(e,t,r){return t=ws(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fq(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nb(0),this.expirationTimes=Nb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nb(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mS(e,t,r,n,s,i,o,l,c){return e=new Fq(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ws(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},X1(i),e}function Uq(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function V$(e){if(!e)return Vo;e=e._reactInternals;e:{if(gc(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var r=e.type;if(Ln(r))return VM(e,r,t)}return t}function K$(e,t,r,n,s,i,o,l,c){return e=mS(r,n,!0,e,s,i,o,l,c),e.context=V$(null),r=e.current,n=xn(),s=Io(r),i=ga(n,s),i.callback=t??null,Mo(r,i,s),e.current.lanes=s,Im(e,s,n),Fn(e,n),e}function Ly(e,t,r,n){var s=t.current,i=xn(),o=Io(s);return r=V$(r),t.context===null?t.context=r:t.pendingContext=r,t=ga(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mo(s,t,o),e!==null&&(li(e,s,o,i),dg(e,s,o)),o}function Hg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function GC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pS(e,t){GC(e,t),(e=e.alternate)&&GC(e,t)}function Bq(){return null}var H$=typeof reportError=="function"?reportError:function(e){console.error(e)};function gS(e){this._internalRoot=e}Fy.prototype.render=gS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));Ly(e,t,null,null)};Fy.prototype.unmount=gS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xl(function(){Ly(null,e,null,null)}),t[Sa]=null}};function Fy(e){this._internalRoot=e}Fy.prototype.unstable_scheduleHydration=function(e){if(e){var t=SM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<co.length&&t!==0&&t<co[r].priority;r++);co.splice(r,0,e),r===0&&kM(e)}};function vS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function YC(){}function qq(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Hg(o);i.call(u)}}var o=K$(t,n,e,0,null,!1,!1,"",YC);return e._reactRootContainer=o,e[Sa]=o.current,xh(e.nodeType===8?e.parentNode:e),Xl(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Hg(c);l.call(u)}}var c=mS(e,0,!1,null,null,!1,!1,"",YC);return e._reactRootContainer=c,e[Sa]=c.current,xh(e.nodeType===8?e.parentNode:e),Xl(function(){Ly(t,c,r,n)}),c}function By(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Hg(o);l.call(c)}}Ly(t,o,e,s)}else o=qq(r,t,e,s,n);return Hg(o)}jM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Df(t.pendingLanes);r!==0&&(I1(t,r|1),Fn(t,vr()),!(bt&6)&&(Wu=vr()+500,Zo()))}break;case 13:Xl(function(){var n=Na(e,1);if(n!==null){var s=xn();li(n,e,1,s)}}),pS(e,1)}};D1=function(e){if(e.tag===13){var t=Na(e,134217728);if(t!==null){var r=xn();li(t,e,134217728,r)}pS(e,134217728)}};_M=function(e){if(e.tag===13){var t=Io(e),r=Na(e,t);if(r!==null){var n=xn();li(r,e,t,n)}pS(e,t)}};SM=function(){return $t};NM=function(e,t){var r=$t;try{return $t=e,t()}finally{$t=r}};y0=function(e,t,r){switch(t){case"input":if(d0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ay(n);if(!s)throw Error(de(90));rM(n),d0(n,s)}}}break;case"textarea":sM(e,r);break;case"select":t=r.value,t!=null&&fu(e,!!r.multiple,t,!1)}};dM=uS;fM=Xl;var zq={usingClientEntryPoint:!1,Events:[Lm,eu,Ay,cM,uM,uS]},ff={findFiberByHostInstance:_l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wq={bundleType:ff.bundleType,version:ff.version,rendererPackageName:ff.rendererPackageName,rendererConfig:ff.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$a.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pM(e),e===null?null:e.stateNode},findFiberByHostInstance:ff.findFiberByHostInstance||Bq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sp.isDisabled&&Sp.supportsFiber)try{Cy=Sp.inject(Wq),Ri=Sp}catch{}}ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zq;ls.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vS(t))throw Error(de(200));return Uq(e,t,null,r)};ls.createRoot=function(e,t){if(!vS(e))throw Error(de(299));var r=!1,n="",s=H$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=mS(e,1,!1,null,null,r,!1,n,s),e[Sa]=t.current,xh(e.nodeType===8?e.parentNode:e),new gS(t)};ls.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=pM(t),e=e===null?null:e.stateNode,e};ls.flushSync=function(e){return Xl(e)};ls.hydrate=function(e,t,r){if(!Uy(t))throw Error(de(200));return By(null,e,t,!0,r)};ls.hydrateRoot=function(e,t,r){if(!vS(e))throw Error(de(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=H$;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=K$(t,null,e,1,r??null,s,!1,i,o),e[Sa]=t.current,xh(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Fy(t)};ls.render=function(e,t,r){if(!Uy(t))throw Error(de(200));return By(null,e,t,!1,r)};ls.unmountComponentAtNode=function(e){if(!Uy(e))throw Error(de(40));return e._reactRootContainer?(Xl(function(){By(null,null,e,!1,function(){e._reactRootContainer=null,e[Sa]=null})}),!0):!1};ls.unstable_batchedUpdates=uS;ls.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Uy(r))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return By(e,t,r,!1,n)};ls.version="18.3.1-next-f1338f8080-20240426";function G$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G$)}catch(e){console.error(e)}}G$(),GR.exports=ls;var Od=GR.exports;const Y$=Ut(Od);var QC=Od;s0.createRoot=QC.createRoot,s0.hydrateRoot=QC.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eh.apply(this,arguments)}var ko;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ko||(ko={}));const XC="popstate";function Vq(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return X0("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Gg(s)}return Hq(t,r,null,e)}function dr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Kq(){return Math.random().toString(36).substr(2,8)}function JC(e,t){return{usr:e.state,key:e.key,idx:t}}function X0(e,t,r,n){return r===void 0&&(r=null),Eh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pd(t):t,{state:r,key:t&&t.key||n||Kq()})}function Gg(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Hq(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=ko.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Eh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ko.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:x})}function h(v,x){l=ko.Push;let y=X0(p.location,v,x);u=d()+1;let w=JC(y,u),S=p.createHref(y);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}i&&c&&c({action:l,location:p.location,delta:1})}function m(v,x){l=ko.Replace;let y=X0(p.location,v,x);u=d();let w=JC(y,u),S=p.createHref(y);o.replaceState(w,"",S),i&&c&&c({action:l,location:p.location,delta:0})}function g(v){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof v=="string"?v:Gg(v);return y=y.replace(/ $/,"%20"),dr(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let p={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(XC,f),c=v,()=>{s.removeEventListener(XC,f),c=null}},createHref(v){return t(s,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var ZC;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ZC||(ZC={}));function Gq(e,t,r){return r===void 0&&(r="/"),Yq(e,t,r)}function Yq(e,t,r,n){let s=typeof t=="string"?Pd(t):t,i=Vu(s.pathname||"/",r);if(i==null)return null;let o=Q$(e);Qq(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=oz(i);l=iz(o[c],u)}return l}function Q$(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(dr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Lo([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(dr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Q$(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:nz(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of X$(i.path))s(i,o,c)}),t}function X$(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=X$(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Qq(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:sz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Xq=/^:[\w-]+$/,Jq=3,Zq=2,ez=1,tz=10,rz=-2,eE=e=>e==="*";function nz(e,t){let r=e.split("/"),n=r.length;return r.some(eE)&&(n+=rz),t&&(n+=Zq),r.filter(s=>!eE(s)).reduce((s,i)=>s+(Xq.test(i)?Jq:i===""?ez:tz),n)}function sz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function iz(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=J0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Lo([i,f.pathname]),pathnameBase:fz(Lo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Lo([i,f.pathnameBase]))}return o}function J0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=az(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function az(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),yS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function oz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const lz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cz=e=>lz.test(e);function uz(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Pd(e):e,i;if(r)if(cz(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),yS(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=tE(r.substring(1),"/"):i=tE(r,t)}else i=t;return{pathname:i,search:hz(n),hash:mz(s)}}function tE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Kb(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function xS(e,t){let r=dz(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function bS(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Pd(e):(s=Eh({},e),dr(!s.pathname||!s.pathname.includes("?"),Kb("?","pathname","search",s)),dr(!s.pathname||!s.pathname.includes("#"),Kb("#","pathname","hash",s)),dr(!s.search||!s.search.includes("#"),Kb("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=uz(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Lo=e=>e.join("/").replace(/\/\/+/g,"/"),fz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const J$=["post","put","patch","delete"];new Set(J$);const gz=["get",...J$];new Set(gz);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(this,arguments)}const qy=b.createContext(null),Z$=b.createContext(null),Ia=b.createContext(null),zy=b.createContext(null),Wi=b.createContext({outlet:null,matches:[],isDataRoute:!1}),eI=b.createContext(null);function vz(e,t){let{relative:r}=t===void 0?{}:t;Ad()||dr(!1);let{basename:n,navigator:s}=b.useContext(Ia),{hash:i,pathname:o,search:l}=Wy(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Lo([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Ad(){return b.useContext(zy)!=null}function Vi(){return Ad()||dr(!1),b.useContext(zy).location}function tI(e){b.useContext(Ia).static||b.useLayoutEffect(e)}function el(){let{isDataRoute:e}=b.useContext(Wi);return e?Rz():yz()}function yz(){Ad()||dr(!1);let e=b.useContext(qy),{basename:t,future:r,navigator:n}=b.useContext(Ia),{matches:s}=b.useContext(Wi),{pathname:i}=Vi(),o=JSON.stringify(xS(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return tI(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=bS(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Lo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const xz=b.createContext(null);function bz(e){let t=b.useContext(Wi).outlet;return t&&b.createElement(xz.Provider,{value:e},t)}function wz(){let{matches:e}=b.useContext(Wi),t=e[e.length-1];return t?t.params:{}}function Wy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Ia),{matches:s}=b.useContext(Wi),{pathname:i}=Vi(),o=JSON.stringify(xS(s,n.v7_relativeSplatPath));return b.useMemo(()=>bS(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function jz(e,t){return _z(e,t)}function _z(e,t,r,n){Ad()||dr(!1);let{navigator:s}=b.useContext(Ia),{matches:i}=b.useContext(Wi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Vi(),d;if(t){var f;let v=typeof t=="string"?Pd(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||dr(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Gq(e,{pathname:m}),p=Ez(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Lo([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Lo([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&p?b.createElement(zy.Provider,{value:{location:Oh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ko.Pop}},p):p}function Sz(){let e=Tz(),t=pz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const Nz=b.createElement(Sz,null);class kz extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(Wi.Provider,{value:this.props.routeContext},b.createElement(eI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Cz(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(qy);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Wi.Provider,{value:t},n)}function Ez(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||dr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||Nz,c&&(u<0&&h===0?(Mz("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),y=()=>{let w;return m?w=p:g?w=v:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,b.createElement(Cz,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(kz,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var rI=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rI||{}),nI=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nI||{});function Oz(e){let t=b.useContext(qy);return t||dr(!1),t}function Pz(e){let t=b.useContext(Z$);return t||dr(!1),t}function Az(e){let t=b.useContext(Wi);return t||dr(!1),t}function sI(e){let t=Az(),r=t.matches[t.matches.length-1];return r.route.id||dr(!1),r.route.id}function Tz(){var e;let t=b.useContext(eI),r=Pz(),n=sI();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Rz(){let{router:e}=Oz(rI.UseNavigateStable),t=sI(nI.UseNavigateStable),r=b.useRef(!1);return tI(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Oh({fromRouteId:t},i)))},[e,t])}const rE={};function Mz(e,t,r){rE[e]||(rE[e]=!0)}function $z(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Iz(e){let{to:t,replace:r,state:n,relative:s}=e;Ad()||dr(!1);let{future:i,static:o}=b.useContext(Ia),{matches:l}=b.useContext(Wi),{pathname:c}=Vi(),u=el(),d=bS(t,xS(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function iI(e){return bz(e.context)}function dt(e){dr(!1)}function Dz(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ko.Pop,navigator:i,static:o=!1,future:l}=e;Ad()&&dr(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:Oh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Pd(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=b.useMemo(()=>{let v=Vu(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:s}},[c,d,f,h,m,g,s]);return p==null?null:b.createElement(Ia.Provider,{value:u},b.createElement(zy.Provider,{children:r,value:p}))}function Lz(e){let{children:t,location:r}=e;return jz(Z0(t),r)}new Promise(()=>{});function Z0(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,Z0(n.props.children,i));return}n.type!==dt&&dr(!1),!n.props.index||!n.props.children||dr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Z0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(this,arguments)}function aI(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Fz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Uz(e,t){return e.button===0&&(!t||t==="_self")&&!Fz(e)}function ej(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Bz(e,t){let r=ej(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const qz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zz=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Wz="6";try{window.__reactRouterVersion=Wz}catch{}const Vz=b.createContext({isTransitioning:!1}),Kz="startTransition",nE=ky[Kz];function Hz(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=Vq({window:s,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&nE?nE(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>$z(n),[n]),b.createElement(Dz,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Gz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=aI(t,qz),{basename:m}=b.useContext(Ia),g,p=!1;if(typeof u=="string"&&Yz.test(u)&&(g=u,Gz))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Vu(S.pathname,m);S.origin===w.origin&&j!=null?u=j+S.search+S.hash:p=!0}catch{}let v=vz(u,{relative:s}),x=Jz(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||x(w)}return b.createElement("a",Yg({},h,{href:g||v,onClick:p||i?n:y,ref:r,target:c}))}),Qz=b.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=aI(t,zz),h=Wy(c,{relative:f.relative}),m=Vi(),g=b.useContext(Z$),{navigator:p,basename:v}=b.useContext(Ia),x=g!=null&&Zz(h)&&u===!0,y=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,w=m.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(w=w.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&v&&(S=Vu(S,v)||S);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let _=w===y||!o&&w.startsWith(y)&&w.charAt(j)==="/",N=S!=null&&(S===y||!o&&S.startsWith(y)&&S.charAt(y.length)==="/"),k={isActive:_,isPending:N,isTransitioning:x},C=_?n:void 0,T;typeof i=="function"?T=i(k):T=[i,_?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(k):l;return b.createElement(he,Yg({},f,{"aria-current":C,className:T,ref:r,style:I,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var tj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tj||(tj={}));var sE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sE||(sE={}));function Xz(e){let t=b.useContext(qy);return t||dr(!1),t}function Jz(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=el(),u=Vi(),d=Wy(e,{relative:o});return b.useCallback(f=>{if(Uz(f,r)){f.preventDefault();let h=n!==void 0?n:Gg(u)===Gg(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function oI(e){let t=b.useRef(ej(e)),r=b.useRef(!1),n=Vi(),s=b.useMemo(()=>Bz(n.search,r.current?null:t.current),[n.search]),i=el(),o=b.useCallback((l,c)=>{const u=ej(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function Zz(e,t){t===void 0&&(t={});let r=b.useContext(Vz);r==null&&dr(!1);let{basename:n}=Xz(tj.useViewTransitionState),s=Wy(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Vu(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Vu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return J0(s.pathname,o)!=null||J0(s.pathname,i)!=null}var Td=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eW={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},po,_1,kR,tW=(kR=class{constructor(){qe(this,po,eW);qe(this,_1,!1)}setTimeoutProvider(e){Se(this,po,e)}setTimeout(e,t){return F(this,po).setTimeout(e,t)}clearTimeout(e){F(this,po).clearTimeout(e)}setInterval(e,t){return F(this,po).setInterval(e,t)}clearInterval(e){F(this,po).clearInterval(e)}},po=new WeakMap,_1=new WeakMap,kR),kl=new tW;function rW(e){setTimeout(e,0)}var Jl=typeof window>"u"||"Deno"in globalThis;function vn(){}function nW(e,t){return typeof e=="function"?e(t):e}function rj(e){return typeof e=="number"&&e>=0&&e!==1/0}function lI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fo(e,t){return typeof e=="function"?e(t):e}function gs(e,t){return typeof e=="function"?e(t):e}function iE(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==wS(o,t.options))return!1}else if(!Ph(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function aE(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Zl(t.options.mutationKey)!==Zl(i))return!1}else if(!Ph(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function wS(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zl)(e)}function Zl(e){return JSON.stringify(e,(t,r)=>nj(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ph(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ph(e[r],t[r])):!1}var sW=Object.prototype.hasOwnProperty;function cI(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=oE(e)&&oE(t);if(!n&&!(nj(e)&&nj(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:o[d],h=e[f],m=t[f];if(h===m){c[f]=h,(n?d<i:sW.call(e,f))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){c[f]=m;continue}const g=cI(h,m,r+1);c[f]=g,g===h&&u++}return i===l&&u===i?e:c}function Qg(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function oE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nj(e){if(!lE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!lE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lE(e){return Object.prototype.toString.call(e)==="[object Object]"}function iW(e){return new Promise(t=>{kl.setTimeout(t,e)})}function sj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?cI(e,t):t}function aW(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function oW(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var jS=Symbol();function uI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===jS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function _S(e,t){return typeof e=="function"?e(...t):!!e}function lW(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var Ml,go,ku,CR,cW=(CR=class extends Td{constructor(){super();qe(this,Ml);qe(this,go);qe(this,ku);Se(this,ku,t=>{if(!Jl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,go)||this.setEventListener(F(this,ku))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,go))==null||t.call(this),Se(this,go,void 0))}setEventListener(t){var r;Se(this,ku,t),(r=F(this,go))==null||r.call(this),Se(this,go,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){F(this,Ml)!==t&&(Se(this,Ml,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof F(this,Ml)=="boolean"?F(this,Ml):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ml=new WeakMap,go=new WeakMap,ku=new WeakMap,CR),SS=new cW;function ij(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var uW=rW;function dW(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=uW;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Rr=dW(),Cu,vo,Eu,ER,fW=(ER=class extends Td{constructor(){super();qe(this,Cu,!0);qe(this,vo);qe(this,Eu);Se(this,Eu,t=>{if(!Jl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,vo)||this.setEventListener(F(this,Eu))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,vo))==null||t.call(this),Se(this,vo,void 0))}setEventListener(t){var r;Se(this,Eu,t),(r=F(this,vo))==null||r.call(this),Se(this,vo,t(this.setOnline.bind(this)))}setOnline(t){F(this,Cu)!==t&&(Se(this,Cu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return F(this,Cu)}},Cu=new WeakMap,vo=new WeakMap,Eu=new WeakMap,ER),Xg=new fW;function hW(e){return Math.min(1e3*2**e,3e4)}function dI(e){return(e??"online")==="online"?Xg.isOnline():!0}var aj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fI(e){let t=!1,r=0,n;const s=ij(),i=()=>s.status!=="pending",o=p=>{var v;if(!i()){const x=new aj(p);h(x),(v=e.onCancel)==null||v.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>SS.isFocused()&&(e.networkMode==="always"||Xg.isOnline())&&e.canRun(),d=()=>dI(e.networkMode)&&e.canRun(),f=p=>{i()||(n==null||n(),s.resolve(p))},h=p=>{i()||(n==null||n(),s.reject(p))},m=()=>new Promise(p=>{var v;n=x=>{(i()||u())&&p(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;n=void 0,i()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(i())return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var _;if(i())return;const y=e.retry??(Jl?0:3),w=e.retryDelay??hW,S=typeof w=="function"?w(r,x):w,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(t||!j){h(x);return}r++,(_=e.onFail)==null||_.call(e,r,x),iW(S).then(()=>u()?void 0:m()).then(()=>{t?h(x):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var $l,OR,hI=(OR=class{constructor(){qe(this,$l)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rj(this.gcTime)&&Se(this,$l,kl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jl?1/0:5*60*1e3))}clearGcTimeout(){F(this,$l)&&(kl.clearTimeout(F(this,$l)),Se(this,$l,void 0))}},$l=new WeakMap,OR),Il,Ou,ps,Dl,Ur,Pm,Ll,Qs,ra,PR,mW=(PR=class extends hI{constructor(t){super();qe(this,Qs);qe(this,Il);qe(this,Ou);qe(this,ps);qe(this,Dl);qe(this,Ur);qe(this,Pm);qe(this,Ll);Se(this,Ll,!1),Se(this,Pm,t.defaultOptions),this.setOptions(t.options),this.observers=[],Se(this,Dl,t.client),Se(this,ps,F(this,Dl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Se(this,Il,uE(this.options)),this.state=t.state??F(this,Il),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,Ur))==null?void 0:t.promise}setOptions(t){if(this.options={...F(this,Pm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=uE(this.options);r.data!==void 0&&(this.setState(cE(r.data,r.dataUpdatedAt)),Se(this,Il,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,ps).remove(this)}setData(t,r){const n=sj(this.state.data,t,this.options);return st(this,Qs,ra).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){st(this,Qs,ra).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=F(this,Ur))==null?void 0:n.promise;return(s=F(this,Ur))==null||s.cancel(t),r?r.then(vn).catch(vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Il))}isActive(){return this.observers.some(t=>gs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Fo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!lI(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,Ur))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,Ur))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,ps).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(F(this,Ur)&&(F(this,Ll)?F(this,Ur).cancel({revert:!0}):F(this,Ur).cancelRetry()),this.scheduleGc()),F(this,ps).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,Qs,ra).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,g,p,v,x,y,w;if(this.state.fetchStatus!=="idle"&&((c=F(this,Ur))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,Ur))return F(this,Ur).continueRetry(),F(this,Ur).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(j=>j.options.queryFn);S&&this.setOptions(S.options)}const n=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(Se(this,Ll,!0),n.signal)})},i=()=>{const S=uI(this.options,r),_=(()=>{const N={client:F(this,Dl),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return Se(this,Ll,!1),this.options.persister?this.options.persister(S,_,this):S(_)},l=(()=>{const S={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Dl),state:this.state,fetchFn:i};return s(S),S})();(u=this.options.behavior)==null||u.onFetch(l,this),Se(this,Ou,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&st(this,Qs,ra).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Se(this,Ur,fI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:S=>{S instanceof aj&&S.revert&&this.setState({...F(this,Ou),fetchStatus:"idle"}),n.abort()},onFail:(S,j)=>{st(this,Qs,ra).call(this,{type:"failed",failureCount:S,error:j})},onPause:()=>{st(this,Qs,ra).call(this,{type:"pause"})},onContinue:()=>{st(this,Qs,ra).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const S=await F(this,Ur).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(m=(h=F(this,ps).config).onSuccess)==null||m.call(h,S,this),(p=(g=F(this,ps).config).onSettled)==null||p.call(g,S,this.state.error,this),S}catch(S){if(S instanceof aj){if(S.silent)return F(this,Ur).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw st(this,Qs,ra).call(this,{type:"error",error:S}),(x=(v=F(this,ps).config).onError)==null||x.call(v,S,this),(w=(y=F(this,ps).config).onSettled)==null||w.call(y,this.state.data,S,this),S}finally{this.scheduleGc()}}},Il=new WeakMap,Ou=new WeakMap,ps=new WeakMap,Dl=new WeakMap,Ur=new WeakMap,Pm=new WeakMap,Ll=new WeakMap,Qs=new WeakSet,ra=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...mI(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...cE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Se(this,Ou,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Rr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,ps).notify({query:this,type:"updated",action:t})})},PR);function mI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function uE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var En,ft,Am,mn,Fl,Pu,aa,yo,Tm,Au,Tu,Ul,Bl,xo,Ru,Rt,Ff,oj,lj,cj,uj,dj,fj,hj,pI,AR,pW=(AR=class extends Td{constructor(t,r){super();qe(this,Rt);qe(this,En);qe(this,ft);qe(this,Am);qe(this,mn);qe(this,Fl);qe(this,Pu);qe(this,aa);qe(this,yo);qe(this,Tm);qe(this,Au);qe(this,Tu);qe(this,Ul);qe(this,Bl);qe(this,xo);qe(this,Ru,new Set);this.options=r,Se(this,En,t),Se(this,yo,null),Se(this,aa,ij()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,ft).addObserver(this),dE(F(this,ft),this.options)?st(this,Rt,Ff).call(this):this.updateResult(),st(this,Rt,uj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mj(F(this,ft),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mj(F(this,ft),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,Rt,dj).call(this),st(this,Rt,fj).call(this),F(this,ft).removeObserver(this)}setOptions(t){const r=this.options,n=F(this,ft);if(this.options=F(this,En).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gs(this.options.enabled,F(this,ft))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,Rt,hj).call(this),F(this,ft).setOptions(this.options),r._defaulted&&!Qg(this.options,r)&&F(this,En).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,ft),observer:this});const s=this.hasListeners();s&&fE(F(this,ft),n,this.options,r)&&st(this,Rt,Ff).call(this),this.updateResult(),s&&(F(this,ft)!==n||gs(this.options.enabled,F(this,ft))!==gs(r.enabled,F(this,ft))||Fo(this.options.staleTime,F(this,ft))!==Fo(r.staleTime,F(this,ft)))&&st(this,Rt,oj).call(this);const i=st(this,Rt,lj).call(this);s&&(F(this,ft)!==n||gs(this.options.enabled,F(this,ft))!==gs(r.enabled,F(this,ft))||i!==F(this,xo))&&st(this,Rt,cj).call(this,i)}getOptimisticResult(t){const r=F(this,En).getQueryCache().build(F(this,En),t),n=this.createResult(r,t);return vW(this,n)&&(Se(this,mn,n),Se(this,Pu,this.options),Se(this,Fl,F(this,ft).state)),n}getCurrentResult(){return F(this,mn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&F(this,aa).status==="pending"&&F(this,aa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){F(this,Ru).add(t)}getCurrentQuery(){return F(this,ft)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=F(this,En).defaultQueryOptions(t),n=F(this,En).getQueryCache().build(F(this,En),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return st(this,Rt,Ff).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,mn)))}createResult(t,r){var C;const n=F(this,ft),s=this.options,i=F(this,mn),o=F(this,Fl),l=F(this,Pu),u=t!==n?t.state:F(this,Am),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const T=this.hasListeners(),I=!T&&dE(t,r),E=T&&fE(t,n,r,s);(I||E)&&(f={...f,...mI(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=f;m=f.data;let x=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,x=!0):T=typeof r.placeholderData=="function"?r.placeholderData((C=F(this,Tu))==null?void 0:C.state.data,F(this,Tu)):r.placeholderData,T!==void 0&&(v="success",m=sj(i==null?void 0:i.data,T,r),h=!0)}if(r.select&&m!==void 0&&!x)if(i&&m===(o==null?void 0:o.data)&&r.select===F(this,Tm))m=F(this,Au);else try{Se(this,Tm,r.select),m=r.select(m),m=sj(i==null?void 0:i.data,m,r),Se(this,Au,m),Se(this,yo,null)}catch(T){Se(this,yo,T)}F(this,yo)&&(g=F(this,yo),m=F(this,Au),p=Date.now(),v="error");const y=f.fetchStatus==="fetching",w=v==="pending",S=v==="error",j=w&&y,_=m!==void 0,k={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:S,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:S&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&_,isStale:NS(t,r),refetch:this.refetch,promise:F(this,aa),isEnabled:gs(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=k.data!==void 0,I=k.status==="error"&&!T,E=B=>{I?B.reject(k.error):T&&B.resolve(k.data)},U=()=>{const B=Se(this,aa,k.promise=ij());E(B)},P=F(this,aa);switch(P.status){case"pending":t.queryHash===n.queryHash&&E(P);break;case"fulfilled":(I||k.data!==P.value)&&U();break;case"rejected":(!I||k.error!==P.reason)&&U();break}}return k}updateResult(){const t=F(this,mn),r=this.createResult(F(this,ft),this.options);if(Se(this,Fl,F(this,ft).state),Se(this,Pu,this.options),F(this,Fl).data!==void 0&&Se(this,Tu,F(this,ft)),Qg(r,t))return;Se(this,mn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!F(this,Ru).size)return!0;const o=new Set(i??F(this,Ru));return this.options.throwOnError&&o.add("error"),Object.keys(F(this,mn)).some(l=>{const c=l;return F(this,mn)[c]!==t[c]&&o.has(c)})};st(this,Rt,pI).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,Rt,uj).call(this)}},En=new WeakMap,ft=new WeakMap,Am=new WeakMap,mn=new WeakMap,Fl=new WeakMap,Pu=new WeakMap,aa=new WeakMap,yo=new WeakMap,Tm=new WeakMap,Au=new WeakMap,Tu=new WeakMap,Ul=new WeakMap,Bl=new WeakMap,xo=new WeakMap,Ru=new WeakMap,Rt=new WeakSet,Ff=function(t){st(this,Rt,hj).call(this);let r=F(this,ft).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(vn)),r},oj=function(){st(this,Rt,dj).call(this);const t=Fo(this.options.staleTime,F(this,ft));if(Jl||F(this,mn).isStale||!rj(t))return;const n=lI(F(this,mn).dataUpdatedAt,t)+1;Se(this,Ul,kl.setTimeout(()=>{F(this,mn).isStale||this.updateResult()},n))},lj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,ft)):this.options.refetchInterval)??!1},cj=function(t){st(this,Rt,fj).call(this),Se(this,xo,t),!(Jl||gs(this.options.enabled,F(this,ft))===!1||!rj(F(this,xo))||F(this,xo)===0)&&Se(this,Bl,kl.setInterval(()=>{(this.options.refetchIntervalInBackground||SS.isFocused())&&st(this,Rt,Ff).call(this)},F(this,xo)))},uj=function(){st(this,Rt,oj).call(this),st(this,Rt,cj).call(this,st(this,Rt,lj).call(this))},dj=function(){F(this,Ul)&&(kl.clearTimeout(F(this,Ul)),Se(this,Ul,void 0))},fj=function(){F(this,Bl)&&(kl.clearInterval(F(this,Bl)),Se(this,Bl,void 0))},hj=function(){const t=F(this,En).getQueryCache().build(F(this,En),this.options);if(t===F(this,ft))return;const r=F(this,ft);Se(this,ft,t),Se(this,Am,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},pI=function(t){Rr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(F(this,mn))}),F(this,En).getQueryCache().notify({query:F(this,ft),type:"observerResultsUpdated"})})},AR);function gW(e,t){return gs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function dE(e,t){return gW(e,t)||e.state.data!==void 0&&mj(e,t,t.refetchOnMount)}function mj(e,t,r){if(gs(t.enabled,e)!==!1&&Fo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&NS(e,t)}return!1}function fE(e,t,r,n){return(e!==t||gs(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&NS(e,r)}function NS(e,t){return gs(t.enabled,e)!==!1&&e.isStaleByTime(Fo(t.staleTime,e))}function vW(e,t){return!Qg(e.getCurrentResult(),t)}function hE(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=w=>{lW(w,()=>t.signal,()=>p=!0)},x=uI(t.options,t.fetchOptions),y=async(w,S,j)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};return v(I),I})(),k=await x(N),{maxPages:C}=t.options,T=j?oW:aW;return{pages:T(w.pages,k,C),pageParams:T(w.pageParams,S,C)}};if(s&&i.length){const w=s==="backward",S=w?yW:mE,j={pages:i,pageParams:o},_=S(n,j);l=await y(j,_,w)}else{const w=e??i.length;do{const S=c===0?o[0]??n.initialPageParam:mE(n,l);if(c>0&&S==null)break;l=await y(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function mE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function yW(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Rm,Ni,an,ql,ki,to,TR,xW=(TR=class extends hI{constructor(t){super();qe(this,ki);qe(this,Rm);qe(this,Ni);qe(this,an);qe(this,ql);Se(this,Rm,t.client),this.mutationId=t.mutationId,Se(this,an,t.mutationCache),Se(this,Ni,[]),this.state=t.state||gI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,Ni).includes(t)||(F(this,Ni).push(t),this.clearGcTimeout(),F(this,an).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Se(this,Ni,F(this,Ni).filter(r=>r!==t)),this.scheduleGc(),F(this,an).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,Ni).length||(this.state.status==="pending"?this.scheduleGc():F(this,an).remove(this))}continue(){var t;return((t=F(this,ql))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,g,p,v,x,y,w,S,j,_,N;const r=()=>{st(this,ki,to).call(this,{type:"continue"})},n={client:F(this,Rm),meta:this.options.meta,mutationKey:this.options.mutationKey};Se(this,ql,fI({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{st(this,ki,to).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{st(this,ki,to).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,an).canRun(this)}));const s=this.state.status==="pending",i=!F(this,ql).canStart();try{if(s)r();else{st(this,ki,to).call(this,{type:"pending",variables:t,isPaused:i}),F(this,an).config.onMutate&&await F(this,an).config.onMutate(t,this,n);const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));C!==this.state.context&&st(this,ki,to).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const k=await F(this,ql).start();return await((u=(c=F(this,an).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,n)),await((m=(h=F(this,an).config).onSettled)==null?void 0:m.call(h,k,null,this.state.variables,this.state.context,this,n)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,k,null,t,this.state.context,n)),st(this,ki,to).call(this,{type:"success",data:k}),k}catch(k){try{await((x=(v=F(this,an).config).onError)==null?void 0:x.call(v,k,t,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((w=(y=this.options).onError)==null?void 0:w.call(y,k,t,this.state.context,n))}catch(C){Promise.reject(C)}try{await((j=(S=F(this,an).config).onSettled)==null?void 0:j.call(S,void 0,k,this.state.variables,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((N=(_=this.options).onSettled)==null?void 0:N.call(_,void 0,k,t,this.state.context,n))}catch(C){Promise.reject(C)}throw st(this,ki,to).call(this,{type:"error",error:k}),k}finally{F(this,an).runNext(this)}}},Rm=new WeakMap,Ni=new WeakMap,an=new WeakMap,ql=new WeakMap,ki=new WeakSet,to=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Rr.batch(()=>{F(this,Ni).forEach(n=>{n.onMutationUpdate(t)}),F(this,an).notify({mutation:this,type:"updated",action:t})})},TR);function gI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oa,Xs,Mm,RR,bW=(RR=class extends Td{constructor(t={}){super();qe(this,oa);qe(this,Xs);qe(this,Mm);this.config=t,Se(this,oa,new Set),Se(this,Xs,new Map),Se(this,Mm,0)}build(t,r,n){const s=new xW({client:t,mutationCache:this,mutationId:++ap(this,Mm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){F(this,oa).add(t);const r=Np(t);if(typeof r=="string"){const n=F(this,Xs).get(r);n?n.push(t):F(this,Xs).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,oa).delete(t)){const r=Np(t);if(typeof r=="string"){const n=F(this,Xs).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&F(this,Xs).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Np(t);if(typeof r=="string"){const n=F(this,Xs).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Np(t);if(typeof r=="string"){const s=(n=F(this,Xs).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rr.batch(()=>{F(this,oa).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,oa).clear(),F(this,Xs).clear()})}getAll(){return Array.from(F(this,oa))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>aE(r,n))}findAll(t={}){return this.getAll().filter(r=>aE(t,r))}notify(t){Rr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Rr.batch(()=>Promise.all(t.map(r=>r.continue().catch(vn))))}},oa=new WeakMap,Xs=new WeakMap,Mm=new WeakMap,RR);function Np(e){var t;return(t=e.options.scope)==null?void 0:t.id}var la,bo,On,ca,ja,yg,pj,MR,wW=(MR=class extends Td{constructor(r,n){super();qe(this,ja);qe(this,la);qe(this,bo);qe(this,On);qe(this,ca);Se(this,la,r),this.setOptions(n),this.bindMethods(),st(this,ja,yg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=F(this,la).defaultMutationOptions(r),Qg(this.options,n)||F(this,la).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,On),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Zl(n.mutationKey)!==Zl(this.options.mutationKey)?this.reset():((s=F(this,On))==null?void 0:s.state.status)==="pending"&&F(this,On).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,On))==null||r.removeObserver(this)}onMutationUpdate(r){st(this,ja,yg).call(this),st(this,ja,pj).call(this,r)}getCurrentResult(){return F(this,bo)}reset(){var r;(r=F(this,On))==null||r.removeObserver(this),Se(this,On,void 0),st(this,ja,yg).call(this),st(this,ja,pj).call(this)}mutate(r,n){var s;return Se(this,ca,n),(s=F(this,On))==null||s.removeObserver(this),Se(this,On,F(this,la).getMutationCache().build(F(this,la),this.options)),F(this,On).addObserver(this),F(this,On).execute(r)}},la=new WeakMap,bo=new WeakMap,On=new WeakMap,ca=new WeakMap,ja=new WeakSet,yg=function(){var n;const r=((n=F(this,On))==null?void 0:n.state)??gI();Se(this,bo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},pj=function(r){Rr.batch(()=>{var n,s,i,o,l,c,u,d;if(F(this,ca)&&this.hasListeners()){const f=F(this,bo).variables,h=F(this,bo).context,m={client:F(this,la),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=F(this,ca)).onSuccess)==null||s.call(n,r.data,f,h,m)}catch(g){Promise.reject(g)}try{(o=(i=F(this,ca)).onSettled)==null||o.call(i,r.data,null,f,h,m)}catch(g){Promise.reject(g)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=F(this,ca)).onError)==null||c.call(l,r.error,f,h,m)}catch(g){Promise.reject(g)}try{(d=(u=F(this,ca)).onSettled)==null||d.call(u,void 0,r.error,f,h,m)}catch(g){Promise.reject(g)}}}this.listeners.forEach(f=>{f(F(this,bo))})})},MR),Ci,$R,jW=($R=class extends Td{constructor(t={}){super();qe(this,Ci);this.config=t,Se(this,Ci,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??wS(s,r);let o=this.get(i);return o||(o=new mW({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){F(this,Ci).has(t.queryHash)||(F(this,Ci).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=F(this,Ci).get(t.queryHash);r&&(t.destroy(),r===t&&F(this,Ci).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Rr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,Ci).get(t)}getAll(){return[...F(this,Ci).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>iE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>iE(t,n)):r}notify(t){Rr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Rr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Rr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ci=new WeakMap,$R),hr,wo,jo,Mu,$u,_o,Iu,Du,IR,_W=(IR=class{constructor(e={}){qe(this,hr);qe(this,wo);qe(this,jo);qe(this,Mu);qe(this,$u);qe(this,_o);qe(this,Iu);qe(this,Du);Se(this,hr,e.queryCache||new jW),Se(this,wo,e.mutationCache||new bW),Se(this,jo,e.defaultOptions||{}),Se(this,Mu,new Map),Se(this,$u,new Map),Se(this,_o,0)}mount(){ap(this,_o)._++,F(this,_o)===1&&(Se(this,Iu,SS.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,hr).onFocus())})),Se(this,Du,Xg.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,hr).onOnline())})))}unmount(){var e,t;ap(this,_o)._--,F(this,_o)===0&&((e=F(this,Iu))==null||e.call(this),Se(this,Iu,void 0),(t=F(this,Du))==null||t.call(this),Se(this,Du,void 0))}isFetching(e){return F(this,hr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,wo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,hr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=F(this,hr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Fo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return F(this,hr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=F(this,hr).get(n.queryHash),i=s==null?void 0:s.state.data,o=nW(t,i);if(o!==void 0)return F(this,hr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Rr.batch(()=>F(this,hr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,hr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=F(this,hr);Rr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=F(this,hr);return Rr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Rr.batch(()=>F(this,hr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(vn).catch(vn)}invalidateQueries(e,t={}){return Rr.batch(()=>(F(this,hr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Rr.batch(()=>F(this,hr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(vn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(vn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=F(this,hr).build(this,t);return r.isStaleByTime(Fo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vn).catch(vn)}fetchInfiniteQuery(e){return e.behavior=hE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vn).catch(vn)}ensureInfiniteQueryData(e){return e.behavior=hE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xg.isOnline()?F(this,wo).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,hr)}getMutationCache(){return F(this,wo)}getDefaultOptions(){return F(this,jo)}setDefaultOptions(e){Se(this,jo,e)}setQueryDefaults(e,t){F(this,Mu).set(Zl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,Mu).values()],r={};return t.forEach(n=>{Ph(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){F(this,$u).set(Zl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,$u).values()],r={};return t.forEach(n=>{Ph(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,jo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===jS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,jo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,hr).clear(),F(this,wo).clear()}},hr=new WeakMap,wo=new WeakMap,jo=new WeakMap,Mu=new WeakMap,$u=new WeakMap,_o=new WeakMap,Iu=new WeakMap,Du=new WeakMap,IR),vI=b.createContext(void 0),be=e=>{const t=b.useContext(vI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},SW=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(vI.Provider,{value:e,children:t})),yI=b.createContext(!1),NW=()=>b.useContext(yI);yI.Provider;function kW(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var CW=b.createContext(kW()),EW=()=>b.useContext(CW),OW=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?_S(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},PW=e=>{b.useEffect(()=>{e.clearReset()},[e])},AW=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||_S(r,[e.error,n])),TW=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},RW=(e,t)=>e.isLoading&&e.isFetching&&!t,MW=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,pE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function $W(e,t,r){var h,m,g,p;const n=NW(),s=EW(),i=be(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",TW(o),OW(o,s,l),PW(s);const c=!i.getQueryCache().get(o.queryHash),[u]=b.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(v=>{const x=f?u.subscribe(Rr.batchCalls(v)):vn;return u.updateResult(),x},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),b.useEffect(()=>{u.setOptions(o)},[o,u]),MW(o,d))throw pE(o,u,s);if(AW({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((p=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||p.call(g,o,d),o.experimental_prefetchInRender&&!Jl&&RW(d,n)){const v=c?pE(o,u,s):l==null?void 0:l.promise;v==null||v.catch(vn).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function Te(e,t){return $W(e,pW)}function xe(e,t){const r=be(),[n]=b.useState(()=>new wW(r,e));b.useEffect(()=>{n.setOptions(e)},[n,e]);const s=b.useSyncExternalStore(b.useCallback(o=>n.subscribe(Rr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=b.useCallback((o,l)=>{n.mutate(o,l).catch(vn)},[n]);if(s.error&&_S(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var IW=e=>{switch(e){case"success":return FW;case"info":return BW;case"warning":return UW;case"error":return qW;default:return null}},DW=Array(12).fill(0),LW=({visible:e,className:t})=>A.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},A.createElement("div",{className:"sonner-spinner"},DW.map((r,n)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),FW=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UW=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BW=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qW=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zW=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),WW=()=>{let[e,t]=A.useState(document.hidden);return A.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},gj=1,VW=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:gj++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],A.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(HW(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||gj++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Pn=new VW,KW=(e,t)=>{let r=(t==null?void 0:t.id)||gj++;return Pn.addToast({title:e,...t,id:r}),r},HW=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",GW=KW,YW=()=>Pn.toasts,QW=()=>Pn.getActiveToasts(),W=Object.assign(GW,{success:Pn.success,info:Pn.info,warning:Pn.warning,error:Pn.error,custom:Pn.custom,message:Pn.message,promise:Pn.promise,dismiss:Pn.dismiss,loading:Pn.loading},{getHistory:YW,getToasts:QW});function XW(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}XW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function kp(e){return e.label!==void 0}var JW=3,ZW="32px",eV="16px",gE=4e3,tV=356,rV=14,nV=20,sV=200;function qs(...e){return e.filter(Boolean).join(" ")}function iV(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var aV=e=>{var t,r,n,s,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:v,visibleToasts:x,heights:y,index:w,toasts:S,expanded:j,removeToast:_,defaultRichColors:N,closeButton:k,style:C,cancelButtonStyle:T,actionButtonStyle:I,className:E="",descriptionClassName:U="",duration:P,position:B,gap:R,loadingIcon:z,expandByDefault:D,classNames:M,icons:$,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:G}=e,[ce,pe]=A.useState(null),[We,te]=A.useState(null),[se,Ie]=A.useState(!1),[ee,ue]=A.useState(!1),[K,H]=A.useState(!1),[Xe,Ke]=A.useState(!1),[Ot,kt]=A.useState(!1),[rr,rn]=A.useState(0),[Cn,bi]=A.useState(0),L=A.useRef(m.duration||P||gE),V=A.useRef(null),Q=A.useRef(null),je=w===0,ge=w+1<=x,le=m.type,Me=m.dismissible!==!1,Ct=m.className||"",Et=m.descriptionClassName||"",yr=A.useMemo(()=>y.findIndex(tt=>tt.toastId===m.id)||0,[y,m.id]),Ji=A.useMemo(()=>{var tt;return(tt=m.closeButton)!=null?tt:k},[m.closeButton,k]),Ds=A.useMemo(()=>m.duration||P||gE,[m.duration,P]),rf=A.useRef(0),wi=A.useRef(0),Cc=A.useRef(0),Ha=A.useRef(null),[ip,vb]=B.split("-"),nf=A.useMemo(()=>y.reduce((tt,Dt,nr)=>nr>=yr?tt:tt+Dt.height,0),[y,yr]),Uk=WW(),v6=m.invert||h,yb=le==="loading";wi.current=A.useMemo(()=>yr*R+nf,[yr,nf]),A.useEffect(()=>{L.current=Ds},[Ds]),A.useEffect(()=>{Ie(!0)},[]),A.useEffect(()=>{let tt=Q.current;if(tt){let Dt=tt.getBoundingClientRect().height;return bi(Dt),v(nr=>[{toastId:m.id,height:Dt,position:m.position},...nr]),()=>v(nr=>nr.filter(Ls=>Ls.toastId!==m.id))}},[v,m.id]),A.useLayoutEffect(()=>{if(!se)return;let tt=Q.current,Dt=tt.style.height;tt.style.height="auto";let nr=tt.getBoundingClientRect().height;tt.style.height=Dt,bi(nr),v(Ls=>Ls.find(Fs=>Fs.toastId===m.id)?Ls.map(Fs=>Fs.toastId===m.id?{...Fs,height:nr}:Fs):[{toastId:m.id,height:nr,position:m.position},...Ls])},[se,m.title,m.description,v,m.id]);let Ga=A.useCallback(()=>{ue(!0),rn(wi.current),v(tt=>tt.filter(Dt=>Dt.toastId!==m.id)),setTimeout(()=>{_(m)},sV)},[m,_,v,wi]);A.useEffect(()=>{if(m.promise&&le==="loading"||m.duration===1/0||m.type==="loading")return;let tt;return j||p||G&&Uk?(()=>{if(Cc.current<rf.current){let Dt=new Date().getTime()-rf.current;L.current=L.current-Dt}Cc.current=new Date().getTime()})():L.current!==1/0&&(rf.current=new Date().getTime(),tt=setTimeout(()=>{var Dt;(Dt=m.onAutoClose)==null||Dt.call(m,m),Ga()},L.current)),()=>clearTimeout(tt)},[j,p,m,le,G,Uk,Ga]),A.useEffect(()=>{m.delete&&Ga()},[Ga,m.delete]);function y6(){var tt,Dt,nr;return $!=null&&$.loading?A.createElement("div",{className:qs(M==null?void 0:M.loader,(tt=m==null?void 0:m.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":le==="loading"},$.loading):z?A.createElement("div",{className:qs(M==null?void 0:M.loader,(Dt=m==null?void 0:m.classNames)==null?void 0:Dt.loader,"sonner-loader"),"data-visible":le==="loading"},z):A.createElement(LW,{className:qs(M==null?void 0:M.loader,(nr=m==null?void 0:m.classNames)==null?void 0:nr.loader),visible:le==="loading"})}return A.createElement("li",{tabIndex:0,ref:Q,className:qs(E,Ct,M==null?void 0:M.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[le],(r=m==null?void 0:m.classNames)==null?void 0:r[le]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":se,"data-promise":!!m.promise,"data-swiped":Ot,"data-removed":ee,"data-visible":ge,"data-y-position":ip,"data-x-position":vb,"data-index":w,"data-front":je,"data-swiping":K,"data-dismissible":Me,"data-type":le,"data-invert":v6,"data-swipe-out":Xe,"data-swipe-direction":We,"data-expanded":!!(j||D&&se),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${ee?rr:wi.current}px`,"--initial-height":D?"auto":`${Cn}px`,...C,...m.style},onDragEnd:()=>{H(!1),pe(null),Ha.current=null},onPointerDown:tt=>{yb||!Me||(V.current=new Date,rn(wi.current),tt.target.setPointerCapture(tt.pointerId),tt.target.tagName!=="BUTTON"&&(H(!0),Ha.current={x:tt.clientX,y:tt.clientY}))},onPointerUp:()=>{var tt,Dt,nr,Ls;if(Xe||!Me)return;Ha.current=null;let Fs=Number(((tt=Q.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ya=Number(((Dt=Q.current)==null?void 0:Dt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),cl=new Date().getTime()-((nr=V.current)==null?void 0:nr.getTime()),Us=ce==="x"?Fs:Ya,Qa=Math.abs(Us)/cl;if(Math.abs(Us)>=nV||Qa>.11){rn(wi.current),(Ls=m.onDismiss)==null||Ls.call(m,m),te(ce==="x"?Fs>0?"right":"left":Ya>0?"down":"up"),Ga(),Ke(!0),kt(!1);return}H(!1),pe(null)},onPointerMove:tt=>{var Dt,nr,Ls,Fs;if(!Ha.current||!Me||((Dt=window.getSelection())==null?void 0:Dt.toString().length)>0)return;let Ya=tt.clientY-Ha.current.y,cl=tt.clientX-Ha.current.x,Us=(nr=e.swipeDirections)!=null?nr:iV(B);!ce&&(Math.abs(cl)>1||Math.abs(Ya)>1)&&pe(Math.abs(cl)>Math.abs(Ya)?"x":"y");let Qa={x:0,y:0};ce==="y"?(Us.includes("top")||Us.includes("bottom"))&&(Us.includes("top")&&Ya<0||Us.includes("bottom")&&Ya>0)&&(Qa.y=Ya):ce==="x"&&(Us.includes("left")||Us.includes("right"))&&(Us.includes("left")&&cl<0||Us.includes("right")&&cl>0)&&(Qa.x=cl),(Math.abs(Qa.x)>0||Math.abs(Qa.y)>0)&&kt(!0),(Ls=Q.current)==null||Ls.style.setProperty("--swipe-amount-x",`${Qa.x}px`),(Fs=Q.current)==null||Fs.style.setProperty("--swipe-amount-y",`${Qa.y}px`)}},Ji&&!m.jsx?A.createElement("button",{"aria-label":X,"data-disabled":yb,"data-close-button":!0,onClick:yb||!Me?()=>{}:()=>{var tt;Ga(),(tt=m.onDismiss)==null||tt.call(m,m)},className:qs(M==null?void 0:M.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=$==null?void 0:$.close)!=null?i:zW):null,m.jsx||b.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:A.createElement(A.Fragment,null,le||m.icon||m.promise?A.createElement("div",{"data-icon":"",className:qs(M==null?void 0:M.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||y6():null,m.type!=="loading"?m.icon||($==null?void 0:$[le])||IW(le):null):null,A.createElement("div",{"data-content":"",className:qs(M==null?void 0:M.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},A.createElement("div",{"data-title":"",className:qs(M==null?void 0:M.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?A.createElement("div",{"data-description":"",className:qs(U,Et,M==null?void 0:M.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),b.isValidElement(m.cancel)?m.cancel:m.cancel&&kp(m.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:tt=>{var Dt,nr;kp(m.cancel)&&Me&&((nr=(Dt=m.cancel).onClick)==null||nr.call(Dt,tt),Ga())},className:qs(M==null?void 0:M.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,b.isValidElement(m.action)?m.action:m.action&&kp(m.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:tt=>{var Dt,nr;kp(m.action)&&((nr=(Dt=m.action).onClick)==null||nr.call(Dt,tt),!tt.defaultPrevented&&Ga())},className:qs(M==null?void 0:M.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function vE(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function oV(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?eV:ZW;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var lV=b.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=JW,toastOptions:p,dir:v=vE(),gap:x=rV,loadingIcon:y,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=e,[_,N]=A.useState([]),k=A.useMemo(()=>Array.from(new Set([n].concat(_.filter(G=>G.position).map(G=>G.position)))),[_,n]),[C,T]=A.useState([]),[I,E]=A.useState(!1),[U,P]=A.useState(!1),[B,R]=A.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=A.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=A.useRef(null),$=A.useRef(!1),X=A.useCallback(G=>{N(ce=>{var pe;return(pe=ce.find(We=>We.id===G.id))!=null&&pe.delete||Pn.dismiss(G.id),ce.filter(({id:We})=>We!==G.id)})},[]);return A.useEffect(()=>Pn.subscribe(G=>{if(G.dismiss){N(ce=>ce.map(pe=>pe.id===G.id?{...pe,delete:!0}:pe));return}setTimeout(()=>{Y$.flushSync(()=>{N(ce=>{let pe=ce.findIndex(We=>We.id===G.id);return pe!==-1?[...ce.slice(0,pe),{...ce[pe],...G},...ce.slice(pe+1)]:[G,...ce]})})})}),[]),A.useEffect(()=>{if(d!=="system"){R(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:ce})=>{R(ce?"dark":"light")})}catch{G.addListener(({matches:pe})=>{try{R(pe?"dark":"light")}catch(We){console.error(We)}})}},[d]),A.useEffect(()=>{_.length<=1&&E(!1)},[_]),A.useEffect(()=>{let G=ce=>{var pe,We;s.every(te=>ce[te]||ce.code===te)&&(E(!0),(pe=z.current)==null||pe.focus()),ce.code==="Escape"&&(document.activeElement===z.current||(We=z.current)!=null&&We.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[s]),A.useEffect(()=>{if(z.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,$.current=!1)}},[z.current]),A.createElement("section",{ref:t,"aria-label":`${S} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((G,ce)=>{var pe;let[We,te]=G.split("-");return _.length?A.createElement("ol",{key:G,dir:v==="auto"?vE():v,tabIndex:-1,ref:z,className:l,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":We,"data-lifted":I&&_.length>1&&!i,"data-x-position":te,style:{"--front-toast-height":`${((pe=C[0])==null?void 0:pe.height)||0}px`,"--width":`${tV}px`,"--gap":`${x}px`,...m,...oV(c,u)},onBlur:se=>{$.current&&!se.currentTarget.contains(se.relatedTarget)&&($.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||$.current||($.current=!0,M.current=se.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{U||E(!1)},onDragEnd:()=>E(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},_.filter(se=>!se.position&&ce===0||se.position===G).map((se,Ie)=>{var ee,ue;return A.createElement(aV,{key:se.id,icons:w,index:Ie,toast:se,defaultRichColors:f,duration:(ee=p==null?void 0:p.duration)!=null?ee:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(ue=p==null?void 0:p.closeButton)!=null?ue:o,interacting:U,position:G,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:X,toasts:_.filter(K=>K.position==se.position),heights:C.filter(K=>K.position==se.position),setHeights:T,expandByDefault:i,gap:x,loadingIcon:y,expanded:I,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))}),Oi=function(){return Oi=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Oi.apply(this,arguments)};function Rd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function cV(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function uV(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const dV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class kS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class fV extends kS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yE extends kS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xE extends kS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vj||(vj={}));class hV{constructor(t,{headers:r={},customFetch:n,region:s=vj.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=dV(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return cV(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let v=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const x=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:v}).catch(j=>{throw new fV(j)}),y=x.headers.get("x-relay-error");if(y&&y==="true")throw new yE(x);if(!x.ok)throw new xE(x);let w=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield x.json():w==="application/octet-stream"||w==="application/pdf"?S=yield x.blob():w==="text/event-stream"?S=x:w==="multipart/form-data"?S=yield x.formData():S=yield x.text(),{data:S,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof xE||l instanceof yE?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var mV=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},pV=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const x=await i.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=x:l=JSON.parse(x))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new mV(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},gV=class extends pV{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const bE=new RegExp("[,()]");var Wc=class extends gV{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&bE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&bE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},vV=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new Wc({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Wc({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Wc({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Wc({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Wc({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},yV=class xI{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new vV(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new xI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Wc({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class xV{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const bV="2.93.3",wV=`realtime-js/${bV}`,jV="1.0.0",bI="2.0.0",wE=bI,yj=1e4,_V=1e3,SV=100;var ao;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ao||(ao={}));var Ar;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ar||(Ar={}));var Zs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zs||(Zs={}));var xj;(function(e){e.websocket="websocket"})(xj||(xj={}));var bl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bl||(bl={}));class NV{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,o.length),g.setUint8(p++,u.length),g.setUint8(p++,f.length),g.setUint8(p++,r),Array.from(c,x=>g.setUint8(p++,x.charCodeAt(0))),Array.from(l,x=>g.setUint8(p++,x.charCodeAt(0))),Array.from(o,x=>g.setUint8(p++,x.charCodeAt(0))),Array.from(u,x=>g.setUint8(p++,x.charCodeAt(0))),Array.from(f,x=>g.setUint8(p++,x.charCodeAt(0)));var v=new Uint8Array(m.byteLength+n.byteLength);return v.set(new Uint8Array(m),0),v.set(new Uint8Array(n),m.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class wI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Kt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Kt||(Kt={}));const jE=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=kV(o,e,t,s),i),{}):{}},kV=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?jI(i,o):bj(o)},jI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return PV(t,r)}switch(e){case Kt.bool:return CV(t);case Kt.float4:case Kt.float8:case Kt.int2:case Kt.int4:case Kt.int8:case Kt.numeric:case Kt.oid:return EV(t);case Kt.json:case Kt.jsonb:return OV(t);case Kt.timestamp:return AV(t);case Kt.abstime:case Kt.date:case Kt.daterange:case Kt.int4range:case Kt.int8range:case Kt.money:case Kt.reltime:case Kt.text:case Kt.time:case Kt.timestamptz:case Kt.timetz:case Kt.tsrange:case Kt.tstzrange:return bj(t);default:return bj(t)}},bj=e=>e,CV=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},EV=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},OV=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},PV=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>jI(t,l))}return e},AV=e=>typeof e=="string"?e.replace(" ","T"):e,_I=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Hb{constructor(t,r,n={},s=yj){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _E;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_E||(_E={}));class rh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rh.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=rh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=rh.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var SE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(SE||(SE={}));var nh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(nh||(nh={}));var sa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(sa||(sa={}));class ou{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hb(this,Zs.join,this.params,this.timeout),this.rejoinTimer=new wI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ar.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zs.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new rh(this),this.broadcastEndpointURL=_I(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ar.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[nh.PRESENCE]&&this.bindings[nh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(sa.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(sa.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(sa.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,x=[];for(let y=0;y<v;y++){const w=p[y],{filter:{event:S,schema:j,table:_,filter:N}}=w,k=m&&m[y];if(k&&k.event===S&&ou.isFilterValueEqual(k.schema,j)&&ou.isFilterValueEqual(k.table,_)&&ou.isFilterValueEqual(k.filter,N))x.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Ar.errored,t==null||t(sa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(sa.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ar.errored,t==null||t(sa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(sa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ar.joined&&t===nh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ar.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Hb(this,Zs.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ar.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Hb(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>SV){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Zs;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,v,x,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return S&&((p=r.ids)===null||p===void 0?void 0:p.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(y=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:x,type:y,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Ar.closed}_isJoined(){return this.state===Ar.joined}_isJoining(){return this.state===Ar.joining}_isLeaving(){return this.state===Ar.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ou.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zs.close,{},t)}_onError(t){this._on(Zs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ar.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=jE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=jE(t.columns,t.old_record)),r}}const Gb=()=>{},Cp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TV=[1e3,2e3,5e3,1e4],RV=1e4,MV=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $V{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yj,this.transport=null,this.heartbeatIntervalMs=Cp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gb,this.ref=0,this.reconnectTimer=null,this.vsn=wE,this.logger=Gb,this.conn=null,this.sendBuffer=[],this.serializer=new NV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${xj.websocket}`,this.httpEndpoint=_I(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xV.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ao.connecting:return bl.Connecting;case ao.open:return bl.Open;case ao.closing:return bl.Closing;default:return bl.Closed}}isConnected(){return this.connectionState()===bl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ou(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_V,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Cp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ao.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ao.open||this.conn.readyState===ao.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([MV],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:wV};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Zs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new wI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:yj,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Cp.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Gb,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:wE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>TV[g-1]||RV,this.vsn){case jV:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,p)=>p(JSON.parse(g));break;case bI:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ah=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function IV(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function DV(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function LV(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=IV(e.baseUrl,n,s),c=await DV(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new Ah((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Ep(e){return e.join("")}var FV=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ep(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ep(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ep(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ep(e.namespace)}`}),!0}catch(t){if(t instanceof Ah&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ah&&r.status===409)return;throw r}}};function Oc(e){return e.join("")}var UV=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Oc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Oc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Oc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Oc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Oc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Oc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ah&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ah&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},BV=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=LV({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new FV(this.client,t),this.tableOps=new UV(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Vy=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Ky(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Op=class extends Vy{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},SI=class extends Vy{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const qV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zV=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wj=e=>{if(Array.isArray(e))return e.map(r=>wj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=wj(n)}),t},WV=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function VV(e,t){if(Th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KV(e){var t=VV(e,"string");return Th(t)=="symbol"?t:t+""}function HV(e,t,r){return(t=KV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(n){HV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const kE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},GV=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Op(kE(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new Op(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new Op(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new Op(s.statusText||`HTTP ${i} error`,i,o,n))}}else t(new SI(kE(e),e,n))},YV=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Ye(Ye({},s),r):(zV(n)?(s.headers=Ye({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Ye(Ye({},s),r))};async function hf(e,t,r,n,s,i,o){return new Promise((l,c)=>{e(r,YV(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>GV(u,c,n,o))})}function NI(e="storage"){return{get:async(t,r,n,s)=>hf(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>hf(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>hf(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>hf(t,"HEAD",r,Ye(Ye({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>hf(t,"DELETE",r,s,i,n,e)}}const QV=NI("storage"),{get:Rh,post:Ys,put:jj,head:XV,remove:CS}=QV,Qn=NI("vectors");var Md=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=qV(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ky(r))return{data:null,error:r};throw r}}},JV=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ky(t))return{data:null,error:t};throw t}}};let kI;kI=Symbol.toStringTag;var ZV=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[kI]="BlobDownloadBuilder",this.promise=null}asStream(){return new JV(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ky(t))return{data:null,error:t};throw t}}};const e9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},CE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var t9=class extends Md{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=Ye(Ye({},CE),n);let l=Ye(Ye({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Ye(Ye({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?jj:Ys)(s.fetch,`${s.url}/object/${d}`,i,Ye({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=Ye({upsert:CE.upsert},n),d=Ye(Ye({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await jj(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=Ye({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Ys(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Vy("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Ys(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Ys(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await Ys(n.fetch,`${n.url}/object/sign/${s}`,Ye({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await Ys(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>Ye(Ye({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Rh(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new ZV(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>wj(await Rh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await XV(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ky(n)&&n instanceof SI){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await CS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=Ye(Ye(Ye({},e9),t),{},{prefix:e||""});return await Ys(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Ye({},e);return await Ys(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const r9="2.93.3",Um={"X-Client-Info":`storage-js/${r9}`};var n9=class extends Md{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=Ye(Ye({},Um),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Rh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Rh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Ys(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await jj(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ys(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await CS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},s9=class extends Md{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Ye(Ye({},Um),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ys(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Rh(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await CS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!WV(e))throw new Vy("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new BV({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},i9=class extends Md{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Ye(Ye({},Um),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Qn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Qn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},a9=class extends Md{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Ye(Ye({},Um),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},o9=class extends Md{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Ye(Ye({},Um),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},l9=class extends o9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new c9(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},c9=class extends i9{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new u9(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},u9=class extends a9{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ye(Ye({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},d9=class extends n9{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new t9(this.url,this.headers,e,this.fetch)}get vectors(){return new l9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new s9(this.url+"/iceberg",this.headers,this.fetch)}};const CI="2.93.3",Vc=30*1e3,_j=3,Yb=_j*Vc,f9="http://localhost:9999",h9="supabase.auth.token",m9={"X-Client-Info":`gotrue-js/${CI}`},Sj="X-Supabase-Api-Version",EI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},p9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,g9=10*60*1e3;class Mh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function De(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class v9 extends Mh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function y9(e){return De(e)&&e.name==="AuthApiError"}class wl extends Mh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Da extends Mh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Vn extends Da{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qb(e){return De(e)&&e.name==="AuthSessionMissingError"}class Pc extends Da{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pp extends Da{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ap extends Da{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function x9(e){return De(e)&&e.name==="AuthImplicitGrantRedirectError"}class EE extends Da{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class b9 extends Da{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nj extends Da{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xb(e){return De(e)&&e.name==="AuthRetryableFetchError"}class OE extends Da{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class kj extends Da{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),PE=` 	
\r=`.split(""),w9=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<PE.length;t+=1)e[PE[t].charCodeAt(0)]=-2;for(let t=0;t<Jg.length;t+=1)e[Jg[t].charCodeAt(0)]=t;return e})();function AE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jg[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jg[n]),t.queuedBits-=6}}function OI(e,t,r){const n=w9[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function TE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{S9(o,n,r)};for(let o=0;o<e.length;o+=1)OI(e.charCodeAt(o),s,i);return t.join("")}function j9(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _9(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}j9(n,t)}}function S9(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function yu(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)OI(e.charCodeAt(s),r,n);return new Uint8Array(t)}function N9(e){const t=[];return _9(e,r=>t.push(r)),new Uint8Array(t)}function Cl(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>AE(s,r,n)),AE(null,r,n),t.join("")}function k9(e){return Math.round(Date.now()/1e3)+e}function C9(){return Symbol("auth-callback")}const Gr=()=>typeof window<"u"&&typeof document<"u",ul={tested:!1,writable:!1},PI=()=>{if(!Gr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ul.tested)return ul.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ul.tested=!0,ul.writable=!0}catch{ul.tested=!0,ul.writable=!1}return ul.writable};function E9(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const AI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),O9=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Kc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},dl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Hr=async(e,t)=>{await e.removeItem(t)};class Hy{constructor(){this.promise=new Hy.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Hy.promiseConstructor=Promise;function Tp(e){const t=e.split(".");if(t.length!==3)throw new kj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!p9.test(t[n]))throw new kj("JWT not in base64url format");return{header:JSON.parse(TE(t[0])),payload:JSON.parse(TE(t[1])),signature:yu(t[2]),raw:{header:t[0],payload:t[1]}}}async function P9(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function A9(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function T9(e){return("0"+e.toString(16)).substr(-2)}function R9(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,T9).join("")}async function M9(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function $9(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await M9(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ac(e,t,r=!1){const n=R9();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Kc(e,`${t}-code-verifier`,s);const i=await $9(n);return[i,n===i?"plain":"s256"]}const I9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function D9(e){const t=e.headers.get(Sj);if(!t||!t.match(I9))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function L9(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function F9(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const U9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tc(e){if(!U9.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jb(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function B9(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function RE(e){return JSON.parse(JSON.stringify(e))}const pl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),q9=[502,503,504];async function ME(e){var t;if(!O9(e))throw new Nj(pl(e),0);if(q9.includes(e.status))throw new Nj(pl(e),e.status);let r;try{r=await e.json()}catch(i){throw new wl(pl(i),i)}let n;const s=D9(e);if(s&&s.getTime()>=EI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new OE(pl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Vn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new OE(pl(r),e.status,r.weak_password.reasons);throw new v9(pl(r),e.status||500,n)}const z9=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ge(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Sj]||(i[Sj]=EI["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await W9(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function W9(e,t,r,n,s,i){const o=z9(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Nj(pl(c),0)}if(l.ok||await ME(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await ME(c)}}function Ks(e){var t;let r=null;H9(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=k9(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $E(e){const t=Ks(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function V9(e){return{data:e,error:null}}function K9(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Rd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function IE(e){return e}function H9(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zb=["global","local","others"];class G9{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=AI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Zb[0]){if(Zb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zb.join(", ")}`);try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fo})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Rd(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:K9,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(De(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fo})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:IE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(De(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Tc(t);try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fo})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Tc(t);try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:fo})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Tc(t);try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:fo})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Tc(t.userId);try{const{data:r,error:n}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Tc(t.userId),Tc(t.id);try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:IE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(De(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}}function DE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Rc={debug:!!(globalThis&&PI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class TI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Y9 extends TI{}async function Q9(e,t,r){Rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Y9(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function X9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function RI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function J9(e){return parseInt(e,16)}function Z9(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function eK(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=RI(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}x+=y}return`${v}
${x}`}class wr extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Zg extends wr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function tK({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new wr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new wr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new wr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new wr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new wr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new wr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new wr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new wr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(MI(o)){if(i.rp.id!==o)return new wr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new wr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new wr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function rK({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new wr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new wr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(MI(n)){if(r.rpId!==n)return new wr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new wr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class nK{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const sK=new nK;function iK(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Rd(e,["challenge","user","excludeCredentials"]),i=yu(t).buffer,o=Object.assign(Object.assign({},r),{id:yu(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:yu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function aK(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Rd(e,["challenge","allowCredentials"]),s=yu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:yu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function oK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Cl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Cl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Cl(new Uint8Array(s.authenticatorData)),clientDataJSON:Cl(new Uint8Array(s.clientDataJSON)),signature:Cl(new Uint8Array(s.signature)),userHandle:s.userHandle?Cl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function MI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function LE(){var e,t;return!!(Gr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function cK(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zg("Browser returned unexpected credential type",t)}:{data:null,error:new Zg("Empty credential response",t)}}catch(t){return{data:null,error:tK({error:t,options:e})}}}async function uK(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zg("Browser returned unexpected credential type",t)}:{data:null,error:new Zg("Empty credential response",t)}}catch(t){return{data:null,error:rK({error:t,options:e})}}}const dK={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fK={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ev(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=ev(l,o):n[i]=ev(o)}else n[i]=o}return n}function hK(e,t){return ev(dK,e,t||{})}function mK(e,t){return ev(fK,e,t||{})}class pK{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??sK.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const m=(await this.client.getUser()).data.user,g=((o=m==null?void 0:m.user_metadata)===null||o===void 0?void 0:o.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=hK(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await cK({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=mK(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await uK(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return De(l)?{data:null,error:l}:{data:null,error:new wl("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Mh("rpId is required for WebAuthn authentication")};try{if(!LE())return{data:null,error:new wl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return De(o)?{data:null,error:o}:{data:null,error:new wl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Mh("rpId is required for WebAuthn registration")};try{if(!LE())return{data:null,error:new wl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return De(o)?{data:null,error:o}:{data:null,error:new wl("Unexpected error in register",o)}}}}X9();const gK={url:f9,storageKey:h9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:m9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function FE(e,t,r){return await r()}const Mc={};class $h{get jwks(){var t,r;return(r=(t=Mc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Mc[this.storageKey]=Object.assign(Object.assign({},Mc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Mc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Mc[this.storageKey]=Object.assign(Object.assign({},Mc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},gK),t);if(this.storageKey=i.storageKey,this.instanceID=(r=$h.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,$h.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Gr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new G9({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=AI(i.fetch),this.lock=i.lock||FE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Gr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Q9:this.lock=FE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pK(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:PI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=DE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=DE(this.memoryStorage)),Gr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${CI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Gr()&&(r=E9(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Gr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),x9(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return De(r)?this._returnResult({error:r}):this._returnResult({error:new wl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ks}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(De(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ac(this.storage,this.storageKey)),i=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Ks})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ks})}else throw new Pp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Hr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$E})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$E})}else throw new Pp("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Pc;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:v,statement:x,options:y}=t;let w;if(Gr())if(typeof v=="object")w=v;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=RI(j[0]);let N=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await w.request({method:"eth_chainId"});N=J9(C)}const k={domain:S.host,address:_,statement:x,uri:S.href,version:"1",chainId:N,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=eK(k),g=await w.request({method:"personal_sign",params:[Z9(m),_]})}try{const{data:p,error:v}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ks});if(v)throw v;if(!p||!p.session||!p.user){const x=new Pc;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:v})}catch(p){if(De(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:x,statement:y,options:w}=t;let S;if(Gr())if(typeof x=="object")S=x;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let N;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")N=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)N=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=_}}try{const{data:v,error:x}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Cl(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ks});if(x)throw x;if(!v||!v.session||!v.user){const y=new Pc;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(De(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await dl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new b9;const{data:i,error:o}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ks});if(await Hr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Pc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ks}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Pc;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ac(this.storage,this.storageKey));const{error:f}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Pp("You must provide either an email or phone number.")}catch(l){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ks});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(De(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ac(this.storage,this.storageKey));const u=await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:V9});return!((i=u.data)===null||i===void 0)&&i.url&&Gr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Vn;const{error:s}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(De(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Pp("You must provide either an email or phone number and a type")}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await dl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Yb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await dl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Jb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=B9(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fo}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vn}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:fo})})}catch(r){if(De(r))return Qb(r)&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Vn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ac(this.storage,this.storageKey));const{data:u,error:d}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:fo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Tp(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(De(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Vn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Gr())throw new Ap("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ap(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new EE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ap("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new EE("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Ap("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Vc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(De(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await dl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Qb(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(y9(l)&&(l.status===404||l.status===401||l.status===403)||Qb(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=C9(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ac(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Gr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(De(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ks}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Pc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await A9(async s=>(s>0&&await P9(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ks})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Xb(i)&&Date.now()+o-n<Vc})}catch(n){if(this._debug(r,"error",n),De(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Gr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await dl(this.storage,this.storageKey);if(s&&this.userStorage){let o=await dl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Kc(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Jb()}else if(s&&!s.user&&!s.user){const o=await dl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Hr(this.storage,this.storageKey+"-user"),await Kc(this.storage,this.storageKey,s)):s.user=Jb()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yb;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Yb}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Xb(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Hy;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Vn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),De(i)){const o={data:null,error:i};return Xb(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Hr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Kc(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=RE(s);await Kc(this.storage,this.storageKey,i)}else{const s=RE(r);await Kc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Hr(this.storage,this.storageKey),await Hr(this.storage,this.storageKey+"-code-verifier"),await Hr(this.storage,this.storageKey+"-user"),this.userStorage&&await Hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Gr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Vc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vc}ms, refresh threshold is ${_j} ticks`),s<=_j&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof TI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ac(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?oK(t.webauthn.credential_response):lK(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:iK(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:aK(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:m}=Tp(t);let g=null;m.aal&&(g=m.aal);let p=g;const{data:{user:v},error:x}=await this.getUser(t);if(x)return this._returnResult({data:null,error:x});((n=(r=v==null?void 0:v.factors)===null||r===void 0?void 0:r.filter(S=>S.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:w},error:null}}catch(m){if(De(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Tp(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Vn})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Vn});const o=await Ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Gr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Vn});const o=await Ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Gr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Vn})})}catch(t){if(De(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vn})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+g9>s)return n;const{data:i,error:o}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Tp(n);r!=null&&r.allowExpired||L9(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=F9(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,N9(`${l}.${c}`)))throw new kj("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}}$h.nextInstanceID={};const vK=$h,yK="2.93.3";let Uf="";typeof Deno<"u"?Uf="deno":typeof document<"u"?Uf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uf="react-native":Uf="node";const xK={"X-Client-Info":`supabase-js-${Uf}/${yK}`},bK={headers:xK},wK={schema:"public"},jK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_K={};function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function SK(e,t){if(Ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NK(e){var t=SK(e,"string");return Ih(t)=="symbol"?t:t+""}function kK(e,t,r){return(t=NK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(r),!0).forEach(function(n){kK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const CK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),EK=()=>Headers,OK=(e,t,r)=>{const n=CK(r),s=EK();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,mr(mr({},o),{},{headers:u}))}};function PK(e){return e.endsWith("/")?e:e+"/"}function AK(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:mr(mr({},c),s),auth:mr(mr({},u),i),realtime:mr(mr({},d),o),storage:{},global:mr(mr(mr({},f),l),{},{headers:mr(mr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function TK(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PK(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var RK=class extends vK{constructor(e){super(e)}},MK=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=TK(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:wK,realtime:_K,auth:mr(mr({},jK),{},{storageKey:o}),global:bK},c=AK(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=OK(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(mr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new yV(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new d9(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new hV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RK({url:this.authUrl.href,headers:mr(mr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new $V(this.realtimeUrl.href,mr(mr({},e),{},{params:mr(mr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $K=(e,t,r)=>new MK(e,t,r);function IK(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}IK()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const DK="https://prqmzdstrfmahymkekef.supabase.co",LK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycW16ZHN0cmZtYWh5bWtla2VmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDEwNjI5NiwiZXhwIjoyMDg1NjgyMjk2fQ.EE1JucZWP0ov1l93KyprUqoVMrLoNAUiJbl6xoHRSNs",q=$K(DK,LK);async function FK(e,t){const{error:r}=await q.auth.signInWithPassword({email:e,password:t});return r?{success:!1,error:r.message}:{success:!0}}async function UK(){const{error:e}=await q.auth.signOut({scope:"local"});return e?{success:!1,error:e.message}:{success:!0}}async function BK(){const{data:{session:e}}=await q.auth.getSession();return{user:(e==null?void 0:e.user)??null,session:e}}function qK(e){const{data:{subscription:t}}=q.auth.onAuthStateChange((r,n)=>{e(r,n)});return()=>t.unsubscribe()}async function zK(e,t){const r=typeof window<"u"?window.location.origin:"",n=t!=null&&t.redirectTo?`${r}${t.redirectTo.startsWith("/")?t.redirectTo:`/${t.redirectTo}`}`:`${r}/dashboard`,{error:s}=await q.auth.signInWithOAuth({provider:e,options:{redirectTo:n}});return s?{success:!1,error:s.message}:{success:!0}}async function WK(e,t,r){var c,u,d;const n=typeof window<"u"?window.location.origin:"",s=r!=null&&r.redirectTo?`${n}${r.redirectTo.startsWith("/")?r.redirectTo:`/${r.redirectTo}`}`:`${n}/verify-email`,{data:i,error:o}=await q.auth.signUp({email:e,password:t,options:{emailRedirectTo:s}});return o?{success:!1,error:o.message}:{success:!0,needsEmailVerification:!!(i.user&&!((u=(c=i.session)==null?void 0:c.user)!=null&&u.email_confirmed_at)&&((d=i.user.identities)==null?void 0:d.length))}}async function VK(e,t){const n=`${typeof window<"u"?window.location.origin:""}${t.startsWith("/")?t:`/${t}`}`,{error:s}=await q.auth.resetPasswordForEmail(e,{redirectTo:n});return s?{success:!1,error:s.message}:{success:!0}}async function KK(e){const{error:t}=await q.auth.updateUser({password:e});return t?{success:!1,error:t.message}:{success:!0}}function HK(){return typeof window>"u"?!1:window.location.hash.includes("type=recovery")}async function GK(){const{data:{user:e}}=await q.auth.getUser();if(!(e!=null&&e.email))return{success:!1,error:"You must be signed in to resend the verification email."};const r=`${typeof window<"u"?window.location.origin:""}/verify-email`,{error:n}=await q.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:r}});return n?{success:!1,error:n.message}:{success:!0}}async function BE(e){const t=e.trim();if(!t)return{success:!1,error:"Verification token is required."};const{error:r}=await q.auth.verifyOtp({token_hash:t,type:"email"});return r?{success:!1,error:r.message}:{success:!0}}function YK(){if(typeof window>"u")return null;const t=new URLSearchParams(window.location.search).get("token_hash");if(t)return t;const r=window.location.hash;return r?new URLSearchParams(r.replace(/^#/,"")).get("token_hash"):null}async function QK(){const{data:{user:e}}=await q.auth.getUser();return e?!!e.email_confirmed_at:!1}const $I=b.createContext(null);function XK({children:e}){const[t,r]=b.useState({user:null,session:null,isLoading:!0});b.useEffect(()=>{let i=!1;BK().then(({user:l,session:c})=>{i||r({user:l,session:c,isLoading:!1})});const o=qK((l,c)=>{i||r(u=>({...u,user:(c==null?void 0:c.user)??null,session:c,isLoading:!1}))});return()=>{i=!0,o()}},[]);const n=b.useCallback(async()=>{await UK(),r({user:null,session:null,isLoading:!1})},[]),s=b.useMemo(()=>({...t,signOut:n}),[t.user,t.session,t.isLoading,n]);return a.jsx($I.Provider,{value:s,children:e})}function ES(){const e=b.useContext($I);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function JK(){const{user:e,isLoading:t}=ES(),r=Vi();if(t)return a.jsxs("div",{className:"flex flex-1 items-center justify-center p-8",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent","aria-hidden":!0}),a.jsx("span",{className:"sr-only",children:"Loading"})]});if(!e){const n=encodeURIComponent(r.pathname+r.search);return a.jsx(Iz,{to:`/login?returnTo=${n}`,state:{from:r},replace:!0})}return a.jsx(iI,{})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),II=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...eH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:II("lucide",s),...l},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const r=b.forwardRef(({className:n,...s},i)=>b.createElement(tH,{ref:i,iconNode:t,className:II(`lucide-${ZK(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=ae("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=ae("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=ae("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=ae("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=ae("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ae("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ae("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=ae("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=ae("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=ae("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=ae("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=ae("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=ae("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=ae("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=ae("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=ae("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=ae("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=ae("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=ae("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=ae("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=ae("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=ae("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=ae("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=ae("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=ae("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=ae("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=ae("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=ae("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=ae("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=ae("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=ae("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=ae("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=ae("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=ae("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=ae("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=ae("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=ae("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ae("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function r4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=r4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ht(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=r4(e))&&(n&&(n+=" "),n+=t);return n}const US="-",NH=e=>{const t=CH(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(US);return l[0]===""&&l.length!==1&&l.shift(),n4(l,t)||kH(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},n4=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?n4(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(US);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},KE=/^\[(.+)\]$/,kH=e=>{if(KE.test(e)){const t=KE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},CH=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return OH(Object.entries(e.classGroups),r).forEach(([i,o])=>{Pj(o,n,i,t)}),n},Pj=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:HE(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(EH(s)){Pj(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Pj(o,HE(t,i),r,n)})})},HE=(e,t)=>{let r=e;return t.split(US).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},EH=e=>e.isThemeGetter,OH=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,PH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},s4="!",AH=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===s&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(s4),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},TH=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},RH=e=>({cache:PH(e.cacheSize),parseClassName:AH(e),...NH(e)}),MH=/\s+/,$H=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(MH);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=TH(d).join(":"),x=f?v+s4:v,y=x+p;if(i.includes(y))continue;i.push(y);const w=s(p,g);for(let S=0;S<w.length;++S){const j=w[S];i.push(x+j)}l=u+(l.length>0?" "+l:l)}return l};function IH(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=i4(t))&&(n&&(n+=" "),n+=r);return n}const i4=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=i4(e[n]))&&(r&&(r+=" "),r+=t);return r};function DH(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=RH(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=$H(c,r);return s(c,d),d}return function(){return i(IH.apply(null,arguments))}}const Yt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},a4=/^\[(?:([a-z-]+):)?(.+)\]$/i,LH=/^\d+\/\d+$/,FH=new Set(["px","full","screen"]),UH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zi=e=>xu(e)||FH.has(e)||LH.test(e),Ja=e=>Dd(e,"length",JH),xu=e=>!!e&&!Number.isNaN(Number(e)),rw=e=>Dd(e,"number",xu),mf=e=>!!e&&Number.isInteger(Number(e)),VH=e=>e.endsWith("%")&&xu(e.slice(0,-1)),rt=e=>a4.test(e),Za=e=>UH.test(e),KH=new Set(["length","size","percentage"]),HH=e=>Dd(e,KH,o4),GH=e=>Dd(e,"position",o4),YH=new Set(["image","url"]),QH=e=>Dd(e,YH,e7),XH=e=>Dd(e,"",ZH),pf=()=>!0,Dd=(e,t,r)=>{const n=a4.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},JH=e=>BH.test(e)&&!qH.test(e),o4=()=>!1,ZH=e=>zH.test(e),e7=e=>WH.test(e),t7=()=>{const e=Yt("colors"),t=Yt("spacing"),r=Yt("blur"),n=Yt("brightness"),s=Yt("borderColor"),i=Yt("borderRadius"),o=Yt("borderSpacing"),l=Yt("borderWidth"),c=Yt("contrast"),u=Yt("grayscale"),d=Yt("hueRotate"),f=Yt("invert"),h=Yt("gap"),m=Yt("gradientColorStops"),g=Yt("gradientColorStopPositions"),p=Yt("inset"),v=Yt("margin"),x=Yt("opacity"),y=Yt("padding"),w=Yt("saturate"),S=Yt("scale"),j=Yt("sepia"),_=Yt("skew"),N=Yt("space"),k=Yt("translate"),C=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",rt,t],E=()=>[rt,t],U=()=>["",Zi,Ja],P=()=>["auto",xu,rt],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",rt],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[xu,rt];return{cacheSize:500,separator:":",theme:{colors:[pf],spacing:[Zi,Ja],blur:["none","",Za,rt],brightness:X(),borderColor:[e],borderRadius:["none","","full",Za,rt],borderSpacing:E(),borderWidth:U(),contrast:X(),grayscale:M(),hueRotate:X(),invert:M(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[VH,Ja],inset:I(),margin:I(),opacity:X(),padding:E(),saturate:X(),scale:X(),sepia:M(),skew:X(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[Za]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),rt]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mf,rt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",mf,rt]}],"grid-cols":[{"grid-cols":[pf]}],"col-start-end":[{col:["auto",{span:["full",mf,rt]},rt]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[pf]}],"row-start-end":[{row:["auto",{span:[mf,rt]},rt]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,t]}],"min-w":[{"min-w":[rt,t,"min","max","fit"]}],"max-w":[{"max-w":[rt,t,"none","full","min","max","fit","prose",{screen:[Za]},Za]}],h:[{h:[rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Za,Ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rw]}],"font-family":[{font:[pf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",xu,rw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zi,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zi,Ja]}],"underline-offset":[{"underline-offset":["auto",Zi,rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),GH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",HH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QH]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[Zi,rt]}],"outline-w":[{outline:[Zi,Ja]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Zi,Ja]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Za,XH]}],"shadow-color":[{shadow:[pf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Za,rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[mf,rt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Zi,Ja,rw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},r7=DH(t7);function Z(...e){return r7(ht(e))}function n7({visible:e,message:t="Processing",className:r}){return e?a.jsxs("div",{role:"status","aria-live":"polite","aria-label":t,className:Z("fixed inset-0 z-[100] flex flex-col items-center justify-center gap-4","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200",r),children:[a.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-xl bg-card p-8 shadow-card-hover",children:[a.jsx(fn,{className:"h-10 w-10 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:t})]}),a.jsx("span",{className:"sr-only",children:t})]}):null}function Ee(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function GE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Fa(...e){return t=>{let r=!1;const n=e.map(s=>{const i=GE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():GE(e[s],null)}}}}function gt(...e){return b.useCallback(Fa(...e),e)}function s7(e,t){const r=b.createContext(t),n=i=>{const{children:o,...l}=i,c=b.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=b.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Ki(e,t=[]){let r=[];function n(i,o){const l=b.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:m,...g}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=b.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,i7(s,...t)]}function i7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Cr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},a7=ky[" useId ".trim().toString()]||(()=>{}),o7=0;function Di(e){const[t,r]=b.useState(a7());return Cr(()=>{r(n=>n??String(o7++))},[e]),t?`radix-${t}`:""}var l7=ky[" useInsertionEffect ".trim().toString()]||Cr;function ec({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=c7({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=b.useRef(e!==void 0);b.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=b.useCallback(d=>{var f;if(l){const h=u7(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function c7({defaultProp:e,onChange:t}){const[r,n]=b.useState(e),s=b.useRef(r),i=b.useRef(t);return l7(()=>{i.current=t},[t]),b.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function u7(e){return typeof e=="function"}function d7(e){const t=f7(e),r=b.forwardRef((n,s)=>{const{children:i,...o}=n,l=b.Children.toArray(i),c=l.find(m7);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function f7(e){const t=b.forwardRef((r,n)=>{const{children:s,...i}=r;if(b.isValidElement(s)){const o=g7(s),l=p7(i,s.props);return s.type!==b.Fragment&&(l.ref=n?Fa(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var h7=Symbol("radix.slottable");function m7(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===h7}function p7(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function g7(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var v7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Je=v7.reduce((e,t)=>{const r=d7(`Primitive.${t}`),n=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function l4(e,t){e&&Od.flushSync(()=>e.dispatchEvent(t))}function zr(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function y7(e,t=globalThis==null?void 0:globalThis.document){const r=zr(e);b.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var x7="DismissableLayer",Aj="dismissableLayer.update",b7="dismissableLayer.pointerDownOutside",w7="dismissableLayer.focusOutside",YE,c4=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rx=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=b.useContext(c4),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),g=gt(t,N=>f(N)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(v),y=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=x,j=S7(N=>{const k=N.target,C=[...u.branches].some(T=>T.contains(k));!S||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),_=N7(N=>{const k=N.target;[...u.branches].some(T=>T.contains(k))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return y7(N=>{y===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(YE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),QE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=YE)}},[d,h,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),QE())},[d,u]),b.useEffect(()=>{const N=()=>m({});return document.addEventListener(Aj,N),()=>document.removeEventListener(Aj,N)},[]),a.jsx(Je.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,j.onPointerDownCapture)})});rx.displayName=x7;var j7="DismissableLayerBranch",_7=b.forwardRef((e,t)=>{const r=b.useContext(c4),n=b.useRef(null),s=gt(t,n);return b.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Je.div,{...e,ref:s})});_7.displayName=j7;function S7(e,t=globalThis==null?void 0:globalThis.document){const r=zr(e),n=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){u4(b7,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function N7(e,t=globalThis==null?void 0:globalThis.document){const r=zr(e),n=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!n.current&&u4(w7,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function QE(){const e=new CustomEvent(Aj);document.dispatchEvent(e)}function u4(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?l4(s,i):s.dispatchEvent(i)}var nw="focusScope.autoFocusOnMount",sw="focusScope.autoFocusOnUnmount",XE={bubbles:!1,cancelable:!0},k7="FocusScope",nx=b.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=b.useState(null),u=zr(s),d=zr(i),f=b.useRef(null),h=gt(t,p=>c(p)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const S=w.target;l.contains(S)?f.current=S:ro(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||ro(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&ro(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),y.disconnect()}}},[n,l,m.paused]),b.useEffect(()=>{if(l){ZE.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(nw,XE);l.addEventListener(nw,u),l.dispatchEvent(x),x.defaultPrevented||(C7(T7(d4(l)),{select:!0}),document.activeElement===p&&ro(l))}return()=>{l.removeEventListener(nw,u),setTimeout(()=>{const x=new CustomEvent(sw,XE);l.addEventListener(sw,d),l.dispatchEvent(x),x.defaultPrevented||ro(p??document.body,{select:!0}),l.removeEventListener(sw,d),ZE.remove(m)},0)}}},[l,u,d,m]);const g=b.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(v&&x){const y=p.currentTarget,[w,S]=E7(y);w&&S?!p.shiftKey&&x===S?(p.preventDefault(),r&&ro(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&ro(S,{select:!0})):x===y&&p.preventDefault()}},[r,n,m.paused]);return a.jsx(Je.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});nx.displayName=k7;function C7(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ro(n,{select:t}),document.activeElement!==r)return}function E7(e){const t=d4(e),r=JE(t,e),n=JE(t.reverse(),e);return[r,n]}function d4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function JE(e,t){for(const r of e)if(!O7(r,{upTo:t}))return r}function O7(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function P7(e){return e instanceof HTMLInputElement&&"select"in e}function ro(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&P7(e)&&t&&e.select()}}var ZE=A7();function A7(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=e2(e,t),e.unshift(t)},remove(t){var r;e=e2(e,t),(r=e[0])==null||r.resume()}}}function e2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function T7(e){return e.filter(t=>t.tagName!=="A")}var R7="Portal",sx=b.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=b.useState(!1);Cr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Y$.createPortal(a.jsx(Je.div,{...n,ref:t}),o):null});sx.displayName=R7;function M7(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var us=e=>{const{present:t,children:r}=e,n=$7(t),s=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),i=gt(n.ref,I7(s));return typeof r=="function"||n.isPresent?b.cloneElement(s,{ref:i}):null};us.displayName="Presence";function $7(e){const[t,r]=b.useState(),n=b.useRef(null),s=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=M7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Rp(n.current);i.current=l==="mounted"?u:"none"},[l]),Cr(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=Rp(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Cr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Rp(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(i.current=Rp(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Rp(e){return(e==null?void 0:e.animationName)||"none"}function I7(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var iw=0;function BS(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??t2()),document.body.insertAdjacentElement("beforeend",e[1]??t2()),iw++,()=>{iw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),iw--}},[])}function t2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var bg="right-scroll-bar-position",wg="width-before-scroll-bar",D7="with-scroll-bars-hidden",L7="--removed-body-scroll-bar-size";function aw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function F7(e,t){var r=b.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var U7=typeof window<"u"?b.useLayoutEffect:b.useEffect,r2=new WeakMap;function B7(e,t){var r=F7(null,function(n){return e.forEach(function(s){return aw(s,n)})});return U7(function(){var n=r2.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||aw(l,null)}),i.forEach(function(l){s.has(l)||aw(l,o)})}r2.set(r,e)},[e]),r}function q7(e){return e}function z7(e,t){t===void 0&&(t=q7);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function W7(e){e===void 0&&(e={});var t=z7(null);return t.options=Oi({async:!0,ssr:!1},e),t}var f4=function(e){var t=e.sideCar,r=Rd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,Oi({},r))};f4.isSideCarExport=!0;function V7(e,t){return e.useMedium(t),f4}var h4=W7(),ow=function(){},ix=b.forwardRef(function(e,t){var r=b.useRef(null),n=b.useState({onScrollCapture:ow,onWheelCapture:ow,onTouchMoveCapture:ow}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,w=e.gapMode,S=Rd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,_=B7([r,t]),N=Oi(Oi({},S),s);return b.createElement(b.Fragment,null,d&&b.createElement(j,{sideCar:h4,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?b.cloneElement(b.Children.only(l),Oi(Oi({},N),{ref:_})):b.createElement(y,Oi({},N,{className:c,ref:_}),l))});ix.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ix.classNames={fullWidth:wg,zeroRight:bg};var K7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function H7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=K7();return t&&e.setAttribute("nonce",t),e}function G7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Y7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Q7=function(){var e=0,t=null;return{add:function(r){e==0&&(t=H7())&&(G7(t,r),Y7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},X7=function(){var e=Q7();return function(t,r){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},m4=function(){var e=X7(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},J7={left:0,top:0,right:0,gap:0},lw=function(e){return parseInt(e||"",10)||0},Z7=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[lw(r),lw(n),lw(s)]},eG=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return J7;var t=Z7(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},tG=m4(),bu="data-scroll-locked",rG=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(D7,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(bu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(wg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(bg," .").concat(bg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(wg," .").concat(wg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(bu,`] {
    `).concat(L7,": ").concat(l,`px;
  }
`)},n2=function(){var e=parseInt(document.body.getAttribute(bu)||"0",10);return isFinite(e)?e:0},nG=function(){b.useEffect(function(){return document.body.setAttribute(bu,(n2()+1).toString()),function(){var e=n2()-1;e<=0?document.body.removeAttribute(bu):document.body.setAttribute(bu,e.toString())}},[])},sG=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;nG();var i=b.useMemo(function(){return eG(s)},[s]);return b.createElement(tG,{styles:rG(i,!t,s,r?"":"!important")})},Tj=!1;if(typeof window<"u")try{var Mp=Object.defineProperty({},"passive",{get:function(){return Tj=!0,!0}});window.addEventListener("test",Mp,Mp),window.removeEventListener("test",Mp,Mp)}catch{Tj=!1}var $c=Tj?{passive:!1}:!1,iG=function(e){return e.tagName==="TEXTAREA"},p4=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!iG(e)&&r[t]==="visible")},aG=function(e){return p4(e,"overflowY")},oG=function(e){return p4(e,"overflowX")},s2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=g4(e,n);if(s){var i=v4(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},lG=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},cG=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},g4=function(e,t){return e==="v"?aG(t):oG(t)},v4=function(e,t){return e==="v"?lG(t):cG(t)},uG=function(e,t){return e==="h"&&t==="rtl"?-1:1},dG=function(e,t,r,n,s){var i=uG(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=v4(e,l),g=m[0],p=m[1],v=m[2],x=p-v-i*g;(g||x)&&g4(e,l)&&(f+=x,h+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},$p=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},i2=function(e){return[e.deltaX,e.deltaY]},a2=function(e){return e&&"current"in e?e.current:e},fG=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hG=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mG=0,Ic=[];function pG(e){var t=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),s=b.useState(mG++)[0],i=b.useState(m4)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=uV([e.lockRef.current],(e.shards||[]).map(a2),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=$p(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-x[0],S="deltaY"in p?p.deltaY:y[1]-x[1],j,_=p.target,N=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&N==="h"&&_.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,T=C?C===_||C.contains(_):!1;if(T)return!1;var I=s2(N,_);if(!I)return!0;if(I?j=N:(j=N==="v"?"h":"v",I=s2(N,_)),!I)return!1;if(!n.current&&"changedTouches"in p&&(w||S)&&(n.current=j),!j)return!0;var E=n.current||j;return dG(E,v,p,E==="h"?w:S)},[]),c=b.useCallback(function(p){var v=p;if(!(!Ic.length||Ic[Ic.length-1]!==i)){var x="deltaY"in v?i2(v):$p(v),y=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&fG(j.delta,x)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(a2).filter(Boolean).filter(function(j){return j.contains(v.target)}),S=w.length>0?l(v,w[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(p,v,x,y){var w={name:p,delta:v,target:x,should:y,shadowParent:gG(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=b.useCallback(function(p){r.current=$p(p),n.current=void 0},[]),f=b.useCallback(function(p){u(p.type,i2(p),p.target,l(p,e.lockRef.current))},[]),h=b.useCallback(function(p){u(p.type,$p(p),p.target,l(p,e.lockRef.current))},[]);b.useEffect(function(){return Ic.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,$c),document.addEventListener("touchmove",c,$c),document.addEventListener("touchstart",d,$c),function(){Ic=Ic.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,$c),document.removeEventListener("touchmove",c,$c),document.removeEventListener("touchstart",d,$c)}},[]);var m=e.removeScrollBar,g=e.inert;return b.createElement(b.Fragment,null,g?b.createElement(i,{styles:hG(s)}):null,m?b.createElement(sG,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function gG(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const vG=V7(h4,pG);var ax=b.forwardRef(function(e,t){return b.createElement(ix,Oi({},e,{ref:t,sideCar:vG}))});ax.classNames=ix.classNames;var yG=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Dc=new WeakMap,Ip=new WeakMap,Dp={},cw=0,y4=function(e){return e&&(e.host||y4(e.parentNode))},xG=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=y4(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},bG=function(e,t,r,n){var s=xG(t,Array.isArray(e)?e:[e]);Dp[r]||(Dp[r]=new WeakMap);var i=Dp[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Dc.get(h)||0)+1,v=(i.get(h)||0)+1;Dc.set(h,p),i.set(h,v),o.push(h),p===1&&g&&Ip.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),cw++,function(){o.forEach(function(f){var h=Dc.get(f)-1,m=i.get(f)-1;Dc.set(f,h),i.set(f,m),h||(Ip.has(f)||f.removeAttribute(n),Ip.delete(f)),m||f.removeAttribute(r)}),cw--,cw||(Dc=new WeakMap,Dc=new WeakMap,Ip=new WeakMap,Dp={})}},qS=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=yG(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),bG(n,s,r,"aria-hidden")):function(){return null}};function wG(e){const t=jG(e),r=b.forwardRef((n,s)=>{const{children:i,...o}=n,l=b.Children.toArray(i),c=l.find(SG);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function jG(e){const t=b.forwardRef((r,n)=>{const{children:s,...i}=r;if(b.isValidElement(s)){const o=kG(s),l=NG(i,s.props);return s.type!==b.Fragment&&(l.ref=n?Fa(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _G=Symbol("radix.slottable");function SG(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_G}function NG(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function kG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ox="Dialog",[x4]=Ki(ox),[CG,gi]=x4(ox),b4=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[u,d]=ec({prop:n,defaultProp:s??!1,onChange:i,caller:ox});return a.jsx(CG,{scope:t,triggerRef:l,contentRef:c,contentId:Di(),titleId:Di(),descriptionId:Di(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};b4.displayName=ox;var w4="DialogTrigger",EG=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gi(w4,r),i=gt(t,s.triggerRef);return a.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":VS(s.open),...n,ref:i,onClick:Ee(e.onClick,s.onOpenToggle)})});EG.displayName=w4;var zS="DialogPortal",[OG,j4]=x4(zS,{forceMount:void 0}),_4=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=gi(zS,t);return a.jsx(OG,{scope:t,forceMount:r,children:b.Children.map(n,o=>a.jsx(us,{present:r||i.open,children:a.jsx(sx,{asChild:!0,container:s,children:o})}))})};_4.displayName=zS;var rv="DialogOverlay",S4=b.forwardRef((e,t)=>{const r=j4(rv,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=gi(rv,e.__scopeDialog);return i.modal?a.jsx(us,{present:n||i.open,children:a.jsx(AG,{...s,ref:t})}):null});S4.displayName=rv;var PG=wG("DialogOverlay.RemoveScroll"),AG=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gi(rv,r);return a.jsx(ax,{as:PG,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Je.div,{"data-state":VS(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),tc="DialogContent",N4=b.forwardRef((e,t)=>{const r=j4(tc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=gi(tc,e.__scopeDialog);return a.jsx(us,{present:n||i.open,children:i.modal?a.jsx(TG,{...s,ref:t}):a.jsx(RG,{...s,ref:t})})});N4.displayName=tc;var TG=b.forwardRef((e,t)=>{const r=gi(tc,e.__scopeDialog),n=b.useRef(null),s=gt(t,r.contentRef,n);return b.useEffect(()=>{const i=n.current;if(i)return qS(i)},[]),a.jsx(k4,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ee(e.onFocusOutside,i=>i.preventDefault())})}),RG=b.forwardRef((e,t)=>{const r=gi(tc,e.__scopeDialog),n=b.useRef(!1),s=b.useRef(!1);return a.jsx(k4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),k4=b.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=gi(tc,r),c=b.useRef(null),u=gt(t,c);return BS(),a.jsxs(a.Fragment,{children:[a.jsx(nx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(rx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":VS(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(MG,{titleId:l.titleId}),a.jsx(IG,{contentRef:c,descriptionId:l.descriptionId})]})]})}),WS="DialogTitle",C4=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gi(WS,r);return a.jsx(Je.h2,{id:s.titleId,...n,ref:t})});C4.displayName=WS;var E4="DialogDescription",O4=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gi(E4,r);return a.jsx(Je.p,{id:s.descriptionId,...n,ref:t})});O4.displayName=E4;var P4="DialogClose",A4=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gi(P4,r);return a.jsx(Je.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,()=>s.onOpenChange(!1))})});A4.displayName=P4;function VS(e){return e?"open":"closed"}var T4="DialogTitleWarning",[NRe,R4]=s7(T4,{contentName:tc,titleName:WS,docsSlug:"dialog"}),MG=({titleId:e})=>{const t=R4(T4),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},$G="DialogDescriptionWarning",IG=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${R4($G).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},DG=b4,LG=_4,M4=S4,$4=N4,I4=C4,D4=O4,FG=A4;const ze=DG,UG=LG,L4=b.forwardRef(({className:e,...t},r)=>a.jsx(M4,{ref:r,className:Z("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));L4.displayName=M4.displayName;const Le=b.forwardRef(({className:e,children:t,showClose:r=!0,...n},s)=>a.jsxs(UG,{children:[a.jsx(L4,{}),a.jsxs($4,{ref:s,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[640px] translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",e),...n,children:[t,r&&a.jsxs(FG,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Yu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Le.displayName=$4.displayName;const Fe=({className:e,...t})=>a.jsx("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fe.displayName="DialogHeader";const Ve=({className:e,...t})=>a.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ve.displayName="DialogFooter";const Ue=b.forwardRef(({className:e,...t},r)=>a.jsx(I4,{ref:r,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));Ue.displayName=I4.displayName;const Be=b.forwardRef(({className:e,...t},r)=>a.jsx(D4,{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));Be.displayName=D4.displayName;var BG=Symbol.for("react.lazy"),nv=ky[" use ".trim().toString()];function qG(e){return typeof e=="object"&&e!==null&&"then"in e}function F4(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===BG&&"_payload"in e&&qG(e._payload)}function zm(e){const t=WG(e),r=b.forwardRef((n,s)=>{let{children:i,...o}=n;F4(i)&&typeof nv=="function"&&(i=nv(i._payload));const l=b.Children.toArray(i),c=l.find(KG);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var zG=zm("Slot");function WG(e){const t=b.forwardRef((r,n)=>{let{children:s,...i}=r;if(F4(s)&&typeof nv=="function"&&(s=nv(s._payload)),b.isValidElement(s)){const o=GG(s),l=HG(i,s.props);return s.type!==b.Fragment&&(l.ref=n?Fa(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VG=Symbol("radix.slottable");function KG(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VG}function HG(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function GG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const o2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,l2=ht,KS=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return l2(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=o2(d)||o2(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...i,...l}[p]):{...i,...l}[p]===v})?[...u,f,h]:u},[]);return l2(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},YG=KS("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow hover:opacity-90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:opacity-90",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),O=b.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?zG:"button";return a.jsx(o,{className:Z(YG({variant:t,size:r,className:e})),ref:i,...s})});O.displayName="Button";function QG({open:e,onOpenChange:t,message:r="Operation completed successfully.",nextSteps:n,onClose:s,className:i}){const o=l=>{l||s==null||s(),t(l)};return a.jsx(ze,{open:e,onOpenChange:o,children:a.jsxs(Le,{showClose:!0,className:Z("max-w-[640px]",i),"aria-describedby":"operation-success-description",children:[a.jsx(Fe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15",children:a.jsx(Ko,{className:"h-6 w-6 text-success","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ue,{children:"Success"}),a.jsx(Be,{id:"operation-success-description",children:r})]})]})}),n&&n.length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/30 p-4",children:[a.jsx("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Next steps"}),a.jsx("ul",{className:"flex flex-col gap-2",children:n.map((l,c)=>a.jsx("li",{children:l.href?a.jsx(O,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",asChild:!0,children:a.jsx("a",{href:l.href,children:l.label})}):a.jsx(O,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",onClick:()=>{var u;(u=l.onClick)==null||u.call(l),o(!1)},children:l.label})},c))})]}),a.jsx(Ve,{children:a.jsx(O,{onClick:()=>o(!1),className:"transition-transform hover:scale-[1.02]",children:"Done"})})]})})}function XG({open:e,onOpenChange:t,message:r="Are you sure you want to cancel this operation? Progress may be lost.",confirmLabel:n="Yes, cancel",onConfirm:s,onCancel:i,isConfirming:o=!1,className:l}){const c=()=>{s==null||s(),t(!1)},u=()=>{i==null||i(),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{showClose:!0,className:Z("max-w-[640px]",l),"aria-describedby":"abort-confirm-description",children:[a.jsx(Fe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-warning/15",children:a.jsx(vc,{className:"h-6 w-6 text-warning","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ue,{children:"Cancel operation?"}),a.jsx(Be,{id:"abort-confirm-description",children:r})]})]})}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{variant:"outline",onClick:u,disabled:o,className:"transition-transform hover:scale-[1.02]",children:"No, continue"}),a.jsx(O,{variant:"destructive",onClick:c,disabled:o,className:"transition-transform hover:scale-[1.02]",children:o?"Cancelling":n})]})]})})}const c2={visible:!1},u2={visible:!1},d2={visible:!1},U4=b.createContext(null);function JG({children:e}){const[t,r]=b.useState(c2),[n,s]=b.useState(u2),[i,o]=b.useState(d2),l=b.useCallback(g=>{r({visible:!0,message:g})},[]),c=b.useCallback(()=>{r(c2)},[]),u=b.useCallback((g,p)=>{s({visible:!0,message:g,nextSteps:p})},[]),d=b.useCallback(()=>{s(u2)},[]),f=b.useCallback(g=>{o({visible:!0,message:g.message,onConfirm:g.onConfirm,onCancel:g.onCancel,confirmLabel:g.confirmLabel})},[]),h=b.useCallback(()=>{o(d2)},[]),m=b.useMemo(()=>({loading:t,success:n,abortConfirm:i,showLoading:l,hideLoading:c,showSuccess:u,hideSuccess:d,showAbortConfirm:f,hideAbortConfirm:h}),[t,n,i,l,c,u,d,f,h]);return a.jsx(U4.Provider,{value:m,children:e})}function ZG(){const e=b.useContext(U4);if(!e)throw new Error("useOperationStateContext must be used within OperationStateProvider");return e}function eY(){const{loading:e,success:t,abortConfirm:r,hideSuccess:n,hideAbortConfirm:s}=ZG();return a.jsxs(a.Fragment,{children:[a.jsx(n7,{visible:e.visible,message:e.message}),a.jsx(QG,{open:t.visible,onOpenChange:i=>!i&&n(),message:t.message,nextSteps:t.nextSteps,onClose:n}),a.jsx(XG,{open:r.visible,onOpenChange:i=>!i&&s(),message:r.message,confirmLabel:r.confirmLabel??"Yes, cancel",onConfirm:r.onConfirm,onCancel:r.onCancel})]})}function tY({children:e}){return a.jsxs(JG,{children:[a.jsx(eY,{}),e]})}var rY=b.createContext(void 0);function Wm(e){const t=b.useContext(rY);return e||t||"ltr"}function Rj(e,[t,r]){return Math.min(r,Math.max(t,e))}function nY(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var HS="ScrollArea",[B4]=Ki(HS),[sY,Ts]=B4(HS),q4=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(null),[m,g]=b.useState(null),[p,v]=b.useState(null),[x,y]=b.useState(0),[w,S]=b.useState(0),[j,_]=b.useState(!1),[N,k]=b.useState(!1),C=gt(t,I=>c(I)),T=Wm(s);return a.jsx(sY,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:_,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:S,children:a.jsx(Je.div,{dir:T,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});q4.displayName=HS;var z4="ScrollAreaViewport",W4=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=Ts(z4,r),l=b.useRef(null),c=gt(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Je.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});W4.displayName=z4;var Hi="ScrollAreaScrollbar",GS=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ts(Hi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return b.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(iY,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(aY,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(V4,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(YS,{...n,ref:t}):null});GS.displayName=Hi;var iY=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ts(Hi,e.__scopeScrollArea),[i,o]=b.useState(!1);return b.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(us,{present:r||i,children:a.jsx(V4,{"data-state":i?"visible":"hidden",...n,ref:t})})}),aY=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ts(Hi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=cx(()=>c("SCROLL_END"),100),[l,c]=nY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),b.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(us,{present:r||l!=="hidden",children:a.jsx(YS,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ee(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ee(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),V4=b.forwardRef((e,t)=>{const r=Ts(Hi,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=b.useState(!1),l=e.orientation==="horizontal",c=cx(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Qu(r.viewport,c),Qu(r.content,c),a.jsx(us,{present:n||i,children:a.jsx(YS,{"data-state":i?"visible":"hidden",...s,ref:t})})}),YS=b.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Ts(Hi,e.__scopeScrollArea),i=b.useRef(null),o=b.useRef(0),[l,c]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Q4(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return fY(h,o.current,l,m)}return r==="horizontal"?a.jsx(oY,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=f2(h,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(lY,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=f2(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),oY=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ts(Hi,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=gt(t,c,i.onScrollbarXChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(H4,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":lx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),J4(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:iv(o.paddingLeft),paddingEnd:iv(o.paddingRight)}})}})}),lY=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ts(Hi,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=gt(t,c,i.onScrollbarYChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(H4,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":lx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),J4(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:iv(o.paddingTop),paddingEnd:iv(o.paddingBottom)}})}})}),[cY,K4]=B4(Hi),H4=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Ts(Hi,r),[g,p]=b.useState(null),v=gt(t,C=>p(C)),x=b.useRef(null),y=b.useRef(""),w=m.viewport,S=n.content-n.viewport,j=zr(d),_=zr(c),N=cx(f,10);function k(C){if(x.current){const T=C.clientX-x.current.left,I=C.clientY-x.current.top;u({x:T,y:I})}}return b.useEffect(()=>{const C=T=>{const I=T.target;(g==null?void 0:g.contains(I))&&j(T,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,S,j]),b.useEffect(_,[n,_]),Qu(g,N),Qu(m.content,N),a.jsx(cY,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:zr(i),onThumbPointerUp:zr(o),onThumbPositionChange:_,onThumbPointerDown:zr(l),children:a.jsx(Je.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Ee(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),x.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:Ee(e.onPointerMove,k),onPointerUp:Ee(e.onPointerUp,C=>{const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),sv="ScrollAreaThumb",G4=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=K4(sv,e.__scopeScrollArea);return a.jsx(us,{present:r||s.hasThumb,children:a.jsx(uY,{ref:t,...n})})}),uY=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Ts(sv,r),o=K4(sv,r),{onThumbPositionChange:l}=o,c=gt(t,f=>o.onThumbChange(f)),u=b.useRef(void 0),d=cx(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=hY(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Je.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ee(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:Ee(e.onPointerUp,o.onThumbPointerUp)})});G4.displayName=sv;var QS="ScrollAreaCorner",Y4=b.forwardRef((e,t)=>{const r=Ts(QS,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(dY,{...e,ref:t}):null});Y4.displayName=QS;var dY=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Ts(QS,r),[i,o]=b.useState(0),[l,c]=b.useState(0),u=!!(i&&l);return Qu(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Qu(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Je.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function iv(e){return e?parseInt(e,10):0}function Q4(e,t){const r=e/t;return isNaN(r)?0:r}function lx(e){const t=Q4(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function fY(e,t,r,n="ltr"){const s=lx(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return X4([c,u],f)(e)}function f2(e,t,r="ltr"){const n=lx(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Rj(e,c);return X4([0,o],[0,l])(u)}function X4(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function J4(e,t){return e>0&&e<t}var hY=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function cx(e,t){const r=zr(e),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Qu(e,t){const r=zr(t);Cr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var Z4=q4,mY=W4,pY=Y4;const St=b.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Z4,{ref:n,className:Z("relative overflow-hidden",e),...r,children:[a.jsx(mY,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(eD,{}),a.jsx(pY,{})]}));St.displayName=Z4.displayName;const eD=b.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(GS,{ref:n,orientation:t,className:Z("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(G4,{className:"relative flex-1 rounded-full bg-border"})}));eD.displayName=GS.displayName;var gY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vY=gY.reduce((e,t)=>{const r=zm(`Primitive.${t}`),n=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),yY="Separator",h2="horizontal",xY=["horizontal","vertical"],tD=b.forwardRef((e,t)=>{const{decorative:r,orientation:n=h2,...s}=e,i=bY(n)?n:h2,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(vY.div,{"data-orientation":i,...l,...s,ref:t})});tD.displayName=yY;function bY(e){return xY.includes(e)}var rD=tD;const XS=b.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(rD,{ref:s,decorative:r,orientation:t,className:Z("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));XS.displayName=rD.displayName;const wY=[{to:"/dashboard",label:"Dashboard",icon:$S},{to:"/profile",label:"Profile",icon:ex},{to:"/chat",label:"Chat Session",icon:qm},{to:"/channels",label:"Channels & Adapters",icon:pH},{to:"/skills",label:"Skills Library",icon:PS},{to:"/skill-editor",label:"Skill Editor",icon:Vr},{to:"/marketplace",label:"Marketplace",icon:Zy},{to:"/nodes",label:"Nodes",icon:$i},{to:"/cron",label:"Cron Jobs",icon:Gy},{to:"/webhooks",label:"Webhooks & Hooks",icon:Oj},{to:"/model-providers",label:"Model Providers",icon:DI},{to:"/browser",label:"Browser Automation",icon:Jy},{to:"/voice",label:"Voice & Media",icon:Uh},{to:"/secrets",label:"Secrets & Keychain",icon:Fh},{to:"/settings",label:"Settings",icon:ya},{to:"/security",label:"Security Audit",icon:Un},{to:"/logs",label:"Logs & Tracing",icon:Vr},{to:"/admin",label:"Admin",icon:Un}];function jY(){const[e,t]=b.useState(!1);return a.jsxs("aside",{className:Z("flex flex-col border-r border-border bg-card transition-[width] duration-200",e?"w-[72px]":"w-56"),children:[a.jsxs("div",{className:"flex h-14 items-center justify-between border-b border-border px-3",children:[!e&&a.jsx("span",{className:"truncate text-sm font-semibold",children:"Clawgate"}),a.jsx(O,{variant:"ghost",size:"icon",onClick:()=>t(r=>!r),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(is,{className:"h-4 w-4"}):a.jsx(LI,{className:"h-4 w-4"})})]}),a.jsx(St,{className:"flex-1 py-2",children:a.jsx("nav",{className:"flex flex-col gap-0.5 px-2",children:wY.map(({to:r,label:n,icon:s})=>a.jsxs(Qz,{to:r,className:({isActive:i})=>Z("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",e&&"justify-center px-2"),children:[a.jsx(s,{className:"h-5 w-5 shrink-0"}),!e&&a.jsx("span",{className:"truncate",children:n})]},r))})}),a.jsx(XS,{})]})}const ye=b.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ye.displayName="Input";function _Y(e,t=[]){let r=[];function n(i,o){const l=b.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:m,...g}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=b.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,SY(s,...t)]}function SY(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var NY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],JS=NY.reduce((e,t)=>{const r=zm(`Primitive.${t}`),n=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),nD={exports:{}},sD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xu=b;function kY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CY=typeof Object.is=="function"?Object.is:kY,EY=Xu.useState,OY=Xu.useEffect,PY=Xu.useLayoutEffect,AY=Xu.useDebugValue;function TY(e,t){var r=t(),n=EY({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return PY(function(){s.value=r,s.getSnapshot=t,uw(s)&&i({inst:s})},[e,r,t]),OY(function(){return uw(s)&&i({inst:s}),e(function(){uw(s)&&i({inst:s})})},[e]),AY(r),r}function uw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!CY(e,r)}catch{return!0}}function RY(e,t){return t()}var MY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?RY:TY;sD.useSyncExternalStore=Xu.useSyncExternalStore!==void 0?Xu.useSyncExternalStore:MY;nD.exports=sD;var $Y=nD.exports;function IY(){return $Y.useSyncExternalStore(DY,()=>!0,()=>!1)}function DY(){return()=>{}}var ZS="Avatar",[LY]=_Y(ZS),[FY,iD]=LY(ZS),aD=b.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=b.useState("idle");return a.jsx(FY,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(JS.span,{...n,ref:t})})});aD.displayName=ZS;var oD="AvatarImage",lD=b.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=iD(oD,r),l=UY(n,i),c=zr(u=>{s(u),o.onImageLoadingStatusChange(u)});return Cr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(JS.img,{...i,ref:t,src:n}):null});lD.displayName=oD;var cD="AvatarFallback",uD=b.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=iD(cD,r),[o,l]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(JS.span,{...s,ref:t}):null});uD.displayName=cD;function m2(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function UY(e,{referrerPolicy:t,crossOrigin:r}){const n=IY(),s=b.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=b.useState(()=>m2(i,e));return Cr(()=>{l(m2(i,e))},[i,e]),Cr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var dD=aD,fD=lD,hD=uD;const ux=b.forwardRef(({className:e,...t},r)=>a.jsx(dD,{ref:r,className:Z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ux.displayName=dD.displayName;const eN=b.forwardRef(({className:e,...t},r)=>a.jsx(fD,{ref:r,className:Z("aspect-square h-full w-full",e),...t}));eN.displayName=fD.displayName;const dx=b.forwardRef(({className:e,...t},r)=>a.jsx(hD,{ref:r,className:Z("flex h-full w-full items-center justify-center rounded-full bg-muted text-sm font-medium",e),...t}));dx.displayName=hD.displayName;function p2(e){const t=BY(e),r=b.forwardRef((n,s)=>{const{children:i,...o}=n,l=b.Children.toArray(i),c=l.find(zY);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function BY(e){const t=b.forwardRef((r,n)=>{const{children:s,...i}=r;if(b.isValidElement(s)){const o=VY(s),l=WY(i,s.props);return s.type!==b.Fragment&&(l.ref=n?Fa(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qY=Symbol("radix.slottable");function zY(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qY}function WY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function VY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function tN(e){const t=e+"CollectionProvider",[r,n]=Ki(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:x}=p,y=A.useRef(null),w=A.useRef(new Map).current;return a.jsx(s,{scope:v,itemMap:w,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=p2(l),u=A.forwardRef((p,v)=>{const{scope:x,children:y}=p,w=i(l,x),S=gt(v,w.collectionRef);return a.jsx(c,{ref:S,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=p2(d),m=A.forwardRef((p,v)=>{const{scope:x,children:y,...w}=p,S=A.useRef(null),j=gt(v,S),_=i(d,x);return A.useEffect(()=>(_.itemMap.set(S,{ref:S,...w}),()=>void _.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:j,children:y})});m.displayName=d;function g(p){const v=i(e+"CollectionConsumer",p);return A.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((_,N)=>w.indexOf(_.ref.current)-w.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}const KY=["top","right","bottom","left"],Ho=Math.min,Yn=Math.max,av=Math.round,Lp=Math.floor,Li=e=>({x:e,y:e}),HY={left:"right",right:"left",bottom:"top",top:"bottom"},GY={start:"end",end:"start"};function Mj(e,t,r){return Yn(e,Ho(t,r))}function Ca(e,t){return typeof e=="function"?e(t):e}function Ea(e){return e.split("-")[0]}function Ld(e){return e.split("-")[1]}function rN(e){return e==="x"?"y":"x"}function nN(e){return e==="y"?"height":"width"}const YY=new Set(["top","bottom"]);function Pi(e){return YY.has(Ea(e))?"y":"x"}function sN(e){return rN(Pi(e))}function QY(e,t,r){r===void 0&&(r=!1);const n=Ld(e),s=sN(e),i=nN(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ov(o)),[o,ov(o)]}function XY(e){const t=ov(e);return[$j(e),t,$j(t)]}function $j(e){return e.replace(/start|end/g,t=>GY[t])}const g2=["left","right"],v2=["right","left"],JY=["top","bottom"],ZY=["bottom","top"];function eQ(e,t,r){switch(e){case"top":case"bottom":return r?t?v2:g2:t?g2:v2;case"left":case"right":return t?JY:ZY;default:return[]}}function tQ(e,t,r,n){const s=Ld(e);let i=eQ(Ea(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map($j)))),i}function ov(e){return e.replace(/left|right|bottom|top/g,t=>HY[t])}function rQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function mD(e){return typeof e!="number"?rQ(e):{top:e,right:e,bottom:e,left:e}}function lv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function y2(e,t,r){let{reference:n,floating:s}=e;const i=Pi(t),o=sN(t),l=nN(o),c=Ea(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Ld(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}async function nQ(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ca(t,e),g=mD(m),v=l[h?f==="floating"?"reference":"floating":f],x=lv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=lv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-j.top+g.top)/S.y,bottom:(j.bottom-x.bottom+g.bottom)/S.y,left:(x.left-j.left+g.left)/S.x,right:(j.right-x.right+g.right)/S.x}}const sQ=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=y2(u,n,c),h=n,m={},g=0;for(let v=0;v<l.length;v++){var p;const{name:x,fn:y}=l[v],{x:w,y:S,data:j,reset:_}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:{...o,detectOverflow:(p=o.detectOverflow)!=null?p:nQ},elements:{reference:e,floating:t}});d=w??d,f=S??f,m={...m,[x]:{...m[x],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=y2(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}},iQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ca(e,t)||{};if(u==null)return{};const f=mD(d),h={x:r,y:n},m=sN(s),g=nN(m),p=await o.getDimensions(u),v=m==="y",x=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=i.reference[g]+i.reference[m]-h[m]-i.floating[g],j=h[m]-i.reference[m],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=_?_[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(_)))&&(N=l.floating[w]||i.floating[g]);const k=S/2-j/2,C=N/2-p[g]/2-1,T=Ho(f[x],C),I=Ho(f[y],C),E=T,U=N-p[g]-I,P=N/2-p[g]/2+k,B=Mj(E,P,U),R=!c.arrow&&Ld(s)!=null&&P!==B&&i.reference[g]/2-(P<E?T:I)-p[g]/2<0,z=R?P<E?P-E:P-U:0;return{[m]:h[m]+z,data:{[m]:B,centerOffset:P-B-z,...R&&{alignmentOffset:z}},reset:R}}}),aQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=Ca(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=Ea(s),y=Pi(l),w=Ea(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[ov(l)]:XY(l)),_=g!=="none";!h&&_&&j.push(...tQ(l,p,g,S));const N=[l,...j],k=await c.detectOverflow(t,v),C=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[x]),f){const P=QY(s,o,S);C.push(k[P[0]],k[P[1]])}if(T=[...T,{placement:s,overflows:C}],!C.every(P=>P<=0)){var I,E;const P=(((I=i.flip)==null?void 0:I.index)||0)+1,B=N[P];if(B&&(!(f==="alignment"?y!==Pi(B):!1)||T.every(D=>Pi(D.placement)===y?D.overflows[0]>0:!0)))return{data:{index:P,overflows:T},reset:{placement:B}};let R=(E=T.filter(z=>z.overflows[0]<=0).sort((z,D)=>z.overflows[1]-D.overflows[1])[0])==null?void 0:E.placement;if(!R)switch(m){case"bestFit":{var U;const z=(U=T.filter(D=>{if(_){const M=Pi(D.placement);return M===y||M==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(M=>M>0).reduce((M,$)=>M+$,0)]).sort((D,M)=>D[1]-M[1])[0])==null?void 0:U[0];z&&(R=z);break}case"initialPlacement":R=l;break}if(s!==R)return{reset:{placement:R}}}return{}}}};function x2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function b2(e){return KY.some(t=>e[t]>=0)}const oQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...i}=Ca(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...i,elementContext:"reference"}),l=x2(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:b2(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...i,altBoundary:!0}),l=x2(o,r.floating);return{data:{escapedOffsets:l,escaped:b2(l)}}}default:return{}}}}},pD=new Set(["left","top"]);async function lQ(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ea(r),l=Ld(r),c=Pi(r)==="y",u=pD.has(o)?-1:1,d=i&&c?-1:1,f=Ca(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const cQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await lQ(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},uQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:x=>{let{x:y,y:w}=x;return{x:y,y:w}}},...u}=Ca(e,t),d={x:r,y:n},f=await i.detectOverflow(t,u),h=Pi(Ea(s)),m=rN(h);let g=d[m],p=d[h];if(o){const x=m==="y"?"top":"left",y=m==="y"?"bottom":"right",w=g+f[x],S=g-f[y];g=Mj(w,g,S)}if(l){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=p+f[x],S=p-f[y];p=Mj(w,p,S)}const v=c.fn({...t,[m]:g,[h]:p});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[m]:o,[h]:l}}}}}},dQ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ca(e,t),d={x:r,y:n},f=Pi(s),h=rN(f);let m=d[h],g=d[f];const p=Ca(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",S=i.reference[h]-i.floating[w]+v.mainAxis,j=i.reference[h]+i.reference[w]-v.mainAxis;m<S?m=S:m>j&&(m=j)}if(u){var x,y;const w=h==="y"?"width":"height",S=pD.has(Ea(s)),j=i.reference[f]-i.floating[w]+(S&&((x=o.offset)==null?void 0:x[f])||0)+(S?0:v.crossAxis),_=i.reference[f]+i.reference[w]+(S?0:((y=o.offset)==null?void 0:y[f])||0)-(S?v.crossAxis:0);g<j?g=j:g>_&&(g=_)}return{[h]:m,[f]:g}}}},fQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ca(e,t),d=await o.detectOverflow(t,u),f=Ea(s),h=Ld(s),m=Pi(s)==="y",{width:g,height:p}=i.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,w=g-d.left-d.right,S=Ho(p-d[v],y),j=Ho(g-d[x],w),_=!t.middlewareData.shift;let N=S,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=y),_&&!h){const T=Yn(d.left,0),I=Yn(d.right,0),E=Yn(d.top,0),U=Yn(d.bottom,0);m?k=g-2*(T!==0||I!==0?T+I:Yn(d.left,d.right)):N=p-2*(E!==0||U!==0?E+U:Yn(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function fx(){return typeof window<"u"}function Fd(e){return gD(e)?(e.nodeName||"").toLowerCase():"#document"}function ns(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gi(e){var t;return(t=(gD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gD(e){return fx()?e instanceof Node||e instanceof ns(e).Node:!1}function hi(e){return fx()?e instanceof Element||e instanceof ns(e).Element:!1}function qi(e){return fx()?e instanceof HTMLElement||e instanceof ns(e).HTMLElement:!1}function w2(e){return!fx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ns(e).ShadowRoot}const hQ=new Set(["inline","contents"]);function Vm(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=mi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!hQ.has(s)}const mQ=new Set(["table","td","th"]);function pQ(e){return mQ.has(Fd(e))}const gQ=[":popover-open",":modal"];function hx(e){return gQ.some(t=>{try{return e.matches(t)}catch{return!1}})}const vQ=["transform","translate","scale","rotate","perspective"],yQ=["transform","translate","scale","rotate","perspective","filter"],xQ=["paint","layout","strict","content"];function iN(e){const t=aN(),r=hi(e)?mi(e):e;return vQ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||yQ.some(n=>(r.willChange||"").includes(n))||xQ.some(n=>(r.contain||"").includes(n))}function bQ(e){let t=Go(e);for(;qi(t)&&!Ju(t);){if(iN(t))return t;if(hx(t))return null;t=Go(t)}return null}function aN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wQ=new Set(["html","body","#document"]);function Ju(e){return wQ.has(Fd(e))}function mi(e){return ns(e).getComputedStyle(e)}function mx(e){return hi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Go(e){if(Fd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||w2(e)&&e.host||Gi(e);return w2(t)?t.host:t}function vD(e){const t=Go(e);return Ju(t)?e.ownerDocument?e.ownerDocument.body:e.body:qi(t)&&Vm(t)?t:vD(t)}function qh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=vD(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=ns(s);if(i){const l=Ij(o);return t.concat(o,o.visualViewport||[],Vm(s)?s:[],l&&r?qh(l):[])}return t.concat(s,qh(s,[],r))}function Ij(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yD(e){const t=mi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=qi(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=av(r)!==i||av(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function oN(e){return hi(e)?e:e.contextElement}function wu(e){const t=oN(e);if(!qi(t))return Li(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=yD(t);let o=(i?av(r.width):r.width)/n,l=(i?av(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const jQ=Li(0);function xD(e){const t=ns(e);return!aN()||!t.visualViewport?jQ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _Q(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ns(e)?!1:t}function rc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=oN(e);let o=Li(1);t&&(n?hi(n)&&(o=wu(n)):o=wu(e));const l=_Q(i,r,n)?xD(i):Li(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=ns(i),m=n&&hi(n)?ns(n):n;let g=h,p=Ij(g);for(;p&&n&&m!==g;){const v=wu(p),x=p.getBoundingClientRect(),y=mi(p),w=x.left+(p.clientLeft+parseFloat(y.paddingLeft))*v.x,S=x.top+(p.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=S,g=ns(p),p=Ij(g)}}return lv({width:d,height:f,x:c,y:u})}function px(e,t){const r=mx(e).scrollLeft;return t?t.left+r:rc(Gi(e)).left+r}function bD(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-px(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function SQ(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Gi(n),l=t?hx(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Li(1);const d=Li(0),f=qi(n);if((f||!f&&!i)&&((Fd(n)!=="body"||Vm(o))&&(c=mx(n)),qi(n))){const m=rc(n);u=wu(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?bD(o,c):Li(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function NQ(e){return Array.from(e.getClientRects())}function kQ(e){const t=Gi(e),r=mx(e),n=e.ownerDocument.body,s=Yn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Yn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+px(e);const l=-r.scrollTop;return mi(n).direction==="rtl"&&(o+=Yn(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const j2=25;function CQ(e,t){const r=ns(e),n=Gi(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=aN();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=px(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-m);g<=j2&&(i-=g)}else u<=j2&&(i+=u);return{width:i,height:o,x:l,y:c}}const EQ=new Set(["absolute","fixed"]);function OQ(e,t){const r=rc(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=qi(e)?wu(e):Li(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function _2(e,t,r){let n;if(t==="viewport")n=CQ(e,r);else if(t==="document")n=kQ(Gi(e));else if(hi(t))n=OQ(t,r);else{const s=xD(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return lv(n)}function wD(e,t){const r=Go(e);return r===t||!hi(r)||Ju(r)?!1:mi(r).position==="fixed"||wD(r,t)}function PQ(e,t){const r=t.get(e);if(r)return r;let n=qh(e,[],!1).filter(l=>hi(l)&&Fd(l)!=="body"),s=null;const i=mi(e).position==="fixed";let o=i?Go(e):e;for(;hi(o)&&!Ju(o);){const l=mi(o),c=iN(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&EQ.has(s.position)||Vm(o)&&!c&&wD(e,o))?n=n.filter(d=>d!==o):s=l,o=Go(o)}return t.set(e,n),n}function AQ(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?hx(t)?[]:PQ(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=_2(t,d,s);return u.top=Yn(f.top,u.top),u.right=Ho(f.right,u.right),u.bottom=Ho(f.bottom,u.bottom),u.left=Yn(f.left,u.left),u},_2(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function TQ(e){const{width:t,height:r}=yD(e);return{width:t,height:r}}function RQ(e,t,r){const n=qi(t),s=Gi(t),i=r==="fixed",o=rc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Li(0);function u(){c.x=px(s)}if(n||!n&&!i)if((Fd(t)!=="body"||Vm(s))&&(l=mx(t)),n){const m=rc(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?bD(s,l):Li(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function dw(e){return mi(e).position==="static"}function S2(e,t){if(!qi(e)||mi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Gi(e)===r&&(r=r.ownerDocument.body),r}function jD(e,t){const r=ns(e);if(hx(e))return r;if(!qi(e)){let s=Go(e);for(;s&&!Ju(s);){if(hi(s)&&!dw(s))return s;s=Go(s)}return r}let n=S2(e,t);for(;n&&pQ(n)&&dw(n);)n=S2(n,t);return n&&Ju(n)&&dw(n)&&!iN(n)?r:n||bQ(e)||r}const MQ=async function(e){const t=this.getOffsetParent||jD,r=this.getDimensions,n=await r(e.floating);return{reference:RQ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function $Q(e){return mi(e).direction==="rtl"}const IQ={convertOffsetParentRelativeRectToViewportRelativeRect:SQ,getDocumentElement:Gi,getClippingRect:AQ,getOffsetParent:jD,getElementRects:MQ,getClientRects:NQ,getDimensions:TQ,getScale:wu,isElement:hi,isRTL:$Q};function _D(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function DQ(e,t){let r=null,n;const s=Gi(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=Lp(f),p=Lp(s.clientWidth-(d+h)),v=Lp(s.clientHeight-(f+m)),x=Lp(d),w={rootMargin:-g+"px "+-p+"px "+-v+"px "+-x+"px",threshold:Yn(0,Ho(1,c))||1};let S=!0;function j(_){const N=_[0].intersectionRatio;if(N!==c){if(!S)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!_D(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function LQ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=oN(e),d=s||i?[...u?qh(u):[],...qh(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&l?DQ(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?rc(e):null;c&&v();function v(){const x=rc(e);p&&!_D(p,x)&&r(),p=x,g=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(y=>{s&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const FQ=cQ,UQ=uQ,BQ=aQ,qQ=fQ,zQ=oQ,N2=iQ,WQ=dQ,VQ=(e,t,r)=>{const n=new Map,s={platform:IQ,...r},i={...s.platform,_c:n};return sQ(e,t,{...s,platform:i})};var KQ=typeof document<"u",HQ=function(){},jg=KQ?b.useLayoutEffect:HQ;function cv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!cv(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!cv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function SD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function k2(e,t){const r=SD(e);return Math.round(t*r)/r}function fw(e){const t=b.useRef(e);return jg(()=>{t.current=e}),t}function GQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=b.useState(n);cv(h,n)||m(n);const[g,p]=b.useState(null),[v,x]=b.useState(null),y=b.useCallback(D=>{D!==_.current&&(_.current=D,p(D))},[]),w=b.useCallback(D=>{D!==N.current&&(N.current=D,x(D))},[]),S=i||g,j=o||v,_=b.useRef(null),N=b.useRef(null),k=b.useRef(d),C=c!=null,T=fw(c),I=fw(s),E=fw(u),U=b.useCallback(()=>{if(!_.current||!N.current)return;const D={placement:t,strategy:r,middleware:h};I.current&&(D.platform=I.current),VQ(_.current,N.current,D).then(M=>{const $={...M,isPositioned:E.current!==!1};P.current&&!cv(k.current,$)&&(k.current=$,Od.flushSync(()=>{f($)}))})},[h,t,r,I,E]);jg(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const P=b.useRef(!1);jg(()=>(P.current=!0,()=>{P.current=!1}),[]),jg(()=>{if(S&&(_.current=S),j&&(N.current=j),S&&j){if(T.current)return T.current(S,j,U);U()}},[S,j,U,T,C]);const B=b.useMemo(()=>({reference:_,floating:N,setReference:y,setFloating:w}),[y,w]),R=b.useMemo(()=>({reference:S,floating:j}),[S,j]),z=b.useMemo(()=>{const D={position:r,left:0,top:0};if(!R.floating)return D;const M=k2(R.floating,d.x),$=k2(R.floating,d.y);return l?{...D,transform:"translate("+M+"px, "+$+"px)",...SD(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:$}},[r,l,R.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:U,refs:B,elements:R,floatingStyles:z}),[d,U,B,R,z])}const YQ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?N2({element:n.current,padding:s}).fn(r):{}:n?N2({element:n,padding:s}).fn(r):{}}}},QQ=(e,t)=>({...FQ(e),options:[e,t]}),XQ=(e,t)=>({...UQ(e),options:[e,t]}),JQ=(e,t)=>({...WQ(e),options:[e,t]}),ZQ=(e,t)=>({...BQ(e),options:[e,t]}),eX=(e,t)=>({...qQ(e),options:[e,t]}),tX=(e,t)=>({...zQ(e),options:[e,t]}),rX=(e,t)=>({...YQ(e),options:[e,t]});var nX="Arrow",ND=b.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Je.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});ND.displayName=nX;var sX=ND;function kD(e){const[t,r]=b.useState(void 0);return Cr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var lN="Popper",[CD,gx]=Ki(lN),[iX,ED]=CD(lN),OD=e=>{const{__scopePopper:t,children:r}=e,[n,s]=b.useState(null);return a.jsx(iX,{scope:t,anchor:n,onAnchorChange:s,children:r})};OD.displayName=lN;var PD="PopperAnchor",AD=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=ED(PD,r),o=b.useRef(null),l=gt(t,o),c=b.useRef(null);return b.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Je.div,{...s,ref:l})});AD.displayName=PD;var cN="PopperContent",[aX,oX]=CD(cN),TD=b.forwardRef((e,t)=>{var se,Ie,ee,ue,K,H;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=ED(cN,r),[x,y]=b.useState(null),w=gt(t,Xe=>y(Xe)),[S,j]=b.useState(null),_=kD(S),N=(_==null?void 0:_.width)??0,k=(_==null?void 0:_.height)??0,C=n+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],E=I.length>0,U={padding:T,boundary:I.filter(cX),altBoundary:E},{refs:P,floatingStyles:B,placement:R,isPositioned:z,middlewareData:D}=GQ({strategy:"fixed",placement:C,whileElementsMounted:(...Xe)=>LQ(...Xe,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[QQ({mainAxis:s+k,alignmentAxis:o}),c&&XQ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?JQ():void 0,...U}),c&&ZQ({...U}),eX({...U,apply:({elements:Xe,rects:Ke,availableWidth:Ot,availableHeight:kt})=>{const{width:rr,height:rn}=Ke.reference,Cn=Xe.floating.style;Cn.setProperty("--radix-popper-available-width",`${Ot}px`),Cn.setProperty("--radix-popper-available-height",`${kt}px`),Cn.setProperty("--radix-popper-anchor-width",`${rr}px`),Cn.setProperty("--radix-popper-anchor-height",`${rn}px`)}}),S&&rX({element:S,padding:l}),uX({arrowWidth:N,arrowHeight:k}),h&&tX({strategy:"referenceHidden",...U})]}),[M,$]=$D(R),X=zr(g);Cr(()=>{z&&(X==null||X())},[z,X]);const G=(se=D.arrow)==null?void 0:se.x,ce=(Ie=D.arrow)==null?void 0:Ie.y,pe=((ee=D.arrow)==null?void 0:ee.centerOffset)!==0,[We,te]=b.useState();return Cr(()=>{x&&te(window.getComputedStyle(x).zIndex)},[x]),a.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:z?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:We,"--radix-popper-transform-origin":[(ue=D.transformOrigin)==null?void 0:ue.x,(K=D.transformOrigin)==null?void 0:K.y].join(" "),...((H=D.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(aX,{scope:r,placedSide:M,onArrowChange:j,arrowX:G,arrowY:ce,shouldHideArrow:pe,children:a.jsx(Je.div,{"data-side":M,"data-align":$,...p,ref:w,style:{...p.style,animation:z?void 0:"none"}})})})});TD.displayName=cN;var RD="PopperArrow",lX={top:"bottom",right:"left",bottom:"top",left:"right"},MD=b.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=oX(RD,n),o=lX[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(sX,{...s,ref:r,style:{...s.style,display:"block"}})})});MD.displayName=RD;function cX(e){return e!==null}var uX=e=>({name:"transformOrigin",options:e,fn(t){var v,x,y;const{placement:r,rects:n,middlewareData:s}=t,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=$D(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function $D(e){const[t,r="center"]=e.split("-");return[t,r]}var ID=OD,DD=AD,LD=TD,FD=MD,hw="rovingFocusGroup.onEntryFocus",dX={bubbles:!1,cancelable:!0},Km="RovingFocusGroup",[Dj,UD,fX]=tN(Km),[hX,vx]=Ki(Km,[fX]),[mX,pX]=hX(Km),BD=b.forwardRef((e,t)=>a.jsx(Dj.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Dj.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(gX,{...e,ref:t})})}));BD.displayName=Km;var gX=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=b.useRef(null),m=gt(t,h),g=Wm(i),[p,v]=ec({prop:o,defaultProp:l??null,onChange:c,caller:Km}),[x,y]=b.useState(!1),w=zr(u),S=UD(r),j=b.useRef(!1),[_,N]=b.useState(0);return b.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(hw,w),()=>k.removeEventListener(hw,w)},[w]),a.jsx(mX,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:p,onItemFocus:b.useCallback(k=>v(k),[v]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:b.useCallback(()=>N(k=>k-1),[]),children:a.jsx(Je.div,{tabIndex:x||_===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{j.current=!0}),onFocus:Ee(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!x){const T=new CustomEvent(hw,dX);if(k.currentTarget.dispatchEvent(T),!T.defaultPrevented){const I=S().filter(R=>R.focusable),E=I.find(R=>R.active),U=I.find(R=>R.id===p),B=[E,U,...I].filter(Boolean).map(R=>R.ref.current);WD(B,d)}}j.current=!1}),onBlur:Ee(e.onBlur,()=>y(!1))})})}),qD="RovingFocusGroupItem",zD=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Di(),u=i||c,d=pX(qD,r),f=d.currentTabStopId===u,h=UD(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return b.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),a.jsx(Dj.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Je.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ee(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Ee(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ee(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=xX(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const S=w.indexOf(v.currentTarget);w=d.loop?bX(w,S+1):w.slice(S+1)}setTimeout(()=>WD(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});zD.displayName=qD;var vX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yX(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xX(e,t,r){const n=yX(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return vX[n]}function WD(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function bX(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var VD=BD,KD=zD;function wX(e){const t=jX(e),r=b.forwardRef((n,s)=>{const{children:i,...o}=n,l=b.Children.toArray(i),c=l.find(SX);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function jX(e){const t=b.forwardRef((r,n)=>{const{children:s,...i}=r;if(b.isValidElement(s)){const o=kX(s),l=NX(i,s.props);return s.type!==b.Fragment&&(l.ref=n?Fa(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _X=Symbol("radix.slottable");function SX(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_X}function NX(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function kX(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Lj=["Enter"," "],CX=["ArrowDown","PageUp","Home"],HD=["ArrowUp","PageDown","End"],EX=[...CX,...HD],OX={ltr:[...Lj,"ArrowRight"],rtl:[...Lj,"ArrowLeft"]},PX={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hm="Menu",[zh,AX,TX]=tN(Hm),[yc,GD]=Ki(Hm,[TX,gx,vx]),yx=gx(),YD=vx(),[RX,xc]=yc(Hm),[MX,Gm]=yc(Hm),QD=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=yx(t),[c,u]=b.useState(null),d=b.useRef(!1),f=zr(i),h=Wm(s);return b.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),a.jsx(ID,{...l,children:a.jsx(RX,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(MX,{scope:t,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};QD.displayName=Hm;var $X="MenuAnchor",uN=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=yx(r);return a.jsx(DD,{...s,...n,ref:t})});uN.displayName=$X;var dN="MenuPortal",[IX,XD]=yc(dN,{forceMount:void 0}),JD=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=xc(dN,t);return a.jsx(IX,{scope:t,forceMount:r,children:a.jsx(us,{present:r||i.open,children:a.jsx(sx,{asChild:!0,container:s,children:n})})})};JD.displayName=dN;var Ns="MenuContent",[DX,fN]=yc(Ns),ZD=b.forwardRef((e,t)=>{const r=XD(Ns,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=xc(Ns,e.__scopeMenu),o=Gm(Ns,e.__scopeMenu);return a.jsx(zh.Provider,{scope:e.__scopeMenu,children:a.jsx(us,{present:n||i.open,children:a.jsx(zh.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(LX,{...s,ref:t}):a.jsx(FX,{...s,ref:t})})})})}),LX=b.forwardRef((e,t)=>{const r=xc(Ns,e.__scopeMenu),n=b.useRef(null),s=gt(t,n);return b.useEffect(()=>{const i=n.current;if(i)return qS(i)},[]),a.jsx(hN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ee(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),FX=b.forwardRef((e,t)=>{const r=xc(Ns,e.__scopeMenu);return a.jsx(hN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),UX=wX("MenuContent.ScrollLock"),hN=b.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=xc(Ns,r),x=Gm(Ns,r),y=yx(r),w=YD(r),S=AX(r),[j,_]=b.useState(null),N=b.useRef(null),k=gt(t,N,v.onContentChange),C=b.useRef(0),T=b.useRef(""),I=b.useRef(0),E=b.useRef(null),U=b.useRef("right"),P=b.useRef(0),B=g?ax:b.Fragment,R=g?{as:UX,allowPinchZoom:!0}:void 0,z=M=>{var se,Ie;const $=T.current+M,X=S().filter(ee=>!ee.disabled),G=document.activeElement,ce=(se=X.find(ee=>ee.ref.current===G))==null?void 0:se.textValue,pe=X.map(ee=>ee.textValue),We=JX(pe,$,ce),te=(Ie=X.find(ee=>ee.textValue===We))==null?void 0:Ie.ref.current;(function ee(ue){T.current=ue,window.clearTimeout(C.current),ue!==""&&(C.current=window.setTimeout(()=>ee(""),1e3))})($),te&&setTimeout(()=>te.focus())};b.useEffect(()=>()=>window.clearTimeout(C.current),[]),BS();const D=b.useCallback(M=>{var X,G;return U.current===((X=E.current)==null?void 0:X.side)&&eJ(M,(G=E.current)==null?void 0:G.area)},[]);return a.jsx(DX,{scope:r,searchRef:T,onItemEnter:b.useCallback(M=>{D(M)&&M.preventDefault()},[D]),onItemLeave:b.useCallback(M=>{var $;D(M)||(($=N.current)==null||$.focus(),_(null))},[D]),onTriggerLeave:b.useCallback(M=>{D(M)&&M.preventDefault()},[D]),pointerGraceTimerRef:I,onPointerGraceIntentChange:b.useCallback(M=>{E.current=M},[]),children:a.jsx(B,{...R,children:a.jsx(nx,{asChild:!0,trapped:s,onMountAutoFocus:Ee(i,M=>{var $;M.preventDefault(),($=N.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(rx,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:a.jsx(VD,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:_,onEntryFocus:Ee(c,M=>{x.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(LD,{role:"menu","aria-orientation":"vertical","data-state":pL(v.open),"data-radix-menu-content":"",dir:x.dir,...y,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:Ee(p.onKeyDown,M=>{const X=M.target.closest("[data-radix-menu-content]")===M.currentTarget,G=M.ctrlKey||M.altKey||M.metaKey,ce=M.key.length===1;X&&(M.key==="Tab"&&M.preventDefault(),!G&&ce&&z(M.key));const pe=N.current;if(M.target!==pe||!EX.includes(M.key))return;M.preventDefault();const te=S().filter(se=>!se.disabled).map(se=>se.ref.current);HD.includes(M.key)&&te.reverse(),QX(te)}),onBlur:Ee(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(C.current),T.current="")}),onPointerMove:Ee(e.onPointerMove,Wh(M=>{const $=M.target,X=P.current!==M.clientX;if(M.currentTarget.contains($)&&X){const G=M.clientX>P.current?"right":"left";U.current=G,P.current=M.clientX}}))})})})})})})});ZD.displayName=Ns;var BX="MenuGroup",mN=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Je.div,{role:"group",...n,ref:t})});mN.displayName=BX;var qX="MenuLabel",eL=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Je.div,{...n,ref:t})});eL.displayName=qX;var uv="MenuItem",C2="menu.itemSelect",xx=b.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=b.useRef(null),o=Gm(uv,e.__scopeMenu),l=fN(uv,e.__scopeMenu),c=gt(t,i),u=b.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(C2,{bubbles:!0,cancelable:!0});f.addEventListener(C2,m=>n==null?void 0:n(m),{once:!0}),l4(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(tL,{...s,ref:c,disabled:r,onClick:Ee(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ee(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ee(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Lj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});xx.displayName=uv;var tL=b.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=fN(uv,r),l=YD(r),c=b.useRef(null),u=gt(t,c),[d,f]=b.useState(!1),[h,m]=b.useState("");return b.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),a.jsx(zh.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(KD,{asChild:!0,...l,focusable:!n,children:a.jsx(Je.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ee(e.onPointerMove,Wh(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(e.onPointerLeave,Wh(g=>o.onItemLeave(g))),onFocus:Ee(e.onFocus,()=>f(!0)),onBlur:Ee(e.onBlur,()=>f(!1))})})})}),zX="MenuCheckboxItem",rL=b.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(oL,{scope:e.__scopeMenu,checked:r,children:a.jsx(xx,{role:"menuitemcheckbox","aria-checked":dv(r)?"mixed":r,...s,ref:t,"data-state":gN(r),onSelect:Ee(s.onSelect,()=>n==null?void 0:n(dv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});rL.displayName=zX;var nL="MenuRadioGroup",[WX,VX]=yc(nL,{value:void 0,onValueChange:()=>{}}),sL=b.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=zr(n);return a.jsx(WX,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(mN,{...s,ref:t})})});sL.displayName=nL;var iL="MenuRadioItem",aL=b.forwardRef((e,t)=>{const{value:r,...n}=e,s=VX(iL,e.__scopeMenu),i=r===s.value;return a.jsx(oL,{scope:e.__scopeMenu,checked:i,children:a.jsx(xx,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":gN(i),onSelect:Ee(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});aL.displayName=iL;var pN="MenuItemIndicator",[oL,KX]=yc(pN,{checked:!1}),lL=b.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=KX(pN,r);return a.jsx(us,{present:n||dv(i.checked)||i.checked===!0,children:a.jsx(Je.span,{...s,ref:t,"data-state":gN(i.checked)})})});lL.displayName=pN;var HX="MenuSeparator",cL=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Je.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});cL.displayName=HX;var GX="MenuArrow",uL=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=yx(r);return a.jsx(FD,{...s,...n,ref:t})});uL.displayName=GX;var YX="MenuSub",[kRe,dL]=yc(YX),zf="MenuSubTrigger",fL=b.forwardRef((e,t)=>{const r=xc(zf,e.__scopeMenu),n=Gm(zf,e.__scopeMenu),s=dL(zf,e.__scopeMenu),i=fN(zf,e.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(uN,{asChild:!0,...u,children:a.jsx(tL,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":pL(r.open),...e,ref:Fa(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ee(e.onPointerMove,Wh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ee(e.onPointerLeave,Wh(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",x=v?-5:5,y=h[v?"left":"right"],w=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||OX[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});fL.displayName=zf;var hL="MenuSubContent",mL=b.forwardRef((e,t)=>{const r=XD(Ns,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=xc(Ns,e.__scopeMenu),o=Gm(Ns,e.__scopeMenu),l=dL(hL,e.__scopeMenu),c=b.useRef(null),u=gt(t,c);return a.jsx(zh.Provider,{scope:e.__scopeMenu,children:a.jsx(us,{present:n||i.open,children:a.jsx(zh.Slot,{scope:e.__scopeMenu,children:a.jsx(hN,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ee(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ee(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ee(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=PX[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});mL.displayName=hL;function pL(e){return e?"open":"closed"}function dv(e){return e==="indeterminate"}function gN(e){return dv(e)?"indeterminate":e?"checked":"unchecked"}function QX(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function XX(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function JX(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=XX(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function ZX(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function eJ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return ZX(r,t)}function Wh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var tJ=QD,rJ=uN,nJ=JD,sJ=ZD,iJ=mN,aJ=eL,oJ=xx,lJ=rL,cJ=sL,uJ=aL,dJ=lL,fJ=cL,hJ=uL,mJ=fL,pJ=mL,bx="DropdownMenu",[gJ]=Ki(bx,[GD]),Sn=GD(),[vJ,gL]=gJ(bx),vL=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Sn(t),u=b.useRef(null),[d,f]=ec({prop:s,defaultProp:i??!1,onChange:o,caller:bx});return a.jsx(vJ,{scope:t,triggerId:Di(),triggerRef:u,contentId:Di(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(tJ,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};vL.displayName=bx;var yL="DropdownMenuTrigger",xL=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=gL(yL,r),o=Sn(r);return a.jsx(rJ,{asChild:!0,...o,children:a.jsx(Je.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Fa(t,i.triggerRef),onPointerDown:Ee(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ee(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});xL.displayName=yL;var yJ="DropdownMenuPortal",bL=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Sn(t);return a.jsx(nJ,{...n,...r})};bL.displayName=yJ;var wL="DropdownMenuContent",jL=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gL(wL,r),i=Sn(r),o=b.useRef(!1);return a.jsx(sJ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ee(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ee(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jL.displayName=wL;var xJ="DropdownMenuGroup",bJ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Sn(r);return a.jsx(iJ,{...s,...n,ref:t})});bJ.displayName=xJ;var wJ="DropdownMenuLabel",_L=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Sn(r);return a.jsx(aJ,{...s,...n,ref:t})});_L.displayName=wJ;var jJ="DropdownMenuItem",SL=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Sn(r);return a.jsx(oJ,{...s,...n,ref:t})});SL.displayName=jJ;var _J="DropdownMenuCheckboxItem",NL=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Sn(r);return a.jsx(lJ,{...s,...n,ref:t})});NL.displayName=_J;var SJ="DropdownMenuRadioGroup",NJ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Sn(r);return a.jsx(cJ,{...s,...n,ref:t})});NJ.displayName=SJ;var kJ="DropdownMenuRadioItem",kL=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Sn(r);return a.jsx(uJ,{...s,...n,ref:t})});kL.displayName=kJ;var CJ="DropdownMenuItemIndicator",CL=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Sn(r);return a.jsx(dJ,{...s,...n,ref:t})});CL.displayName=CJ;var EJ="DropdownMenuSeparator",EL=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Sn(r);return a.jsx(fJ,{...s,...n,ref:t})});EL.displayName=EJ;var OJ="DropdownMenuArrow",PJ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Sn(r);return a.jsx(hJ,{...s,...n,ref:t})});PJ.displayName=OJ;var AJ="DropdownMenuSubTrigger",OL=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Sn(r);return a.jsx(mJ,{...s,...n,ref:t})});OL.displayName=AJ;var TJ="DropdownMenuSubContent",PL=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Sn(r);return a.jsx(pJ,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PL.displayName=TJ;var RJ=vL,MJ=xL,$J=bL,AL=jL,TL=_L,RL=SL,ML=NL,$L=kL,IL=CL,DL=EL,LL=OL,FL=PL;const ci=RJ,ui=MJ,IJ=b.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(LL,{ref:s,className:Z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(is,{className:"ml-auto h-4 w-4"})]}));IJ.displayName=LL.displayName;const DJ=b.forwardRef(({className:e,...t},r)=>a.jsx(FL,{ref:r,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));DJ.displayName=FL.displayName;const ks=b.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx($J,{children:a.jsx(AL,{ref:n,sideOffset:t,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ks.displayName=AL.displayName;const zt=b.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(RL,{ref:n,className:Z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));zt.displayName=RL.displayName;const LJ=b.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(ML,{ref:s,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(IL,{children:a.jsx(Bm,{className:"h-4 w-4"})})}),t]}));LJ.displayName=ML.displayName;const FJ=b.forwardRef(({className:e,children:t,...r},n)=>a.jsxs($L,{ref:n,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(IL,{children:a.jsx(aH,{className:"h-2 w-2 fill-current"})})}),t]}));FJ.displayName=$L.displayName;const UL=b.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(TL,{ref:n,className:Z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));UL.displayName=TL.displayName;const Fj=b.forwardRef(({className:e,...t},r)=>a.jsx(DL,{ref:r,className:Z("-mx-1 my-1 h-px bg-border",e),...t}));Fj.displayName=DL.displayName;function UJ({open:e,onOpenChange:t,onConfirm:r,isConfirming:n=!1,className:s}){const i=async()=>{await r(),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:Z("max-w-[640px] rounded-[10px] border border-border bg-card shadow-lg",s),"aria-describedby":"logout-confirm-description",children:[a.jsx(Fe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-muted",children:a.jsx(KI,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ue,{children:"Sign out"}),a.jsx(Be,{id:"logout-confirm-description",children:"Are you sure you want to sign out? You can sign in again anytime."})]})]})}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(O,{type:"button",variant:"default",onClick:i,disabled:n,className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-md",children:n?"Signing out":"Sign out"})]})]})})}function BJ({className:e}){var d;const{user:t,signOut:r,isLoading:n}=ES(),s=el(),[i,o]=b.useState(!1),[l,c]=b.useState(!1),u=async()=>{c(!0),await r(),c(!1),o(!1),s("/",{replace:!0})};return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:Z("flex h-14 items-center gap-4 border-b border-border bg-card px-4",e),children:[a.jsx("div",{className:"flex flex-1 items-center gap-4",children:a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(LS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(ye,{type:"search",placeholder:"Search...",className:"pl-9 rounded-md border-border","aria-label":"Search"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(O,{variant:"ghost",size:"icon","aria-label":"Notifications",children:a.jsx(nH,{className:"h-4 w-4"})}),a.jsx(O,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(he,{to:"/help","aria-label":"Help",children:a.jsx(Yy,{className:"h-4 w-4"})})}),!n&&(t?a.jsxs(ci,{children:[a.jsx(ui,{asChild:!0,children:a.jsx(O,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all hover:scale-[1.02]","aria-label":"Account menu",children:a.jsxs(ux,{className:"h-10 w-10",children:[a.jsx(eN,{src:(d=t.user_metadata)==null?void 0:d.avatar_url,alt:t.email??"User"}),a.jsx(dx,{className:"bg-primary/20 text-primary",children:a.jsx(ex,{className:"h-5 w-5"})})]})})}),a.jsxs(ks,{align:"end",className:"w-56 rounded-md border-border bg-card shadow-lg",children:[a.jsx(UL,{children:a.jsx("span",{className:"font-normal text-muted-foreground",children:t.email})}),a.jsx(Fj,{}),a.jsx(zt,{asChild:!0,children:a.jsx(he,{to:"/profile",children:"Profile"})}),a.jsx(zt,{asChild:!0,children:a.jsx(he,{to:"/settings",children:"Settings"})}),a.jsx(Fj,{}),a.jsxs(zt,{className:"text-destructive focus:text-destructive",onSelect:f=>{f.preventDefault(),o(!0)},children:[a.jsx(KI,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Log out"]})]})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(O,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx(he,{to:"/login",children:"Sign in"})}),a.jsx(O,{size:"sm",asChild:!0,children:a.jsx(he,{to:"/signup",children:"Sign up"})})]}))]})]}),a.jsx(UJ,{open:i,onOpenChange:o,onConfirm:u,isConfirming:l})]})}function qJ(){return a.jsxs("div",{className:"flex min-h-screen bg-background",children:[a.jsx(jY,{}),a.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[a.jsx(BJ,{}),a.jsx("main",{className:Z("flex-1 overflow-auto p-4 md:p-6","max-w-content mx-auto w-full"),children:a.jsx(iI,{})})]})]})}const re=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("rounded-[10px] border border-border bg-card text-card-foreground shadow-card transition-shadow hover:shadow-card-hover",e),...t}));re.displayName="Card";const ie=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("flex flex-col space-y-1.5 p-3 sm:p-6",e),...t}));ie.displayName="CardHeader";const oe=b.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));oe.displayName="CardTitle";const we=b.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));we.displayName="CardDescription";const ne=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));ne.displayName="CardContent";const zJ=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("flex items-center p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));zJ.displayName="CardFooter";const WJ="reveal-visible";function Fp(e){const t=b.useRef(null),[r,n]=b.useState(!1);return b.useEffect(()=>{const s=t.current;if(!s)return;const i=new IntersectionObserver(([o])=>{o!=null&&o.isIntersecting&&(n(!0),s.classList.add(WJ))},{rootMargin:"0px 0px -60px 0px",threshold:.1,...e});return i.observe(s),()=>i.disconnect()},[e==null?void 0:e.rootMargin,e==null?void 0:e.threshold]),{ref:t,visible:r}}const VJ=[{id:"1",name:"Chat-native control",description:"Control your agent from WhatsApp, Telegram, Slack, and Discord. One gateway, all your channels.",iconName:"MessageSquare"},{id:"2",name:"Skills & tools",description:"Load skills from SKILL.md with gating checks, run tools with sandboxing and policy whitelists.",iconName:"Zap"},{id:"3",name:"Paired nodes",description:"Pair devices via QR or code. Manage exec allowlists, wake config, and approvals per node.",iconName:"Smartphone"},{id:"4",name:"Browser automation",description:"Managed Chromium profile, CDP abstraction, and capture tools for screenshots, PDF, and DOM.",iconName:"Globe"},{id:"5",name:"Security audit",description:"Automated checks for plaintext secrets, open binds, and risky permissions. Remediation and auto-fix.",iconName:"Shield"},{id:"6",name:"Cron & webhooks",description:"Schedule jobs and inbound webhooks with token auth, lifecycle hooks, and payload transforms.",iconName:"Clock"}],KJ=[{id:"tg",providerName:"Telegram",category:"chat"},{id:"wa",providerName:"WhatsApp",category:"chat"},{id:"slack",providerName:"Slack",category:"chat"},{id:"discord",providerName:"Discord",category:"chat"},{id:"openai",providerName:"OpenAI",category:"model"},{id:"anthropic",providerName:"Anthropic",category:"model"},{id:"ollama",providerName:"Ollama",category:"model"}],HJ=[{id:"free",planName:"Free",description:"Local gateway, core features",price:"$0",features:["Local-only mode","Control UI","1 channel","Community support"]},{id:"pro",planName:"Pro",description:"Cloud-linked, more channels",price:"TBD",features:["Everything in Free","Multiple channels","Skills registry","Email support"]},{id:"enterprise",planName:"Enterprise",description:"Multi-workspace, SSO, SLA",price:"Contact us",features:["Everything in Pro","Admin dashboard","RBAC","Dedicated support"]}],GJ={MessageSquare:qm,Zap:t4,Smartphone:vH,Globe:dH,Shield:Un,Clock:Co};function YJ(){const[e,t]=b.useState(null),r=Fp(),n=Fp(),s=Fp(),i=Fp();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed left-0 right-0 top-0 z-40 border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(he,{to:"/",className:"text-xl font-semibold text-foreground",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-6",children:[a.jsx("a",{href:"#features",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Features"}),a.jsx("a",{href:"#quick-start",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Quick start"}),a.jsx("a",{href:"#pricing",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Pricing"}),a.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Docs"}),a.jsx(he,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(O,{asChild:!0,size:"sm",children:a.jsx(he,{to:"/signup",children:"Sign up"})})]})]})}),a.jsxs("main",{children:[a.jsxs("section",{className:"relative overflow-hidden px-4 pt-32 pb-24 sm:px-6 sm:pt-40 sm:pb-32",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"landing-hero-blob absolute -left-32 top-20 h-80 w-80 rounded-full opacity-40",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.4) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-2 absolute right-0 top-1/3 h-96 w-96 rounded-full opacity-30",style:{background:"radial-gradient(circle, rgb(var(--accent) / 0.35) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-3 absolute bottom-20 left-1/3 h-64 w-64 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.3) 0%, transparent 70%)"}})]}),a.jsxs("div",{className:"relative mx-auto max-w-3xl text-center",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:"Local-first, chat-native personal agent"}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground sm:text-xl",children:"Run tools, schedule jobs, pair devices, and control your agent from the chat surfaces you already use."}),a.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-4",children:[a.jsx(O,{size:"lg",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(he,{to:"/download",className:"inline-flex items-center gap-2",children:[a.jsx(As,{className:"h-5 w-5"}),"Install Gateway"]})}),a.jsx(O,{size:"lg",variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(he,{to:"/dashboard",className:"inline-flex items-center gap-2",children:[a.jsx(Xy,{className:"h-5 w-5"}),"Open Local UI"]})}),a.jsx(O,{size:"lg",variant:"ghost",asChild:!0,className:"min-h-[44px] text-muted-foreground",children:a.jsxs(he,{to:"/help",className:"inline-flex items-center gap-2",children:[a.jsx(Vr,{className:"h-5 w-5"}),"Docs"]})})]})]})]}),a.jsxs("section",{id:"features",ref:r.ref,className:Z("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Features"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"One gateway for chat, skills, nodes, automation, and security."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:VJ.map((o,l)=>a.jsx(QJ,{feature:o,index:l},o.id))})]}),a.jsx("section",{id:"quick-start",ref:n.ref,className:Z("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Quick start"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Get running in a few steps."}),a.jsx("ol",{className:"mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:["Install and start the gateway (local-only or cloud-linked).","Open the Control UI at your local URL.","Add a channel (e.g. Telegram) and message your agent.","Try Summarize this URL with a link in chat."].map((o,l)=>a.jsxs("li",{className:"relative flex gap-4 rounded-lg border border-border bg-card p-6 shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground","aria-hidden":!0,children:l+1}),a.jsx("span",{className:"text-muted-foreground",children:o})]},l))})]})}),a.jsxs("section",{id:"integrations",ref:s.ref,className:Z("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Works with your stack"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Chat providers and model backends you can connect today."}),a.jsx("div",{className:"mt-12 flex flex-wrap items-center justify-center gap-8",children:KJ.map(o=>a.jsx("div",{className:"flex h-14 min-w-[120px] items-center justify-center rounded-lg border border-border bg-card/50 px-6 py-3 text-sm font-medium text-muted-foreground transition-colors hover:border-primary/50 hover:text-foreground",children:o.providerName},o.id))})]}),a.jsx("section",{id:"pricing",ref:i.ref,className:Z("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Plans"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Start free, scale when you need more."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-3",children:HJ.map(o=>a.jsxs(re,{className:"cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",onClick:()=>t(o),children:[a.jsxs(ie,{className:"pb-2",children:[a.jsx(oe,{className:"text-lg",children:o.planName}),a.jsx(we,{children:o.description}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:o.price})]}),a.jsxs(ne,{children:[a.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.features.slice(0,3).map((l,c)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(is,{className:"h-4 w-4 text-accent"}),l]},c))}),a.jsx(O,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:l=>{l.stopPropagation(),t(o)},children:"Learn more"})]})]},o.id))})]})}),a.jsx("footer",{className:"border-t border-border py-12",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Repository"}),a.jsx(he,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(he,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]}),a.jsx(ze,{open:!!e,onOpenChange:o=>{o||t(null)},children:a.jsx(Le,{className:"max-w-md",children:e&&a.jsxs(a.Fragment,{children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:e.planName}),a.jsx(Be,{children:e.description})]}),a.jsx("p",{className:"text-2xl font-semibold text-foreground",children:e.price}),a.jsx("ul",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:e.features.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(is,{className:"h-4 w-4 text-accent"}),o]},l))}),a.jsx(O,{asChild:!0,className:"mt-6 w-full",children:a.jsx(he,{to:"/signup",children:"Get started"})})]})})})]})}function QJ({feature:e,index:t}){const r=GJ[e.iconName]??t4;return a.jsx(re,{className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",style:{transitionDelay:`${t*50}ms`},children:a.jsxs(ie,{children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 text-primary",children:a.jsx(r,{className:"h-6 w-6"})}),a.jsx(oe,{className:"text-lg",children:e.name}),a.jsx(we,{children:e.description})]})})}var Ym=e=>e.type==="checkbox",El=e=>e instanceof Date,An=e=>e==null;const BL=e=>typeof e=="object";var Nr=e=>!An(e)&&!Array.isArray(e)&&BL(e)&&!El(e),XJ=e=>Nr(e)&&e.target?Ym(e.target)?e.target.checked:e.target.value:e,JJ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ZJ=(e,t)=>e.has(JJ(t)),eZ=e=>{const t=e.constructor&&e.constructor.prototype;return Nr(t)&&t.hasOwnProperty("isPrototypeOf")},vN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Or(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(vN&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Nr(e)&&eZ(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Or(e[s]));return n}var wx=e=>/^\w*$/.test(e),or=e=>e===void 0,yN=e=>Array.isArray(e)?e.filter(Boolean):[],xN=e=>yN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ae=(e,t,r)=>{if(!t||!Nr(e))return r;const n=(wx(t)?[t]:xN(t)).reduce((s,i)=>An(s)?s:s[i],e);return or(n)||n===e?or(e[t])?r:e[t]:n},Si=e=>typeof e=="boolean",ri=e=>typeof e=="function",Bt=(e,t,r)=>{let n=-1;const s=wx(t)?[t]:xN(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Nr(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const E2={BLUR:"blur",FOCUS_OUT:"focusout"},ni={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ea={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tZ=A.createContext(null);tZ.displayName="HookFormControlContext";var rZ=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ni.all&&(t._proxyFormState[o]=!n||ni.all),e[o]}});return s};const nZ=typeof window<"u"?A.useLayoutEffect:A.useEffect;var Xn=e=>typeof e=="string",sZ=(e,t,r,n,s)=>Xn(e)?(n&&t.watch.add(e),Ae(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ae(r,i))):(n&&(t.watchAll=!0),r),Uj=e=>An(e)||!BL(e);function ho(e,t,r=new WeakSet){if(Uj(e)||Uj(t))return Object.is(e,t);if(El(e)&&El(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(El(o)&&El(l)||Nr(o)&&Nr(l)||Array.isArray(o)&&Array.isArray(l)?!ho(o,l,r):!Object.is(o,l))return!1}}return!0}const iZ=A.createContext(null);iZ.displayName="HookFormContext";var qL=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},sh=e=>Array.isArray(e)?e:[e],O2=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function zL(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&Nr(s)&&i){const o=zL(s,i);Nr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var pn=e=>Nr(e)&&!Object.keys(e).length,bN=e=>e.type==="file",fv=e=>{if(!vN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},WL=e=>e.type==="select-multiple",wN=e=>e.type==="radio",aZ=e=>wN(e)||Ym(e),mw=e=>fv(e)&&e.isConnected;function oZ(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=or(e)?n++:e[t[n++]];return e}function lZ(e){for(const t in e)if(e.hasOwnProperty(t)&&!or(e[t]))return!1;return!0}function xr(e,t){const r=Array.isArray(t)?t:wx(t)?[t]:xN(t),n=r.length===1?e:oZ(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Nr(n)&&pn(n)||Array.isArray(n)&&lZ(n))&&xr(e,r.slice(0,-1)),e}var cZ=e=>{for(const t in e)if(ri(e[t]))return!0;return!1};function VL(e){return Array.isArray(e)||Nr(e)&&!cZ(e)}function Bj(e,t={}){for(const r in e){const n=e[r];VL(n)?(t[r]=Array.isArray(n)?[]:{},Bj(n,t[r])):or(n)||(t[r]=!0)}return t}function Hc(e,t,r){r||(r=Bj(t));for(const n in e){const s=e[n];if(VL(s))or(t)||Uj(r[n])?r[n]=Bj(s,Array.isArray(s)?[]:{}):Hc(s,An(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!ho(s,i)}}return r}const P2={value:!1,isValid:!1},A2={value:!0,isValid:!0};var KL=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!or(e[0].attributes.value)?or(e[0].value)||e[0].value===""?A2:{value:e[0].value,isValid:!0}:A2:P2}return P2},HL=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>or(e)?e:t?e===""?NaN:e&&+e:r&&Xn(e)?new Date(e):n?n(e):e;const T2={isValid:!1,value:null};var GL=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,T2):T2;function R2(e){const t=e.ref;return bN(t)?t.files:wN(t)?GL(e.refs).value:WL(t)?[...t.selectedOptions].map(({value:r})=>r):Ym(t)?KL(e.refs).value:HL(or(t.value)?e.ref.value:t.value,e)}var uZ=(e,t,r,n)=>{const s={};for(const i of e){const o=Ae(t,i);o&&Bt(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},hv=e=>e instanceof RegExp,gf=e=>or(e)?e:hv(e)?e.source:Nr(e)?hv(e.value)?e.value.source:e.value:e,M2=e=>({isOnSubmit:!e||e===ni.onSubmit,isOnBlur:e===ni.onBlur,isOnChange:e===ni.onChange,isOnAll:e===ni.all,isOnTouch:e===ni.onTouched});const $2="AsyncFunction";var dZ=e=>!!e&&!!e.validate&&!!(ri(e.validate)&&e.validate.constructor.name===$2||Nr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===$2)),fZ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),I2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ih=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Ae(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(ih(l,t))break}else if(Nr(l)&&ih(l,t))break}}};function D2(e,t,r){const n=Ae(e,r);if(n||wx(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Ae(t,i),l=Ae(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var hZ=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return pn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ni.all))},mZ=(e,t,r)=>!e||!t||e===t||sh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),pZ=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,gZ=(e,t)=>!yN(Ae(e,t)).length&&xr(e,t),vZ=(e,t,r)=>{const n=sh(Ae(e,r));return Bt(n,"root",t[r]),Bt(e,r,n),e};function L2(e,t,r="validate"){if(Xn(e)||Array.isArray(e)&&e.every(Xn)||Si(e)&&!e)return{type:r,message:Xn(e)?e:"",ref:t}}var Lc=e=>Nr(e)&&!hv(e)?e:{value:e,message:""},F2=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:v,mount:x}=e._f,y=Ae(r,p);if(!x||t.has(p))return{};const w=l?l[0]:o,S=E=>{s&&w.reportValidity&&(w.setCustomValidity(Si(E)?"":E||""),w.reportValidity())},j={},_=wN(o),N=Ym(o),k=_||N,C=(v||bN(o))&&or(o.value)&&or(y)||fv(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,T=qL.bind(null,p,n,j),I=(E,U,P,B=ea.maxLength,R=ea.minLength)=>{const z=E?U:P;j[p]={type:E?B:R,message:z,ref:o,...T(E?B:R,z)}};if(i?!Array.isArray(y)||!y.length:c&&(!k&&(C||An(y))||Si(y)&&!y||N&&!KL(l).isValid||_&&!GL(l).isValid)){const{value:E,message:U}=Xn(c)?{value:!!c,message:c}:Lc(c);if(E&&(j[p]={type:ea.required,message:U,ref:w,...T(ea.required,U)},!n))return S(U),j}if(!C&&(!An(f)||!An(h))){let E,U;const P=Lc(h),B=Lc(f);if(!An(y)&&!isNaN(y)){const R=o.valueAsNumber||y&&+y;An(P.value)||(E=R>P.value),An(B.value)||(U=R<B.value)}else{const R=o.valueAsDate||new Date(y),z=$=>new Date(new Date().toDateString()+" "+$),D=o.type=="time",M=o.type=="week";Xn(P.value)&&y&&(E=D?z(y)>z(P.value):M?y>P.value:R>new Date(P.value)),Xn(B.value)&&y&&(U=D?z(y)<z(B.value):M?y<B.value:R<new Date(B.value))}if((E||U)&&(I(!!E,P.message,B.message,ea.max,ea.min),!n))return S(j[p].message),j}if((u||d)&&!C&&(Xn(y)||i&&Array.isArray(y))){const E=Lc(u),U=Lc(d),P=!An(E.value)&&y.length>+E.value,B=!An(U.value)&&y.length<+U.value;if((P||B)&&(I(P,E.message,U.message),!n))return S(j[p].message),j}if(m&&!C&&Xn(y)){const{value:E,message:U}=Lc(m);if(hv(E)&&!y.match(E)&&(j[p]={type:ea.pattern,message:U,ref:o,...T(ea.pattern,U)},!n))return S(U),j}if(g){if(ri(g)){const E=await g(y,r),U=L2(E,w);if(U&&(j[p]={...U,...T(ea.validate,U.message)},!n))return S(U.message),j}else if(Nr(g)){let E={};for(const U in g){if(!pn(E)&&!n)break;const P=L2(await g[U](y,r),w,U);P&&(E={...P,...T(U,P.message)},S(P.message),n&&(j[p]=E))}if(!pn(E)&&(j[p]={ref:w,...E},!n))return j}}return S(!0),j};const yZ={mode:ni.onSubmit,reValidateMode:ni.onChange,shouldFocusError:!0};function xZ(e={}){let t={...yZ,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ri(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Nr(t.defaultValues)||Nr(t.values)?Or(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Or(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const m={array:O2(),state:O2()},g=t.criteriaMode===ni.all,p=L=>V=>{clearTimeout(u),u=setTimeout(L,V)},v=async L=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||L)){let V;t.resolver?(V=pn((await k()).errors),x()):V=await T(n,!0),V!==r.isValid&&m.state.next({isValid:V})}},x=(L,V)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((L||Array.from(l.mount)).forEach(Q=>{Q&&(V?Bt(r.validatingFields,Q,V):xr(r.validatingFields,Q))}),m.state.next({validatingFields:r.validatingFields,isValidating:!pn(r.validatingFields)}))},y=(L,V=[],Q,je,ge=!0,le=!0)=>{if(je&&Q&&!t.disabled){if(o.action=!0,le&&Array.isArray(Ae(n,L))){const Me=Q(Ae(n,L),je.argA,je.argB);ge&&Bt(n,L,Me)}if(le&&Array.isArray(Ae(r.errors,L))){const Me=Q(Ae(r.errors,L),je.argA,je.argB);ge&&Bt(r.errors,L,Me),gZ(r.errors,L)}if((f.touchedFields||h.touchedFields)&&le&&Array.isArray(Ae(r.touchedFields,L))){const Me=Q(Ae(r.touchedFields,L),je.argA,je.argB);ge&&Bt(r.touchedFields,L,Me)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Hc(s,i)),m.state.next({name:L,isDirty:E(L,V),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Bt(i,L,V)},w=(L,V)=>{Bt(r.errors,L,V),m.state.next({errors:r.errors})},S=L=>{r.errors=L,m.state.next({errors:r.errors,isValid:!1})},j=(L,V,Q,je)=>{const ge=Ae(n,L);if(ge){const le=Ae(i,L,or(Q)?Ae(s,L):Q);or(le)||je&&je.defaultChecked||V?Bt(i,L,V?le:R2(ge._f)):B(L,le),o.mount&&!o.action&&v()}},_=(L,V,Q,je,ge)=>{let le=!1,Me=!1;const Ct={name:L};if(!t.disabled){if(!Q||je){(f.isDirty||h.isDirty)&&(Me=r.isDirty,r.isDirty=Ct.isDirty=E(),le=Me!==Ct.isDirty);const Et=ho(Ae(s,L),V);Me=!!Ae(r.dirtyFields,L),Et?xr(r.dirtyFields,L):Bt(r.dirtyFields,L,!0),Ct.dirtyFields=r.dirtyFields,le=le||(f.dirtyFields||h.dirtyFields)&&Me!==!Et}if(Q){const Et=Ae(r.touchedFields,L);Et||(Bt(r.touchedFields,L,Q),Ct.touchedFields=r.touchedFields,le=le||(f.touchedFields||h.touchedFields)&&Et!==Q)}le&&ge&&m.state.next(Ct)}return le?Ct:{}},N=(L,V,Q,je)=>{const ge=Ae(r.errors,L),le=(f.isValid||h.isValid)&&Si(V)&&r.isValid!==V;if(t.delayError&&Q?(c=p(()=>w(L,Q)),c(t.delayError)):(clearTimeout(u),c=null,Q?Bt(r.errors,L,Q):xr(r.errors,L)),(Q?!ho(ge,Q):ge)||!pn(je)||le){const Me={...je,...le&&Si(V)?{isValid:V}:{},errors:r.errors,name:L};r={...r,...Me},m.state.next(Me)}},k=async L=>(x(L,!0),await t.resolver(i,t.context,uZ(L||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async L=>{const{errors:V}=await k(L);if(x(L),L)for(const Q of L){const je=Ae(V,Q);je?Bt(r.errors,Q,je):xr(r.errors,Q)}else r.errors=V;return V},T=async(L,V,Q={valid:!0})=>{for(const je in L){const ge=L[je];if(ge){const{_f:le,...Me}=ge;if(le){const Ct=l.array.has(le.name),Et=ge._f&&dZ(ge._f);Et&&f.validatingFields&&x([le.name],!0);const yr=await F2(ge,l.disabled,i,g,t.shouldUseNativeValidation&&!V,Ct);if(Et&&f.validatingFields&&x([le.name]),yr[le.name]&&(Q.valid=!1,V||e.shouldUseNativeValidation))break;!V&&(Ae(yr,le.name)?Ct?vZ(r.errors,yr,le.name):Bt(r.errors,le.name,yr[le.name]):xr(r.errors,le.name))}!pn(Me)&&await T(Me,V,Q)}}return Q.valid},I=()=>{for(const L of l.unMount){const V=Ae(n,L);V&&(V._f.refs?V._f.refs.every(Q=>!mw(Q)):!mw(V._f.ref))&&Ie(L)}l.unMount=new Set},E=(L,V)=>!t.disabled&&(L&&V&&Bt(i,L,V),!ho(X(),s)),U=(L,V,Q)=>sZ(L,l,{...o.mount?i:or(V)?s:Xn(L)?{[L]:V}:V},Q,V),P=L=>yN(Ae(o.mount?i:s,L,t.shouldUnregister?Ae(s,L,[]):[])),B=(L,V,Q={})=>{const je=Ae(n,L);let ge=V;if(je){const le=je._f;le&&(!le.disabled&&Bt(i,L,HL(V,le)),ge=fv(le.ref)&&An(V)?"":V,WL(le.ref)?[...le.ref.options].forEach(Me=>Me.selected=ge.includes(Me.value)):le.refs?Ym(le.ref)?le.refs.forEach(Me=>{(!Me.defaultChecked||!Me.disabled)&&(Array.isArray(ge)?Me.checked=!!ge.find(Ct=>Ct===Me.value):Me.checked=ge===Me.value||!!ge)}):le.refs.forEach(Me=>Me.checked=Me.value===ge):bN(le.ref)?le.ref.value="":(le.ref.value=ge,le.ref.type||m.state.next({name:L,values:Or(i)})))}(Q.shouldDirty||Q.shouldTouch)&&_(L,ge,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&$(L)},R=(L,V,Q)=>{for(const je in V){if(!V.hasOwnProperty(je))return;const ge=V[je],le=L+"."+je,Me=Ae(n,le);(l.array.has(L)||Nr(ge)||Me&&!Me._f)&&!El(ge)?R(le,ge,Q):B(le,ge,Q)}},z=(L,V,Q={})=>{const je=Ae(n,L),ge=l.array.has(L),le=Or(V);Bt(i,L,le),ge?(m.array.next({name:L,values:Or(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&Q.shouldDirty&&m.state.next({name:L,dirtyFields:Hc(s,i),isDirty:E(L,le)})):je&&!je._f&&!An(le)?R(L,le,Q):B(L,le,Q),I2(L,l)?m.state.next({...r,name:L,values:Or(i)}):m.state.next({name:o.mount?L:void 0,values:Or(i)})},D=async L=>{o.mount=!0;const V=L.target;let Q=V.name,je=!0;const ge=Ae(n,Q),le=Et=>{je=Number.isNaN(Et)||El(Et)&&isNaN(Et.getTime())||ho(Et,Ae(i,Q,Et))},Me=M2(t.mode),Ct=M2(t.reValidateMode);if(ge){let Et,yr;const Ji=V.type?R2(ge._f):XJ(L),Ds=L.type===E2.BLUR||L.type===E2.FOCUS_OUT,rf=!fZ(ge._f)&&!t.resolver&&!Ae(r.errors,Q)&&!ge._f.deps||pZ(Ds,Ae(r.touchedFields,Q),r.isSubmitted,Ct,Me),wi=I2(Q,l,Ds);Bt(i,Q,Ji),Ds?(!V||!V.readOnly)&&(ge._f.onBlur&&ge._f.onBlur(L),c&&c(0)):ge._f.onChange&&ge._f.onChange(L);const Cc=_(Q,Ji,Ds),Ha=!pn(Cc)||wi;if(!Ds&&m.state.next({name:Q,type:L.type,values:Or(i)}),rf)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Ds&&v():Ds||v()),Ha&&m.state.next({name:Q,...wi?{}:Cc});if(!Ds&&wi&&m.state.next({...r}),t.resolver){const{errors:ip}=await k([Q]);if(x([Q]),le(Ji),je){const vb=D2(r.errors,n,Q),nf=D2(ip,n,vb.name||Q);Et=nf.error,Q=nf.name,yr=pn(ip)}}else x([Q],!0),Et=(await F2(ge,l.disabled,i,g,t.shouldUseNativeValidation))[Q],x([Q]),le(Ji),je&&(Et?yr=!1:(f.isValid||h.isValid)&&(yr=await T(n,!0)));je&&(ge._f.deps&&(!Array.isArray(ge._f.deps)||ge._f.deps.length>0)&&$(ge._f.deps),N(Q,yr,Et,Cc))}},M=(L,V)=>{if(Ae(r.errors,V)&&L.focus)return L.focus(),1},$=async(L,V={})=>{let Q,je;const ge=sh(L);if(t.resolver){const le=await C(or(L)?L:ge);Q=pn(le),je=L?!ge.some(Me=>Ae(le,Me)):Q}else L?(je=(await Promise.all(ge.map(async le=>{const Me=Ae(n,le);return await T(Me&&Me._f?{[le]:Me}:Me)}))).every(Boolean),!(!je&&!r.isValid)&&v()):je=Q=await T(n);return m.state.next({...!Xn(L)||(f.isValid||h.isValid)&&Q!==r.isValid?{}:{name:L},...t.resolver||!L?{isValid:Q}:{},errors:r.errors}),V.shouldFocus&&!je&&ih(n,M,L?ge:l.mount),je},X=(L,V)=>{let Q={...o.mount?i:s};return V&&(Q=zL(V.dirtyFields?r.dirtyFields:r.touchedFields,Q)),or(L)?Q:Xn(L)?Ae(Q,L):L.map(je=>Ae(Q,je))},G=(L,V)=>({invalid:!!Ae((V||r).errors,L),isDirty:!!Ae((V||r).dirtyFields,L),error:Ae((V||r).errors,L),isValidating:!!Ae(r.validatingFields,L),isTouched:!!Ae((V||r).touchedFields,L)}),ce=L=>{L&&sh(L).forEach(V=>xr(r.errors,V)),m.state.next({errors:L?r.errors:{}})},pe=(L,V,Q)=>{const je=(Ae(n,L,{_f:{}})._f||{}).ref,ge=Ae(r.errors,L)||{},{ref:le,message:Me,type:Ct,...Et}=ge;Bt(r.errors,L,{...Et,...V,ref:je}),m.state.next({name:L,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&je&&je.focus&&je.focus()},We=(L,V)=>ri(L)?m.state.subscribe({next:Q=>"values"in Q&&L(U(void 0,V),Q)}):U(L,V,!0),te=L=>m.state.subscribe({next:V=>{mZ(L.name,V.name,L.exact)&&hZ(V,L.formState||f,rn,L.reRenderRoot)&&L.callback({values:{...i},...r,...V,defaultValues:s})}}).unsubscribe,se=L=>(o.mount=!0,h={...h,...L.formState},te({...L,formState:{...d,...L.formState}})),Ie=(L,V={})=>{for(const Q of L?sh(L):l.mount)l.mount.delete(Q),l.array.delete(Q),V.keepValue||(xr(n,Q),xr(i,Q)),!V.keepError&&xr(r.errors,Q),!V.keepDirty&&xr(r.dirtyFields,Q),!V.keepTouched&&xr(r.touchedFields,Q),!V.keepIsValidating&&xr(r.validatingFields,Q),!t.shouldUnregister&&!V.keepDefaultValue&&xr(s,Q);m.state.next({values:Or(i)}),m.state.next({...r,...V.keepDirty?{isDirty:E()}:{}}),!V.keepIsValid&&v()},ee=({disabled:L,name:V})=>{if(Si(L)&&o.mount||L||l.disabled.has(V)){const ge=l.disabled.has(V)!==!!L;L?l.disabled.add(V):l.disabled.delete(V),ge&&o.mount&&!o.action&&v()}},ue=(L,V={})=>{let Q=Ae(n,L);const je=Si(V.disabled)||Si(t.disabled);return Bt(n,L,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:L}},name:L,mount:!0,...V}}),l.mount.add(L),Q?ee({disabled:Si(V.disabled)?V.disabled:t.disabled,name:L}):j(L,!0,V.value),{...je?{disabled:V.disabled||t.disabled}:{},...t.progressive?{required:!!V.required,min:gf(V.min),max:gf(V.max),minLength:gf(V.minLength),maxLength:gf(V.maxLength),pattern:gf(V.pattern)}:{},name:L,onChange:D,onBlur:D,ref:ge=>{if(ge){ue(L,V),Q=Ae(n,L);const le=or(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,Me=aZ(le),Ct=Q._f.refs||[];if(Me?Ct.find(Et=>Et===le):le===Q._f.ref)return;Bt(n,L,{_f:{...Q._f,...Me?{refs:[...Ct.filter(mw),le,...Array.isArray(Ae(s,L))?[{}]:[]],ref:{type:le.type,name:L}}:{ref:le}}}),j(L,!1,void 0,le)}else Q=Ae(n,L,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(ZJ(l.array,L)&&o.action)&&l.unMount.add(L)}}},K=()=>t.shouldFocusError&&ih(n,M,l.mount),H=L=>{Si(L)&&(m.state.next({disabled:L}),ih(n,(V,Q)=>{const je=Ae(n,Q);je&&(V.disabled=je._f.disabled||L,Array.isArray(je._f.refs)&&je._f.refs.forEach(ge=>{ge.disabled=je._f.disabled||L}))},0,!1))},Xe=(L,V)=>async Q=>{let je;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let ge=Or(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:le,values:Me}=await k();x(),r.errors=le,ge=Or(Me)}else await T(n);if(l.disabled.size)for(const le of l.disabled)xr(ge,le);if(xr(r.errors,"root"),pn(r.errors)){m.state.next({errors:{}});try{await L(ge,Q)}catch(le){je=le}}else V&&await V({...r.errors},Q),K(),setTimeout(K);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pn(r.errors)&&!je,submitCount:r.submitCount+1,errors:r.errors}),je)throw je},Ke=(L,V={})=>{Ae(n,L)&&(or(V.defaultValue)?z(L,Or(Ae(s,L))):(z(L,V.defaultValue),Bt(s,L,Or(V.defaultValue))),V.keepTouched||xr(r.touchedFields,L),V.keepDirty||(xr(r.dirtyFields,L),r.isDirty=V.defaultValue?E(L,Or(Ae(s,L))):E()),V.keepError||(xr(r.errors,L),f.isValid&&v()),m.state.next({...r}))},Ot=(L,V={})=>{const Q=L?Or(L):s,je=Or(Q),ge=pn(L),le=ge?s:je;if(V.keepDefaultValues||(s=Q),!V.keepValues){if(V.keepDirtyValues){const Me=new Set([...l.mount,...Object.keys(Hc(s,i))]);for(const Ct of Array.from(Me)){const Et=Ae(r.dirtyFields,Ct),yr=Ae(i,Ct),Ji=Ae(le,Ct);Et&&!or(yr)?Bt(le,Ct,yr):!Et&&!or(Ji)&&z(Ct,Ji)}}else{if(vN&&or(L))for(const Me of l.mount){const Ct=Ae(n,Me);if(Ct&&Ct._f){const Et=Array.isArray(Ct._f.refs)?Ct._f.refs[0]:Ct._f.ref;if(fv(Et)){const yr=Et.closest("form");if(yr){yr.reset();break}}}}if(V.keepFieldsRef)for(const Me of l.mount)z(Me,Ae(le,Me));else n={}}i=t.shouldUnregister?V.keepDefaultValues?Or(s):{}:Or(le),m.array.next({values:{...le}}),m.state.next({values:{...le}})}l={mount:V.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!V.keepIsValid||!!V.keepDirtyValues||!t.shouldUnregister&&!pn(le),o.watch=!!t.shouldUnregister,o.keepIsValid=!!V.keepIsValid,o.action=!1,V.keepErrors||(r.errors={}),m.state.next({submitCount:V.keepSubmitCount?r.submitCount:0,isDirty:ge?!1:V.keepDirty?r.isDirty:!!(V.keepDefaultValues&&!ho(L,s)),isSubmitted:V.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ge?{}:V.keepDirtyValues?V.keepDefaultValues&&i?Hc(s,i):r.dirtyFields:V.keepDefaultValues&&L?Hc(s,L):V.keepDirty?r.dirtyFields:{},touchedFields:V.keepTouched?r.touchedFields:{},errors:V.keepErrors?r.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},kt=(L,V)=>Ot(ri(L)?L(i):L,{...t.resetOptions,...V}),rr=(L,V={})=>{const Q=Ae(n,L),je=Q&&Q._f;if(je){const ge=je.refs?je.refs[0]:je.ref;ge.focus&&setTimeout(()=>{ge.focus(),V.shouldSelect&&ri(ge.select)&&ge.select()})}},rn=L=>{r={...r,...L}},bi={control:{register:ue,unregister:Ie,getFieldState:G,handleSubmit:Xe,setError:pe,_subscribe:te,_runSchema:k,_updateIsValidating:x,_focusError:K,_getWatch:U,_getDirty:E,_setValid:v,_setFieldArray:y,_setDisabledField:ee,_setErrors:S,_getFieldArray:P,_reset:Ot,_resetDefaultValues:()=>ri(t.defaultValues)&&t.defaultValues().then(L=>{kt(L,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:H,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return l},set _names(L){l=L},get _formState(){return r},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:se,trigger:$,register:ue,handleSubmit:Xe,watch:We,setValue:z,getValues:X,reset:kt,resetField:Ke,clearErrors:ce,unregister:Ie,setError:pe,setFocus:rr,getFieldState:G};return{...bi,formControl:bi}}function vt(e={}){const t=A.useRef(void 0),r=A.useRef(void 0),[n,s]=A.useState({isDirty:!1,isValidating:!1,isLoading:ri(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ri(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ri(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=xZ(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,nZ(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),A.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),A.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),A.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),A.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),A.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),A.useEffect(()=>{var o;e.values&&!ho(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),A.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=A.useMemo(()=>rZ(n,i),[i,n]),t.current}const U2=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ae(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},YL=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?U2(n.ref,r,e):n.refs&&n.refs.forEach(s=>U2(s,r,e))}},bZ=(e,t)=>{t.shouldUseNativeValidation&&YL(e,t);const r={};for(const n in e){const s=Ae(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(wZ(t.names||Object.keys(e),n)){const o=Object.assign({},Ae(r,n));Bt(o,"root",i),Bt(r,n,o)}else Bt(r,n,i)}return r},wZ=(e,t)=>e.some(r=>r.startsWith(t+"."));var jZ=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=qL(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},yt=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&YL({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:bZ(jZ(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},_t;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(_t||(_t={}));var B2;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(B2||(B2={}));const Re=_t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),oo=e=>{switch(typeof e){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return Number.isNaN(e)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(e)?Re.array:e===null?Re.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Re.promise:typeof Map<"u"&&e instanceof Map?Re.map:typeof Set<"u"&&e instanceof Set?Re.set:typeof Date<"u"&&e instanceof Date?Re.date:Re.object;default:return Re.unknown}},fe=_t.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Oa extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Oa))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_t.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Oa.create=e=>new Oa(e);const qj=(e,t)=>{let r;switch(e.code){case fe.invalid_type:e.received===Re.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case fe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,_t.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:r=`Unrecognized key(s) in object: ${_t.joinValues(e.keys,", ")}`;break;case fe.invalid_union:r="Invalid input";break;case fe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${_t.joinValues(e.options)}`;break;case fe.invalid_enum_value:r=`Invalid enum value. Expected ${_t.joinValues(e.options)}, received '${e.received}'`;break;case fe.invalid_arguments:r="Invalid function arguments";break;case fe.invalid_return_type:r="Invalid function return type";break;case fe.invalid_date:r="Invalid date";break;case fe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:_t.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case fe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case fe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case fe.custom:r="Invalid input";break;case fe.invalid_intersection_types:r="Intersection results could not be merged";break;case fe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case fe.not_finite:r="Number must be finite";break;default:r=t.defaultError,_t.assertNever(e)}return{message:r}};let _Z=qj;function SZ(){return _Z}const NZ=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function ke(e,t){const r=SZ(),n=NZ({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===qj?void 0:qj].filter(s=>!!s)});e.common.issues.push(n)}class as{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ze;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return as.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ze;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Ze=Object.freeze({status:"aborted"}),Wf=e=>({status:"dirty",value:e}),Rs=e=>({status:"valid",value:e}),q2=e=>e.status==="aborted",z2=e=>e.status==="dirty",Zu=e=>e.status==="valid",mv=e=>typeof Promise<"u"&&e instanceof Promise;var $e;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})($e||($e={}));class Yo{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const W2=(e,t)=>{if(Zu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Oa(e.common.issues);return this._error=r,this._error}}};function it(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class wt{get description(){return this._def.description}_getType(t){return oo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:oo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new as,ctx:{common:t.parent.common,data:t.data,parsedType:oo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(mv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:oo(t)},s=this._parseSync({data:t,path:n.path,parent:n});return W2(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:oo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Zu(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Zu(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:oo(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(mv(s)?s:Promise.resolve(s));return W2(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:fe.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new rd({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Bo.create(this,this._def)}nullable(){return nd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fi.create(this)}promise(){return yv.create(this,this._def)}or(t){return gv.create([this,t],this._def)}and(t){return vv.create(this,t,this._def)}transform(t){return new rd({...it(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Vj({...it(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new GZ({typeName:et.ZodBranded,type:this,...it(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Kj({...it(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return jN.create(this,t)}readonly(){return Hj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kZ=/^c[^\s-]{8,}$/i,CZ=/^[0-9a-z]+$/,EZ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,OZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,PZ=/^[a-z0-9_-]{21}$/i,AZ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,TZ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,RZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,MZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let pw;const $Z=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,DZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,LZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FZ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,UZ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,QL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BZ=new RegExp(`^${QL}$`);function XL(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function qZ(e){return new RegExp(`^${XL(e)}$`)}function zZ(e){let t=`${QL}T${XL(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function WZ(e,t){return!!((t==="v4"||!t)&&$Z.test(e)||(t==="v6"||!t)&&DZ.test(e))}function VZ(e,t){if(!AZ.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function KZ(e,t){return!!((t==="v4"||!t)&&IZ.test(e)||(t==="v6"||!t)&&LZ.test(e))}class fa extends wt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Re.string){const i=this._getOrReturnCtx(t);return ke(i,{code:fe.invalid_type,expected:Re.string,received:i.parsedType}),Ze}const n=new as;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:fe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:fe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?ke(s,{code:fe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ke(s,{code:fe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")RZ.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"email",code:fe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")pw||(pw=new RegExp(MZ,"u")),pw.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"emoji",code:fe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")OZ.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"uuid",code:fe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")PZ.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"nanoid",code:fe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")kZ.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"cuid",code:fe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")CZ.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"cuid2",code:fe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")EZ.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"ulid",code:fe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ke(s,{validation:"url",code:fe.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"regex",code:fe.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),ke(s,{code:fe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),ke(s,{code:fe.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),ke(s,{code:fe.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?zZ(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{code:fe.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?BZ.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{code:fe.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?qZ(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{code:fe.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?TZ.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"duration",code:fe.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?WZ(t.data,i.version)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"ip",code:fe.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?VZ(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"jwt",code:fe.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?KZ(t.data,i.version)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"cidr",code:fe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?FZ.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"base64",code:fe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?UZ.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"base64url",code:fe.invalid_string,message:i.message}),n.dirty()):_t.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:fe.invalid_string,...$e.errToObj(n)})}_addCheck(t){return new fa({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$e.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$e.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$e.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$e.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$e.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$e.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$e.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$e.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$e.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...$e.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...$e.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$e.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...$e.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...$e.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...$e.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...$e.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...$e.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...$e.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...$e.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...$e.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...$e.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...$e.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...$e.errToObj(r)})}nonempty(t){return this.min(1,$e.errToObj(t))}trim(){return new fa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}fa.create=e=>new fa({checks:[],typeName:et.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...it(e)});function HZ(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class nc extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Re.number){const i=this._getOrReturnCtx(t);return ke(i,{code:fe.invalid_type,expected:Re.number,received:i.parsedType}),Ze}let n;const s=new as;for(const i of this._def.checks)i.kind==="int"?_t.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ke(n,{code:fe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:fe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:fe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?HZ(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),ke(n,{code:fe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ke(n,{code:fe.not_finite,message:i.message}),s.dirty()):_t.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,s){return new nc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(s)}]})}_addCheck(t){return new nc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$e.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:$e.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&_t.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}nc.create=e=>new nc({checks:[],typeName:et.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...it(e)});class sc extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Re.bigint)return this._getInvalidInput(t);let n;const s=new as;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:fe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:fe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:fe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):_t.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ke(r,{code:fe.invalid_type,expected:Re.bigint,received:r.parsedType}),Ze}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,s){return new sc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(s)}]})}_addCheck(t){return new sc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}sc.create=e=>new sc({checks:[],typeName:et.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...it(e)});class pv extends wt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Re.boolean){const n=this._getOrReturnCtx(t);return ke(n,{code:fe.invalid_type,expected:Re.boolean,received:n.parsedType}),Ze}return Rs(t.data)}}pv.create=e=>new pv({typeName:et.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...it(e)});class ed extends wt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Re.date){const i=this._getOrReturnCtx(t);return ke(i,{code:fe.invalid_type,expected:Re.date,received:i.parsedType}),Ze}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ke(i,{code:fe.invalid_date}),Ze}const n=new as;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:fe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:fe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):_t.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ed({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:$e.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:$e.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}ed.create=e=>new ed({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:et.ZodDate,...it(e)});class V2 extends wt{_parse(t){if(this._getType(t)!==Re.symbol){const n=this._getOrReturnCtx(t);return ke(n,{code:fe.invalid_type,expected:Re.symbol,received:n.parsedType}),Ze}return Rs(t.data)}}V2.create=e=>new V2({typeName:et.ZodSymbol,...it(e)});class K2 extends wt{_parse(t){if(this._getType(t)!==Re.undefined){const n=this._getOrReturnCtx(t);return ke(n,{code:fe.invalid_type,expected:Re.undefined,received:n.parsedType}),Ze}return Rs(t.data)}}K2.create=e=>new K2({typeName:et.ZodUndefined,...it(e)});class H2 extends wt{_parse(t){if(this._getType(t)!==Re.null){const n=this._getOrReturnCtx(t);return ke(n,{code:fe.invalid_type,expected:Re.null,received:n.parsedType}),Ze}return Rs(t.data)}}H2.create=e=>new H2({typeName:et.ZodNull,...it(e)});class G2 extends wt{constructor(){super(...arguments),this._any=!0}_parse(t){return Rs(t.data)}}G2.create=e=>new G2({typeName:et.ZodAny,...it(e)});class Y2 extends wt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Rs(t.data)}}Y2.create=e=>new Y2({typeName:et.ZodUnknown,...it(e)});class Qo extends wt{_parse(t){const r=this._getOrReturnCtx(t);return ke(r,{code:fe.invalid_type,expected:Re.never,received:r.parsedType}),Ze}}Qo.create=e=>new Qo({typeName:et.ZodNever,...it(e)});class Q2 extends wt{_parse(t){if(this._getType(t)!==Re.undefined){const n=this._getOrReturnCtx(t);return ke(n,{code:fe.invalid_type,expected:Re.void,received:n.parsedType}),Ze}return Rs(t.data)}}Q2.create=e=>new Q2({typeName:et.ZodVoid,...it(e)});class Fi extends wt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Re.array)return ke(r,{code:fe.invalid_type,expected:Re.array,received:r.parsedType}),Ze;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(ke(r,{code:o?fe.too_big:fe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ke(r,{code:fe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ke(r,{code:fe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Yo(r,o,r.path,l)))).then(o=>as.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new Yo(r,o,r.path,l)));return as.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Fi({...this._def,minLength:{value:t,message:$e.toString(r)}})}max(t,r){return new Fi({...this._def,maxLength:{value:t,message:$e.toString(r)}})}length(t,r){return new Fi({...this._def,exactLength:{value:t,message:$e.toString(r)}})}nonempty(t){return this.min(1,t)}}Fi.create=(e,t)=>new Fi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...it(t)});function Gc(e){if(e instanceof jr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Bo.create(Gc(n))}return new jr({...e._def,shape:()=>t})}else return e instanceof Fi?new Fi({...e._def,type:Gc(e.element)}):e instanceof Bo?Bo.create(Gc(e.unwrap())):e instanceof nd?nd.create(Gc(e.unwrap())):e instanceof ic?ic.create(e.items.map(t=>Gc(t))):e}class jr extends wt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=_t.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Re.object){const u=this._getOrReturnCtx(t);return ke(u,{code:fe.invalid_type,expected:Re.object,received:u.parsedType}),Ze}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Qo&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Yo(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Qo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(ke(s,{code:fe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Yo(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>as.mergeObjectSync(n,u)):as.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return $e.errToObj,new jr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:$e.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new jr({...this._def,unknownKeys:"strip"})}passthrough(){return new jr({...this._def,unknownKeys:"passthrough"})}extend(t){return new jr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new jr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:et.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new jr({...this._def,catchall:t})}pick(t){const r={};for(const n of _t.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new jr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of _t.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new jr({...this._def,shape:()=>r})}deepPartial(){return Gc(this)}partial(t){const r={};for(const n of _t.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new jr({...this._def,shape:()=>r})}required(t){const r={};for(const n of _t.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Bo;)i=i._def.innerType;r[n]=i}return new jr({...this._def,shape:()=>r})}keyof(){return JL(_t.objectKeys(this.shape))}}jr.create=(e,t)=>new jr({shape:()=>e,unknownKeys:"strip",catchall:Qo.create(),typeName:et.ZodObject,...it(t)});jr.strictCreate=(e,t)=>new jr({shape:()=>e,unknownKeys:"strict",catchall:Qo.create(),typeName:et.ZodObject,...it(t)});jr.lazycreate=(e,t)=>new jr({shape:e,unknownKeys:"strip",catchall:Qo.create(),typeName:et.ZodObject,...it(t)});class gv extends wt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Oa(l.ctx.common.issues));return ke(r,{code:fe.invalid_union,unionErrors:o}),Ze}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Oa(c));return ke(r,{code:fe.invalid_union,unionErrors:l}),Ze}}get options(){return this._def.options}}gv.create=(e,t)=>new gv({options:e,typeName:et.ZodUnion,...it(t)});function zj(e,t){const r=oo(e),n=oo(t);if(e===t)return{valid:!0,data:e};if(r===Re.object&&n===Re.object){const s=_t.objectKeys(t),i=_t.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=zj(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Re.array&&n===Re.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=zj(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Re.date&&n===Re.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class vv extends wt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(q2(i)||q2(o))return Ze;const l=zj(i.value,o.value);return l.valid?((z2(i)||z2(o))&&r.dirty(),{status:r.value,value:l.data}):(ke(n,{code:fe.invalid_intersection_types}),Ze)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}vv.create=(e,t,r)=>new vv({left:e,right:t,typeName:et.ZodIntersection,...it(r)});class ic extends wt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.array)return ke(n,{code:fe.invalid_type,expected:Re.array,received:n.parsedType}),Ze;if(n.data.length<this._def.items.length)return ke(n,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&n.data.length>this._def.items.length&&(ke(n,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Yo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>as.mergeArray(r,o)):as.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ic({...this._def,rest:t})}}ic.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ic({items:e,typeName:et.ZodTuple,rest:null,...it(t)})};class X2 extends wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.map)return ke(n,{code:fe.invalid_type,expected:Re.map,received:n.parsedType}),Ze;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Yo(n,l,n.path,[u,"key"])),value:i._parse(new Yo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}X2.create=(e,t,r)=>new X2({valueType:t,keyType:e,typeName:et.ZodMap,...it(r)});class Vh extends wt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.set)return ke(n,{code:fe.invalid_type,expected:Re.set,received:n.parsedType}),Ze;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ke(n,{code:fe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ke(n,{code:fe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ze;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Yo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Vh({...this._def,minSize:{value:t,message:$e.toString(r)}})}max(t,r){return new Vh({...this._def,maxSize:{value:t,message:$e.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Vh.create=(e,t)=>new Vh({valueType:e,minSize:null,maxSize:null,typeName:et.ZodSet,...it(t)});class J2 extends wt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}J2.create=(e,t)=>new J2({getter:e,typeName:et.ZodLazy,...it(t)});class Wj extends wt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ke(r,{received:r.data,code:fe.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}Wj.create=(e,t)=>new Wj({value:e,typeName:et.ZodLiteral,...it(t)});function JL(e,t){return new td({values:e,typeName:et.ZodEnum,...it(t)})}class td extends wt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ke(r,{expected:_t.joinValues(n),received:r.parsedType,code:fe.invalid_type}),Ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ke(r,{received:r.data,code:fe.invalid_enum_value,options:n}),Ze}return Rs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return td.create(t,{...this._def,...r})}exclude(t,r=this._def){return td.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}td.create=JL;class Z2 extends wt{_parse(t){const r=_t.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Re.string&&n.parsedType!==Re.number){const s=_t.objectValues(r);return ke(n,{expected:_t.joinValues(s),received:n.parsedType,code:fe.invalid_type}),Ze}if(this._cache||(this._cache=new Set(_t.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=_t.objectValues(r);return ke(n,{received:n.data,code:fe.invalid_enum_value,options:s}),Ze}return Rs(t.data)}get enum(){return this._def.values}}Z2.create=(e,t)=>new Z2({values:e,typeName:et.ZodNativeEnum,...it(t)});class yv extends wt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Re.promise&&r.common.async===!1)return ke(r,{code:fe.invalid_type,expected:Re.promise,received:r.parsedType}),Ze;const n=r.parsedType===Re.promise?r.data:Promise.resolve(r.data);return Rs(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}yv.create=(e,t)=>new yv({type:e,typeName:et.ZodPromise,...it(t)});class rd extends wt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{ke(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ze;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ze:c.status==="dirty"||r.value==="dirty"?Wf(c.value):c});{if(r.value==="aborted")return Ze;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ze:l.status==="dirty"||r.value==="dirty"?Wf(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Zu(o))return Ze;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Zu(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):Ze);_t.assertNever(s)}}rd.create=(e,t,r)=>new rd({schema:e,typeName:et.ZodEffects,effect:t,...it(r)});rd.createWithPreprocess=(e,t,r)=>new rd({schema:t,effect:{type:"preprocess",transform:e},typeName:et.ZodEffects,...it(r)});class Bo extends wt{_parse(t){return this._getType(t)===Re.undefined?Rs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bo.create=(e,t)=>new Bo({innerType:e,typeName:et.ZodOptional,...it(t)});class nd extends wt{_parse(t){return this._getType(t)===Re.null?Rs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}nd.create=(e,t)=>new nd({innerType:e,typeName:et.ZodNullable,...it(t)});class Vj extends wt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Re.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Vj.create=(e,t)=>new Vj({innerType:e,typeName:et.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...it(t)});class Kj extends wt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return mv(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Oa(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Oa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Kj.create=(e,t)=>new Kj({innerType:e,typeName:et.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...it(t)});class eO extends wt{_parse(t){if(this._getType(t)!==Re.nan){const n=this._getOrReturnCtx(t);return ke(n,{code:fe.invalid_type,expected:Re.nan,received:n.parsedType}),Ze}return{status:"valid",value:t.data}}}eO.create=e=>new eO({typeName:et.ZodNaN,...it(e)});class GZ extends wt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class jN extends wt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ze:i.status==="dirty"?(r.dirty(),Wf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ze:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new jN({in:t,out:r,typeName:et.ZodPipeline})}}class Hj extends wt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Zu(s)&&(s.value=Object.freeze(s.value)),s);return mv(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Hj.create=(e,t)=>new Hj({innerType:e,typeName:et.ZodReadonly,...it(t)});var et;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(et||(et={}));const Ne=fa.create;nc.create;sc.create;const Ua=pv.create;ed.create;Qo.create;Fi.create;const xt=jr.create;gv.create;vv.create;ic.create;const _N=Wj.create,ar=td.create;yv.create;Bo.create;nd.create;const ts={string:e=>fa.create({...e,coerce:!0}),number:e=>nc.create({...e,coerce:!0}),boolean:e=>pv.create({...e,coerce:!0}),bigint:e=>sc.create({...e,coerce:!0}),date:e=>ed.create({...e,coerce:!0})};var YZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],QZ=YZ.reduce((e,t)=>{const r=zm(`Primitive.${t}`),n=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),XZ="Label",ZL=b.forwardRef((e,t)=>a.jsx(QZ.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ZL.displayName=XZ;var eF=ZL;const JZ=KS("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Y=b.forwardRef(({className:e,...t},r)=>a.jsx(eF,{ref:r,className:Z(JZ(),e),...t}));Y.displayName=eF.displayName;var jx="Tabs",[ZZ]=Ki(jx,[vx]),tF=vx(),[eee,SN]=ZZ(jx),rF=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Wm(l),[f,h]=ec({prop:n,onChange:s,defaultProp:i??"",caller:jx});return a.jsx(eee,{scope:r,baseId:Di(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Je.div,{dir:d,"data-orientation":o,...u,ref:t})})});rF.displayName=jx;var nF="TabsList",sF=b.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=SN(nF,r),o=tF(r);return a.jsx(VD,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Je.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});sF.displayName=nF;var iF="TabsTrigger",aF=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=SN(iF,r),l=tF(r),c=cF(o.baseId,n),u=uF(o.baseId,n),d=n===o.value;return a.jsx(KD,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Je.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Ee(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ee(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ee(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});aF.displayName=iF;var oF="TabsContent",lF=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=SN(oF,r),c=cF(l.baseId,n),u=uF(l.baseId,n),d=n===l.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(us,{present:s||d,children:({present:h})=>a.jsx(Je.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});lF.displayName=oF;function cF(e,t){return`${e}-trigger-${t}`}function uF(e,t){return`${e}-content-${t}`}var tee=rF,dF=sF,fF=aF,hF=lF;const Ba=tee,Yi=b.forwardRef(({className:e,...t},r)=>a.jsx(dF,{ref:r,className:Z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Yi.displayName=dF.displayName;const At=b.forwardRef(({className:e,...t},r)=>a.jsx(fF,{ref:r,className:Z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));At.displayName=fF.displayName;const Tt=b.forwardRef(({className:e,...t},r)=>a.jsx(hF,{ref:r,className:Z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Tt.displayName=hF.displayName;const ree=xt({email:Ne().email("Invalid email"),password:Ne().min(1,"Password required")});function nee(){const e=el(),[t]=oI(),r=t.get("returnTo")??"/dashboard",{register:n,handleSubmit:s,formState:{errors:i,isSubmitting:o}}=vt({resolver:yt(ree)}),l=async u=>{const d=await FK(u.email,u.password);d.success?(W.success("Signed in",{description:"Welcome back."}),e(r,{replace:!0})):W.error("Sign in failed",{description:d.error})},c=async u=>{const d=await zK(u,{redirectTo:r});d.success||W.error("Sign in failed",{description:d.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(re,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Sign in"}),a.jsx(we,{children:"Choose local-only or cloud-linked mode."})]}),a.jsx(ne,{children:a.jsxs(Ba,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Yi,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(At,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(At,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Tt,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. Access the Control UI at your local URL and use QR or pairing code to connect devices."}),a.jsx(O,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(he,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Tt,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:s(l),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"email",children:"Email"}),a.jsx(ye,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...n("email"),"aria-invalid":!!i.email}),i.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"password",children:"Password"}),a.jsx(ye,{id:"password",type:"password",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"current-password",...n("password"),"aria-invalid":!!i.password}),i.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.password.message})]}),a.jsx("div",{className:"flex items-center justify-between text-sm",children:a.jsx(he,{to:"/forgot-password",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Forgot password?"})}),a.jsx(O,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Signing in"]}):"Sign in"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("span",{className:"relative flex justify-center text-xs uppercase text-muted-foreground",children:"Or continue with"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(O,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("github"),children:[a.jsx(uH,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"GitHub"]}),a.jsxs(O,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("google"),children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24","aria-hidden":!0,children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["No account?"," ",a.jsx(he,{to:"/signup",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign up"})]})]})]})})]})})}const see=xt({email:Ne().email("Invalid email"),password:Ne().min(8,"At least 8 characters"),confirmPassword:Ne()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function iee(){const e=el(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:s}}=vt({resolver:yt(see)}),i=async o=>{const l=await WK(o.email,o.password,{redirectTo:"/verify-email"});l.success?l.needsEmailVerification?(W.success("Check your email",{description:"We sent a verification link. Click it or enter the code on the next page."}),e("/verify-email",{replace:!0})):(W.success("Account created",{description:"You can sign in now."}),e("/dashboard",{replace:!0})):W.error("Sign up failed",{description:l.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(re,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Create account"}),a.jsx(we,{children:"Choose local-only or sign up for cloud-linked mode."})]}),a.jsx(ne,{children:a.jsxs(Ba,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Yi,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(At,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(At,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Tt,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. No signup required. Open the Control UI and connect devices via QR or pairing code."}),a.jsx(O,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(he,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Tt,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:r(i),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"email",children:"Email"}),a.jsx(ye,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...t("email"),"aria-invalid":!!n.email}),n.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"password",children:"Password"}),a.jsx(ye,{id:"password",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("password"),"aria-invalid":!!n.password}),n.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"confirmPassword",children:"Confirm password"}),a.jsx(ye,{id:"confirmPassword",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("confirmPassword"),"aria-invalid":!!n.confirmPassword}),n.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.confirmPassword.message})]}),a.jsx(O,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Creating account"]}):"Sign up"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx(he,{to:"/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Log in"})]})]})]})})]})})}const tO={empty:"",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"};function aee(e){if(!e||e.length===0)return{level:"empty",score:0,label:tO.empty,minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1};const t=/[a-z]/.test(e),r=/[A-Z]/.test(e),n=/\d/.test(e),s=/[^A-Za-z0-9]/.test(e),i=e.length>=8;let o=0;e.length>=8&&(o+=1),e.length>=12&&(o+=1),t&&r&&(o+=1),n&&(o+=1),s&&(o+=1),o=Math.min(4,o);const l=o===0||o===1?"weak":o===2?"fair":o===3?"good":"strong";return{level:l,score:o,label:tO[l],minLength:i,hasLower:t,hasUpper:r,hasNumber:n,hasSpecial:s}}function oee(e){switch(e){case"empty":return"bg-muted-foreground/30";case"weak":return"bg-destructive";case"fair":return"bg-warning";case"good":return"bg-accent";case"strong":return"bg-success";default:return"bg-muted-foreground/30"}}const lee=xt({email:Ne().min(1,"Email is required").email("Enter a valid email address")}),cee=xt({password:Ne().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must include a lowercase letter").regex(/[A-Z]/,"Password must include an uppercase letter").regex(/\d/,"Password must include a number"),confirmPassword:Ne().min(1,"Confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function uee(){const[e,t]=b.useState("email"),[r,n]=b.useState(!0),s=vt({resolver:yt(lee),defaultValues:{email:""}}),i=vt({resolver:yt(cee),defaultValues:{password:"",confirmPassword:""}}),o=i.watch("password",""),l=aee(o);b.useEffect(()=>{if(!HK()){n(!1);return}q.auth.getSession().then(({data:{session:d}})=>{d&&(t("set_password"),window.history.replaceState(null,"",window.location.pathname)),n(!1)})},[]);const c=async d=>{const f=await VK(d.email,"/forgot-password");f.success?(t("email_sent"),W.success("Check your email",{description:"If an account exists, we sent a reset link. Check spam if you dont see it."})):W.error("Could not send reset link",{description:f.error})},u=async d=>{const f=await KK(d.password);f.success?(t("success"),W.success("Password updated",{description:"You can now sign in with your new password."}),await q.auth.signOut()):W.error("Could not update password",{description:f.error})};return r?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(he,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md",children:[a.jsx(Ku,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsx("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Checking your reset link"})})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(he,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(Ku,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(he,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(re,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ie,{className:"space-y-1",children:[a.jsx(oe,{className:"text-xl font-semibold",children:e==="email"||e==="email_sent"?"Reset password":e==="set_password"?"Set new password":"Password updated"}),a.jsxs(we,{children:[e==="email"&&"Enter your cloud account email and well send a secure reset link. For local-only mode, you dont need a password.",e==="email_sent"&&"If an account exists for that email, we sent a reset link. Check your inbox and spam folder.",e==="set_password"&&"Choose a strong password. Youll use it to sign in to your cloud-linked account.",e==="success"&&"Your password has been updated. You can now sign in with your new credentials."]})]}),a.jsxs(ne,{className:"space-y-4",children:[(e==="email"||e==="email_sent")&&a.jsx(a.Fragment,{children:e==="email"?a.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"password-reset-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hu,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ye,{id:"password-reset-email",type:"email",placeholder:"you@example.com",className:"pl-9 rounded-md border-border py-3",autoComplete:"email",...s.register("email"),"aria-invalid":!!s.formState.errors.email})]}),s.formState.errors.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:s.formState.errors.email.message})]}),a.jsx(O,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Sending":"Send reset link"})]}):a.jsxs("div",{className:"rounded-md border border-border bg-secondary/30 px-4 py-3 text-sm text-muted-foreground",children:[a.jsx("p",{children:"Check your email for the reset link. The link expires after a short time."}),a.jsx(O,{type:"button",variant:"ghost",className:"mt-3 text-primary hover:text-primary",onClick:()=>t("email"),children:"Send another link"})]})}),e==="set_password"&&a.jsxs("form",{onSubmit:i.handleSubmit(u),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"new-password",children:"New password"}),a.jsxs("div",{className:"relative",children:[a.jsx(IS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ye,{id:"new-password",type:"password",placeholder:"",className:"pl-9 rounded-md border-border py-3",autoComplete:"new-password",...i.register("password"),"aria-invalid":!!i.formState.errors.password})]}),o.length>0&&a.jsxs("div",{className:"space-y-1","aria-live":"polite",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"Strength"}),a.jsx("span",{className:Z(l.level!=="empty"&&l.level!=="weak"?"text-success":l.level==="weak"?"text-destructive":"text-muted-foreground"),children:l.label})]}),a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-secondary",role:"progressbar","aria-valuenow":l.score*25,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Password strength",children:a.jsx("div",{className:Z("h-full rounded-full transition-all duration-300",oee(l.level)),style:{width:`${l.score*25}%`}})})]}),i.formState.errors.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"confirm-password",children:"Confirm password"}),a.jsx(ye,{id:"confirm-password",type:"password",placeholder:"",className:"rounded-md border-border py-3",autoComplete:"new-password",...i.register("confirmPassword"),"aria-invalid":!!i.formState.errors.confirmPassword}),i.formState.errors.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.confirmPassword.message})]}),a.jsx(O,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Updating":"Update password"})]}),e==="success"&&a.jsxs("div",{className:"animate-fade-in-up space-y-4 text-center",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"rounded-full bg-success/15 p-3",children:a.jsx(Ko,{className:"h-8 w-8 text-success","aria-hidden":!0})})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now sign in with your new password."}),a.jsx(O,{asChild:!0,className:"w-full rounded-md py-3 font-medium",size:"lg",children:a.jsx(he,{to:"/login",children:"Sign in"})})]}),e!=="success"&&a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:a.jsx(he,{to:"/login",className:"font-medium text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Back to login"})})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(he,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Yy,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})})]})}const dee=xt({token:Ne().min(1,"Enter the verification code from your email")});function fee(){const e=el(),[t,r]=b.useState("checking"),[n,s]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(null),u=vt({resolver:yt(dee),defaultValues:{token:""}});b.useEffect(()=>{let m=!1;async function g(){const p=YK();if(p){const y=await BE(p);m||(y.success?(r("verified"),W.success("Email verified",{description:"Your email has been confirmed. You can continue to the dashboard."}),window.history.replaceState(null,"",window.location.pathname)):W.error("Verification failed",{description:y.error}));return}const v=await QK();if(m)return;if(v){r("verified");return}const{data:{user:x}}=await q.auth.getUser();m||(x!=null&&x.email&&c(x.email),r("pending"))}return g(),()=>{m=!0}},[]);const d=async m=>{const g=await BE(m.token);g.success?(r("verified"),u.reset(),W.success("Email verified",{description:"Your email has been confirmed."})):W.error("Verification failed",{description:g.error})},f=async()=>{o(!0);const m=await GK();o(!1),s(!1),m.success?W.success("Verification email sent",{description:"Check your inbox and spam folder for the link."}):W.error("Could not resend email",{description:m.error})},h=()=>{e("/dashboard",{replace:!0})};return t==="checking"?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(he,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md","aria-label":"Back to login",children:[a.jsx(Ku,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsxs("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:[a.jsx(fn,{className:"mx-auto h-8 w-8 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking verification status"})]})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(he,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(Ku,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(he,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(re,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ie,{className:"space-y-1",children:[a.jsxs(oe,{className:"flex items-center gap-2 text-xl font-semibold",children:[a.jsx(Hu,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Verify your email"]}),a.jsxs(we,{children:["Required for signup and sensitive operations (e.g. skill install). We sent a link to",l?` ${l}`:" your email","."]})]}),a.jsxs(ne,{className:"space-y-4",children:[a.jsx("div",{role:"status","aria-live":"polite",className:t==="verified"?"flex items-center gap-2 rounded-md border border-success/30 bg-success/10 px-3 py-2.5 text-sm text-success":"flex items-center gap-2 rounded-md border border-warning/30 bg-warning/10 px-3 py-2.5 text-sm text-warning",children:t==="verified"?a.jsxs(a.Fragment,{children:[a.jsx(UI,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Verified"]}):a.jsxs(a.Fragment,{children:[a.jsx(Hu,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Pending"]})}),t==="verified"?a.jsxs("div",{className:"animate-fade-in-up space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Youre all set. Continue to your dashboard or complete your profile."}),a.jsx(O,{onClick:h,className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md",size:"lg",children:"Continue to dashboard"}),a.jsx(O,{asChild:!0,variant:"outline",className:"w-full rounded-md py-3",children:a.jsx(he,{to:"/profile",children:"Go to profile"})})]}):a.jsxs(a.Fragment,{children:[a.jsx(O,{type:"button",variant:"outline",className:"w-full rounded-md py-3",onClick:()=>s(!0),children:"Resend verification email"}),a.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"verify-token",children:"Or enter code manually"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lh,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ye,{id:"verify-token",type:"text",placeholder:"Paste verification code from email",className:"pl-9 rounded-md border-border py-3",autoComplete:"one-time-code",...u.register("token"),"aria-invalid":!!u.formState.errors.token})]}),u.formState.errors.token&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:u.formState.errors.token.message})]}),a.jsx(O,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Verifying"]}):a.jsxs(a.Fragment,{children:[a.jsx(Gu,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Verify"]})})]})]})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(he,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Yy,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})}),a.jsx(ze,{open:n,onOpenChange:s,children:a.jsxs(Le,{className:"rounded-[10px] border border-border bg-card shadow-lg max-w-[640px]","aria-describedby":"resend-dialog-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Resend verification email"}),a.jsx(Be,{id:"resend-dialog-description",children:"Well send another verification link to your email. Check your spam folder if you dont see the first one."})]}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(O,{type:"button",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Sending"]}):"Send again"})]})]})})]})}function ve({className:e,...t}){return a.jsx("div",{className:Z("animate-pulse rounded-md bg-muted",e),...t})}function mF(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var _x="Switch",[hee]=Ki(_x),[mee,pee]=hee(_x),pF=b.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=b.useState(null),g=gt(t,w=>m(w)),p=b.useRef(!1),v=h?d||!!h.closest("form"):!0,[x,y]=ec({prop:s,defaultProp:i??!1,onChange:u,caller:_x});return a.jsxs(mee,{scope:r,checked:x,disabled:l,children:[a.jsx(Je.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":xF(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Ee(e.onClick,w=>{y(S=>!S),v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),v&&a.jsx(yF,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});pF.displayName=_x;var gF="SwitchThumb",vF=b.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=pee(gF,r);return a.jsx(Je.span,{"data-state":xF(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});vF.displayName=gF;var gee="SwitchBubbleInput",yF=b.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=b.useRef(null),l=gt(o,i),c=mF(r),u=kD(t);return b.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yF.displayName=gee;function xF(e){return e?"checked":"unchecked"}var bF=pF,vee=vF;const en=b.forwardRef(({className:e,...t},r)=>a.jsx(bF,{className:Z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),ref:r,...t,children:a.jsx(vee,{className:Z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));en.displayName=bF.displayName;const yee="http://localhost:3000/api";async function vf(e,t={}){const r=`${yee}${e}`,n={"Content-Type":"application/json",...t.headers},s=typeof window<"u"?localStorage.getItem("auth_token"):null;s&&(n.Authorization=`Bearer ${s}`);const i=await fetch(r,{...t,headers:n});if(!i.ok)throw i.status===401&&typeof window<"u"&&(localStorage.removeItem("auth_token"),window.location.href="/login"),new Error(`API Error: ${i.status}`);const o=await i.text();if(o)return JSON.parse(o)}const _e={get:e=>vf(e),post:(e,t)=>vf(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>vf(e,{method:"PUT",body:JSON.stringify(t)}),patch:(e,t)=>vf(e,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>vf(e,{method:"DELETE"})},zs="/profile",vi={getProfile:()=>_e.get(`${zs}`),updateProfile:e=>_e.patch(`${zs}`,e),getOAuthAccounts:()=>_e.get(`${zs}/oauth-accounts`),unlinkOAuthAccount:e=>_e.delete(`${zs}/oauth-accounts/${e}`),getDeviceSessions:()=>_e.get(`${zs}/sessions`),revokeSession:e=>_e.delete(`${zs}/sessions/${e}`),getApiKeys:()=>_e.get(`${zs}/api-keys`),createApiKey:e=>_e.post(`${zs}/api-keys`,e),revokeApiKey:e=>_e.delete(`${zs}/api-keys/${e}`),getSecuritySettings:()=>_e.get(`${zs}/security-settings`),updateSecuritySettings:e=>_e.patch(`${zs}/security-settings`,e)},dn={all:["profile"],profile:()=>[...dn.all,"detail"],oauthAccounts:()=>[...dn.all,"oauth-accounts"],sessions:()=>[...dn.all,"sessions"],apiKeys:()=>[...dn.all,"api-keys"],securitySettings:()=>[...dn.all,"security-settings"]};function Qm(e,t){return e().catch(()=>t)}function Sx(){return Te({queryKey:dn.profile(),queryFn:()=>Qm(vi.getProfile,null)})}function xee(){const e=be();return xe({mutationFn:t=>vi.updateProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:dn.profile()}),W.success("Profile updated")},onError:t=>{W.error(t.message||"Failed to update profile")}})}function bee(){return Te({queryKey:dn.oauthAccounts(),queryFn:()=>Qm(vi.getOAuthAccounts,[])})}function wee(){const e=be();return xe({mutationFn:t=>vi.unlinkOAuthAccount(t),onSuccess:()=>{e.invalidateQueries({queryKey:dn.oauthAccounts()}),W.success("Account unlinked")},onError:t=>{W.error(t.message||"Failed to unlink account")}})}function jee(){return Te({queryKey:dn.sessions(),queryFn:()=>Qm(vi.getDeviceSessions,[])})}function _ee(){const e=be();return xe({mutationFn:t=>vi.revokeSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:dn.sessions()}),W.success("Session revoked")},onError:t=>{W.error(t.message||"Failed to revoke session")}})}function See(){return Te({queryKey:dn.apiKeys(),queryFn:()=>Qm(vi.getApiKeys,[])})}function Nee(){const e=be();return xe({mutationFn:t=>vi.createApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:dn.apiKeys()}),W.success("API key created")},onError:t=>{W.error(t.message||"Failed to create API key")}})}function kee(){const e=be();return xe({mutationFn:t=>vi.revokeApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:dn.apiKeys()}),W.success("API key revoked")},onError:t=>{W.error(t.message||"Failed to revoke API key")}})}function wF(){return Te({queryKey:dn.securitySettings(),queryFn:()=>Qm(vi.getSecuritySettings,null)})}function jF(){const e=be();return xe({mutationFn:t=>vi.updateSecuritySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:dn.securitySettings()}),W.success("Security settings updated")},onError:t=>{W.error(t.message||"Failed to update security settings")}})}function Ft(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Pa(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Cee(e,t){const r=Ft(e);return isNaN(t)?Pa(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const _F=6048e5,Eee=864e5,SF=6e4,NF=36e5,Up=43200,rO=1440;let Oee={};function Xm(){return Oee}function Kh(e,t){var l,c,u,d;const r=Xm(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ft(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function xv(e){return Kh(e,{weekStartsOn:1})}function kF(e){const t=Ft(e),r=t.getFullYear(),n=Pa(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=xv(n),i=Pa(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=xv(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function nO(e){const t=Ft(e);return t.setHours(0,0,0,0),t}function bv(e){const t=Ft(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Pee(e,t){const r=nO(e),n=nO(t),s=+r-bv(r),i=+n-bv(n);return Math.round((s-i)/Eee)}function Aee(e){const t=kF(e),r=Pa(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),xv(r)}function _g(e,t){const r=Ft(e),n=Ft(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function Tee(e){return Pa(e,Date.now())}function Ree(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Mee(e){if(!Ree(e)&&typeof e!="number")return!1;const t=Ft(e);return!isNaN(Number(t))}function $ee(e,t){const r=Ft(e),n=Ft(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Iee(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Dee(e,t){return+Ft(e)-+Ft(t)}function Lee(e){const t=Ft(e);return t.setHours(23,59,59,999),t}function Fee(e){const t=Ft(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Uee(e){const t=Ft(e);return+Lee(t)==+Fee(t)}function Bee(e,t){const r=Ft(e),n=Ft(t),s=_g(r,n),i=Math.abs($ee(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=_g(r,n)===-s;Uee(Ft(e))&&i===1&&_g(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function qee(e,t,r){const n=Dee(e,t)/1e3;return Iee(r==null?void 0:r.roundingMethod)(n)}function zee(e){const t=Ft(e),r=Pa(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Wee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vee=(e,t,r)=>{let n;const s=Wee[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function gw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Kee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yee={date:gw({formats:Kee,defaultWidth:"full"}),time:gw({formats:Hee,defaultWidth:"full"}),dateTime:gw({formats:Gee,defaultWidth:"full"})},Qee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xee=(e,t,r,n)=>Qee[e];function yf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Jee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ete={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ste=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ite={ordinalNumber:ste,era:yf({values:Jee,defaultWidth:"wide"}),quarter:yf({values:Zee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yf({values:ete,defaultWidth:"wide"}),day:yf({values:tte,defaultWidth:"wide"}),dayPeriod:yf({values:rte,defaultWidth:"wide",formattingValues:nte,defaultFormattingWidth:"wide"})};function xf(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ote(l,f=>f.test(o)):ate(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function ate(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ote(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function lte(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const cte=/^(\d+)(th|st|nd|rd)?/i,ute=/\d+/i,dte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fte={any:[/^b/i,/^(a|c)/i]},hte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mte={any:[/1/i,/2/i,/3/i,/4/i]},pte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wte={ordinalNumber:lte({matchPattern:cte,parsePattern:ute,valueCallback:e=>parseInt(e,10)}),era:xf({matchPatterns:dte,defaultMatchWidth:"wide",parsePatterns:fte,defaultParseWidth:"any"}),quarter:xf({matchPatterns:hte,defaultMatchWidth:"wide",parsePatterns:mte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xf({matchPatterns:pte,defaultMatchWidth:"wide",parsePatterns:gte,defaultParseWidth:"any"}),day:xf({matchPatterns:vte,defaultMatchWidth:"wide",parsePatterns:yte,defaultParseWidth:"any"}),dayPeriod:xf({matchPatterns:xte,defaultMatchWidth:"any",parsePatterns:bte,defaultParseWidth:"any"})},CF={code:"en-US",formatDistance:Vee,formatLong:Yee,formatRelative:Xee,localize:ite,match:wte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jte(e){const t=Ft(e);return Pee(t,zee(t))+1}function _te(e){const t=Ft(e),r=+xv(t)-+Aee(t);return Math.round(r/_F)+1}function EF(e,t){var d,f,h,m;const r=Ft(e),n=r.getFullYear(),s=Xm(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Pa(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Kh(o,t),c=Pa(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Kh(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Ste(e,t){var l,c,u,d;const r=Xm(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=EF(e,t),i=Pa(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Kh(i,t)}function Nte(e,t){const r=Ft(e),n=+Kh(r,t)-+Ste(r,t);return Math.round(n/_F)+1}function Mt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const eo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Mt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mt(r+1,2)},d(e,t){return Mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mt(e.getHours()%12||12,t.length)},H(e,t){return Mt(e.getHours(),t.length)},m(e,t){return Mt(e.getMinutes(),t.length)},s(e,t){return Mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Mt(s,t.length)}},Fc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sO={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return eo.y(e,t)},Y:function(e,t,r,n){const s=EF(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Mt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Mt(i,t.length)},R:function(e,t){const r=kF(e);return Mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Mt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Mt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return eo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Mt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Nte(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Mt(s,t.length)},I:function(e,t,r){const n=_te(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Mt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):eo.d(e,t)},D:function(e,t,r){const n=jte(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Mt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Mt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Mt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Fc.noon:n===0?s=Fc.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Fc.evening:n>=12?s=Fc.afternoon:n>=4?s=Fc.morning:s=Fc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return eo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):eo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):eo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):eo.s(e,t)},S:function(e,t){return eo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return aO(n);case"XXXX":case"XX":return gl(n);case"XXXXX":case"XXX":default:return gl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return aO(n);case"xxxx":case"xx":return gl(n);case"xxxxx":case"xxx":default:return gl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iO(n,":");case"OOOO":default:return"GMT"+gl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iO(n,":");case"zzzz":default:return"GMT"+gl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Mt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Mt(n,t.length)}};function iO(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Mt(i,2)}function aO(e,t){return e%60===0?(e>0?"-":"+")+Mt(Math.abs(e)/60,2):gl(e,t)}function gl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Mt(Math.trunc(n/60),2),i=Mt(n%60,2);return r+s+t+i}const oO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},OF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},kte=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return oO(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",oO(n,t)).replace("{{time}}",OF(s,t))},Cte={p:OF,P:kte},Ete=/^D+$/,Ote=/^Y+$/,Pte=["D","DD","YY","YYYY"];function Ate(e){return Ete.test(e)}function Tte(e){return Ote.test(e)}function Rte(e,t,r){const n=Mte(e,t,r);if(console.warn(n),Pte.includes(e))throw new RangeError(n)}function Mte(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $te=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ite=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dte=/^'([^]*?)'?$/,Lte=/''/g,Fte=/[a-zA-Z]/;function lu(e,t,r){var d,f,h,m;const n=Xm(),s=n.locale??CF,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=Ft(e);if(!Mee(l))throw new RangeError("Invalid time value");let c=t.match(Ite).map(g=>{const p=g[0];if(p==="p"||p==="P"){const v=Cte[p];return v(g,s.formatLong)}return g}).join("").match($te).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:Ute(g)};if(sO[p])return{isToken:!0,value:g};if(p.match(Fte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(Tte(p)||Ate(p))&&Rte(p,t,String(e));const v=sO[p[0]];return v(l,p,s.localize,u)}).join("")}function Ute(e){const t=e.match(Dte);return t?t[1].replace(Lte,"'"):e}function Bte(e,t,r){const n=Xm(),s=(r==null?void 0:r.locale)??n.locale??CF,i=2520,o=_g(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Ft(t),u=Ft(e)):(c=Ft(e),u=Ft(t));const d=qee(u,c),f=(bv(u)-bv(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<rO){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<Up){const g=Math.round(h/rO);return s.formatDistance("xDays",g,l)}else if(h<Up*2)return m=Math.round(h/Up),s.formatDistance("aboutXMonths",m,l)}if(m=Bee(u,c),m<12){const g=Math.round(h/Up);return s.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",p,l):g<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function Lr(e,t){return Bte(e,Tee(e),t)}function PF(e,t){return Cee(e,-t)}function bf(e,t){const n=Vte(e);let s;if(n.date){const c=Kte(n.date,2);s=Hte(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=Gte(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=Yte(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Bp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},qte=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zte=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Wte=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Vte(e){const t={},r=e.split(Bp.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Bp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Bp.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Bp.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function Kte(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Hte(e,t){if(t===null)return new Date(NaN);const r=e.match(qte);if(!r)return new Date(NaN);const n=!!r[4],s=wf(r[1]),i=wf(r[2])-1,o=wf(r[3]),l=wf(r[4]),c=wf(r[5])-1;if(n)return ere(t,l,c)?Qte(t,l,c):new Date(NaN);{const u=new Date(0);return!Jte(t,i,o)||!Zte(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function wf(e){return e?parseInt(e):1}function Gte(e){const t=e.match(zte);if(!t)return NaN;const r=vw(t[1]),n=vw(t[2]),s=vw(t[3]);return tre(r,n,s)?r*NF+n*SF+s*1e3:NaN}function vw(e){return e&&parseFloat(e.replace(",","."))||0}function Yte(e){if(e==="Z")return 0;const t=e.match(Wte);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return rre(n,s)?r*(n*NF+s*SF):NaN}function Qte(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const Xte=[31,null,31,30,31,30,31,31,30,31,30,31];function AF(e){return e%400===0||e%4===0&&e%100!==0}function Jte(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Xte[t]||(AF(e)?29:28))}function Zte(e,t){return t>=1&&t<=(AF(e)?366:365)}function ere(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function tre(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function rre(e,t){return t>=0&&t<=59}const nre=xt({name:Ne().min(1,"Name is required").max(64),scope:Ne().min(1,"Scope is required").max(128)}),sre={github:"GitHub",google:"Google",discord:"Discord",slack:"Slack"};function ire(){const{data:e,isLoading:t}=Sx(),r=xee(),[n,s]=b.useState(!1),[i,o]=b.useState((e==null?void 0:e.display_name)??"");if(b.useEffect(()=>{!n&&(e==null?void 0:e.display_name)!==void 0&&o(e.display_name??"")},[e==null?void 0:e.display_name,n]),t)return a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(ve,{className:"h-6 w-32"}),a.jsx(ve,{className:"h-4 w-48 mt-2"})]}),a.jsxs(ne,{className:"flex items-center gap-4",children:[a.jsx(ve,{className:"h-16 w-16 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ve,{className:"h-5 w-40"}),a.jsx(ve,{className:"h-4 w-24"})]})]})]});const l=(e==null?void 0:e.display_name)||"User",c=(e==null?void 0:e.email)??"",u=(e==null?void 0:e.workspace_path)??"",d=l.slice(0,2).toUpperCase(),f=()=>{r.mutate({display_name:i||null},{onSuccess:()=>s(!1)})};return a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(ex,{className:"h-5 w-5"}),"Profile summary"]}),a.jsx(we,{children:"Account and avatar."})]}),a.jsxs(ne,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-6",children:[a.jsxs(ux,{className:"h-16 w-16 shrink-0",children:[a.jsx(eN,{src:(e==null?void 0:e.avatar_url)??void 0,alt:l}),a.jsx(dx,{className:"text-lg bg-primary/20 text-primary",children:d})]}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[n?a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(ye,{value:i,onChange:h=>o(h.target.value),placeholder:"Display name",className:"max-w-xs","aria-label":"Display name"}),a.jsx(O,{size:"sm",onClick:f,disabled:r.isPending,children:r.isPending?a.jsx(fn,{className:"h-4 w-4 animate-spin"}):"Save"}),a.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{s(!1),o((e==null?void 0:e.display_name)??"")},children:"Cancel"})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium truncate",children:l}),a.jsx(O,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",onClick:()=>{o((e==null?void 0:e.display_name)??""),s(!0)},"aria-label":"Edit display name",children:"Edit"})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Workspace: ",a.jsx("span",{className:"font-mono truncate",children:u})]})]})]})]})}function are(){const{data:e,isLoading:t}=bee(),r=wee(),[n,s]=b.useState(null);if(t)return a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(ve,{className:"h-6 w-40"}),a.jsx(ve,{className:"h-4 w-56 mt-2"})]}),a.jsxs(ne,{children:[a.jsx(ve,{className:"h-12 w-full"}),a.jsx(ve,{className:"h-12 w-full mt-2"})]})]});const i=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(SH,{className:"h-5 w-5"}),"Connected accounts"]}),a.jsx(we,{children:"OAuth and linked accounts; unlink here."})]}),a.jsx(ne,{children:i.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected accounts."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connect GitHub, Google, or other providers from Settings."})]}):a.jsx("ul",{className:"space-y-2",children:i.map(o=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsx("span",{className:"font-medium",children:sre[o.provider]??o.provider}),a.jsx(O,{variant:"outline",size:"sm",onClick:()=>s(o.id),disabled:r.isPending,"aria-label":`Unlink ${o.provider}`,children:"Unlink"})]},o.id))})})]}),a.jsx(ze,{open:!!n,onOpenChange:()=>s(null),children:a.jsxs(Le,{showClose:!0,children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Unlink account"}),a.jsx(Be,{children:"Are you sure you want to unlink this account? You may need to sign in again with this provider to reconnect."})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>s(null),children:"Cancel"}),a.jsx(O,{variant:"destructive",onClick:()=>{n&&r.mutate(n,{onSuccess:()=>s(null)})},disabled:r.isPending,children:r.isPending?a.jsx(fn,{className:"h-4 w-4 animate-spin"}):"Unlink"})]})]})})]})}function ore(){const{data:e,isLoading:t}=jee(),{data:r,isLoading:n}=wF(),s=jF(),i=_ee(),[o,l]=b.useState(null),c=t||n,u=(r==null?void 0:r.two_factor_enabled)??!1;if(c)return a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(ve,{className:"h-6 w-24"}),a.jsx(ve,{className:"h-4 w-48 mt-2"})]}),a.jsxs(ne,{className:"space-y-4",children:[a.jsx(ve,{className:"h-10 w-32"}),a.jsx(ve,{className:"h-6 w-full"})]})]});const d=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(Un,{className:"h-5 w-5"}),"Security"]}),a.jsx(we,{children:"Password, 2FA, active sessions."})]}),a.jsxs(ne,{className:"space-y-4",children:[a.jsx(O,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(he,{to:"/forgot-password",children:"Change password"})}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(Y,{htmlFor:"2fa",className:"cursor-pointer",children:"Two-factor authentication"}),a.jsx(en,{id:"2fa",checked:u,onCheckedChange:f=>s.mutate({two_factor_enabled:f}),disabled:s.isPending})]}),a.jsx(XS,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Active sessions"}),d.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No other sessions."}):a.jsx("ul",{className:"space-y-2",children:d.map(f=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jy,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:f.device_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Lr(new Date(f.last_active_at),{addSuffix:!0})})]})]}),a.jsx(O,{variant:"outline",size:"sm",onClick:()=>l(f.id),disabled:i.isPending,"aria-label":`Revoke ${f.device_name}`,children:"Revoke"})]},f.id))})]})]})]}),a.jsx(ze,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Le,{showClose:!0,children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Revoke session"}),a.jsx(Be,{children:"This device will be signed out. Are you sure?"})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(O,{variant:"destructive",onClick:()=>{o&&i.mutate(o,{onSuccess:()=>l(null)})},disabled:i.isPending,children:i.isPending?a.jsx(fn,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function lre(){const{data:e,isLoading:t}=See(),r=Nee(),n=kee(),[s,i]=b.useState(!1),[o,l]=b.useState(null),[c,u]=b.useState(null),d=vt({resolver:yt(nre),defaultValues:{name:"",scope:"read"}}),f=m=>{r.mutate(m,{onSuccess:g=>{u(g.key),d.reset()}})};if(t)return a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(ve,{className:"h-6 w-24"}),a.jsx(ve,{className:"h-4 w-40 mt-2"})]}),a.jsxs(ne,{children:[a.jsx(ve,{className:"h-10 w-28"}),a.jsx(ve,{className:"h-12 w-full mt-4"})]})]});const h=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(Fh,{className:"h-5 w-5"}),"API Keys"]}),a.jsx(we,{children:"Create and manage scoped API keys for integrations."})]}),a.jsxs(ne,{className:"space-y-4",children:[a.jsx(O,{variant:"outline",size:"sm",onClick:()=>{i(!0),u(null)},children:"Create API key"}),h.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-6 text-center",children:[a.jsx(Lh,{className:"mx-auto h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No API keys yet."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a key to use with external tools or scripts."})]}):a.jsx("ul",{className:"space-y-2",children:h.map(m=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:m.name}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[m.key_prefix,""]})]}),a.jsx(O,{variant:"outline",size:"sm",onClick:()=>l(m.id),disabled:n.isPending,"aria-label":`Revoke key ${m.name}`,children:"Revoke"})]},m.id))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Keychain / 1Password integration can be enabled below."})]})]}),a.jsx(ze,{open:s,onOpenChange:i,children:a.jsxs(Le,{showClose:!0,children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Create API key"}),a.jsx(Be,{children:"Choose a name and scope. The key value is shown only once."})]}),c?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Your new key (copy now)"}),a.jsx(ye,{readOnly:!0,value:c,className:"font-mono text-sm","aria-label":"API key value"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Store this securely; it won't be shown again."}),a.jsx(Ve,{children:a.jsx(O,{onClick:()=>i(!1),children:"Done"})})]}):a.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"key-name",children:"Name"}),a.jsx(ye,{id:"key-name",...d.register("name"),placeholder:"e.g. CI pipeline","aria-invalid":!!d.formState.errors.name}),d.formState.errors.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"key-scope",children:"Scope"}),a.jsx(ye,{id:"key-scope",...d.register("scope"),placeholder:"e.g. read, write","aria-invalid":!!d.formState.errors.scope}),d.formState.errors.scope&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.scope.message})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsx(O,{type:"submit",disabled:r.isPending,children:r.isPending?a.jsx(fn,{className:"h-4 w-4 animate-spin"}):"Create"})]})]})]})}),a.jsx(ze,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Le,{showClose:!0,children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Revoke API key"}),a.jsx(Be,{children:"This key will stop working immediately. Any integrations using it will need a new key."})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(O,{variant:"destructive",onClick:()=>{o&&n.mutate(o,{onSuccess:()=>l(null)})},disabled:n.isPending,children:n.isPending?a.jsx(fn,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function cre(){const{data:e,isLoading:t}=wF(),r=jF(),n=(e==null?void 0:e.keychain_integration_enabled)??!1;return t?a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(ve,{className:"h-6 w-48"}),a.jsx(ve,{className:"h-4 w-64 mt-2"})]}),a.jsx(ne,{children:a.jsx(ve,{className:"h-6 w-full"})})]}):a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(Lh,{className:"h-5 w-5"}),"Keychain / 1Password"]}),a.jsx(we,{children:"Use 1Password or system keychain for secure login and autofill."})]}),a.jsx(ne,{children:a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(Y,{htmlFor:"keychain",className:"cursor-pointer",children:"Enable 1Password integration"}),a.jsx(en,{id:"keychain",checked:n,onCheckedChange:s=>r.mutate({keychain_integration_enabled:s}),disabled:r.isPending})]})})]})}function ure(){return a.jsxs("div",{className:Z("mx-auto max-w-3xl space-y-6 animate-fade-in-up"),children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Profile"}),a.jsx(ire,{}),a.jsx(are,{}),a.jsx(ore,{}),a.jsx(lre,{}),a.jsx(cre,{}),a.jsx("div",{className:"flex justify-end",children:a.jsx(O,{asChild:!0,children:a.jsx(he,{to:"/settings",children:"Settings"})})})]})}function dre(){return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(re,{className:"w-full max-w-md animate-fade-in-up",children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(As,{className:"h-5 w-5"}),"Install Gateway"]}),a.jsx(we,{children:"Download the Clawgate gateway for your platform."})]}),a.jsxs(ne,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway binaries and installers will be available here. For now, use the Open Local UI button if you have the gateway running."}),a.jsx(O,{asChild:!0,className:"w-full",children:a.jsx(he,{to:"/dashboard",children:"Open Local UI"})}),a.jsx(O,{variant:"outline",asChild:!0,className:"w-full",children:a.jsx(he,{to:"/",children:"Back to home"})})]})]})})}const fre=KS("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-600/20 text-green-400",warning:"border-transparent bg-amber-600/20 text-amber-400"}},defaultVariants:{variant:"default"}});function Qe({className:e,variant:t,...r}){return a.jsx("div",{className:Z(fre({variant:t}),e),...r})}const Qt="/dashboard",Nn={getActivities:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return _e.get(`${Qt}/activities${t?`?${t}`:""}`)},getActivity:e=>_e.get(`${Qt}/activities/${e}`),createActivity:e=>_e.post(`${Qt}/activities`,e),deleteActivity:e=>_e.delete(`${Qt}/activities/${e}`),getRuns:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return _e.get(`${Qt}/runs${t?`?${t}`:""}`)},getRun:e=>_e.get(`${Qt}/runs/${e}`),createRun:e=>_e.post(`${Qt}/runs`,e),updateRun:(e,t)=>_e.patch(`${Qt}/runs/${e}`,t),abortRun:e=>_e.post(`${Qt}/runs/${e}/abort`,{}),getCronJobs:()=>_e.get(`${Qt}/cron-jobs`),getCronJob:e=>_e.get(`${Qt}/cron-jobs/${e}`),createCronJob:e=>_e.post(`${Qt}/cron-jobs`,e),updateCronJob:(e,t)=>_e.patch(`${Qt}/cron-jobs/${e}`,t),deleteCronJob:e=>_e.delete(`${Qt}/cron-jobs/${e}`),runCronJobNow:e=>_e.post(`${Qt}/cron-jobs/${e}/run-now`,{}),getCronRunHistory:(e,t)=>{const r=t?new URLSearchParams(Object.fromEntries(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)]))).toString():"";return _e.get(`${Qt}/cron-jobs/${e}/run-history${r?`?${r}`:""}`)},getNodes:()=>_e.get(`${Qt}/nodes`),getNode:e=>_e.get(`${Qt}/nodes/${e}`),createNode:e=>_e.post(`${Qt}/nodes`,e),updateNode:(e,t)=>_e.patch(`${Qt}/nodes/${e}`,t),deleteNode:e=>_e.delete(`${Qt}/nodes/${e}`),getAlerts:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return _e.get(`${Qt}/alerts${t?`?${t}`:""}`)},getAlert:e=>_e.get(`${Qt}/alerts/${e}`),updateAlert:(e,t)=>_e.patch(`${Qt}/alerts/${e}`,t),quickRun:e=>_e.post(`${Qt}/quick-run`,e)};function Ud(e,t){return e().catch(()=>t)}const jt={all:["dashboard"],activities:e=>[...jt.all,"activities",e],activity:e=>[...jt.all,"activity",e],runs:e=>[...jt.all,"runs",e],run:e=>[...jt.all,"run",e],cronJobs:()=>[...jt.all,"cron-jobs"],cronJob:e=>[...jt.all,"cron-job",e],cronRunHistory:(e,t)=>[...jt.all,"cron-run-history",e,t],nodes:()=>[...jt.all,"nodes"],node:e=>[...jt.all,"node",e],alerts:e=>[...jt.all,"alerts",e],alert:e=>[...jt.all,"alert",e]};function hre(e){return Te({queryKey:jt.activities(e),queryFn:()=>Ud(()=>Nn.getActivities(e),[])})}function mre(){const e=be();return xe({mutationFn:t=>Nn.deleteActivity(t),onSuccess:()=>{e.invalidateQueries({queryKey:jt.activities()}),W.success("Activity removed")},onError:t=>{W.error(t.message||"Failed to remove activity")}})}function pre(e){return Te({queryKey:jt.runs(e),queryFn:()=>Ud(()=>Nn.getRuns(e),[])})}function gre(){const e=be();return xe({mutationFn:t=>Nn.abortRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:jt.runs()}),W.success("Run aborted")},onError:t=>{W.error(t.message||"Failed to abort run")}})}function TF(){return Te({queryKey:jt.cronJobs(),queryFn:()=>Ud(()=>Nn.getCronJobs(),[])})}function RF(){const e=be();return xe({mutationFn:t=>Nn.createCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:jt.cronJobs()}),W.success("Cron job created")},onError:t=>{W.error(t.message||"Failed to create cron job")}})}function vre(){const e=be();return xe({mutationFn:({id:t,data:r})=>Nn.updateCronJob(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:jt.cronJobs()}),e.invalidateQueries({queryKey:jt.cronJob(r)}),W.success("Cron job updated")},onError:t=>{W.error(t.message||"Failed to update cron job")}})}function yre(){const e=be();return xe({mutationFn:t=>Nn.deleteCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:jt.cronJobs()}),W.success("Cron job deleted")},onError:t=>{W.error(t.message||"Failed to delete cron job")}})}function xre(e,t){return Te({queryKey:jt.cronRunHistory(e??"",t),queryFn:()=>e?Ud(()=>Nn.getCronRunHistory(e,t),[]):Promise.resolve([]),enabled:!!e})}function bre(){const e=be();return xe({mutationFn:t=>Nn.runCronJobNow(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:jt.cronJobs()}),e.invalidateQueries({queryKey:jt.cronRunHistory(r)}),e.invalidateQueries({queryKey:jt.runs()}),W.success("Job started")},onError:t=>{W.error(t.message||"Failed to run job")}})}function MF(){return Te({queryKey:jt.nodes(),queryFn:()=>Ud(()=>Nn.getNodes(),[])})}function wre(){const e=be();return xe({mutationFn:({id:t,data:r})=>Nn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:jt.nodes()}),e.invalidateQueries({queryKey:jt.node(r)}),W.success("Node updated")},onError:t=>{W.error(t.message||"Failed to update node")}})}function jre(e){return Te({queryKey:jt.alerts(e),queryFn:()=>Ud(()=>Nn.getAlerts(e),[])})}function _re(){const e=be();return xe({mutationFn:({id:t,data:r})=>Nn.updateAlert(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:jt.alerts()}),e.invalidateQueries({queryKey:jt.alert(r)}),W.success("Alert updated")},onError:t=>{W.error(t.message||"Failed to update alert")}})}function Sre(){const e=be();return xe({mutationFn:t=>Nn.quickRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:jt.activities()}),e.invalidateQueries({queryKey:jt.runs()}),W.success("Message sent")},onError:t=>{W.error(t.message||"Failed to send message")}})}const lO={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"};function Nre({activity:e,open:t,onOpenChange:r,onDelete:n}){if(!e)return null;const s=()=>{n==null||n(e.id),r(!1)};return a.jsx(ze,{open:t,onOpenChange:r,children:a.jsxs(Le,{className:"max-w-lg","aria-describedby":"activity-detail-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Activity details"}),a.jsxs(Be,{id:"activity-detail-description",children:[lO[e.activity_type]??e.activity_type," "," ",Lr(new Date(e.created_at),{addSuffix:!0})]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),a.jsx("p",{className:"text-sm",children:lO[e.activity_type]??e.activity_type})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Details"}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md border border-border bg-secondary/30 p-3 text-xs",children:JSON.stringify(e.details,null,2)})]})]}),a.jsxs(Ve,{children:[n&&a.jsx(O,{variant:"destructive",onClick:s,children:"Remove"}),a.jsx(O,{variant:"outline",onClick:()=>r(!1),children:"Close"})]})]})})}function kre({run:e,open:t,onOpenChange:r,onConfirm:n,isAborting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(ze,{open:t,onOpenChange:r,children:a.jsxs(Le,{"aria-describedby":"run-abort-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Abort run?"}),a.jsxs(Be,{id:"run-abort-description",children:["This will stop the run that started"," ",Lr(new Date(e.start_time),{addSuffix:!0}),". This action cannot be undone."]})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(O,{variant:"destructive",onClick:i,disabled:s,children:s?"Aborting":"Abort run"})]})]})})}function Cre(e){const t=Ere(e),r=b.forwardRef((n,s)=>{const{children:i,...o}=n,l=b.Children.toArray(i),c=l.find(Pre);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Ere(e){const t=b.forwardRef((r,n)=>{const{children:s,...i}=r;if(b.isValidElement(s)){const o=Tre(s),l=Are(i,s.props);return s.type!==b.Fragment&&(l.ref=n?Fa(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ore=Symbol("radix.slottable");function Pre(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ore}function Are(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Tre(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $F=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Rre="VisuallyHidden",Mre=b.forwardRef((e,t)=>a.jsx(Je.span,{...e,ref:t,style:{...$F,...e.style}}));Mre.displayName=Rre;var $re=[" ","Enter","ArrowUp","ArrowDown"],Ire=[" ","Enter"],ac="Select",[Nx,kx,Dre]=tN(ac),[Bd]=Ki(ac,[Dre,gx]),Cx=gx(),[Lre,tl]=Bd(ac),[Fre,Ure]=Bd(ac),IF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=Cx(t),[v,x]=b.useState(null),[y,w]=b.useState(null),[S,j]=b.useState(!1),_=Wm(u),[N,k]=ec({prop:n,defaultProp:s??!1,onChange:i,caller:ac}),[C,T]=ec({prop:o,defaultProp:l,onChange:c,caller:ac}),I=b.useRef(null),E=v?g||!!v.closest("form"):!0,[U,P]=b.useState(new Set),B=Array.from(U).map(R=>R.props.value).join(";");return a.jsx(ID,{...p,children:a.jsxs(Lre,{required:m,scope:t,trigger:v,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Di(),value:C,onValueChange:T,open:N,onOpenChange:k,dir:_,triggerPointerDownPosRef:I,disabled:h,children:[a.jsx(Nx.Provider,{scope:t,children:a.jsx(Fre,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(R=>{P(z=>new Set(z).add(R))},[]),onNativeOptionRemove:b.useCallback(R=>{P(z=>{const D=new Set(z);return D.delete(R),D})},[]),children:r})}),E?a.jsxs(a3,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:R=>T(R.target.value),disabled:h,form:g,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(U)]},B):null]})})};IF.displayName=ac;var DF="SelectTrigger",LF=b.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Cx(r),o=tl(DF,r),l=o.disabled||n,c=gt(t,o.onTriggerChange),u=kx(r),d=b.useRef("touch"),[f,h,m]=l3(p=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===o.value),y=c3(v,p,x);y!==void 0&&o.onValueChange(y.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(DD,{asChild:!0,...i,children:a.jsx(Je.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o3(o.value)?"":void 0,...s,ref:c,onClick:Ee(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Ee(s.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Ee(s.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&$re.includes(p.key)&&(g(),p.preventDefault())})})})});LF.displayName=DF;var FF="SelectValue",UF=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=tl(FF,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=gt(t,c.onValueNodeChange);return Cr(()=>{u(d)},[u,d]),a.jsx(Je.span,{...l,ref:f,style:{pointerEvents:"none"},children:o3(c.value)?a.jsx(a.Fragment,{children:o}):i})});UF.displayName=FF;var Bre="SelectIcon",BF=b.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Je.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});BF.displayName=Bre;var qre="SelectPortal",qF=e=>a.jsx(sx,{asChild:!0,...e});qF.displayName=qre;var oc="SelectContent",zF=b.forwardRef((e,t)=>{const r=tl(oc,e.__scopeSelect),[n,s]=b.useState();if(Cr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Od.createPortal(a.jsx(WF,{scope:e.__scopeSelect,children:a.jsx(Nx.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(VF,{...e,ref:t})});zF.displayName=oc;var Hs=10,[WF,rl]=Bd(oc),zre="SelectContentImpl",Wre=Cre("SelectContent.RemoveScroll"),VF=b.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...x}=e,y=tl(oc,r),[w,S]=b.useState(null),[j,_]=b.useState(null),N=gt(t,se=>S(se)),[k,C]=b.useState(null),[T,I]=b.useState(null),E=kx(r),[U,P]=b.useState(!1),B=b.useRef(!1);b.useEffect(()=>{if(w)return qS(w)},[w]),BS();const R=b.useCallback(se=>{const[Ie,...ee]=E().map(H=>H.ref.current),[ue]=ee.slice(-1),K=document.activeElement;for(const H of se)if(H===K||(H==null||H.scrollIntoView({block:"nearest"}),H===Ie&&j&&(j.scrollTop=0),H===ue&&j&&(j.scrollTop=j.scrollHeight),H==null||H.focus(),document.activeElement!==K))return},[E,j]),z=b.useCallback(()=>R([k,w]),[R,k,w]);b.useEffect(()=>{U&&z()},[U,z]);const{onOpenChange:D,triggerPointerDownPosRef:M}=y;b.useEffect(()=>{if(w){let se={x:0,y:0};const Ie=ue=>{var K,H;se={x:Math.abs(Math.round(ue.pageX)-(((K=M.current)==null?void 0:K.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((H=M.current)==null?void 0:H.y)??0))}},ee=ue=>{se.x<=10&&se.y<=10?ue.preventDefault():w.contains(ue.target)||D(!1),document.removeEventListener("pointermove",Ie),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",ee,{capture:!0})}}},[w,D,M]),b.useEffect(()=>{const se=()=>D(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[D]);const[$,X]=l3(se=>{const Ie=E().filter(K=>!K.disabled),ee=Ie.find(K=>K.ref.current===document.activeElement),ue=c3(Ie,se,ee);ue&&setTimeout(()=>ue.ref.current.focus())}),G=b.useCallback((se,Ie,ee)=>{const ue=!B.current&&!ee;(y.value!==void 0&&y.value===Ie||ue)&&(C(se),ue&&(B.current=!0))},[y.value]),ce=b.useCallback(()=>w==null?void 0:w.focus(),[w]),pe=b.useCallback((se,Ie,ee)=>{const ue=!B.current&&!ee;(y.value!==void 0&&y.value===Ie||ue)&&I(se)},[y.value]),We=n==="popper"?Gj:KF,te=We===Gj?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return a.jsx(WF,{scope:r,content:w,viewport:j,onViewportChange:_,itemRefCallback:G,selectedItem:k,onItemLeave:ce,itemTextRefCallback:pe,focusSelectedItem:z,selectedItemText:T,position:n,isPositioned:U,searchRef:$,children:a.jsx(ax,{as:Wre,allowPinchZoom:!0,children:a.jsx(nx,{asChild:!0,trapped:y.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:Ee(s,se=>{var Ie;(Ie=y.trigger)==null||Ie.focus({preventScroll:!0}),se.preventDefault()}),children:a.jsx(rx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(We,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:se=>se.preventDefault(),...x,...te,onPlaced:()=>P(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ee(x.onKeyDown,se=>{const Ie=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!Ie&&se.key.length===1&&X(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ue=E().filter(K=>!K.disabled).map(K=>K.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const K=se.target,H=ue.indexOf(K);ue=ue.slice(H+1)}setTimeout(()=>R(ue)),se.preventDefault()}})})})})})})});VF.displayName=zre;var Vre="SelectItemAlignedPosition",KF=b.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=tl(oc,r),o=rl(oc,r),[l,c]=b.useState(null),[u,d]=b.useState(null),f=gt(t,N=>d(N)),h=kx(r),m=b.useRef(!1),g=b.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:x,focusSelectedItem:y}=o,w=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&v&&x){const N=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),T=x.getBoundingClientRect();if(i.dir!=="rtl"){const K=T.left-k.left,H=C.left-K,Xe=N.left-H,Ke=N.width+Xe,Ot=Math.max(Ke,k.width),kt=window.innerWidth-Hs,rr=Rj(H,[Hs,Math.max(Hs,kt-Ot)]);l.style.minWidth=Ke+"px",l.style.left=rr+"px"}else{const K=k.right-T.right,H=window.innerWidth-C.right-K,Xe=window.innerWidth-N.right-H,Ke=N.width+Xe,Ot=Math.max(Ke,k.width),kt=window.innerWidth-Hs,rr=Rj(H,[Hs,Math.max(Hs,kt-Ot)]);l.style.minWidth=Ke+"px",l.style.right=rr+"px"}const I=h(),E=window.innerHeight-Hs*2,U=p.scrollHeight,P=window.getComputedStyle(u),B=parseInt(P.borderTopWidth,10),R=parseInt(P.paddingTop,10),z=parseInt(P.borderBottomWidth,10),D=parseInt(P.paddingBottom,10),M=B+R+U+D+z,$=Math.min(v.offsetHeight*5,M),X=window.getComputedStyle(p),G=parseInt(X.paddingTop,10),ce=parseInt(X.paddingBottom,10),pe=N.top+N.height/2-Hs,We=E-pe,te=v.offsetHeight/2,se=v.offsetTop+te,Ie=B+R+se,ee=M-Ie;if(Ie<=pe){const K=I.length>0&&v===I[I.length-1].ref.current;l.style.bottom="0px";const H=u.clientHeight-p.offsetTop-p.offsetHeight,Xe=Math.max(We,te+(K?ce:0)+H+z),Ke=Ie+Xe;l.style.height=Ke+"px"}else{const K=I.length>0&&v===I[0].ref.current;l.style.top="0px";const Xe=Math.max(pe,B+p.offsetTop+(K?G:0)+te)+ee;l.style.height=Xe+"px",p.scrollTop=Ie-pe+p.offsetTop}l.style.margin=`${Hs}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,v,x,i.dir,n]);Cr(()=>w(),[w]);const[S,j]=b.useState();Cr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const _=b.useCallback(N=>{N&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return a.jsx(Hre,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:_,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(Je.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});KF.displayName=Vre;var Kre="SelectPopperPosition",Gj=b.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Hs,...i}=e,o=Cx(r);return a.jsx(LD,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gj.displayName=Kre;var[Hre,NN]=Bd(oc,{}),Yj="SelectViewport",HF=b.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=rl(Yj,r),o=NN(Yj,r),l=gt(t,i.onViewportChange),c=b.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Nx.Slot,{scope:r,children:a.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ee(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Hs*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(p,v);if(x<g){const y=x+m,w=Math.min(g,y),S=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});HF.displayName=Yj;var GF="SelectGroup",[Gre,Yre]=Bd(GF),Qre=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Di();return a.jsx(Gre,{scope:r,id:s,children:a.jsx(Je.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Qre.displayName=GF;var YF="SelectLabel",QF=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Yre(YF,r);return a.jsx(Je.div,{id:s.id,...n,ref:t})});QF.displayName=YF;var wv="SelectItem",[Xre,XF]=Bd(wv),JF=b.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=tl(wv,r),c=rl(wv,r),u=l.value===n,[d,f]=b.useState(i??""),[h,m]=b.useState(!1),g=gt(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,s)}),p=Di(),v=b.useRef("touch"),x=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Xre,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:b.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(Nx.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Je.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Ee(o.onFocus,()=>m(!0)),onBlur:Ee(o.onBlur,()=>m(!1)),onClick:Ee(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:Ee(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:Ee(o.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:Ee(o.onPointerMove,y=>{var w;v.current=y.pointerType,s?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ee(o.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(Ire.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});JF.displayName=wv;var Vf="SelectItemText",ZF=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=tl(Vf,r),l=rl(Vf,r),c=XF(Vf,r),u=Ure(Vf,r),[d,f]=b.useState(null),h=gt(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=b.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Cr(()=>(p(g),()=>v(g)),[p,v,g]),a.jsxs(a.Fragment,{children:[a.jsx(Je.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Od.createPortal(i.children,o.valueNode):null]})});ZF.displayName=Vf;var e3="SelectItemIndicator",t3=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return XF(e3,r).isSelected?a.jsx(Je.span,{"aria-hidden":!0,...n,ref:t}):null});t3.displayName=e3;var Qj="SelectScrollUpButton",r3=b.forwardRef((e,t)=>{const r=rl(Qj,e.__scopeSelect),n=NN(Qj,e.__scopeSelect),[s,i]=b.useState(!1),o=gt(t,n.onScrollButtonChange);return Cr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(s3,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});r3.displayName=Qj;var Xj="SelectScrollDownButton",n3=b.forwardRef((e,t)=>{const r=rl(Xj,e.__scopeSelect),n=NN(Xj,e.__scopeSelect),[s,i]=b.useState(!1),o=gt(t,n.onScrollButtonChange);return Cr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(s3,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});n3.displayName=Xj;var s3=b.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=rl("SelectScrollButton",r),o=b.useRef(null),l=kx(r),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Cr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Je.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ee(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ee(s.onPointerLeave,()=>{c()})})}),Jre="SelectSeparator",i3=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Je.div,{"aria-hidden":!0,...n,ref:t})});i3.displayName=Jre;var Jj="SelectArrow",Zre=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Cx(r),i=tl(Jj,r),o=rl(Jj,r);return i.open&&o.position==="popper"?a.jsx(FD,{...s,...n,ref:t}):null});Zre.displayName=Jj;var ene="SelectBubbleInput",a3=b.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=b.useRef(null),i=gt(n,s),o=mF(t);return b.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Je.select,{...r,style:{...$F,...r.style},ref:i,defaultValue:t})});a3.displayName=ene;function o3(e){return e===""||e===void 0}function l3(e){const t=zr(e),r=b.useRef(""),n=b.useRef(0),s=b.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function c3(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=tne(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function tne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var rne=IF,u3=LF,nne=UF,sne=BF,ine=qF,d3=zF,ane=HF,f3=QF,h3=JF,one=ZF,lne=t3,m3=r3,p3=n3,g3=i3;const mt=rne,pt=nne,ct=b.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(u3,{ref:n,className:Z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(sne,{asChild:!0,children:a.jsx($d,{className:"h-4 w-4 opacity-50"})})]}));ct.displayName=u3.displayName;const v3=b.forwardRef(({className:e,...t},r)=>a.jsx(m3,{ref:r,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(FI,{className:"h-4 w-4"})}));v3.displayName=m3.displayName;const y3=b.forwardRef(({className:e,...t},r)=>a.jsx(p3,{ref:r,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx($d,{className:"h-4 w-4"})}));y3.displayName=p3.displayName;const ut=b.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(ine,{children:a.jsxs(d3,{ref:s,className:Z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-card text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(v3,{}),a.jsx(ane,{className:Z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(y3,{})]})}));ut.displayName=d3.displayName;const cne=b.forwardRef(({className:e,...t},r)=>a.jsx(f3,{ref:r,className:Z("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));cne.displayName=f3.displayName;const Ce=b.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(h3,{ref:n,className:Z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(lne,{children:a.jsx(Bm,{className:"h-4 w-4"})})}),a.jsx(one,{children:t})]}));Ce.displayName=h3.displayName;const une=b.forwardRef(({className:e,...t},r)=>a.jsx(g3,{ref:r,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));une.displayName=g3.displayName;const dne=xt({name:Ne().min(1,"Name is required").max(200,"Name too long"),schedule:Ne().min(1,"Schedule is required"),description:Ne().optional(),payload_json:Ne().optional(),session_target:Ne().optional(),isolation_setting:Ua().optional(),status:ar(["active","paused"]).optional()}),qp={name:"",schedule:"",description:"",payload_json:"{}",session_target:"",isolation_setting:!1,status:"active"};function fne(e){if(!e||!e.trim())return{};try{const t=JSON.parse(e);return typeof t=="object"&&t!==null?t:{}}catch{return{}}}function x3({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,userId:s="",job:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=vt({resolver:yt(dne),defaultValues:qp}),m=d("status"),g=d("isolation_setting");b.useEffect(()=>{e&&i?f({name:i.name??i.description??"",schedule:i.schedule,description:i.description??"",payload_json:typeof i.payload=="object"&&Object.keys(i.payload||{}).length>0?JSON.stringify(i.payload,null,2):"{}",session_target:i.session_target??"",isolation_setting:i.isolation_setting??!1,status:i.status==="failed"?"paused":i.status}):e&&!i&&f(qp)},[e,i,f]);const p=x=>{const y=fne(x.payload_json??"{}");r(o&&i?{name:x.name||null,schedule:x.schedule,description:x.description||null,payload:y,session_target:x.session_target||null,isolation_setting:x.isolation_setting??!1,status:x.status??"active"}:{user_id:s,name:x.name||null,schedule:x.schedule,description:x.description||null,payload:y,session_target:x.session_target||null,isolation_setting:x.isolation_setting??!1,status:x.status??"active"}),f(qp),t(!1)},v=x=>{x||f(qp),t(x)};return a.jsx(ze,{open:e,onOpenChange:v,children:a.jsxs(Le,{className:"max-w-[640px]","aria-describedby":"cron-job-form-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:o?"Edit cron job":"Create cron job"}),a.jsx(Be,{id:"cron-job-form-description",children:o?"Update schedule, payload, session target, and isolation.":"Add a scheduled job with cron expression, payload, and session target."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"name",children:"Job name"}),a.jsx(ye,{id:"name",placeholder:"e.g. Daily backup",...l("name"),className:h.name?"border-destructive":""}),h.name&&a.jsx("p",{className:"text-xs text-destructive",children:h.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"schedule",children:"Schedule (cron expression)"}),a.jsx(ye,{id:"schedule",placeholder:"e.g. 0 * * * * (hourly)",...l("schedule"),className:h.schedule?"border-destructive":""}),h.schedule&&a.jsx("p",{className:"text-xs text-destructive",children:h.schedule.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"description",children:"Description (optional)"}),a.jsx(ye,{id:"description",placeholder:"Optional description",...l("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"payload_json",children:"Payload (JSON)"}),a.jsx("textarea",{id:"payload_json",rows:4,placeholder:'{"key": "value"}',...l("payload_json"),className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-mono"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"session_target",children:"Session target"}),a.jsx(ye,{id:"session_target",placeholder:"Target session or channel",...l("session_target")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(Y,{htmlFor:"isolation_setting",children:"Isolation"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Run job in isolated environment (sandbox)"})]}),a.jsx(en,{id:"isolation_setting",checked:g??!1,onCheckedChange:x=>u("isolation_setting",x)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Status"}),a.jsxs(mt,{value:m??"active",onValueChange:x=>u("status",x),children:[a.jsx(ct,{children:a.jsx(pt,{})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"active",children:"Active"}),a.jsx(Ce,{value:"paused",children:"Paused"})]})]})]}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>v(!1),disabled:n,children:"Cancel"}),a.jsx(O,{type:"submit",disabled:n,children:n?"Saving":o?"Save changes":"Create job"})]})]})]})})}const yw={healthy:"Healthy",degraded:"Degraded",unknown:"Unknown",offline:"Offline"},hne={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},mne={paired:"success",offline:"destructive",error:"warning"};function b3({node:e,open:t,onOpenChange:r,onUpdateHealth:n,isUpdating:s=!1}){var u;const[i,o]=b.useState((e==null?void 0:e.connection_health)??"unknown");if(b.useEffect(()=>{e&&o(e.connection_health)},[e,t]),!e)return null;const l=e.connection_health,c=()=>{n==null||n(e.id,i),r(!1)};return a.jsx(ze,{open:t,onOpenChange:r,children:a.jsxs(Le,{className:"max-w-md","aria-describedby":"node-health-description",children:[a.jsxs(Fe,{children:[a.jsxs(Ue,{className:"flex items-center gap-2",children:[a.jsx($i,{className:"h-5 w-5"}),e.name??"Node","  Connection health"]}),a.jsx(Be,{id:"node-health-description",children:"View and update node connection health and capabilities."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),a.jsx(Qe,{variant:mne[e.status],children:e.status})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Current health:"}),a.jsxs(Qe,{variant:hne[l],children:[l==="healthy"&&a.jsx(FS,{className:"mr-1 h-3 w-3"}),l==="offline"&&a.jsx(e4,{className:"mr-1 h-3 w-3"}),yw[l]]})]}),(u=e.capabilities)!=null&&u.length?a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Capabilities"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.capabilities.map(d=>a.jsx(Qe,{variant:"outline",className:"text-xs",children:d},d))})]}):null,n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Update connection health"}),a.jsxs(mt,{value:i,onValueChange:d=>o(d),children:[a.jsx(ct,{children:a.jsx(pt,{})}),a.jsx(ut,{children:Object.keys(yw).map(d=>a.jsx(Ce,{value:d,children:yw[d]},d))})]})]})]}),n&&a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(O,{onClick:c,disabled:s||i===l,children:s?"Saving":"Save"})]})]})})}const pne={low:"Low",medium:"Medium",high:"High",critical:"Critical"},gne=[{value:"open",label:"Open"},{value:"acknowledged",label:"Acknowledged"},{value:"resolved",label:"Resolved"}];function vne({alert:e,open:t,onOpenChange:r,onResolve:n,isUpdating:s=!1}){if(!e)return null;const i=o=>{n==null||n(e.id,o),r(!1)};return a.jsx(ze,{open:t,onOpenChange:r,children:a.jsxs(Le,{className:"max-w-lg","aria-describedby":"alert-resolution-description",children:[a.jsxs(Fe,{children:[a.jsxs(Ue,{className:"flex items-center gap-2",children:[a.jsx(vc,{className:Z("h-5 w-5",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning")}),"Alert  ",e.type]}),a.jsx(Be,{id:"alert-resolution-description",children:"Update resolution status for this security or audit finding."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{className:"rounded-md border border-border bg-secondary/30 p-3",children:a.jsx("p",{className:"text-sm",children:e.description})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Severity:"}),a.jsx("span",{className:Z("text-sm font-medium",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning"),children:pne[e.severity]})]}),n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Resolution status"}),a.jsxs(mt,{value:e.resolution_status,onValueChange:o=>i(o),disabled:s,children:[a.jsx(ct,{children:a.jsx(pt,{})}),a.jsx(ut,{children:gne.map(o=>a.jsx(Ce,{value:o.value,children:o.label},o.value))})]})]})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>r(!1),children:"Close"}),n&&a.jsx(O,{onClick:()=>i("resolved"),disabled:s||e.resolution_status==="resolved",children:s?"Updating":"Mark resolved"})]})]})})}const cO={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"},yne={running:"default",completed:"secondary",failed:"destructive",aborted:"warning"},xne={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"};function bne(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(null),[o,l]=b.useState(null),[c,u]=b.useState(null),[d,f]=b.useState(!1),[h,m]=b.useState(null),[g,p]=b.useState(null),{data:v}=Sx(),x=(v==null?void 0:v.user_id)??"",{data:y=[],isLoading:w}=hre({limit:20,type:r||void 0}),{data:S=[],isLoading:j}=pre({status:"running",limit:10}),{data:_=[],isLoading:N}=TF(),{data:k=[],isLoading:C}=MF(),{data:T=[],isLoading:I}=jre({resolution_status:"open"}),E=Sre(),U=gre(),P=RF(),B=mre(),R=_re(),z=wre(),D=()=>{const $=e.trim();$&&E.mutate({message:$},{onSuccess:()=>t("")})},M=r?y.filter($=>$.activity_type===r):y;return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active runs",value:S.length,icon:va,href:"/chat"},{title:"Cron jobs",value:_.length,icon:Gy,href:"/cron"},{title:"Nodes",value:k.length,icon:$i,href:"/nodes"},{title:"Alerts",value:T.length,icon:Un,href:"/security"}].map(({title:$,value:X,icon:G,href:ce})=>a.jsx(he,{to:ce,children:a.jsxs(re,{className:"transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:$}),a.jsx(G,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ne,{children:a.jsx("div",{className:"text-2xl font-bold",children:X})})]})},$))}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(re,{className:"flex flex-col",children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(OS,{className:"h-5 w-5"}),"Recent activity"]}),a.jsxs("select",{value:r,onChange:$=>n($.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter activity type",children:[a.jsx("option",{value:"",children:"All"}),Object.entries(cO).map(([$,X])=>a.jsx("option",{value:$,children:X},$))]})]}),a.jsx(ne,{className:"flex-1 overflow-hidden",children:a.jsx(St,{className:"h-[280px] pr-4",children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map($=>a.jsx(ve,{className:"h-14 w-full rounded-lg"},$))}):M.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity."}):a.jsx("ul",{className:"space-y-2",children:M.map($=>a.jsx("li",{children:a.jsxs("div",{className:Z("rounded-lg border border-border bg-secondary/30 p-3 transition-colors hover:bg-secondary/50",s===$.id&&"ring-2 ring-ring"),children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 text-left",onClick:()=>i(s===$.id?null:$.id),"aria-expanded":s===$.id,children:[s===$.id?a.jsx($d,{className:"h-4 w-4 shrink-0"}):a.jsx(is,{className:"h-4 w-4 shrink-0"}),a.jsx(Qe,{variant:"secondary",className:"text-xs",children:cO[$.activity_type]??$.activity_type}),a.jsx("span",{className:"flex-1 truncate text-sm text-muted-foreground",children:Lr(new Date($.created_at),{addSuffix:!0})})]}),s===$.id&&a.jsx("div",{className:"mt-2 flex items-center gap-2 border-t border-border pt-2",children:a.jsx(O,{variant:"outline",size:"sm",onClick:()=>l($),children:"View details"})})]})},$.id))})})})]}),a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(qm,{className:"h-5 w-5"}),"Quick Run"]}),a.jsx(we,{children:"Send a message to the default session or channel."})]}),a.jsx(ne,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ye,{type:"text",placeholder:"Type a command or message...",className:"flex-1",value:e,onChange:$=>t($.target.value),onKeyDown:$=>$.key==="Enter"&&D(),"aria-label":"Quick run message"}),a.jsx(O,{onClick:D,disabled:!e.trim()||E.isPending,children:E.isPending?a.jsx("span",{className:"animate-pulse",children:"Sending"}):a.jsx(Gu,{className:"h-4 w-4"})})]})})]})]}),a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Active runs"}),a.jsx(we,{children:"Stream and abort running jobs."})]}),a.jsx(ne,{children:j?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ve,{className:"h-12 w-full rounded-lg"}),a.jsx(ve,{className:"h-12 w-full rounded-lg"})]}):S.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No active runs."}):a.jsx("ul",{className:"space-y-2",children:S.map($=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qe,{variant:yne[$.status],children:$.status}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started ",Lr(new Date($.start_time),{addSuffix:!0})]})]}),a.jsxs(O,{variant:"destructive",size:"sm",onClick:()=>u($),disabled:$.status!=="running",children:[a.jsx(AS,{className:"mr-1 h-4 w-4"}),"Abort"]})]},$.id))})})]}),a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs(re,{children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(oe,{children:"Cron overview"}),a.jsxs(O,{size:"sm",onClick:()=>f(!0),children:[a.jsx(Wt,{className:"mr-1 h-4 w-4"}),"Create job"]})]}),a.jsx(ne,{children:N?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ve,{className:"h-10 w-full rounded-lg"}),a.jsx(ve,{className:"h-10 w-full rounded-lg"})]}):_.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No cron jobs."}),a.jsx(O,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(he,{to:"/cron",children:"Manage cron"})})]}):a.jsxs("ul",{className:"space-y-2",children:[_.slice(0,5).map($=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:$.description||$.schedule}),a.jsx("p",{className:"text-xs text-muted-foreground",children:$.schedule})]}),a.jsx(Qe,{variant:$.status==="active"?"default":"secondary",children:$.status})]},$.id)),_.length>5&&a.jsx("li",{children:a.jsx(O,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs(he,{to:"/cron",children:["View all (",_.length,")"]})})})]})})]}),a.jsxs(re,{children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(oe,{children:"Nodes status"}),a.jsx(O,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(he,{to:"/nodes",children:"Pair node"})})]}),a.jsx(ne,{children:C?a.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[a.jsx(ve,{className:"h-20 rounded-lg"}),a.jsx(ve,{className:"h-20 rounded-lg"})]}):k.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes."}),a.jsx(O,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(he,{to:"/nodes",children:"Pair node"})})]}):a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:k.map($=>a.jsxs("button",{type:"button",className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3 text-left transition-colors hover:bg-secondary/50",onClick:()=>m($),children:[a.jsx($i,{className:"h-8 w-8 shrink-0 text-muted-foreground"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:$.name??"Node"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(Qe,{variant:xne[$.connection_health],className:"text-xs",children:[$.connection_health==="healthy"&&a.jsx(FS,{className:"mr-0.5 h-3 w-3"}),$.connection_health==="offline"&&a.jsx(e4,{className:"mr-0.5 h-3 w-3"}),$.connection_health]})})]})]},$.id))})})]})]}),a.jsxs(re,{children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(vc,{className:"h-5 w-5 text-warning"}),"Skill alerts / audit findings"]}),a.jsx(O,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(he,{to:"/security",children:"Run audit"})})]}),a.jsx(ne,{children:I?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ve,{className:"h-12 w-full rounded-lg"}),a.jsx(ve,{className:"h-12 w-full rounded-lg"})]}):T.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No alerts."}),a.jsx(O,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(he,{to:"/security",children:"Run audit"})})]}):a.jsx("ul",{className:"space-y-2",children:T.map($=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:$.type}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",children:$.description})]}),a.jsx(Qe,{variant:$.severity==="critical"?"destructive":$.severity==="high"?"warning":"secondary",className:"shrink-0",children:$.severity}),a.jsx(O,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>p($),children:"Fix"})]},$.id))})})]}),a.jsx(Nre,{activity:o,open:!!o,onOpenChange:$=>!$&&l(null),onDelete:$=>{B.mutate($),l(null)}}),a.jsx(kre,{run:c,open:!!c,onOpenChange:$=>!$&&u(null),onConfirm:$=>{U.mutate($),u(null)},isAborting:U.isPending}),a.jsx(x3,{open:d,onOpenChange:f,onSubmit:$=>{"user_id"in $&&$.user_id!==void 0&&P.mutate($)},isSubmitting:P.isPending,userId:x}),a.jsx(b3,{node:h,open:!!h,onOpenChange:$=>!$&&m(null),onUpdateHealth:($,X)=>z.mutate({id:$,data:{connection_health:X}}),isUpdating:z.isPending}),a.jsx(vne,{alert:g,open:!!g,onOpenChange:$=>!$&&p(null),onResolve:($,X)=>R.mutate({id:$,data:{resolution_status:X}}),isUpdating:R.isPending})]})}const pi={getSessions:async()=>{const{data:e,error:t}=await q.from("chat_sessions").select("*").order("started_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSession:async e=>{const{data:t,error:r}=await q.from("chat_sessions").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSession:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("chat_sessions").insert(r).select().single();if(s)throw new Error(s.message);return n},updateSession:async(e,t)=>{const{data:r,error:n}=await q.from("chat_sessions").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteSession:async e=>{const{error:t}=await q.from("chat_sessions").delete().eq("id",e);if(t)throw new Error(t.message)},getMessages:async(e,t)=>{let r=q.from("chat_messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},sendMessage:async e=>{const{data:t,error:r}=await q.from("chat_messages").insert(e).select().single();if(r)throw new Error(r.message);return t},getToolInvocations:async(e,t)=>{let r=q.from("tool_invocations").select("*").eq("session_id",e).order("created_at",{ascending:!1});t!=null&&t.messageId&&(r=r.eq("message_id",t.messageId)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createToolInvocation:async e=>{const{data:t,error:r}=await q.from("tool_invocations").insert(e).select().single();if(r)throw new Error(r.message);return t},updateToolInvocation:async(e,t)=>{const{data:r,error:n}=await q.from("tool_invocations").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},approveToolInvocation:async e=>pi.updateToolInvocation(e,{status:"approved"}),denyToolInvocation:async e=>pi.updateToolInvocation(e,{status:"denied"})};function wne(e,t){return e().catch(()=>t)}const Mn={all:["chat"],sessions:()=>[...Mn.all,"sessions"],session:e=>[...Mn.all,"session",e],messages:(e,t)=>[...Mn.all,"messages",e,t],toolInvocations:(e,t)=>[...Mn.all,"toolInvocations",e,t]};function jne(){return Te({queryKey:Mn.sessions(),queryFn:()=>wne(()=>pi.getSessions(),[])})}function _ne(e){return Te({queryKey:Mn.session(e??""),queryFn:()=>e?pi.getSession(e):Promise.resolve(null),enabled:!!e})}function Sne(){const e=be();return xe({mutationFn:t=>pi.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:Mn.sessions()}),W.success("Session created")},onError:t=>{W.error(t.message||"Failed to create session")}})}function Nne(){const e=be();return xe({mutationFn:({id:t,data:r})=>pi.updateSession(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Mn.sessions()}),e.invalidateQueries({queryKey:Mn.session(r)}),W.success("Session updated")},onError:t=>{W.error(t.message||"Failed to update session")}})}function kne(e,t){return Te({queryKey:Mn.messages(e??"",{limit:t}),queryFn:()=>e?pi.getMessages(e,{limit:t}):Promise.resolve([]),enabled:!!e})}function Cne(){const e=be();return xe({mutationFn:t=>pi.sendMessage(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Mn.messages(r.session_id)}),W.success("Message sent")},onError:t=>{W.error(t.message||"Failed to send message")}})}function Ene(e,t){return Te({queryKey:Mn.toolInvocations(e??"",t),queryFn:()=>e?pi.getToolInvocations(e,t):Promise.resolve([]),enabled:!!e})}function One(){const e=be();return xe({mutationFn:({id:t,sessionId:r})=>pi.approveToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:Mn.toolInvocations(r)}),W.success("Tool output approved")},onError:t=>{W.error(t.message||"Failed to approve")}})}function Pne(){const e=be();return xe({mutationFn:({id:t,sessionId:r})=>pi.denyToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:Mn.toolInvocations(r)}),W.success("Tool output denied")},onError:t=>{W.error(t.message||"Failed to deny")}})}function Ane({message:e,currentUserId:t}){const r=e.role==="user"||e.sender_id===t,n=e.role==="assistant"?"Assistant":e.role==="system"?"System":"You",s=Array.isArray(e.attachment_links)&&e.attachment_links.length>0;return a.jsxs("div",{className:Z("flex gap-3 rounded-lg p-3 transition-colors duration-200 hover:bg-card/80",r&&"flex-row-reverse"),"data-message-id":e.id,children:[a.jsx(ux,{className:"h-8 w-8 shrink-0 rounded-full border border-border bg-secondary",children:a.jsx(dx,{className:"text-xs text-muted-foreground",children:e.role==="assistant"?a.jsx(DI,{className:"h-4 w-4"}):a.jsx(ex,{className:"h-4 w-4"})})}),a.jsxs("div",{className:Z("flex min-w-0 flex-1 flex-col gap-1",r&&"items-end"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-foreground",children:n}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Lr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsx("p",{className:"whitespace-pre-wrap break-words text-sm text-foreground",children:e.text}),s&&a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.attachment_links.map((i,o)=>a.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"rounded border border-border bg-secondary px-2 py-1 text-xs text-primary hover:underline",children:i.name??"Attachment"},o))})]})]})}function Tne({messages:e,isLoading:t,currentUserId:r,className:n}){const s=b.useRef(null);return b.useEffect(()=>{var i;(i=s.current)==null||i.scrollIntoView({behavior:"smooth"})},[e.length]),a.jsx(St,{className:Z("flex-1",n),"data-testid":"message-thread",children:a.jsx("div",{className:"space-y-1 p-4",children:t?a.jsx("div",{className:"flex flex-col gap-4 py-8",children:[1,2,3].map(i=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-muted animate-pulse"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-24 rounded bg-muted animate-pulse"}),a.jsx("div",{className:"h-4 w-full max-w-md rounded bg-muted animate-pulse"})]})]},i))}):e.length===0?a.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No messages yet. Send a message or use a slash command."}):e.map((i,o)=>a.jsx("div",{ref:o===e.length-1?s:void 0,children:a.jsx(Ane,{message:i,currentUserId:r})},i.id))})})}function Rne({sessionId:e,onSend:t,onAttachClick:r,onToolSelect:n,disabled:s,isSending:i,availableTools:o=[],className:l}){const[c,u]=b.useState(""),[d,f]=b.useState(null),h=b.useCallback(g=>{g.preventDefault();const p=c.trim();!p||!e||(t(p,{toolName:d??void 0}),u(""),f(null))},[c,e,t,d]),m=!!(e&&c.trim()&&!s&&!i);return a.jsx("form",{onSubmit:h,className:Z("flex flex-col gap-2 border-t border-border bg-card p-4 transition-shadow duration-200",l),children:a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx(O,{type:"button",variant:"ghost",size:"icon",onClick:r,disabled:s||!e,"aria-label":"Attach file",className:"shrink-0",children:a.jsx(mH,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsx(ye,{value:c,onChange:g=>u(g.target.value),placeholder:"Type a message...",disabled:s||!e,className:"min-h-10 flex-1 rounded-md border-input bg-background px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Message input"}),o.length>0&&a.jsxs(mt,{value:d??"",onValueChange:g=>{f(g||null),g&&n&&n(g)},disabled:s||!e,children:[a.jsxs(ct,{className:"w-full sm:w-[140px]","aria-label":"Select tool",children:[a.jsx(tx,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),a.jsx(pt,{placeholder:"Tool"})]}),a.jsx(ut,{children:o.map(g=>a.jsx(Ce,{value:g.id,children:g.name},g.id))})]})]}),a.jsx(O,{type:"submit",size:"icon",disabled:!m,"aria-label":"Send message",className:"shrink-0 transition-transform hover:scale-105 active:scale-95",children:i?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsx(Gu,{className:"h-4 w-4"})})]})})}function Mne(e,t=[]){let r=[];function n(i,o){const l=b.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:m,...g}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=b.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,$ne(s,...t)]}function $ne(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Ine=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],w3=Ine.reduce((e,t)=>{const r=zm(`Primitive.${t}`),n=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),kN="Progress",CN=100,[Dne]=Mne(kN),[Lne,Fne]=Dne(kN),j3=b.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Une,...o}=e;(s||s===0)&&!uO(s)&&console.error(Bne(`${s}`,"Progress"));const l=uO(s)?s:CN;n!==null&&!dO(n,l)&&console.error(qne(`${n}`,"Progress"));const c=dO(n,l)?n:null,u=jv(c)?i(c,l):void 0;return a.jsx(Lne,{scope:r,value:c,max:l,children:a.jsx(w3.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":jv(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":N3(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});j3.displayName=kN;var _3="ProgressIndicator",S3=b.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Fne(_3,r);return a.jsx(w3.div,{"data-state":N3(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});S3.displayName=_3;function Une(e,t){return`${Math.round(e/t*100)}%`}function N3(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function jv(e){return typeof e=="number"}function uO(e){return jv(e)&&!isNaN(e)&&e>0}function dO(e,t){return jv(e)&&!isNaN(e)&&e<=t&&e>=0}function Bne(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${CN}\`.`}function qne(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${CN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var k3=j3,zne=S3;const EN=b.forwardRef(({className:e,value:t,...r},n)=>a.jsx(k3,{ref:n,className:Z("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(zne,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));EN.displayName=k3.displayName;const Wne={pending:"secondary",running:"default",completed:"outline",failed:"destructive",approved:"outline",denied:"destructive"};function Vne({invocation:e,onApprove:t,onDeny:r,className:n}){const s=e.status==="running",i=e.status==="completed"||e.status==="running",o=e.output&&typeof e.output=="object"?JSON.stringify(e.output,null,2):e.output!=null?String(e.output):"";return a.jsxs(re,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover",n),"data-invocation-id":e.id,children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tx,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-semibold",children:e.tool_name}),a.jsx(Qe,{variant:Wne[e.status],className:"text-xs",children:e.status})]}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Lr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsxs(ne,{className:"p-4",children:[s&&a.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(fn,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Running"}),a.jsx(EN,{value:void 0,className:"h-1.5 flex-1"})]}),o&&a.jsx("pre",{className:"max-h-48 overflow-auto rounded border border-border bg-secondary/50 p-3 text-xs text-foreground",children:o}),i&&t&&r&&a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(O,{size:"sm",variant:"outline",className:"gap-1.5",onClick:()=>r(e.id),children:[a.jsx(Yu,{className:"h-4 w-4"}),"Deny"]}),a.jsxs(O,{size:"sm",className:"gap-1.5",onClick:()=>t(e.id),children:[a.jsx(Bm,{className:"h-4 w-4"}),"Approve"]})]})]})]})}function Kne({session:e,sessions:t,onSelectSession:r,currentSessionId:n,routingTargets:s=[],className:i}){return a.jsxs("aside",{className:Z("flex w-full flex-col gap-4 lg:w-72 lg:shrink-0",i),"aria-label":"Chat sidebar",children:[a.jsxs(re,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(ie,{className:"pb-2",children:a.jsx(oe,{className:"text-sm font-semibold",children:"Session"})}),a.jsxs(ne,{className:"text-sm text-muted-foreground",children:[e?a.jsx("p",{className:"font-medium text-foreground",children:e.title}):a.jsx("p",{children:"Main session (default)"}),e&&a.jsxs("p",{className:"mt-1 text-xs",children:["Status: ",a.jsx(Qe,{variant:"outline",children:e.status})]})]})]}),t.length>1&&a.jsxs(re,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(ie,{className:"pb-2",children:a.jsx(oe,{className:"text-sm font-semibold",children:"Sessions"})}),a.jsx(ne,{children:a.jsx(St,{className:"h-32",children:a.jsx("ul",{className:"space-y-1",children:t.slice(0,10).map(o=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>r(o.id),className:Z("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors",n===o.id?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx(qm,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:o.title})]})},o.id))})})})]}),a.jsxs(re,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(ie,{className:"pb-2",children:a.jsx(oe,{className:"text-sm font-semibold",children:"Routing targets"})}),a.jsx(ne,{className:"text-sm text-muted-foreground",children:s.length===0?a.jsx("p",{children:"No channels configured."}):a.jsx("ul",{className:"space-y-1",children:s.map(o=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(HI,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:o.name}),a.jsx(Qe,{variant:"secondary",className:"text-xs",children:o.type})]},o.id))})})]})]})}function Hne({traces:e,isLoading:t,onExport:r,className:n}){const[s,i]=b.useState(!1);return a.jsxs(re,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",n),children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(oe,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(Vr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[r&&a.jsx(O,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Export trace",children:a.jsx(As,{className:"h-4 w-4"})}),a.jsx(O,{variant:"ghost",size:"icon",onClick:()=>i(o=>!o),"aria-label":s?"Collapse":"Expand",children:s?a.jsx($d,{className:"h-4 w-4"}):a.jsx(FI,{className:"h-4 w-4"})})]})]}),s&&a.jsx(ne,{className:"p-0",children:a.jsx(St,{className:"h-48",children:a.jsx("div",{className:"space-y-1 p-2",children:t?a.jsx("div",{className:"flex flex-col gap-2 py-4",children:[1,2,3].map(o=>a.jsx("div",{className:"h-8 w-full rounded bg-muted animate-pulse"},o))}):e.length===0?a.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No active run."}):e.map(o=>a.jsxs("div",{className:"rounded border border-border bg-secondary/30 px-3 py-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium",children:o.type}),a.jsx("span",{className:"text-muted-foreground",children:o.timestamp})]}),a.jsx("p",{className:"mt-1 text-muted-foreground",children:o.summary})]},o.id))})})})]})}function Gne({open:e,onOpenChange:t,attachments:r,onAdd:n,onRemove:s,onConfirm:i,maxAttachments:o=5,className:l}){const[c,u]=b.useState(""),[d,f]=b.useState(""),h=()=>{const g=c.trim();!g||r.length>=o||(n(g,d.trim()||void 0),u(""),f(""))},m=()=>{i(),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:Z("max-w-[640px]",l),"aria-describedby":"attachment-modal-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Manage attachments"}),a.jsxs(Be,{id:"attachment-modal-description",children:["Add links or URLs to attach to your message. You can add up to"," ",o," attachments."]})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(Y,{htmlFor:"attach-url",children:"URL"}),a.jsx(ye,{id:"attach-url",type:"url",placeholder:"https://...",value:c,onChange:g=>u(g.target.value),className:"rounded-md border-input"})]}),a.jsxs("div",{className:"w-32 space-y-2",children:[a.jsx(Y,{htmlFor:"attach-name",children:"Name (optional)"}),a.jsx(ye,{id:"attach-name",placeholder:"Label",value:d,onChange:g=>f(g.target.value),className:"rounded-md border-input"})]}),a.jsx(O,{type:"button",variant:"secondary",size:"icon",onClick:h,disabled:!c.trim()||r.length>=o,className:"mt-6 shrink-0","aria-label":"Add attachment",children:a.jsx(ZI,{className:"h-4 w-4"})})]}),r.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Y,{children:["Attachments (",r.length,"/",o,")"]}),a.jsx(St,{className:"h-32 rounded-md border border-border p-2",children:a.jsx("ul",{className:"space-y-1",children:r.map((g,p)=>a.jsxs("li",{className:"flex items-center justify-between rounded bg-secondary/50 px-2 py-1.5 text-sm",children:[a.jsx("span",{className:"truncate",children:g.name??g.url}),a.jsx(O,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(p),"aria-label":"Remove attachment",children:a.jsx(Yu,{className:"h-4 w-4"})})]},p))})})]})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(O,{onClick:m,children:"Done"})]})]})})}const Yne={new:"Start new session",reset:"Reset session",stop:"Stop session"},Qne={new:"Start a new chat session. Your current session will remain in the list.",reset:"Clear all messages in this session. This cannot be undone.",stop:"Pause the current session. You can resume later."};function Xne({open:e,onOpenChange:t,action:r,onConfirm:n,isLoading:s,className:i}){if(!r)return null;const o=()=>{n(r),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:Z("max-w-[640px]",i),"aria-describedby":"session-dialog-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:Yne[r]}),a.jsx(Be,{id:"session-dialog-description",children:Qne[r]})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(O,{onClick:o,disabled:s,children:s?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsxs(a.Fragment,{children:[r==="new"&&a.jsx(Wt,{className:"mr-1.5 h-4 w-4"}),r==="reset"&&a.jsx(GI,{className:"mr-1.5 h-4 w-4"}),r==="stop"&&a.jsx(Bh,{className:"mr-1.5 h-4 w-4"}),"Confirm"]})})]})]})})}const Jne=[{id:"browser",name:"Browser",description:"Fetch and summarize URLs"},{id:"search",name:"Search",description:"Web search"},{id:"code",name:"Code",description:"Run code snippets"}];function Zne(){const{data:e}=Sx(),t=(e==null?void 0:e.user_id)??null,[r,n]=b.useState(null),[s,i]=b.useState(null),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState([]),[h,m]=b.useState([]),{data:g=[],isLoading:p}=jne(),{data:v}=_ne(r),{data:x=[],isLoading:y}=kne(r,200),{data:w=[]}=Ene(r,{limit:20}),S=Sne(),j=Nne(),_=Cne(),N=One(),k=Pne();b.useEffect(()=>{if(!p){if(g.length>0&&!r){n(g[0].id);return}g.length===0&&S.mutate({title:"New session"},{onSuccess:P=>n(P.id)})}},[p,g.length,g,r,S]);const C=b.useCallback((P,B)=>{r&&_.mutate({session_id:r,sender_id:t??void 0,role:"user",text:P,attachment_links:(B==null?void 0:B.attachmentUrls)??d},{onSuccess:()=>f([])})},[r,t,d,_]),T=b.useCallback(P=>{P==="new"?S.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:B=>{n(B.id),l(!1),i(null)}}):P==="reset"&&r?S.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:B=>{n(B.id),l(!1),i(null)}}):P==="stop"&&r&&j.mutate({id:r,data:{status:"paused"}},{onSuccess:()=>{l(!1),i(null)}})},[r,S,j]),I=b.useCallback(P=>{r&&N.mutate({id:P,sessionId:r})},[r,N]),E=b.useCallback(P=>{r&&k.mutate({id:P,sessionId:r})},[r,k]),U=P=>{i(P),l(!0)};return a.jsxs("div",{className:"flex h-[calc(100vh-8rem)] flex-col gap-4 animate-fade-in-up",children:[a.jsxs("header",{className:"flex items-center justify-between gap-4",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Chat Session"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>U("new"),className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(Wt,{className:"h-4 w-4"}),"/new"]}),a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>U("reset"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(GI,{className:"h-4 w-4"}),"/reset"]}),a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>U("stop"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(Bh,{className:"h-4 w-4"}),"/stop"]})]})]}),a.jsxs("div",{className:"grid flex-1 gap-4 overflow-hidden lg:grid-cols-3",children:[a.jsxs("div",{className:"flex min-h-0 flex-col lg:col-span-2",children:[a.jsxs(re,{className:"flex flex-1 flex-col overflow-hidden rounded-lg border border-border bg-card shadow-card",children:[a.jsx(Tne,{messages:x,isLoading:y,currentUserId:t,className:"min-h-0"}),a.jsx(Rne,{sessionId:r,onSend:C,onAttachClick:()=>u(!0),disabled:!r,isSending:_.isPending,availableTools:Jne})]}),w.length>0&&a.jsx(St,{className:"mt-4 max-h-64 rounded-lg border border-border bg-card p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Tool invocations"}),w.map(P=>a.jsx(Vne,{invocation:P,onApprove:I,onDeny:E},P.id))]})})]}),a.jsxs("div",{className:"flex min-h-0 flex-col gap-4 overflow-auto",children:[a.jsx(Kne,{session:v??null,sessions:g,onSelectSession:n,currentSessionId:r,routingTargets:[]}),a.jsx(Hne,{traces:h,onExport:()=>m([])})]})]}),a.jsx(Gne,{open:c,onOpenChange:u,attachments:d,onAdd:(P,B)=>f(R=>[...R,{url:P,name:B}]),onRemove:P=>f(B=>B.filter((R,z)=>z!==P)),onConfirm:()=>{},maxAttachments:5}),a.jsx(Xne,{open:o,onOpenChange:l,action:s,onConfirm:T,isLoading:S.isPending||j.isPending})]})}const nl={getChannels:async()=>{const{data:e,error:t}=await q.from("channels").select("*").order("last_event_at",{ascending:!1,nullsFirst:!1});if(t)throw new Error(t.message);return e??[]},getChannel:async e=>{const{data:t,error:r}=await q.from("channels").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createChannel:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("channels").insert(r).select().single();if(s)throw new Error(s.message);return n},updateChannel:async(e,t)=>{const{data:r,error:n}=await q.from("channels").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteChannel:async e=>{const{error:t}=await q.from("channels").delete().eq("id",e);if(t)throw new Error(t.message)},getAdapterConfig:async e=>{const{data:t,error:r}=await q.from("adapter_configurations").select("*").eq("channel_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertAdapterConfig:async e=>{const t=await nl.getAdapterConfig(e.channel_id);if(t){const{data:i,error:o}=await q.from("adapter_configurations").update({dm_policy:e.dm_policy,group_policy:e.group_policy,mention_gating:e.mention_gating,webhook_url:e.webhook_url??t.webhook_url,polling_interval_seconds:e.polling_interval_seconds??t.polling_interval_seconds}).eq("channel_id",e.channel_id).select().single();if(o)throw new Error(o.message);return i}const r={channel_id:e.channel_id,dm_policy:e.dm_policy??"pairing",group_policy:e.group_policy??"mention",mention_gating:e.mention_gating??!0,webhook_url:e.webhook_url??null,polling_interval_seconds:e.polling_interval_seconds??null},{data:n,error:s}=await q.from("adapter_configurations").insert(r).select().single();if(s)throw new Error(s.message);return n},updateAdapterConfig:async(e,t)=>{const{data:r,error:n}=await q.from("adapter_configurations").update(t).eq("channel_id",e).select().single();if(n)throw new Error(n.message);return r},getDeliveryLogs:async(e,t)=>{if(!e)return[];let r=q.from("delivery_logs").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.eventType&&(r=r.eq("event_type",t.eventType)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createDeliveryLog:async e=>{const{data:t,error:r}=await q.from("delivery_logs").insert(e).select().single();if(r)throw new Error(r.message);return t}};function ese(e,t){return e().catch(()=>t)}const js={all:["channels"],list:()=>[...js.all,"list"],detail:e=>[...js.all,"detail",e],adapterConfig:e=>[...js.all,"adapterConfig",e],deliveryLogs:(e,t)=>[...js.all,"deliveryLogs",e,t]};function tse(){return Te({queryKey:js.list(),queryFn:()=>ese(()=>nl.getChannels(),[])})}function rse(e){return Te({queryKey:js.detail(e??""),queryFn:()=>e?nl.getChannel(e):Promise.resolve(null),enabled:!!e})}function nse(){const e=be();return xe({mutationFn:t=>nl.createChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:js.list()}),W.success("Channel added")},onError:t=>{W.error(t.message||"Failed to add channel")}})}function sse(){const e=be();return xe({mutationFn:t=>nl.deleteChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:js.list()}),W.success("Channel removed")},onError:t=>{W.error(t.message||"Failed to remove channel")}})}function ise(e){return Te({queryKey:js.adapterConfig(e??""),queryFn:()=>e?nl.getAdapterConfig(e):Promise.resolve(null),enabled:!!e})}function ase(){const e=be();return xe({mutationFn:t=>nl.upsertAdapterConfig(t),onSuccess:(t,r)=>{const n=r.channel_id;e.invalidateQueries({queryKey:js.adapterConfig(n)}),e.invalidateQueries({queryKey:js.detail(n)}),W.success("Channel config saved")},onError:t=>{W.error(t.message||"Failed to save config")}})}function ose(e,t){return Te({queryKey:js.deliveryLogs(e,t),queryFn:()=>e?nl.getDeliveryLogs(e,t):Promise.resolve([]),enabled:!!e})}const xw={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},lse=xt({provider:ar(["whatsapp","telegram","slack","discord"]),display_name:Ne().optional()}),cse=xt({retrieval_mode:ar(["webhook","polling"]),webhook_url:Ne().url().optional().or(_N("")),polling_interval_seconds:ts.number().min(30).max(3600).optional()}),use=[{id:1,title:"Provider",description:"Select chat provider"},{id:2,title:"Retrieval",description:"Webhook or polling"},{id:3,title:"Provision",description:"QR or code if needed"},{id:4,title:"Confirm",description:"Finish setup"}];function dse({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const[s,i]=b.useState(1),o=vt({resolver:yt(lse),defaultValues:{provider:"telegram",display_name:""}}),l=vt({resolver:yt(cse),defaultValues:{retrieval_mode:"webhook",webhook_url:"",polling_interval_seconds:60}}),c=o.watch("provider"),u=l.watch("retrieval_mode"),d=async()=>{if(!(s===1&&!await o.trigger())&&!(s===2&&!await l.trigger())){if(s===4){const m=o.getValues(),g=l.getValues();r({provider:m.provider,display_name:m.display_name||null,webhook_url:u==="webhook"&&g.webhook_url?g.webhook_url:null,polling_interval_seconds:u==="polling"?g.polling_interval_seconds??60:null}),t(!1),i(1),o.reset(),l.reset();return}i(m=>m+1)}},f=()=>{s>1&&i(m=>m-1)},h=m=>{m||(i(1),o.reset(),l.reset()),t(m)};return a.jsx(ze,{open:e,onOpenChange:h,children:a.jsxs(Le,{className:"max-w-lg","aria-describedby":"add-channel-wizard-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Add channel"}),a.jsx(Be,{id:"add-channel-wizard-description",children:"Connect a chat channel adapter. Follow the steps to complete setup."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:use.map(m=>a.jsx("div",{className:Z("h-1 flex-1 rounded-full transition-colors",m.id<=s?"bg-primary":"bg-muted"),"aria-hidden":!0},m.id))}),s===1&&a.jsxs("form",{id:"wizard-step1",className:"space-y-4 py-4",onSubmit:o.handleSubmit(()=>i(2)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Provider"}),a.jsxs(mt,{value:c,onValueChange:m=>o.setValue("provider",m),children:[a.jsx(ct,{children:a.jsx(pt,{placeholder:"Select provider"})}),a.jsx(ut,{children:Object.keys(xw).map(m=>a.jsx(Ce,{value:m,children:xw[m]},m))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"display_name",children:"Display name (optional)"}),a.jsx(ye,{id:"display_name",placeholder:"e.g. Team Telegram",...o.register("display_name")})]})]}),s===2&&a.jsxs("form",{id:"wizard-step2",className:"space-y-4 py-4",onSubmit:l.handleSubmit(()=>i(3)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Message retrieval"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"webhook",checked:u==="webhook",onChange:()=>l.setValue("retrieval_mode","webhook"),className:"h-4 w-4 accent-primary"}),a.jsx(HI,{className:"h-4 w-4"}),"Webhook"]}),a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"polling",checked:u==="polling",onChange:()=>l.setValue("retrieval_mode","polling"),className:"h-4 w-4 accent-primary"}),a.jsx(xg,{className:"h-4 w-4"}),"Polling"]})]})]}),u==="webhook"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"webhook_url",children:"Webhook URL"}),a.jsx(ye,{id:"webhook_url",placeholder:"https://...",...l.register("webhook_url")}),l.formState.errors.webhook_url&&a.jsx("p",{className:"text-xs text-destructive",children:l.formState.errors.webhook_url.message})]}),u==="polling"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"polling_interval_seconds",children:"Polling interval (seconds)"}),a.jsx(ye,{id:"polling_interval_seconds",type:"number",min:30,max:3600,...l.register("polling_interval_seconds")})]})]}),s===3&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-border bg-card/50 p-8",children:[a.jsx(DS,{className:"mb-4 h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:c==="whatsapp"||c==="telegram"?"Scan the QR code with your app to link this channel. You can also use the pairing code shown in the next step.":"Complete OAuth in the provider dashboard if required, then continue."}),a.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Provisioning step is simulated. In production, QR and codes are generated by the gateway."})]})}),s===4&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4 text-sm",children:[a.jsx("p",{className:"font-medium",children:xw[c]}),o.getValues("display_name")&&a.jsx("p",{className:"text-muted-foreground",children:o.getValues("display_name")}),a.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Retrieval: ",l.getValues("retrieval_mode")==="webhook"?"Webhook":"Polling"]})]})}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[s>1?a.jsxs(O,{type:"button",variant:"outline",onClick:f,disabled:n,children:[a.jsx(LI,{className:"mr-2 h-4 w-4"}),"Back"]}):a.jsx("div",{}),a.jsx(O,{type:"button",onClick:d,disabled:n,children:s===4?n?"Adding":"Add channel":a.jsxs(a.Fragment,{children:["Next",a.jsx(is,{className:"ml-2 h-4 w-4"})]})})]})]})})}const fse=xt({dm_policy:ar(["pairing","allowlist","open","disabled"]),group_policy:ar(["mention","open","disabled"]),mention_gating:Ua()}),fO={pairing:"Pairing required",allowlist:"Allowlist only",open:"Open to all",disabled:"Disabled"},hO={mention:"Mention required",open:"Open to all",disabled:"Disabled"};function hse({open:e,onOpenChange:t,channelId:r,channelName:n,config:s,onSubmit:i,isSubmitting:o=!1}){const l={dm_policy:(s==null?void 0:s.dm_policy)??"pairing",group_policy:(s==null?void 0:s.group_policy)??"mention",mention_gating:(s==null?void 0:s.mention_gating)??!0},{handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h,isDirty:m}}=vt({resolver:yt(fse),defaultValues:l}),g=d("mention_gating");b.useEffect(()=>{e&&s&&f({dm_policy:s.dm_policy,group_policy:s.group_policy,mention_gating:s.mention_gating})},[e,s,f]);const p=x=>{i(x),f(x),t(!1)},v=x=>{x||f(l),t(x)};return a.jsx(ze,{open:e,onOpenChange:v,children:a.jsxs(Le,{className:"max-w-lg","aria-describedby":"channel-policy-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Channel policy"}),a.jsx(Be,{id:"channel-policy-description",children:n?`DM and group policies for ${n}`:"Set DM policy, group policy, and mention gating for this channel."})]}),a.jsxs("form",{id:"channel-policy-form",onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"DM policy"}),a.jsxs(mt,{value:d("dm_policy"),onValueChange:x=>u("dm_policy",x,{shouldDirty:!0}),children:[a.jsx(ct,{className:Z(h.dm_policy&&"border-destructive"),children:a.jsx(pt,{placeholder:"Select DM policy"})}),a.jsx(ut,{children:Object.keys(fO).map(x=>a.jsx(Ce,{value:x,children:fO[x]},x))})]}),h.dm_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.dm_policy.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Group policy"}),a.jsxs(mt,{value:d("group_policy"),onValueChange:x=>u("group_policy",x,{shouldDirty:!0}),children:[a.jsx(ct,{className:Z(h.group_policy&&"border-destructive"),children:a.jsx(pt,{placeholder:"Select group policy"})}),a.jsx(ut,{children:Object.keys(hO).map(x=>a.jsx(Ce,{value:x,children:hO[x]},x))})]}),h.group_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.group_policy.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(Y,{htmlFor:"mention_gating",children:"Mention gating"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Require @mention in groups to trigger the agent"})]}),a.jsx(en,{id:"mention_gating",checked:g,onCheckedChange:x=>u("mention_gating",x,{shouldDirty:!0})})]})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),a.jsx(O,{type:"submit",form:"channel-policy-form",disabled:!m||o,children:o?"Saving":"Save"})]})]})})}function mse({open:e,onOpenChange:t,log:r}){return r?a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-lg","aria-describedby":"delivery-error-description",children:[a.jsxs(Fe,{children:[a.jsxs(Ue,{className:"flex items-center gap-2",children:[a.jsx(La,{className:"h-5 w-5 text-destructive"}),"Delivery error details"]}),a.jsxs(Be,{id:"delivery-error-description",children:["Event: ",r.event_type,"  ",r.success?"Succeeded":"Failed"," "," ",lu(new Date(r.created_at),"PPp")]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Error details"}),a.jsx("pre",{className:"mt-2 max-h-48 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-sm",children:r.error_details??"No error message recorded."})]}),r.metadata&&Object.keys(r.metadata).length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Metadata"}),a.jsx("pre",{className:"mt-2 max-h-32 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-xs",children:JSON.stringify(r.metadata,null,2)})]})]})]})}):null}const mO={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},pse={active:"success",inactive:"secondary",error:"destructive",provisioning:"warning"};function gse(){const[e,t]=b.useState(!1),[r,n]=b.useState(null),[s,i]=b.useState(!1),[o,l]=b.useState(null),[c,u]=b.useState(!1),[d,f]=b.useState(""),{data:h=[],isLoading:m}=tse(),{data:g}=rse(r),{data:p}=ise(r),{data:v=[]}=ose(r,{limit:50}),x=nse(),y=sse(),w=ase(),S=async N=>{const k=await x.mutateAsync({provider:N.provider,display_name:N.display_name,status:"provisioning"});await w.mutateAsync({channel_id:k.id,dm_policy:"pairing",group_policy:"mention",mention_gating:!0,webhook_url:N.webhook_url??null,polling_interval_seconds:N.polling_interval_seconds??null}),n(k.id),t(!1)},j=N=>{r&&w.mutate({channel_id:r,dm_policy:N.dm_policy,group_policy:N.group_policy,mention_gating:N.mention_gating})},_=N=>{l(N),u(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Channels & Adapters"}),a.jsxs(O,{onClick:()=>t(!0),children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}),a.jsxs(Ba,{defaultValue:"channels",className:"space-y-4",children:[a.jsxs(Yi,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsx(At,{value:"channels",children:"Channels"}),a.jsx(At,{value:"logs",children:"Delivery logs"}),a.jsx(At,{value:"test",children:"Test console"})]}),a.jsx(Tt,{value:"channels",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(re,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Channels list"}),a.jsx(we,{children:"Manage chat channel adapters and per-channel policies."})]}),a.jsx(ne,{children:m?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>a.jsx(ve,{className:"h-16 w-full rounded-lg"},N))}):h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(xg,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No channels added. Use Add Channel to connect WhatsApp, Telegram, Slack, or Discord."}),a.jsxs(O,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}):a.jsx(St,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:h.map(N=>a.jsxs("div",{className:Z("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",r===N.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>n(N.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(xg,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.display_name||mO[N.provider]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[mO[N.provider],N.last_event_at&&`  Last event ${Lr(new Date(N.last_event_at),{addSuffix:!0})}`]})]}),a.jsx(Qe,{variant:pse[N.status],className:"shrink-0",children:N.status}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.success_rate.toFixed(0),"% success"]})]}),a.jsxs(ci,{children:[a.jsx(ui,{asChild:!0,children:a.jsxs(O,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(Ii,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ks,{align:"end",children:[a.jsxs(zt,{onClick:()=>{n(N.id),i(!0)},children:[a.jsx(ya,{className:"mr-2 h-4 w-4"}),"Configure policy"]}),a.jsxs(zt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this channel?")&&(y.mutate(N.id),r===N.id&&n(null))},children:[a.jsx(bn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},N.id))})})})]}),a.jsxs(re,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Channel config"}),a.jsx(we,{children:"DM policy, group policy, mention gating."})]}),a.jsx(ne,{children:r?a.jsx("div",{className:"space-y-4",children:p===void 0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ve,{className:"h-10 w-full"}),a.jsx(ve,{className:"h-10 w-full"}),a.jsx(ve,{className:"h-12 w-full"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"DM policy"}),a.jsx("span",{className:"font-medium capitalize",children:(p==null?void 0:p.dm_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Group policy"}),a.jsx("span",{className:"font-medium capitalize",children:(p==null?void 0:p.group_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Mention gating"}),a.jsx("span",{className:"font-medium",children:p!=null&&p.mention_gating?"On":"Off"})]})]}),a.jsxs(O,{variant:"outline",className:"w-full",onClick:()=>i(!0),children:[a.jsx(ya,{className:"mr-2 h-4 w-4"}),"Edit policy"]})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ya,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel to configure."})]})})]})]})}),a.jsx(Tt,{value:"logs",className:"space-y-4",children:a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Delivery logs"}),a.jsxs(we,{children:["Recent inbound/outbound events",r&&" for selected channel"]})]}),a.jsx(ne,{children:r?v.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Ko,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No delivery logs yet."})]}):a.jsx(St,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-2",children:v.map(N=>a.jsx("div",{className:Z("flex items-center justify-between rounded-lg border p-3 text-sm",N.success?"border-border":"border-destructive/50 bg-destructive/5"),children:a.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[N.success?a.jsx(Ko,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx(Qy,{className:"h-4 w-4 shrink-0 text-destructive"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.event_type}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Lr(new Date(N.created_at),{addSuffix:!0})})]}),!N.success&&N.error_details&&a.jsxs(O,{variant:"ghost",size:"sm",onClick:()=>_(N),className:"shrink-0",children:[a.jsx(Xy,{className:"mr-1 h-4 w-4"}),"Details"]})]})},N.id))})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(xg,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to view delivery logs."})]})})]})}),a.jsx(Tt,{value:"test",className:"space-y-4",children:a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Test console"}),a.jsx(we,{children:"Send test messages through the selected channel."})]}),a.jsx(ne,{children:r?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{htmlFor:"test-message",className:"text-sm font-medium",children:"Test message"}),a.jsx(ye,{id:"test-message",placeholder:"Type a message to send...",value:d,onChange:N=>f(N.target.value),className:"min-h-[80px]"})]}),a.jsxs(O,{disabled:!d.trim(),onClick:()=>{f("")},children:[a.jsx(Gu,{className:"mr-2 h-4 w-4"}),"Send test message"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Test messages are sent through the gateway. Roundtrip and errors appear in Delivery logs."})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Gu,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to test."})]})})]})})]}),a.jsx(dse,{open:e,onOpenChange:t,onSubmit:S,isSubmitting:x.isPending||w.isPending}),a.jsx(hse,{open:s,onOpenChange:i,channelId:r??"",channelName:(g==null?void 0:g.display_name)??(g==null?void 0:g.provider),config:p??null,onSubmit:j,isSubmitting:w.isPending}),a.jsx(mse,{open:c,onOpenChange:u,log:o})]})}function vse(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skills Library"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(O,{variant:"outline",asChild:!0,children:a.jsxs(he,{to:"/marketplace",children:[a.jsx(Zy,{className:"mr-2 h-4 w-4"}),"Marketplace"]})}),a.jsx(O,{variant:"outline",asChild:!0,children:a.jsxs(he,{to:"/skill-editor",children:[a.jsx(PS,{className:"mr-2 h-4 w-4"}),"Skill Editor"]})})]})]}),a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Installed skills"}),a.jsx(we,{children:"Enable/disable and manage local skills."})]}),a.jsx(ne,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills installed. Browse the registry below."})})]}),a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Registry browser"}),a.jsx(we,{children:"Browse and install skills from the registry."})]}),a.jsxs(ne,{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(LS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ye,{placeholder:"Search skills...",className:"pl-9"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No results. (Registry integration placeholder.)"})]})]}),a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Skill detail"}),a.jsx(we,{children:"SKILL.md render, frontmatter, permissions, provenance. Install flow: gating checks, env prompts."})]}),a.jsx(ne,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to view details."})})]})]})}const zn="/skills",qa={list:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return _e.get(`${zn}${t?`?${t}`:""}`)},get:e=>_e.get(`${zn}/${e}`),create:e=>_e.post(zn,e),update:(e,t)=>_e.patch(`${zn}/${e}`,t),delete:e=>_e.delete(`${zn}/${e}`),getTestRuns:(e,t)=>{const r=t?new URLSearchParams(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)])).toString():"";return _e.get(`${zn}/${e}/test-runs${r?`?${r}`:""}`)},getTestRun:(e,t)=>_e.get(`${zn}/${e}/test-runs/${t}`),runTest:(e,t)=>_e.post(`${zn}/${e}/test-run`,t??{}),abortTestRun:(e,t)=>_e.post(`${zn}/${e}/test-runs/${t}/abort`,{}),checkRequirements:e=>_e.get(`${zn}/${e}/check-requirements`),getVersions:e=>_e.get(`${zn}/${e}/versions`),createVersion:(e,t)=>_e.post(`${zn}/${e}/versions`,t),commit:(e,t)=>_e.post(`${zn}/${e}/commit`,t)};function Ex(e,t){return e().catch(()=>t)}const Xr={all:["skills"],list:e=>[...Xr.all,"list",e],detail:e=>[...Xr.all,"detail",e],testRuns:(e,t)=>[...Xr.all,"test-runs",e,t],testRun:(e,t)=>[...Xr.all,"test-run",e,t],versions:e=>[...Xr.all,"versions",e],gating:e=>[...Xr.all,"gating",e]};function yse(e){return Te({queryKey:Xr.list(e),queryFn:()=>Ex(()=>qa.list(e),[])})}function xse(e){return Te({queryKey:Xr.detail(e??""),queryFn:()=>e?Ex(()=>qa.get(e),null):Promise.resolve(null),enabled:!!e})}function bse(){const e=be();return xe({mutationFn:t=>qa.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:Xr.list()}),W.success("Skill created")},onError:t=>{W.error(t.message||"Failed to create skill")}})}function wse(){const e=be();return xe({mutationFn:({id:t,data:r})=>qa.update(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Xr.list()}),e.invalidateQueries({queryKey:Xr.detail(r)}),W.success("Skill saved")},onError:t=>{W.error(t.message||"Failed to save skill")}})}function jse(e,t){return Te({queryKey:Xr.testRuns(e??"",t),queryFn:()=>e?Ex(()=>qa.getTestRuns(e,t),[]):Promise.resolve([]),enabled:!!e})}function _se(){const e=be();return xe({mutationFn:({skillId:t,payload:r})=>qa.runTest(t,r),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:Xr.testRuns(r)}),W.success("Test run started")},onError:t=>{W.error(t.message||"Failed to run skill test")}})}function Sse(e){return Te({queryKey:Xr.versions(e??""),queryFn:()=>e?Ex(()=>qa.getVersions(e),[]):Promise.resolve([]),enabled:!!e})}function Nse(e){return Te({queryKey:Xr.gating(e??""),queryFn:()=>e?qa.checkRequirements(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}function kse(){const e=be();return xe({mutationFn:({skillId:t,message:r,sign:n})=>qa.commit(t,{message:r,sign:n}),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:Xr.detail(r)}),e.invalidateQueries({queryKey:Xr.versions(r)}),W.success("Changes committed")},onError:t=>{W.error(t.message||"Failed to commit")}})}const Cse=xt({name:Ne().min(1,"Name is required"),version:Ne().min(1,"Version is required"),description:Ne().optional(),permissions:Ne().optional(),env_keys:Ne().optional()}),bw={name:"",version:"1.0.0",description:"",permissions:"",env_keys:""};function Ese({open:e,onOpenChange:t,initialValues:r,onSubmit:n,isSubmitting:s=!1}){const i=()=>({...bw,name:(r==null?void 0:r.name)??"",version:(r==null?void 0:r.version)??"1.0.0",description:(r==null?void 0:r.description)??"",permissions:Array.isArray(r==null?void 0:r.permissions)?r.permissions.join(", "):(r==null?void 0:r.permissions)??"",env_keys:r!=null&&r.env_keys?typeof r.env_keys=="object"?Object.keys(r.env_keys).join(", "):String(r.env_keys):""}),{register:o,handleSubmit:l,reset:c,formState:{errors:u}}=vt({resolver:yt(Cse),defaultValues:i()});b.useEffect(()=>{e&&c(i())},[e]);const d=h=>{const m={name:h.name,version:h.version,description:h.description||void 0,permissions:h.permissions?h.permissions.split(",").map(g=>g.trim()).filter(Boolean):void 0,env_keys:h.env_keys?h.env_keys.split(",").map(g=>g.trim()).filter(Boolean):void 0};n(m),c(bw),t(!1)},f=h=>{h||c(bw),t(h)};return a.jsx(ze,{open:e,onOpenChange:f,children:a.jsxs(Le,{className:"max-w-lg","aria-describedby":"frontmatter-dialog-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Edit frontmatter"}),a.jsx(Be,{id:"frontmatter-dialog-description",children:"YAML frontmatter fields for SKILL.md (name, version, permissions, env)."})]}),a.jsxs("form",{onSubmit:l(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-name",children:"Name"}),a.jsx(ye,{id:"frontmatter-name",placeholder:"skill-name",...o("name"),className:Z(u.name&&"border-destructive")}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-version",children:"Version"}),a.jsx(ye,{id:"frontmatter-version",placeholder:"1.0.0",...o("version"),className:Z(u.version&&"border-destructive")}),u.version&&a.jsx("p",{className:"text-xs text-destructive",children:u.version.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-description",children:"Description (optional)"}),a.jsx(ye,{id:"frontmatter-description",placeholder:"Short description",...o("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-permissions",children:"Permissions (comma-separated)"}),a.jsx(ye,{id:"frontmatter-permissions",placeholder:"network, exec, read",...o("permissions")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-env",children:"Env keys (comma-separated)"}),a.jsx(ye,{id:"frontmatter-env",placeholder:"API_KEY, GMAIL_CREDENTIALS",...o("env_keys")})]}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx(O,{type:"submit",disabled:s,children:s?"Saving":"Save"})]})]})]})})}const Ose=xt({message:Ne().optional(),sign:Ua().optional()}),ww={message:"",sign:!1};function Pse({open:e,onOpenChange:t,skillName:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,watch:l,setValue:c,reset:u,formState:{errors:d}}=vt({resolver:yt(Ose),defaultValues:ww}),f=l("sign"),h=g=>{n({message:g.message||void 0,sign:g.sign}),u(ww),t(!1)},m=g=>{g||u(ww),t(g)};return a.jsx(ze,{open:e,onOpenChange:m,children:a.jsxs(Le,{className:"max-w-lg","aria-describedby":"commit-dialog-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Commit changes"}),a.jsx(Be,{id:"commit-dialog-description",children:r?`Finalize and commit changes for "${r}". Optionally sign the package.`:"Finalize and commit your skill. Optionally sign the package."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"commit-message",children:"Commit message (optional)"}),a.jsx(ye,{id:"commit-message",placeholder:"e.g. Add Gmail Pub/Sub gating",...i("message"),className:Z(d.message&&"border-destructive")}),d.message&&a.jsx("p",{className:"text-xs text-destructive",children:d.message.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"commit-sign",children:"Sign package"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally sign this version for provenance."})]}),a.jsx(en,{id:"commit-sign",checked:f,onCheckedChange:g=>c("sign",g)})]}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),a.jsx(O,{type:"submit",disabled:s,children:s?"Committing":"Commit"})]})]})]})})}function Ase({open:e,onClose:t,requirements:r,passed:n,title:s="Gating checks",className:i}){return e?a.jsx("div",{className:Z("absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-background/95 p-6 backdrop-blur-sm",i),role:"dialog","aria-labelledby":"gating-overlay-title","aria-describedby":"gating-overlay-desc",children:a.jsxs("div",{className:"relative w-full max-w-md rounded-lg border border-border bg-card p-6 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("h2",{id:"gating-overlay-title",className:"text-lg font-semibold",children:s}),a.jsx(O,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close",children:a.jsx(Yu,{className:"h-4 w-4"})})]}),a.jsx("p",{id:"gating-overlay-desc",className:"mt-1 text-sm text-muted-foreground",children:n?"All requirements are met. You can save and deploy.":"Resolve the items below before saving or deploying."}),a.jsx("ul",{className:"mt-4 space-y-2",role:"list",children:r.map(o=>a.jsxs("li",{className:Z("flex items-start gap-3 rounded-md border border-border px-3 py-2 text-sm",o.met?"bg-success/10 border-success/30":"bg-destructive/10 border-destructive/30"),children:[o.met?a.jsx(UI,{className:"h-5 w-5 shrink-0 text-success","aria-hidden":!0}):a.jsx(La,{className:"h-5 w-5 shrink-0 text-destructive","aria-hidden":!0}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium",children:o.label}),o.message&&a.jsx("p",{className:"mt-0.5 text-muted-foreground",children:o.message})]})]},o.id))}),r.length===0&&a.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"No gating checks defined."}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx(O,{onClick:t,children:"Close"})})]})}):null}const Uc=`# Skill name

Short description of what this skill does.

## Requirements

- List gating requirements (env vars, permissions, etc.)

## Usage

How to use this skill from chat or cron.
`;function Tse(){const{skillId:e}=wz(),t=el(),[r,n]=b.useState("editor"),[s,i]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[h,m]=b.useState(!1),{data:g=[],isLoading:p}=yse(),{data:v,isLoading:x}=xse(e??null),{data:y=[]}=jse(e??null,{limit:5}),{data:w=[]}=Sse(e??null),{data:S}=Nse(e??null),j=wse(),_=_se(),N=kse(),k=bse(),C=v??null,T=C&&(s!==C.content||o!==C.name),I=b.useCallback(()=>{C?(i(C.content||Uc),l(C.name||"")):(i(Uc),l(""))},[C]);b.useEffect(()=>{C?(i(C.content||Uc),l(C.name||"")):e||(i(Uc),l(""))},[e,C==null?void 0:C.id,C==null?void 0:C.content,C==null?void 0:C.name]);const E=$=>{t(`/skill-editor/${$}`)},U=()=>{!e||!C||j.mutate({id:e,data:{content:s,name:o||C.name}},{onSuccess:()=>I()})},P=()=>{e&&_.mutate({skillId:e})},B=$=>{e&&N.mutate({skillId:e,...$},{onSuccess:()=>f(!1)})},R=$=>{!e||!C||j.mutate({id:e,data:{frontmatter:{...C.frontmatter,...$}}},{onSuccess:()=>{u(!1)}})},z=y[0],D=S&&!S.passed,M=(S==null?void 0:S.requirements)??[];return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skill Editor"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>t("/skill-editor"),"aria-label":"Clear selection",children:[a.jsx(lH,{className:"mr-1 h-4 w-4"}),"All skills"]}),a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>u(!0),disabled:!e,"aria-label":"Edit frontmatter",children:[a.jsx(gH,{className:"mr-1 h-4 w-4"}),"Frontmatter"]}),a.jsxs(O,{variant:"outline",size:"sm",onClick:U,disabled:!e||!T||j.isPending,children:[a.jsx(YI,{className:"mr-1 h-4 w-4"}),j.isPending?"Saving":"Save"]}),a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>m(!0),className:D?"border-warning text-warning":"","aria-label":"Gating checks",children:[a.jsx(La,{className:"mr-1 h-4 w-4"}),"Gating"]}),a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>f(!0),disabled:!e,children:[a.jsx(cH,{className:"mr-1 h-4 w-4"}),"Commit"]}),a.jsxs(O,{size:"sm",onClick:P,disabled:!e||_.isPending,children:[a.jsx(va,{className:"mr-1 h-4 w-4"}),_.isPending?"Running":"Test run"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[a.jsxs(re,{className:"lg:col-span-1",children:[a.jsxs(ie,{className:"pb-2",children:[a.jsx(oe,{className:"text-sm",children:"Skills"}),a.jsx(we,{children:"Select a skill to edit."})]}),a.jsxs(ne,{className:"pt-0",children:[p?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ve,{className:"h-9 w-full"}),a.jsx(ve,{className:"h-9 w-full"}),a.jsx(ve,{className:"h-9 w-4/5"})]}):g.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet."}),a.jsxs(O,{size:"sm",variant:"outline",className:"w-full",onClick:()=>k.mutate({user_id:"",name:"Untitled Skill",content:Uc},{onSuccess:$=>{t(`/skill-editor/${$.id}`)}}),disabled:k.isPending,children:[a.jsx(Wt,{className:"mr-1 h-4 w-4"}),k.isPending?"Creating":"New skill"]})]}):a.jsx(St,{className:"h-[200px] pr-2",children:a.jsx("ul",{className:"space-y-0.5",role:"list",children:g.map($=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>E($.id),className:Z("flex w-full items-center gap-2 rounded-md px-3 py-2 text-left text-sm transition-colors hover:bg-secondary",e===$.id&&"bg-primary/15 text-primary"),children:[a.jsx(Vr,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:$.name}),a.jsx(is,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})},$.id))})}),a.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Versions"}),e&&a.jsx(St,{className:"h-[120px] pr-2",children:w.length===0?a.jsx("p",{className:"text-xs text-muted-foreground",children:"No versions yet."}):a.jsx("ul",{className:"space-y-1 text-xs",children:w.slice(0,5).map($=>a.jsxs("li",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"truncate font-mono",children:$.version_number}),a.jsx("span",{className:"text-muted-foreground shrink-0",children:$.changes?"":""})]},$.id))})}),!e&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a skill to see versions."})]})]})]}),a.jsx("div",{className:"space-y-4 lg:col-span-1",children:x&&e?a.jsx(re,{children:a.jsx(ne,{className:"flex items-center justify-center py-12",children:a.jsx(ve,{className:"h-8 w-48"})})}):a.jsxs(a.Fragment,{children:[a.jsxs(Ba,{value:r,onValueChange:n,className:"w-full",children:[a.jsxs(Yi,{className:"grid w-full grid-cols-3",children:[a.jsx(At,{value:"editor",children:"SKILL.md editor"}),a.jsx(At,{value:"preview",children:"Preview"}),a.jsx(At,{value:"frontmatter",children:"Frontmatter"})]}),a.jsx(Tt,{value:"editor",className:"mt-4",children:a.jsxs(re,{className:"relative overflow-hidden",children:[h&&a.jsx(Ase,{open:h,onClose:()=>m(!1),requirements:M.map($=>({id:$.id,label:$.label,met:$.met,message:$.message})),passed:(S==null?void 0:S.passed)??!0}),a.jsxs(ne,{className:"pt-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(Y,{htmlFor:"skill-name",className:"text-muted-foreground",children:"Skill name"}),a.jsx(ye,{id:"skill-name",value:o,onChange:$=>l($.target.value),placeholder:"my-skill",className:"mt-1 max-w-xs font-medium"})]}),a.jsx("textarea",{"aria-label":"SKILL.md content",className:"min-h-[300px] w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:Uc,value:s,onChange:$=>i($.target.value)})]})]})}),a.jsx(Tt,{value:"preview",className:"mt-4",children:a.jsx(re,{children:a.jsx(ne,{className:"pt-6",children:a.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-semibold prose-p:text-muted-foreground prose-code:text-sm",children:a.jsx("pre",{className:"whitespace-pre-wrap rounded-md bg-muted/50 p-4 font-sans text-sm",children:s||"Nothing to preview."})})})})}),a.jsx(Tt,{value:"frontmatter",className:"mt-4",children:a.jsx(re,{children:a.jsxs(ne,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:'Edit YAML frontmatter (name, version, permissions, env) via the Frontmatter button in the header, or open the "Frontmatter" dialog.'}),(C==null?void 0:C.frontmatter)&&Object.keys(C.frontmatter).length>0&&a.jsx("pre",{className:"mt-4 rounded-md bg-muted/50 p-4 font-mono text-xs",children:JSON.stringify(C.frontmatter,null,2)})]})})})]}),a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{className:"text-sm",children:"Test runner"}),a.jsx(we,{children:"Run skill in sandbox and view logs."})]}),a.jsx(ne,{children:z?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Status: ",z.status]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(z.created_at).toLocaleString()})]}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-muted p-4 text-xs text-muted-foreground",children:z.logs||"No logs."})]}):a.jsx("pre",{className:"rounded-md bg-muted p-4 text-xs text-muted-foreground",children:'No test runs yet. Click "Test run" to execute.'})})]})]})})]}),a.jsx(Ese,{open:c,onOpenChange:u,initialValues:C==null?void 0:C.frontmatter,onSubmit:R,isSubmitting:j.isPending}),a.jsx(Pse,{open:d,onOpenChange:f,skillName:C==null?void 0:C.name,onSubmit:B,isSubmitting:N.isPending})]})}const Rse=10,jw=["voice_wake","talk_mode","remote_exec","browser_proxy","camera_capture"];function pO(e){return{voice_wake:"Wake word detection",talk_mode:"Voice conversation mode",remote_exec:"Remote command execution",browser_proxy:"Browser/CDP proxy",camera_capture:"Camera and screen capture"}[e]??e}const Bn={getNodes:async()=>{const{data:e,error:t}=await q.from("nodes").select("*").order("last_active_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getNode:async e=>{const{data:t,error:r}=await q.from("nodes").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createNode:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("nodes").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNode:async(e,t)=>{const{data:r,error:n}=await q.from("nodes").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteNode:async e=>{const{error:t}=await q.from("nodes").delete().eq("id",e);if(t)throw new Error(t.message)},getNodeCapabilities:async e=>{const{data:t,error:r}=await q.from("node_capabilities").select("*").eq("node_id",e).order("capability_key");if(r)throw new Error(r.message);return t??[]},getNodeCapability:async(e,t)=>{const{data:r,error:n}=await q.from("node_capabilities").select("*").eq("node_id",e).eq("capability_key",t).single();if(n){if(n.code==="PGRST116")return null;throw new Error(n.message)}return r},upsertNodeCapability:async e=>{const{data:t,error:r}=await q.from("node_capabilities").upsert({node_id:e.node_id,capability_key:e.capability_key,status:e.status??"enabled",description:e.description??null,configurations:e.configurations??{}},{onConflict:"node_id,capability_key"}).select().single();if(r)throw new Error(r.message);return t},updateNodeCapability:async(e,t)=>{const{data:r,error:n}=await q.from("node_capabilities").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getNodeApprovals:async e=>{let t=q.from("node_approvals").select("*").order("created_at",{ascending:!1});e!=null&&e.nodeId&&(t=t.eq("node_id",e.nodeId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},createNodeApproval:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,requester_id:t.id},{data:n,error:s}=await q.from("node_approvals").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNodeApproval:async(e,t)=>{const{data:r,error:n}=await q.from("node_approvals").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},startPairing:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const t=Mse(),r=new Date;r.setMinutes(r.getMinutes()+Rse);const n={user_id:e.id,pairing_code:t,expires_at:r.toISOString()},{data:s,error:i}=await q.from("pairing_requests").insert(n).select().single();if(i)throw new Error(i.message);return s},claimPairing:async(e,t)=>{const{data:{user:r}}=await q.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await q.from("pairing_requests").select("*").eq("pairing_code",e.trim()).eq("user_id",r.id).is("node_id",null).gt("expires_at",new Date().toISOString()).single();if(s||!n)throw new Error("Invalid or expired pairing code");const i=await Bn.createNode({name:t??`Node ${e.slice(-6)}`,status:"paired",connection_health:"healthy",capabilities:jw});await q.from("pairing_requests").update({node_id:i.id}).eq("id",n.id);for(const o of jw)await Bn.upsertNodeCapability({node_id:i.id,capability_key:o,status:"enabled",description:pO(o)});return i},getDefaultCapabilityKeys:()=>jw,getCapabilityDescription:pO};function Mse(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function C3(e,t){return e().catch(()=>t)}const $r={all:["nodes"],list:()=>[...$r.all,"list"],detail:e=>[...$r.all,"detail",e],capabilities:e=>[...$r.all,"capabilities",e],approvals:e=>[...$r.all,"approvals",e],pairing:()=>[...$r.all,"pairing"]};function $se(){return Te({queryKey:$r.list(),queryFn:()=>C3(()=>Bn.getNodes(),[])})}function Ise(e){return Te({queryKey:$r.detail(e??""),queryFn:()=>e?Bn.getNode(e):Promise.resolve(null),enabled:!!e})}function Dse(){const e=be();return xe({mutationFn:({id:t,data:r})=>Bn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:$r.list()}),e.invalidateQueries({queryKey:$r.detail(r)}),W.success("Node updated")},onError:t=>{W.error(t.message||"Failed to update node")}})}function Lse(){const e=be();return xe({mutationFn:t=>Bn.deleteNode(t),onSuccess:()=>{e.invalidateQueries({queryKey:$r.list()}),e.invalidateQueries({queryKey:$r.approvals()}),W.success("Node removed")},onError:t=>{W.error(t.message||"Failed to remove node")}})}function Fse(e){return Te({queryKey:$r.capabilities(e??""),queryFn:()=>e?Bn.getNodeCapabilities(e):Promise.resolve([]),enabled:!!e})}function Use(){const e=be();return xe({mutationFn:t=>Bn.upsertNodeCapability(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:$r.capabilities(r.node_id)}),e.invalidateQueries({queryKey:$r.detail(r.node_id)}),W.success("Capability updated")},onError:t=>{W.error(t.message||"Failed to update capability")}})}function Bse(e){return Te({queryKey:$r.approvals(e),queryFn:()=>C3(()=>Bn.getNodeApprovals(e),[])})}function qse(){const e=be();return xe({mutationFn:({id:t,data:r})=>Bn.updateNodeApproval(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:$r.approvals()}),W.success("Approval updated")},onError:t=>{W.error(t.message||"Failed to update approval")}})}function zse(){const e=be();return xe({mutationFn:()=>Bn.startPairing(),onSuccess:()=>{e.invalidateQueries({queryKey:$r.pairing()})},onError:t=>{W.error(t.message||"Failed to start pairing")}})}function Wse(){const e=be();return xe({mutationFn:({code:t,nodeName:r})=>Bn.claimPairing(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:$r.list()}),e.invalidateQueries({queryKey:$r.pairing()}),W.success("Device paired")},onError:t=>{W.error(t.message||"Failed to pair device")}})}function Vse(e){const t=new Date(e).getTime(),r=Date.now(),n=Math.max(0,Math.floor((t-r)/1e3)),s=Math.floor(n/60),i=n%60;return`${s}:${i.toString().padStart(2,"0")}`}function Kse({open:e,onOpenChange:t,pairingRequest:r,onStartPairing:n,isStartingPairing:s,onPaired:i}){const[o,l]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState(!1),h=Wse();b.useEffect(()=>{if(!r||!e)return;const v=()=>l(Vse(r.expires_at));v();const x=setInterval(v,1e3);return()=>clearInterval(x)},[r,e]);const m=()=>{r&&(navigator.clipboard.writeText(r.pairing_code),f(!0),setTimeout(()=>f(!1),2e3))},g=async()=>{if(c.trim())try{await h.mutateAsync({code:c.trim()}),i==null||i(),t(!1),u("")}catch{}},p=r&&new Date(r.expires_at).getTime()<=Date.now();return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsx(Le,{className:"max-w-[640px]","aria-describedby":"pairing-description",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Pair device"}),a.jsx(Be,{id:"pairing-description",children:"Scan the QR code or enter the code on your device to pair. Code expires in 10 minutes."})]}),r?a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:Z("flex h-40 w-40 flex-col items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted/30",p&&"opacity-60"),children:[a.jsx(DS,{className:"h-16 w-16 text-muted-foreground"}),a.jsx("span",{className:"mt-2 text-xs text-muted-foreground",children:"QR code"}),a.jsx("p",{className:"mt-1 text-center text-xs text-muted-foreground",children:"Scan with your device app"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Co,{className:"h-4 w-4"}),a.jsx("span",{children:p?"Expired":`Expires in ${o}`})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx(Y,{className:"text-muted-foreground",children:"One-time code"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("code",{className:"flex-1 rounded border border-border bg-muted/50 px-3 py-2 text-lg font-mono tracking-widest",children:r.pairing_code}),a.jsx(O,{variant:"outline",size:"icon",onClick:m,"aria-label":"Copy code",children:d?a.jsx(Bm,{className:"h-4 w-4 text-success"}):a.jsx(BI,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter this code on your device if you cannot scan the QR code."}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx(Y,{htmlFor:"manual-code",className:"text-muted-foreground",children:"Or enter a code from another device"}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx(ye,{id:"manual-code",placeholder:"e.g. ABCD1234",value:c,onChange:v=>u(v.target.value.toUpperCase().slice(0,12)),className:"font-mono uppercase tracking-wider"}),a.jsx(O,{onClick:g,disabled:!c.trim()||h.isPending,children:h.isPending?"Pairing":"Pair"})]})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-8",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Start pairing to generate a QR code and one-time code."}),a.jsx(O,{onClick:n,disabled:s,className:"min-w-[160px]",children:s?"Generating":"Start pairing"})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r&&!p&&a.jsx(O,{variant:"outline",onClick:n,disabled:s,children:"New code"})]})]})})})}const Hse={pending:{label:"Pending",variant:"secondary",icon:Co},approved:{label:"Approved",variant:"success",icon:Ko},denied:{label:"Denied",variant:"destructive",icon:Qy}};function Gse({open:e,onOpenChange:t,approval:r,node:n,onApprove:s,onDeny:i,isUpdating:o=!1}){var f;if(!r)return null;const{label:l,variant:c,icon:u}=Hse[r.status],d=r.status==="pending";return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-md","aria-describedby":"approval-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Approval request"}),a.jsx(Be,{id:"approval-description",children:"Review and approve or deny this capability or execution request."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{variant:c,className:"gap-1",children:[a.jsx(u,{className:"h-3 w-3"}),l]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:Lr(new Date(r.created_at),{addSuffix:!0})})]}),a.jsxs("dl",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Action"}),a.jsx("dd",{className:"font-medium capitalize",children:r.action_type.replace(/_/g," ")})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Node"}),a.jsx("dd",{className:"font-medium",children:(n==null?void 0:n.name)??((f=n==null?void 0:n.id)==null?void 0:f.slice(0,8))??""})]}),r.capability_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Capability"}),a.jsxs("dd",{className:"font-medium",children:[r.capability_id.slice(0,8),""]})]})]})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>t(!1),children:"Close"}),d&&a.jsxs(a.Fragment,{children:[a.jsx(O,{variant:"outline",className:"text-destructive hover:bg-destructive/10 hover:text-destructive",onClick:()=>i(r.id),disabled:o,children:"Deny"}),a.jsx(O,{onClick:()=>s(r.id),disabled:o,children:o?"Updating":"Approve"})]})]})]})})}const Yse=xt({status:ar(["enabled","disabled","pending_approval"]),description:Ne().optional()});function Qse({open:e,onOpenChange:t,node:r,capability:n,onSubmit:s,isSubmitting:i=!1}){const o=vt({resolver:yt(Yse),defaultValues:{status:"enabled",description:""},values:n!=null?{status:n.status,description:n.description??""}:void 0});if(!r)return null;const l=n?Bn.getCapabilityDescription(n.capability_key):"";return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-md","aria-describedby":"capability-config-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Capability configuration"}),a.jsxs(Be,{id:"capability-config-description",children:["Update status and description for this capability on"," ",a.jsx("span",{className:"font-medium",children:r.name??"node"}),"."]})]}),a.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[n&&a.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 px-3 py-2 text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Capability: "}),a.jsx("span",{className:"font-medium capitalize",children:n.capability_key.replace(/_/g," ")}),l&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:l})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"cap-status",children:"Status"}),a.jsxs(mt,{value:o.watch("status"),onValueChange:c=>o.setValue("status",c),children:[a.jsx(ct,{id:"cap-status",children:a.jsx(pt,{})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"enabled",children:"Enabled"}),a.jsx(Ce,{value:"disabled",children:"Disabled"}),a.jsx(Ce,{value:"pending_approval",children:"Pending approval"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"cap-description",children:"Description (optional)"}),a.jsx(ye,{id:"cap-description",placeholder:"e.g. Remote exec for backup scripts",...o.register("description"),className:Z(o.formState.errors.description&&"border-destructive")}),o.formState.errors.description&&a.jsx("p",{className:"text-xs text-destructive",children:o.formState.errors.description.message})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(O,{type:"submit",disabled:i,children:i?"Saving":"Save"})]})]})]})})}const Xse={paired:"success",offline:"destructive",error:"warning"},Jse={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},Zse={voice_wake:Uh,talk_mode:Uh,remote_exec:bH,browser_proxy:Jy,camera_capture:iH};function eie(){const[e,t]=b.useState(!1),[r,n]=b.useState(null),[s,i]=b.useState(null),[o,l]=b.useState(!1),[c,u]=b.useState(null),[d,f]=b.useState(!1),[h,m]=b.useState(null),[g,p]=b.useState(!1),{data:v=[],isLoading:x}=$se(),{data:y}=Ise(s),{data:w=[]}=Fse(s),{data:S=[]}=Bse({status:"pending",limit:20}),j=zse(),_=Dse(),N=Lse(),k=Use(),C=qse(),T=S.find(R=>R.id===c),I=async()=>{try{const R=await j.mutateAsync();n(R)}catch{}},E=R=>{!s||!h||(k.mutate({node_id:s,capability_key:h.capability_key,status:R.status,description:R.description??null}),f(!1),m(null))},U=R=>{C.mutate({id:R,data:{status:"approved"}}),l(!1),u(null)},P=R=>{C.mutate({id:R,data:{status:"denied"}}),l(!1),u(null)},B=(R,z)=>{_.mutate({id:R,data:{connection_health:z}})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Nodes (Paired Devices)"}),a.jsxs(O,{onClick:()=>{n(null),t(!0)},children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Pair node"]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsxs(re,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Nodes list"}),a.jsx(we,{children:"Paired devices with capability badges. Select a node to manage capabilities and exec allowlist."})]}),a.jsx(ne,{children:x?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(R=>a.jsx(ve,{className:"h-16 w-full rounded-lg"},R))}):v.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx($i,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes. Use Pair node to add a device via QR or code."}),a.jsxs(O,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Pair node"]})]}):a.jsx(St,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:v.map(R=>a.jsxs("div",{className:Z("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",s===R.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>i(R.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx($i,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:R.name??`Node ${R.id.slice(0,8)}`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:R.last_active_at?`Last active ${Lr(new Date(R.last_active_at),{addSuffix:!0})}`:"Never"})]}),a.jsx(Qe,{variant:Xse[R.status],className:"shrink-0",children:R.status}),a.jsx(Qe,{variant:Jse[R.connection_health],className:"shrink-0",children:R.connection_health})]}),a.jsxs(ci,{children:[a.jsx(ui,{asChild:!0,children:a.jsxs(O,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(Ii,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ks,{align:"end",children:[a.jsxs(zt,{onClick:()=>{i(R.id),p(!0)},children:[a.jsx(FS,{className:"mr-2 h-4 w-4"}),"Connection health"]}),a.jsxs(zt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Unpair this device? This cannot be undone.")&&(N.mutate(R.id),s===R.id&&i(null))},children:[a.jsx(bn,{className:"mr-2 h-4 w-4"}),"Unpair"]})]})]})]},R.id))})})})]}),a.jsxs(re,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Pair node"}),a.jsx(we,{children:"QR on left, code and instructions on right, expiry countdown."})]}),a.jsx(ne,{children:a.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-border p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(DS,{className:"mx-auto h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start pairing to show QR and code."}),a.jsxs(O,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Start pairing"]})]})})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(re,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Capabilities"}),a.jsx(we,{children:"Enable or disable capabilities for the selected node."})]}),a.jsx(ne,{children:s?w.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ve,{className:"h-10 w-full"}),a.jsx(ve,{className:"h-10 w-full"}),a.jsx(ve,{className:"h-10 w-full"})]}):a.jsx("div",{className:"space-y-2",children:w.map(R=>{const z=Zse[R.capability_key]??$i;return a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:R.capability_key.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Bn.getCapabilityDescription(R.capability_key)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qe,{variant:R.status==="enabled"?"success":R.status==="pending_approval"?"warning":"secondary",children:R.status}),a.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{m(R),f(!0)},"aria-label":"Edit capability",children:a.jsx(ya,{className:"h-4 w-4"})})]})]},R.id)})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ya,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to manage capabilities."})]})})]}),a.jsxs(re,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Approval requests"}),a.jsx(we,{children:"Pending capability or execution requests."})]}),a.jsx(ne,{children:S.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(XI,{className:"mb-3 h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No pending approvals."})]}):a.jsx(St,{className:"h-[240px] pr-2",children:a.jsx("div",{className:"space-y-2",children:S.map(R=>a.jsxs("button",{type:"button",onClick:()=>{u(R.id),l(!0)},className:"flex w-full items-center justify-between rounded-lg border border-border p-3 text-left transition-colors hover:bg-card",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:R.action_type.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Lr(new Date(R.created_at),{addSuffix:!0})})]}),a.jsx(Qe,{variant:"secondary",children:R.status})]},R.id))})})})]})]})]}),a.jsx(Kse,{open:e,onOpenChange:t,pairingRequest:r,onStartPairing:I,isStartingPairing:j.isPending,onPaired:()=>{n(null),t(!1)}}),a.jsx(Gse,{open:o,onOpenChange:l,approval:T??null,node:T?v.find(R=>R.id===T.node_id)??null:null,onApprove:U,onDeny:P,isUpdating:C.isPending}),a.jsx(Qse,{open:d,onOpenChange:f,node:y??null,capability:h,onSubmit:E,isSubmitting:k.isPending}),a.jsx(b3,{node:y??null,open:g,onOpenChange:p,onUpdateHealth:B,isUpdating:_.isPending})]})}function tie({job:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=e.name||e.description||"Unnamed job",o=()=>{n(e.id),r(!1)};return a.jsx(ze,{open:t,onOpenChange:r,children:a.jsxs(Le,{"aria-describedby":"cron-delete-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Delete cron job?"}),a.jsxs(Be,{id:"cron-delete-description",children:['This will permanently delete "',i,'" and its run history. This action cannot be undone.']})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(O,{variant:"destructive",onClick:o,disabled:s,children:s?"Deleting":"Delete job"})]})]})})}const rie={running:{label:"Running",icon:fn,variant:"secondary"},completed:{label:"Completed",icon:Ko,variant:"default"},failed:{label:"Failed",icon:Qy,variant:"destructive"},aborted:{label:"Aborted",icon:rH,variant:"outline"}};function nie({jobId:e,runs:t,isLoading:r=!1,className:n}){return e?r?a.jsxs(re,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ie,{children:[a.jsx(ve,{className:"h-6 w-32"}),a.jsx(ve,{className:"h-4 w-48"})]}),a.jsx(ne,{className:"space-y-3",children:[1,2,3].map(s=>a.jsx(ve,{className:"h-20 w-full rounded-lg"},s))})]}):t.length?a.jsxs(re,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2 text-lg",children:[a.jsx(qf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(we,{children:"Past executions with output and logs. Newest first."})]}),a.jsx(ne,{children:a.jsx(St,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-3",children:t.map(s=>{const i=rie[s.status],o=i.icon;return a.jsxs("li",{className:"rounded-lg border border-border bg-secondary/30 p-4 transition-shadow hover:shadow-card",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{variant:i.variant,className:"gap-1",children:[s.status==="running"?a.jsx(o,{className:"h-3 w-3 animate-spin"}):a.jsx(o,{className:"h-3 w-3"}),i.label]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:Lr(new Date(s.execution_time),{addSuffix:!0})})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.execution_time).toLocaleString()})]}),s.output!=null&&s.output!==""||s.log!=null&&s.log!==""?a.jsxs("div",{className:"mt-3 space-y-2",children:[s.output!=null&&s.output!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Output"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono",children:s.output})]}),s.log!=null&&s.log!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Log"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono whitespace-pre-wrap",children:s.log})]})]}):null]},s.id)})})})})]}):a.jsxs(re,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2 text-lg",children:[a.jsx(qf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(we,{children:"Past executions for this job. Run the job to see entries here."})]}),a.jsx(ne,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(qf,{className:"h-10 w-10 text-muted-foreground/50"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No runs yet"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'Use "Run now" on a job to execute it and record history.'})]})})]}):a.jsxs(re,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2 text-lg",children:[a.jsx(qf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(we,{children:"Select a job to view its run history, or run a job to see entries here."})]}),a.jsx(ne,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No job selected. Run a job from the list above to see execution logs and output."})})]})}function sie(){const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState(null),[o,l]=b.useState(null),[c,u]=b.useState(null),[d,f]=b.useState(null),{data:h}=Sx(),m=(h==null?void 0:h.user_id)??"",{data:g=[],isLoading:p}=TF(),{data:v=[],isLoading:x}=xre(c??d,{limit:20}),y=RF(),w=vre(),S=yre(),j=bre(),_=()=>{i(null),t(!0)},N=P=>{i(P),t(!0)},k=P=>{s?w.mutate({id:s.id,data:P},{onSuccess:()=>{t(!1),i(null)}}):y.mutate(P,{onSuccess:()=>t(!1)})},C=P=>{l(P),n(!0)},T=P=>{S.mutate(P,{onSuccess:()=>{n(!1),l(null),c===P&&u(null)}})},I=P=>{f(P.id),j.mutate(P.id,{onSuccess:()=>{u(P.id),f(null)},onError:()=>f(null)})},E=P=>P.name||P.description||"Unnamed job",U=P=>P==="active"?"default":P==="paused"?"secondary":"destructive";return a.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Cron Jobs & Scheduler"}),a.jsxs(O,{onClick:_,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Create job"]})]}),a.jsxs(re,{className:"overflow-hidden rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Cron list"}),a.jsx(we,{children:"Scheduled jobs with run now, edit, and delete. Select a job to view run history below."})]}),a.jsx(ne,{className:"p-0",children:p?a.jsx("div",{className:"space-y-3 p-6",children:[1,2,3].map(P=>a.jsx(ve,{className:"h-16 w-full rounded-lg"},P))}):g.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[a.jsx("th",{className:"sticky top-0 z-10 bg-secondary/50 px-6 py-4 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Schedule"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Next run"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Session target"}),a.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),a.jsx("tbody",{children:g.map(P=>a.jsxs("tr",{className:Z("border-b border-border transition-colors hover:bg-secondary/30",c===P.id&&"bg-primary/5"),children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:E(P)}),P.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Un,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]})}),a.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:P.schedule}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(Qe,{variant:U(P.status),children:P.status})}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:P.next_run_time?Lr(new Date(P.next_run_time),{addSuffix:!0}):""}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:P.session_target||""}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>I(P),disabled:j.isPending&&d===P.id,className:"transition-transform hover:scale-[1.02]",children:[j.isPending&&d===P.id?a.jsx(Co,{className:"h-4 w-4 animate-spin"}):a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 hidden sm:inline",children:j.isPending&&d===P.id?"Running":"Run now"})]}),a.jsxs(ci,{children:[a.jsx(ui,{asChild:!0,children:a.jsx(O,{variant:"outline",size:"icon",className:"h-8 w-8",children:a.jsx(Ii,{className:"h-4 w-4"})})}),a.jsxs(ks,{align:"end",children:[a.jsxs(zt,{onClick:()=>N(P),children:[a.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(zt,{onClick:()=>{u(P.id)},children:[a.jsx(Co,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(zt,{className:"text-destructive focus:text-destructive",onClick:()=>C(P),children:[a.jsx(bn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},P.id))})]})}),a.jsx("div",{className:"space-y-3 p-4 md:hidden",children:g.map(P=>a.jsx(re,{className:Z("rounded-lg border border-border bg-card shadow-card transition-all hover:shadow-card-hover",c===P.id&&"ring-2 ring-primary"),children:a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:E(P)}),P.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Un,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]}),a.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:P.schedule}),a.jsx(Qe,{variant:U(P.status),className:"mt-2",children:P.status}),P.next_run_time&&a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Next: ",Lr(new Date(P.next_run_time),{addSuffix:!0})]})]}),a.jsxs(ci,{children:[a.jsx(ui,{asChild:!0,children:a.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(Ii,{className:"h-4 w-4"})})}),a.jsxs(ks,{align:"end",children:[a.jsxs(zt,{onClick:()=>I(P),children:[a.jsx(va,{className:"mr-2 h-4 w-4"}),"Run now"]}),a.jsxs(zt,{onClick:()=>N(P),children:[a.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(zt,{onClick:()=>u(P.id),children:[a.jsx(Co,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(zt,{className:"text-destructive focus:text-destructive",onClick:()=>C(P),children:[a.jsx(bn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>I(P),disabled:j.isPending&&d===P.id,children:[j.isPending&&d===P.id?a.jsx(Co,{className:"mr-1 h-4 w-4 animate-spin"}):a.jsx(va,{className:"mr-1 h-4 w-4"}),"Run now"]}),a.jsx(O,{variant:"outline",size:"sm",onClick:()=>N(P),children:"Edit"})]})]})},P.id))})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center border-t border-border py-16 text-center",children:[a.jsx(Gy,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsx("p",{className:"mt-4 text-sm font-medium",children:"No cron jobs yet"}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create a job to run skills on a schedule. Use the cron builder, payload, and session target."}),a.jsxs(O,{onClick:_,className:"mt-4",children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Create job"]})]})})]}),a.jsx(nie,{jobId:c??d,runs:v,isLoading:x}),a.jsx(x3,{open:e,onOpenChange:t,onSubmit:k,isSubmitting:y.isPending||w.isPending,userId:m,job:s}),a.jsx(tie,{job:o,open:r,onOpenChange:n,onConfirm:T,isDeleting:S.isPending})]})}function iie(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="wh_";for(let r=0;r<12;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}const Qi={getWebhooks:async()=>{const{data:e,error:t}=await q.from("webhooks").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWebhook:async e=>{const{data:t,error:r}=await q.from("webhooks").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWebhook:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r=iie(),s=`${typeof window<"u"?`${window.location.origin}/api/webhooks`:"/api/webhooks"}/${encodeURIComponent(e.route_name)}?token=${encodeURIComponent(r)}`,i={user_id:t.id,route_name:e.route_name,token_preview:r,token_hash:null,url:s,mapping_template:e.mapping_template??null,delivery_route:e.delivery_route??null},{data:o,error:l}=await q.from("webhooks").insert(i).select().single();if(l)throw new Error(l.message);return o},updateWebhook:async(e,t)=>{const{data:r,error:n}=await q.from("webhooks").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWebhook:async e=>{const{error:t}=await q.from("webhooks").delete().eq("id",e);if(t)throw new Error(t.message)},getHookScripts:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)return[];let r=q.from("hook_scripts").select("*").eq("user_id",t.id).order("event_trigger");e===null?r=r.is("webhook_id",null):e&&(r=r.or(`webhook_id.eq.${e},webhook_id.is.null`));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},getHookScript:async e=>{const{data:t,error:r}=await q.from("hook_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createHookScript:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("hook_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateHookScript:async(e,t)=>{const{data:r,error:n}=await q.from("hook_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteHookScript:async e=>{const{error:t}=await q.from("hook_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getPayloadTemplates:async e=>{if(!e)return[];const{data:t,error:r}=await q.from("payload_templates").select("*").eq("webhook_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getPayloadTemplate:async e=>{const{data:t,error:r}=await q.from("payload_templates").select("*").eq("webhook_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertPayloadTemplate:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r=await Qi.getPayloadTemplate(e.webhook_id);if(r){const{data:o,error:l}=await q.from("payload_templates").update({template_content:e.template_content??r.template_content}).eq("webhook_id",e.webhook_id).select().single();if(l)throw new Error(l.message);return o}const n={user_id:t.id,webhook_id:e.webhook_id,template_content:e.template_content??""},{data:s,error:i}=await q.from("payload_templates").insert(n).select().single();if(i)throw new Error(i.message);return s},updatePayloadTemplate:async(e,t)=>{const{data:r,error:n}=await q.from("payload_templates").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}};function aie(e,t){return e().catch(()=>t)}const $n={all:["webhooks"],list:()=>[...$n.all,"list"],detail:e=>[...$n.all,"detail",e],hookScripts:e=>[...$n.all,"hookScripts",e],payloadTemplate:e=>[...$n.all,"payloadTemplate",e]};function oie(){return Te({queryKey:$n.list(),queryFn:()=>aie(()=>Qi.getWebhooks(),[])})}function lie(){const e=be();return xe({mutationFn:t=>Qi.createWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:$n.list()}),W.success("Webhook created")},onError:t=>{W.error(t.message||"Failed to create webhook")}})}function cie(){const e=be();return xe({mutationFn:t=>Qi.deleteWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:$n.list()}),W.success("Webhook removed")},onError:t=>{W.error(t.message||"Failed to remove webhook")}})}function uie(e){return Te({queryKey:$n.hookScripts(e),queryFn:()=>Qi.getHookScripts(e)})}function die(){const e=be();return xe({mutationFn:t=>Qi.createHookScript(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:$n.hookScripts(r.webhook_id??null)}),W.success("Hook script added")},onError:t=>{W.error(t.message||"Failed to add hook script")}})}function fie(){const e=be();return xe({mutationFn:({id:t,data:r})=>Qi.updateHookScript(t,r),onSuccess:t=>{(t==null?void 0:t.webhook_id)!==void 0&&e.invalidateQueries({queryKey:$n.hookScripts(t.webhook_id)}),e.invalidateQueries({queryKey:$n.hookScripts(null)}),W.success("Hook script updated")},onError:t=>{W.error(t.message||"Failed to update hook script")}})}function hie(){const e=be();return xe({mutationFn:t=>Qi.deleteHookScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:$n.all}),W.success("Hook script removed")},onError:t=>{W.error(t.message||"Failed to remove hook script")}})}function mie(e){return Te({queryKey:$n.payloadTemplate(e??""),queryFn:()=>e?Qi.getPayloadTemplate(e):Promise.resolve(null),enabled:!!e})}function pie(){const e=be();return xe({mutationFn:t=>Qi.upsertPayloadTemplate(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:$n.payloadTemplate(r.webhook_id)}),W.success("Payload template saved")},onError:t=>{W.error(t.message||"Failed to save payload template")}})}const gie=xt({route_name:Ne().min(1,"Route name is required").regex(/^[a-z0-9_-]+$/i,"Use only letters, numbers, hyphens, and underscores"),mapping_template:Ne().optional(),delivery_route:Ne().optional()}),_w={route_name:"",mapping_template:"",delivery_route:""};function vie({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=vt({resolver:yt(gie),defaultValues:_w}),c=d=>{var f,h;r({route_name:d.route_name.trim(),mapping_template:((f=d.mapping_template)==null?void 0:f.trim())||null,delivery_route:((h=d.delivery_route)==null?void 0:h.trim())||null}),o(_w)},u=d=>{d||o(_w),t(d)};return a.jsx(ze,{open:e,onOpenChange:u,children:a.jsxs(Le,{className:"max-w-lg","aria-describedby":"create-webhook-form-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Create webhook"}),a.jsx(Be,{id:"create-webhook-form-description",children:"Add an inbound webhook endpoint. A token will be generated; configure delivery routing if needed."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"route_name",children:"Route name"}),a.jsx(ye,{id:"route_name",placeholder:"e.g. my-integration",...s("route_name"),className:l.route_name?"border-destructive":"",autoComplete:"off"}),l.route_name&&a.jsx("p",{className:"text-xs text-destructive",children:l.route_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"delivery_route",children:"Delivery route (optional)"}),a.jsx(ye,{id:"delivery_route",placeholder:"e.g. session or channel target",...s("delivery_route")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"mapping_template",children:"Mapping template (optional)"}),a.jsx("textarea",{id:"mapping_template",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"JSON or template for payload mapping",...s("mapping_template")})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"secondary",onClick:()=>u(!1),disabled:n,children:"Cancel"}),a.jsx(O,{type:"submit",disabled:n,children:n?"Creating":"Create webhook"})]})]})]})})}const yie=xt({event_trigger:Ne().min(1,"Event trigger is required"),language:ar(["javascript","python"]),script_content:Ne(),webhook_id:Ne().nullable()}),xie=["/new","/reset","start","end","before_run","after_run"],zp={event_trigger:"/new",language:"javascript",script_content:"",webhook_id:null};function bie({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,script:s=null,webhooks:i}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=vt({resolver:yt(yie),defaultValues:zp}),h=u("language"),m=u("webhook_id");b.useEffect(()=>{d(s?{event_trigger:s.event_trigger,language:s.language,script_content:s.script_content??"",webhook_id:s.webhook_id??null}:zp)},[s,e,d]);const g=v=>{r(v),s||d(zp),t(!1)},p=v=>{v||d(zp),t(v)};return a.jsx(ze,{open:e,onOpenChange:p,children:a.jsxs(Le,{className:"max-w-2xl max-h-[90vh] flex flex-col","aria-describedby":"hook-script-editor-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:s?"Edit hook script":"Add hook script"}),a.jsx(Be,{id:"hook-script-editor-description",children:"Sandboxed script (JavaScript or Python) for lifecycle events. Runs in a restricted environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"flex flex-col flex-1 min-h-0 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"event_trigger",children:"Event trigger"}),a.jsxs(mt,{value:u("event_trigger"),onValueChange:v=>c("event_trigger",v),children:[a.jsx(ct,{id:"event_trigger",className:f.event_trigger?"border-destructive":"",children:a.jsx(pt,{placeholder:"Select trigger"})}),a.jsx(ut,{children:xie.map(v=>a.jsx(Ce,{value:v,children:v},v))})]}),f.event_trigger&&a.jsx("p",{className:"text-xs text-destructive",children:f.event_trigger.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"language",children:"Language"}),a.jsxs(mt,{value:h,onValueChange:v=>c("language",v),children:[a.jsx(ct,{id:"language",children:a.jsx(pt,{})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"javascript",children:"JavaScript"}),a.jsx(Ce,{value:"python",children:"Python"})]})]})]})]}),i.length>0&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"webhook_id",children:"Webhook (optional)"}),a.jsxs(mt,{value:m??"none",onValueChange:v=>c("webhook_id",v==="none"?null:v),children:[a.jsx(ct,{id:"webhook_id",children:a.jsx(pt,{placeholder:"Global (all webhooks)"})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"none",children:"Global (all webhooks)"}),i.map(v=>a.jsx(Ce,{value:v.id,children:v.route_name},v.id))]})]})]}),a.jsxs("div",{className:"grid gap-2 flex-1 min-h-[200px]",children:[a.jsx(Y,{htmlFor:"script_content",children:"Script content"}),a.jsx("textarea",{id:"script_content",className:"flex w-full flex-1 min-h-[200px] rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:h==="javascript"?"// e.g. return { ...payload };":"# e.g. return { **payload }",...o("script_content"),spellCheck:!1})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"secondary",onClick:()=>p(!1),disabled:n,children:"Cancel"}),a.jsx(O,{type:"submit",disabled:n,children:n?"Saving":s?"Save":"Add script"})]})]})]})})}function wie({webhooks:e,isLoadingWebhooks:t=!1}){const[r,n]=b.useState(null),[s,i]=b.useState(null),{data:o,isLoading:l}=mie(r),c=pie(),u=s!==null?s:(o==null?void 0:o.template_content)??"",d=()=>{r&&c.mutate({webhook_id:r,template_content:u},{onSuccess:()=>i(null)})},f=r&&u!==((o==null?void 0:o.template_content)??"");return a.jsxs(re,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(oH,{className:"h-5 w-5 text-muted-foreground"}),"Payload transformer"]}),a.jsx(we,{children:"Edit transformation templates per webhook. Preview and save to apply."})]}),a.jsxs(ne,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"payload-webhook",children:"Webhook"}),t?a.jsx(ve,{className:"h-10 w-full rounded-md"}):a.jsxs(mt,{value:r??"",onValueChange:h=>{n(h||null),i(null)},children:[a.jsx(ct,{id:"payload-webhook",children:a.jsx(pt,{placeholder:"Select a webhook"})}),a.jsx(ut,{children:e.length===0?a.jsx(Ce,{value:"_none",disabled:!0,children:"No webhooks  create one first"}):e.map(h=>a.jsx(Ce,{value:h.id,children:h.route_name},h.id))})]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"template_content",children:"Template content"}),l?a.jsx(ve,{className:"h-[200px] w-full rounded-md"}):a.jsx("textarea",{id:"template_content",rows:10,className:Z("flex w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),placeholder:"JSON or template (e.g. Handlebars) for payload mapping",value:u,onChange:h=>i(h.target.value),spellCheck:!1})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(O,{onClick:d,disabled:c.isPending||!f&&!o,children:c.isPending?"Saving":a.jsxs(a.Fragment,{children:[a.jsx(YI,{className:"mr-2 h-4 w-4"}),"Save template"]})})})]}),!r&&e.length>0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a webhook above to edit its payload transformation template."}),!r&&e.length===0&&!t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a webhook in the Endpoints tab first, then select it here to add a transformation template."})]})]})}function jie(){const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState(null),[o,l]=b.useState(null),{data:c=[],isLoading:u}=oie(),{data:d=[],isLoading:f}=uie(null),h=lie(),m=cie(),g=die(),p=fie(),v=hie(),x=async _=>{await h.mutateAsync(_),t(!1)},y=_=>{navigator.clipboard.writeText(_),l(_),W.success("URL copied"),setTimeout(()=>l(null),2e3)},w=_=>{s?p.mutate({id:s.id,data:{event_trigger:_.event_trigger,language:_.language,script_content:_.script_content,webhook_id:_.webhook_id}},{onSuccess:()=>{i(null),n(!1)}}):g.mutate({event_trigger:_.event_trigger,language:_.language,script_content:_.script_content,webhook_id:_.webhook_id},{onSuccess:()=>n(!1)})},S=_=>{i(_),n(!0)},j=()=>{i(null),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Webhooks & Hooks"}),a.jsxs(O,{onClick:()=>t(!0),children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}),a.jsxs(Ba,{defaultValue:"endpoints",className:"space-y-4",children:[a.jsxs(Yi,{className:"grid w-full max-w-2xl grid-cols-4",children:[a.jsx(At,{value:"endpoints",children:"Endpoints"}),a.jsx(At,{value:"hooks",children:"Hook scripts"}),a.jsx(At,{value:"transform",children:"Payload transformer"}),a.jsx(At,{value:"gmail",children:"Gmail Pub/Sub"})]}),a.jsx(Tt,{value:"endpoints",className:"space-y-4",children:a.jsxs(re,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(Oj,{className:"h-5 w-5 text-muted-foreground"}),"Webhook endpoints"]}),a.jsx(we,{children:"List (token), create webhook modal. URL, token preview, last received, mapping."})]}),a.jsx(ne,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(_=>a.jsx(ve,{className:"h-20 w-full rounded-lg"},_))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Oj,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No webhooks. Create one to receive inbound events."}),a.jsxs(O,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}):a.jsx(St,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-3",children:c.map(_=>a.jsx("div",{className:"flex flex-col gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-card/80",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:_.route_name}),a.jsx("p",{className:"mt-1 truncate font-mono text-xs text-muted-foreground",children:_.url}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"font-mono",children:["Token: ",_.token_preview]}),_.last_received_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Gy,{className:"h-3 w-3"}),"Last received"," ",Lr(new Date(_.last_received_at),{addSuffix:!0})]})]}),_.mapping_template&&a.jsx(Qe,{variant:"secondary",className:"mt-2",children:"Mapping"})]}),a.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[a.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>y(_.url),"aria-label":"Copy URL",children:o===_.url?a.jsx(Bm,{className:"h-4 w-4 text-success"}):a.jsx(BI,{className:"h-4 w-4"})}),a.jsxs(ci,{children:[a.jsx(ui,{asChild:!0,children:a.jsxs(O,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(Ii,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsx(ks,{align:"end",children:a.jsxs(zt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this webhook?")&&m.mutate(_.id)},children:[a.jsx(bn,{className:"mr-2 h-4 w-4"}),"Remove"]})})]})]})]})},_.id))})})})]})}),a.jsx(Tt,{value:"hooks",className:"space-y-4",children:a.jsxs(re,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(qE,{className:"h-5 w-5 text-muted-foreground"}),"Hook scripts editor"]}),a.jsx(we,{children:"Sandbox environment for lifecycle hooks (restricted JS/Python). Event triggers: /new, /reset, start, end."})]}),a.jsxs(ne,{children:[a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsxs(O,{onClick:j,children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Add hook script"]})}),f?a.jsx("div",{className:"space-y-3",children:[1,2].map(_=>a.jsx(ve,{className:"h-16 w-full rounded-lg"},_))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(qE,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No hook scripts. Add one for lifecycle events (/new, /reset, start, end)."}),a.jsxs(O,{className:"mt-4",variant:"outline",onClick:j,children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Add hook script"]})]}):a.jsx(St,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"space-y-2",children:d.map(_=>{var N;return a.jsxs("div",{className:Z("flex items-center justify-between gap-2 rounded-lg border border-border p-3 transition-colors hover:bg-card/80"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:_.event_trigger}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.language,_.webhook_id?`  Webhook: ${((N=c.find(k=>k.id===_.webhook_id))==null?void 0:N.route_name)??_.webhook_id}`:"  Global"]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(O,{variant:"ghost",size:"sm",onClick:()=>S(_),children:"Edit"}),a.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>{window.confirm("Remove this hook script?")&&v.mutate(_.id)},"aria-label":"Remove script",children:a.jsx(bn,{className:"h-4 w-4"})})]})]},_.id)})})})]})]})}),a.jsx(Tt,{value:"transform",className:"space-y-4",children:a.jsx(wie,{webhooks:c,isLoadingWebhooks:u})}),a.jsx(Tt,{value:"gmail",className:"space-y-4",children:a.jsxs(re,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(Hu,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub guided setup"]}),a.jsx(we,{children:"Guided flow for Gmail Pub/Sub integration. Connect your Gmail account and configure webhook delivery."})]}),a.jsx(ne,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Hu,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gmail Pub/Sub setup will be available here. Create a webhook first, then link it to Gmail."}),a.jsx(O,{className:"mt-4",variant:"outline",disabled:!0,children:"Coming soon"})]})})]})})]}),a.jsx(vie,{open:e,onOpenChange:t,onSubmit:x,isSubmitting:h.isPending}),a.jsx(bie,{open:r,onOpenChange:_=>{n(_),_||i(null)},onSubmit:w,isSubmitting:g.isPending||p.isPending,script:s,webhooks:c})]})}var _ie=Array.isArray,qn=_ie,Sie=typeof op=="object"&&op&&op.Object===Object&&op,E3=Sie,Nie=E3,kie=typeof self=="object"&&self&&self.Object===Object&&self,Cie=Nie||kie||Function("return this")(),Xi=Cie,Eie=Xi,Oie=Eie.Symbol,Jm=Oie,gO=Jm,O3=Object.prototype,Pie=O3.hasOwnProperty,Aie=O3.toString,jf=gO?gO.toStringTag:void 0;function Tie(e){var t=Pie.call(e,jf),r=e[jf];try{e[jf]=void 0;var n=!0}catch{}var s=Aie.call(e);return n&&(t?e[jf]=r:delete e[jf]),s}var Rie=Tie,Mie=Object.prototype,$ie=Mie.toString;function Iie(e){return $ie.call(e)}var Die=Iie,vO=Jm,Lie=Rie,Fie=Die,Uie="[object Null]",Bie="[object Undefined]",yO=vO?vO.toStringTag:void 0;function qie(e){return e==null?e===void 0?Bie:Uie:yO&&yO in Object(e)?Lie(e):Fie(e)}var za=qie;function zie(e){return e!=null&&typeof e=="object"}var Wa=zie,Wie=za,Vie=Wa,Kie="[object Symbol]";function Hie(e){return typeof e=="symbol"||Vie(e)&&Wie(e)==Kie}var qd=Hie,Gie=qn,Yie=qd,Qie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xie=/^\w*$/;function Jie(e,t){if(Gie(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Yie(e)?!0:Xie.test(e)||!Qie.test(e)||t!=null&&e in Object(t)}var ON=Jie;function Zie(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var sl=Zie;const zd=Ut(sl);var eae=za,tae=sl,rae="[object AsyncFunction]",nae="[object Function]",sae="[object GeneratorFunction]",iae="[object Proxy]";function aae(e){if(!tae(e))return!1;var t=eae(e);return t==nae||t==sae||t==rae||t==iae}var PN=aae;const nt=Ut(PN);var oae=Xi,lae=oae["__core-js_shared__"],cae=lae,Sw=cae,xO=function(){var e=/[^.]+$/.exec(Sw&&Sw.keys&&Sw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function uae(e){return!!xO&&xO in e}var dae=uae,fae=Function.prototype,hae=fae.toString;function mae(e){if(e!=null){try{return hae.call(e)}catch{}try{return e+""}catch{}}return""}var P3=mae,pae=PN,gae=dae,vae=sl,yae=P3,xae=/[\\^$.*+?()[\]{}|]/g,bae=/^\[object .+?Constructor\]$/,wae=Function.prototype,jae=Object.prototype,_ae=wae.toString,Sae=jae.hasOwnProperty,Nae=RegExp("^"+_ae.call(Sae).replace(xae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kae(e){if(!vae(e)||gae(e))return!1;var t=pae(e)?Nae:bae;return t.test(yae(e))}var Cae=kae;function Eae(e,t){return e==null?void 0:e[t]}var Oae=Eae,Pae=Cae,Aae=Oae;function Tae(e,t){var r=Aae(e,t);return Pae(r)?r:void 0}var bc=Tae,Rae=bc,Mae=Rae(Object,"create"),Ox=Mae,bO=Ox;function $ae(){this.__data__=bO?bO(null):{},this.size=0}var Iae=$ae;function Dae(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Lae=Dae,Fae=Ox,Uae="__lodash_hash_undefined__",Bae=Object.prototype,qae=Bae.hasOwnProperty;function zae(e){var t=this.__data__;if(Fae){var r=t[e];return r===Uae?void 0:r}return qae.call(t,e)?t[e]:void 0}var Wae=zae,Vae=Ox,Kae=Object.prototype,Hae=Kae.hasOwnProperty;function Gae(e){var t=this.__data__;return Vae?t[e]!==void 0:Hae.call(t,e)}var Yae=Gae,Qae=Ox,Xae="__lodash_hash_undefined__";function Jae(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Qae&&t===void 0?Xae:t,this}var Zae=Jae,eoe=Iae,toe=Lae,roe=Wae,noe=Yae,soe=Zae;function Wd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wd.prototype.clear=eoe;Wd.prototype.delete=toe;Wd.prototype.get=roe;Wd.prototype.has=noe;Wd.prototype.set=soe;var ioe=Wd;function aoe(){this.__data__=[],this.size=0}var ooe=aoe;function loe(e,t){return e===t||e!==e&&t!==t}var AN=loe,coe=AN;function uoe(e,t){for(var r=e.length;r--;)if(coe(e[r][0],t))return r;return-1}var Px=uoe,doe=Px,foe=Array.prototype,hoe=foe.splice;function moe(e){var t=this.__data__,r=doe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():hoe.call(t,r,1),--this.size,!0}var poe=moe,goe=Px;function voe(e){var t=this.__data__,r=goe(t,e);return r<0?void 0:t[r][1]}var yoe=voe,xoe=Px;function boe(e){return xoe(this.__data__,e)>-1}var woe=boe,joe=Px;function _oe(e,t){var r=this.__data__,n=joe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Soe=_oe,Noe=ooe,koe=poe,Coe=yoe,Eoe=woe,Ooe=Soe;function Vd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vd.prototype.clear=Noe;Vd.prototype.delete=koe;Vd.prototype.get=Coe;Vd.prototype.has=Eoe;Vd.prototype.set=Ooe;var Ax=Vd,Poe=bc,Aoe=Xi,Toe=Poe(Aoe,"Map"),TN=Toe,wO=ioe,Roe=Ax,Moe=TN;function $oe(){this.size=0,this.__data__={hash:new wO,map:new(Moe||Roe),string:new wO}}var Ioe=$oe;function Doe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Loe=Doe,Foe=Loe;function Uoe(e,t){var r=e.__data__;return Foe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Tx=Uoe,Boe=Tx;function qoe(e){var t=Boe(this,e).delete(e);return this.size-=t?1:0,t}var zoe=qoe,Woe=Tx;function Voe(e){return Woe(this,e).get(e)}var Koe=Voe,Hoe=Tx;function Goe(e){return Hoe(this,e).has(e)}var Yoe=Goe,Qoe=Tx;function Xoe(e,t){var r=Qoe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Joe=Xoe,Zoe=Ioe,ele=zoe,tle=Koe,rle=Yoe,nle=Joe;function Kd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Kd.prototype.clear=Zoe;Kd.prototype.delete=ele;Kd.prototype.get=tle;Kd.prototype.has=rle;Kd.prototype.set=nle;var RN=Kd,A3=RN,sle="Expected a function";function MN(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(sle);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(MN.Cache||A3),r}MN.Cache=A3;var T3=MN;const ile=Ut(T3);var ale=T3,ole=500;function lle(e){var t=ale(e,function(n){return r.size===ole&&r.clear(),n}),r=t.cache;return t}var cle=lle,ule=cle,dle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fle=/\\(\\)?/g,hle=ule(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(dle,function(r,n,s,i){t.push(s?i.replace(fle,"$1"):n||r)}),t}),mle=hle;function ple(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var $N=ple,jO=Jm,gle=$N,vle=qn,yle=qd,_O=jO?jO.prototype:void 0,SO=_O?_O.toString:void 0;function R3(e){if(typeof e=="string")return e;if(vle(e))return gle(e,R3)+"";if(yle(e))return SO?SO.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var xle=R3,ble=xle;function wle(e){return e==null?"":ble(e)}var M3=wle,jle=qn,_le=ON,Sle=mle,Nle=M3;function kle(e,t){return jle(e)?e:_le(e,t)?[e]:Sle(Nle(e))}var $3=kle,Cle=qd;function Ele(e){if(typeof e=="string"||Cle(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Rx=Ele,Ole=$3,Ple=Rx;function Ale(e,t){t=Ole(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ple(t[r++])];return r&&r==n?e:void 0}var IN=Ale,Tle=IN;function Rle(e,t,r){var n=e==null?void 0:Tle(e,t);return n===void 0?r:n}var I3=Rle;const Cs=Ut(I3);function Mle(e){return e==null}var $le=Mle;const lt=Ut($le);var Ile=za,Dle=qn,Lle=Wa,Fle="[object String]";function Ule(e){return typeof e=="string"||!Dle(e)&&Lle(e)&&Ile(e)==Fle}var Ble=Ule;const lc=Ut(Ble);var D3={exports:{}},It={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN=Symbol.for("react.element"),LN=Symbol.for("react.portal"),Mx=Symbol.for("react.fragment"),$x=Symbol.for("react.strict_mode"),Ix=Symbol.for("react.profiler"),Dx=Symbol.for("react.provider"),Lx=Symbol.for("react.context"),qle=Symbol.for("react.server_context"),Fx=Symbol.for("react.forward_ref"),Ux=Symbol.for("react.suspense"),Bx=Symbol.for("react.suspense_list"),qx=Symbol.for("react.memo"),zx=Symbol.for("react.lazy"),zle=Symbol.for("react.offscreen"),L3;L3=Symbol.for("react.module.reference");function Ms(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case DN:switch(e=e.type,e){case Mx:case Ix:case $x:case Ux:case Bx:return e;default:switch(e=e&&e.$$typeof,e){case qle:case Lx:case Fx:case zx:case qx:case Dx:return e;default:return t}}case LN:return t}}}It.ContextConsumer=Lx;It.ContextProvider=Dx;It.Element=DN;It.ForwardRef=Fx;It.Fragment=Mx;It.Lazy=zx;It.Memo=qx;It.Portal=LN;It.Profiler=Ix;It.StrictMode=$x;It.Suspense=Ux;It.SuspenseList=Bx;It.isAsyncMode=function(){return!1};It.isConcurrentMode=function(){return!1};It.isContextConsumer=function(e){return Ms(e)===Lx};It.isContextProvider=function(e){return Ms(e)===Dx};It.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===DN};It.isForwardRef=function(e){return Ms(e)===Fx};It.isFragment=function(e){return Ms(e)===Mx};It.isLazy=function(e){return Ms(e)===zx};It.isMemo=function(e){return Ms(e)===qx};It.isPortal=function(e){return Ms(e)===LN};It.isProfiler=function(e){return Ms(e)===Ix};It.isStrictMode=function(e){return Ms(e)===$x};It.isSuspense=function(e){return Ms(e)===Ux};It.isSuspenseList=function(e){return Ms(e)===Bx};It.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mx||e===Ix||e===$x||e===Ux||e===Bx||e===zle||typeof e=="object"&&e!==null&&(e.$$typeof===zx||e.$$typeof===qx||e.$$typeof===Dx||e.$$typeof===Lx||e.$$typeof===Fx||e.$$typeof===L3||e.getModuleId!==void 0)};It.typeOf=Ms;D3.exports=It;var Wle=D3.exports,Vle=za,Kle=Wa,Hle="[object Number]";function Gle(e){return typeof e=="number"||Kle(e)&&Vle(e)==Hle}var F3=Gle;const Yle=Ut(F3);var Qle=F3;function Xle(e){return Qle(e)&&e!=+e}var Jle=Xle;const Hd=Ut(Jle);var ii=function(t){return t===0?0:t>0?1:-1},Ol=function(t){return lc(t)&&t.indexOf("%")===t.length-1},me=function(t){return Yle(t)&&!Hd(t)},Zle=function(t){return lt(t)},Dr=function(t){return me(t)||lc(t)},ece=0,Zm=function(t){var r=++ece;return"".concat(t||"").concat(r)},cc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!me(t)&&!lc(t))return n;var i;if(Ol(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Hd(i)&&(i=n),s&&i>r&&(i=r),i},mo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},tce=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},bs=function(t,r){return me(t)&&me(r)?function(n){return t+n*(r-t)}:function(){return r}};function _v(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Cs(n,t))===r})}var rce=function(t,r){return me(t)&&me(r)?t-r:lc(t)&&lc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ju(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Zj(e){"@babel/helpers - typeof";return Zj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zj(e)}var nce=["viewBox","children"],sce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NO=["points","pathLength"],Nw={svg:nce,polygon:NO,polyline:NO},FN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Sv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),!zd(n))return null;var s={};return Object.keys(n).forEach(function(i){FN.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},ice=function(t,r,n){return function(s){return t(r,n,s),null}},Nv=function(t,r,n){if(!zd(t)||Zj(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];FN.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=ice(o,r,n))}),s},ace=["children"],oce=["children"];function kO(e,t){if(e==null)return{};var r=lce(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e_(e){"@babel/helpers - typeof";return e_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e_(e)}var CO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},EO=null,kw=null,UN=function e(t){if(t===EO&&Array.isArray(kw))return kw;var r=[];return b.Children.forEach(t,function(n){lt(n)||(Wle.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),kw=r,EO=t,r};function di(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return xa(s)}):n=[xa(t)],UN(e).forEach(function(s){var i=Cs(s,"type.displayName")||Cs(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Gn(e,t){var r=di(e,t);return r&&r[0]}var OO=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!me(n)||n<=0||!me(s)||s<=0)},cce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],uce=function(t){return t&&t.type&&lc(t.type)&&cce.indexOf(t.type)>=0},dce=function(t){return t&&e_(t)==="object"&&"clipDot"in t},fce=function(t,r,n,s){var i,o=(i=Nw==null?void 0:Nw[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!nt(t)&&(s&&o.includes(r)||sce.includes(r))||n&&FN.includes(r)},at=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(b.isValidElement(t)&&(s=t.props),!zd(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;fce((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},t_=function e(t,r){if(t===r)return!0;var n=b.Children.count(t);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return PO(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!PO(i,o))return!1}return!0},PO=function(t,r){if(lt(t)&&lt(r))return!0;if(!lt(t)&&!lt(r)){var n=t.props||{},s=n.children,i=kO(n,ace),o=r.props||{},l=o.children,c=kO(o,oce);return s&&l?ju(i,c)&&t_(s,l):!s&&!l?ju(i,c):!1}return!1},AO=function(t,r){var n=[],s={};return UN(t).forEach(function(i,o){if(uce(i))n.push(i);else if(i){var l=xa(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},hce=function(t){var r=t&&t.type;return r&&CO[r]?CO[r]:null},mce=function(t,r){return UN(r).indexOf(t)},pce=["children","width","height","viewBox","className","style","title","desc"];function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(this,arguments)}function gce(e,t){if(e==null)return{};var r=vce(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n_(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=gce(e,pce),d=s||{width:r,height:n,x:0,y:0},f=ht("recharts-surface",i);return A.createElement("svg",r_({},at(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),A.createElement("title",null,l),A.createElement("desc",null,c),t)}var yce=["children","className"];function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s_.apply(this,arguments)}function xce(e,t){if(e==null)return{};var r=bce(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cr=A.forwardRef(function(e,t){var r=e.children,n=e.className,s=xce(e,yce),i=ht("recharts-layer",n);return A.createElement("g",s_({className:i},at(s,!0),{ref:t}),r)}),ba=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function wce(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var jce=wce,_ce=jce;function Sce(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:_ce(e,t,r)}var Nce=Sce,kce="\\ud800-\\udfff",Cce="\\u0300-\\u036f",Ece="\\ufe20-\\ufe2f",Oce="\\u20d0-\\u20ff",Pce=Cce+Ece+Oce,Ace="\\ufe0e\\ufe0f",Tce="\\u200d",Rce=RegExp("["+Tce+kce+Pce+Ace+"]");function Mce(e){return Rce.test(e)}var U3=Mce;function $ce(e){return e.split("")}var Ice=$ce,B3="\\ud800-\\udfff",Dce="\\u0300-\\u036f",Lce="\\ufe20-\\ufe2f",Fce="\\u20d0-\\u20ff",Uce=Dce+Lce+Fce,Bce="\\ufe0e\\ufe0f",qce="["+B3+"]",i_="["+Uce+"]",a_="\\ud83c[\\udffb-\\udfff]",zce="(?:"+i_+"|"+a_+")",q3="[^"+B3+"]",z3="(?:\\ud83c[\\udde6-\\uddff]){2}",W3="[\\ud800-\\udbff][\\udc00-\\udfff]",Wce="\\u200d",V3=zce+"?",K3="["+Bce+"]?",Vce="(?:"+Wce+"(?:"+[q3,z3,W3].join("|")+")"+K3+V3+")*",Kce=K3+V3+Vce,Hce="(?:"+[q3+i_+"?",i_,z3,W3,qce].join("|")+")",Gce=RegExp(a_+"(?="+a_+")|"+Hce+Kce,"g");function Yce(e){return e.match(Gce)||[]}var Qce=Yce,Xce=Ice,Jce=U3,Zce=Qce;function eue(e){return Jce(e)?Zce(e):Xce(e)}var tue=eue,rue=Nce,nue=U3,sue=tue,iue=M3;function aue(e){return function(t){t=iue(t);var r=nue(t)?sue(t):void 0,n=r?r[0]:t.charAt(0),s=r?rue(r,1).join(""):t.slice(1);return n[e]()+s}}var oue=aue,lue=oue,cue=lue("toUpperCase"),uue=cue;const Wx=Ut(uue);function Ht(e){return function(){return e}}const H3=Math.cos,kv=Math.sin,yi=Math.sqrt,Cv=Math.PI,Vx=2*Cv,o_=Math.PI,l_=2*o_,vl=1e-6,due=l_-vl;function G3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function fue(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return G3;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class hue{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?G3:fue(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>vl)if(!(Math.abs(f*c-u*d)>vl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=s-l,p=c*c+u*u,v=m*m+g*g,x=Math.sqrt(p),y=Math.sqrt(h),w=i*Math.tan((o_-Math.acos((p+h-v)/(2*x*y)))/2),S=w/y,j=w/x;Math.abs(S-1)>vl&&this._append`L${t+S*d},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>vl||Math.abs(this._y1-d)>vl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%l_+l_),h>due?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>vl&&this._append`A${n},${n},0,${+(h>=o_)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function BN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new hue(t)}function qN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Y3(e){this._context=e}Y3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Kx(e){return new Y3(e)}function Q3(e){return e[0]}function X3(e){return e[1]}function J3(e,t){var r=Ht(!0),n=null,s=Kx,i=null,o=BN(l);e=typeof e=="function"?e:e===void 0?Q3:Ht(e),t=typeof t=="function"?t:t===void 0?X3:Ht(t);function l(c){var u,d=(c=qN(c)).length,f,h=!1,m;for(n==null&&(i=s(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ht(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ht(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ht(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Wp(e,t,r){var n=null,s=Ht(!0),i=null,o=Kx,l=null,c=BN(u);e=typeof e=="function"?e:e===void 0?Q3:Ht(+e),t=typeof t=="function"?t:Ht(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?X3:Ht(+r);function u(f){var h,m,g,p=(f=qN(f)).length,v,x=!1,y,w=new Array(p),S=new Array(p);for(i==null&&(l=o(y=c())),h=0;h<=p;++h){if(!(h<p&&s(v=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],S[g]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(v,h,f),S[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):S[h]))}if(y)return l=null,y+""||null}function d(){return J3().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ht(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ht(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ht(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ht(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ht(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ht(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Ht(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class Z3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function mue(e){return new Z3(e,!0)}function pue(e){return new Z3(e,!1)}const zN={draw(e,t){const r=yi(t/Cv);e.moveTo(r,0),e.arc(0,0,r,0,Vx)}},gue={draw(e,t){const r=yi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},e5=yi(1/3),vue=e5*2,yue={draw(e,t){const r=yi(t/vue),n=r*e5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},xue={draw(e,t){const r=yi(t),n=-r/2;e.rect(n,n,r,r)}},bue=.8908130915292852,t5=kv(Cv/10)/kv(7*Cv/10),wue=kv(Vx/10)*t5,jue=-H3(Vx/10)*t5,_ue={draw(e,t){const r=yi(t*bue),n=wue*r,s=jue*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Vx*i/5,l=H3(o),c=kv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Cw=yi(3),Sue={draw(e,t){const r=-yi(t/(Cw*3));e.moveTo(0,r*2),e.lineTo(-Cw*r,-r),e.lineTo(Cw*r,-r),e.closePath()}},fs=-.5,hs=yi(3)/2,c_=1/yi(12),Nue=(c_/2+1)*3,kue={draw(e,t){const r=yi(t/Nue),n=r/2,s=r*c_,i=n,o=r*c_+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(fs*n-hs*s,hs*n+fs*s),e.lineTo(fs*i-hs*o,hs*i+fs*o),e.lineTo(fs*l-hs*c,hs*l+fs*c),e.lineTo(fs*n+hs*s,fs*s-hs*n),e.lineTo(fs*i+hs*o,fs*o-hs*i),e.lineTo(fs*l+hs*c,fs*c-hs*l),e.closePath()}};function Cue(e,t){let r=null,n=BN(s);e=typeof e=="function"?e:Ht(e||zN),t=typeof t=="function"?t:Ht(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ht(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ht(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Ev(){}function Ov(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function r5(e){this._context=e}r5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ov(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Eue(e){return new r5(e)}function n5(e){this._context=e}n5.prototype={areaStart:Ev,areaEnd:Ev,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ov(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Oue(e){return new n5(e)}function s5(e){this._context=e}s5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ov(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pue(e){return new s5(e)}function i5(e){this._context=e}i5.prototype={areaStart:Ev,areaEnd:Ev,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Aue(e){return new i5(e)}function TO(e){return e<0?-1:1}function RO(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(TO(i)+TO(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function MO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ew(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Pv(e){this._context=e}Pv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ew(this,this._t0,MO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ew(this,MO(this,r=RO(this,e,t)),r);break;default:Ew(this,this._t0,r=RO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function a5(e){this._context=new o5(e)}(a5.prototype=Object.create(Pv.prototype)).point=function(e,t){Pv.prototype.point.call(this,t,e)};function o5(e){this._context=e}o5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function Tue(e){return new Pv(e)}function Rue(e){return new a5(e)}function l5(e){this._context=e}l5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=$O(e),s=$O(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $O(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function Mue(e){return new l5(e)}function Hx(e,t){this._context=e,this._t=t}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function $ue(e){return new Hx(e,.5)}function Iue(e){return new Hx(e,0)}function Due(e){return new Hx(e,1)}function sd(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function u_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Lue(e,t){return e[t]}function Fue(e){const t=[];return t.key=e,t}function Uue(){var e=Ht([]),t=u_,r=sd,n=Lue;function s(i){var o=Array.from(e.apply(this,arguments),Fue),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=qN(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ht(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ht(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?u_:typeof i=="function"?i:Ht(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??sd,s):r},s}function Bue(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}sd(e,t)}}function que(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}sd(e,t)}}function zue(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,x=p[n-1][1]||0;m+=v-x}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,sd(e,t)}}function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}var Wue=["type","size","sizeType"];function d_(){return d_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d_.apply(this,arguments)}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function DO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){Vue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vue(e,t,r){return t=Kue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kue(e){var t=Hue(e,"string");return Hh(t)=="symbol"?t:t+""}function Hue(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gue(e,t){if(e==null)return{};var r=Yue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var c5={symbolCircle:zN,symbolCross:gue,symbolDiamond:yue,symbolSquare:xue,symbolStar:_ue,symbolTriangle:Sue,symbolWye:kue},Que=Math.PI/180,Xue=function(t){var r="symbol".concat(Wx(t));return c5[r]||zN},Jue=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Que;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Zue=function(t,r){c5["symbol".concat(Wx(t))]=r},WN=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=Gue(t,Wue),u=DO(DO({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=Xue(n),x=Cue().type(v).size(Jue(i,l,n));return x()},f=u.className,h=u.cx,m=u.cy,g=at(u,!0);return h===+h&&m===+m&&i===+i?A.createElement("path",d_({},g,{className:ht("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};WN.registerSymbol=Zue;function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f_.apply(this,arguments)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ede(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){Gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d5(n.key),n)}}function nde(e,t,r){return t&&rde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sde(e,t,r){return t=Av(t),ide(e,u5()?Reflect.construct(t,r||[],Av(e).constructor):t.apply(e,r))}function ide(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ade(e)}function ade(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u5=function(){return!!e})()}function Av(e){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Av(e)}function ode(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h_(e,t)}function h_(e,t){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},h_(e,t)}function Gh(e,t,r){return t=d5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d5(e){var t=lde(e,"string");return id(t)=="symbol"?t:t+""}function lde(e,t){if(id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ms=32,VN=function(e){function t(){return tde(this,t),sde(this,t,arguments)}return ode(t,e),nde(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=ms/2,o=ms/6,l=ms/3,c=n.inactive?s:n.color;if(n.type==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ms,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ms,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return A.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ms/8,"h").concat(ms,"v").concat(ms*3/4,"h").concat(-ms,"z"),className:"recharts-legend-icon"});if(A.isValidElement(n.legendIcon)){var u=ede({},n);return delete u.legendIcon,A.cloneElement(n.legendIcon,u)}return A.createElement(WN,{fill:c,cx:i,cy:i,size:ms,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:ms,height:ms},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,v=ht(Gh(Gh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=nt(m.value)?null:m.value;ba(!nt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return A.createElement("li",f_({className:v,style:f,key:"legend-item-".concat(g)},Nv(n.props,m,g)),A.createElement(n_,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(x,m,g):x))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);Gh(VN,"displayName","Legend");Gh(VN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cde=Ax;function ude(){this.__data__=new cde,this.size=0}var dde=ude;function fde(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var hde=fde;function mde(e){return this.__data__.get(e)}var pde=mde;function gde(e){return this.__data__.has(e)}var vde=gde,yde=Ax,xde=TN,bde=RN,wde=200;function jde(e,t){var r=this.__data__;if(r instanceof yde){var n=r.__data__;if(!xde||n.length<wde-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new bde(n)}return r.set(e,t),this.size=r.size,this}var _de=jde,Sde=Ax,Nde=dde,kde=hde,Cde=pde,Ede=vde,Ode=_de;function Gd(e){var t=this.__data__=new Sde(e);this.size=t.size}Gd.prototype.clear=Nde;Gd.prototype.delete=kde;Gd.prototype.get=Cde;Gd.prototype.has=Ede;Gd.prototype.set=Ode;var f5=Gd,Pde="__lodash_hash_undefined__";function Ade(e){return this.__data__.set(e,Pde),this}var Tde=Ade;function Rde(e){return this.__data__.has(e)}var Mde=Rde,$de=RN,Ide=Tde,Dde=Mde;function Tv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new $de;++t<r;)this.add(e[t])}Tv.prototype.add=Tv.prototype.push=Ide;Tv.prototype.has=Dde;var h5=Tv;function Lde(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var m5=Lde;function Fde(e,t){return e.has(t)}var p5=Fde,Ude=h5,Bde=m5,qde=p5,zde=1,Wde=2;function Vde(e,t,r,n,s,i){var o=r&zde,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&Wde?new Ude:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=o?n(p,g,f,t,e,i):n(g,p,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Bde(t,function(x,y){if(!qde(m,y)&&(g===x||s(g,x,r,n,i)))return m.push(y)})){h=!1;break}}else if(!(g===p||s(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var g5=Vde,Kde=Xi,Hde=Kde.Uint8Array,Gde=Hde;function Yde(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var Qde=Yde;function Xde(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var KN=Xde,FO=Jm,UO=Gde,Jde=AN,Zde=g5,efe=Qde,tfe=KN,rfe=1,nfe=2,sfe="[object Boolean]",ife="[object Date]",afe="[object Error]",ofe="[object Map]",lfe="[object Number]",cfe="[object RegExp]",ufe="[object Set]",dfe="[object String]",ffe="[object Symbol]",hfe="[object ArrayBuffer]",mfe="[object DataView]",BO=FO?FO.prototype:void 0,Ow=BO?BO.valueOf:void 0;function pfe(e,t,r,n,s,i,o){switch(r){case mfe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case hfe:return!(e.byteLength!=t.byteLength||!i(new UO(e),new UO(t)));case sfe:case ife:case lfe:return Jde(+e,+t);case afe:return e.name==t.name&&e.message==t.message;case cfe:case dfe:return e==t+"";case ofe:var l=efe;case ufe:var c=n&rfe;if(l||(l=tfe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=nfe,o.set(e,t);var d=Zde(l(e),l(t),n,s,i,o);return o.delete(e),d;case ffe:if(Ow)return Ow.call(e)==Ow.call(t)}return!1}var gfe=pfe;function vfe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var v5=vfe,yfe=v5,xfe=qn;function bfe(e,t,r){var n=t(e);return xfe(e)?n:yfe(n,r(e))}var wfe=bfe;function jfe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var _fe=jfe;function Sfe(){return[]}var Nfe=Sfe,kfe=_fe,Cfe=Nfe,Efe=Object.prototype,Ofe=Efe.propertyIsEnumerable,qO=Object.getOwnPropertySymbols,Pfe=qO?function(e){return e==null?[]:(e=Object(e),kfe(qO(e),function(t){return Ofe.call(e,t)}))}:Cfe,Afe=Pfe;function Tfe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Rfe=Tfe,Mfe=za,$fe=Wa,Ife="[object Arguments]";function Dfe(e){return $fe(e)&&Mfe(e)==Ife}var Lfe=Dfe,zO=Lfe,Ffe=Wa,y5=Object.prototype,Ufe=y5.hasOwnProperty,Bfe=y5.propertyIsEnumerable,qfe=zO(function(){return arguments}())?zO:function(e){return Ffe(e)&&Ufe.call(e,"callee")&&!Bfe.call(e,"callee")},HN=qfe,Rv={exports:{}};function zfe(){return!1}var Wfe=zfe;Rv.exports;(function(e,t){var r=Xi,n=Wfe,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Rv,Rv.exports);var x5=Rv.exports,Vfe=9007199254740991,Kfe=/^(?:0|[1-9]\d*)$/;function Hfe(e,t){var r=typeof e;return t=t??Vfe,!!t&&(r=="number"||r!="symbol"&&Kfe.test(e))&&e>-1&&e%1==0&&e<t}var GN=Hfe,Gfe=9007199254740991;function Yfe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Gfe}var YN=Yfe,Qfe=za,Xfe=YN,Jfe=Wa,Zfe="[object Arguments]",ehe="[object Array]",the="[object Boolean]",rhe="[object Date]",nhe="[object Error]",she="[object Function]",ihe="[object Map]",ahe="[object Number]",ohe="[object Object]",lhe="[object RegExp]",che="[object Set]",uhe="[object String]",dhe="[object WeakMap]",fhe="[object ArrayBuffer]",hhe="[object DataView]",mhe="[object Float32Array]",phe="[object Float64Array]",ghe="[object Int8Array]",vhe="[object Int16Array]",yhe="[object Int32Array]",xhe="[object Uint8Array]",bhe="[object Uint8ClampedArray]",whe="[object Uint16Array]",jhe="[object Uint32Array]",Jt={};Jt[mhe]=Jt[phe]=Jt[ghe]=Jt[vhe]=Jt[yhe]=Jt[xhe]=Jt[bhe]=Jt[whe]=Jt[jhe]=!0;Jt[Zfe]=Jt[ehe]=Jt[fhe]=Jt[the]=Jt[hhe]=Jt[rhe]=Jt[nhe]=Jt[she]=Jt[ihe]=Jt[ahe]=Jt[ohe]=Jt[lhe]=Jt[che]=Jt[uhe]=Jt[dhe]=!1;function _he(e){return Jfe(e)&&Xfe(e.length)&&!!Jt[Qfe(e)]}var She=_he;function Nhe(e){return function(t){return e(t)}}var b5=Nhe,Mv={exports:{}};Mv.exports;(function(e,t){var r=E3,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Mv,Mv.exports);var khe=Mv.exports,Che=She,Ehe=b5,WO=khe,VO=WO&&WO.isTypedArray,Ohe=VO?Ehe(VO):Che,w5=Ohe,Phe=Rfe,Ahe=HN,The=qn,Rhe=x5,Mhe=GN,$he=w5,Ihe=Object.prototype,Dhe=Ihe.hasOwnProperty;function Lhe(e,t){var r=The(e),n=!r&&Ahe(e),s=!r&&!n&&Rhe(e),i=!r&&!n&&!s&&$he(e),o=r||n||s||i,l=o?Phe(e.length,String):[],c=l.length;for(var u in e)(t||Dhe.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Mhe(u,c)))&&l.push(u);return l}var Fhe=Lhe,Uhe=Object.prototype;function Bhe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Uhe;return e===r}var qhe=Bhe;function zhe(e,t){return function(r){return e(t(r))}}var j5=zhe,Whe=j5,Vhe=Whe(Object.keys,Object),Khe=Vhe,Hhe=qhe,Ghe=Khe,Yhe=Object.prototype,Qhe=Yhe.hasOwnProperty;function Xhe(e){if(!Hhe(e))return Ghe(e);var t=[];for(var r in Object(e))Qhe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Jhe=Xhe,Zhe=PN,eme=YN;function tme(e){return e!=null&&eme(e.length)&&!Zhe(e)}var ep=tme,rme=Fhe,nme=Jhe,sme=ep;function ime(e){return sme(e)?rme(e):nme(e)}var Gx=ime,ame=wfe,ome=Afe,lme=Gx;function cme(e){return ame(e,lme,ome)}var ume=cme,KO=ume,dme=1,fme=Object.prototype,hme=fme.hasOwnProperty;function mme(e,t,r,n,s,i){var o=r&dme,l=KO(e),c=l.length,u=KO(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:hme.call(t,h)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<c;){h=l[f];var x=e[h],y=t[h];if(n)var w=o?n(y,x,h,t,e,i):n(x,y,h,e,t,i);if(!(w===void 0?x===y||s(x,y,r,n,i):w)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var S=e.constructor,j=t.constructor;S!=j&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var pme=mme,gme=bc,vme=Xi,yme=gme(vme,"DataView"),xme=yme,bme=bc,wme=Xi,jme=bme(wme,"Promise"),_me=jme,Sme=bc,Nme=Xi,kme=Sme(Nme,"Set"),_5=kme,Cme=bc,Eme=Xi,Ome=Cme(Eme,"WeakMap"),Pme=Ome,m_=xme,p_=TN,g_=_me,v_=_5,y_=Pme,S5=za,Yd=P3,HO="[object Map]",Ame="[object Object]",GO="[object Promise]",YO="[object Set]",QO="[object WeakMap]",XO="[object DataView]",Tme=Yd(m_),Rme=Yd(p_),Mme=Yd(g_),$me=Yd(v_),Ime=Yd(y_),yl=S5;(m_&&yl(new m_(new ArrayBuffer(1)))!=XO||p_&&yl(new p_)!=HO||g_&&yl(g_.resolve())!=GO||v_&&yl(new v_)!=YO||y_&&yl(new y_)!=QO)&&(yl=function(e){var t=S5(e),r=t==Ame?e.constructor:void 0,n=r?Yd(r):"";if(n)switch(n){case Tme:return XO;case Rme:return HO;case Mme:return GO;case $me:return YO;case Ime:return QO}return t});var Dme=yl,Pw=f5,Lme=g5,Fme=gfe,Ume=pme,JO=Dme,ZO=qn,eP=x5,Bme=w5,qme=1,tP="[object Arguments]",rP="[object Array]",Vp="[object Object]",zme=Object.prototype,nP=zme.hasOwnProperty;function Wme(e,t,r,n,s,i){var o=ZO(e),l=ZO(t),c=o?rP:JO(e),u=l?rP:JO(t);c=c==tP?Vp:c,u=u==tP?Vp:u;var d=c==Vp,f=u==Vp,h=c==u;if(h&&eP(e)){if(!eP(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Pw),o||Bme(e)?Lme(e,t,r,n,s,i):Fme(e,t,c,r,n,s,i);if(!(r&qme)){var m=d&&nP.call(e,"__wrapped__"),g=f&&nP.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return i||(i=new Pw),s(p,v,r,n,i)}}return h?(i||(i=new Pw),Ume(e,t,r,n,s,i)):!1}var Vme=Wme,Kme=Vme,sP=Wa;function N5(e,t,r,n,s){return e===t?!0:e==null||t==null||!sP(e)&&!sP(t)?e!==e&&t!==t:Kme(e,t,r,n,N5,s)}var QN=N5,Hme=f5,Gme=QN,Yme=1,Qme=2;function Xme(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Hme;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Gme(d,u,Yme|Qme,n,f):h))return!1}}return!0}var Jme=Xme,Zme=sl;function epe(e){return e===e&&!Zme(e)}var k5=epe,tpe=k5,rpe=Gx;function npe(e){for(var t=rpe(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,tpe(s)]}return t}var spe=npe;function ipe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var C5=ipe,ape=Jme,ope=spe,lpe=C5;function cpe(e){var t=ope(e);return t.length==1&&t[0][2]?lpe(t[0][0],t[0][1]):function(r){return r===e||ape(r,e,t)}}var upe=cpe;function dpe(e,t){return e!=null&&t in Object(e)}var fpe=dpe,hpe=$3,mpe=HN,ppe=qn,gpe=GN,vpe=YN,ype=Rx;function xpe(e,t,r){t=hpe(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=ype(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&vpe(s)&&gpe(o,s)&&(ppe(e)||mpe(e)))}var bpe=xpe,wpe=fpe,jpe=bpe;function _pe(e,t){return e!=null&&jpe(e,t,wpe)}var Spe=_pe,Npe=QN,kpe=I3,Cpe=Spe,Epe=ON,Ope=k5,Ppe=C5,Ape=Rx,Tpe=1,Rpe=2;function Mpe(e,t){return Epe(e)&&Ope(t)?Ppe(Ape(e),t):function(r){var n=kpe(r,e);return n===void 0&&n===t?Cpe(r,e):Npe(t,n,Tpe|Rpe)}}var $pe=Mpe;function Ipe(e){return e}var Qd=Ipe;function Dpe(e){return function(t){return t==null?void 0:t[e]}}var Lpe=Dpe,Fpe=IN;function Upe(e){return function(t){return Fpe(t,e)}}var Bpe=Upe,qpe=Lpe,zpe=Bpe,Wpe=ON,Vpe=Rx;function Kpe(e){return Wpe(e)?qpe(Vpe(e)):zpe(e)}var Hpe=Kpe,Gpe=upe,Ype=$pe,Qpe=Qd,Xpe=qn,Jpe=Hpe;function Zpe(e){return typeof e=="function"?e:e==null?Qpe:typeof e=="object"?Xpe(e)?Ype(e[0],e[1]):Gpe(e):Jpe(e)}var il=Zpe;function ege(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var E5=ege;function tge(e){return e!==e}var rge=tge;function nge(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var sge=nge,ige=E5,age=rge,oge=sge;function lge(e,t,r){return t===t?oge(e,t,r):ige(e,age,r)}var cge=lge,uge=cge;function dge(e,t){var r=e==null?0:e.length;return!!r&&uge(e,t,0)>-1}var fge=dge;function hge(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var mge=hge;function pge(){}var gge=pge,Aw=_5,vge=gge,yge=KN,xge=1/0,bge=Aw&&1/yge(new Aw([,-0]))[1]==xge?function(e){return new Aw(e)}:vge,wge=bge,jge=h5,_ge=fge,Sge=mge,Nge=p5,kge=wge,Cge=KN,Ege=200;function Oge(e,t,r){var n=-1,s=_ge,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=Sge;else if(i>=Ege){var u=t?null:kge(e);if(u)return Cge(u);o=!1,s=Nge,c=new jge}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Pge=Oge,Age=il,Tge=Pge;function Rge(e,t){return e&&e.length?Tge(e,Age(t)):[]}var Mge=Rge;const iP=Ut(Mge);function O5(e,t,r){return t===!0?iP(e,r):nt(t)?iP(e,t):e}function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}var $ge=["ref"];function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){Yx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ige(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A5(n.key),n)}}function Dge(e,t,r){return t&&oP(e.prototype,t),r&&oP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lge(e,t,r){return t=$v(t),Fge(e,P5()?Reflect.construct(t,r||[],$v(e).constructor):t.apply(e,r))}function Fge(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uge(e)}function Uge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P5=function(){return!!e})()}function $v(e){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(e)}function Bge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},x_(e,t)}function Yx(e,t,r){return t=A5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A5(e){var t=qge(e,"string");return ad(t)=="symbol"?t:t+""}function qge(e,t){if(ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zge(e,t){if(e==null)return{};var r=Wge(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vge(e){return e.value}function Kge(e,t){if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return A.createElement(e,t);t.ref;var r=zge(t,$ge);return A.createElement(VN,r)}var lP=1,_u=function(e){function t(){var r;Ige(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Lge(this,t,[].concat(s)),Yx(r,"lastBoundingBox",{width:-1,height:-1}),r}return Bge(t,e),Dge(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>lP||Math.abs(s.height-this.lastBoundingBox.height)>lP)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ta({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ta(ta({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=ta(ta({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return A.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Kge(i,ta(ta({},this.props),{},{payload:O5(d,u,Vge)})))}}],[{key:"getWithHeight",value:function(n,s){var i=ta(ta({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&me(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(b.PureComponent);Yx(_u,"displayName","Legend");Yx(_u,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cP=Jm,Hge=HN,Gge=qn,uP=cP?cP.isConcatSpreadable:void 0;function Yge(e){return Gge(e)||Hge(e)||!!(uP&&e&&e[uP])}var Qge=Yge,Xge=v5,Jge=Qge;function T5(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=Jge),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?T5(l,t-1,r,n,s):Xge(s,l):n||(s[s.length]=l)}return s}var R5=T5;function Zge(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var eve=Zge,tve=eve,rve=tve(),nve=rve,sve=nve,ive=Gx;function ave(e,t){return e&&sve(e,t,ive)}var M5=ave,ove=ep;function lve(e,t){return function(r,n){if(r==null)return r;if(!ove(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var cve=lve,uve=M5,dve=cve,fve=dve(uve),XN=fve,hve=XN,mve=ep;function pve(e,t){var r=-1,n=mve(e)?Array(e.length):[];return hve(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var $5=pve;function gve(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var vve=gve,dP=qd;function yve(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=dP(e),o=t!==void 0,l=t===null,c=t===t,u=dP(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var xve=yve,bve=xve;function wve(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=bve(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var jve=wve,Tw=$N,_ve=IN,Sve=il,Nve=$5,kve=vve,Cve=b5,Eve=jve,Ove=Qd,Pve=qn;function Ave(e,t,r){t.length?t=Tw(t,function(i){return Pve(i)?function(o){return _ve(o,i.length===1?i[0]:i)}:i}):t=[Ove];var n=-1;t=Tw(t,Cve(Sve));var s=Nve(e,function(i,o,l){var c=Tw(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return kve(s,function(i,o){return Eve(i,o,r)})}var Tve=Ave;function Rve(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Mve=Rve,$ve=Mve,fP=Math.max;function Ive(e,t,r){return t=fP(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=fP(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),$ve(e,this,l)}}var Dve=Ive;function Lve(e){return function(){return e}}var Fve=Lve,Uve=bc,Bve=function(){try{var e=Uve(Object,"defineProperty");return e({},"",{}),e}catch{}}(),I5=Bve,qve=Fve,hP=I5,zve=Qd,Wve=hP?function(e,t){return hP(e,"toString",{configurable:!0,enumerable:!1,value:qve(t),writable:!0})}:zve,Vve=Wve,Kve=800,Hve=16,Gve=Date.now;function Yve(e){var t=0,r=0;return function(){var n=Gve(),s=Hve-(n-r);if(r=n,s>0){if(++t>=Kve)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Qve=Yve,Xve=Vve,Jve=Qve,Zve=Jve(Xve),eye=Zve,tye=Qd,rye=Dve,nye=eye;function sye(e,t){return nye(rye(e,t,tye),e+"")}var iye=sye,aye=AN,oye=ep,lye=GN,cye=sl;function uye(e,t,r){if(!cye(r))return!1;var n=typeof t;return(n=="number"?oye(r)&&lye(t,r.length):n=="string"&&t in r)?aye(r[t],e):!1}var Qx=uye,dye=R5,fye=Tve,hye=iye,mP=Qx,mye=hye(function(e,t){if(e==null)return[];var r=t.length;return r>1&&mP(e,t[0],t[1])?t=[]:r>2&&mP(t[0],t[1],t[2])&&(t=[t[0]]),fye(e,dye(t,1),[])}),pye=mye;const JN=Ut(pye);function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b_.apply(this,arguments)}function gye(e,t){return bye(e)||xye(e,t)||yye(e,t)||vye()}function vye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yye(e,t){if(e){if(typeof e=="string")return pP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pP(e,t)}}function pP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bye(e){if(Array.isArray(e))return e}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){wye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wye(e,t,r){return t=jye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jye(e){var t=_ye(e,"string");return Yh(t)=="symbol"?t:t+""}function _ye(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sye(e){return Array.isArray(e)&&Dr(e[0])&&Dr(e[1])?e.join(" ~ "):e}var Nye=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,x=t.accessibilityLayer,y=x===void 0?!1:x,w=function(){if(d&&d.length){var E={padding:0,margin:0},U=(h?JN(d,h):d).map(function(P,B){if(P.type==="none")return null;var R=Rw({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},l),z=P.formatter||f||Sye,D=P.value,M=P.name,$=D,X=M;if(z&&$!=null&&X!=null){var G=z(D,M,P,B,d);if(Array.isArray(G)){var ce=gye(G,2);$=ce[0],X=ce[1]}else $=G}return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:R},Dr(X)?A.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Dr(X)?A.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,A.createElement("span",{className:"recharts-tooltip-item-value"},$),A.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:E},U)}return null},S=Rw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=Rw({margin:0},u),_=!lt(p),N=_?p:"",k=ht("recharts-default-tooltip",m),C=ht("recharts-tooltip-label",g);_&&v&&d!==void 0&&d!==null&&(N=v(p,d));var T=y?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",b_({className:k,style:S},T),A.createElement("p",{className:C,style:j},A.isValidElement(N)?N:"".concat(N)),w())};function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function Kp(e,t,r){return t=kye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kye(e){var t=Cye(e,"string");return Qh(t)=="symbol"?t:t+""}function Cye(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _f="recharts-tooltip-wrapper",Eye={visibility:"hidden"};function Oye(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ht(_f,Kp(Kp(Kp(Kp({},"".concat(_f,"-right"),me(r)&&t&&me(t.x)&&r>=t.x),"".concat(_f,"-left"),me(r)&&t&&me(t.x)&&r<t.x),"".concat(_f,"-bottom"),me(n)&&t&&me(t.y)&&n>=t.y),"".concat(_f,"-top"),me(n)&&t&&me(t.y)&&n<t.y))}function vP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&me(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function Pye(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Aye(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=vP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=vP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Pye({translateX:d,translateY:f,useTranslate3d:l})):u=Eye,{cssProperties:u,cssClasses:Oye({translateX:d,translateY:f,coordinate:r})}}function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){j_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L5(n.key),n)}}function Mye(e,t,r){return t&&Rye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ye(e,t,r){return t=Iv(t),Iye(e,D5()?Reflect.construct(t,r||[],Iv(e).constructor):t.apply(e,r))}function Iye(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dye(e)}function Dye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D5=function(){return!!e})()}function Iv(e){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iv(e)}function Lye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w_(e,t)}function w_(e,t){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},w_(e,t)}function j_(e,t,r){return t=L5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L5(e){var t=Fye(e,"string");return od(t)=="symbol"?t:t+""}function Fye(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bP=1,Uye=function(e){function t(){var r;Tye(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=$ye(this,t,[].concat(s)),j_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),j_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Lye(t,e),Mye(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>bP||Math.abs(n.height-this.state.lastBoundingBox.height)>bP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,g=s.position,p=s.reverseDirection,v=s.useTranslate3d,x=s.viewBox,y=s.wrapperStyle,w=Aye({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),S=w.cssClasses,j=w.cssProperties,_=xP(xP({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return A.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(k){n.wrapperNode=k}},u)}}])}(b.PureComponent),Bye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xd={isSsr:Bye()};function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){ZN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U5(n.key),n)}}function Wye(e,t,r){return t&&zye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vye(e,t,r){return t=Dv(t),Kye(e,F5()?Reflect.construct(t,r||[],Dv(e).constructor):t.apply(e,r))}function Kye(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hye(e)}function Hye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F5=function(){return!!e})()}function Dv(e){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dv(e)}function Gye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&__(e,t)}function __(e,t){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},__(e,t)}function ZN(e,t,r){return t=U5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U5(e){var t=Yye(e,"string");return ld(t)=="symbol"?t:t+""}function Yye(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qye(e){return e.dataKey}function Xye(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(Nye,t)}var vs=function(e){function t(){return qye(this,t),Vye(this,t,arguments)}return Gye(t,e),Wye(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,g=s.payload,p=s.payloadUniqBy,v=s.position,x=s.reverseDirection,y=s.useTranslate3d,w=s.viewBox,S=s.wrapperStyle,j=g??[];f&&j.length&&(j=O5(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,Qye));var _=j.length>0;return A.createElement(Uye,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:_,offset:m,position:v,reverseDirection:x,useTranslate3d:y,viewBox:w,wrapperStyle:S},Xye(u,jP(jP({},this.props),{},{payload:j})))}}])}(b.PureComponent);ZN(vs,"displayName","Tooltip");ZN(vs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Jye=Xi,Zye=function(){return Jye.Date.now()},exe=Zye,txe=/\s/;function rxe(e){for(var t=e.length;t--&&txe.test(e.charAt(t)););return t}var nxe=rxe,sxe=nxe,ixe=/^\s+/;function axe(e){return e&&e.slice(0,sxe(e)+1).replace(ixe,"")}var oxe=axe,lxe=oxe,_P=sl,cxe=qd,SP=NaN,uxe=/^[-+]0x[0-9a-f]+$/i,dxe=/^0b[01]+$/i,fxe=/^0o[0-7]+$/i,hxe=parseInt;function mxe(e){if(typeof e=="number")return e;if(cxe(e))return SP;if(_P(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_P(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lxe(e);var r=dxe.test(e);return r||fxe.test(e)?hxe(e.slice(2),r?2:8):uxe.test(e)?SP:+e}var B5=mxe,pxe=sl,Mw=exe,NP=B5,gxe="Expected a function",vxe=Math.max,yxe=Math.min;function xxe(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(gxe);t=NP(t)||0,pxe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?vxe(NP(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(_){var N=n,k=s;return n=s=void 0,u=_,o=e.apply(k,N),o}function g(_){return u=_,l=setTimeout(x,t),d?m(_):o}function p(_){var N=_-c,k=_-u,C=t-N;return f?yxe(C,i-k):C}function v(_){var N=_-c,k=_-u;return c===void 0||N>=t||N<0||f&&k>=i}function x(){var _=Mw();if(v(_))return y(_);l=setTimeout(x,p(_))}function y(_){return l=void 0,h&&n?m(_):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function S(){return l===void 0?o:y(Mw())}function j(){var _=Mw(),N=v(_);if(n=arguments,s=this,c=_,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),o}return j.cancel=w,j.flush=S,j}var bxe=xxe,wxe=bxe,jxe=sl,_xe="Expected a function";function Sxe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(_xe);return jxe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),wxe(e,t,{leading:n,maxWait:t,trailing:s})}var Nxe=Sxe;const q5=Ut(Nxe);function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){kxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kxe(e,t,r){return t=Cxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cxe(e){var t=Exe(e,"string");return Xh(t)=="symbol"?t:t+""}function Exe(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oxe(e,t){return Rxe(e)||Txe(e,t)||Axe(e,t)||Pxe()}function Pxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Axe(e,t){if(e){if(typeof e=="string")return CP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CP(e,t)}}function CP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Txe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Rxe(e){if(Array.isArray(e))return e}var S_=b.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,x=e.className,y=e.onResize,w=e.style,S=w===void 0?{}:w,j=b.useRef(null),_=b.useRef();_.current=y,b.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=b.useState({containerWidth:s.width,containerHeight:s.height}),k=Oxe(N,2),C=k[0],T=k[1],I=b.useCallback(function(U,P){T(function(B){var R=Math.round(U),z=Math.round(P);return B.containerWidth===R&&B.containerHeight===z?B:{containerWidth:R,containerHeight:z}})},[]);b.useEffect(function(){var U=function(M){var $,X=M[0].contentRect,G=X.width,ce=X.height;I(G,ce),($=_.current)===null||$===void 0||$.call(_,G,ce)};p>0&&(U=q5(U,p,{trailing:!0,leading:!1}));var P=new ResizeObserver(U),B=j.current.getBoundingClientRect(),R=B.width,z=B.height;return I(R,z),P.observe(j.current),function(){P.disconnect()}},[I,p]);var E=b.useMemo(function(){var U=C.containerWidth,P=C.containerHeight;if(U<0||P<0)return null;ba(Ol(o)||Ol(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ba(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=Ol(o)?U:o,R=Ol(c)?P:c;r&&r>0&&(B?R=B/r:R&&(B=R*r),h&&R>h&&(R=h)),ba(B>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,R,o,c,d,f,r);var z=!Array.isArray(m)&&xa(m.type).endsWith("Chart");return A.Children.map(m,function(D){return A.isValidElement(D)?b.cloneElement(D,Hp({width:B,height:R},z?{style:Hp({height:"100%",width:"100%",maxHeight:R,maxWidth:B},D.props.style)}:{})):D})},[r,m,c,h,f,d,C,o]);return A.createElement("div",{id:v?"".concat(v):void 0,className:ht("recharts-responsive-container",x),style:Hp(Hp({},S),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},E)}),z5=function(t){return null};z5.displayName="Cell";function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function N_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){Mxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mxe(e,t,r){return t=$xe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $xe(e){var t=Ixe(e,"string");return Jh(t)=="symbol"?t:t+""}function Ixe(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bc={widthCache:{},cacheCount:0},Dxe=2e3,Lxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OP="recharts_measurement_span";function Fxe(e){var t=N_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ah=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Xd.isSsr)return{width:0,height:0};var n=Fxe(r),s=JSON.stringify({text:t,copyStyle:n});if(Bc.widthCache[s])return Bc.widthCache[s];try{var i=document.getElementById(OP);i||(i=document.createElement("span"),i.setAttribute("id",OP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=N_(N_({},Lxe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Bc.widthCache[s]=c,++Bc.cacheCount>Dxe&&(Bc.cacheCount=0,Bc.widthCache={}),c}catch{return{width:0,height:0}}},Uxe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function Lv(e,t){return Wxe(e)||zxe(e,t)||qxe(e,t)||Bxe()}function Bxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(e,t){if(e){if(typeof e=="string")return PP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PP(e,t)}}function PP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Wxe(e){if(Array.isArray(e))return e}function Vxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hxe(n.key),n)}}function Kxe(e,t,r){return t&&AP(e.prototype,t),r&&AP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hxe(e){var t=Gxe(e,"string");return Zh(t)=="symbol"?t:t+""}function Gxe(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,W5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Xxe=Object.keys(W5),cu="NaN";function Jxe(e,t){return e*W5[t]}var Gp=function(){function e(t,r){Vxe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Yxe.test(r)&&(this.num=NaN,this.unit=""),Xxe.includes(r)&&(this.num=Jxe(t,r),this.unit="px")}return Kxe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Qxe.exec(r))!==null&&n!==void 0?n:[],i=Lv(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function V5(e){if(e.includes(cu))return cu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=TP.exec(t))!==null&&r!==void 0?r:[],s=Lv(n,4),i=s[1],o=s[2],l=s[3],c=Gp.parse(i??""),u=Gp.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return cu;t=t.replace(TP,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=RP.exec(t))!==null&&f!==void 0?f:[],m=Lv(h,4),g=m[1],p=m[2],v=m[3],x=Gp.parse(g??""),y=Gp.parse(v??""),w=p==="+"?x.add(y):x.subtract(y);if(w.isNaN())return cu;t=t.replace(RP,w.toString())}return t}var MP=/\(([^()]*)\)/;function Zxe(e){for(var t=e;t.includes("(");){var r=MP.exec(t),n=Lv(r,2),s=n[1];t=t.replace(MP,V5(s))}return t}function ebe(e){var t=e.replace(/\s+/g,"");return t=Zxe(t),t=V5(t),t}function tbe(e){try{return ebe(e)}catch{return cu}}function $w(e){var t=tbe(e.slice(5,-1));return t===cu?"":t}var rbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nbe=["dx","dy","angle","className","breakAll"];function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(this,arguments)}function $P(e,t){if(e==null)return{};var r=sbe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IP(e,t){return lbe(e)||obe(e,t)||abe(e,t)||ibe()}function ibe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function abe(e,t){if(e){if(typeof e=="string")return DP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DP(e,t)}}function DP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function obe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function lbe(e){if(Array.isArray(e))return e}var K5=/[ \f\n\r\t\v\u2028\u2029]+/,H5=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];lt(r)||(n?i=r.toString().split(""):i=r.toString().split(K5));var o=i.map(function(c){return{word:c,width:ah(c,s).width}}),l=n?0:ah("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},cbe=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=me(o),f=l,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(R,z){var D=z.word,M=z.width,$=R[R.length-1];if($&&(s==null||i||$.width+M+n<Number(s)))$.words.push(D),$.width+=M+n;else{var X={words:[D],width:M};R.push(X)}return R},[])},m=h(r),g=function(B){return B.reduce(function(R,z){return R.width>z.width?R:z})};if(!d)return m;for(var p="",v=function(B){var R=f.slice(0,B),z=H5({breakAll:u,style:c,children:R+p}).wordsWithComputedWidth,D=h(z),M=D.length>o||g(D).width>Number(s);return[M,D]},x=0,y=f.length-1,w=0,S;x<=y&&w<=f.length-1;){var j=Math.floor((x+y)/2),_=j-1,N=v(_),k=IP(N,2),C=k[0],T=k[1],I=v(j),E=IP(I,1),U=E[0];if(!C&&!U&&(x=j+1),C&&U&&(y=j-1),!C&&U){S=T;break}w++}return S||m},LP=function(t){var r=lt(t)?[]:t.toString().split(K5);return[{words:r}]},ube=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Xd.isSsr){var c,u,d=H5({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return LP(s);return cbe({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return LP(s)},FP="#808080",Fv=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,x=v===void 0?FP:v,y=$P(t,rbe),w=b.useMemo(function(){return ube({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,j=y.dy,_=y.angle,N=y.className,k=y.breakAll,C=$P(y,nbe);if(!Dr(n)||!Dr(i))return null;var T=n+(me(S)?S:0),I=i+(me(j)?j:0),E;switch(p){case"start":E=$w("calc(".concat(u,")"));break;case"middle":E=$w("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=$w("calc(".concat(w.length-1," * -").concat(l,")"));break}var U=[];if(f){var P=w[0].width,B=y.width;U.push("scale(".concat((me(B)?B/P:1)/P,")"))}return _&&U.push("rotate(".concat(_,", ").concat(T,", ").concat(I,")")),U.length&&(C.transform=U.join(" ")),A.createElement("text",k_({},at(C,!0),{x:T,y:I,className:ht("recharts-text",N),textAnchor:m,fill:x.includes("url")?FP:x}),w.map(function(R,z){var D=R.words.join(k?"":" ");return A.createElement("tspan",{x:T,dy:z===0?E:l,key:"".concat(D,"-").concat(z)},D)}))};function qo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dbe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ek(e){let t,r,n;e.length!==2?(t=qo,r=(l,c)=>qo(e(l),c),n=(l,c)=>e(l)-c):(t=e===qo||e===dbe?e:fbe,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function fbe(){return 0}function G5(e){return e===null?NaN:+e}function*hbe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const mbe=ek(qo),tp=mbe.right;ek(G5).center;class UP extends Map{constructor(t,r=vbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(BP(this,t))}has(t){return super.has(BP(this,t))}set(t,r){return super.set(pbe(this,t),r)}delete(t){return super.delete(gbe(this,t))}}function BP({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function pbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function gbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function vbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ybe(e=qo){if(e===qo)return Y5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Y5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xbe=Math.sqrt(50),bbe=Math.sqrt(10),wbe=Math.sqrt(2);function Uv(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=xbe?10:i>=bbe?5:i>=wbe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Uv(e,t,r*2):[l,c,u]}function C_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Uv(t,e,r):Uv(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function E_(e,t,r){return t=+t,e=+e,r=+r,Uv(e,t,r)[2]}function O_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?E_(t,e,r):E_(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function qP(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function zP(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Q5(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?Y5:ybe(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));Q5(e,t,m,g,s)}const i=e[t];let o=r,l=n;for(Sf(e,r,t),s(e[n],i)>0&&Sf(e,r,n);o<l;){for(Sf(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Sf(e,r,l):(++l,Sf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Sf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function jbe(e,t,r){if(e=Float64Array.from(hbe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return zP(e);if(t>=1)return qP(e);var n,s=(n-1)*t,i=Math.floor(s),o=qP(Q5(e,i).subarray(0,i+1)),l=zP(e.subarray(i+1));return o+(l-o)*(s-i)}}function _be(e,t,r=G5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function Sbe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function $s(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Va(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const P_=Symbol("implicit");function tk(){var e=new UP,t=[],r=[],n=P_;function s(i){let o=e.get(i);if(o===void 0){if(n!==P_)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new UP;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return tk(t,r).unknown(n)},$s.apply(s,arguments),s}function em(){var e=tk().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,g=m?s:n,p=m?n:s;i=(p-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=Sbe(h).map(function(x){return g+i*x});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return em(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},$s.apply(f(),arguments)}function X5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return X5(t())},e}function oh(){return X5(em.apply(null,arguments).paddingInner(1))}function rk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function J5(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function rp(){}var tm=.7,Bv=1/tm,Su="\\s*([+-]?\\d+)\\s*",rm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nbe=/^#([0-9a-f]{3,8})$/,kbe=new RegExp(`^rgb\\(${Su},${Su},${Su}\\)$`),Cbe=new RegExp(`^rgb\\(${Ui},${Ui},${Ui}\\)$`),Ebe=new RegExp(`^rgba\\(${Su},${Su},${Su},${rm}\\)$`),Obe=new RegExp(`^rgba\\(${Ui},${Ui},${Ui},${rm}\\)$`),Pbe=new RegExp(`^hsl\\(${rm},${Ui},${Ui}\\)$`),Abe=new RegExp(`^hsla\\(${rm},${Ui},${Ui},${rm}\\)$`),WP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rk(rp,nm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:VP,formatHex:VP,formatHex8:Tbe,formatHsl:Rbe,formatRgb:KP,toString:KP});function VP(){return this.rgb().formatHex()}function Tbe(){return this.rgb().formatHex8()}function Rbe(){return Z5(this).formatHsl()}function KP(){return this.rgb().formatRgb()}function nm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Nbe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?HP(t):r===3?new In(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kbe.exec(e))?new In(t[1],t[2],t[3],1):(t=Cbe.exec(e))?new In(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ebe.exec(e))?Yp(t[1],t[2],t[3],t[4]):(t=Obe.exec(e))?Yp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Pbe.exec(e))?QP(t[1],t[2]/100,t[3]/100,1):(t=Abe.exec(e))?QP(t[1],t[2]/100,t[3]/100,t[4]):WP.hasOwnProperty(e)?HP(WP[e]):e==="transparent"?new In(NaN,NaN,NaN,0):null}function HP(e){return new In(e>>16&255,e>>8&255,e&255,1)}function Yp(e,t,r,n){return n<=0&&(e=t=r=NaN),new In(e,t,r,n)}function Mbe(e){return e instanceof rp||(e=nm(e)),e?(e=e.rgb(),new In(e.r,e.g,e.b,e.opacity)):new In}function A_(e,t,r,n){return arguments.length===1?Mbe(e):new In(e,t,r,n??1)}function In(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}rk(In,A_,J5(rp,{brighter(e){return e=e==null?Bv:Math.pow(Bv,e),new In(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?tm:Math.pow(tm,e),new In(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new In(Vl(this.r),Vl(this.g),Vl(this.b),qv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GP,formatHex:GP,formatHex8:$be,formatRgb:YP,toString:YP}));function GP(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}`}function $be(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}${Pl((isNaN(this.opacity)?1:this.opacity)*255)}`}function YP(){const e=qv(this.opacity);return`${e===1?"rgb(":"rgba("}${Vl(this.r)}, ${Vl(this.g)}, ${Vl(this.b)}${e===1?")":`, ${e})`}`}function qv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pl(e){return e=Vl(e),(e<16?"0":"")+e.toString(16)}function QP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new si(e,t,r,n)}function Z5(e){if(e instanceof si)return new si(e.h,e.s,e.l,e.opacity);if(e instanceof rp||(e=nm(e)),!e)return new si;if(e instanceof si)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new si(o,l,c,e.opacity)}function Ibe(e,t,r,n){return arguments.length===1?Z5(e):new si(e,t,r,n??1)}function si(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}rk(si,Ibe,J5(rp,{brighter(e){return e=e==null?Bv:Math.pow(Bv,e),new si(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?tm:Math.pow(tm,e),new si(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new In(Iw(e>=240?e-240:e+120,s,n),Iw(e,s,n),Iw(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new si(XP(this.h),Qp(this.s),Qp(this.l),qv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qv(this.opacity);return`${e===1?"hsl(":"hsla("}${XP(this.h)}, ${Qp(this.s)*100}%, ${Qp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function XP(e){return e=(e||0)%360,e<0?e+360:e}function Qp(e){return Math.max(0,Math.min(1,e||0))}function Iw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const nk=e=>()=>e;function Dbe(e,t){return function(r){return e+r*t}}function Lbe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Fbe(e){return(e=+e)==1?eU:function(t,r){return r-t?Lbe(t,r,e):nk(isNaN(t)?r:t)}}function eU(e,t){var r=t-e;return r?Dbe(e,r):nk(isNaN(e)?t:e)}const JP=function e(t){var r=Fbe(t);function n(s,i){var o=r((s=A_(s)).r,(i=A_(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=eU(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function Ube(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Bbe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qbe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Jd(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function zbe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function zv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Wbe(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Jd(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var T_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dw=new RegExp(T_.source,"g");function Vbe(e){return function(){return e}}function Kbe(e){return function(t){return e(t)+""}}function Hbe(e,t){var r=T_.lastIndex=Dw.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=T_.exec(e))&&(s=Dw.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:zv(n,s)})),r=Dw.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Kbe(c[0].x):Vbe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Jd(e,t){var r=typeof t,n;return t==null||r==="boolean"?nk(t):(r==="number"?zv:r==="string"?(n=nm(t))?(t=n,JP):Hbe:t instanceof nm?JP:t instanceof Date?zbe:Bbe(t)?Ube:Array.isArray(t)?qbe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Wbe:zv)(e,t)}function sk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Gbe(e,t){t===void 0&&(t=e,e=Jd);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Ybe(e){return function(){return e}}function Wv(e){return+e}var ZP=[0,1];function yn(e){return e}function R_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Ybe(isNaN(t)?NaN:.5)}function Qbe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Xbe(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=R_(s,n),i=r(o,i)):(n=R_(n,s),i=r(i,o)),function(l){return i(n(l))}}function Jbe(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=R_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=tp(e,l,1,n)-1;return i[c](s[c](l))}}function np(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xx(){var e=ZP,t=ZP,r=Jd,n,s,i,o=yn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==yn&&(o=Qbe(e[0],e[h-1])),l=h>2?Jbe:Xbe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),zv)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Wv),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=sk,d()},f.clamp=function(h){return arguments.length?(o=h?!0:yn,d()):o!==yn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,s=m,d()}}function ik(){return Xx()(yn,yn)}function Zbe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vv(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cd(e){return e=Vv(Math.abs(e)),e?e[1]:NaN}function ewe(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function twe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sm(e){if(!(t=rwe.exec(e)))throw new Error("invalid format: "+e);var t;return new ak({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sm.prototype=ak.prototype;function ak(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ak.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nwe(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var Kv;function swe(e,t){var r=Vv(e,t);if(!r)return Kv=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(Kv=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Vv(e,Math.max(0,t+i-1))[0]}function eA(e,t){var r=Vv(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const tA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Zbe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eA(e*100,t),r:eA,s:swe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rA(e){return e}var nA=Array.prototype.map,sA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iwe(e){var t=e.grouping===void 0||e.thousands===void 0?rA:ewe(nA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?rA:twe(nA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=sm(f);var m=f.fill,g=f.align,p=f.sign,v=f.symbol,x=f.zero,y=f.width,w=f.comma,S=f.precision,j=f.trim,_=f.type;_==="n"?(w=!0,_="g"):tA[_]||(S===void 0&&(S=12),j=!0,_="g"),(x||m==="0"&&g==="=")&&(x=!0,m="0",g="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():""),k=(v==="$"?n:/[%p]/.test(_)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),C=tA[_],T=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(E){var U=N,P=k,B,R,z;if(_==="c")P=C(E)+P,E="";else{E=+E;var D=E<0||1/E<0;if(E=isNaN(E)?c:C(Math.abs(E),S),j&&(E=nwe(E)),D&&+E==0&&p!=="+"&&(D=!1),U=(D?p==="("?p:l:p==="-"||p==="("?"":p)+U,P=(_==="s"&&!isNaN(E)&&Kv!==void 0?sA[8+Kv/3]:"")+P+(D&&p==="("?")":""),T){for(B=-1,R=E.length;++B<R;)if(z=E.charCodeAt(B),48>z||z>57){P=(z===46?s+E.slice(B+1):E.slice(B))+P,E=E.slice(0,B);break}}}w&&!x&&(E=t(E,1/0));var M=U.length+E.length+P.length,$=M<y?new Array(y-M+1).join(m):"";switch(w&&x&&(E=t($+E,$.length?y-P.length:1/0),$=""),g){case"<":E=U+E+P+$;break;case"=":E=U+$+E+P;break;case"^":E=$.slice(0,M=$.length>>1)+U+E+P+$.slice(M);break;default:E=$+U+E+P;break}return i(E)}return I.toString=function(){return f+""},I}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(cd(h)/3)))*3,g=Math.pow(10,-m),p=u((f=sm(f),f.type="f",f),{suffix:sA[8+m/3]});return function(v){return p(g*v)}}return{format:u,formatPrefix:d}}var Xp,ok,tU;awe({thousands:",",grouping:[3],currency:["$",""]});function awe(e){return Xp=iwe(e),ok=Xp.format,tU=Xp.formatPrefix,Xp}function owe(e){return Math.max(0,-cd(Math.abs(e)))}function lwe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cd(t)/3)))*3-cd(Math.abs(e)))}function cwe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cd(t)-cd(e))+1}function rU(e,t,r,n){var s=O_(e,t,r),i;switch(n=sm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=lwe(s,o))&&(n.precision=i),tU(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=cwe(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=owe(s))&&(n.precision=i-(n.type==="%")*2);break}}return ok(n)}function al(e){var t=e.domain;return e.ticks=function(r){var n=t();return C_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return rU(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=E_(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Hv(){var e=ik();return e.copy=function(){return np(e,Hv())},$s.apply(e,arguments),al(e)}function nU(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Wv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nU(e).unknown(t)},e=arguments.length?Array.from(e,Wv):[0,1],al(r)}function sU(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function iA(e){return Math.log(e)}function aA(e){return Math.exp(e)}function uwe(e){return-Math.log(-e)}function dwe(e){return-Math.exp(-e)}function fwe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hwe(e){return e===10?fwe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mwe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function oA(e){return(t,r)=>-e(-t,r)}function lk(e){const t=e(iA,aA),r=t.domain;let n=10,s,i;function o(){return s=mwe(n),i=hwe(n),r()[0]<0?(s=oA(s),i=oA(i),e(uwe,dwe)):e(iA,aA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),g,p;const v=l==null?10:+l;let x=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;x.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;x.push(p)}x.length*2<v&&(x=C_(u,d,v))}else x=C_(h,m,Math.min(m-h,v)).map(i);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=sm(c)).precision==null&&(c.trim=!0),c=ok(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(sU(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function iU(){const e=lk(Xx()).domain([1,10]);return e.copy=()=>np(e,iU()).base(e.base()),$s.apply(e,arguments),e}function lA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ck(e){var t=1,r=e(lA(t),cA(t));return r.constant=function(n){return arguments.length?e(lA(t=+n),cA(t)):t},al(r)}function aU(){var e=ck(Xx());return e.copy=function(){return np(e,aU()).constant(e.constant())},$s.apply(e,arguments)}function uA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pwe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function gwe(e){return e<0?-e*e:e*e}function uk(e){var t=e(yn,yn),r=1;function n(){return r===1?e(yn,yn):r===.5?e(pwe,gwe):e(uA(r),uA(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},al(t)}function dk(){var e=uk(Xx());return e.copy=function(){return np(e,dk()).exponent(e.exponent())},$s.apply(e,arguments),e}function vwe(){return dk.apply(null,arguments).exponent(.5)}function dA(e){return Math.sign(e)*e*e}function ywe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oU(){var e=ik(),t=[0,1],r=!1,n;function s(i){var o=ywe(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(dA(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Wv)).map(dA)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return oU(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},$s.apply(s,arguments),al(s)}function lU(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=_be(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[tp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(qo),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return lU().domain(e).range(t).unknown(n)},$s.apply(i,arguments)}function cU(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[tp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return cU().domain([e,t]).range(s).unknown(i)},$s.apply(al(o),arguments)}function uU(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[tp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return uU().domain(e).range(t).unknown(r)},$s.apply(s,arguments)}const Lw=new Date,Fw=new Date;function Fr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Fr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Lw.setTime(+i),Fw.setTime(+o),e(Lw),e(Fw),Math.floor(r(Lw,Fw))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Gv=Fr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Gv);Gv.range;const ha=1e3,_s=ha*60,ma=_s*60,Aa=ma*24,fk=Aa*7,fA=Aa*30,Uw=Aa*365,Al=Fr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getUTCSeconds());Al.range;const hk=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ha)},(e,t)=>{e.setTime(+e+t*_s)},(e,t)=>(t-e)/_s,e=>e.getMinutes());hk.range;const mk=Fr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_s)},(e,t)=>(t-e)/_s,e=>e.getUTCMinutes());mk.range;const pk=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ha-e.getMinutes()*_s)},(e,t)=>{e.setTime(+e+t*ma)},(e,t)=>(t-e)/ma,e=>e.getHours());pk.range;const gk=Fr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ma)},(e,t)=>(t-e)/ma,e=>e.getUTCHours());gk.range;const sp=Fr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_s)/Aa,e=>e.getDate()-1);sp.range;const Jx=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Aa,e=>e.getUTCDate()-1);Jx.range;const dU=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Aa,e=>Math.floor(e/Aa));dU.range;function wc(e){return Fr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*_s)/fk)}const Zx=wc(0),Yv=wc(1),xwe=wc(2),bwe=wc(3),ud=wc(4),wwe=wc(5),jwe=wc(6);Zx.range;Yv.range;xwe.range;bwe.range;ud.range;wwe.range;jwe.range;function jc(e){return Fr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/fk)}const eb=jc(0),Qv=jc(1),_we=jc(2),Swe=jc(3),dd=jc(4),Nwe=jc(5),kwe=jc(6);eb.range;Qv.range;_we.range;Swe.range;dd.range;Nwe.range;kwe.range;const vk=Fr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vk.range;const yk=Fr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());yk.range;const Ta=Fr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ta.range;const Ra=Fr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ra.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ra.range;function fU(e,t,r,n,s,i){const o=[[Al,1,ha],[Al,5,5*ha],[Al,15,15*ha],[Al,30,30*ha],[i,1,_s],[i,5,5*_s],[i,15,15*_s],[i,30,30*_s],[s,1,ma],[s,3,3*ma],[s,6,6*ma],[s,12,12*ma],[n,1,Aa],[n,2,2*Aa],[r,1,fk],[t,1,fA],[t,3,3*fA],[e,1,Uw]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=ek(([,,v])=>v).right(o,h);if(m===o.length)return e.every(O_(u/Uw,d/Uw,f));if(m===0)return Gv.every(Math.max(O_(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[Cwe,Ewe]=fU(Ra,yk,eb,dU,gk,mk),[Owe,Pwe]=fU(Ta,vk,Zx,sp,pk,hk);function Bw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Awe(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=kf(s),d=Cf(s),f=kf(i),h=Cf(i),m=kf(o),g=Cf(o),p=kf(l),v=Cf(l),x=kf(c),y=Cf(c),w={a:z,A:D,b:M,B:$,c:null,d:yA,e:yA,f:e0e,g:u0e,G:f0e,H:Xwe,I:Jwe,j:Zwe,L:hU,m:t0e,M:r0e,p:X,q:G,Q:wA,s:jA,S:n0e,u:s0e,U:i0e,V:a0e,w:o0e,W:l0e,x:null,X:null,y:c0e,Y:d0e,Z:h0e,"%":bA},S={a:ce,A:pe,b:We,B:te,c:null,d:xA,e:xA,f:v0e,g:C0e,G:O0e,H:m0e,I:p0e,j:g0e,L:pU,m:y0e,M:x0e,p:se,q:Ie,Q:wA,s:jA,S:b0e,u:w0e,U:j0e,V:_0e,w:S0e,W:N0e,x:null,X:null,y:k0e,Y:E0e,Z:P0e,"%":bA},j={a:T,A:I,b:E,B:U,c:P,d:gA,e:gA,f:Hwe,g:pA,G:mA,H:vA,I:vA,j:zwe,L:Kwe,m:qwe,M:Wwe,p:C,q:Bwe,Q:Ywe,s:Qwe,S:Vwe,u:Iwe,U:Dwe,V:Lwe,w:$we,W:Fwe,x:B,X:R,y:pA,Y:mA,Z:Uwe,"%":Gwe};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),S.x=_(r,S),S.X=_(n,S),S.c=_(t,S);function _(ee,ue){return function(K){var H=[],Xe=-1,Ke=0,Ot=ee.length,kt,rr,rn;for(K instanceof Date||(K=new Date(+K));++Xe<Ot;)ee.charCodeAt(Xe)===37&&(H.push(ee.slice(Ke,Xe)),(rr=hA[kt=ee.charAt(++Xe)])!=null?kt=ee.charAt(++Xe):rr=kt==="e"?" ":"0",(rn=ue[kt])&&(kt=rn(K,rr)),H.push(kt),Ke=Xe+1);return H.push(ee.slice(Ke,Xe)),H.join("")}}function N(ee,ue){return function(K){var H=Nf(1900,void 0,1),Xe=k(H,ee,K+="",0),Ke,Ot;if(Xe!=K.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(ue&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Ke=qw(Nf(H.y,0,1)),Ot=Ke.getUTCDay(),Ke=Ot>4||Ot===0?Qv.ceil(Ke):Qv(Ke),Ke=Jx.offset(Ke,(H.V-1)*7),H.y=Ke.getUTCFullYear(),H.m=Ke.getUTCMonth(),H.d=Ke.getUTCDate()+(H.w+6)%7):(Ke=Bw(Nf(H.y,0,1)),Ot=Ke.getDay(),Ke=Ot>4||Ot===0?Yv.ceil(Ke):Yv(Ke),Ke=sp.offset(Ke,(H.V-1)*7),H.y=Ke.getFullYear(),H.m=Ke.getMonth(),H.d=Ke.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Ot="Z"in H?qw(Nf(H.y,0,1)).getUTCDay():Bw(Nf(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Ot+5)%7:H.w+H.U*7-(Ot+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,qw(H)):Bw(H)}}function k(ee,ue,K,H){for(var Xe=0,Ke=ue.length,Ot=K.length,kt,rr;Xe<Ke;){if(H>=Ot)return-1;if(kt=ue.charCodeAt(Xe++),kt===37){if(kt=ue.charAt(Xe++),rr=j[kt in hA?ue.charAt(Xe++):kt],!rr||(H=rr(ee,K,H))<0)return-1}else if(kt!=K.charCodeAt(H++))return-1}return H}function C(ee,ue,K){var H=u.exec(ue.slice(K));return H?(ee.p=d.get(H[0].toLowerCase()),K+H[0].length):-1}function T(ee,ue,K){var H=m.exec(ue.slice(K));return H?(ee.w=g.get(H[0].toLowerCase()),K+H[0].length):-1}function I(ee,ue,K){var H=f.exec(ue.slice(K));return H?(ee.w=h.get(H[0].toLowerCase()),K+H[0].length):-1}function E(ee,ue,K){var H=x.exec(ue.slice(K));return H?(ee.m=y.get(H[0].toLowerCase()),K+H[0].length):-1}function U(ee,ue,K){var H=p.exec(ue.slice(K));return H?(ee.m=v.get(H[0].toLowerCase()),K+H[0].length):-1}function P(ee,ue,K){return k(ee,t,ue,K)}function B(ee,ue,K){return k(ee,r,ue,K)}function R(ee,ue,K){return k(ee,n,ue,K)}function z(ee){return o[ee.getDay()]}function D(ee){return i[ee.getDay()]}function M(ee){return c[ee.getMonth()]}function $(ee){return l[ee.getMonth()]}function X(ee){return s[+(ee.getHours()>=12)]}function G(ee){return 1+~~(ee.getMonth()/3)}function ce(ee){return o[ee.getUTCDay()]}function pe(ee){return i[ee.getUTCDay()]}function We(ee){return c[ee.getUTCMonth()]}function te(ee){return l[ee.getUTCMonth()]}function se(ee){return s[+(ee.getUTCHours()>=12)]}function Ie(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ue=_(ee+="",w);return ue.toString=function(){return ee},ue},parse:function(ee){var ue=N(ee+="",!1);return ue.toString=function(){return ee},ue},utcFormat:function(ee){var ue=_(ee+="",S);return ue.toString=function(){return ee},ue},utcParse:function(ee){var ue=N(ee+="",!0);return ue.toString=function(){return ee},ue}}}var hA={"-":"",_:" ",0:"0"},Kr=/^\s*\d+/,Twe=/^%/,Rwe=/[\\^$*+?|[\]().{}]/g;function Nt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Mwe(e){return e.replace(Rwe,"\\$&")}function kf(e){return new RegExp("^(?:"+e.map(Mwe).join("|")+")","i")}function Cf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function $we(e,t,r){var n=Kr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Iwe(e,t,r){var n=Kr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Dwe(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Lwe(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Fwe(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function mA(e,t,r){var n=Kr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function pA(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Uwe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Bwe(e,t,r){var n=Kr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function qwe(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function gA(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function zwe(e,t,r){var n=Kr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function vA(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Wwe(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Vwe(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Kwe(e,t,r){var n=Kr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Hwe(e,t,r){var n=Kr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Gwe(e,t,r){var n=Twe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Ywe(e,t,r){var n=Kr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Qwe(e,t,r){var n=Kr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function yA(e,t){return Nt(e.getDate(),t,2)}function Xwe(e,t){return Nt(e.getHours(),t,2)}function Jwe(e,t){return Nt(e.getHours()%12||12,t,2)}function Zwe(e,t){return Nt(1+sp.count(Ta(e),e),t,3)}function hU(e,t){return Nt(e.getMilliseconds(),t,3)}function e0e(e,t){return hU(e,t)+"000"}function t0e(e,t){return Nt(e.getMonth()+1,t,2)}function r0e(e,t){return Nt(e.getMinutes(),t,2)}function n0e(e,t){return Nt(e.getSeconds(),t,2)}function s0e(e){var t=e.getDay();return t===0?7:t}function i0e(e,t){return Nt(Zx.count(Ta(e)-1,e),t,2)}function mU(e){var t=e.getDay();return t>=4||t===0?ud(e):ud.ceil(e)}function a0e(e,t){return e=mU(e),Nt(ud.count(Ta(e),e)+(Ta(e).getDay()===4),t,2)}function o0e(e){return e.getDay()}function l0e(e,t){return Nt(Yv.count(Ta(e)-1,e),t,2)}function c0e(e,t){return Nt(e.getFullYear()%100,t,2)}function u0e(e,t){return e=mU(e),Nt(e.getFullYear()%100,t,2)}function d0e(e,t){return Nt(e.getFullYear()%1e4,t,4)}function f0e(e,t){var r=e.getDay();return e=r>=4||r===0?ud(e):ud.ceil(e),Nt(e.getFullYear()%1e4,t,4)}function h0e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Nt(t/60|0,"0",2)+Nt(t%60,"0",2)}function xA(e,t){return Nt(e.getUTCDate(),t,2)}function m0e(e,t){return Nt(e.getUTCHours(),t,2)}function p0e(e,t){return Nt(e.getUTCHours()%12||12,t,2)}function g0e(e,t){return Nt(1+Jx.count(Ra(e),e),t,3)}function pU(e,t){return Nt(e.getUTCMilliseconds(),t,3)}function v0e(e,t){return pU(e,t)+"000"}function y0e(e,t){return Nt(e.getUTCMonth()+1,t,2)}function x0e(e,t){return Nt(e.getUTCMinutes(),t,2)}function b0e(e,t){return Nt(e.getUTCSeconds(),t,2)}function w0e(e){var t=e.getUTCDay();return t===0?7:t}function j0e(e,t){return Nt(eb.count(Ra(e)-1,e),t,2)}function gU(e){var t=e.getUTCDay();return t>=4||t===0?dd(e):dd.ceil(e)}function _0e(e,t){return e=gU(e),Nt(dd.count(Ra(e),e)+(Ra(e).getUTCDay()===4),t,2)}function S0e(e){return e.getUTCDay()}function N0e(e,t){return Nt(Qv.count(Ra(e)-1,e),t,2)}function k0e(e,t){return Nt(e.getUTCFullYear()%100,t,2)}function C0e(e,t){return e=gU(e),Nt(e.getUTCFullYear()%100,t,2)}function E0e(e,t){return Nt(e.getUTCFullYear()%1e4,t,4)}function O0e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?dd(e):dd.ceil(e),Nt(e.getUTCFullYear()%1e4,t,4)}function P0e(){return"+0000"}function bA(){return"%"}function wA(e){return+e}function jA(e){return Math.floor(+e/1e3)}var qc,vU,yU;A0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function A0e(e){return qc=Awe(e),vU=qc.format,qc.parse,yU=qc.utcFormat,qc.utcParse,qc}function T0e(e){return new Date(e)}function R0e(e){return e instanceof Date?+e:+new Date(+e)}function xk(e,t,r,n,s,i,o,l,c,u){var d=ik(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),w=u("%B"),S=u("%Y");function j(_){return(c(_)<_?m:l(_)<_?g:o(_)<_?p:i(_)<_?v:n(_)<_?s(_)<_?x:y:r(_)<_?w:S)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,R0e)):h().map(T0e)},d.ticks=function(_){var N=h();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?j:u(N)},d.nice=function(_){var N=h();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?h(sU(N,_)):d},d.copy=function(){return np(d,xk(e,t,r,n,s,i,o,l,c,u))},d}function M0e(){return $s.apply(xk(Owe,Pwe,Ta,vk,Zx,sp,pk,hk,Al,vU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $0e(){return $s.apply(xk(Cwe,Ewe,Ra,yk,eb,Jx,gk,mk,Al,yU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tb(){var e=0,t=1,r,n,s,i,o=yn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(Jd),u.rangeRound=d(sk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function ol(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xU(){var e=al(tb()(yn));return e.copy=function(){return ol(e,xU())},Va.apply(e,arguments)}function bU(){var e=lk(tb()).domain([1,10]);return e.copy=function(){return ol(e,bU()).base(e.base())},Va.apply(e,arguments)}function wU(){var e=ck(tb());return e.copy=function(){return ol(e,wU()).constant(e.constant())},Va.apply(e,arguments)}function bk(){var e=uk(tb());return e.copy=function(){return ol(e,bk()).exponent(e.exponent())},Va.apply(e,arguments)}function I0e(){return bk.apply(null,arguments).exponent(.5)}function jU(){var e=[],t=yn;function r(n){if(n!=null&&!isNaN(n=+n))return t((tp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(qo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>jbe(e,i/n))},r.copy=function(){return jU(t).domain(e)},Va.apply(r,arguments)}function rb(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=yn,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var x,y,w;return arguments.length?([x,y,w]=v,u=Gbe(p,[x,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(Jd),m.rangeRound=g(sk),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,s=p(e),i=p(t),o=p(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m}}function _U(){var e=al(rb()(yn));return e.copy=function(){return ol(e,_U())},Va.apply(e,arguments)}function SU(){var e=lk(rb()).domain([.1,1,10]);return e.copy=function(){return ol(e,SU()).base(e.base())},Va.apply(e,arguments)}function NU(){var e=ck(rb());return e.copy=function(){return ol(e,NU()).constant(e.constant())},Va.apply(e,arguments)}function wk(){var e=uk(rb());return e.copy=function(){return ol(e,wk()).exponent(e.exponent())},Va.apply(e,arguments)}function D0e(){return wk.apply(null,arguments).exponent(.5)}const _A=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:em,scaleDiverging:_U,scaleDivergingLog:SU,scaleDivergingPow:wk,scaleDivergingSqrt:D0e,scaleDivergingSymlog:NU,scaleIdentity:nU,scaleImplicit:P_,scaleLinear:Hv,scaleLog:iU,scaleOrdinal:tk,scalePoint:oh,scalePow:dk,scaleQuantile:lU,scaleQuantize:cU,scaleRadial:oU,scaleSequential:xU,scaleSequentialLog:bU,scaleSequentialPow:bk,scaleSequentialQuantile:jU,scaleSequentialSqrt:I0e,scaleSequentialSymlog:wU,scaleSqrt:vwe,scaleSymlog:aU,scaleThreshold:uU,scaleTime:M0e,scaleUtc:$0e,tickFormat:rU},Symbol.toStringTag,{value:"Module"}));var L0e=qd;function F0e(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!L0e(o):r(o,l)))var l=o,c=i}return c}var kU=F0e;function U0e(e,t){return e>t}var B0e=U0e,q0e=kU,z0e=B0e,W0e=Qd;function V0e(e){return e&&e.length?q0e(e,W0e,z0e):void 0}var K0e=V0e;const Eo=Ut(K0e);function H0e(e,t){return e<t}var G0e=H0e,Y0e=kU,Q0e=G0e,X0e=Qd;function J0e(e){return e&&e.length?Y0e(e,X0e,Q0e):void 0}var Z0e=J0e;const nb=Ut(Z0e);var eje=$N,tje=il,rje=$5,nje=qn;function sje(e,t){var r=nje(e)?eje:rje;return r(e,tje(t))}var ije=sje,aje=R5,oje=ije;function lje(e,t){return aje(oje(e,t),1)}var cje=lje;const uje=Ut(cje);var dje=QN;function fje(e,t){return dje(e,t)}var hje=fje;const im=Ut(hje);var Zd=1e9,mje={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_k,ir=!0,Ps="[DecimalError] ",Kl=Ps+"Invalid argument: ",jk=Ps+"Exponent out of range: ",ef=Math.floor,xl=Math.pow,pje=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jn,Br=1e7,Zt=7,CU=9007199254740991,Xv=ef(CU/Zt),Pe={};Pe.absoluteValue=Pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pe.comparedTo=Pe.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Zt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Pe.dividedBy=Pe.div=function(e){return wa(this,new this.constructor(e))};Pe.dividedToIntegerBy=Pe.idiv=function(e){var t=this,r=t.constructor;return Vt(wa(t,new r(e),0,1),r.precision)};Pe.equals=Pe.eq=function(e){return!this.cmp(e)};Pe.exponent=function(){return kr(this)};Pe.greaterThan=Pe.gt=function(e){return this.cmp(e)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(e){return this.cmp(e)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(e){return this.cmp(e)<0};Pe.lessThanOrEqualTo=Pe.lte=function(e){return this.cmp(e)<1};Pe.logarithm=Pe.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Jn))throw Error(Ps+"NaN");if(r.s<1)throw Error(Ps+(r.s?"NaN":"-Infinity"));return r.eq(Jn)?new n(0):(ir=!1,t=wa(am(r,i),am(e,i),i),ir=!0,Vt(t,s))};Pe.minus=Pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PU(t,e):EU(t,(e.s=-e.s,e))};Pe.modulo=Pe.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Ps+"NaN");return r.s?(ir=!1,t=wa(r,e,0,1).times(e),ir=!0,r.minus(t)):Vt(new n(r),s)};Pe.naturalExponential=Pe.exp=function(){return OU(this)};Pe.naturalLogarithm=Pe.ln=function(){return am(this)};Pe.negated=Pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pe.plus=Pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EU(t,e):PU(t,(e.s=-e.s,e))};Pe.precision=Pe.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kl+e);if(t=kr(s)+1,n=s.d.length-1,r=n*Zt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Pe.squareRoot=Pe.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ps+"NaN")}for(e=kr(l),ir=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ai(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=ef((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(wa(l,i,o+2)).times(.5),Ai(i.d).slice(0,o)===(t=Ai(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Vt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return ir=!0,Vt(n,r)};Pe.times=Pe.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+m[n]*h[s-n-1]+t,i[s--]=l%Br|0,t=l/Br|0;i[s]=(i[s]+t)%Br|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ir?Vt(e,f.precision):e};Pe.toDecimalPlaces=Pe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(zi(e,0,Zd),t===void 0?t=n.rounding:zi(t,0,8),Vt(r,e+kr(r)+1,t))};Pe.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=uc(n,!0):(zi(e,0,Zd),t===void 0?t=s.rounding:zi(t,0,8),n=Vt(new s(n),e+1,t),r=uc(n,!0,e+1)),r};Pe.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?uc(s):(zi(e,0,Zd),t===void 0?t=i.rounding:zi(t,0,8),n=Vt(new i(s),e+kr(s)+1,t),r=uc(n.abs(),!1,e+kr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Pe.toInteger=Pe.toint=function(){var e=this,t=e.constructor;return Vt(new t(e),kr(e)+1,t.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Jn);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ps+"Infinity");return l}if(l.eq(Jn))return l;if(n=c.precision,e.eq(Jn))return Vt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=CU){for(s=new c(Jn),t=Math.ceil(n/Zt+4),ir=!1;r%2&&(s=s.times(l),NA(s.d,t)),r=ef(r/2),r!==0;)l=l.times(l),NA(l.d,t);return ir=!0,e.s<0?new c(Jn).div(s):Vt(s,n)}}else if(i<0)throw Error(Ps+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ir=!1,s=e.times(am(l,n+u)),ir=!0,s=OU(s),s.s=i,s};Pe.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=kr(s),n=uc(s,r<=i.toExpNeg||r>=i.toExpPos)):(zi(e,1,Zd),t===void 0?t=i.rounding:zi(t,0,8),s=Vt(new i(s),e,t),r=kr(s),n=uc(s,e<=r||r<=i.toExpNeg,e)),n};Pe.toSignificantDigits=Pe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(zi(e,1,Zd),t===void 0?t=n.rounding:zi(t,0,8)),Vt(new n(r),e,t)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kr(e),r=e.constructor;return uc(e,t<=r.toExpNeg||t>=r.toExpPos)};function EU(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ir?Vt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Zt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Br|0,c[i]%=Br;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,ir?Vt(t,f):t}function zi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Kl+e)}function Ai(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Zt-n.length,r&&(i+=lo(r)),i+=n;o=e[t],n=o+"",r=Zt-n.length,r&&(i+=lo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var wa=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Br|0,o=i/Br|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Br+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,m,g,p,v,x,y,w,S,j,_,N,k,C=n.constructor,T=n.s==s.s?1:-1,I=n.d,E=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(Ps+"Division by zero");for(c=n.e-s.e,N=E.length,j=I.length,m=new C(T),g=m.d=[],u=0;E[u]==(I[u]||0);)++u;if(E[u]>(I[u]||0)&&--c,i==null?y=i=C.precision:o?y=i+(kr(n)-kr(s))+1:y=i,y<0)return new C(0);if(y=y/Zt+2|0,u=0,N==1)for(d=0,E=E[0],y++;(u<j||d)&&y--;u++)w=d*Br+(I[u]||0),g[u]=w/E|0,d=w%E|0;else{for(d=Br/(E[0]+1)|0,d>1&&(E=e(E,d),I=e(I,d),N=E.length,j=I.length),S=N,p=I.slice(0,N),v=p.length;v<N;)p[v++]=0;k=E.slice(),k.unshift(0),_=E[0],E[1]>=Br/2&&++_;do d=0,l=t(E,p,N,v),l<0?(x=p[0],N!=v&&(x=x*Br+(p[1]||0)),d=x/_|0,d>1?(d>=Br&&(d=Br-1),f=e(E,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,N<h?k:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(E,p,N,v),l<1&&(d++,r(p,N<v?k:E,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=I[S]||0:(p=[I[S]],v=1);while((S++<j||p[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=c,Vt(m,o?i+kr(m)+1:i)}}();function OU(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(kr(e)>16)throw Error(jk+kr(e));if(!e.s)return new d(Jn);for(ir=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(xl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(Jn),d.precision=l;;){if(s=Vt(s.times(e),l),r=r.times(++c),o=i.plus(wa(s,r,l)),Ai(o.d).slice(0,l)===Ai(i.d).slice(0,l)){for(;u--;)i=Vt(i.times(i),l);return d.precision=f,t==null?(ir=!0,Vt(i,f)):i}i=o}}function kr(e){for(var t=e.e*Zt,r=e.d[0];r>=10;r/=10)t++;return t}function zw(e,t,r){if(t>e.LN10.sd())throw ir=!0,r&&(e.precision=r),Error(Ps+"LN10 precision limit exceeded");return Vt(new e(e.LN10),t)}function lo(e){for(var t="";e--;)t+="0";return t}function am(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Ps+(m.s?"NaN":"-Infinity"));if(m.eq(Jn))return new p(0);if(t==null?(ir=!1,u=v):u=t,m.eq(10))return t==null&&(ir=!0),zw(p,u);if(u+=h,p.precision=u,r=Ai(g),n=r.charAt(0),i=kr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Ai(m.d),n=r.charAt(0),f++;i=kr(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=zw(p,u+2,v).times(i+""),m=am(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(ir=!0,Vt(m,v)):m;for(l=o=m=wa(m.minus(Jn),m.plus(Jn),u),d=Vt(m.times(m),u),s=3;;){if(o=Vt(o.times(d),u),c=l.plus(wa(o,new p(s),u)),Ai(c.d).slice(0,u)===Ai(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(zw(p,u+2,v).times(i+""))),l=wa(l,new p(f),u),p.precision=v,t==null?(ir=!0,Vt(l,v)):l;l=c,s+=2}}function SA(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=ef(r/Zt),e.d=[],n=(r+1)%Zt,r<0&&(n+=Zt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Zt;n<s;)e.d.push(+t.slice(n,n+=Zt));t=t.slice(n),n=Zt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),ir&&(e.e>Xv||e.e<-Xv))throw Error(jk+r)}else e.s=0,e.e=0,e.d=[0];return e}function Vt(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Zt,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Zt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Zt,s=n-Zt+o}if(r!==void 0&&(i=xl(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/xl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=kr(e),f.length=1,t=t-i-1,f[0]=xl(10,(Zt-t%Zt)%Zt),e.e=ef(-t/Zt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=xl(10,Zt-n),f[d]=s>0?(u/xl(10,o-s)%xl(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Br&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Br)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ir&&(e.e>Xv||e.e<-Xv))throw Error(jk+kr(e));return e}function PU(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ir?Vt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/Zt),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Br-1;--c[i],c[s]+=Br}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ir?Vt(t,m):t):new h(0)}function uc(e,t,r){var n,s=kr(e),i=Ai(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+lo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+lo(-s-1)+i,r&&(n=r-o)>0&&(i+=lo(n))):s>=o?(i+=lo(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+lo(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=lo(n))),e.s<0?"-"+i:i}function NA(e,t){if(e.length>t)return e.length=t,!0}function AU(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Kl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return SA(o,i.toString())}else if(typeof i!="string")throw Error(Kl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,pje.test(i))SA(o,i);else throw Error(Kl+i)}if(s.prototype=Pe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=AU,s.config=s.set=gje,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function gje(e){if(!e||typeof e!="object")throw Error(Ps+"Object expected");var t,r,n,s=["precision",1,Zd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(ef(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Kl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Kl+r+": "+n);return this}var _k=AU(mje);Jn=new _k(1);const Lt=_k;function vje(e){return wje(e)||bje(e)||xje(e)||yje()}function yje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xje(e,t){if(e){if(typeof e=="string")return M_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M_(e,t)}}function bje(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function wje(e){if(Array.isArray(e))return M_(e)}function M_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jje=function(t){return t},TU={},RU=function(t){return t===TU},kA=function(t){return function r(){return arguments.length===0||arguments.length===1&&RU(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},_je=function e(t,r){return t===1?r:kA(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==TU}).length;return o>=t?r.apply(void 0,s):e(t-o,kA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return RU(f)?c.shift():f});return r.apply(void 0,vje(d).concat(c))}))})},sb=function(t){return _je(t.length,t)},$_=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},Sje=sb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Nje=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return jje;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},I_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},MU=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function kje(e){var t;return e===0?t=1:t=Math.floor(new Lt(e).abs().log(10).toNumber())+1,t}function Cje(e,t,r){for(var n=new Lt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var Eje=sb(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),Oje=sb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Pje=sb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ib={rangeStep:Cje,getDigitCount:kje,interpolateNumber:Eje,uninterpolateNumber:Oje,uninterpolateTruncation:Pje};function D_(e){return Rje(e)||Tje(e)||$U(e)||Aje()}function Aje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tje(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Rje(e){if(Array.isArray(e))return L_(e)}function om(e,t){return Ije(e)||$je(e,t)||$U(e,t)||Mje()}function Mje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $U(e,t){if(e){if(typeof e=="string")return L_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L_(e,t)}}function L_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $je(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function Ije(e){if(Array.isArray(e))return e}function IU(e){var t=om(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function DU(e,t,r){if(e.lte(0))return new Lt(0);var n=ib.getDigitCount(e.toNumber()),s=new Lt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Lt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Lt(Math.ceil(c))}function Dje(e,t,r){var n=1,s=new Lt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Lt(10).pow(ib.getDigitCount(e)-1),s=new Lt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Lt(Math.floor(e)))}else e===0?s=new Lt(Math.floor((t-1)/2)):r||(s=new Lt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Nje(Sje(function(c){return s.add(new Lt(c-o).mul(n)).toNumber()}),$_);return l(0,t)}function LU(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var i=DU(new Lt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Lt(0):(o=new Lt(e).add(t).div(2),o=o.sub(new Lt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Lt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?LU(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Lt(l).mul(i)),tickMax:o.add(new Lt(c).mul(i))})}function Lje(e){var t=om(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=IU([r,n]),c=om(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(D_($_(0,s-1).map(function(){return 1/0}))):[].concat(D_($_(0,s-1).map(function(){return-1/0})),[d]);return r>n?I_(f):f}if(u===d)return Dje(u,s,i);var h=LU(u,d,o,i),m=h.step,g=h.tickMin,p=h.tickMax,v=ib.rangeStep(g,p.add(new Lt(.1).mul(m)),m);return r>n?I_(v):v}function Fje(e,t){var r=om(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=IU([n,s]),l=om(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=DU(new Lt(u).sub(c).div(d-1),i,0),h=[].concat(D_(ib.rangeStep(new Lt(c),new Lt(u).sub(new Lt(.99).mul(f)),f)),[u]);return n>s?I_(h):h}var Uje=MU(Lje),Bje=MU(Fje),qje="Invariant failed";function dc(e,t){throw new Error(qje)}var zje=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(this,arguments)}function Wje(e,t){return Gje(e)||Hje(e,t)||Kje(e,t)||Vje()}function Vje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kje(e,t){if(e){if(typeof e=="string")return CA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CA(e,t)}}function CA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Gje(e){if(Array.isArray(e))return e}function Yje(e,t){if(e==null)return{};var r=Qje(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BU(n.key),n)}}function Zje(e,t,r){return t&&Jje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e_e(e,t,r){return t=Zv(t),t_e(e,FU()?Reflect.construct(t,r||[],Zv(e).constructor):t.apply(e,r))}function t_e(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r_e(e)}function r_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FU=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(e)}function n_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F_(e,t)}function F_(e,t){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},F_(e,t)}function UU(e,t,r){return t=BU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BU(e){var t=s_e(e,"string");return fd(t)=="symbol"?t:t+""}function s_e(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ab=function(e){function t(){return Xje(this,t),e_e(this,t,arguments)}return n_e(t,e),Zje(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Yje(n,zje),m=at(h,!1);this.props.direction==="x"&&d.type!=="number"&&dc();var g=c.map(function(p){var v=u(p,l),x=v.x,y=v.y,w=v.value,S=v.errorVal;if(!S)return null;var j=[],_,N;if(Array.isArray(S)){var k=Wje(S,2);_=k[0],N=k[1]}else _=N=S;if(i==="vertical"){var C=d.scale,T=y+s,I=T+o,E=T-o,U=C(w-_),P=C(w+N);j.push({x1:P,y1:I,x2:P,y2:E}),j.push({x1:U,y1:T,x2:P,y2:T}),j.push({x1:U,y1:I,x2:U,y2:E})}else if(i==="horizontal"){var B=f.scale,R=x+s,z=R-o,D=R+o,M=B(w-_),$=B(w+N);j.push({x1:z,y1:$,x2:D,y2:$}),j.push({x1:R,y1:M,x2:R,y2:$}),j.push({x1:z,y1:M,x2:D,y2:M})}return A.createElement(cr,Jv({className:"recharts-errorBar",key:"bar-".concat(j.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},m),j.map(function(X){return A.createElement("line",Jv({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return A.createElement(cr,{className:"recharts-errorBars"},g)}}])}(A.Component);UU(ab,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});UU(ab,"displayName","ErrorBar");function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){i_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i_e(e,t,r){return t=a_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a_e(e){var t=o_e(e,"string");return lm(t)=="symbol"?t:t+""}function o_e(e,t){if(lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qU=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Gn(r,_u);if(!o)return null;var l=_u.defaultProps,c=l!==void 0?fl(fl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?fl(fl({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:Sk(f),value:p||g,payload:m}}),fl(fl(fl({},c),_u.getWithHeight(o,s)),{},{payload:u,item:o})};function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function OA(e){return d_e(e)||u_e(e)||c_e(e)||l_e()}function l_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c_e(e,t){if(e){if(typeof e=="string")return U_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U_(e,t)}}function u_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d_e(e){if(Array.isArray(e))return U_(e)}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(n){Nu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nu(e,t,r){return t=f_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f_e(e){var t=h_e(e,"string");return cm(t)=="symbol"?t:t+""}function h_e(e,t){if(cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function os(e,t,r){return lt(e)||lt(t)?r:Dr(t)?Cs(e,t,r):nt(t)?t(e):r}function lh(e,t,r,n){var s=uje(e,function(l){return os(l,t)});if(r==="number"){var i=s.filter(function(l){return me(l)||parseFloat(l)});return i.length?[nb(i),Eo(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!lt(l)}):s;return o.map(function(l){return Dr(l)||l instanceof Date?l:""})}var m_e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(ii(f-d)!==ii(h-f)){var g=[];if(ii(h-f)===ii(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(t>(y+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},Sk=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},p_e=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,x=p.filter(function(N){return xa(N.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,w=y!==void 0?gr(gr({},y),x[0].props):x[0].props,S=w.barSize,j=w[v];o[j]||(o[j]=[]);var _=lt(S)?r:S;o[j].push({item:x[0],stackList:x.slice(1),barSize:lt(_)?void 0:cc(_,n,0)})}}return o},g_e=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=cc(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,g=o.reduce(function(S,j){return S+j.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&m>0&&(h=!0,m*=.9,g=c*m);var p=(s-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(S,j){var _={item:j.item,position:{offset:v.offset+v.size+u,size:h?m:j.barSize}},N=[].concat(OA(S),[_]);return v=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:v})}),N},f)}else{var x=cc(n,s,0,!0);s-2*x-(c-1)*u<=0&&(u=0);var y=(s-2*x-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=o.reduce(function(S,j,_){var N=[].concat(OA(S),[{item:j.item,position:{offset:x+(y+u)*_+(y-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},v_e=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=qU({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&me(t[m]))return gr(gr({},t),{},Nu({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&me(t[g]))return gr(gr({},t),{},Nu({},g,t[g]+(h||0)))}return t},y_e=function(t,r,n){return lt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},zU=function(t,r,n,s,i){var o=r.props.children,l=di(o,ab).filter(function(u){return y_e(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=os(d,n);if(lt(f))return u;var h=Array.isArray(f)?[nb(f),Eo(f)]:[f,f],m=c.reduce(function(g,p){var v=os(d,p,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},x_e=function(t,r,n,s,i){var o=r.map(function(l){return zU(t,l,n,i,s)}).filter(function(l){return!lt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},WU=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&zU(t,c,u,s)||lh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},VU=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},KU=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},pa=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ii(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Hd(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},Ww=new WeakMap,Jp=function(t,r){if(typeof r!="function")return t;Ww.has(t)||Ww.set(t,new WeakMap);var n=Ww.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},b_e=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:em(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Hv(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:oh(),realScaleType:"point"}:i==="category"?{scale:em(),realScaleType:"band"}:{scale:Hv(),realScaleType:"linear"};if(lc(s)){var c="scale".concat(Wx(s));return{scale:(_A[c]||oh)(),realScaleType:_A[c]?c:"point"}}return nt(s)?{scale:s}:{scale:oh(),realScaleType:"point"}},AA=1e-4,w_e=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-AA,o=Math.max(s[0],s[1])+AA,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},j_e=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},__e=function(t,r){if(!r||r.length!==2||!me(r[0])||!me(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!me(t[0])||t[0]<n)&&(i[0]=n),(!me(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},S_e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Hd(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},N_e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Hd(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},k_e={sign:S_e,expand:Bue,none:sd,silhouette:que,wiggle:zue,positive:N_e},C_e=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=k_e[n],o=Uue().keys(s).value(function(l,c){return+os(l,c,0)}).order(u_).offset(i);return o(t)},E_e=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?gr(gr({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var x=g[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(Dr(p)){var w=y.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[Zm("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return gr(gr({},f),{},Nu({},x,y))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var x=m.stackGroups[v];return gr(gr({},p),{},Nu({},v,{numericAxisId:n,cateAxisId:s,items:x.items,stackedData:C_e(t,x.items,i)}))},g)}return gr(gr({},f),{},Nu({},h,m))},d)},O_e=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Uje(u,i,l);return t.domain([nb(d),Eo(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=Bje(f,i,l);return{niceTicks:h}}return null};function TA(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!lt(s[t.dataKey])){var l=_v(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=os(s,lt(o)?t.dataKey:o);return lt(c)?null:t.scale(c)}var RA=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=os(o,r.dataKey,r.domain[l]);return lt(c)?null:r.scale(c)-i/2+s},P_e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},A_e=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Dr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},T_e=function(t){return t.reduce(function(r,n){return[nb(n.concat([r[0]]).filter(me)),Eo(n.concat([r[1]]).filter(me))]},[1/0,-1/0])},HU=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=T_e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},MA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$A=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,B_=function(t,r,n){if(nt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(me(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(MA.test(t[0])){var i=+MA.exec(t[0])[1];s[0]=r[0]-i}else nt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(me(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if($A.test(t[1])){var o=+$A.exec(t[1])[1];s[1]=r[1]+o}else nt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},ey=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=JN(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},IA=function(t,r,n){return!t||!t.length||im(t,Cs(n,"type.defaultProps.domain"))?r:t},GU=function(t,r){var n=t.type.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return gr(gr({},at(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:Sk(t),value:os(r,s),type:c,payload:r,chartType:u,hide:d})};function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function LA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){R_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R_e(e,t,r){return t=M_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M_e(e){var t=$_e(e,"string");return um(t)=="symbol"?t:t+""}function $_e(e,t){if(um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ty=Math.PI/180,I_e=function(t){return t*180/Math.PI},Jr=function(t,r,n,s){return{x:t+Math.cos(-ty*s)*n,y:r+Math.sin(-ty*s)*n}},D_e=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},L_e=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=D_e({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:I_e(u),angleInRadian:u}},F_e=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},U_e=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},FA=function(t,r){var n=t.x,s=t.y,i=L_e({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=F_e(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?LA(LA({},r),{},{radius:o,angle:U_e(m,r)}):null};function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}var B_e=["offset"];function q_e(e){return K_e(e)||V_e(e)||W_e(e)||z_e()}function z_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W_e(e,t){if(e){if(typeof e=="string")return q_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q_(e,t)}}function V_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K_e(e){if(Array.isArray(e))return q_(e)}function q_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H_e(e,t){if(e==null)return{};var r=G_e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){Y_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y_e(e,t,r){return t=Q_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q_e(e){var t=X_e(e,"string");return dm(t)=="symbol"?t:t+""}function X_e(e,t){if(dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(this,arguments)}var J_e=function(t){var r=t.value,n=t.formatter,s=lt(t.children)?r:t.children;return nt(n)?n(s):s},Z_e=function(t,r){var n=ii(r-t),s=Math.min(Math.abs(r-t),360);return n*s},e1e=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,x=Z_e(m,g),y=x>=0?1:-1,w,S;s==="insideStart"?(w=m+y*o,S=p):s==="insideEnd"?(w=g-y*o,S=!p):s==="end"&&(w=g+y*o,S=p),S=x<=0?S:!S;var j=Jr(u,d,v,w),_=Jr(u,d,v,w+(S?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),k=lt(t.id)?Zm("recharts-radial-line-"):t.id;return A.createElement("text",fm({},n,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:k,d:N})),A.createElement("textPath",{xlinkHref:"#".concat(k)},r))},t1e=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var m=Jr(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=Jr(o,l,v,h),y=x.x,w=x.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},r1e=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*s,x=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return Pr(Pr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Pr(Pr({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Pr(Pr({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var _={x:l+u+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Pr(Pr({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?Pr({x:l+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):i==="insideRight"?Pr({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},N):i==="insideTop"?Pr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?Pr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):i==="insideTopLeft"?Pr({x:l+v,y:c+h,textAnchor:y,verticalAnchor:g},N):i==="insideTopRight"?Pr({x:l+u-v,y:c+h,textAnchor:x,verticalAnchor:g},N):i==="insideBottomLeft"?Pr({x:l+v,y:c+d-h,textAnchor:y,verticalAnchor:m},N):i==="insideBottomRight"?Pr({x:l+u-v,y:c+d-h,textAnchor:x,verticalAnchor:m},N):zd(i)&&(me(i.x)||Ol(i.x))&&(me(i.y)||Ol(i.y))?Pr({x:l+cc(i.x,u),y:c+cc(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):Pr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},n1e=function(t){return"cx"in t&&me(t.cx)};function cn(e){var t=e.offset,r=t===void 0?5:t,n=H_e(e,B_e),s=Pr({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||lt(l)&&lt(c)&&!b.isValidElement(u)&&!nt(u))return null;if(b.isValidElement(u))return b.cloneElement(u,s);var m;if(nt(u)){if(m=b.createElement(u,s),b.isValidElement(m))return m}else m=J_e(s);var g=n1e(i),p=at(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return e1e(s,m,p);var v=g?t1e(s):r1e(s);return A.createElement(Fv,fm({className:ht("recharts-label",f)},p,v,{breakAll:h}),m)}cn.displayName="Label";var YU=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,x=t.clockWise,y=t.labelViewBox;if(y)return y;if(me(p)&&me(v)){if(me(f)&&me(h))return{x:f,y:h,width:p,height:v};if(me(m)&&me(g))return{x:m,y:g,width:p,height:v}}return me(f)&&me(h)?{x:f,y:h,width:0,height:0}:me(r)&&me(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},s1e=function(t,r){return t?t===!0?A.createElement(cn,{key:"label-implicit",viewBox:r}):Dr(t)?A.createElement(cn,{key:"label-implicit",viewBox:r,value:t}):b.isValidElement(t)?t.type===cn?b.cloneElement(t,{key:"label-implicit",viewBox:r}):A.createElement(cn,{key:"label-implicit",content:t,viewBox:r}):nt(t)?A.createElement(cn,{key:"label-implicit",content:t,viewBox:r}):zd(t)?A.createElement(cn,fm({viewBox:r},t,{key:"label-implicit"})):null:null},i1e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=YU(t),o=di(s,cn).map(function(c,u){return b.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=s1e(t.label,r||i);return[l].concat(q_e(o))};cn.parseViewBox=YU;cn.renderCallByParent=i1e;function a1e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var o1e=a1e;const l1e=Ut(o1e);function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}var c1e=["valueAccessor"],u1e=["data","dataKey","clockWise","id","textBreakAll"];function d1e(e){return p1e(e)||m1e(e)||h1e(e)||f1e()}function f1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h1e(e,t){if(e){if(typeof e=="string")return z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z_(e,t)}}function m1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p1e(e){if(Array.isArray(e))return z_(e)}function z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(this,arguments)}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){g1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g1e(e,t,r){return t=v1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v1e(e){var t=y1e(e,"string");return hm(t)=="symbol"?t:t+""}function y1e(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zA(e,t){if(e==null)return{};var r=x1e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var b1e=function(t){return Array.isArray(t.value)?l1e(t.value):t.value};function zo(e){var t=e.valueAccessor,r=t===void 0?b1e:t,n=zA(e,c1e),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=zA(n,u1e);return!s||!s.length?null:A.createElement(cr,{className:"recharts-label-list"},s.map(function(d,f){var h=lt(i)?r(d,f):os(d&&d.payload,i),m=lt(l)?{}:{id:"".concat(l,"-").concat(f)};return A.createElement(cn,ry({},at(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:cn.parseViewBox(lt(o)?d:qA(qA({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}zo.displayName="LabelList";function w1e(e,t){return e?e===!0?A.createElement(zo,{key:"labelList-implicit",data:t}):A.isValidElement(e)||nt(e)?A.createElement(zo,{key:"labelList-implicit",data:t,content:e}):zd(e)?A.createElement(zo,ry({data:t},e,{key:"labelList-implicit"})):null:null}function j1e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=di(n,zo).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=w1e(e.label,t);return[i].concat(d1e(s))}zo.renderCallByParent=j1e;function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W_.apply(this,arguments)}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){_1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _1e(e,t,r){return t=S1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S1e(e){var t=N1e(e,"string");return mm(t)=="symbol"?t:t+""}function N1e(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k1e=function(t,r){var n=ii(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Zp=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/ty,h=u?i:i+o*f,m=Jr(r,n,d,h),g=Jr(r,n,s,h),p=u?i-o*f:i,v=Jr(r,n,d*Math.cos(f*ty),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},QU=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=k1e(o,l),u=o+c,d=Jr(r,n,i,o),f=Jr(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=Jr(r,n,s,o),g=Jr(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},C1e=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ii(d-u),h=Zp({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=Zp({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,y=v.lineTangency,w=v.theta,S=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(S<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):QU({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(s>0){var _=Zp({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=_.circleTangency,k=_.lineTangency,C=_.theta,T=Zp({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=T.circleTangency,E=T.lineTangency,U=T.theta,P=c?Math.abs(u-d):Math.abs(u-d)-C-U;if(P<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(P>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},E1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XU=function(t){var r=VA(VA({},E1e),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=ht("recharts-sector",h),g=o-i,p=cc(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=C1e({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=QU({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),A.createElement("path",W_({},at(r,!0),{className:m,d:v,role:"img"}))};function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function V_(){return V_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V_.apply(this,arguments)}function KA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(r),!0).forEach(function(n){O1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O1e(e,t,r){return t=P1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P1e(e){var t=A1e(e,"string");return pm(t)=="symbol"?t:t+""}function A1e(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GA={curveBasisClosed:Oue,curveBasisOpen:Pue,curveBasis:Eue,curveBumpX:mue,curveBumpY:pue,curveLinearClosed:Aue,curveLinear:Kx,curveMonotoneX:Tue,curveMonotoneY:Rue,curveNatural:Mue,curveStep:$ue,curveStepAfter:Due,curveStepBefore:Iue},eg=function(t){return t.x===+t.x&&t.y===+t.y},Ef=function(t){return t.x},Of=function(t){return t.y},T1e=function(t,r){if(nt(t))return t;var n="curve".concat(Wx(t));return(n==="curveMonotone"||n==="curveBump")&&r?GA["".concat(n).concat(r==="vertical"?"Y":"X")]:GA[n]||Kx},R1e=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=T1e(n,l),f=u?i.filter(function(p){return eg(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return eg(p)}):o,g=f.map(function(p,v){return HA(HA({},p),{},{base:m[v]})});return l==="vertical"?h=Wp().y(Of).x1(Ef).x0(function(p){return p.base.x}):h=Wp().x(Ef).y1(Of).y0(function(p){return p.base.y}),h.defined(eg).curve(d),h(g)}return l==="vertical"&&me(o)?h=Wp().y(Of).x1(Ef).x0(o):me(o)?h=Wp().x(Ef).y1(Of).y0(o):h=J3().x(Ef).y(Of),h.defined(eg).curve(d),h(f)},ch=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?R1e(t):s;return b.createElement("path",V_({},at(t,!1),Sv(t),{className:ht("recharts-curve",r),d:o,ref:i}))},JU={exports:{}},M1e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$1e=M1e,I1e=$1e;function ZU(){}function eB(){}eB.resetWarningCache=ZU;var D1e=function(){function e(n,s,i,o,l,c){if(c!==I1e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eB,resetWarningCache:ZU};return r.PropTypes=r,r};JU.exports=D1e();var L1e=JU.exports;const Pt=Ut(L1e),{getOwnPropertyNames:F1e,getOwnPropertySymbols:U1e}=Object,{hasOwnProperty:B1e}=Object.prototype;function Vw(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function tg(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function q1e(e){return e!=null?e[Symbol.toStringTag]:void 0}function YA(e){return F1e(e).concat(U1e(e))}const z1e=Object.hasOwn||((e,t)=>B1e.call(e,t));function _c(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const W1e="__v",V1e="__o",K1e="_owner",{getOwnPropertyDescriptor:QA,keys:XA}=Object;function H1e(e,t){return e.byteLength===t.byteLength&&ny(new Uint8Array(e),new Uint8Array(t))}function G1e(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Y1e(e,t){return e.byteLength===t.byteLength&&ny(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Q1e(e,t){return _c(e.getTime(),t.getTime())}function X1e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function J1e(e,t){return e===t}function JA(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const Z1e=_c;function eSe(e,t,r){const n=XA(e);let s=n.length;if(XA(t).length!==s)return!1;for(;s-- >0;)if(!tB(e,t,r,n[s]))return!1;return!0}function Pf(e,t,r){const n=YA(e);let s=n.length;if(YA(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!tB(e,t,r,i)||(o=QA(e,i),l=QA(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function tSe(e,t){return _c(e.valueOf(),t.valueOf())}function rSe(e,t){return e.source===t.source&&e.flags===t.flags}function ZA(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function ny(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function nSe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function tB(e,t,r,n){return(n===K1e||n===V1e||n===W1e)&&(e.$$typeof||t.$$typeof)?!0:z1e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const sSe="[object ArrayBuffer]",iSe="[object Arguments]",aSe="[object Boolean]",oSe="[object DataView]",lSe="[object Date]",cSe="[object Error]",uSe="[object Map]",dSe="[object Number]",fSe="[object Object]",hSe="[object RegExp]",mSe="[object Set]",pSe="[object String]",gSe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},vSe="[object URL]",ySe=Object.prototype.toString;function xSe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(v,x,y){if(v===x)return!0;if(v==null||x==null)return!1;const w=typeof v;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?l(v,x,y):w==="function"?i(v,x,y):!1;const S=v.constructor;if(S!==x.constructor)return!1;if(S===Object)return c(v,x,y);if(Array.isArray(v))return t(v,x,y);if(S===Date)return n(v,x,y);if(S===RegExp)return d(v,x,y);if(S===Map)return o(v,x,y);if(S===Set)return f(v,x,y);const j=ySe.call(v);if(j===lSe)return n(v,x,y);if(j===hSe)return d(v,x,y);if(j===uSe)return o(v,x,y);if(j===mSe)return f(v,x,y);if(j===fSe)return typeof v.then!="function"&&typeof x.then!="function"&&c(v,x,y);if(j===vSe)return m(v,x,y);if(j===cSe)return s(v,x,y);if(j===iSe)return c(v,x,y);if(gSe[j])return h(v,x,y);if(j===sSe)return e(v,x,y);if(j===oSe)return r(v,x,y);if(j===aSe||j===dSe||j===pSe)return u(v,x,y);if(g){let _=g[j];if(!_){const N=q1e(v);N&&(_=g[N])}if(_)return _(v,x,y)}return!1}}function bSe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:H1e,areArraysEqual:r?Pf:G1e,areDataViewsEqual:Y1e,areDatesEqual:Q1e,areErrorsEqual:X1e,areFunctionsEqual:J1e,areMapsEqual:r?Vw(JA,Pf):JA,areNumbersEqual:Z1e,areObjectsEqual:r?Pf:eSe,arePrimitiveWrappersEqual:tSe,areRegExpsEqual:rSe,areSetsEqual:r?Vw(ZA,Pf):ZA,areTypedArraysEqual:r?Vw(ny,Pf):ny,areUrlsEqual:nSe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=tg(n.areArraysEqual),i=tg(n.areMapsEqual),o=tg(n.areObjectsEqual),l=tg(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function wSe(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function jSe({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const _Se=ll();ll({strict:!0});ll({circular:!0});ll({circular:!0,strict:!0});ll({createInternalComparator:()=>_c});ll({strict:!0,createInternalComparator:()=>_c});ll({circular:!0,createInternalComparator:()=>_c});ll({circular:!0,createInternalComparator:()=>_c,strict:!0});function ll(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=bSe(e),o=xSe(i),l=r?r(o):wSe(o);return jSe({circular:t,comparator:o,createState:n,equals:l,strict:s})}function SSe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function eT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):SSe(s)};requestAnimationFrame(n)}function K_(e){"@babel/helpers - typeof";return K_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K_(e)}function NSe(e){return OSe(e)||ESe(e)||CSe(e)||kSe()}function kSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CSe(e,t){if(e){if(typeof e=="string")return tT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tT(e,t)}}function tT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ESe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OSe(e){if(Array.isArray(e))return e}function PSe(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=NSe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){eT(s.bind(null,u),c);return}s(c),eT(s.bind(null,u));return}K_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){rB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rB(e,t,r){return t=ASe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ASe(e){var t=TSe(e,"string");return gm(t)==="symbol"?t:String(t)}function TSe(e,t){if(gm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RSe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},MSe=function(t){return t},$Se=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},uh=function(t,r){return Object.keys(r).reduce(function(n,s){return nT(nT({},n),{},rB({},s,t(s,r[s])))},{})},sT=function(t,r,n){return t.map(function(s){return"".concat($Se(s)," ").concat(r,"ms ").concat(n)}).join(",")};function ISe(e,t){return FSe(e)||LSe(e,t)||nB(e,t)||DSe()}function DSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function FSe(e){if(Array.isArray(e))return e}function USe(e){return zSe(e)||qSe(e)||nB(e)||BSe()}function BSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nB(e,t){if(e){if(typeof e=="string")return H_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H_(e,t)}}function qSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zSe(e){if(Array.isArray(e))return H_(e)}function H_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sy=1e-4,sB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},iB=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},iT=function(t,r){return function(n){var s=sB(t,r);return iB(s,n)}},WSe=function(t,r){return function(n){var s=sB(t,r),i=[].concat(USe(s.map(function(o,l){return o*l}).slice(1)),[0]);return iB(i,n)}},aT=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=ISe(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=iT(s,o),h=iT(i,l),m=WSe(s,o),g=function(x){return x>1?1:x<0?0:x},p=function(x){for(var y=x>1?1:x,w=y,S=0;S<8;++S){var j=f(w)-y,_=m(w);if(Math.abs(j-y)<sy||_<sy)return h(w);w=g(w-j/_)}return h(w)};return p.isStepper=!1,p},VSe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*i,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<sy&&Math.abs(p)<sy?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},KSe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aT(s);case"spring":return VSe();default:if(s.split("(")[0]==="cubic-bezier")return aT(s)}return typeof s=="function"?s:null};function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function oT(e){return YSe(e)||GSe(e)||aB(e)||HSe()}function HSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YSe(e){if(Array.isArray(e))return Y_(e)}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){G_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G_(e,t,r){return t=QSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QSe(e){var t=XSe(e,"string");return vm(t)==="symbol"?t:String(t)}function XSe(e,t){if(vm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JSe(e,t){return tNe(e)||eNe(e,t)||aB(e,t)||ZSe()}function ZSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aB(e,t){if(e){if(typeof e=="string")return Y_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y_(e,t)}}function Y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tNe(e){if(Array.isArray(e))return e}var iy=function(t,r,n){return t+(r-t)*n},Q_=function(t){var r=t.from,n=t.to;return r!==n},rNe=function e(t,r,n){var s=uh(function(i,o){if(Q_(o)){var l=t(o.from,o.to,o.velocity),c=JSe(l,2),u=c[0],d=c[1];return Yr(Yr({},o),{},{from:u,velocity:d})}return o},r);return n<1?uh(function(i,o){return Q_(o)?Yr(Yr({},o),{},{velocity:iy(o.velocity,s[i].velocity,n),from:iy(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const nNe=function(e,t,r,n,s){var i=RSe(e,t),o=i.reduce(function(v,x){return Yr(Yr({},v),{},G_({},x,[e[x],t[x]]))},{}),l=i.reduce(function(v,x){return Yr(Yr({},v),{},G_({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return uh(function(x,y){return y.from},l)},m=function(){return!Object.values(l).filter(Q_).length},g=function(x){u||(u=x);var y=x-u,w=y/r.dt;l=rNe(r,l,w),s(Yr(Yr(Yr({},e),t),h())),u=x,m()||(c=requestAnimationFrame(f))},p=function(x){d||(d=x);var y=(x-d)/n,w=uh(function(j,_){return iy.apply(void 0,oT(_).concat([r(y)]))},o);if(s(Yr(Yr(Yr({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var S=uh(function(j,_){return iy.apply(void 0,oT(_).concat([r(1)]))},o);s(Yr(Yr(Yr({},e),t),S))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}var sNe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function iNe(e,t){if(e==null)return{};var r=aNe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aNe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Kw(e){return uNe(e)||cNe(e)||lNe(e)||oNe()}function oNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lNe(e,t){if(e){if(typeof e=="string")return X_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X_(e,t)}}function cNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uNe(e){if(Array.isArray(e))return X_(e)}function X_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){Kf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kf(e,t,r){return t=oB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oB(n.key),n)}}function hNe(e,t,r){return t&&fNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oB(e){var t=mNe(e,"string");return hd(t)==="symbol"?t:String(t)}function mNe(e,t){if(hd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},J_(e,t)}function gNe(e){var t=vNe();return function(){var n=ay(e),s;if(t){var i=ay(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Z_(this,s)}}function Z_(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e1(e)}function e1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vNe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ay(e)}var Ma=function(e){pNe(r,e);var t=gNe(r);function r(n,s){var i;dNe(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(e1(i)),i.changeStyle=i.changeStyle.bind(e1(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Z_(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Z_(i);i.state={style:c?Kf({},c,u):u}}else i.state={style:{}};return i}return hNe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?Kf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(_Se(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:s.to;if(this.state&&h){var v={style:c?Kf({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(Ws(Ws({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=nNe(o,l,KSe(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,x){if(x===0)return p;var y=v.duration,w=v.easing,S=w===void 0?"ease":w,j=v.style,_=v.properties,N=v.onAnimationEnd,k=x>0?o[x-1]:v,C=_||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(Kw(p),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:y,easing:S}),y]);var T=sT(C,y,S),I=Ws(Ws(Ws({},k.style),j),{},{transition:T});return[].concat(Kw(p),[I,y,N]).filter(MSe)};return this.manager.start([c].concat(Kw(o.reduce(m,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=PSe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?Kf({},l,c):c,v=sT(Object.keys(p),o,u);g.start([d,i,Ws(Ws({},p),{},{transition:v}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=iNe(s,sNe),u=b.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,x=g.className,y=b.cloneElement(m,Ws(Ws({},c),{},{style:Ws(Ws({},v),d),className:x}));return y};return u===1?f(b.Children.only(i)):A.createElement("div",null,b.Children.map(i,function(h){return f(h)}))}}]),r}(b.PureComponent);Ma.displayName="Animate";Ma.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ma.propTypes={from:Pt.oneOfType([Pt.object,Pt.string]),to:Pt.oneOfType([Pt.object,Pt.string]),attributeName:Pt.string,duration:Pt.number,begin:Pt.number,easing:Pt.oneOfType([Pt.string,Pt.func]),steps:Pt.arrayOf(Pt.shape({duration:Pt.number.isRequired,style:Pt.object.isRequired,easing:Pt.oneOfType([Pt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pt.func]),properties:Pt.arrayOf("string"),onAnimationEnd:Pt.func})),children:Pt.oneOfType([Pt.node,Pt.func]),isActive:Pt.bool,canBegin:Pt.bool,onAnimationEnd:Pt.func,shouldReAnimate:Pt.bool,onAnimationStart:Pt.func,onAnimationReStart:Pt.func};function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(this,arguments)}function yNe(e,t){return jNe(e)||wNe(e,t)||bNe(e,t)||xNe()}function xNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bNe(e,t){if(e){if(typeof e=="string")return uT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uT(e,t)}}function uT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function jNe(e){if(Array.isArray(e))return e}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){_Ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ne(e,t,r){return t=SNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SNe(e){var t=NNe(e,"string");return ym(t)=="symbol"?t:t+""}function NNe(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hT=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},kNe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},CNe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nk=function(t){var r=fT(fT({},CNe),t),n=b.useRef(),s=b.useState(-1),i=yNe(s,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=ht("recharts-rectangle",m);return y?A.createElement(Ma,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(S){var j=S.width,_=S.height,N=S.x,k=S.y;return A.createElement(Ma,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:x,easing:g},A.createElement("path",oy({},at(r,!0),{className:w,d:hT(N,k,j,_,h),ref:n})))}):A.createElement("path",oy({},at(r,!0),{className:w,d:hT(c,u,d,f,h)}))};function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t1.apply(this,arguments)}var kk=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=ht("recharts-dot",i);return r===+r&&n===+n&&s===+s?b.createElement("circle",t1({},at(t,!1),Sv(t),{className:o,cx:r,cy:n,r:s})):null};function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}var ENe=["x","y","top","left","width","height","className"];function r1(){return r1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r1.apply(this,arguments)}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ONe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){PNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PNe(e,t,r){return t=ANe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ANe(e){var t=TNe(e,"string");return xm(t)=="symbol"?t:t+""}function TNe(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RNe(e,t){if(e==null)return{};var r=MNe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $Ne=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},INe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=RNe(t,ENe),v=ONe({x:n,y:i,top:l,left:u,width:f,height:m},p);return!me(n)||!me(i)||!me(f)||!me(m)||!me(l)||!me(u)?null:A.createElement("path",r1({},at(v,!0),{className:ht("recharts-cross",g),d:$Ne(n,i,f,m,l,u)}))},DNe=j5,LNe=DNe(Object.getPrototypeOf,Object),FNe=LNe,UNe=za,BNe=FNe,qNe=Wa,zNe="[object Object]",WNe=Function.prototype,VNe=Object.prototype,lB=WNe.toString,KNe=VNe.hasOwnProperty,HNe=lB.call(Object);function GNe(e){if(!qNe(e)||UNe(e)!=zNe)return!1;var t=BNe(e);if(t===null)return!0;var r=KNe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&lB.call(r)==HNe}var YNe=GNe;const QNe=Ut(YNe);var XNe=za,JNe=Wa,ZNe="[object Boolean]";function eke(e){return e===!0||e===!1||JNe(e)&&XNe(e)==ZNe}var tke=eke;const rke=Ut(tke);function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(this,arguments)}function nke(e,t){return oke(e)||ake(e,t)||ike(e,t)||ske()}function ske(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ike(e,t){if(e){if(typeof e=="string")return pT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pT(e,t)}}function pT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ake(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function oke(e){if(Array.isArray(e))return e}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){lke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lke(e,t,r){return t=cke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cke(e){var t=uke(e,"string");return bm(t)=="symbol"?t:t+""}function uke(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yT=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},dke={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fke=function(t){var r=vT(vT({},dke),t),n=b.useRef(),s=b.useState(-1),i=nke(s,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=ht("recharts-trapezoid",m);return x?A.createElement(Ma,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(w){var S=w.upperWidth,j=w.lowerWidth,_=w.height,N=w.x,k=w.y;return A.createElement(Ma,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},A.createElement("path",ly({},at(r,!0),{className:y,d:yT(N,k,S,j,_),ref:n})))}):A.createElement("g",null,A.createElement("path",ly({},at(r,!0),{className:y,d:yT(c,u,d,f,h)})))},hke=["option","shapeType","propTransformer","activeClassName","isActive"];function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function mke(e,t){if(e==null)return{};var r=pke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(r),!0).forEach(function(n){gke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gke(e,t,r){return t=vke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vke(e){var t=yke(e,"string");return wm(t)=="symbol"?t:t+""}function yke(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xke(e,t){return cy(cy({},t),e)}function bke(e,t){return e==="symbols"}function bT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return A.createElement(Nk,r);case"trapezoid":return A.createElement(fke,r);case"sector":return A.createElement(XU,r);case"symbols":if(bke(t))return A.createElement(WN,r);break;default:return null}}function wke(e){return b.isValidElement(e)?e.props:e}function jke(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?xke:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=mke(e,hke),u;if(b.isValidElement(t))u=b.cloneElement(t,cy(cy({},c),wke(t)));else if(nt(t))u=t(c);else if(QNe(t)&&!rke(t)){var d=s(t,c);u=A.createElement(bT,{shapeType:r,elementProps:d})}else{var f=c;u=A.createElement(bT,{shapeType:r,elementProps:f})}return l?A.createElement(cr,{className:o},u):u}function ob(e,t){return t!=null&&"trapezoids"in e.props}function lb(e,t){return t!=null&&"sectors"in e.props}function jm(e,t){return t!=null&&"points"in e.props}function _ke(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function Ske(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Nke(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function kke(e,t){var r;return ob(e,t)?r=_ke:lb(e,t)?r=Ske:jm(e,t)&&(r=Nke),r}function Cke(e,t){var r;return ob(e,t)?r="trapezoids":lb(e,t)?r="sectors":jm(e,t)&&(r="points"),r}function Eke(e,t){if(ob(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(lb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return jm(e,t)?t.payload:{}}function Oke(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=Cke(r,t),i=Eke(r,t),o=n.filter(function(c,u){var d=im(i,c),f=r.props[s].filter(function(g){var p=kke(r,t);return p(g,t)}),h=r.props[s].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Pke=Math.ceil,Ake=Math.max;function Tke(e,t,r,n){for(var s=-1,i=Ake(Pke((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var Rke=Tke,Mke=B5,wT=1/0,$ke=17976931348623157e292;function Ike(e){if(!e)return e===0?e:0;if(e=Mke(e),e===wT||e===-wT){var t=e<0?-1:1;return t*$ke}return e===e?e:0}var cB=Ike,Dke=Rke,Lke=Qx,Hw=cB;function Fke(e){return function(t,r,n){return n&&typeof n!="number"&&Lke(t,r,n)&&(r=n=void 0),t=Hw(t),r===void 0?(r=t,t=0):r=Hw(r),n=n===void 0?t<r?1:-1:Hw(n),Dke(t,r,n,e)}}var Uke=Fke,Bke=Uke,qke=Bke(),zke=qke;const uy=Ut(zke);function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){uB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uB(e,t,r){return t=Wke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wke(e){var t=Vke(e,"string");return _m(t)=="symbol"?t:t+""}function Vke(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kke=["Webkit","Moz","O","ms"],Hke=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Kke.reduce(function(i,o){return _T(_T({},i),{},uB({},o+n,r))},{});return s[t]=r,s};function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(this,arguments)}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){Kn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fB(n.key),n)}}function Yke(e,t,r){return t&&NT(e.prototype,t),r&&NT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qke(e,t,r){return t=fy(t),Xke(e,dB()?Reflect.construct(t,r||[],fy(e).constructor):t.apply(e,r))}function Xke(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jke(e)}function Jke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dB=function(){return!!e})()}function fy(e){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fy(e)}function Zke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n1(e,t)}function n1(e,t){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},n1(e,t)}function Kn(e,t,r){return t=fB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fB(e){var t=eCe(e,"string");return md(t)=="symbol"?t:t+""}function eCe(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tCe=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=oh().domain(uy(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},kT=function(t){return t.changedTouches&&!!t.changedTouches.length},pd=function(e){function t(r){var n;return Gke(this,t),n=Qke(this,t,[r]),Kn(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Kn(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Kn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Kn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Kn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Kn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Kn(n,"handleSlideDragStart",function(s){var i=kT(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Zke(t,e),Yke(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=os(i[n],l,n);return nt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=kT(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),x[o]=u+y;var w=this.getIndex(x),S=w.startIndex,j=w.endIndex,_=function(){var k=v.length-1;return o==="startX"&&(l>c?S%p===0:j%p===0)||l<c&&j===k||o==="endX"&&(l>c?j%p===0:S%p===0)||l>c&&j===k};this.setState(Kn(Kn({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&_()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(Kn({},s,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return A.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=b.Children.only(u);return f?A.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),y=Gw(Gw({},at(this.props,!1)),{},{x,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return A.createElement(cr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return A.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return A.createElement(cr,{className:"recharts-brush-texts"},A.createElement(Fv,dy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(s)),A.createElement(Fv,dy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!s||!s.length||!me(l)||!me(c)||!me(u)||!me(d)||u<=0||d<=0)return null;var w=ht("recharts-brush",i),S=A.Children.count(o)===1,j=Hke("userSelect","none");return A.createElement(cr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return A.createElement(A.Fragment,null,A.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),A.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),A.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return A.isValidElement(n)?i=A.cloneElement(n,s):nt(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Gw({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?tCe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(b.PureComponent);Kn(pd,"displayName","Brush");Kn(pd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rCe=XN;function nCe(e,t){var r;return rCe(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var sCe=nCe,iCe=m5,aCe=il,oCe=sCe,lCe=qn,cCe=Qx;function uCe(e,t,r){var n=lCe(e)?iCe:oCe;return r&&cCe(e,t,r)&&(t=void 0),n(e,aCe(t))}var dCe=uCe;const fCe=Ut(dCe);var Bi=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},CT=I5;function hCe(e,t,r){t=="__proto__"&&CT?CT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var mCe=hCe,pCe=mCe,gCe=M5,vCe=il;function yCe(e,t){var r={};return t=vCe(t),gCe(e,function(n,s,i){pCe(r,s,t(n,s,i))}),r}var xCe=yCe;const bCe=Ut(xCe);function wCe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var jCe=wCe,_Ce=XN;function SCe(e,t){var r=!0;return _Ce(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var NCe=SCe,kCe=jCe,CCe=NCe,ECe=il,OCe=qn,PCe=Qx;function ACe(e,t,r){var n=OCe(e)?kCe:CCe;return r&&PCe(e,t,r)&&(t=void 0),n(e,ECe(t))}var TCe=ACe;const hB=Ut(TCe);var RCe=["x","y"];function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s1.apply(this,arguments)}function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){MCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MCe(e,t,r){return t=$Ce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Ce(e){var t=ICe(e,"string");return Sm(t)=="symbol"?t:t+""}function ICe(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DCe(e,t){if(e==null)return{};var r=LCe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FCe(e,t){var r=e.x,n=e.y,s=DCe(e,RCe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Af(Af(Af(Af(Af({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function OT(e){return A.createElement(jke,s1({shapeType:"rectangle",propTransformer:FCe,activeClassName:"recharts-active-bar"},e))}var UCe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=me(n)||Zle(n);return i?t(n,s):(i||dc(),r)}},BCe=["value","background"],mB;function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function qCe(e,t){if(e==null)return{};var r=zCe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(this,arguments)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){Oo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gB(n.key),n)}}function VCe(e,t,r){return t&&AT(e.prototype,t),r&&AT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KCe(e,t,r){return t=my(t),HCe(e,pB()?Reflect.construct(t,r||[],my(e).constructor):t.apply(e,r))}function HCe(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GCe(e)}function GCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pB=function(){return!!e})()}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},my(e)}function YCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i1(e,t)}function i1(e,t){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},i1(e,t)}function Oo(e,t,r){return t=gB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gB(e){var t=QCe(e,"string");return gd(t)=="symbol"?t:t+""}function QCe(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sc=function(e){function t(){var r;WCe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=KCe(this,t,[].concat(s)),Oo(r,"state",{isAnimationFinished:!1}),Oo(r,"id",Zm("recharts-bar-")),Oo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Oo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return YCe(t,e),VCe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=at(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=br(br(br({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return A.createElement(cr,hy({className:"recharts-bar-rectangle"},Nv(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),A.createElement(OT,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return A.createElement(Ma,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(v,x){var y=h&&h[x];if(y){var w=bs(y.x,v.x),S=bs(y.y,v.y),j=bs(y.width,v.width),_=bs(y.height,v.height);return br(br({},v),{},{x:w(g),y:S(g),width:j(g),height:_(g)})}if(o==="horizontal"){var N=bs(0,v.height),k=N(g);return br(br({},v),{},{y:v.y+v.height-k,height:k})}var C=bs(0,v.width),T=C(g);return br(br({},v),{},{width:T})});return A.createElement(cr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!im(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=at(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=qCe(u,BCe);if(!f)return null;var m=br(br(br(br(br({},h),{},{fill:"#eee"},f),c),Nv(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return A.createElement(OT,hy({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=di(d,ab);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:os(v,x)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return A.createElement(cr,g,f.map(function(p){return A.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=ht("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,S=y||w,j=lt(p)?this.id:p;return A.createElement(cr,{className:x},y||w?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(j)},A.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,A.createElement(cr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!m||v)&&zo.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(b.PureComponent);mB=Sc;Oo(Sc,"displayName","Bar");Oo(Sc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Oo(Sc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=j_e(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?br(br({},p),r.props):r.props,x=v.dataKey,y=v.children,w=v.minPointSize,S=g==="horizontal"?o:i,j=u?S.scale.domain():null,_=P_e({numericAxis:S}),N=di(y,z5),k=f.map(function(C,T){var I,E,U,P,B,R;u?I=__e(u[d+T],j):(I=os(C,x),Array.isArray(I)||(I=[_,I]));var z=UCe(w,mB.defaultProps.minPointSize)(I[1],T);if(g==="horizontal"){var D,M=[o.scale(I[0]),o.scale(I[1])],$=M[0],X=M[1];E=RA({axis:i,ticks:l,bandSize:s,offset:m.offset,entry:C,index:T}),U=(D=X??$)!==null&&D!==void 0?D:void 0,P=m.size;var G=$-X;if(B=Number.isNaN(G)?0:G,R={x:E,y:o.y,width:P,height:o.height},Math.abs(z)>0&&Math.abs(B)<Math.abs(z)){var ce=ii(B||z)*(Math.abs(z)-Math.abs(B));U-=ce,B+=ce}}else{var pe=[i.scale(I[0]),i.scale(I[1])],We=pe[0],te=pe[1];if(E=We,U=RA({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:C,index:T}),P=te-We,B=m.size,R={x:i.x,y:U,width:i.width,height:B},Math.abs(z)>0&&Math.abs(P)<Math.abs(z)){var se=ii(P||z)*(Math.abs(z)-Math.abs(P));P+=se}}return br(br(br({},C),{},{x:E,y:U,width:P,height:B,value:u?I:I[1],payload:C,background:R},N&&N[T]&&N[T].props),{},{tooltipPayload:[GU(r,C)],tooltipPosition:{x:E+P/2,y:U+B/2}})});return br({data:k,layout:g},h)});function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function XCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vB(n.key),n)}}function JCe(e,t,r){return t&&TT(e.prototype,t),r&&TT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){cb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cb(e,t,r){return t=vB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vB(e){var t=ZCe(e,"string");return Nm(t)=="symbol"?t:t+""}function ZCe(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yB=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Gn(u,Sc);return d.reduce(function(m,g){var p=r[g],v=p.orientation,x=p.domain,y=p.padding,w=y===void 0?{}:y,S=p.mirror,j=p.reversed,_="".concat(v).concat(S?"Mirror":""),N,k,C,T,I;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var E=x[1]-x[0],U=1/0,P=p.categoricalDomain.sort(rce);if(P.forEach(function(pe,We){We>0&&(U=Math.min((pe||0)-(P[We-1]||0),U))}),Number.isFinite(U)){var B=U/E,R=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=B*R/2),p.padding==="no-gap"){var z=cc(t.barCategoryGap,B*R),D=B*R/2;N=D-z-(D-z)/R*z}}}s==="xAxis"?k=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:k=p.range,j&&(k=[k[1],k[0]]);var M=b_e(p,i,h),$=M.scale,X=M.realScaleType;$.domain(x).range(k),w_e($);var G=O_e($,ei(ei({},p),{},{realScaleType:X}));s==="xAxis"?(I=v==="top"&&!S||v==="bottom"&&S,C=n.left,T=f[_]-I*p.height):s==="yAxis"&&(I=v==="left"&&!S||v==="right"&&S,C=f[_]-I*p.width,T=n.top);var ce=ei(ei(ei({},p),G),{},{realScaleType:X,x:C,y:T,scale:$,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return ce.bandSize=ey(ce,G),!p.hide&&s==="xAxis"?f[_]+=(I?-1:1)*ce.height:p.hide||(f[_]+=(I?-1:1)*ce.width),ei(ei({},m),{},cb({},g,ce))},{})},xB=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},eEe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return xB({x:r,y:n},{x:s,y:i})},bB=function(){function e(t){XCe(this,e),this.scale=t}return JCe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();cb(bB,"EPS",1e-4);var Ck=function(t){var r=Object.keys(t).reduce(function(n,s){return ei(ei({},n),{},cb({},s,bB.create(t[s])))},{});return ei(ei({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return bCe(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return hB(s,function(i,o){return r[o].isInRange(i)})}})};function tEe(e){return(e%180+180)%180}var rEe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=tEe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},nEe=il,sEe=ep,iEe=Gx;function aEe(e){return function(t,r,n){var s=Object(t);if(!sEe(t)){var i=nEe(r);t=iEe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var oEe=aEe,lEe=cB;function cEe(e){var t=lEe(e),r=t%1;return t===t?r?t-r:t:0}var uEe=cEe,dEe=E5,fEe=il,hEe=uEe,mEe=Math.max;function pEe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:hEe(r);return s<0&&(s=mEe(n+s,0)),dEe(e,fEe(t),s)}var gEe=pEe,vEe=oEe,yEe=gEe,xEe=vEe(yEe),bEe=xEe;const wEe=Ut(bEe);var jEe=ile(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Ek=b.createContext(void 0),Ok=b.createContext(void 0),wB=b.createContext(void 0),jB=b.createContext({}),_B=b.createContext(void 0),SB=b.createContext(0),NB=b.createContext(0),MT=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=jEe(i);return A.createElement(Ek.Provider,{value:n},A.createElement(Ok.Provider,{value:s},A.createElement(jB.Provider,{value:i},A.createElement(wB.Provider,{value:d},A.createElement(_B.Provider,{value:o},A.createElement(SB.Provider,{value:u},A.createElement(NB.Provider,{value:c},l)))))))},_Ee=function(){return b.useContext(_B)},kB=function(t){var r=b.useContext(Ek);r==null&&dc();var n=r[t];return n==null&&dc(),n},SEe=function(){var t=b.useContext(Ek);return mo(t)},NEe=function(){var t=b.useContext(Ok),r=wEe(t,function(n){return hB(n.domain,Number.isFinite)});return r||mo(t)},CB=function(t){var r=b.useContext(Ok);r==null&&dc();var n=r[t];return n==null&&dc(),n},kEe=function(){var t=b.useContext(wB);return t},CEe=function(){return b.useContext(jB)},Pk=function(){return b.useContext(NB)},Ak=function(){return b.useContext(SB)};function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function EEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OB(n.key),n)}}function PEe(e,t,r){return t&&OEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AEe(e,t,r){return t=py(t),TEe(e,EB()?Reflect.construct(t,r||[],py(e).constructor):t.apply(e,r))}function TEe(e,t){if(t&&(vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return REe(e)}function REe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EB=function(){return!!e})()}function py(e){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},py(e)}function MEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a1(e,t)}function a1(e,t){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},a1(e,t)}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(n){Tk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tk(e,t,r){return t=OB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OB(e){var t=$Ee(e,"string");return vd(t)=="symbol"?t:t+""}function $Ee(e,t){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IEe(e,t){return UEe(e)||FEe(e,t)||LEe(e,t)||DEe()}function DEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LEe(e,t){if(e){if(typeof e=="string")return DT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DT(e,t)}}function DT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function UEe(e){if(Array.isArray(e))return e}function o1(){return o1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o1.apply(this,arguments)}var BEe=function(t,r){var n;return A.isValidElement(t)?n=A.cloneElement(t,r):nt(t)?n=t(r):n=A.createElement("line",o1({},r,{className:"recharts-reference-line-line"})),n},qEe=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(Bi(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var x=u.x,y=t.x.apply(x,{position:o});if(Bi(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+m},{x:y,y:f}];return l==="top"?w.reverse():w}if(s){var S=u.segment,j=S.map(function(_){return t.apply(_,{position:o})});return Bi(u,"discard")&&fCe(j,function(_){return!t.isInRange(_)})?null:j}return null};function zEe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=_Ee(),d=kB(s),f=CB(i),h=kEe();if(!u||!h)return null;ba(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Ck({x:d.scale,y:f.scale}),g=Dr(t),p=Dr(r),v=n&&n.length===2,x=qEe(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var y=IEe(x,2),w=y[0],S=w.x,j=w.y,_=y[1],N=_.x,k=_.y,C=Bi(e,"hidden")?"url(#".concat(u,")"):void 0,T=IT(IT({clipPath:C},at(e,!0)),{},{x1:S,y1:j,x2:N,y2:k});return A.createElement(cr,{className:ht("recharts-reference-line",l)},BEe(o,T),cn.renderCallByParent(e,eEe({x1:S,y1:j,x2:N,y2:k})))}var Rk=function(e){function t(){return EEe(this,t),AEe(this,t,arguments)}return MEe(t,e),PEe(t,[{key:"render",value:function(){return A.createElement(zEe,this.props)}}])}(A.Component);Tk(Rk,"displayName","ReferenceLine");Tk(Rk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l1.apply(this,arguments)}function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function FT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){ub(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AB(n.key),n)}}function KEe(e,t,r){return t&&VEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HEe(e,t,r){return t=gy(t),GEe(e,PB()?Reflect.construct(t,r||[],gy(e).constructor):t.apply(e,r))}function GEe(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YEe(e)}function YEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PB=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(e)}function QEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c1(e,t)}function c1(e,t){return c1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},c1(e,t)}function ub(e,t,r){return t=AB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AB(e){var t=XEe(e,"string");return yd(t)=="symbol"?t:t+""}function XEe(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JEe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=Ck({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Bi(t,"discard")&&!o.isInRange(l)?null:l},db=function(e){function t(){return WEe(this,t),HEe(this,t,arguments)}return QEe(t,e),KEe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Dr(s),d=Dr(i);if(ba(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=JEe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,x=Bi(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=FT(FT({clipPath:x},at(this.props,!0)),{},{cx:h,cy:m});return A.createElement(cr,{className:ht("recharts-reference-dot",v)},t.renderDot(p,y),cn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(A.Component);ub(db,"displayName","ReferenceDot");ub(db,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ub(db,"renderDot",function(e,t){var r;return A.isValidElement(e)?r=A.cloneElement(e,t):nt(e)?r=e(t):r=A.createElement(kk,l1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function u1(){return u1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u1.apply(this,arguments)}function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){fb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RB(n.key),n)}}function t2e(e,t,r){return t&&e2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r2e(e,t,r){return t=vy(t),n2e(e,TB()?Reflect.construct(t,r||[],vy(e).constructor):t.apply(e,r))}function n2e(e,t){if(t&&(xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s2e(e)}function s2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!e})()}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vy(e)}function i2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d1(e,t)}function d1(e,t){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},d1(e,t)}function fb(e,t,r){return t=RB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=a2e(e,"string");return xd(t)=="symbol"?t:t+""}function a2e(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var o2e=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=Ck({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Bi(i,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:xB(m,g)},hb=function(e){function t(){return ZEe(this,t),r2e(this,t,arguments)}return i2e(t,e),t2e(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ba(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dr(s),h=Dr(i),m=Dr(o),g=Dr(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=o2e(f,h,m,g,this.props);if(!v&&!p)return null;var x=Bi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return A.createElement(cr,{className:ht("recharts-reference-area",c)},t.renderRect(p,BT(BT({clipPath:x},at(this.props,!0)),v)),cn.renderCallByParent(this.props,v))}}])}(A.Component);fb(hb,"displayName","ReferenceArea");fb(hb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});fb(hb,"renderRect",function(e,t){var r;return A.isValidElement(e)?r=A.cloneElement(e,t):nt(e)?r=e(t):r=A.createElement(Nk,u1({},t,{className:"recharts-reference-area-rect"})),r});function MB(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function l2e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return rEe(n,r)}function c2e(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function yy(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function u2e(e,t){return MB(e,t+1)}function d2e(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:MB(n,u)};var p=c,v,x=function(){return v===void 0&&(v=r(g,p)),v},y=g.coordinate,w=c===0||yy(e,y,x,d,l);w||(c=0,d=o,u+=1),w&&(d=y+e*(x()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(n){f2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f2e(e,t,r){return t=h2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h2e(e){var t=m2e(e,"string");return km(t)=="symbol"?t:t+""}function m2e(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p2e(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var v=e*(m.coordinate+e*p()/2-c);i[h]=m=on(on({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=on(on({},m),{},{tickCoord:m.coordinate});var x=yy(e,m.tickCoord,p,l,c);x&&(c=m.tickCoord-e*(p()/2+s),i[h]=on(on({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function g2e(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=on(on({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=yy(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=on(on({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(y){var w=o[y],S,j=function(){return S===void 0&&(S=r(w,y)),S};if(y===0){var _=e*(w.coordinate-e*j()/2-c);o[y]=w=on(on({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else o[y]=w=on(on({},w),{},{tickCoord:w.coordinate});var N=yy(e,w.tickCoord,j,c,u);N&&(c=w.tickCoord+e*(j()/2+s),o[y]=on(on({},w),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function Mk(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(me(c)||Xd.isSsr)return u2e(s,typeof c=="number"&&me(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?ah(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,S){var j=nt(u)?u(w.value,S):w.value;return m==="width"?l2e(ah(j,{fontSize:t,letterSpacing:r}),g,f):ah(j,{fontSize:t,letterSpacing:r})[m]},v=s.length>=2?ii(s[1].coordinate-s[0].coordinate):1,x=c2e(i,v,m);return c==="equidistantPreserveStart"?d2e(v,x,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=g2e(v,x,p,s,o,c==="preserveStartEnd"):h=p2e(v,x,p,s,o),h.filter(function(y){return y.isShow}))}var v2e=["viewBox"],y2e=["viewBox"],x2e=["ticks"];function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uu.apply(this,arguments)}function zT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(r),!0).forEach(function(n){$k(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yw(e,t){if(e==null)return{};var r=b2e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IB(n.key),n)}}function j2e(e,t,r){return t&&WT(e.prototype,t),r&&WT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _2e(e,t,r){return t=xy(t),S2e(e,$B()?Reflect.construct(t,r||[],xy(e).constructor):t.apply(e,r))}function S2e(e,t){if(t&&(bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N2e(e)}function N2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($B=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xy(e)}function k2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f1(e,t)}function f1(e,t){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},f1(e,t)}function $k(e,t,r){return t=IB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=C2e(e,"string");return bd(t)=="symbol"?t:t+""}function C2e(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tf=function(e){function t(r){var n;return w2e(this,t),n=_2e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return k2e(t,e),j2e(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=Yw(n,v2e),l=this.props,c=l.viewBox,u=Yw(l,y2e);return!ju(i,c)||!ju(o,u)||!ju(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,m,g,p,v,x,y,w=f?-1:1,S=n.tickSize||d,j=me(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=o+ +!f*c,p=v-w*S,y=p-w*h,x=j;break;case"left":p=v=n.coordinate,g=i+ +!f*l,m=g-w*S,x=m-w*h,y=j;break;case"right":p=v=n.coordinate,g=i+ +f*l,m=g+w*S,x=m+w*h,y=j;break;default:m=g=n.coordinate,v=o+ +f*c,p=v+w*S,y=p+w*h,x=j;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Er(Er(Er({},at(this.props,!1)),at(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Er(Er({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Er(Er({},f),{},{x1:s+m*o,y1:i,x2:s+m*o,y2:i+l})}return A.createElement("line",uu({},f,{className:ht("recharts-cartesian-axis-line",Cs(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=Mk(Er(Er({},this.props),{},{ticks:n}),s,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=at(this.props,!1),x=at(d,!1),y=Er(Er({},v),{},{fill:"none"},at(c,!1)),w=m.map(function(S,j){var _=o.getTickLineCoord(S),N=_.line,k=_.tick,C=Er(Er(Er(Er({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},x),k),{},{index:j,payload:S,visibleTicksCount:m.length,tickFormatter:f});return A.createElement(cr,uu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Nv(o.props,S,j)),c&&A.createElement("line",uu({},y,N,{className:ht("recharts-cartesian-axis-tick-line",Cs(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(nt(f)?f(S.value,j):S.value).concat(h||"")))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,m=Yw(f,x2e),g=h;return nt(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:A.createElement(cr,{className:ht("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),cn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=ht(s.className,"recharts-cartesian-axis-tick-value");return A.isValidElement(n)?o=A.cloneElement(n,Er(Er({},s),{},{className:l})):nt(n)?o=n(Er(Er({},s),{},{className:l})):o=A.createElement(Fv,uu({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(b.Component);$k(tf,"displayName","CartesianAxis");$k(tf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var E2e=["x1","y1","x2","y2","key"],O2e=["offset"];function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){P2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P2e(e,t,r){return t=A2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A2e(e){var t=T2e(e,"string");return fc(t)=="symbol"?t:t+""}function T2e(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tl.apply(this,arguments)}function KT(e,t){if(e==null)return{};var r=R2e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var M2e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return A.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function DB(e,t){var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=KT(t,E2e),u=at(c,!1);u.offset;var d=KT(u,O2e);r=A.createElement("line",Tl({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function $2e(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=un(un({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return DB(s,u)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function I2e(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=un(un({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return DB(s,u)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function D2e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+o-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return A.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function L2e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?i+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return A.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var F2e=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return KU(Mk(un(un(un({},tf.defaultProps),n),{},{ticks:pa(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},U2e=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return KU(Mk(un(un(un({},tf.defaultProps),n),{},{ticks:pa(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},zc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function by(e){var t,r,n,s,i,o,l=Pk(),c=Ak(),u=CEe(),d=un(un({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:zc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:zc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:zc.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:zc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:zc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:zc.verticalFill,x:me(e.x)?e.x:u.left,y:me(e.y)?e.y:u.top,width:me(e.width)?e.width:u.width,height:me(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=SEe(),w=NEe();if(!me(m)||m<=0||!me(g)||g<=0||!me(f)||f!==+f||!me(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||F2e,j=d.horizontalCoordinatesGenerator||U2e,_=d.horizontalPoints,N=d.verticalPoints;if((!_||!_.length)&&nt(j)){var k=v&&v.length,C=j({yAxis:w?un(un({},w),{},{ticks:k?v:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);ba(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fc(C),"]")),Array.isArray(C)&&(_=C)}if((!N||!N.length)&&nt(S)){var T=x&&x.length,I=S({xAxis:y?un(un({},y),{},{ticks:T?x:y.ticks}):void 0,width:l,height:c,offset:u},T?!0:p);ba(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fc(I),"]")),Array.isArray(I)&&(N=I)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(M2e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),A.createElement($2e,Tl({},d,{offset:u,horizontalPoints:_,xAxis:y,yAxis:w})),A.createElement(I2e,Tl({},d,{offset:u,verticalPoints:N,xAxis:y,yAxis:w})),A.createElement(D2e,Tl({},d,{horizontalPoints:_})),A.createElement(L2e,Tl({},d,{verticalPoints:N})))}by.displayName="CartesianGrid";var B2e=["layout","type","stroke","connectNulls","isRange","ref"],q2e=["key"],LB;function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function FB(e,t){if(e==null)return{};var r=z2e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rl.apply(this,arguments)}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(n){Ti(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BB(n.key),n)}}function V2e(e,t,r){return t&&GT(e.prototype,t),r&&GT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K2e(e,t,r){return t=wy(t),H2e(e,UB()?Reflect.construct(t,r||[],wy(e).constructor):t.apply(e,r))}function H2e(e,t){if(t&&(wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G2e(e)}function G2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UB=function(){return!!e})()}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wy(e)}function Y2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h1(e,t)}function h1(e,t){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},h1(e,t)}function Ti(e,t,r){return t=BB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BB(e){var t=Q2e(e,"string");return wd(t)=="symbol"?t:t+""}function Q2e(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ka=function(e){function t(){var r;W2e(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=K2e(this,t,[].concat(s)),Ti(r,"state",{isAnimationFinished:!0}),Ti(r,"id",Zm("recharts-area-")),Ti(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nt(o)&&o()}),Ti(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nt(o)&&o()}),r}return Y2e(t,e),V2e(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=at(this.props,!1),m=at(u,!0),g=d.map(function(v,x){var y=no(no(no({key:"dot-".concat(x),r:3},h),m),{},{index:x,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,y)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return A.createElement(cr,Rl({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=Eo(o.map(function(h){return h.y||0}));return me(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Eo(i.map(function(h){return h.y||0})),f)),me(f)?A.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=Eo(o.map(function(h){return h.x||0}));return me(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Eo(i.map(function(h){return h.x||0})),f)),me(f)?A.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=FB(l,B2e);return A.createElement(cr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},A.createElement(ch,Rl({},at(m,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&A.createElement(ch,Rl({},at(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&A.createElement(ch,Rl({},at(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,v=g.prevBaseLine;return A.createElement(Ma,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t;if(p){var w=p.length/l.length,S=l.map(function(k,C){var T=Math.floor(C*w);if(p[T]){var I=p[T],E=bs(I.x,k.x),U=bs(I.y,k.y);return no(no({},k),{},{x:E(y),y:U(y)})}return k}),j;if(me(c)&&typeof c=="number"){var _=bs(v,c);j=_(y)}else if(lt(c)||Hd(c)){var N=bs(v,0);j=N(y)}else j=c.map(function(k,C){var T=Math.floor(C*w);if(v[T]){var I=v[T],E=bs(I.x,k.x),U=bs(I.y,k.y);return no(no({},k),{},{x:E(y),y:U(y)})}return k});return i.renderAreaStatically(S,j,n,s)}return A.createElement(cr,null,A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(y))),A.createElement(cr,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!im(d,o)||!im(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,m=s.width,g=s.height,p=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,y=l.length===1,w=ht("recharts-area",c),S=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,_=S||j,N=lt(v)?this.id:v,k=(n=at(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,T=C===void 0?3:C,I=k.strokeWidth,E=I===void 0?2:I,U=dce(o)?o:{},P=U.clipDot,B=P===void 0?!0:P,R=T*2+E;return A.createElement(cr,{className:w},S||j?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(N)},A.createElement("rect",{x:S?d:d-m/2,y:j?u:u-g/2,width:S?m:m*2,height:j?g:g*2})),!B&&A.createElement("clipPath",{id:"clipPath-dots-".concat(N)},A.createElement("rect",{x:d-R/2,y:u-R/2,width:m+R,height:g+R}))):null,y?null:this.renderArea(_,N),(o||y)&&this.renderDots(_,B,N),(!p||x)&&zo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(b.PureComponent);LB=Ka;Ti(Ka,"displayName","Area");Ti(Ka,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Xd.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ti(Ka,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(me(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Ti(Ka,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,g=u&&u.length,p=LB.getBaseValue(t,r,n,s),v=m==="horizontal",x=!1,y=f.map(function(S,j){var _;g?_=u[d+j]:(_=os(S,c),Array.isArray(_)?x=!0:_=[p,_]);var N=_[1]==null||g&&os(S,c)==null;return v?{x:TA({axis:n,ticks:i,bandSize:l,entry:S,index:j}),y:N?null:s.scale(_[1]),value:_,payload:S}:{x:N?null:n.scale(_[1]),y:TA({axis:s,ticks:o,bandSize:l,entry:S,index:j}),value:_,payload:S}}),w;return g||x?w=y.map(function(S){var j=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:j!=null&&S.y!=null?s.scale(j):null}:{x:j!=null?n.scale(j):null,y:S.y}}):w=v?s.scale(p):n.scale(p),no({points:y,baseLine:w,layout:m,isRange:x},h)});Ti(Ka,"renderDotItem",function(e,t){var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=ht("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=FB(t,q2e);r=A.createElement(kk,Rl({},i,{key:s,className:n}))}return r});function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function X2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WB(n.key),n)}}function Z2e(e,t,r){return t&&J2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eOe(e,t,r){return t=jy(t),tOe(e,qB()?Reflect.construct(t,r||[],jy(e).constructor):t.apply(e,r))}function tOe(e,t){if(t&&(jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rOe(e)}function rOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qB=function(){return!!e})()}function jy(e){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jy(e)}function nOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m1(e,t)}function m1(e,t){return m1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},m1(e,t)}function zB(e,t,r){return t=WB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WB(e){var t=sOe(e,"string");return jd(t)=="symbol"?t:t+""}function sOe(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p1.apply(this,arguments)}function iOe(e){var t=e.xAxisId,r=Pk(),n=Ak(),s=kB(t);return s==null?null:b.createElement(tf,p1({},s,{className:ht("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return pa(o,!0)}}))}var hc=function(e){function t(){return X2e(this,t),eOe(this,t,arguments)}return nOe(t,e),Z2e(t,[{key:"render",value:function(){return b.createElement(iOe,this.props)}}])}(b.Component);zB(hc,"displayName","XAxis");zB(hc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function aOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HB(n.key),n)}}function lOe(e,t,r){return t&&oOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cOe(e,t,r){return t=_y(t),uOe(e,VB()?Reflect.construct(t,r||[],_y(e).constructor):t.apply(e,r))}function uOe(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dOe(e)}function dOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VB=function(){return!!e})()}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_y(e)}function fOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g1(e,t)}function g1(e,t){return g1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},g1(e,t)}function KB(e,t,r){return t=HB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HB(e){var t=hOe(e,"string");return _d(t)=="symbol"?t:t+""}function hOe(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v1.apply(this,arguments)}var mOe=function(t){var r=t.yAxisId,n=Pk(),s=Ak(),i=CB(r);return i==null?null:b.createElement(tf,v1({},i,{className:ht("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return pa(l,!0)}}))},mc=function(e){function t(){return aOe(this,t),cOe(this,t,arguments)}return fOe(t,e),lOe(t,[{key:"render",value:function(){return b.createElement(mOe,this.props)}}])}(b.Component);KB(mc,"displayName","YAxis");KB(mc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function YT(e){return yOe(e)||vOe(e)||gOe(e)||pOe()}function pOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gOe(e,t){if(e){if(typeof e=="string")return y1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y1(e,t)}}function vOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yOe(e){if(Array.isArray(e))return y1(e)}function y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x1=function(t,r,n,s,i){var o=di(t,Rk),l=di(t,db),c=[].concat(YT(o),YT(l)),u=di(t,hb),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&Bi(v.props,"extendDomain")&&me(v.props[f])){var x=v.props[f];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&Bi(v.props,"extendDomain")&&me(v.props[m])&&me(v.props[g])){var x=v.props[m],y=v.props[g];return[Math.min(p[0],x,y),Math.max(p[1],x,y)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,v){return me(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},GB={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],x=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var S=v.length,j;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!y)for(j=1,y=new Array(x-1);j<x;j++)y[j-1]=arguments[j];v[w].fn.apply(v[w].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,v=[],x=g.length;p<x;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(GB);var xOe=GB.exports;const bOe=Ut(xOe);var Qw=new bOe,Xw="recharts.syncMouseEvents";function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function wOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YB(n.key),n)}}function _Oe(e,t,r){return t&&jOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jw(e,t,r){return t=YB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=SOe(e,"string");return Cm(t)=="symbol"?t:t+""}function SOe(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NOe=function(){function e(){wOe(this,e),Jw(this,"activeIndex",0),Jw(this,"coordinateList",[]),Jw(this,"layout","horizontal")}return _Oe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function kOe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&me(n)&&me(s))return!0}return!1}function COe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function QB(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Jr(t,r,n,s),l=Jr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function EOe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Jr(l,c,u,f),m=Jr(l,c,d,f);n=h.x,s=h.y,i=m.x,o=m.y}else return QB(t);return[{x:n,y:s},{x:i,y:o}]}function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){OOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OOe(e,t,r){return t=POe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function POe(e){var t=AOe(e,"string");return Em(t)=="symbol"?t:t+""}function AOe(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TOe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,p=ch;if(h==="ScatterChart")g=o,p=INe;else if(h==="BarChart")g=COe(f,o,c,d),p=Nk;else if(f==="radial"){var v=QB(o),x=v.cx,y=v.cy,w=v.radius,S=v.startAngle,j=v.endAngle;g={cx:x,cy:y,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},p=XU}else g={points:EOe(f,o,c)},p=ch;var _=rg(rg(rg(rg({stroke:"#ccc",pointerEvents:"none"},c),g),at(m,!1)),{},{payload:l,payloadIndex:u,className:ht("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,_):b.createElement(p,_)}var ROe=["item"],MOe=["children","className","width","height","style","compact","title","desc"];function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},du.apply(this,arguments)}function XT(e,t){return DOe(e)||IOe(e,t)||JB(e,t)||$Oe()}function $Oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function DOe(e){if(Array.isArray(e))return e}function JT(e,t){if(e==null)return{};var r=LOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZB(n.key),n)}}function BOe(e,t,r){return t&&UOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qOe(e,t,r){return t=Sy(t),zOe(e,XB()?Reflect.construct(t,r||[],Sy(e).constructor):t.apply(e,r))}function zOe(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WOe(e)}function WOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XB=function(){return!!e})()}function Sy(e){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sy(e)}function VOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b1(e,t)}function b1(e,t){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},b1(e,t)}function Nd(e){return GOe(e)||HOe(e)||JB(e)||KOe()}function KOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JB(e,t){if(e){if(typeof e=="string")return w1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(e,t)}}function HOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GOe(e){if(Array.isArray(e))return w1(e)}function w1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(r),!0).forEach(function(n){He(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function He(e,t,r){return t=ZB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZB(e){var t=YOe(e,"string");return Sd(t)=="symbol"?t:t+""}function YOe(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QOe={xAxis:["bottom","top"],yAxis:["left","right"]},XOe={width:"100%",height:"100%"},e6={x:0,y:0};function ng(e){return e}var JOe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ZOe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return J(J(J({},s),Jr(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return J(J(J({},s),Jr(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return e6},mb=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Nd(l),Nd(u)):l},[]);return o.length>0?o:t&&t.length&&me(s)&&me(i)?t.slice(s,i+1):[]};function t6(e){return e==="number"?[0,"auto"]:void 0}var j1=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=mb(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=_v(m,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(Nd(c),[GU(u,h)]):c},[])},eR=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=JOe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=m_e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=j1(t,r,d,f),m=ZOe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},ePe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=VU(d,i);return n.reduce(function(g,p){var v,x=p.type.defaultProps!==void 0?J(J({},p.type.defaultProps),p.props):p.props,y=x.type,w=x.dataKey,S=x.allowDataOverflow,j=x.allowDuplicatedCategory,_=x.scale,N=x.ticks,k=x.includeHidden,C=x[o];if(g[C])return g;var T=mb(t.data,{graphicalItems:s.filter(function(G){var ce,pe=o in G.props?G.props[o]:(ce=G.type.defaultProps)===null||ce===void 0?void 0:ce[o];return pe===C}),dataStartIndex:c,dataEndIndex:u}),I=T.length,E,U,P;kOe(x.domain,S,y)&&(E=B_(x.domain,null,S),m&&(y==="number"||_!=="auto")&&(P=lh(T,w,"category")));var B=t6(y);if(!E||E.length===0){var R,z=(R=x.domain)!==null&&R!==void 0?R:B;if(w){if(E=lh(T,w,y),y==="category"&&m){var D=tce(E);j&&D?(U=E,E=uy(0,I)):j||(E=IA(z,E,p).reduce(function(G,ce){return G.indexOf(ce)>=0?G:[].concat(Nd(G),[ce])},[]))}else if(y==="category")j?E=E.filter(function(G){return G!==""&&!lt(G)}):E=IA(z,E,p).reduce(function(G,ce){return G.indexOf(ce)>=0||ce===""||lt(ce)?G:[].concat(Nd(G),[ce])},[]);else if(y==="number"){var M=x_e(T,s.filter(function(G){var ce,pe,We=o in G.props?G.props[o]:(ce=G.type.defaultProps)===null||ce===void 0?void 0:ce[o],te="hide"in G.props?G.props.hide:(pe=G.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return We===C&&(k||!te)}),w,i,d);M&&(E=M)}m&&(y==="number"||_!=="auto")&&(P=lh(T,w,"category"))}else m?E=uy(0,I):l&&l[C]&&l[C].hasStack&&y==="number"?E=h==="expand"?[0,1]:HU(l[C].stackGroups,c,u):E=WU(T,s.filter(function(G){var ce=o in G.props?G.props[o]:G.type.defaultProps[o],pe="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ce===C&&(k||!pe)}),y,d,!0);if(y==="number")E=x1(f,E,C,i,N),z&&(E=B_(z,E,S));else if(y==="category"&&z){var $=z,X=E.every(function(G){return $.indexOf(G)>=0});X&&(E=$)}}return J(J({},g),{},He({},C,J(J({},x),{},{axisType:i,domain:E,categoricalDomain:P,duplicateDomain:U,originalDomain:(v=x.domain)!==null&&v!==void 0?v:B,isCategorical:m,layout:d})))},{})},tPe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=mb(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=VU(d,i),p=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?J(J({},x.type.defaultProps),x.props):x.props,w=y[o],S=t6("number");if(!v[w]){p++;var j;return g?j=uy(0,m):l&&l[w]&&l[w].hasStack?(j=HU(l[w].stackGroups,c,u),j=x1(f,j,w,i)):(j=B_(S,WU(h,n.filter(function(_){var N,k,C=o in _.props?_.props[o]:(N=_.type.defaultProps)===null||N===void 0?void 0:N[o],T="hide"in _.props?_.props.hide:(k=_.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!T}),"number",d),s.defaultProps.allowDataOverflow),j=x1(f,j,w,i)),J(J({},v),{},He({},w,J(J({axisType:i},s.defaultProps),{},{hide:!0,orientation:Cs(QOe,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:S,isCategorical:g,layout:d})))}return v},{})},rPe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=di(d,i),m={};return h&&h.length?m=ePe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=tPe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},nPe=function(t){var r=mo(t),n=pa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:JN(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ey(r,n)}},tR=function(t){var r=t.children,n=t.defaultShowTooltip,s=Gn(r,pd),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},sPe=function(t){return!t||!t.length?!1:t.some(function(r){var n=xa(r&&r.type);return n&&n.indexOf("Bar")>=0})},rR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},iPe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Gn(f,pd),g=Gn(f,_u),p=Object.keys(c).reduce(function(j,_){var N=c[_],k=N.orientation;return!N.mirror&&!N.hide?J(J({},j),{},He({},k,j[k]+N.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,_){var N=o[_],k=N.orientation;return!N.mirror&&!N.hide?J(J({},j),{},He({},k,Cs(j,"".concat(k))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),x=J(J({},v),p),y=x.bottom;m&&(x.bottom+=m.props.height||pd.defaultProps.height),g&&r&&(x=v_e(x,s,n,r));var w=u-x.left-x.right,S=d-x.top-x.bottom;return J(J({brushBottom:y},x),{},{width:Math.max(w,0),height:Math.max(S,0)})},aPe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},r6=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(x,y){var w=y.graphicalItems,S=y.stackGroups,j=y.offset,_=y.updateId,N=y.dataStartIndex,k=y.dataEndIndex,C=x.barSize,T=x.layout,I=x.barGap,E=x.barCategoryGap,U=x.maxBarSize,P=rR(T),B=P.numericAxisName,R=P.cateAxisName,z=sPe(w),D=[];return w.forEach(function(M,$){var X=mb(x.data,{graphicalItems:[M],dataStartIndex:N,dataEndIndex:k}),G=M.type.defaultProps!==void 0?J(J({},M.type.defaultProps),M.props):M.props,ce=G.dataKey,pe=G.maxBarSize,We=G["".concat(B,"Id")],te=G["".concat(R,"Id")],se={},Ie=c.reduce(function(L,V){var Q=y["".concat(V.axisType,"Map")],je=G["".concat(V.axisType,"Id")];Q&&Q[je]||V.axisType==="zAxis"||dc();var ge=Q[je];return J(J({},L),{},He(He({},V.axisType,ge),"".concat(V.axisType,"Ticks"),pa(ge)))},se),ee=Ie[R],ue=Ie["".concat(R,"Ticks")],K=S&&S[We]&&S[We].hasStack&&A_e(M,S[We].stackGroups),H=xa(M.type).indexOf("Bar")>=0,Xe=ey(ee,ue),Ke=[],Ot=z&&p_e({barSize:C,stackGroups:S,totalSize:aPe(Ie,R)});if(H){var kt,rr,rn=lt(pe)?U:pe,Cn=(kt=(rr=ey(ee,ue,!0))!==null&&rr!==void 0?rr:rn)!==null&&kt!==void 0?kt:0;Ke=g_e({barGap:I,barCategoryGap:E,bandSize:Cn!==Xe?Cn:Xe,sizeList:Ot[te],maxBarSize:rn}),Cn!==Xe&&(Ke=Ke.map(function(L){return J(J({},L),{},{position:J(J({},L.position),{},{offset:L.position.offset-Cn/2})})}))}var bi=M&&M.type&&M.type.getComposedData;bi&&D.push({props:J(J({},bi(J(J({},Ie),{},{displayedData:X,props:x,dataKey:ce,item:M,bandSize:Xe,barPosition:Ke,offset:j,stackedData:K,layout:T,dataStartIndex:N,dataEndIndex:k}))),{},He(He(He({key:M.key||"item-".concat($)},B,Ie[B]),R,Ie[R]),"animationId",_)),childIndex:mce(M,x.children),item:M})}),D},m=function(x,y){var w=x.props,S=x.dataStartIndex,j=x.dataEndIndex,_=x.updateId;if(!OO({props:w}))return null;var N=w.children,k=w.layout,C=w.stackOffset,T=w.data,I=w.reverseStackOrder,E=rR(k),U=E.numericAxisName,P=E.cateAxisName,B=di(N,n),R=E_e(T,B,"".concat(U,"Id"),"".concat(P,"Id"),C,I),z=c.reduce(function(G,ce){var pe="".concat(ce.axisType,"Map");return J(J({},G),{},He({},pe,rPe(w,J(J({},ce),{},{graphicalItems:B,stackGroups:ce.axisType===U&&R,dataStartIndex:S,dataEndIndex:j}))))},{}),D=iPe(J(J({},z),{},{props:w,graphicalItems:B}),y==null?void 0:y.legendBBox);Object.keys(z).forEach(function(G){z[G]=d(w,z[G],D,G.replace("Map",""),r)});var M=z["".concat(P,"Map")],$=nPe(M),X=h(w,J(J({},z),{},{dataStartIndex:S,dataEndIndex:j,updateId:_,graphicalItems:B,stackGroups:R,offset:D}));return J(J({formattedGraphicalItems:X,graphicalItems:B,offset:D,stackGroups:R},$),z)},g=function(v){function x(y){var w,S,j;return FOe(this,x),j=qOe(this,x,[y]),He(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(j,"accessibilityManager",new NOe),He(j,"handleLegendBBoxUpdate",function(_){if(_){var N=j.state,k=N.dataStartIndex,C=N.dataEndIndex,T=N.updateId;j.setState(J({legendBBox:_},m({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:T},J(J({},j.state),{},{legendBBox:_}))))}}),He(j,"handleReceiveSyncEvent",function(_,N,k){if(j.props.syncId===_){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),He(j,"handleBrushChange",function(_){var N=_.startIndex,k=_.endIndex;if(N!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return J({dataStartIndex:N,dataEndIndex:k},m({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),He(j,"handleMouseEnter",function(_){var N=j.getMouseInfo(_);if(N){var k=J(J({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;nt(C)&&C(k,_)}}),He(j,"triggeredAfterMouseMove",function(_){var N=j.getMouseInfo(_),k=N?J(J({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;nt(C)&&C(k,_)}),He(j,"handleItemMouseEnter",function(_){j.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),He(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),He(j,"handleMouseMove",function(_){_.persist(),j.throttleTriggeredAfterMouseMove(_)}),He(j,"handleMouseLeave",function(_){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseLeave;nt(k)&&k(N,_)}),He(j,"handleOuterEvent",function(_){var N=hce(_),k=Cs(j.props,"".concat(N));if(N&&nt(k)){var C,T;/.*touch.*/i.test(N)?T=j.getMouseInfo(_.changedTouches[0]):T=j.getMouseInfo(_),k((C=T)!==null&&C!==void 0?C:{},_)}}),He(j,"handleClick",function(_){var N=j.getMouseInfo(_);if(N){var k=J(J({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;nt(C)&&C(k,_)}}),He(j,"handleMouseDown",function(_){var N=j.props.onMouseDown;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),He(j,"handleMouseUp",function(_){var N=j.props.onMouseUp;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),He(j,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),He(j,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseDown(_.changedTouches[0])}),He(j,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseUp(_.changedTouches[0])}),He(j,"handleDoubleClick",function(_){var N=j.props.onDoubleClick;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),He(j,"handleContextMenu",function(_){var N=j.props.onContextMenu;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),He(j,"triggerSyncEvent",function(_){j.props.syncId!==void 0&&Qw.emit(Xw,j.props.syncId,_,j.eventEmitterSymbol)}),He(j,"applySyncEvent",function(_){var N=j.props,k=N.layout,C=N.syncMethod,T=j.state.updateId,I=_.dataStartIndex,E=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)j.setState(J({dataStartIndex:I,dataEndIndex:E},m({props:j.props,dataStartIndex:I,dataEndIndex:E,updateId:T},j.state)));else if(_.activeTooltipIndex!==void 0){var U=_.chartX,P=_.chartY,B=_.activeTooltipIndex,R=j.state,z=R.offset,D=R.tooltipTicks;if(!z)return;if(typeof C=="function")B=C(D,_);else if(C==="value"){B=-1;for(var M=0;M<D.length;M++)if(D[M].value===_.activeLabel){B=M;break}}var $=J(J({},z),{},{x:z.left,y:z.top}),X=Math.min(U,$.x+$.width),G=Math.min(P,$.y+$.height),ce=D[B]&&D[B].value,pe=j1(j.state,j.props.data,B),We=D[B]?{x:k==="horizontal"?D[B].coordinate:X,y:k==="horizontal"?G:D[B].coordinate}:e6;j.setState(J(J({},_),{},{activeLabel:ce,activeCoordinate:We,activePayload:pe,activeTooltipIndex:B}))}else j.setState(_)}),He(j,"renderCursor",function(_){var N,k=j.state,C=k.isTooltipActive,T=k.activeCoordinate,I=k.activePayload,E=k.offset,U=k.activeTooltipIndex,P=k.tooltipAxisBandSize,B=j.getTooltipEventType(),R=(N=_.props.active)!==null&&N!==void 0?N:C,z=j.props.layout,D=_.key||"_recharts-cursor";return A.createElement(TOe,{key:D,activeCoordinate:T,activePayload:I,activeTooltipIndex:U,chartName:r,element:_,isActive:R,layout:z,offset:E,tooltipAxisBandSize:P,tooltipEventType:B})}),He(j,"renderPolarAxis",function(_,N,k){var C=Cs(_,"type.axisType"),T=Cs(j.state,"".concat(C,"Map")),I=_.type.defaultProps,E=I!==void 0?J(J({},I),_.props):_.props,U=T&&T[E["".concat(C,"Id")]];return b.cloneElement(_,J(J({},U),{},{className:ht(C,U.className),key:_.key||"".concat(N,"-").concat(k),ticks:pa(U,!0)}))}),He(j,"renderPolarGrid",function(_){var N=_.props,k=N.radialLines,C=N.polarAngles,T=N.polarRadius,I=j.state,E=I.radiusAxisMap,U=I.angleAxisMap,P=mo(E),B=mo(U),R=B.cx,z=B.cy,D=B.innerRadius,M=B.outerRadius;return b.cloneElement(_,{polarAngles:Array.isArray(C)?C:pa(B,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(T)?T:pa(P,!0).map(function($){return $.coordinate}),cx:R,cy:z,innerRadius:D,outerRadius:M,key:_.key||"polar-grid",radialLines:k})}),He(j,"renderLegend",function(){var _=j.state.formattedGraphicalItems,N=j.props,k=N.children,C=N.width,T=N.height,I=j.props.margin||{},E=C-(I.left||0)-(I.right||0),U=qU({children:k,formattedGraphicalItems:_,legendWidth:E,legendContent:u});if(!U)return null;var P=U.item,B=JT(U,ROe);return b.cloneElement(P,J(J({},B),{},{chartWidth:C,chartHeight:T,margin:I,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),He(j,"renderTooltip",function(){var _,N=j.props,k=N.children,C=N.accessibilityLayer,T=Gn(k,vs);if(!T)return null;var I=j.state,E=I.isTooltipActive,U=I.activeCoordinate,P=I.activePayload,B=I.activeLabel,R=I.offset,z=(_=T.props.active)!==null&&_!==void 0?_:E;return b.cloneElement(T,{viewBox:J(J({},R),{},{x:R.left,y:R.top}),active:z,label:B,payload:z?P:[],coordinate:U,accessibilityLayer:C})}),He(j,"renderBrush",function(_){var N=j.props,k=N.margin,C=N.data,T=j.state,I=T.offset,E=T.dataStartIndex,U=T.dataEndIndex,P=T.updateId;return b.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Jp(j.handleBrushChange,_.props.onChange),data:C,x:me(_.props.x)?_.props.x:I.left,y:me(_.props.y)?_.props.y:I.top+I.height+I.brushBottom-(k.bottom||0),width:me(_.props.width)?_.props.width:I.width,startIndex:E,endIndex:U,updateId:"brush-".concat(P)})}),He(j,"renderReferenceElement",function(_,N,k){if(!_)return null;var C=j,T=C.clipPathId,I=j.state,E=I.xAxisMap,U=I.yAxisMap,P=I.offset,B=_.type.defaultProps||{},R=_.props,z=R.xAxisId,D=z===void 0?B.xAxisId:z,M=R.yAxisId,$=M===void 0?B.yAxisId:M;return b.cloneElement(_,{key:_.key||"".concat(N,"-").concat(k),xAxis:E[D],yAxis:U[$],viewBox:{x:P.left,y:P.top,width:P.width,height:P.height},clipPathId:T})}),He(j,"renderActivePoints",function(_){var N=_.item,k=_.activePoint,C=_.basePoint,T=_.childIndex,I=_.isRange,E=[],U=N.props.key,P=N.item.type.defaultProps!==void 0?J(J({},N.item.type.defaultProps),N.item.props):N.item.props,B=P.activeDot,R=P.dataKey,z=J(J({index:T,dataKey:R,cx:k.x,cy:k.y,r:4,fill:Sk(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},at(B,!1)),Sv(B));return E.push(x.renderActiveDot(B,z,"".concat(U,"-activePoint-").concat(T))),C?E.push(x.renderActiveDot(B,J(J({},z),{},{cx:C.x,cy:C.y}),"".concat(U,"-basePoint-").concat(T))):I&&E.push(null),E}),He(j,"renderGraphicChild",function(_,N,k){var C=j.filterFormatItem(_,N,k);if(!C)return null;var T=j.getTooltipEventType(),I=j.state,E=I.isTooltipActive,U=I.tooltipAxis,P=I.activeTooltipIndex,B=I.activeLabel,R=j.props.children,z=Gn(R,vs),D=C.props,M=D.points,$=D.isRange,X=D.baseLine,G=C.item.type.defaultProps!==void 0?J(J({},C.item.type.defaultProps),C.item.props):C.item.props,ce=G.activeDot,pe=G.hide,We=G.activeBar,te=G.activeShape,se=!!(!pe&&E&&z&&(ce||We||te)),Ie={};T!=="axis"&&z&&z.props.trigger==="click"?Ie={onClick:Jp(j.handleItemMouseEnter,_.props.onClick)}:T!=="axis"&&(Ie={onMouseLeave:Jp(j.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Jp(j.handleItemMouseEnter,_.props.onMouseEnter)});var ee=b.cloneElement(_,J(J({},C.props),Ie));function ue(V){return typeof U.dataKey=="function"?U.dataKey(V.payload):null}if(se)if(P>=0){var K,H;if(U.dataKey&&!U.allowDuplicatedCategory){var Xe=typeof U.dataKey=="function"?ue:"payload.".concat(U.dataKey.toString());K=_v(M,Xe,B),H=$&&X&&_v(X,Xe,B)}else K=M==null?void 0:M[P],H=$&&X&&X[P];if(te||We){var Ke=_.props.activeIndex!==void 0?_.props.activeIndex:P;return[b.cloneElement(_,J(J(J({},C.props),Ie),{},{activeIndex:Ke})),null,null]}if(!lt(K))return[ee].concat(Nd(j.renderActivePoints({item:C,activePoint:K,basePoint:H,childIndex:P,isRange:$})))}else{var Ot,kt=(Ot=j.getItemByXY(j.state.activeCoordinate))!==null&&Ot!==void 0?Ot:{graphicalItem:ee},rr=kt.graphicalItem,rn=rr.item,Cn=rn===void 0?_:rn,bi=rr.childIndex,L=J(J(J({},C.props),Ie),{},{activeIndex:bi});return[b.cloneElement(Cn,L),null,null]}return $?[ee,null,null]:[ee,null]}),He(j,"renderCustomized",function(_,N,k){return b.cloneElement(_,J(J({key:"recharts-customized-".concat(k)},j.props),j.state))}),He(j,"renderMap",{CartesianGrid:{handler:ng,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:ng},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:ng},YAxis:{handler:ng},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:Zm("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=q5(j.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return VOe(x,v),BOe(x,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,j=w.data,_=w.height,N=w.layout,k=Gn(S,vs);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=j1(this.state,j,C,T),E=this.state.tooltipTicks[C].coordinate,U=(this.state.offset.top+_)/2,P=N==="horizontal",B=P?{x:E,y:U}:{y:E,x:U},R=this.state.formattedGraphicalItems.find(function(D){var M=D.item;return M.type.name==="Scatter"});R&&(B=J(J({},B),R.props.points[C].tooltipPosition),I=R.props.points[C].tooltipPayload);var z={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:T,activePayload:I,activeCoordinate:B};this.setState(z),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,_;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(w){t_([Gn(w.children,vs)],[Gn(this.props.children,vs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Gn(this.props.children,vs);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),_=Uxe(j),N={chartX:Math.round(w.pageX-_.left),chartY:Math.round(w.pageY-_.top)},k=j.width/S.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,k);if(!C)return null;var T=this.state,I=T.xAxisMap,E=T.yAxisMap,U=this.getTooltipEventType(),P=eR(this.state,this.props.data,this.props.layout,C);if(U!=="axis"&&I&&E){var B=mo(I).scale,R=mo(E).scale,z=B&&B.invert?B.invert(N.chartX):null,D=R&&R.invert?R.invert(N.chartY):null;return J(J({},N),{},{xValue:z,yValue:D},P)}return P?J(J({},N),P):null}},{key:"inRange",value:function(w,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,N=w/j,k=S/j;if(_==="horizontal"||_==="vertical"){var C=this.state.offset,T=N>=C.left&&N<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return T?{x:N,y:k}:null}var I=this.state,E=I.angleAxisMap,U=I.radiusAxisMap;if(E&&U){var P=mo(E);return FA({x:N,y:k},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),j=Gn(w,vs),_={};j&&S==="axis"&&(j.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Sv(this.props,this.handleOuterEvent);return J(J({},N),_)}},{key:"addListener",value:function(){Qw.on(Xw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Qw.removeListener(Xw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,j){for(var _=this.state.formattedGraphicalItems,N=0,k=_.length;N<k;N++){var C=_[N];if(C.item===w||C.props.key===w.key||S===xa(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,j=S.left,_=S.top,N=S.height,k=S.width;return A.createElement("defs",null,A.createElement("clipPath",{id:w},A.createElement("rect",{x:j,y:_,height:N,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,j){var _=XT(j,2),N=_[0],k=_[1];return J(J({},S),{},He({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,j){var _=XT(j,2),N=_[0],k=_[1];return J(J({},S),{},He({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,j=S.formattedGraphicalItems,_=S.activeItem;if(j&&j.length)for(var N=0,k=j.length;N<k;N++){var C=j[N],T=C.props,I=C.item,E=I.type.defaultProps!==void 0?J(J({},I.type.defaultProps),I.props):I.props,U=xa(I.type);if(U==="Bar"){var P=(T.data||[]).find(function(D){return kNe(w,D)});if(P)return{graphicalItem:C,payload:P}}else if(U==="RadialBar"){var B=(T.data||[]).find(function(D){return FA(w,D)});if(B)return{graphicalItem:C,payload:B}}else if(ob(C,_)||lb(C,_)||jm(C,_)){var R=Oke({graphicalItem:C,activeTooltipItem:_,itemData:E.data}),z=E.activeIndex===void 0?R:E.activeIndex;return{graphicalItem:J(J({},C),{},{childIndex:z}),payload:jm(C,_)?E.data[R]:C.props.data[R]}}}return null}},{key:"render",value:function(){var w=this;if(!OO(this))return null;var S=this.props,j=S.children,_=S.className,N=S.width,k=S.height,C=S.style,T=S.compact,I=S.title,E=S.desc,U=JT(S,MOe),P=at(U,!1);if(T)return A.createElement(MT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},A.createElement(n_,du({},P,{width:N,height:k,title:I,desc:E}),this.renderClipPath(),AO(j,this.renderMap)));if(this.props.accessibilityLayer){var B,R;P.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,P.role=(R=this.props.role)!==null&&R!==void 0?R:"application",P.onKeyDown=function(D){w.accessibilityManager.keyboardEvent(D)},P.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return A.createElement(MT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},A.createElement("div",du({className:ht("recharts-wrapper",_),style:J({position:"relative",cursor:"default",width:N,height:k},C)},z,{ref:function(M){w.container=M}}),A.createElement(n_,du({},P,{width:N,height:k,title:I,desc:E,style:XOe}),this.renderClipPath(),AO(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);He(g,"displayName",r),He(g,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),He(g,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,w=v.data,S=v.children,j=v.width,_=v.height,N=v.layout,k=v.stackOffset,C=v.margin,T=x.dataStartIndex,I=x.dataEndIndex;if(x.updateId===void 0){var E=tR(v);return J(J(J({},E),{},{updateId:0},m(J(J({props:v},E),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:_,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(y!==x.prevDataKey||w!==x.prevData||j!==x.prevWidth||_!==x.prevHeight||N!==x.prevLayout||k!==x.prevStackOffset||!ju(C,x.prevMargin)){var U=tR(v),P={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},B=J(J({},eR(x,w,N)),{},{updateId:x.updateId+1}),R=J(J(J({},U),P),B);return J(J(J({},R),m(J({props:v},R),x)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:_,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(!t_(S,x.prevChildren)){var z,D,M,$,X=Gn(S,pd),G=X&&(z=(D=X.props)===null||D===void 0?void 0:D.startIndex)!==null&&z!==void 0?z:T,ce=X&&(M=($=X.props)===null||$===void 0?void 0:$.endIndex)!==null&&M!==void 0?M:I,pe=G!==T||ce!==I,We=!lt(w),te=We&&!pe?x.updateId:x.updateId+1;return J(J({updateId:te},m(J(J({props:v},x),{},{updateId:te,dataStartIndex:G,dataEndIndex:ce}),x)),{},{prevChildren:S,dataStartIndex:G,dataEndIndex:ce})}return null}),He(g,"renderActiveDot",function(v,x,y){var w;return b.isValidElement(v)?w=b.cloneElement(v,x):nt(v)?w=v(x):w=A.createElement(kk,x),A.createElement(cr,{className:"recharts-active-dot",key:y},w)});var p=b.forwardRef(function(x,y){return A.createElement(g,du({},x,{ref:y}))});return p.displayName=g.displayName,p},oPe=r6({chartName:"BarChart",GraphicalChild:Sc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hc},{axisType:"yAxis",AxisComp:mc}],formatAxisMap:yB}),n6=r6({chartName:"AreaChart",GraphicalChild:Ka,axisComponents:[{axisType:"xAxis",AxisComp:hc},{axisType:"yAxis",AxisComp:mc}],formatAxisMap:yB});const xi={getProviders:async()=>{const{data:e,error:t}=await q.from("model_providers").select("*").order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProvider:async e=>{const{data:t,error:r}=await q.from("model_providers").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProvider:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("model_providers").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProvider:async(e,t)=>{const{data:r,error:n}=await q.from("model_providers").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProvider:async e=>{const{error:t}=await q.from("model_providers").delete().eq("id",e);if(t)throw new Error(t.message)},getRequests:async e=>{let t=q.from("model_requests").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getRequest:async e=>{const{data:t,error:r}=await q.from("model_requests").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createRequest:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("model_requests").insert(r).select().single();if(s)throw new Error(s.message);return n},updateRequest:async(e,t)=>{const{data:r,error:n}=await q.from("model_requests").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getUsageMetrics:async e=>{let t=q.from("usage_metrics").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.since&&(t=t.gte("created_at",e.since)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getUsageSummary:async e=>{const t=await xi.getUsageMetrics({limit:1e4,providerId:e==null?void 0:e.providerId,since:e==null?void 0:e.since}),r=t.reduce((i,o)=>i+o.token_count_input,0),n=t.reduce((i,o)=>i+o.token_count_output,0),s=new Set(t.map(i=>i.request_id));return{totalInputTokens:r,totalOutputTokens:n,requestCount:s.size}},createUsageMetric:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("usage_metrics").insert(r).select().single();if(s)throw new Error(s.message);return n},getConfigurationOverrides:async e=>{if(!e)return null;const{data:t,error:r}=await q.from("configuration_overrides").select("*").eq("request_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},getConfigurationOverridesByRequestIds:async e=>{if(e.length===0)return[];const{data:t,error:r}=await q.from("configuration_overrides").select("*").in("request_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},upsertConfigurationOverride:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("configuration_overrides").upsert({request_id:r.request_id,user_id:r.user_id,model_name:r.model_name??null,temperature:r.temperature??null,max_tokens:r.max_tokens??null,parameters:r.parameters??{}},{onConflict:"request_id"}).select().single();if(s)throw new Error(s.message);return n},updateConfigurationOverride:async(e,t)=>{const{data:r,error:n}=await q.from("configuration_overrides").update(t).eq("request_id",e).select().single();if(n)throw new Error(n.message);return r}};function Ik(e,t){return e().catch(()=>t)}const _r={all:["model-providers"],providers:()=>[..._r.all,"providers"],provider:e=>[..._r.all,"provider",e],requests:e=>[..._r.all,"requests",e],request:e=>[..._r.all,"request",e],usageMetrics:e=>[..._r.all,"usage-metrics",e],usageSummary:e=>[..._r.all,"usage-summary",e],configOverride:e=>[..._r.all,"config-override",e]};function lPe(){return Te({queryKey:_r.providers(),queryFn:()=>Ik(()=>xi.getProviders(),[])})}function cPe(){const e=be();return xe({mutationFn:t=>xi.createProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:_r.providers()}),W.success("Provider added")},onError:t=>{W.error(t.message||"Failed to add provider")}})}function uPe(){const e=be();return xe({mutationFn:({id:t,data:r})=>xi.updateProvider(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:_r.providers()}),e.invalidateQueries({queryKey:_r.provider(r)}),W.success("Provider updated")},onError:t=>{W.error(t.message||"Failed to update provider")}})}function dPe(){const e=be();return xe({mutationFn:t=>xi.deleteProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:_r.providers()}),e.invalidateQueries({queryKey:_r.requests()}),W.success("Provider removed")},onError:t=>{W.error(t.message||"Failed to remove provider")}})}function fPe(e){return Te({queryKey:_r.requests(e),queryFn:()=>Ik(()=>xi.getRequests(e),[])})}function hPe(){const e=be();return xe({mutationFn:t=>xi.createRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:_r.requests()}),W.success("Request logged")},onError:t=>{W.error(t.message||"Failed to log request")}})}function mPe(e){return Te({queryKey:_r.usageMetrics(e),queryFn:()=>Ik(()=>xi.getUsageMetrics(e),[])})}function pPe(e){return Te({queryKey:_r.usageSummary(e),queryFn:()=>xi.getUsageSummary(e)})}function gPe(){const e=be();return xe({mutationFn:t=>xi.createUsageMetric(t),onSuccess:()=>{e.invalidateQueries({queryKey:_r.usageMetrics()}),e.invalidateQueries({queryKey:_r.usageSummary()})},onError:t=>{W.error(t.message||"Failed to record usage")}})}function vPe(){const e=be();return xe({mutationFn:t=>xi.upsertConfigurationOverride(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:_r.configOverride(r.request_id)}),W.success("Configuration saved")},onError:t=>{W.error(t.message||"Failed to save configuration")}})}const nR={openai:"OpenAI",anthropic:"Anthropic",local:"Local",ollama:"Ollama",vllm:"vLLM",custom:"Custom"},yPe=xt({name:Ne().min(1,"Name is required").max(128),slug:ar(["openai","anthropic","local","ollama","vllm","custom"]),api_endpoint_base:Ne().url().optional().or(_N("")),priority:ts.number().int().min(0).max(999),is_default:Ua(),status:ar(["active","inactive","error"])});function xPe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,provider:s}){const i=!!s,o=vt({resolver:yt(yPe),defaultValues:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"}});b.useEffect(()=>{e&&o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"})},[e,s,o]);const l=o.handleSubmit(u=>{r({name:u.name,slug:u.slug,api_endpoint_base:u.api_endpoint_base||null,priority:u.priority,is_default:u.is_default,status:u.status}),o.reset()}),c=u=>{u||o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:void 0),t(u)};return a.jsx(ze,{open:e,onOpenChange:c,children:a.jsxs(Le,{className:"max-w-md",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:i?"Edit provider":"Add provider"}),a.jsx(Be,{children:i?"Update model provider settings and priority.":"Register a new AI model provider (OpenAI, Anthropic, local, etc.)."})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"name",children:"Name"}),a.jsx(ye,{id:"name",placeholder:"e.g. OpenAI GPT-4",...o.register("name"),className:Z(o.formState.errors.name&&"border-destructive")}),o.formState.errors.name&&a.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Provider type"}),a.jsxs(mt,{value:o.watch("slug"),onValueChange:u=>o.setValue("slug",u),disabled:i,children:[a.jsx(ct,{children:a.jsx(pt,{placeholder:"Select type"})}),a.jsx(ut,{children:Object.keys(nR).map(u=>a.jsx(Ce,{value:u,children:nR[u]},u))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"api_endpoint_base",children:"API endpoint (optional)"}),a.jsx(ye,{id:"api_endpoint_base",placeholder:"https://api.openai.com/v1",...o.register("api_endpoint_base")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"priority",children:"Priority (higher = preferred)"}),a.jsx(ye,{id:"priority",type:"number",min:0,max:999,...o.register("priority")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsx(Y,{htmlFor:"is_default",className:"cursor-pointer",children:"Default provider"}),a.jsx(en,{id:"is_default",checked:o.watch("is_default"),onCheckedChange:u=>o.setValue("is_default",u)})]}),i&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Status"}),a.jsxs(mt,{value:o.watch("status"),onValueChange:u=>o.setValue("status",u),children:[a.jsx(ct,{children:a.jsx(pt,{})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"active",children:"Active"}),a.jsx(Ce,{value:"inactive",children:"Inactive"}),a.jsx(Ce,{value:"error",children:"Error"})]})]})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),a.jsx(O,{type:"submit",disabled:n,children:n?"Saving":i?"Update":"Add"})]})]})]})})}const bPe=xt({provider_id:Ne().uuid().optional().nullable(),model_name:Ne().max(128).optional(),temperature:ts.number().min(0).max(2).optional(),max_tokens:ts.number().int().min(1).max(128e3).optional()}),wPe={pending:"secondary",running:"default",completed:"secondary",failed:"destructive"},jPe={active:"success",inactive:"secondary",error:"destructive"};function _Pe(){const[e,t]=b.useState(!1),[r,n]=b.useState(null),[s]=b.useState(()=>PF(new Date,7).toISOString()),{data:i=[],isLoading:o}=lPe(),{data:l=[],isLoading:c}=fPe({limit:50}),{data:u,isLoading:d}=pPe({since:s}),{data:f=[]}=mPe({limit:100,since:s}),h=cPe(),m=uPe(),g=dPe(),p=hPe(),v=gPe(),x=vPe(),y=vt({resolver:yt(bPe),defaultValues:{provider_id:null,model_name:"",temperature:.7,max_tokens:4096}}),w=_=>{r?m.mutate({id:r.id,data:{name:_.name,slug:_.slug,api_endpoint_base:_.api_endpoint_base??void 0,priority:_.priority,is_default:_.is_default,status:_.status}},{onSettled:()=>{n(null),t(!1)}}):h.mutate({name:_.name,slug:_.slug,api_endpoint_base:_.api_endpoint_base??null,priority:_.priority,is_default:_.is_default,status:_.status},{onSuccess:()=>t(!1)})},S=y.handleSubmit(async _=>{var C,T;const N=_.provider_id??((C=i.find(I=>I.is_default))==null?void 0:C.id)??((T=i[0])==null?void 0:T.id)??null,k=await p.mutateAsync({provider_id:N,status:"pending"});await x.mutateAsync({request_id:k.id,model_name:_.model_name??null,temperature:_.temperature??null,max_tokens:_.max_tokens??null}),await v.mutateAsync({request_id:k.id,provider_id:N,token_count_input:0,token_count_output:0}),y.reset()}),j=f.slice().reverse().reduce((_,N)=>{const k=lu(N.created_at,"yyyy-MM-dd");_.find(T=>T.date===k)||_.push({date:k,tokens:0,requests:0});const C=_.find(T=>T.date===k);return C&&(C.tokens+=N.token_count_input+N.token_count_output,C.requests+=1),_},[]);return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Model Providers"})}),a.jsxs(Ba,{defaultValue:"request",className:"space-y-4",children:[a.jsxs(Yi,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsxs(At,{value:"request",className:"gap-2",children:[a.jsx(Gu,{className:"h-4 w-4"}),"Request"]}),a.jsxs(At,{value:"usage",className:"gap-2",children:[a.jsx(Bf,{className:"h-4 w-4"}),"Usage"]}),a.jsxs(At,{value:"providers",className:"gap-2",children:[a.jsx($i,{className:"h-4 w-4"}),"Providers"]})]}),a.jsxs(Tt,{value:"request",className:"space-y-4",children:[a.jsxs(re,{className:"shadow-card",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"New request"}),a.jsx(we,{children:"Select provider and optional overrides. Request will be logged for usage and history."})]}),a.jsx(ne,{children:a.jsxs("form",{onSubmit:S,className:"flex flex-col gap-4 sm:max-w-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Provider"}),a.jsxs(mt,{value:y.watch("provider_id")??"",onValueChange:_=>y.setValue("provider_id",_||null),children:[a.jsx(ct,{children:a.jsx(pt,{placeholder:"Default provider"})}),a.jsxs(ut,{children:[i.map(_=>a.jsxs(Ce,{value:_.id,children:[_.name," ",_.is_default&&"(default)"]},_.id)),i.length===0&&a.jsx(Ce,{value:"_none",disabled:!0,children:"Add a provider first"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"model_name",children:"Model (optional)"}),a.jsx(ye,{id:"model_name",placeholder:"e.g. gpt-4o",...y.register("model_name")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"temperature",children:"Temperature"}),a.jsx(ye,{id:"temperature",type:"number",step:.1,min:0,max:2,...y.register("temperature")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"max_tokens",children:"Max tokens"}),a.jsx(ye,{id:"max_tokens",type:"number",...y.register("max_tokens")})]})]}),a.jsx(O,{type:"submit",disabled:p.isPending||i.length===0,children:p.isPending?"Submitting":"Log request"})]})})]}),a.jsxs(re,{className:"shadow-card",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Recent requests"}),a.jsx(we,{children:"Last 50 model requests"})]}),a.jsx(ne,{children:c?a.jsx(ve,{className:"h-32 w-full rounded-lg"}):l.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No requests yet. Submit a request above or run from chat/skills."}):a.jsx(St,{className:"h-64",children:a.jsx("ul",{className:"space-y-2",children:l.map(_=>{var N;return a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border p-3 transition-colors hover:bg-secondary/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(OS,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:_.provider_id?((N=i.find(k=>k.id===_.provider_id))==null?void 0:N.name)??"Unknown":"No provider"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Lr(_.created_at,{addSuffix:!0})})]})]}),a.jsx(Qe,{variant:wPe[_.status],children:_.status})]},_.id)})})})})]})]}),a.jsxs(Tt,{value:"usage",className:"space-y-4",children:[d?a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsx(ve,{className:"h-24 rounded-lg"}),a.jsx(ve,{className:"h-24 rounded-lg"}),a.jsx(ve,{className:"h-24 rounded-lg"})]}):a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsxs(re,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(oe,{className:"text-sm font-medium",children:"Total input tokens"}),a.jsx(zE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ne,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalInputTokens)??0})})]}),a.jsxs(re,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(oe,{className:"text-sm font-medium",children:"Total output tokens"}),a.jsx(zE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ne,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalOutputTokens)??0})})]}),a.jsxs(re,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(oe,{className:"text-sm font-medium",children:"Requests (period)"}),a.jsx(_H,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ne,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.requestCount)??0})})]})]}),a.jsxs(re,{className:"shadow-card",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Usage over time"}),a.jsx(we,{children:"Tokens and request count (last 7 days by default)"})]}),a.jsx(ne,{children:j.length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-8 text-center",children:"No usage data in this period."}):a.jsx(S_,{width:"100%",height:280,children:a.jsxs(n6,{data:j,children:[a.jsx(by,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(hc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(mc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(vs,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"}}),a.jsx(Ka,{type:"monotone",dataKey:"tokens",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Tokens"})]})})})]})]}),a.jsxs(Tt,{value:"providers",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure AI model providers (OpenAI, Anthropic, local). Priority and default control routing and failover."}),a.jsxs(O,{onClick:()=>{n(null),t(!0)},children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Add provider"]})]}),o?a.jsx(ve,{className:"h-48 w-full rounded-lg"}):i.length===0?a.jsx(re,{className:"shadow-card",children:a.jsxs(ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx($i,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"No providers yet. Add one to start logging requests and usage."}),a.jsxs(O,{onClick:()=>t(!0),children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Add provider"]})]})}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.map(_=>a.jsxs(re,{className:"shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",children:[a.jsxs(ie,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(oe,{className:"text-base flex items-center gap-2",children:[_.name,_.is_default&&a.jsx(Qe,{variant:"secondary",className:"text-xs",children:"Default"})]}),a.jsxs(we,{className:"text-xs mt-1",children:[_.api_endpoint_base??_.slug," Priority ",_.priority]})]}),a.jsxs(ci,{children:[a.jsx(ui,{asChild:!0,children:a.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(Ii,{className:"h-4 w-4"})})}),a.jsxs(ks,{align:"end",children:[a.jsxs(zt,{onClick:()=>{n(_),t(!0)},children:[a.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(zt,{className:"text-destructive focus:text-destructive",onClick:()=>g.mutate(_.id),children:[a.jsx(bn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]}),a.jsx(ne,{children:a.jsx(Qe,{variant:jPe[_.status],children:_.status})})]},_.id))})]})]}),a.jsx(xPe,{open:e,onOpenChange:t,onSubmit:w,isSubmitting:h.isPending||m.isPending,provider:r})]})}const kn={getProfiles:async()=>{const{data:e,error:t}=await q.from("browser_profiles").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProfile:async e=>{const{data:t,error:r}=await q.from("browser_profiles").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProfile:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("browser_profiles").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProfile:async(e,t)=>{const{data:r,error:n}=await q.from("browser_profiles").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProfile:async e=>{const{error:t}=await q.from("browser_profiles").delete().eq("id",e);if(t)throw new Error(t.message)},getTabs:async e=>{if(!e)return[];const{data:t,error:r}=await q.from("browser_tabs").select("*").eq("browser_profile_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getTab:async e=>{const{data:t,error:r}=await q.from("browser_tabs").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertTabs:async(e,t)=>{const r=t.map(i=>({...i,browser_profile_id:e})),{data:n,error:s}=await q.from("browser_tabs").upsert(r,{onConflict:"id"}).select();if(s)throw new Error(s.message);return n??[]},updateTab:async(e,t)=>{const{data:r,error:n}=await q.from("browser_tabs").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteTab:async e=>{const{error:t}=await q.from("browser_tabs").delete().eq("id",e);if(t)throw new Error(t.message)},getScripts:async()=>{const{data:e,error:t}=await q.from("browser_scripts").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getScript:async e=>{const{data:t,error:r}=await q.from("browser_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createScript:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("browser_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateScript:async(e,t)=>{const{data:r,error:n}=await q.from("browser_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteScript:async e=>{const{error:t}=await q.from("browser_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getCaptureRecords:async(e,t)=>{if(!e)return[];let r=q.from("browser_capture_records").select("*").eq("browser_profile_id",e).order("created_at",{ascending:!1});t!=null&&t.type&&(r=r.eq("capture_type",t.type)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createCaptureRecord:async e=>{const{data:t,error:r}=await q.from("browser_capture_records").insert(e).select().single();if(r)throw new Error(r.message);return t},getCommands:async e=>{if(!e)return[];const{data:t,error:r}=await q.from("browser_commands").select("*").eq("browser_profile_id",e).order("sequence_order",{ascending:!0}).order("created_at",{ascending:!0});if(r)throw new Error(r.message);return t??[]},getCommand:async e=>{const{data:t,error:r}=await q.from("browser_commands").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCommand:async e=>{const{data:t,error:r}=await q.from("browser_commands").insert(e).select().single();if(r)throw new Error(r.message);return t},updateCommand:async(e,t)=>{const{data:r,error:n}=await q.from("browser_commands").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCommand:async e=>{const{error:t}=await q.from("browser_commands").delete().eq("id",e);if(t)throw new Error(t.message)},deleteCaptureRecord:async e=>{const{error:t}=await q.from("browser_capture_records").delete().eq("id",e);if(t)throw new Error(t.message)},getCdpTokens:async()=>{const{data:e,error:t}=await q.from("browser_cdp_tokens").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getCdpToken:async e=>{const{data:t,error:r}=await q.from("browser_cdp_tokens").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCdpToken:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("browser_cdp_tokens").insert(r).select().single();if(s)throw new Error(s.message);return n},updateCdpToken:async(e,t)=>{const{data:r,error:n}=await q.from("browser_cdp_tokens").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCdpToken:async e=>{const{error:t}=await q.from("browser_cdp_tokens").delete().eq("id",e);if(t)throw new Error(t.message)}};function Dk(e,t){return e().catch(()=>t)}const qt={all:["browser"],profiles:()=>[...qt.all,"profiles"],profile:e=>[...qt.all,"profile",e??""],tabs:e=>[...qt.all,"tabs",e??""],tab:e=>[...qt.all,"tab",e??""],scripts:()=>[...qt.all,"scripts"],script:e=>[...qt.all,"script",e??""],captures:(e,t)=>[...qt.all,"captures",e??"",t],commands:e=>[...qt.all,"commands",e??""],command:e=>[...qt.all,"command",e??""],cdpTokens:()=>[...qt.all,"cdpTokens"],cdpToken:e=>[...qt.all,"cdpToken",e??""]};function SPe(){return Te({queryKey:qt.profiles(),queryFn:()=>Dk(()=>kn.getProfiles(),[])})}function NPe(e){return Te({queryKey:qt.profile(e),queryFn:()=>e?kn.getProfile(e):Promise.resolve(null),enabled:!!e})}function kPe(){const e=be();return xe({mutationFn:t=>kn.createProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:qt.profiles()}),W.success("Profile created")},onError:t=>{W.error(t.message||"Failed to create profile")}})}function CPe(){const e=be();return xe({mutationFn:({id:t,data:r})=>kn.updateProfile(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:qt.profiles()}),e.invalidateQueries({queryKey:qt.profile(r)}),W.success("Profile updated")},onError:t=>{W.error(t.message||"Failed to update profile")}})}function EPe(e){return Te({queryKey:qt.tabs(e),queryFn:()=>kn.getTabs(e),enabled:!!e})}function OPe(){return Te({queryKey:qt.scripts(),queryFn:()=>Dk(()=>kn.getScripts(),[])})}function PPe(){const e=be();return xe({mutationFn:t=>kn.createScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:qt.scripts()}),W.success("Script added")},onError:t=>{W.error(t.message||"Failed to add script")}})}function APe(e,t){return Te({queryKey:qt.captures(e,t),queryFn:()=>kn.getCaptureRecords(e,t),enabled:!!e})}function TPe(){const e=be();return xe({mutationFn:t=>kn.createCaptureRecord(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:qt.captures(r.browser_profile_id)}),W.success("Capture saved")},onError:t=>{W.error(t.message||"Failed to save capture")}})}function RPe(){const e=be();return xe({mutationFn:t=>kn.deleteCaptureRecord(t),onSuccess:()=>{e.invalidateQueries({queryKey:qt.all}),W.success("Capture removed")},onError:t=>{W.error(t.message||"Failed to remove capture")}})}function MPe(e){return Te({queryKey:qt.commands(e),queryFn:()=>kn.getCommands(e),enabled:!!e})}function $Pe(){const e=be();return xe({mutationFn:t=>kn.createCommand(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:qt.commands(r.browser_profile_id)}),W.success("Command added to queue")},onError:t=>{W.error(t.message||"Failed to add command")}})}function IPe(){const e=be();return xe({mutationFn:t=>kn.deleteCommand(t),onSuccess:()=>{e.invalidateQueries({queryKey:qt.all}),W.success("Command removed")},onError:t=>{W.error(t.message||"Failed to remove command")}})}function DPe(){return Te({queryKey:qt.cdpTokens(),queryFn:()=>Dk(()=>kn.getCdpTokens(),[])})}function LPe(){const e=be();return xe({mutationFn:t=>kn.createCdpToken(t),onSuccess:()=>{e.invalidateQueries({queryKey:qt.cdpTokens()}),W.success("CDP token added")},onError:t=>{W.error(t.message||"Failed to add CDP token")}})}function FPe({open:e,onOpenChange:t,action:r,onConfirm:n,isPending:s=!1,profilePath:i,isIsolated:o=!0}){const l=r==="start";return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:l?"Start managed profile":"Stop managed profile"}),a.jsx(Be,{children:l?"Start the managed Chromium profile. The profile will run in an isolated environment.":"Stop the managed Chromium profile. Any open tabs and automation will be terminated."})]}),(i!=null||o!=null)&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm text-muted-foreground",children:[i&&a.jsxs("p",{className:"truncate",title:i,children:[a.jsx("span",{className:"font-medium text-foreground",children:"Path:"})," ",i]}),o!=null&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-foreground",children:"Isolation:"})," ",o?"Enabled":"Disabled"]})]}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(O,{variant:l?"default":"destructive",onClick:()=>{n(),t(!1)},disabled:s,children:s?"Please wait":l?a.jsxs(a.Fragment,{children:[a.jsx(va,{className:"mr-2 h-4 w-4"}),"Start profile"]}):a.jsxs(a.Fragment,{children:[a.jsx(Bh,{className:"mr-2 h-4 w-4"}),"Stop profile"]})})]})]})})}function UPe({open:e,onOpenChange:t,tab:r}){if(!r)return null;const n=r.url||"about:blank",s=r.title||n;return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Fe,{children:[a.jsx(Ue,{className:"flex items-center gap-2 truncate pr-8",children:s}),a.jsx(Be,{className:"break-all",children:n})]}),a.jsxs("div",{className:"space-y-4",children:[r.snapshot_url&&a.jsx("div",{className:"rounded-lg border border-border overflow-hidden bg-secondary/30",children:a.jsx("img",{src:r.snapshot_url,alt:`Snapshot of ${s}`,className:"w-full h-auto max-h-48 object-cover object-top"})}),a.jsxs("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"URL"}),a.jsx("dd",{className:"min-w-0 truncate text-right font-mono text-xs",title:r.url,children:r.url||""})]}),r.external_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"External ID"}),a.jsx("dd",{className:"font-mono text-xs",children:r.external_id})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Updated"}),a.jsx("dd",{children:new Date(r.updated_at).toLocaleString()})]})]}),n.startsWith("http")&&a.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:Z("inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium","bg-primary/10 text-primary hover:bg-primary/20 transition-colors"),children:[a.jsx(Xy,{className:"h-4 w-4"}),"Open in new tab"]})]})]})})}const BPe=xt({name:Ne().min(1,"Name is required").max(200,"Name too long"),script_content:Ne().optional()}),sR={name:"",script_content:""};function qPe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=vt({resolver:yt(BPe),defaultValues:sR}),c=u=>{var d;r({name:u.name.trim(),script_content:((d=u.script_content)==null?void 0:d.trim())||null,execution_status:"pending"}),o(sR),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Add automation script"}),a.jsx(Be,{children:"Upload or paste an automation script. It will appear in the Automation Runner and can be executed against the managed profile."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"script-name",children:"Script name"}),a.jsx(ye,{id:"script-name",placeholder:"e.g. login-flow.js",...s("name"),className:l.name?"border-destructive":""}),l.name&&a.jsx("p",{className:"text-sm text-destructive",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"script-content",children:"Content (optional)"}),a.jsx("textarea",{id:"script-content",placeholder:"Paste script content or leave empty to upload later",...s("script_content"),rows:6,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(O,{type:"submit",disabled:n,children:n?"Adding":"Add script"})]})]})]})})}const zPe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},WPe={screenshot:Dh,pdf:Vr,dom:tv};function VPe({open:e,onOpenChange:t,captureType:r,fileUrl:n,filePath:s,onDownload:i,onClose:o}){const l=WPe[r],c=zPe[r],u=!!n,d=()=>{o==null||o(),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Fe,{children:[a.jsxs(Ue,{className:"flex items-center gap-2",children:[a.jsx(l,{className:"h-5 w-5 text-accent"}),c," captured"]}),a.jsxs(Be,{children:["Your ",c.toLowerCase()," has been saved. You can download it or continue capturing."]})]}),s&&a.jsx("p",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm font-mono text-muted-foreground truncate",title:s,children:s}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{variant:"outline",onClick:d,children:"Close"}),u&&a.jsxs(O,{onClick:()=>{if(i==null||i(),n){const f=document.createElement("a");f.href=n,f.download=`capture-${r}-${Date.now()}`,f.click()}d()},children:[a.jsx(As,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})}const KPe=xt({connection_type:ar(["local","node_proxy"]),token_preview:Ne().max(20).optional(),config_json:Ne().optional()}),Zw={connection_type:"local",token_preview:"",config_json:"{}"};function HPe({open:e,onOpenChange:t,existing:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=vt({resolver:yt(KPe),defaultValues:r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:Zw}),f=c("connection_type");b.useEffect(()=>{e&&u(r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:Zw)},[e,r,u]);const h=m=>{let g={};try{g=m.config_json?JSON.parse(m.config_json):{}}catch{g={}}n(r?{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}:{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}),u(Zw),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:r?"Edit CDP connector":"Add CDP connector"}),a.jsx(Be,{children:"Configure local or node proxy CDP connection. Sensitive token data is stored securely and only a redacted preview is shown here."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Connection type"}),a.jsxs(mt,{value:f,onValueChange:m=>l("connection_type",m),children:[a.jsx(ct,{children:a.jsx(pt,{})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"local",children:"Local"}),a.jsx(Ce,{value:"node_proxy",children:"Node proxy"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Y,{htmlFor:"token-preview",className:"flex items-center gap-2",children:[a.jsx(qI,{className:"h-4 w-4 text-muted-foreground"}),"Token preview (redacted)"]}),a.jsx(ye,{id:"token-preview",placeholder:"e.g. ws://***...***",...i("token_preview")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional label or redacted preview for this token. The actual token is never stored in plain text."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"config-json",children:"Config (JSON, optional)"}),a.jsx("textarea",{id:"config-json",placeholder:'{"host": "localhost", "port": 9222}',...i("config_json"),rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),d.config_json&&a.jsx("p",{className:"text-sm text-destructive",children:d.config_json.message})]}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(O,{type:"submit",disabled:s,children:s?"Saving":r?"Save changes":"Add connector"})]})]})]})})}const GPe=[{value:"click",label:"Click"},{value:"type",label:"Type"},{value:"select",label:"Select"},{value:"navigate",label:"Navigate"},{value:"scroll",label:"Scroll"},{value:"wait",label:"Wait"},{value:"screenshot",label:"Screenshot"}],YPe=xt({command_type:ar(["click","type","select","navigate","scroll","wait","screenshot"]),selector:Ne().optional(),text:Ne().optional(),url:Ne().url().optional().or(_N("")),value:Ne().optional(),x:ts.number().optional(),y:ts.number().optional(),ms:ts.number().min(0).optional(),sequence_order:ts.number().min(0).optional()}),e0={command_type:"click",selector:"",text:"",url:"",value:"",sequence_order:0};function QPe({open:e,onOpenChange:t,browserProfileId:r,nextSequenceOrder:n,onSubmit:s,isSubmitting:i=!1}){const{register:o,handleSubmit:l,watch:c,setValue:u,reset:d,formState:{errors:f}}=vt({resolver:yt(YPe),defaultValues:{...e0,sequence_order:n}}),h=c("command_type");b.useEffect(()=>{e&&r&&d({...e0,sequence_order:n})},[e,r,n,d]);const m=p=>{var x,y;const v={};return(x=p.selector)!=null&&x.trim()&&(v.selector=p.selector.trim()),p.text!==void 0&&p.text!==""&&(v.text=p.text),(y=p.url)!=null&&y.trim()&&(v.url=p.url.trim()),p.value!==void 0&&p.value!==""&&(v.value=p.value),p.x!==void 0&&(v.x=p.x),p.y!==void 0&&(v.y=p.y),p.ms!==void 0&&(v.ms=p.ms),v},g=p=>{if(!r)return;const v=m(p);s({browser_profile_id:r,command_type:p.command_type,parameters:v,sequence_order:p.sequence_order??n,status:"pending"}),d({...e0,sequence_order:n+1}),t(!1)};return r?a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[480px]",showClose:!0,children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Add command to queue"}),a.jsx(Be,{children:"Add an automation command. Commands run in sequence within the deterministic tab control environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Command type"}),a.jsxs(mt,{value:h,onValueChange:p=>u("command_type",p),children:[a.jsx(ct,{className:"w-full",children:a.jsx(pt,{placeholder:"Select type"})}),a.jsx(ut,{children:GPe.map(({value:p,label:v})=>a.jsx(Ce,{value:p,children:v},p))})]})]}),(h==="click"||h==="type"||h==="select"||h==="wait")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"selector",children:"Selector (CSS or XPath)"}),a.jsx(ye,{id:"selector",placeholder:"e.g. #submit-btn or //button[text()='OK']",...o("selector"),className:f.selector?"border-destructive":""}),f.selector&&a.jsx("p",{className:"text-sm text-destructive",children:f.selector.message})]}),h==="type"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"text",children:"Text to type"}),a.jsx(ye,{id:"text",placeholder:"Text to enter",...o("text"),className:f.text?"border-destructive":""})]}),h==="select"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"value",children:"Option value"}),a.jsx(ye,{id:"value",placeholder:"Value to select",...o("value")})]}),h==="navigate"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"url",children:"URL"}),a.jsx(ye,{id:"url",type:"url",placeholder:"https://example.com",...o("url"),className:f.url?"border-destructive":""}),f.url&&a.jsx("p",{className:"text-sm text-destructive",children:f.url.message})]}),h==="scroll"&&a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"scroll-x",children:"X (px)"}),a.jsx(ye,{id:"scroll-x",type:"number",placeholder:"0",...o("x")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"scroll-y",children:"Y (px)"}),a.jsx(ye,{id:"scroll-y",type:"number",placeholder:"0",...o("y")})]})]}),h==="wait"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"ms",children:"Delay (ms)"}),a.jsx(ye,{id:"ms",type:"number",min:0,placeholder:"1000",...o("ms"),className:f.ms?"border-destructive":""}),f.ms&&a.jsx("p",{className:"text-sm text-destructive",children:f.ms.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"sequence_order",children:"Order in queue"}),a.jsx(ye,{id:"sequence_order",type:"number",min:0,...o("sequence_order"),className:f.sequence_order?"border-destructive":""}),f.sequence_order&&a.jsx("p",{className:"text-sm text-destructive",children:f.sequence_order.message})]}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsx(O,{type:"submit",disabled:i,className:"transition-transform hover:scale-[1.02]",children:i?"Adding":"Add command"})]})]})]})}):null}const XPe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},JPe={screenshot:Dh,pdf:Vr,dom:tv};function ZPe({open:e,onOpenChange:t,captures:r,onDownload:n,onDelete:s,isDeleting:i=!1}){const o=l=>{l.file_url&&window.open(l.file_url,"_blank","noopener,noreferrer")};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[640px] max-h-[85vh] flex flex-col",showClose:!0,children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Captured outputs"}),a.jsx(Be,{children:"View, download, or delete captured screenshots, PDFs, and DOM snapshots from this session."})]}),a.jsx(St,{className:"flex-1 min-h-[200px] rounded-lg border border-border",children:r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[a.jsx(Dh,{className:"h-12 w-12 mb-3 opacity-50"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No captures yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Capture a screenshot, PDF, or DOM snapshot from the session to see them here."})]}):a.jsx("ul",{className:"p-2 space-y-2",children:r.map(l=>{const c=JPe[l.capture_type],u=XPe[l.capture_type],d=new Date(l.created_at).toLocaleString(),f=!!l.file_url;return a.jsxs("li",{className:Z("flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3","transition-shadow hover:shadow-md"),children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-md bg-primary/10 text-primary",children:a.jsx(c,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:u}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",title:l.file_path??l.file_url??"",children:l.file_path??l.file_url??d}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f&&a.jsx(O,{variant:"ghost",size:"icon",onClick:()=>o(l),"aria-label":"View in new tab",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(Xy,{className:"h-4 w-4"})}),a.jsx(O,{variant:"ghost",size:"icon",onClick:()=>n(l),"aria-label":"Download",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(As,{className:"h-4 w-4"})}),a.jsx(O,{variant:"ghost",size:"icon",onClick:()=>s(l.id),disabled:i,"aria-label":"Delete",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:a.jsx(bn,{className:"h-4 w-4"})})]})]},l.id)})})})]})})}const eAe={running:"Running",stopped:"Stopped",starting:"Starting",stopping:"Stopping",error:"Error"},iR={click:"Click",type:"Type",select:"Select",navigate:"Navigate",scroll:"Scroll",wait:"Wait",screenshot:"Screenshot"};function tAe(){const[e,t]=b.useState(null),[r,n]=b.useState(null),[s,i]=b.useState(null),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(null),[h,m]=b.useState(!1),[g,p]=b.useState(!1),[v,x]=b.useState(!1),{data:y=[],isLoading:w}=SPe(),S=b.useMemo(()=>y.find(K=>K.status==="running")??y[0]??null,[y]),j=r??(S==null?void 0:S.id)??null,{data:_}=NPe(j),{data:N=[],isLoading:k,refetch:C}=EPe(j),{data:T=[],isLoading:I}=OPe(),{data:E=[]}=APe(j,{limit:20}),{data:U=[]}=DPe(),{data:P=[],isLoading:B}=MPe(j),R=CPe(),z=kPe(),D=PPe(),M=TPe(),$=RPe(),X=LPe(),G=$Pe(),ce=IPe(),pe=(_==null?void 0:_.status)==="running",We=b.useMemo(()=>P.length===0?0:Math.max(...P.map(K=>K.sequence_order),0)+1,[P]),te=K=>{j&&t({open:!0,action:K})},se=()=>{if(!e||!j)return;const K=e.action==="start"?"running":"stopped";R.mutate({id:j,data:{status:K}},{onSettled:()=>t(null)})},Ie=K=>{j&&M.mutate({browser_profile_id:j,capture_type:K,file_path:null,file_url:`/api/browser/captures/${K}-${Date.now()}`,tab_id:null},{onSuccess:H=>{f({open:!0,type:K,fileUrl:H.file_url,filePath:H.file_path})}})},ee=K=>{if(K.file_url){const H=document.createElement("a");H.href=K.file_url,H.download=`capture-${K.capture_type}-${Date.now()}`,H.click()}},ue=b.useMemo(()=>{const K=[];return P.slice(0,5).forEach(H=>{K.push({id:H.id,label:`${iR[H.command_type]}  ${H.status}`,time:new Date(H.created_at).toLocaleTimeString(),createdAt:H.created_at})}),E.slice(0,3).forEach(H=>{K.push({id:H.id,label:`Capture: ${H.capture_type}`,time:new Date(H.created_at).toLocaleTimeString(),createdAt:H.created_at})}),K.sort((H,Xe)=>Xe.createdAt.localeCompare(H.createdAt)).slice(0,8).map(({id:H,label:Xe,time:Ke})=>({id:H,label:Xe,time:Ke}))},[P,E]);return a.jsxs("div",{className:"flex flex-col h-full animate-fade-in-up",children:[a.jsxs("header",{className:"shrink-0 mb-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Browser Automation Console"}),a.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Managed Chromium profile, command queue, and capture tools. Control your session from the footer."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0",children:[a.jsxs(re,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(ie,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(oe,{className:"flex items-center gap-2 text-lg",children:[a.jsx(WI,{className:"h-5 w-5 text-primary"}),"Command Queue"]}),a.jsxs(O,{size:"sm",onClick:()=>p(!0),disabled:!j||G.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Wt,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(we,{children:"Add and manage automation commands. They run in sequence."})]}),a.jsx(ne,{className:"flex-1 flex flex-col min-h-0",children:j?B?a.jsx("ul",{className:"space-y-2",children:[1,2,3].map(K=>a.jsx(ve,{className:"h-10 rounded-md"},K))}):P.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(hH,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No commands in queue"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a command to run automations."}),a.jsxs(O,{className:"mt-3 transition-transform hover:scale-[1.02]",variant:"outline",size:"sm",onClick:()=>p(!0),children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Add command"]})]}):a.jsx(St,{className:"flex-1 -mx-1 px-1",children:a.jsx("ul",{className:"space-y-1",children:P.map(K=>a.jsxs("li",{className:"flex items-center gap-2 rounded-md border border-border bg-secondary/30 px-2 py-1.5 group",children:[a.jsx("span",{className:"text-xs text-muted-foreground w-6 shrink-0",children:K.sequence_order+1}),a.jsx("span",{className:"truncate text-sm flex-1",children:iR[K.command_type]}),a.jsx(Qe,{variant:"secondary",className:"text-xs shrink-0",children:K.status}),a.jsx(O,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>ce.mutate(K.id),disabled:ce.isPending,"aria-label":"Remove command",children:a.jsx(bn,{className:"h-3 w-3"})})]},K.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select or create a profile to add commands."})})]}),a.jsxs(re,{className:"lg:col-span-6 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(ie,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs(oe,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Jy,{className:"h-5 w-5 text-primary"}),"Browser Viewport"]}),j&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:j,onChange:K=>n(K.target.value||null),children:y.map(K=>a.jsxs("option",{value:K.id,children:["Profile  ",eAe[K.status]??K.status]},K.id))}),a.jsxs(O,{size:"sm",onClick:()=>te("start"),disabled:pe||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(va,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>te("stop"),disabled:!pe||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Bh,{className:"h-4 w-4 mr-1"}),"Stop"]}),a.jsx(O,{variant:"ghost",size:"sm",onClick:()=>C(),disabled:k||!pe,children:a.jsx(Id,{className:Z("h-4 w-4",k&&"animate-spin")})})]})]}),a.jsx(we,{children:"Tab inspector and active session. Start the profile to see tabs."})]}),a.jsx(ne,{className:"flex-1 flex flex-col min-h-0",children:j?k?a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:[1,2,3,4].map(K=>a.jsx(ve,{className:"h-24 rounded-lg"},K))}):N.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(WE,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No tabs"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:pe?"Open pages in the managed browser or refresh.":"Start the profile to see tabs."})]}):a.jsx(St,{className:"flex-1",children:a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:N.map(K=>a.jsxs("button",{type:"button",onClick:()=>{i(K),l(!0)},className:"flex flex-col overflow-hidden rounded-lg border border-border bg-secondary/30 text-left transition-all hover:border-primary/50 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[K.snapshot_url?a.jsx("img",{src:K.snapshot_url,alt:"",className:"h-20 w-full object-cover object-top"}):a.jsx("div",{className:"flex h-20 w-full items-center justify-center bg-muted",children:a.jsx(WE,{className:"h-8 w-8 text-muted-foreground"})}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"truncate text-sm font-medium",title:K.title??K.url,children:K.title||K.url||"Untitled"}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",title:K.url,children:K.url||""})]})]},K.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a profile to start."})})]}),a.jsxs(re,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(ie,{className:"pb-2",children:[a.jsxs(oe,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Dh,{className:"h-5 w-5 text-primary"}),"Output Capture"]}),a.jsx(we,{children:"Screenshot, PDF, or DOM snapshot. View and manage captures below."})]}),a.jsxs(ne,{className:"flex-1 flex flex-col gap-3 min-h-0",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>Ie("screenshot"),disabled:!j||!pe||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Dh,{className:"h-4 w-4 mr-1"}),"Screenshot"]}),a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>Ie("pdf"),disabled:!j||!pe||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Vr,{className:"h-4 w-4 mr-1"}),"PDF"]}),a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>Ie("dom"),disabled:!j||!pe||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(tv,{className:"h-4 w-4 mr-1"}),"DOM"]})]}),a.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recent"}),a.jsxs(O,{variant:"ghost",size:"sm",onClick:()=>x(!0),className:"text-primary hover:text-primary",children:["Manage",a.jsx(is,{className:"h-4 w-4 ml-0.5"})]})]}),E.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No captures yet."}):a.jsx(St,{className:"flex-1",children:a.jsx("ul",{className:"space-y-1",children:E.slice(0,5).map(K=>a.jsxs("li",{className:"flex items-center justify-between rounded-md border border-border bg-secondary/30 px-2 py-1.5 text-sm",children:[a.jsx("span",{children:K.capture_type}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(K.created_at).toLocaleDateString()})]},K.id))})})]})]})]})]}),a.jsx("footer",{className:"shrink-0 mt-4 pt-4 border-t border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Session"}),y.length>0&&j&&a.jsxs(a.Fragment,{children:[a.jsxs(O,{size:"sm",onClick:()=>te("start"),disabled:pe||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(va,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>te("stop"),disabled:!pe||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Bh,{className:"h-4 w-4 mr-1"}),"Stop"]})]}),y.length===0&&a.jsx(O,{size:"sm",variant:"outline",onClick:()=>z.mutate({status:"stopped",is_isolated:!0}),disabled:z.isPending,children:z.isPending?"Creating":"Create profile"})]}),a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(OS,{className:"h-4 w-4 text-muted-foreground shrink-0"}),a.jsx(St,{className:"max-w-full",children:a.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground",children:ue.length===0?a.jsx("span",{children:"No activity yet"}):ue.map(K=>a.jsx("span",{className:"shrink-0 whitespace-nowrap",title:K.time,children:K.label},K.id))})})]})]})}),!w&&y.length===0&&a.jsx(re,{className:"mt-4 shadow-card",children:a.jsxs(ne,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No profile yet. Create a default profile to start the managed browser."}),a.jsx(O,{size:"sm",variant:"outline",onClick:()=>z.mutate({status:"stopped",is_isolated:!0}),disabled:z.isPending,className:"transition-transform hover:scale-[1.02]",children:z.isPending?"Creating":"Create profile"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs(re,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[a.jsx(tv,{className:"h-4 w-4 text-primary"}),"Automation Runner"]}),a.jsxs(O,{size:"sm",onClick:()=>u(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(ZI,{className:"h-4 w-4 mr-1"}),"Add script"]})]}),a.jsx(we,{children:"Upload and run automation scripts."})]}),a.jsx(ne,{children:I?a.jsx(ve,{className:"h-10 rounded-md"}):T.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No scripts. Add one to run automations."}):a.jsx("ul",{className:"space-y-1",children:T.slice(0,3).map(K=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"truncate",children:K.name}),a.jsx(Qe,{variant:"secondary",children:K.execution_status})]},K.id))})})]}),a.jsxs(re,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[a.jsx(ya,{className:"h-4 w-4 text-primary"}),"CDP Connector"]}),a.jsxs(O,{size:"sm",variant:"outline",onClick:()=>m(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Wt,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(we,{children:"Local or node proxy CDP settings."})]}),a.jsx(ne,{children:U.length===0?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(qI,{className:"h-4 w-4"}),"No CDP connectors. Add one for remote CDP."]}):a.jsx("ul",{className:"space-y-1",children:U.slice(0,3).map(K=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-mono truncate",children:K.token_preview||K.connection_type}),a.jsx(Qe,{variant:"secondary",children:K.connection_type})]},K.id))})})]})]}),e&&a.jsx(FPe,{open:e.open,onOpenChange:K=>!K&&t(null),action:e.action,onConfirm:se,isPending:R.isPending,profilePath:_==null?void 0:_.footprint_path,isIsolated:_==null?void 0:_.is_isolated}),a.jsx(UPe,{open:o,onOpenChange:l,tab:s}),a.jsx(qPe,{open:c,onOpenChange:u,onSubmit:K=>D.mutate(K),isSubmitting:D.isPending}),d&&a.jsx(VPe,{open:d.open,onOpenChange:K=>!K&&f(null),captureType:d.type,fileUrl:d.fileUrl,filePath:d.filePath}),a.jsx(HPe,{open:h,onOpenChange:m,existing:null,onSubmit:K=>X.mutate(K),isSubmitting:X.isPending}),a.jsx(QPe,{open:g,onOpenChange:p,browserProfileId:j,nextSequenceOrder:We,onSubmit:K=>G.mutate(K),isSubmitting:G.isPending}),a.jsx(ZPe,{open:v,onOpenChange:x,captures:E,onDownload:ee,onDelete:K=>$.mutate(K),isDeleting:$.isPending})]})}const Is={getWakeWords:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("wake_words").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createWakeWord:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("wake_words").insert(r).select().single();if(s)throw new Error(s.message);return n},updateWakeWord:async(e,t)=>{const{data:r,error:n}=await q.from("wake_words").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWakeWord:async e=>{const{error:t}=await q.from("wake_words").delete().eq("id",e);if(t)throw new Error(t.message)},getTalkModeSettings:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("talk_mode_settings").select("*").eq("user_id",e.id).order("node_id",{ascending:!0,nullsFirst:!0});if(r)throw new Error(r.message);return t??[]},getTalkModeSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");let r=q.from("talk_mode_settings").select("*").eq("user_id",t.id);e===null?r=r.is("node_id",null):r=r.eq("node_id",e);const{data:n,error:s}=await r.maybeSingle();if(s)throw new Error(s.message);return n},upsertTalkModeSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id,node_id:e.node_id??null},{data:n,error:s}=await q.from("talk_mode_settings").upsert(r,{onConflict:"user_id,node_id"}).select().single();if(s)throw new Error(s.message);return n},updateTalkModeSetting:async(e,t)=>{const{data:r,error:n}=await q.from("talk_mode_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getTranscriptionBackends:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("transcription_backends").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTranscriptionBackends:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("transcription_backends").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTranscriptionBackends:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await q.from("transcription_backends").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getTtsProviderSetting:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("tts_provider_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTtsProviderSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("tts_provider_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTtsProviderSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await q.from("tts_provider_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getMediaSetting:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await q.from("media_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertMediaSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await q.from("media_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateMediaSetting:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await q.from("media_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r}};function s6(e,t){return e().catch(()=>t)}const Mr={all:["voice"],wakeWords:()=>[...Mr.all,"wakeWords"],talkModeSettings:()=>[...Mr.all,"talkModeSettings"],talkModeSetting:e=>[...Mr.all,"talkModeSetting",e],transcriptionBackends:()=>[...Mr.all,"transcriptionBackends"],ttsProviderSetting:()=>[...Mr.all,"ttsProviderSetting"],mediaSetting:()=>[...Mr.all,"mediaSetting"]};function rAe(){return Te({queryKey:Mr.wakeWords(),queryFn:()=>s6(()=>Is.getWakeWords(),[])})}function nAe(){const e=be();return xe({mutationFn:t=>Is.createWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Mr.wakeWords()}),W.success("Wake word added")},onError:t=>{W.error(t.message||"Failed to add wake word")}})}function sAe(){const e=be();return xe({mutationFn:({id:t,data:r})=>Is.updateWakeWord(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Mr.wakeWords()}),W.success("Wake word updated")},onError:t=>{W.error(t.message||"Failed to update wake word")}})}function iAe(){const e=be();return xe({mutationFn:t=>Is.deleteWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Mr.wakeWords()}),W.success("Wake word removed")},onError:t=>{W.error(t.message||"Failed to remove wake word")}})}function aAe(){return Te({queryKey:Mr.talkModeSettings(),queryFn:()=>s6(()=>Is.getTalkModeSettings(),[])})}function oAe(){const e=be();return xe({mutationFn:t=>Is.upsertTalkModeSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Mr.talkModeSettings()}),e.invalidateQueries({queryKey:Mr.all}),W.success("Talk mode saved")},onError:t=>{W.error(t.message||"Failed to save talk mode")}})}function lAe(){return Te({queryKey:Mr.transcriptionBackends(),queryFn:()=>Is.getTranscriptionBackends()})}function cAe(){const e=be();return xe({mutationFn:t=>Is.upsertTranscriptionBackends(t),onSuccess:()=>{e.invalidateQueries({queryKey:Mr.transcriptionBackends()}),W.success("Transcription backends saved")},onError:t=>{W.error(t.message||"Failed to save transcription backends")}})}function uAe(){return Te({queryKey:Mr.ttsProviderSetting(),queryFn:()=>Is.getTtsProviderSetting()})}function dAe(){const e=be();return xe({mutationFn:t=>Is.upsertTtsProviderSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Mr.ttsProviderSetting()}),W.success("TTS provider saved")},onError:t=>{W.error(t.message||"Failed to save TTS provider")}})}function fAe(){return Te({queryKey:Mr.mediaSetting(),queryFn:()=>Is.getMediaSetting()})}function hAe(){const e=be();return xe({mutationFn:t=>Is.upsertMediaSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Mr.mediaSetting()}),W.success("Media settings saved")},onError:t=>{W.error(t.message||"Failed to save media settings")}})}const mAe=xt({word:Ne().min(1,"Wake word is required").max(64),status:ar(["active","inactive"]),propagate_to_nodes:Ua()}),t0={word:"",status:"active",propagate_to_nodes:!0};function pAe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initial:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=vt({resolver:yt(mAe),defaultValues:t0}),f=c("propagate_to_nodes"),h=c("status"),m=p=>{r(p),u(t0),t(!1)},g=p=>{p&&s?u({word:s.word,status:s.status,propagate_to_nodes:s.propagate_to_nodes}):p||u(t0),t(p)};return a.jsx(ze,{open:e,onOpenChange:g,children:a.jsxs(Le,{className:"max-w-md","aria-describedby":"wake-word-form-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:s?"Edit wake word":"Add wake word"}),a.jsx(Be,{id:"wake-word-form-description",children:"Configure a voice wake word. Optionally propagate to connected nodes."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"wake-word-input",children:"Wake word"}),a.jsx(ye,{id:"wake-word-input",placeholder:"e.g. Hey Clawgate",...i("word"),className:"transition-colors focus-visible:ring-2"}),d.word&&a.jsx("p",{className:"text-sm text-destructive",children:d.word.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Status"}),a.jsxs(mt,{value:h,onValueChange:p=>l("status",p),children:[a.jsx(ct,{children:a.jsx(pt,{})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"active",children:"Active"}),a.jsx(Ce,{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"propagate-nodes",children:"Propagate to nodes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this wake word to paired devices"})]}),a.jsx(en,{id:"propagate-nodes",checked:f,onCheckedChange:p=>l("propagate_to_nodes",p)})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(O,{type:"submit",disabled:n,children:n?"Saving":s?"Update":"Add"})]})]})]})})}const gAe=xt({node_id:Ne().nullable(),enabled:Ua(),interrupt_sensitivity:ar(["low","medium","high"])});function vAe({nodes:e,settings:t,defaultSetting:r,onSave:n,isSubmitting:s=!1}){const i="",o={node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"},{handleSubmit:l,setValue:c,watch:u,reset:d}=vt({resolver:yt(gAe),defaultValues:o});b.useEffect(()=>{d({node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"})},[r,d]);const f=u("node_id"),h=u("enabled"),m=u("interrupt_sensitivity"),g=p=>{const v=p.node_id===""||!p.node_id?null:p.node_id;n({node_id:v,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity}),d({node_id:p.node_id,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity})};return a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Talk mode"}),a.jsx(we,{children:"Enable or disable voice interaction per node and set interrupt sensitivity."})]}),a.jsx(ne,{className:"space-y-6",children:a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Node"}),a.jsxs(mt,{value:f||i,onValueChange:p=>{const v=p===i?null:p,x=v===null?r:t.find(y=>y.node_id===v);c("node_id",p||i),c("enabled",(x==null?void 0:x.enabled)??!1),c("interrupt_sensitivity",(x==null?void 0:x.interrupt_sensitivity)??"medium")},children:[a.jsx(ct,{children:a.jsx(pt,{placeholder:"Default (all nodes)"})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"",children:"Default (all nodes)"}),e.map(p=>a.jsx(Ce,{value:p.id,children:p.name||p.id.slice(0,8)},p.id))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"talk-enabled",children:"Talk mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Enable for this node":"Enable for all nodes by default"})]}),a.jsx(en,{id:"talk-enabled",checked:h,onCheckedChange:p=>c("enabled",p)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Interrupt sensitivity"}),a.jsxs(mt,{value:m,onValueChange:p=>c("interrupt_sensitivity",p),children:[a.jsx(ct,{children:a.jsx(pt,{})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"low",children:"Low"}),a.jsx(Ce,{value:"medium",children:"Medium"}),a.jsx(Ce,{value:"high",children:"High"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How quickly the agent stops when you start speaking"})]}),a.jsx(O,{type:"submit",disabled:s,children:s?"Saving":"Save talk mode"})]})})]})}const aR=["whisper","google","assemblyai","deepgram","local-cli"];function yAe({open:e,onOpenChange:t,providerList:r,cliFallback:n,onSave:s,isSubmitting:i=!1}){const[o,l]=b.useState(r.length>0?[...r]:[...aR]),[c,u]=b.useState(n??"");b.useEffect(()=>{e&&(l(r.length>0?[...r]:[...aR]),u(n??""))},[e,r,n]);const d=g=>{if(g<=0)return;const p=[...o];[p[g-1],p[g]]=[p[g],p[g-1]],l(p)},f=g=>{if(g>=o.length-1)return;const p=[...o];[p[g],p[g+1]]=[p[g+1],p[g]],l(p)},h=g=>{l(p=>p.filter((v,x)=>x!==g))},m=()=>{s(o,c.trim()||null),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-lg","aria-describedby":"transcription-backend-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Transcription backends"}),a.jsx(Be,{id:"transcription-backend-description",children:"Set the order of preference for transcription providers. First available is used."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Provider order (first = preferred)"}),a.jsx("ul",{className:"flex flex-col gap-2 rounded-lg border border-border p-2",children:o.map((g,p)=>a.jsxs("li",{className:Z("flex items-center gap-2 rounded-md border border-border bg-card px-3 py-2 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsx("span",{className:"text-muted-foreground","aria-hidden":!0,children:a.jsx(WI,{className:"h-4 w-4"})}),a.jsx("span",{className:"flex-1 font-medium",children:g}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(O,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(p),disabled:p===0,"aria-label":"Move up",children:""}),a.jsx(O,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(p),disabled:p===o.length-1,"aria-label":"Move down",children:""}),a.jsx(O,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h(p),"aria-label":"Remove",children:a.jsx(bn,{className:"h-4 w-4"})})]})]},`${g}-${p}`))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"cli-fallback",children:"CLI fallback command"}),a.jsx(ye,{id:"cli-fallback",placeholder:"e.g. /usr/bin/whisper-cli",value:c,onChange:g=>u(g.target.value),className:"transition-colors focus-visible:ring-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional local CLI used when cloud providers are unavailable"})]})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(O,{onClick:m,disabled:i,children:i?"Saving":"Save order"})]})]})})}const xAe=xt({provider:Ne().min(1,"Provider is required"),model:Ne().optional()}),bAe=[{id:"default",label:"Default (system)"},{id:"openai",label:"OpenAI"},{id:"google",label:"Google Cloud TTS"},{id:"amazon",label:"Amazon Polly"},{id:"elevenlabs",label:"ElevenLabs"},{id:"azure",label:"Azure Speech"},{id:"local",label:"Local / Ollama"}],oR={provider:"default",model:""};function wAe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s="default",initialModel:i=null}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=vt({resolver:yt(xAe),defaultValues:{provider:s,model:i??""}}),h=u("provider"),m=p=>{var v;r({provider:p.provider,model:((v=p.model)==null?void 0:v.trim())||null}),d(oR),t(!1)},g=p=>{d(p?{provider:s,model:i??""}:oR),t(p)};return a.jsx(ze,{open:e,onOpenChange:g,children:a.jsxs(Le,{className:"max-w-md","aria-describedby":"tts-provider-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"TTS provider"}),a.jsx(Be,{id:"tts-provider-description",children:"Choose the text-to-speech provider and model for voice output."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Provider"}),a.jsxs(mt,{value:h,onValueChange:p=>c("provider",p),children:[a.jsx(ct,{children:a.jsx(pt,{})}),a.jsx(ut,{children:bAe.map(p=>a.jsx(Ce,{value:p.id,children:p.label},p.id))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"tts-model",children:"Model (optional)"}),a.jsx(ye,{id:"tts-model",placeholder:"e.g. tts-1, en-US-Standard-D",...o("model"),className:"transition-colors focus-visible:ring-2"}),f.model&&a.jsx("p",{className:"text-sm text-destructive",children:f.model.message})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(O,{type:"submit",disabled:n,children:n?"Saving":"Save"})]})]})]})})}const jAe=xt({retention_days:ts.number().min(1).max(3650),size_cap_mb:ts.number().min(1).max(1048576),fallback_strategy:ar(["local","cloud","none"]),audio_note_handling:ar(["store","transcribe_and_store","transcribe_only","discard"])}),lR={retention_days:30,size_cap_mb:1024,fallback_strategy:"local",audio_note_handling:"store"};function _Ae({initial:e,onSave:t,isSubmitting:r=!1}){const{register:n,handleSubmit:s,setValue:i,watch:o,reset:l,formState:{errors:c}}=vt({resolver:yt(jAe),defaultValues:e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:lR}),u=o("fallback_strategy"),d=o("audio_note_handling");return b.useEffect(()=>{l(e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:lR)},[e,l]),a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Media storage"}),a.jsx(we,{children:"Retention, size caps, and fallback for audio notes and media capture."})]}),a.jsx(ne,{children:a.jsxs("form",{onSubmit:s(t),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"retention-days",children:"Retention (days)"}),a.jsx(ye,{id:"retention-days",type:"number",min:1,max:3650,...n("retention_days"),className:"transition-colors focus-visible:ring-2"}),c.retention_days&&a.jsx("p",{className:"text-sm text-destructive",children:c.retention_days.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep media before cleanup (13650)"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"size-cap-mb",children:"Size cap (MB)"}),a.jsx(ye,{id:"size-cap-mb",type:"number",min:1,...n("size_cap_mb"),className:"transition-colors focus-visible:ring-2"}),c.size_cap_mb&&a.jsx("p",{className:"text-sm text-destructive",children:c.size_cap_mb.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum storage for media; oldest items are removed when exceeded"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Fallback strategy"}),a.jsxs(mt,{value:u,onValueChange:f=>i("fallback_strategy",f),children:[a.jsx(ct,{children:a.jsx(pt,{})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"local",children:"Local only"}),a.jsx(Ce,{value:"cloud",children:"Cloud when local full"}),a.jsx(Ce,{value:"none",children:"No fallback (fail when full)"})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Audio note handling"}),a.jsxs(mt,{value:d,onValueChange:f=>i("audio_note_handling",f),children:[a.jsx(ct,{children:a.jsx(pt,{})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"store",children:"Store only"}),a.jsx(Ce,{value:"transcribe_and_store",children:"Transcribe and store"}),a.jsx(Ce,{value:"transcribe_only",children:"Transcribe only"}),a.jsx(Ce,{value:"discard",children:"Discard"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"What to do with captured audio notes"})]}),a.jsx(O,{type:"submit",disabled:r,children:r?"Saving":"Save media settings"})]})})]})}function SAe(){var D;const[e,t]=b.useState(!1),[r,n]=b.useState(null),[s,i]=b.useState(!1),[o,l]=b.useState(!1),{data:c=[],isLoading:u}=rAe(),d=nAe(),f=sAe(),h=iAe(),{data:m=[],isLoading:g}=aAe(),p=oAe(),v=m.find(M=>M.node_id===null)??null,{data:x=[]}=MF(),{data:y,isLoading:w}=lAe(),S=cAe(),{data:j,isLoading:_}=uAe(),N=dAe(),{data:k,isLoading:C}=fAe(),T=hAe(),I=()=>{n(null),t(!0)},E=M=>{n(M),t(!0)},U=M=>{r?f.mutate({id:r.id,data:{word:M.word,status:M.status,propagate_to_nodes:M.propagate_to_nodes}},{onSuccess:()=>t(!1)}):d.mutate({word:M.word,status:M.status,propagate_to_nodes:M.propagate_to_nodes},{onSuccess:()=>t(!1)})},P=M=>{p.mutate({node_id:M.node_id,enabled:M.enabled,interrupt_sensitivity:M.interrupt_sensitivity})},B=(M,$)=>{S.mutate({provider_list:M,cli_fallback:$})},R=M=>{N.mutate({provider:M.provider,model:M.model})},z=M=>{T.mutate(M)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(he,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(is,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Voice & Media"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Uh,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Voice & Media"]}),a.jsx("p",{className:"text-muted-foreground",children:"Configure wake words, talk mode, transcription, TTS, and media storage."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_240px]",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(oe,{children:"Wake words"}),a.jsx(we,{children:"Voice activation phrases; optionally propagated to nodes."})]}),a.jsxs(O,{type:"button",size:"sm",onClick:I,className:"shrink-0 transition-transform hover:scale-[1.02]",children:[a.jsx(Wt,{className:"h-4 w-4 mr-2"}),"Add"]})]}),a.jsx(ne,{children:u?a.jsx(ve,{className:"h-24 w-full rounded-lg"}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(Uh,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No wake words configured"}),a.jsx(O,{type:"button",variant:"outline",size:"sm",onClick:I,children:"Add wake word"})]}):a.jsx("ul",{className:"space-y-2",children:c.map(M=>a.jsxs("li",{className:Z("flex items-center justify-between rounded-lg border border-border bg-card px-4 py-3 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium",children:M.word}),a.jsx(Qe,{variant:M.status==="active"?"success":"secondary",children:M.status}),M.propagate_to_nodes&&a.jsx("span",{className:"text-muted-foreground text-xs",children:" nodes"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(O,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>E(M),"aria-label":"Edit wake word",children:a.jsx(Uo,{className:"h-4 w-4"})}),a.jsx(O,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h.mutate(M.id),"aria-label":"Delete wake word",children:a.jsx(bn,{className:"h-4 w-4"})})]})]},M.id))})})]}),g?a.jsx(ve,{className:"h-64 w-full rounded-lg"}):a.jsx(vAe,{nodes:x,settings:m,defaultSetting:v,onSave:P,isSubmitting:p.isPending}),a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(fH,{className:"h-5 w-5 text-primary"}),"Transcription backends"]}),a.jsx(we,{children:"Provider order and CLI fallback for voice-to-text."})]}),a.jsx(O,{type:"button",size:"sm",variant:"outline",onClick:()=>i(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Edit order"})]}),a.jsx(ne,{children:w?a.jsx(ve,{className:"h-16 w-full rounded-lg"}):y?a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-muted-foreground",children:["Order: ",(D=y.provider_list)!=null&&D.length?y.provider_list.join("  "):"default"]}),y.cli_fallback&&a.jsxs("p",{className:"text-muted-foreground",children:["CLI fallback: ",a.jsx("code",{className:"rounded bg-secondary px-1",children:y.cli_fallback})]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No backends configured. Use default order or set your preference."})})]}),a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(xH,{className:"h-5 w-5 text-primary"}),"TTS provider"]}),a.jsx(we,{children:"Text-to-speech provider and model for voice output."})]}),a.jsx(O,{type:"button",size:"sm",variant:"outline",onClick:()=>l(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Configure"})]}),a.jsx(ne,{children:_?a.jsx(ve,{className:"h-12 w-full rounded-lg"}):j?a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:j.provider}),j.model&&a.jsxs("span",{className:"text-muted-foreground",children:[" / ",j.model]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default (system)"})})]}),C?a.jsx(ve,{className:"h-80 w-full rounded-lg"}):a.jsx(_Ae,{initial:k??null,onSave:z,isSubmitting:T.isPending})]}),a.jsxs("aside",{className:"space-y-4 lg:order-last",children:[a.jsxs(re,{className:"border-border bg-card/80",children:[a.jsx(ie,{className:"pb-2",children:a.jsx(oe,{className:"text-base",children:"Related"})}),a.jsxs(ne,{className:"space-y-2",children:[a.jsxs(he,{to:"/settings",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[a.jsx(ya,{className:"h-4 w-4 shrink-0"}),"Settings"]}),a.jsx(he,{to:"/nodes",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:"Nodes"})]})]}),a.jsxs(re,{className:"border-border bg-card/80",children:[a.jsx(ie,{className:"pb-2",children:a.jsxs(oe,{className:"text-base flex items-center gap-2",children:[a.jsx(Yy,{className:"h-4 w-4"}),"Help"]})}),a.jsx(ne,{children:a.jsx(he,{to:"/help",className:"text-sm text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Docs & quick start"})})]})]})]}),a.jsx(pAe,{open:e,onOpenChange:t,onSubmit:U,isSubmitting:d.isPending||f.isPending,initial:r}),a.jsx(yAe,{open:s,onOpenChange:i,providerList:(y==null?void 0:y.provider_list)??[],cliFallback:(y==null?void 0:y.cli_fallback)??null,onSave:B,isSubmitting:S.isPending}),a.jsx(wAe,{open:o,onOpenChange:l,onSubmit:R,isSubmitting:N.isPending,initialProvider:(j==null?void 0:j.provider)??"default",initialModel:(j==null?void 0:j.model)??null})]})}function NAe(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Settings / Preferences"}),a.jsxs(Ba,{defaultValue:"network",children:[a.jsxs(Yi,{children:[a.jsx(At,{value:"network",children:"Network"}),a.jsx(At,{value:"remote",children:"Remote access"}),a.jsx(At,{value:"secrets",children:"Secrets"}),a.jsx(At,{value:"tools",children:"Tool policies"}),a.jsx(At,{value:"model",children:"Model defaults"})]}),a.jsx(Tt,{value:"network",className:"space-y-4",children:a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Network binding / TLS"}),a.jsx(we,{children:"Bind address and TLS certificate."})]}),a.jsx(ne,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Bind address"}),a.jsx(ye,{placeholder:"0.0.0.0:3000"})]})})]})}),a.jsx(Tt,{value:"remote",className:"space-y-4",children:a.jsxs(re,{children:[a.jsx(ie,{children:a.jsx(oe,{children:"Remote access (tailnet / proxy)"})}),a.jsx(ne,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure Tailscale or proxy for remote access."})})]})}),a.jsx(Tt,{value:"secrets",className:"space-y-4",children:a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Secrets management"}),a.jsx(we,{children:"Keychain, 1Password CLI, encrypted fallback."})]}),a.jsxs(ne,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Never write long-lived tokens to plaintext. Manage secrets and keychain configuration in the dedicated Secrets & Keychain page."}),a.jsx(O,{asChild:!0,variant:"secondary",children:a.jsx(he,{to:"/secrets",children:"Open Secrets & Keychain"})})]})]})}),a.jsx(Tt,{value:"tools",className:"space-y-4",children:a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Tool policies"}),a.jsx(we,{children:"Exec allowlist, sandbox toggle."})]}),a.jsx(ne,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Y,{htmlFor:"sandbox",children:"Sandbox tools"}),a.jsx(en,{id:"sandbox"})]})})]})}),a.jsx(Tt,{value:"model",className:"space-y-4",children:a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Model defaults"}),a.jsx(we,{children:"Default provider and model for runs."})]}),a.jsx(ne,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Default model"}),a.jsx(ye,{placeholder:"gpt-4"})]})})]})})]}),a.jsx(re,{children:a.jsxs(ne,{className:"pt-6",children:[a.jsx(O,{children:"Restart / Apply"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Restart gateway to apply some settings."})]})})]})}const cR="[ENCRYPTED]";async function i6(){const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");return e.id}async function sg(e,t,r={}){const s={user_id:await i6(),secret_id:t,action:e,details:r};await q.from("secret_audit_logs").insert(s)}const Nc={getSecrets:async()=>{const{data:e,error:t}=await q.from("secrets").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSecret:async e=>{const{data:t,error:r}=await q.from("secrets").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSecret:async e=>{const t=await i6(),r=e.storage_method==="encrypted_fallback"&&e.value!=null?cR:null,n={user_id:t,name:e.name.trim(),storage_method:e.storage_method,encrypted_value:r,key_reference:e.key_reference??null},{data:s,error:i}=await q.from("secrets").insert(n).select().single();if(i)throw new Error(i.message);const o=s;return await sg("secret_created",o.id,{name:o.name}),o},updateSecret:async(e,t)=>{const{data:r,error:n}=await q.from("secrets").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);const s=r;return await sg("secret_updated",e,{name:s.name}),s},rotateSecret:async(e,t)=>{const r=t.value!=null?cR:void 0,{data:n,error:s}=await q.from("secrets").update({encrypted_value:r}).eq("id",e).select().single();if(s)throw new Error(s.message);return await sg("secret_rotated",e),n},deleteSecret:async e=>{const t=await Nc.getSecret(e),{error:r}=await q.from("secrets").delete().eq("id",e);if(r)throw new Error(r.message);t&&await sg("secret_deleted",null,{name:t.name})},getAuditLogs:async(e=50)=>{const{data:t,error:r}=await q.from("secret_audit_logs").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}};function kAe(e,t){return e().catch(()=>t)}const wn={all:["secrets"],list:()=>[...wn.all,"list"],detail:e=>[...wn.all,"detail",e],auditLogs:e=>[...wn.all,"auditLogs",e]};function CAe(){return Te({queryKey:wn.list(),queryFn:()=>kAe(()=>Nc.getSecrets(),[])})}function EAe(){const e=be();return xe({mutationFn:t=>Nc.createSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:wn.list()}),e.invalidateQueries({queryKey:wn.auditLogs()}),W.success("Secret created")},onError:t=>{W.error(t.message||"Failed to create secret")}})}function OAe(){const e=be();return xe({mutationFn:({id:t,data:r})=>Nc.updateSecret(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:wn.list()}),e.invalidateQueries({queryKey:wn.detail(r)}),e.invalidateQueries({queryKey:wn.auditLogs()}),W.success("Secret updated")},onError:t=>{W.error(t.message||"Failed to update secret")}})}function PAe(){const e=be();return xe({mutationFn:({id:t,value:r})=>Nc.rotateSecret(t,{value:r}),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:wn.list()}),e.invalidateQueries({queryKey:wn.detail(r)}),e.invalidateQueries({queryKey:wn.auditLogs()}),W.success("Secret rotated")},onError:t=>{W.error(t.message||"Failed to rotate secret")}})}function AAe(){const e=be();return xe({mutationFn:t=>Nc.deleteSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:wn.list()}),e.invalidateQueries({queryKey:wn.auditLogs()}),W.success("Secret removed")},onError:t=>{W.error(t.message||"Failed to remove secret")}})}function TAe(e=50){return Te({queryKey:wn.auditLogs(e),queryFn:()=>Nc.getAuditLogs(e)})}const RAe=xt({name:Ne().min(1,"Name is required").max(128,"Name too long"),storage_method:ar(["os_keychain","onepassword","encrypted_fallback"]),value:Ne().optional(),key_reference:Ne().optional()}),r0={name:"",storage_method:"encrypted_fallback",value:"",key_reference:""};function MAe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,watch:l,setValue:c,formState:{errors:u}}=vt({resolver:yt(RAe),defaultValues:r0}),d=l("storage_method"),f=m=>{var g,p;r({name:m.name.trim(),storage_method:m.storage_method,value:((g=m.value)==null?void 0:g.trim())||void 0,key_reference:((p=m.key_reference)==null?void 0:p.trim())||null}),o(r0)},h=m=>{m||o(r0),t(m)};return a.jsx(ze,{open:e,onOpenChange:h,children:a.jsxs(Le,{className:"max-w-lg","aria-describedby":"add-secret-form-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Add secret"}),a.jsx(Be,{id:"add-secret-form-description",children:"Store a secret securely. Choose where it will be stored; value is never stored in plaintext."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"name",children:"Name"}),a.jsx(ye,{id:"name",placeholder:"e.g. API_KEY_GITHUB",...s("name"),className:u.name?"border-destructive":"",autoComplete:"off"}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Storage method"}),a.jsxs(mt,{value:d,onValueChange:m=>c("storage_method",m),children:[a.jsx(ct,{className:u.storage_method?"border-destructive":"",children:a.jsx(pt,{placeholder:"Select storage"})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Ce,{value:"onepassword",children:"1Password"}),a.jsx(Ce,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"OS Keychain (macOS/Windows/Linux), 1Password CLI, or encrypted fallback when keychain is unavailable."})]}),d==="encrypted_fallback"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"value",children:"Value"}),a.jsx(ye,{id:"value",type:"password",placeholder:"Enter secret value",autoComplete:"new-password",...s("value")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value is encrypted before storage; never stored in plaintext."})]}),(d==="os_keychain"||d==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"key_reference",children:"Key reference (optional)"}),a.jsx(ye,{id:"key_reference",placeholder:"e.g. service/account/key",...s("key_reference"),autoComplete:"off"})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"secondary",onClick:()=>h(!1),disabled:n,children:"Cancel"}),a.jsx(O,{type:"submit",disabled:n,children:n?"Adding":"Add secret"})]})]})]})})}const $Ae=xt({name:Ne().min(1,"Name is required").max(128,"Name too long"),storage_method:ar(["os_keychain","onepassword","encrypted_fallback"]),key_reference:Ne().optional()});function IAe({open:e,onOpenChange:t,secret:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,reset:l,watch:c,setValue:u,formState:{errors:d}}=vt({resolver:yt($Ae),defaultValues:{name:(r==null?void 0:r.name)??"",storage_method:(r==null?void 0:r.storage_method)??"encrypted_fallback",key_reference:(r==null?void 0:r.key_reference)??""}}),f=c("storage_method");b.useEffect(()=>{e&&r&&l({name:r.name,storage_method:r.storage_method,key_reference:r.key_reference??""})},[e,r,l]);const h=g=>{var p;n({name:g.name.trim(),storage_method:g.storage_method,key_reference:((p=g.key_reference)==null?void 0:p.trim())||null}),t(!1)},m=g=>{g||t(!1)};return r?a.jsx(ze,{open:e,onOpenChange:m,children:a.jsxs(Le,{className:"max-w-lg","aria-describedby":"edit-secret-form-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Edit secret"}),a.jsx(Be,{id:"edit-secret-form-description",children:"Update name or storage method. The secret value is never displayed; use Rotate to set a new value."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"edit-name",children:"Name"}),a.jsx(ye,{id:"edit-name",placeholder:"e.g. API_KEY_GITHUB",...i("name"),className:d.name?"border-destructive":"",autoComplete:"off"}),d.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Storage method"}),a.jsxs(mt,{value:f,onValueChange:g=>u("storage_method",g),children:[a.jsx(ct,{className:d.storage_method?"border-destructive":"",children:a.jsx(pt,{placeholder:"Select storage"})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Ce,{value:"onepassword",children:"1Password"}),a.jsx(Ce,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]})]}),(f==="os_keychain"||f==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"edit-key_reference",children:"Key reference (optional)"}),a.jsx(ye,{id:"edit-key_reference",placeholder:"e.g. service/account/key",...i("key_reference"),autoComplete:"off"})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"secondary",onClick:()=>m(!1),disabled:s,children:"Cancel"}),a.jsx(O,{type:"submit",disabled:s,children:s?"Saving":"Save changes"})]})]})]})}):null}function DAe({values:e,onChange:t,disabled:r=!1,className:n}){return a.jsxs(re,{className:Z("shadow-card transition-shadow hover:shadow-card-hover",n),children:[a.jsxs(ie,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fh,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(oe,{children:"Setup & configuration"})]}),a.jsx(we,{children:"Choose where secrets are stored. OS keychain and 1Password keep credentials out of the database; encrypted fallback is used when keychain is unavailable."})]}),a.jsxs(ne,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"keychain",className:"text-base font-medium",children:"OS Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"macOS Keychain, Windows Credential Manager, or Linux secret store"})]}),a.jsx(en,{id:"keychain",checked:e.keychainEnabled,onCheckedChange:s=>t({...e,keychainEnabled:s}),disabled:r,"aria-label":"Toggle OS keychain"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"onepassword",className:"text-base font-medium",children:"1Password integration"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Store and retrieve secrets via 1Password CLI"})]}),a.jsx(en,{id:"onepassword",checked:e.onepasswordEnabled,onCheckedChange:s=>t({...e,onepasswordEnabled:s}),disabled:r,"aria-label":"Toggle 1Password"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"fallback",className:"text-base font-medium",children:"Encrypted fallback"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Encrypt and store in database when keychain is unavailable"})]}),a.jsx(en,{id:"fallback",checked:e.encryptedFallbackEnabled,onCheckedChange:s=>t({...e,encryptedFallbackEnabled:s}),disabled:r,"aria-label":"Toggle encrypted fallback"})]}),a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Un,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Long-lived tokens are never written to plaintext. Runtime retrieval uses least-privilege scoping."]})]})]})}const uR={os_keychain:"OS Keychain",onepassword:"1Password",encrypted_fallback:"Encrypted fallback"};function LAe(){const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState(null),[o,l]=b.useState({keychainEnabled:!0,onepasswordEnabled:!1,encryptedFallbackEnabled:!0}),{data:c=[],isLoading:u}=CAe(),{data:d=[],isLoading:f}=TAe(50),h=EAe(),m=OAe(),g=AAe(),p=PAe(),v=async j=>{await h.mutateAsync(j),t(!1)},x=async j=>{s&&(await m.mutateAsync({id:s.id,data:j}),n(!1),i(null))},y=j=>{i(j),n(!0)},w=j=>{p.mutate({id:j.id},{onSuccess:()=>n(!1)})},S=j=>{window.confirm(`Remove secret "${j.name}"? This cannot be undone.`)&&g.mutate(j.id)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Secrets & Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Store and manage secrets securely. No plaintext on disk."})]}),a.jsxs(O,{onClick:()=>t(!0),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Wt,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}),a.jsxs(re,{className:"border-border shadow-card",children:[a.jsxs(ie,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Un,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(oe,{className:"text-base",children:"Keychain status"})]}),a.jsx(we,{children:o.keychainEnabled||o.onepasswordEnabled?"Keychain or 1Password is configured. Secrets can be stored in the vault.":"Using encrypted fallback only. Enable OS keychain or 1Password for stronger isolation."})]}),a.jsxs(ne,{className:"flex flex-wrap gap-2",children:[o.keychainEnabled&&a.jsxs(Qe,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Ko,{className:"h-3 w-3 mr-1"}),"OS Keychain"]}),o.onepasswordEnabled&&a.jsxs(Qe,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Ko,{className:"h-3 w-3 mr-1"}),"1Password"]}),!o.keychainEnabled&&!o.onepasswordEnabled&&a.jsxs(Qe,{variant:"secondary",className:"bg-warning/15 text-warning border-0",children:[a.jsx(La,{className:"h-3 w-3 mr-1"}),"Fallback only"]})]})]}),a.jsxs(Ba,{defaultValue:"secrets",className:"space-y-4",children:[a.jsxs(Yi,{children:[a.jsx(At,{value:"secrets",children:"Secrets management"}),a.jsx(At,{value:"setup",children:"Setup & configuration"}),a.jsx(At,{value:"audit",children:"Audit logs"})]}),a.jsx(Tt,{value:"secrets",className:"space-y-4",children:a.jsxs(re,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsx(oe,{className:"text-lg",children:"Stored secrets"}),a.jsx(we,{children:"Add, edit, or rotate secrets. Values are never shown after save."})]}),a.jsx(ne,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>a.jsx(ve,{className:"h-14 w-full rounded-lg"},j))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Fh,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No secrets yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Add a secret to store API keys, tokens, or other credentials securely."}),a.jsxs(O,{variant:"default",className:"mt-4 transition-transform hover:scale-[1.02]",onClick:()=>t(!0),children:[a.jsx(Wt,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}):a.jsx(St,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:c.map(j=>a.jsxs("li",{className:Z("flex items-center justify-between rounded-lg border border-border p-4","transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:a.jsx(Fh,{className:"h-5 w-5 text-primary","aria-hidden":!0})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:j.name}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[uR[j.storage_method]??j.storage_method,"  Updated"," ",Lr(new Date(j.updated_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(Qe,{variant:"secondary",className:"text-xs",children:uR[j.storage_method]??j.storage_method}),a.jsxs(ci,{children:[a.jsx(ui,{asChild:!0,children:a.jsx(O,{variant:"ghost",size:"icon","aria-label":"Actions",children:a.jsx(Ii,{className:"h-4 w-4"})})}),a.jsxs(ks,{align:"end",children:[a.jsxs(zt,{onClick:()=>y(j),children:[a.jsx(Uo,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(zt,{onClick:()=>w(j),children:[a.jsx(Id,{className:"h-4 w-4 mr-2"}),"Rotate secret"]}),a.jsxs(zt,{className:"text-destructive focus:text-destructive",onClick:()=>S(j),children:[a.jsx(bn,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})]})]},j.id))})})})]})}),a.jsx(Tt,{value:"setup",className:"space-y-4",children:a.jsx(DAe,{values:o,onChange:l})}),a.jsx(Tt,{value:"audit",className:"space-y-4",children:a.jsxs(re,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(oe,{className:"text-lg",children:"Audit logs"})]}),a.jsx(we,{children:"Recent secret access, rotation, and configuration changes."})]}),a.jsx(ne,{children:f?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(j=>a.jsx(ve,{className:"h-12 w-full rounded-lg"},j))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Vr,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No audit entries yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Actions on secrets will appear here."})]}):a.jsx(St,{className:"h-[360px] pr-4",children:a.jsx("ul",{className:"space-y-2",role:"list",children:d.map(j=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3 text-sm",children:[a.jsx("span",{className:"font-medium capitalize",children:j.action.replace(/_/g," ")}),a.jsx("span",{className:"text-muted-foreground",children:Lr(new Date(j.created_at),{addSuffix:!0})})]},j.id))})})})]})})]}),a.jsx(MAe,{open:e,onOpenChange:t,onSubmit:v,isSubmitting:h.isPending}),a.jsx(IAe,{open:r,onOpenChange:n,secret:s,onSubmit:x,isSubmitting:m.isPending})]})}const Wn="/security",kc={runAudit:()=>_e.post(`${Wn}/audit/run`,{}),getAudits:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return _e.get(`${Wn}/audits${t?`?${t}`:""}`)},getAudit:e=>_e.get(`${Wn}/audits/${e}`),createAudit:e=>_e.post(`${Wn}/audits`,e),getIssuesByAuditId:e=>_e.get(`${Wn}/audits/${e}/issues`),createIssue:e=>_e.post(`${Wn}/issues`,e),applyAutoFix:e=>_e.post(`${Wn}/issues/${e}/auto-fix`,{}),updateIssue:(e,t)=>_e.patch(`${Wn}/issues/${e}`,t),getIncidentActions:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return _e.get(`${Wn}/incident-actions${t?`?${t}`:""}`)},createIncidentAction:e=>_e.post(`${Wn}/incident-actions`,e),exportAuditLogs:e=>_e.post(`${Wn}/export`,e),getAuditLogs:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return _e.get(`${Wn}/audit-logs${t?`?${t}`:""}`)},createAuditLog:e=>_e.post(`${Wn}/audit-logs`,e)};function a6(e,t){return e().catch(()=>t)}const Zn={all:["security"],audits:e=>[...Zn.all,"audits",e],audit:e=>[...Zn.all,"audit",e??""],issues:e=>[...Zn.all,"issues",e??""],incidentActions:e=>[...Zn.all,"incident-actions",e],auditLogs:e=>[...Zn.all,"audit-logs",e]};function FAe(e){return Te({queryKey:Zn.audits(e),queryFn:()=>a6(()=>kc.getAudits(e),[])})}function UAe(e){return Te({queryKey:Zn.issues(e),queryFn:()=>e?a6(()=>kc.getIssuesByAuditId(e),[]):Promise.resolve([]),enabled:!!e})}function BAe(){const e=be();return xe({mutationFn:()=>kc.runAudit(),onSuccess:t=>{var r;e.invalidateQueries({queryKey:Zn.all}),(r=t==null?void 0:t.audit)!=null&&r.id&&(e.invalidateQueries({queryKey:Zn.audit(t.audit.id)}),e.invalidateQueries({queryKey:Zn.issues(t.audit.id)})),W.success("Security audit completed")},onError:t=>{W.error(t.message||"Audit failed")}})}function qAe(){const e=be();return xe({mutationFn:t=>kc.applyAutoFix(t),onSuccess:()=>{e.invalidateQueries({queryKey:Zn.all}),W.success("Auto-fix applied")},onError:t=>{W.error(t.message||"Auto-fix failed")}})}function zAe(){const e=be();return xe({mutationFn:({issueId:t,data:r})=>kc.updateIssue(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Zn.all}),W.success("Issue updated")},onError:t=>{W.error(t.message||"Update failed")}})}function WAe(){const e=be();return xe({mutationFn:t=>kc.createIncidentAction(t),onSuccess:()=>{e.invalidateQueries({queryKey:Zn.all}),W.success("Action submitted")},onError:t=>{W.error(t.message||"Action failed")}})}function VAe(){return xe({mutationFn:e=>kc.exportAuditLogs(e),onSuccess:e=>{e!=null&&e.download_url&&window.open(e.download_url,"_blank"),W.success("Export started")},onError:e=>{W.error(e.message||"Export failed")}})}const o6=b.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));o6.displayName="Textarea";function KAe({open:e,onOpenChange:t,onConfirm:r,isSubmitting:n=!1,mode:s="auto_fix",issueDescription:i}){const o=s==="auto_fix",l=o?"Apply auto-fix?":"Record manual remediation?",c=o?"This will apply the recommended automated fix for this issue. The change will be logged for compliance.":"This will record your manual fix for this issue. The change will be logged for compliance.",u=()=>{r(),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[480px]","aria-describedby":"remediation-confirm-desc",children:[a.jsxs(Fe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(XI,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Ue,{children:l})]}),a.jsxs(Be,{id:"remediation-confirm-desc",children:[c,i&&a.jsxs("span",{className:"mt-2 block text-muted-foreground truncate max-w-full",title:i,children:["Issue: ",i.slice(0,80),i.length>80?"":""]})]})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(O,{onClick:u,disabled:n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:n?"Applying":o?"Apply auto-fix":"Record fix"})]})]})})}const dR={critical:{label:"Critical",icon:La,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:vc,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:RS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:MS,className:"text-accent bg-accent/15 border-accent/30"}};function HAe(e){return e?e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):""}function GAe({issue:e,open:t,onOpenChange:r,autoFixEnabled:n=!1,onAutoFixChange:s,onApplyAutoFix:i,isApplyingAutoFix:o=!1,onApplyManualFix:l,isApplyingManualFix:c=!1}){const[u,d]=b.useState(!1),[f,h]=b.useState("");if(!e)return null;const m=dR[e.severity]??dR.medium,g=m.icon,p=o||c,v=()=>{d(!0)},x=()=>{i==null||i(e.id)},y=()=>{const w=f.trim();w&&l&&(l(e.id,w),h(""))};return a.jsxs(a.Fragment,{children:[a.jsx(ze,{open:t,onOpenChange:r,children:a.jsxs(Le,{className:"max-w-[640px] max-h-[85vh] flex flex-col","aria-describedby":"audit-issue-description",children:[a.jsxs(Fe,{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(g,{className:Z("h-5 w-5 shrink-0",m.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(Qe,{variant:"secondary",className:Z("border text-xs font-medium",m.className),children:m.label})]}),a.jsx(Ue,{className:"text-left pt-1",children:"Security finding"}),a.jsx(Be,{id:"audit-issue-description",className:"text-left",children:"Details, affected files, and remediation for this issue."})]}),a.jsx(St,{className:"flex-1 max-h-[50vh] rounded-md border border-border px-3 py-2",children:a.jsxs("div",{className:"space-y-4 pr-2",children:[e.category&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Category"}),a.jsx(Qe,{variant:"outline",className:"text-xs font-medium",children:HAe(e.category)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-foreground",children:e.description})]}),e.remediation&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Recommended fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap",children:e.remediation})]}),e.affected_files&&e.affected_files.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Affected files / configs"}),a.jsx("ul",{className:"text-sm font-mono text-foreground list-disc list-inside space-y-0.5",children:e.affected_files.map((w,S)=>a.jsx("li",{children:w},S))})]}),e.applied_fix&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Applied fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap bg-success/10 border border-success/30 rounded-lg px-3 py-2",children:e.applied_fix})]}),e.auto_fix_available&&!e.applied_fix&&a.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border border-border p-3 bg-card/50",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"audit-autofix-toggle",className:"text-sm font-medium",children:"Auto-fix available"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Apply safe automated remediation for this issue."})]}),a.jsx(en,{id:"audit-autofix-toggle",checked:n,onCheckedChange:s,disabled:p,"aria-label":"Enable auto-fix for this issue"})]})]})}),a.jsxs("div",{className:"flex flex-col gap-3 pt-2 border-t border-border",children:[e.auto_fix_available&&!e.applied_fix&&a.jsx("div",{className:"flex justify-end",children:a.jsx(O,{variant:"default",size:"sm",onClick:v,disabled:p||!n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:o?"Applying":"Apply auto-fix now"})}),l&&!e.applied_fix&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Y,{htmlFor:"audit-manual-fix",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(tx,{className:"h-4 w-4","aria-hidden":!0}),"Manual remediation"]}),a.jsx(o6,{id:"audit-manual-fix",placeholder:"Describe the fix you applied (e.g. moved secret to keychain, updated config)...",value:f,onChange:w=>h(w.target.value),disabled:p,rows:3,className:"resize-none text-sm font-mono","aria-describedby":"audit-manual-fix-hint"}),a.jsx("p",{id:"audit-manual-fix-hint",className:"text-xs text-muted-foreground",children:"Record your custom fix for compliance. This will be logged."}),a.jsx(O,{variant:"outline",size:"sm",onClick:y,disabled:p||!f.trim(),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:c?"Saving":"Record manual fix"})]})]})]})}),a.jsx(KAe,{open:u,onOpenChange:d,onConfirm:x,isSubmitting:o,mode:"auto_fix",issueDescription:e.description})]})}const YAe={revoke_sessions:{label:"Revoke sessions",description:"This will revoke all active sessions except the current one. Users will need to sign in again on other devices.",icon:IS,variant:"destructive"},rotate_secrets:{label:"Rotate secrets",description:"This will rotate API keys and tokens. Any integrations using old credentials will need to be updated.",icon:Id,variant:"destructive"},export_logs:{label:"Export security logs",description:"Export audit and security logs for external analysis or compliance. Redaction will be applied by default.",icon:As,variant:"default"},stop_blast_radius:{label:"Stop blast radius",description:"Contain the impact of a potential incident by stopping affected runs and isolating resources.",icon:AS,variant:"destructive"},quarantine_skill:{label:"Quarantine skill",description:"Disable and isolate a skill that may be risky until you review and approve it.",icon:QI,variant:"destructive"}};function QAe({actionType:e,open:t,onOpenChange:r,onConfirm:n,isSubmitting:s=!1}){if(!e)return null;const i=YAe[e]??{label:e.replace(/_/g," "),description:"This action will be logged and may have side effects.",icon:QI,variant:"default"},o=i.icon,l=()=>{n(e),r(!1)};return a.jsx(ze,{open:t,onOpenChange:r,children:a.jsxs(Le,{"aria-describedby":"incident-action-description",children:[a.jsxs(Fe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Ue,{children:i.label})]}),a.jsx(Be,{id:"incident-action-description",children:i.description})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(O,{variant:i.variant==="destructive"?"destructive":"default",onClick:l,disabled:s,children:s?"Processing":"Confirm"})]})]})})}const XAe=xt({format:ar(["json","csv"]),applyRedaction:Ua(),from:Ne().optional(),to:Ne().optional()});function JAe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const{register:s,handleSubmit:i,setValue:o,watch:l}=vt({resolver:yt(XAe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:""}}),c=l("applyRedaction"),u=l("format"),d=f=>{const h={format:f.format,apply_redaction:f.applyRedaction,from:f.from||void 0,to:f.to||void 0};r(h),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[480px]","aria-describedby":"security-export-desc",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Export security logs"}),a.jsx(Be,{id:"security-export-desc",children:"Configure format, date range, and redaction. Export will download audit and security logs for compliance or analysis."})]}),a.jsxs("form",{onSubmit:i(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"security-export-format",children:"Format"}),a.jsxs(mt,{value:u,onValueChange:f=>o("format",f),children:[a.jsx(ct,{id:"security-export-format",children:a.jsx(pt,{})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"json",children:"JSON"}),a.jsx(Ce,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(Y,{htmlFor:"security-export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Redact sensitive data in exported logs (recommended)."})]}),a.jsx(en,{id:"security-export-redaction",checked:c,onCheckedChange:f=>o("applyRedaction",f)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"security-export-from",children:"From (optional)"}),a.jsx(ye,{id:"security-export-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"security-export-to",children:"To (optional)"}),a.jsx(ye,{id:"security-export-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(O,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const fR={critical:{label:"Critical",icon:La,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:vc,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:RS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:MS,className:"text-accent bg-accent/15 border-accent/30"}};function hR(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function ZAe(e){return e>=70?"High risk":e>=40?"Medium risk":e>=10?"Low risk":"No critical issues"}function mR(e){return e>=70?"text-destructive":e>=40?"text-warning":e>=10?"text-accent":"text-success"}function eTe({issue:e,isSelected:t,onSelect:r}){const n=fR[e.severity]??fR.medium,s=n.icon,i=e.description.length>120?e.description.slice(0,120)+"":e.description;return a.jsxs("button",{type:"button",onClick:r,className:Z("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View details for issue: ${e.description.slice(0,50)}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(s,{className:Z("h-4 w-4 shrink-0",n.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(Qe,{variant:"secondary",className:Z("text-xs font-medium border shrink-0",n.className),children:n.label}),e.auto_fix_available&&a.jsx(Qe,{variant:"outline",className:"text-xs shrink-0",children:"Auto-fix"})]}),a.jsx("p",{className:"mt-1.5 text-sm text-foreground line-clamp-2",children:i})]})}const tTe=[{type:"revoke_sessions",label:"Revoke sessions",icon:IS},{type:"rotate_secrets",label:"Rotate secrets",icon:Id},{type:"export_logs",label:"Export logs",icon:As},{type:"stop_blast_radius",label:"Stop blast radius",icon:AS}];function rTe(){const{user:e}=ES(),[t,r]=b.useState(null),[n,s]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(null),[f,h]=b.useState(!1),{data:m=[],isLoading:g}=FAe({limit:10}),p=m[0]??null,v=(p==null?void 0:p.id)??null,{data:x=[],isLoading:y}=UAe(v),w=BAe(),S=WAe(),j=VAe(),_=qAe(),N=zAe(),k={critical:x.filter(R=>R.severity==="critical").length,high:x.filter(R=>R.severity==="high").length,medium:x.filter(R=>R.severity==="medium").length,low:x.filter(R=>R.severity==="low").length},C=(p==null?void 0:p.risk_score)??0,T=R=>{r(R),s(!1),o(!0)},I=R=>{if(R==="export_logs"){h(!0);return}d(R),c(!0)},E=R=>{S.mutate({user_id:(e==null?void 0:e.id)??"",audit_id:v??void 0,action_type:R},{onSuccess:()=>{d(null)}})},U=R=>{j.mutate(R,{onSuccess:z=>{z!=null&&z.download_url&&window.open(z.download_url,"_blank")}})},P=R=>{_.mutate(R,{onSuccess:()=>{o(!1),r(null)}})},B=(R,z)=>{N.mutate({issueId:R,data:{applied_fix:z}},{onSuccess:()=>{o(!1),r(null)}})};return a.jsxs("div",{className:"animate-fade-in-up flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0 space-y-6",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(he,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(is,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Security Audit"})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Un,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Security Audit"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Run automated security checks and manage remediation. Review issues and use incident response actions when needed."})]}),a.jsxs("nav",{className:"flex items-center gap-3 text-sm","aria-label":"Quick links",children:[a.jsx(he,{to:"/dashboard",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Home"}),a.jsx(he,{to:"/settings",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Settings"}),a.jsx(he,{to:"/help",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Help"})]})]})]}),a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Run audit"}),a.jsx(we,{children:"Start automated checks for plaintext secrets, open binds, risky permissions, and misconfigurations."})]}),a.jsxs(ne,{className:"space-y-4",children:[a.jsxs(O,{onClick:()=>w.mutate(),disabled:w.isPending,size:"lg",className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(va,{className:"mr-2 h-4 w-4"}),w.isPending?"Running":"Start Audit"]}),w.isPending&&a.jsxs("div",{className:"space-y-2",role:"status","aria-live":"polite",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Running security checks"}),a.jsx(EN,{value:50,className:"h-2 animate-pulse","aria-label":"Audit in progress"})]})]})]}),a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Audit summary"}),a.jsx(we,{children:"Overall risk score and issue counts from the latest audit."})]}),a.jsx(ne,{children:g?a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ve,{className:"h-14 w-14 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ve,{className:"h-6 w-32"}),a.jsx(ve,{className:"h-4 w-48"})]})]}):p?a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:Z("flex h-14 w-14 items-center justify-center rounded-full border-2 font-semibold text-xl",mR(C),C>=70&&"border-destructive bg-destructive/10",C>=40&&C<70&&"border-warning bg-warning/10",C<40&&"border-success bg-success/10"),children:C}),a.jsxs("div",{children:[a.jsx("p",{className:Z("font-semibold text-lg",mR(C)),children:ZAe(C)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last run: ",hR(p.created_at)]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.critical>0&&a.jsxs(Qe,{variant:"secondary",className:"border-destructive/50 text-destructive",children:[k.critical," critical"]}),k.high>0&&a.jsxs(Qe,{variant:"secondary",className:"border-warning/50 text-warning",children:[k.high," high"]}),k.medium>0&&a.jsxs(Qe,{variant:"secondary",className:"text-muted-foreground",children:[k.medium," medium"]}),k.low>0&&a.jsxs(Qe,{variant:"secondary",className:"border-accent/50 text-accent",children:[k.low," low"]}),x.length===0&&a.jsx(Qe,{variant:"secondary",className:"text-success",children:"No issues"})]})]}):a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Un,{className:"h-10 w-10 text-muted-foreground","aria-hidden":!0}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:"No audit yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Start Audit" to get your current risk score and issues.'})]})]})})]}),a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Issue list"}),a.jsx(we,{children:"Findings from the audit. Click an issue for details and remediation. Auto-fix is available where marked."})]}),a.jsx(ne,{children:a.jsx(St,{className:"h-[360px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:y?[1,2,3,4].map(R=>a.jsx(ve,{className:"h-20 w-full rounded-lg"},R)):x.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(RS,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No issues"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Checks include plaintext secrets, open binds, and risky skill permissions. Run an audit to see results."})]}):x.map(R=>a.jsx(eTe,{issue:R,isSelected:(t==null?void 0:t.id)===R.id,onSelect:()=>T(R)},R.id))})})})]}),a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Incident response"}),a.jsx(we,{children:"Quick actions to contain threats: revoke sessions, rotate secrets, export logs, or stop blast radius."})]}),a.jsx(ne,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:tTe.map(({type:R,label:z,icon:D})=>a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>I(R),disabled:S.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(D,{className:"mr-2 h-4 w-4"}),z]},R))})})]})]}),a.jsxs("aside",{className:"w-full lg:w-72 shrink-0 space-y-4","aria-label":"Security audit sidebar",children:[a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{className:"pb-2",children:[a.jsxs(oe,{className:"text-base flex items-center gap-2",children:[a.jsx(qf,{className:"h-4 w-4","aria-hidden":!0}),"Previous audits"]}),a.jsx(we,{children:"Quick links to recent audit runs."})]}),a.jsx(ne,{children:g?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(R=>a.jsx(ve,{className:"h-12 w-full rounded-lg"},R))}):m.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No audits yet."}):a.jsx("ul",{className:"space-y-2",role:"list",children:m.slice(0,5).map(R=>a.jsx("li",{children:a.jsx("div",{className:Z("rounded-lg border px-3 py-2 transition-colors",(p==null?void 0:p.id)===R.id?"border-primary bg-primary/10":"border-border bg-card/50 hover:bg-secondary/50"),children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("span",{className:"text-sm font-medium",children:["Risk ",R.risk_score]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:hR(R.created_at)})]})})},R.id))})})]}),a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(ie,{className:"pb-2",children:[a.jsx(oe,{className:"text-base",children:"Export"}),a.jsx(we,{children:"Export audit logs for compliance or incident response."})]}),a.jsx(ne,{children:a.jsxs(O,{variant:"outline",className:"w-full transition-transform hover:scale-[1.02] active:scale-[0.98]",onClick:()=>h(!0),children:[a.jsx(As,{className:"mr-2 h-4 w-4"}),"Export logs"]})})]})]}),a.jsx(GAe,{issue:t,open:i,onOpenChange:o,autoFixEnabled:n,onAutoFixChange:s,onApplyAutoFix:P,isApplyingAutoFix:_.isPending,onApplyManualFix:B,isApplyingManualFix:N.isPending}),a.jsx(QAe,{actionType:u,open:l,onOpenChange:c,onConfirm:E,isSubmitting:S.isPending}),a.jsx(JAe,{open:f,onOpenChange:h,onExport:U,isExporting:j.isPending})]})}const Vs="/logs",Lk={getLogs:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&r!=="").map(([r,n])=>[r,Array.isArray(n)?n.join(","):String(n)])).toString():"";return _e.get(`${Vs}${t?`?${t}`:""}`)},getLog:e=>_e.get(`${Vs}/${e}`),createLog:e=>_e.post(`${Vs}`,e),getTraceByLogId:e=>_e.get(`${Vs}/${e}/trace`),getTrace:e=>_e.get(`${Vs}/traces/${e}`),createTrace:e=>_e.post(`${Vs}/traces`,e),updateTrace:(e,t)=>_e.patch(`${Vs}/traces/${e}`,t),exportLogs:e=>_e.post(`${Vs}/export`,e),getRetentionSettings:()=>_e.get(`${Vs}/retention`),updateRetentionSettings:e=>_e.patch(`${Vs}/retention`,e),createRetentionSettings:e=>_e.post(`${Vs}/retention`,e)};function l6(e,t){return e().catch(()=>t)}const jl={all:["logs"],list:e=>[...jl.all,"list",e],detail:e=>[...jl.all,"detail",e],traceByLogId:e=>[...jl.all,"trace",e],trace:e=>[...jl.all,"trace-id",e],retention:()=>[...jl.all,"retention"]};function nTe(e){return Te({queryKey:jl.list(e),queryFn:()=>l6(()=>Lk.getLogs(e),[])})}function sTe(e){return Te({queryKey:jl.traceByLogId(e??""),queryFn:()=>e?l6(()=>Lk.getTraceByLogId(e),null):Promise.resolve(null),enabled:!!e})}function iTe(){return xe({mutationFn:e=>Lk.exportLogs(e),onSuccess:()=>{W.success("Export started")},onError:e=>{W.error(e.message||"Export failed")}})}const c6=["debug","info","warning","error","critical"],aTe=xt({severity:ar(c6).optional(),from:Ne().optional(),to:Ne().optional(),search:Ne().optional(),limit:ts.number().min(10).max(500).optional()});function oTe({open:e,onOpenChange:t,currentFilters:r,onApply:n}){const{register:s,handleSubmit:i,setValue:o,watch:l,reset:c,formState:{isDirty:u}}=vt({resolver:yt(aTe),defaultValues:{severity:void 0,from:(r==null?void 0:r.from)??"",to:(r==null?void 0:r.to)??"",search:(r==null?void 0:r.search)??"",limit:(r==null?void 0:r.limit)??100}}),d=l("severity"),f=m=>{const g={limit:m.limit,search:m.search||void 0,from:m.from||void 0,to:m.to||void 0};m.severity&&(g.severity=m.severity),n(g),t(!1)},h=()=>{c({severity:void 0,from:"",to:"",search:"",limit:100}),n({limit:100}),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[480px]","aria-describedby":"filter-desc",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Filter logs"}),a.jsx(Be,{id:"filter-desc",children:"Refine the log stream by severity, date range, and keywords."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-severity",children:"Severity"}),a.jsxs(mt,{value:d??"",onValueChange:m=>o("severity",m||void 0,{shouldDirty:!0}),children:[a.jsx(ct,{id:"filter-severity",children:a.jsx(pt,{placeholder:"All severities"})}),a.jsx(ut,{children:c6.map(m=>a.jsx(Ce,{value:m,children:m},m))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-from",children:"From (ISO date)"}),a.jsx(ye,{id:"filter-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-to",children:"To (ISO date)"}),a.jsx(ye,{id:"filter-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-search",children:"Keyword search"}),a.jsx(ye,{id:"filter-search",placeholder:"Search in message",...s("search"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-limit",children:"Max results"}),a.jsx(ye,{id:"filter-limit",type:"number",min:10,max:500,...s("limit"),className:"font-mono"})]}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{type:"button",variant:"outline",onClick:h,children:"Clear"}),a.jsx(O,{type:"submit",disabled:!u,children:"Apply"})]})]})]})})}const u6=["debug","info","warning","error","critical"],lTe=xt({format:ar(["json","csv"]),applyRedaction:Ua(),from:Ne().optional(),to:Ne().optional(),severity:ar(u6).optional()});function cTe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const[s,i]=b.useState("json"),{register:o,handleSubmit:l,setValue:c,watch:u}=vt({resolver:yt(lTe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:"",severity:void 0}}),d=u("applyRedaction"),f=u("severity"),h=m=>{const g={format:m.format,applyRedaction:m.applyRedaction,from:m.from||void 0,to:m.to||void 0,severity:m.severity};r(g),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[480px]","aria-describedby":"export-desc",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Export logs"}),a.jsx(Be,{id:"export-desc",children:"Choose format, date range, and redaction. Export will download with your settings."})]}),a.jsxs("form",{onSubmit:l(h),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"export-format",children:"Format"}),a.jsxs(mt,{value:s,onValueChange:m=>{i(m),c("format",m)},children:[a.jsx(ct,{id:"export-format",children:a.jsx(pt,{})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"json",children:"JSON"}),a.jsx(Ce,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(Y,{htmlFor:"export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use redacted message content in export"})]}),a.jsx(en,{id:"export-redaction",checked:d,onCheckedChange:m=>c("applyRedaction",m)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"export-from",children:"From (optional)"}),a.jsx(ye,{id:"export-from",type:"datetime-local",...o("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"export-to",children:"To (optional)"}),a.jsx(ye,{id:"export-to",type:"datetime-local",...o("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"export-severity",children:"Severity filter (optional)"}),a.jsxs(mt,{value:f??"",onValueChange:m=>c("severity",m||void 0),children:[a.jsx(ct,{id:"export-severity",children:a.jsx(pt,{placeholder:"All severities"})}),a.jsx(ut,{children:u6.map(m=>a.jsx(Ce,{value:m,children:m},m))})]})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(O,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}function uTe(e){return e==null?"":e<1e3?`${e} ms`:`${(e/1e3).toFixed(2)} s`}function pR({label:e,icon:t,children:r,defaultOpen:n=!0}){const[s,i]=b.useState(n);return a.jsxs("div",{className:"rounded border border-border bg-secondary/30 overflow-hidden",children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 px-3 py-2 text-left text-sm font-medium hover:bg-secondary/50 transition-colors",onClick:()=>i(o=>!o),"aria-expanded":s,children:[s?a.jsx($d,{className:"h-4 w-4 shrink-0"}):a.jsx(is,{className:"h-4 w-4 shrink-0"}),a.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),e]}),s&&a.jsx("div",{className:"border-t border-border px-3 py-2 font-mono text-xs text-muted-foreground",children:r})]})}function dTe({trace:e,isLoading:t,onClose:r,onExport:n,className:s}){if(t)return a.jsxs(re,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsx(ie,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:a.jsxs(oe,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(Vr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]})}),a.jsx(ne,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(ve,{className:"h-10 w-full"}),a.jsx(ve,{className:"h-24 w-full"}),a.jsx(ve,{className:"h-24 w-full"})]})})]});if(!e)return a.jsxs(re,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(oe,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(Vr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),r&&a.jsx(O,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(Yu,{className:"h-4 w-4"})})]}),a.jsx(ne,{className:"p-6",children:a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a log entry to view its trace."})})]});const i=Array.isArray(e.tool_invocation)?e.tool_invocation:[],o=Array.isArray(e.model_calls)?e.model_calls:[];return a.jsxs(re,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(oe,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(Vr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[n&&a.jsx(O,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Export trace",children:a.jsx(As,{className:"h-4 w-4"})}),r&&a.jsx(O,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(Yu,{className:"h-4 w-4"})})]})]}),a.jsxs(ne,{className:"p-0",children:[a.jsxs("div",{className:"flex items-center gap-2 border-b border-border px-4 py-2 text-xs text-muted-foreground",children:[a.jsx(Co,{className:"h-3.5 w-3.5"}),"Duration: ",uTe(e.duration_ms)]}),a.jsx(St,{className:"h-[320px]",children:a.jsxs("div",{className:"space-y-2 p-3",children:[a.jsx(pR,{label:"Tool invocations",icon:tx,defaultOpen:!0,children:i.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(i,null,2)})}),a.jsx(pR,{label:"Model calls",icon:$i,defaultOpen:!0,children:o.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(o,null,2)})})]})})]})]})}const gR={debug:{label:"debug",icon:sH,className:"text-muted-foreground"},info:{label:"info",icon:MS,className:"text-primary"},warning:{label:"warning",icon:vc,className:"text-warning"},error:{label:"error",icon:La,className:"text-destructive"},critical:{label:"critical",icon:Qy,className:"text-destructive font-semibold"}};function fTe(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function hTe({log:e,isSelected:t,onSelect:r}){const n=gR[e.severity]??gR.info,s=n.icon,i=e.redacted_message??e.message,o=i.length>200?i.slice(0,200)+"":i;return a.jsxs("button",{type:"button",onClick:r,className:Z("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View trace for log ${e.id}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(s,{className:Z("h-4 w-4 shrink-0",n.className),"aria-hidden":!0}),a.jsx(Qe,{variant:"secondary",className:Z("text-xs font-mono shrink-0",n.className),children:n.label}),a.jsx("span",{className:"text-xs font-mono text-muted-foreground shrink-0",children:fTe(e.timestamp)})]}),a.jsx("p",{className:"mt-1.5 font-mono text-xs text-foreground break-words line-clamp-2",children:o})]})}function mTe(){const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState({limit:100}),[o,l]=b.useState(null),{data:c=[],isLoading:u}=nTe(s),{data:d,isLoading:f}=sTe(o),h=iTe(),m=p=>{i(p)},g=p=>{h.mutate(p,{onSuccess:v=>{v!=null&&v.download_url&&window.open(v.download_url,"_blank")}})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(he,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(is,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Logs & Tracing"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Vr,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Logs & Tracing"]}),a.jsx("p",{className:"text-muted-foreground",children:"Structured logs and per-run traces. Filter, view traces, and export with redaction."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(re,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(oe,{children:"Log stream"}),a.jsx(we,{children:"Real-time logs with severity. Select a row to view its run trace."})]})}),a.jsx(ne,{children:a.jsx(St,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:u?a.jsx(a.Fragment,{children:[1,2,3,4,5].map(p=>a.jsx(ve,{className:"h-20 w-full rounded-lg"},p))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Vr,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Connect the gateway to stream logs, or logs will appear here once available."})]}):c.map(p=>a.jsx(hTe,{log:p,isSelected:o===p.id,onSelect:()=>l(v=>v===p.id?null:p.id)},p.id))})})})]}),a.jsx(dTe,{trace:d??null,isLoading:f,onClose:()=>l(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(re,{className:"transition-shadow duration-200",children:[a.jsxs(ie,{className:"pb-2",children:[a.jsx(oe,{className:"text-base",children:"Filters & export"}),a.jsx(we,{children:"Refine the log view and export with redaction options."})]}),a.jsxs(ne,{className:"space-y-3",children:[a.jsxs(O,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(Cj,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(O,{variant:"outline",className:"w-full justify-start",onClick:()=>n(!0),children:[a.jsx(As,{className:"mr-2 h-4 w-4"}),"Export logs"]})]})]})})]}),a.jsx("footer",{className:"pt-4 border-t border-border",children:a.jsxs(he,{to:"/settings",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:[a.jsx(ya,{className:"h-4 w-4"}),"Manage retention settings"]})}),a.jsx(oTe,{open:e,onOpenChange:t,currentFilters:s,onApply:m}),a.jsx(cTe,{open:r,onOpenChange:n,onExport:g,isExporting:h.isPending})]})}const Tf="admin_workspaces",Rf="admin_workspace_members",Mf="admin_licenses",vR="admin_analytics_metrics",ds={getWorkspaces:async()=>{const{data:e,error:t}=await q.from(Tf).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWorkspace:async e=>{const{data:t,error:r}=await q.from(Tf).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWorkspace:async e=>{const{data:t,error:r}=await q.from(Tf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspace:async(e,t)=>{const{data:r,error:n}=await q.from(Tf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWorkspace:async e=>{const{error:t}=await q.from(Tf).delete().eq("id",e);if(t)throw new Error(t.message)},getWorkspaceMembers:async e=>{const{data:t,error:r}=await q.from(Rf).select("*").eq("workspace_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getAllMembers:async()=>{const{data:e,error:t}=await q.from(Rf).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},addWorkspaceMember:async e=>{const{data:t,error:r}=await q.from(Rf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspaceMember:async(e,t)=>{const{data:r,error:n}=await q.from(Rf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},removeWorkspaceMember:async e=>{const{error:t}=await q.from(Rf).delete().eq("id",e);if(t)throw new Error(t.message)},getLicenses:async e=>{let t=q.from(Mf).select("*").order("created_at",{ascending:!1});e!=null&&e.workspace_id&&(t=t.eq("workspace_id",e.workspace_id)),(e==null?void 0:e.user_id)!=null&&(t=t.eq("user_id",e.user_id));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getLicense:async e=>{const{data:t,error:r}=await q.from(Mf).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createLicense:async e=>{const{data:t,error:r}=await q.from(Mf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateLicense:async(e,t)=>{const{data:r,error:n}=await q.from(Mf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteLicense:async e=>{const{error:t}=await q.from(Mf).delete().eq("id",e);if(t)throw new Error(t.message)},getAnalyticsMetrics:async e=>{let t=q.from(vR).select("*").order("bucket_time",{ascending:!1});(e==null?void 0:e.workspace_id)!=null&&(t=e.workspace_id?t.eq("workspace_id",e.workspace_id):t.is("workspace_id",null)),e!=null&&e.metric_type&&(t=t.eq("metric_type",e.metric_type)),e!=null&&e.from&&(t=t.gte("bucket_time",e.from)),e!=null&&e.to&&(t=t.lte("bucket_time",e.to)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},insertAnalyticsMetric:async e=>{const{data:t,error:r}=await q.from(vR).insert(e).select().single();if(r)throw new Error(r.message);return t}};function pb(e,t){return e().catch(()=>t)}const er={all:["admin"],workspaces:()=>[...er.all,"workspaces"],workspace:e=>[...er.all,"workspace",e],workspaceMembers:e=>[...er.all,"workspace-members",e],allMembers:()=>[...er.all,"members"],licenses:e=>[...er.all,"licenses",e],license:e=>[...er.all,"license",e],analytics:e=>[...er.all,"analytics",e]};function pTe(){return Te({queryKey:er.workspaces(),queryFn:()=>pb(()=>ds.getWorkspaces(),[])})}function gTe(){const e=be();return xe({mutationFn:t=>ds.createWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:er.workspaces()}),W.success("Workspace created")},onError:t=>{W.error(t.message??"Failed to create workspace")}})}function vTe(){const e=be();return xe({mutationFn:({id:t,data:r})=>ds.updateWorkspace(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:er.workspaces()}),e.invalidateQueries({queryKey:er.workspace(r)}),W.success("Workspace updated")},onError:t=>{W.error(t.message??"Failed to update workspace")}})}function yTe(){const e=be();return xe({mutationFn:t=>ds.deleteWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:er.workspaces()}),W.success("Workspace deleted")},onError:t=>{W.error(t.message??"Failed to delete workspace")}})}function xTe(){return Te({queryKey:er.allMembers(),queryFn:()=>pb(()=>ds.getAllMembers(),[])})}function bTe(){const e=be();return xe({mutationFn:t=>ds.addWorkspaceMember(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:er.allMembers()}),e.invalidateQueries({queryKey:er.workspaceMembers(r.workspace_id)}),W.success("User added to workspace")},onError:t=>{W.error(t.message??"Failed to add user")}})}function wTe(){const e=be();return xe({mutationFn:({id:t,data:r,workspaceId:n})=>ds.updateWorkspaceMember(t,r),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:er.allMembers()}),e.invalidateQueries({queryKey:er.workspaceMembers(r)}),W.success("Member updated")},onError:t=>{W.error(t.message??"Failed to update member")}})}function jTe(){const e=be();return xe({mutationFn:({id:t})=>ds.removeWorkspaceMember(t),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:er.allMembers()}),e.invalidateQueries({queryKey:er.workspaceMembers(r)}),W.success("Member removed")},onError:t=>{W.error(t.message??"Failed to remove member")}})}function _Te(e){return Te({queryKey:er.licenses(e),queryFn:()=>pb(()=>ds.getLicenses(e),[])})}function STe(){const e=be();return xe({mutationFn:t=>ds.createLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:er.licenses()}),W.success("License created")},onError:t=>{W.error(t.message??"Failed to create license")}})}function NTe(){const e=be();return xe({mutationFn:({id:t,data:r})=>ds.updateLicense(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:er.licenses()}),e.invalidateQueries({queryKey:er.license(r)}),W.success("License updated")},onError:t=>{W.error(t.message??"Failed to update license")}})}function kTe(){const e=be();return xe({mutationFn:t=>ds.deleteLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:er.licenses()}),W.success("License deleted")},onError:t=>{W.error(t.message??"Failed to delete license")}})}function CTe(e){return Te({queryKey:er.analytics(e),queryFn:()=>pb(()=>ds.getAnalyticsMetrics(e),[])})}const ETe=xt({name:Ne().min(1,"Name is required").max(200,"Name too long"),active_users_count:ts.number().min(0,"Must be 0 or more"),status:ar(["active","archived","suspended"])}),yR={name:"",active_users_count:0,status:"active"};function OTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s=null}){const i=!!s,{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=vt({resolver:yt(ETe),defaultValues:yR}),h=u("status");b.useEffect(()=>{e&&s?d({name:s.name,active_users_count:s.active_users_count,status:s.status}):e&&!s&&d(yR)},[e,s,d]);const m=g=>{r(i&&s?{name:g.name,active_users_count:g.active_users_count,status:g.status}:{name:g.name,active_users_count:g.active_users_count,status:g.status}),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[640px]",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:i?"Edit workspace":"Create workspace"}),a.jsx(Be,{children:i?"Update workspace name, user count, and status.":"Add a new workspace for multi-tenant management."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"workspace-name",children:"Name"}),a.jsx(ye,{id:"workspace-name",placeholder:"Workspace name",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("name")}),f.name&&a.jsx("p",{className:"text-sm text-destructive",children:f.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"workspace-active-users",children:"Active users count"}),a.jsx(ye,{id:"workspace-active-users",type:"number",min:0,className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("active_users_count")}),f.active_users_count&&a.jsx("p",{className:"text-sm text-destructive",children:f.active_users_count.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Status"}),a.jsxs(mt,{value:h,onValueChange:g=>c("status",g),children:[a.jsx(ct,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace status",children:a.jsx(pt,{placeholder:"Select status"})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"active",children:"Active"}),a.jsx(Ce,{value:"archived",children:"Archived"}),a.jsx(Ce,{value:"suspended",children:"Suspended"})]})]})]}),a.jsxs(Ve,{className:"gap-2 pt-4",children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(O,{type:"submit",disabled:n,children:n?"Saving":i?"Save":"Create"})]})]})]})})}const PTe=xt({user_id:Ne().uuid("Invalid user ID"),role:ar(["admin","member","viewer"])}),xR={user_id:"",role:"member"};function ATe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s,member:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=vt({resolver:yt(PTe),defaultValues:xR}),m=d("role");b.useEffect(()=>{e&&i?f({user_id:i.user_id,role:i.role}):e&&!i&&f(xR)},[e,i,f]);const g=p=>{if(o&&i)r({role:p.role});else{if(!s)return;r({workspace_id:s.id,user_id:p.user_id,role:p.role})}t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[640px]",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:o?"Edit workspace member":"Add user to workspace"}),a.jsx(Be,{children:o?"Update the member role for this workspace.":"Assign a user to this workspace with a role. Enter the user ID from your auth system."})]}),a.jsxs("form",{onSubmit:c(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"member-user-id",children:"User ID"}),a.jsx(ye,{id:"member-user-id",placeholder:"UUID from auth.users",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id"),disabled:o}),h.user_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.user_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Role"}),a.jsxs(mt,{value:m,onValueChange:p=>u("role",p),children:[a.jsx(ct,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Member role",children:a.jsx(pt,{placeholder:"Select role"})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"admin",children:"Admin"}),a.jsx(Ce,{value:"member",children:"Member"}),a.jsx(Ce,{value:"viewer",children:"Viewer"})]})]})]}),a.jsxs(Ve,{className:"gap-2 pt-4",children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(O,{type:"submit",disabled:n||!o&&!s,children:n?"Saving":o?"Save":"Add user"})]})]})]})})}const TTe=xt({workspace_id:Ne().uuid("Select a workspace"),user_id:Ne().optional(),license_type:ar(["seat","pro","enterprise","trial"]),expiry_date:Ne().optional()}),bR={workspace_id:"",user_id:"",license_type:"seat",expiry_date:""};function RTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspaces:s,license:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=vt({resolver:yt(TTe),defaultValues:bR}),m=d("workspace_id"),g=d("license_type");b.useEffect(()=>{var v;e&&i?f({workspace_id:i.workspace_id,user_id:i.user_id??"",license_type:i.license_type,expiry_date:i.expiry_date?i.expiry_date.slice(0,10):""}):e&&!i&&f({...bR,workspace_id:((v=s[0])==null?void 0:v.id)??""})},[e,i,s,f]);const p=v=>{const x=v.expiry_date?new Date(v.expiry_date).toISOString():null;r(o&&i?{user_id:v.user_id||null,license_type:v.license_type,expiry_date:x}:{workspace_id:v.workspace_id,user_id:v.user_id||null,license_type:v.license_type,expiry_date:x}),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[640px]",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:o?"Edit license":"Allocate license"}),a.jsx(Be,{children:o?"Update license type and expiry. Reassign to a workspace/user if needed.":"Assign a license to a workspace or user. Leave user empty for workspace-level license."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Workspace"}),a.jsxs(mt,{value:m,onValueChange:v=>u("workspace_id",v),disabled:o,children:[a.jsx(ct,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace",children:a.jsx(pt,{placeholder:"Select workspace"})}),a.jsx(ut,{children:s.map(v=>a.jsx(Ce,{value:v.id,children:v.name},v.id))})]}),h.workspace_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.workspace_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"license-user-id",children:"User ID (optional)"}),a.jsx(ye,{id:"license-user-id",placeholder:"UUID or leave empty for workspace license",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"License type"}),a.jsxs(mt,{value:g,onValueChange:v=>u("license_type",v),children:[a.jsx(ct,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"License type",children:a.jsx(pt,{placeholder:"Select type"})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"seat",children:"Seat"}),a.jsx(Ce,{value:"pro",children:"Pro"}),a.jsx(Ce,{value:"enterprise",children:"Enterprise"}),a.jsx(Ce,{value:"trial",children:"Trial"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"license-expiry",children:"Expiry date (optional)"}),a.jsx(ye,{id:"license-expiry",type:"date",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("expiry_date")})]}),a.jsxs(Ve,{className:"gap-2 pt-4",children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(O,{type:"submit",disabled:n,children:n?"Saving":o?"Save":"Allocate"})]})]})]})})}const MTe=xt({workspace_id:Ne().optional(),metric_type:Ne().optional(),from:Ne().optional(),to:Ne().optional(),limit:ts.number().min(10).max(500).optional()}),ig={workspace_id:"",metric_type:"",from:"",to:"",limit:100},$Te=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"];function ITe({open:e,onOpenChange:t,onApply:r,workspaces:n,currentValues:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=vt({resolver:yt(MTe),defaultValues:s??ig});b.useEffect(()=>{e&&u(s??ig)},[e,s,u]);const f=c("workspace_id"),h=c("metric_type"),m=p=>{r(p),t(!1)},g=()=>{u(ig),r(ig),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"max-w-[640px]",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Filter analytics"}),a.jsx(Be,{children:"Refine data by workspace, metric type, date range, and limit."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Workspace"}),a.jsxs(mt,{value:f||"all",onValueChange:p=>l("workspace_id",p==="all"?"":p),children:[a.jsx(ct,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:a.jsx(pt,{placeholder:"All workspaces"})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"all",children:"All workspaces"}),n.map(p=>a.jsx(Ce,{value:p.id,children:p.name},p.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Metric type"}),a.jsxs(mt,{value:h||"all",onValueChange:p=>l("metric_type",p==="all"?"":p),children:[a.jsx(ct,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:a.jsx(pt,{placeholder:"All types"})}),a.jsxs(ut,{children:[a.jsx(Ce,{value:"all",children:"All types"}),$Te.map(p=>a.jsx(Ce,{value:p,children:p.replace(/_/g," ")},p))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-from",children:"From date"}),a.jsx("input",{id:"filter-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("from")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-to",children:"To date"}),a.jsx("input",{id:"filter-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("to")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-limit",children:"Max results"}),a.jsx("input",{id:"filter-limit",type:"number",min:10,max:500,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("limit",{valueAsNumber:!0})}),d.limit&&a.jsx("p",{className:"text-sm text-destructive",children:d.limit.message})]}),a.jsxs(Ve,{className:"gap-2 pt-4",children:[a.jsx(O,{type:"button",variant:"outline",onClick:g,children:"Reset"}),a.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(O,{type:"submit",children:"Apply"})]})]})]})})}const DTe={active:"default",archived:"secondary",suspended:"destructive"},LTe={admin:"default",member:"secondary",viewer:"outline"},FTe={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function UTe(){const[e,t]=b.useState("workspaces"),[r,n]=b.useState(!1),[s,i]=b.useState(null),[o,l]=b.useState(!1),[c,u]=b.useState(null),[d,f]=b.useState(null),[h,m]=b.useState(!1),[g,p]=b.useState(null),[v,x]=b.useState(!1),[y,w]=b.useState(null),{data:S=[],isLoading:j}=pTe(),{data:_=[],isLoading:N}=xTe(),{data:k=[],isLoading:C}=_Te(),{data:T=[],isLoading:I}=CTe({workspace_id:(y==null?void 0:y.workspace_id)||void 0,metric_type:(y==null?void 0:y.metric_type)||void 0,from:(y==null?void 0:y.from)||void 0,to:(y==null?void 0:y.to)||void 0,limit:(y==null?void 0:y.limit)??100}),E=gTe(),U=vTe(),P=yTe(),B=bTe(),R=wTe(),z=jTe(),D=STe(),M=NTe(),$=kTe(),X=b.useMemo(()=>{const te={},se=y!=null&&y.from?bf(y.from):PF(new Date,30),Ie=y!=null&&y.to?bf(y.to):new Date;for(let ee=new Date(se);ee<=Ie;ee.setDate(ee.getDate()+1)){const ue=lu(ee,"yyyy-MM-dd");te[ue]={date:ue,value:0,sessions:0,runs:0}}return T.forEach(ee=>{const ue=ee.bucket_time.slice(0,10);te[ue]||(te[ue]={date:ue,value:0,sessions:0,runs:0}),te[ue].value+=Number(ee.value),ee.metric_type==="active_sessions"&&(te[ue].sessions=Number(ee.value)),(ee.metric_type==="run_success_rate"||ee.metric_type==="run_failure_count")&&(te[ue].runs=Number(ee.value))}),Object.values(te).sort((ee,ue)=>new Date(ee.date).getTime()-new Date(ue.date).getTime())},[T,y]),G=b.useMemo(()=>{const te={};return S.forEach(se=>{te[se.id]=se}),te},[S]),ce=te=>{s?(U.mutate({id:s.id,data:te}),i(null)):E.mutate(te),n(!1)},pe=te=>{c?(R.mutate({id:c.id,data:te,workspaceId:c.workspace_id}),u(null)):d&&"workspace_id"in te&&(B.mutate(te),f(null)),l(!1)},We=te=>{g?(M.mutate({id:g.id,data:te}),p(null)):D.mutate(te),m(!1)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Admin & Analytics"}),a.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Workspace management, user provisioning, license controls, and analytics. Cloud-only."})]})}),a.jsxs(Ba,{value:e,onValueChange:t,className:"space-y-4",children:[a.jsxs(Yi,{className:"inline-flex h-10 items-center justify-center rounded-lg bg-card border border-border p-1 gap-1",children:[a.jsxs(At,{value:"workspaces",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(ew,{className:"mr-2 h-4 w-4"}),"Workspace Management"]}),a.jsxs(At,{value:"users",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(tw,{className:"mr-2 h-4 w-4"}),"User Management"]}),a.jsxs(At,{value:"licenses",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(Lh,{className:"mr-2 h-4 w-4"}),"License Management"]}),a.jsxs(At,{value:"analytics",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(Bf,{className:"mr-2 h-4 w-4"}),"Analytics"]})]}),a.jsx(Tt,{value:"workspaces",className:"space-y-4 mt-4",children:a.jsxs(re,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(oe,{className:"text-lg",children:"Workspaces"}),a.jsxs(O,{size:"sm",onClick:()=>{i(null),n(!0)},children:[a.jsx(Wt,{className:"mr-1 h-4 w-4"}),"Add workspace"]})]}),a.jsx(ne,{children:j?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ve,{className:"h-12 w-full rounded-lg"}),a.jsx(ve,{className:"h-12 w-full rounded-lg"}),a.jsx(ve,{className:"h-12 w-full rounded-lg"})]}):S.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(ew,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No workspaces yet. Add one to manage users and licenses."}),a.jsxs(O,{onClick:()=>n(!0),children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Add workspace"]})]}):a.jsx(St,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:S.map(te=>a.jsxs("li",{className:Z("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium truncate",children:te.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[te.active_users_count," active users"]})]}),a.jsx(Qe,{variant:DTe[te.status],className:"shrink-0 ml-2",children:te.status}),a.jsxs(ci,{children:[a.jsx(ui,{asChild:!0,children:a.jsxs(O,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 ml-2",children:[a.jsx(Ii,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ks,{align:"end",children:[a.jsxs(zt,{onClick:()=>{i(te),n(!0)},children:[a.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(zt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this workspace? This will remove members and licenses.")&&P.mutate(te.id)},children:[a.jsx(bn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},te.id))})})})]})}),a.jsx(Tt,{value:"users",className:"space-y-4 mt-4",children:a.jsxs(re,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(oe,{className:"text-lg",children:"User Management"}),a.jsxs(O,{size:"sm",onClick:()=>{u(null),f(S[0]??null),l(!0)},disabled:S.length===0,children:[a.jsx(VE,{className:"mr-1 h-4 w-4"}),"Add user"]})]}),a.jsx(ne,{children:N?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ve,{className:"h-12 w-full rounded-lg"}),a.jsx(ve,{className:"h-12 w-full rounded-lg"})]}):_.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(tw,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No users assigned to workspaces. Add a workspace first, then add users."}),a.jsxs(O,{onClick:()=>{f(S[0]??null),l(!0)},disabled:S.length===0,children:[a.jsx(VE,{className:"mr-2 h-4 w-4"}),"Add user"]})]}):a.jsx(St,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:_.map(te=>{var se;return a.jsxs("li",{className:Z("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-mono text-sm truncate",children:te.user_id}),a.jsx("p",{className:"text-xs text-muted-foreground",children:((se=G[te.workspace_id])==null?void 0:se.name)??te.workspace_id})]}),a.jsx(Qe,{variant:LTe[te.role],className:"shrink-0 ml-2",children:te.role}),a.jsxs(ci,{children:[a.jsx(ui,{asChild:!0,children:a.jsxs(O,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 ml-2",children:[a.jsx(Ii,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ks,{align:"end",children:[a.jsxs(zt,{onClick:()=>{u(te),f(null),l(!0)},children:[a.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Edit role"]}),a.jsxs(zt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this user from the workspace?")&&z.mutate({id:te.id,workspaceId:te.workspace_id})},children:[a.jsx(bn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},te.id)})})})})]})}),a.jsx(Tt,{value:"licenses",className:"space-y-4 mt-4",children:a.jsxs(re,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(oe,{className:"text-lg",children:"License Management"}),a.jsxs(O,{size:"sm",onClick:()=>{p(null),m(!0)},children:[a.jsx(Wt,{className:"mr-1 h-4 w-4"}),"Allocate license"]})]}),a.jsx(ne,{children:C?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ve,{className:"h-12 w-full rounded-lg"}),a.jsx(ve,{className:"h-12 w-full rounded-lg"})]}):k.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Lh,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No licenses allocated. Allocate a license to a workspace or user."}),a.jsxs(O,{onClick:()=>m(!0),children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Allocate license"]})]}):a.jsx(St,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:k.map(te=>{var se;return a.jsxs("li",{className:Z("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:FTe[te.license_type]??te.license_type}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[((se=G[te.workspace_id])==null?void 0:se.name)??te.workspace_id,te.user_id?`  ${te.user_id.slice(0,8)}`:""]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[te.expiry_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",lu(bf(te.expiry_date),"MMM d, yyyy")]}),a.jsxs(ci,{children:[a.jsx(ui,{asChild:!0,children:a.jsxs(O,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(Ii,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ks,{align:"end",children:[a.jsxs(zt,{onClick:()=>{p(te),m(!0)},children:[a.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(zt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this license allocation?")&&$.mutate(te.id)},children:[a.jsx(bn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]},te.id)})})})})]})}),a.jsxs(Tt,{value:"analytics",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"flex flex-row items-center justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Sessions, run success rates, skill installs. Filter by workspace and date range."}),a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>x(!0),children:[a.jsx(Cj,{className:"mr-1 h-4 w-4"}),"Filter"]})]}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active sessions",value:T.filter(te=>te.metric_type==="active_sessions").reduce((te,se)=>te+Number(se.value),0),icon:tw},{title:"Run success rate",value:T.filter(te=>te.metric_type==="run_success_rate").reduce((te,se)=>te+Number(se.value),0)||"",icon:Bf},{title:"Skill installs",value:T.filter(te=>te.metric_type==="skill_installs").reduce((te,se)=>te+Number(se.value),0),icon:ew},{title:"Data points",value:T.length,icon:Bf}].map(({title:te,value:se,icon:Ie})=>a.jsxs(re,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-lg hover:scale-[1.02]",children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:te}),a.jsx(Ie,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ne,{children:a.jsx("div",{className:"text-2xl font-bold",children:se})})]},te))}),a.jsxs(re,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Metrics over time"}),a.jsx(we,{children:"Aggregated metrics by date. Use Filter to change workspace or date range."})]}),a.jsx(ne,{children:I?a.jsx(ve,{className:"h-[280px] w-full rounded-lg"}):X.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Bf,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No metrics in this period. Data is populated when runs and sessions are recorded."}),a.jsxs(O,{variant:"outline",onClick:()=>x(!0),children:[a.jsx(Cj,{className:"mr-2 h-4 w-4"}),"Change filter"]})]}):a.jsx(S_,{width:"100%",height:280,children:a.jsxs(n6,{data:X,children:[a.jsx(by,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(hc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(mc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(vs,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"},formatter:te=>[te,"Value"],labelFormatter:te=>lu(bf(te),"MMM d, yyyy")}),a.jsx(Ka,{type:"monotone",dataKey:"value",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Value"})]})})})]}),X.length>0&&a.jsxs(re,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Metric breakdown (bar)"}),a.jsx(we,{children:"Daily values for the selected period."})]}),a.jsx(ne,{children:a.jsx(S_,{width:"100%",height:240,children:a.jsxs(oPe,{data:X,children:[a.jsx(by,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(hc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(mc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(vs,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelFormatter:te=>lu(bf(te),"MMM d, yyyy")}),a.jsx(Sc,{dataKey:"value",fill:"rgb(var(--accent))",radius:[4,4,0,0],name:"Value"})]})})})]})]})]}),a.jsx(OTe,{open:r,onOpenChange:n,onSubmit:ce,isSubmitting:E.isPending||U.isPending,workspace:s}),a.jsx(ATe,{open:o,onOpenChange:l,onSubmit:pe,isSubmitting:B.isPending||R.isPending,workspace:c?G[c.workspace_id]??null:d,member:c}),a.jsx(RTe,{open:h,onOpenChange:m,onSubmit:We,isSubmitting:D.isPending||M.isPending,workspaces:S,license:g}),a.jsx(ITe,{open:v,onOpenChange:x,onApply:w,workspaces:S,currentValues:y})]})}function BTe(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"About / Help"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(PS,{className:"h-5 w-5"}),"Quick start"]}),a.jsx(we,{children:"Get started with Clawgate."})]}),a.jsxs(ne,{children:[a.jsxs("ol",{className:"list-decimal space-y-2 pl-4 text-sm text-muted-foreground",children:[a.jsx("li",{children:"Install and start the gateway."}),a.jsx("li",{children:"Open Control UI and add a channel."}),a.jsx("li",{children:"Message your agent from chat."})]}),a.jsx(O,{variant:"outline",size:"sm",className:"mt-4",asChild:!0,children:a.jsx(he,{to:"/",children:"Landing"})})]})]}),a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(zI,{className:"h-5 w-5"}),"Docs"]}),a.jsx(we,{children:"Documentation links."})]}),a.jsx(ne,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Documentation (external link placeholder)."})})]}),a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsxs(oe,{className:"flex items-center gap-2",children:[a.jsx(Hu,{className:"h-5 w-5"}),"Support"]}),a.jsx(we,{children:"Contact support with context."})]}),a.jsx(ne,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Support form with context autofill."})})]})]})]})}const gb={getPrivacySettings:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)return null;const{data:t,error:r}=await q.from("privacy_policy_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t??null},updatePrivacySettings:async e=>{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,...e},{data:n,error:s}=await q.from("privacy_policy_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},ensurePrivacySettings:async()=>{const{data:{user:e}}=await q.auth.getUser();if(!e)throw new Error("Not authenticated");const t=await gb.getPrivacySettings();if(t)return t;const r={user_id:e.id},{data:n,error:s}=await q.from("privacy_policy_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},getCurrentPolicyDocument:async(e="privacy")=>{const{data:t,error:r}=await q.from("policy_documents").select("*").eq("document_type",e).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(r)throw new Error(r.message);return t??null}},Om={all:["privacy"],settings:()=>[...Om.all,"settings"],policyDocument:e=>[...Om.all,"policy",e]};function d6(e,t){return e().catch(()=>t)}function qTe(){return Te({queryKey:Om.settings(),queryFn:()=>d6(gb.getPrivacySettings,null)})}function zTe(){const e=be();return xe({mutationFn:t=>gb.updatePrivacySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:Om.settings()}),W.success("Privacy preferences updated")},onError:t=>{W.error(t.message||"Failed to update privacy preferences")}})}function WTe(e="privacy"){return Te({queryKey:Om.policyDocument(e),queryFn:()=>d6(()=>gb.getCurrentPolicyDocument(e),null)})}function VTe({open:e,onOpenChange:t,telemetryOptOut:r,onConfirm:n,isUpdating:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{"aria-describedby":"preferences-modal-description",children:[a.jsxs(Fe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Un,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Ue,{children:"Confirm privacy preference"})]}),a.jsx(Be,{id:"preferences-modal-description",children:r?a.jsx(a.Fragment,{children:"You are opting out of telemetry and optional usage data collection. We will not send diagnostic or usage data from this account. This preference will be saved and can be changed anytime in Settings or on this page."}):a.jsx(a.Fragment,{children:"You are opting in to optional telemetry. We may collect anonymous usage and diagnostic data to improve the product. No personal data is shared. You can opt out anytime in Settings or on this page."})})]}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(O,{onClick:i,disabled:s,className:"transition-transform hover:scale-[1.02]",children:s?"Saving":"Save preference"})]})]})})}function KTe({open:e,onOpenChange:t,onDownload:r,onOpenInNewTab:n,title:s="Download Privacy Policy",description:i="Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."}){const o=()=>{r(),t(!1)},l=()=>{n==null||n(),t(!1)};return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{"aria-describedby":"download-confirmation-description",children:[a.jsxs(Fe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Ue,{children:s})]}),a.jsx(Be,{id:"download-confirmation-description",children:i})]}),a.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[a.jsx(O,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n&&a.jsx(O,{variant:"outline",onClick:l,className:"transition-transform hover:scale-[1.02]",children:"Open in new tab"}),a.jsxs(O,{onClick:o,className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(As,{className:"h-4 w-4","aria-hidden":!0}),"Download"]})]})]})})}const wR=[{id:"intro",title:"Introduction",content:"Clawgate is a local-first, chat-native personal agent platform. This policy explains how we handle your data when you use the Control UI and optional cloud-linked features. We are committed to transparency and putting you in control."},{id:"data-collection",title:"Data collection",content:"When you use local-only mode, data stays on your devices. We do not collect or transmit personal data from your gateway. If you link a cloud account, we store only what is necessary to provide that service (e.g. profile, session tokens). Optional telemetryanonymous usage and diagnostic datamay be collected only if you have not opted out. We do not sell your data."},{id:"storage",title:"Storage and local-first",content:"Session transcripts, skill definitions, cron jobs, and node pairings are stored locally by default. Cloud-backed features (e.g. sync, backup) store only what you explicitly enable. Credentials and long-lived tokens are stored in your system keychain or an encrypted fallback when available."},{id:"retention",title:"Retention",content:"Local data is retained according to your settings (e.g. log retention, media caps). Cloud-stored data is retained only as long as your account is active and in line with our terms. You can request deletion of cloud data at any time."},{id:"third-party",title:"Third-party services and APIs",content:"Channel adapters (e.g. Telegram, Slack) and model providers (e.g. OpenAI, Anthropic) process data according to their policies when you use those integrations. We pass only the minimum data required. We recommend reviewing each providers privacy policy."}];function HTe({id:e,title:t,content:r,defaultOpen:n=!1}){const[s,i]=b.useState(n);return a.jsxs("details",{id:e,open:s,onToggle:o=>i(o.target.open),className:"group border-b border-border last:border-b-0",children:[a.jsxs("summary",{className:"flex cursor-pointer list-none items-center gap-2 py-4 text-left font-medium text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-md px-1 -mx-1",children:[s?a.jsx($d,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}):a.jsx(is,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{children:t})]}),a.jsx("div",{className:"prose prose-invert prose-sm max-w-none pb-4 pl-6 text-muted-foreground",children:a.jsx("p",{className:"m-0 leading-relaxed",children:r})})]})}function GTe(){const{data:e,isLoading:t}=qTe(),r=zTe(),{data:n}=WTe("privacy"),[s,i]=b.useState(!1),[o,l]=b.useState(null),[c,u]=b.useState(!1),d=(e==null?void 0:e.telemetry_opt_out)??!1,f=b.useCallback(x=>{l(x),i(!0)},[]),h=b.useCallback(()=>{o!==null&&r.mutate({telemetry_opt_out:o},{onSuccess:()=>l(null)})},[o,r]),m=(n==null?void 0:n.content)??wR.map(x=>`${x.title}

${x.content}`).join(`

`),g=n!=null&&n.content?[{id:"policy",title:"Full policy",content:n.content}]:wR,p=b.useCallback(()=>{const x=new Blob([m],{type:"text/plain;charset=utf-8"}),y=URL.createObjectURL(x),w=document.createElement("a");w.href=y,w.download="privacy-policy.txt",w.click(),URL.revokeObjectURL(y)},[m]),v=b.useCallback(()=>{const x=new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Privacy Policy - Clawgate</title><style>body{font-family:Inter,sans-serif;max-width:720px;margin:2rem auto;padding:0 1rem;line-height:1.6;color:#e2e8f0;} h1{font-size:1.75rem;} h2{font-size:1.25rem;margin-top:1.5rem;} p{white-space:pre-wrap;}</style></head><body><h1>Privacy Policy</h1><p>${m.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}</p></body></html>`],{type:"text/html;charset=utf-8"}),y=URL.createObjectURL(x);window.open(y,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(y),5e3)},[m]);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8 sm:px-6 animate-fade-in-up",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-[28px] font-semibold leading-tight text-foreground",children:"Privacy Policy"}),a.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"How we collect, store, and use your data. Clawgate is local-first; your data stays on your devices unless you use cloud-linked features."})]}),a.jsxs(re,{className:"mb-8",children:[a.jsxs(ie,{children:[a.jsx(oe,{className:"text-lg",children:"Policy sections"}),a.jsx(we,{children:"Expand each section for details on data collection, storage, retention, and third-party services."})]}),a.jsx(ne,{className:"px-0 sm:px-6",children:a.jsx("div",{className:"divide-y-0",children:g.map((x,y)=>a.jsx(HTe,{id:x.id,title:x.title,content:x.content,defaultOpen:y===0},x.id))})})]}),a.jsxs(re,{className:"mb-8",children:[a.jsxs(ie,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Un,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(oe,{className:"text-lg",children:"Opt-out controls"})]}),a.jsx(we,{children:"Manage your data collection preferences. Changes are saved to your account and reflected in Settings."})]}),a.jsxs(ne,{children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Y,{htmlFor:"telemetry-opt-out",className:"text-sm font-medium text-foreground",children:"Opt out of telemetry"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"When on, we do not send anonymous usage or diagnostic data from your account."})]}),a.jsx(en,{id:"telemetry-opt-out",checked:d,onCheckedChange:f,disabled:t,"aria-describedby":"telemetry-opt-out-description"})]}),t&&a.jsx("p",{id:"telemetry-opt-out-description",className:"mt-2 text-xs text-muted-foreground",children:"Loading preferences"})]})]}),a.jsxs(re,{className:"mb-8",children:[a.jsxs(ie,{children:[a.jsx(oe,{className:"text-lg",children:"Download policy"}),a.jsx(we,{children:"Save a copy for your records or open in a new tab to print or save as PDF."})]}),a.jsx(ne,{children:a.jsxs(O,{variant:"outline",onClick:()=>u(!0),className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(As,{className:"h-4 w-4","aria-hidden":!0}),"Download Privacy Policy"]})})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx(O,{variant:"outline",asChild:!0,children:a.jsx(he,{to:"/",children:"Back to home"})}),a.jsxs("nav",{className:"flex flex-wrap gap-6",children:[a.jsx(he,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms of Service"}),a.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Help & support"})]})]})})]}),a.jsx(VTe,{open:s,onOpenChange:i,telemetryOptOut:o??d,onConfirm:h,isUpdating:r.isPending}),a.jsx(KTe,{open:c,onOpenChange:u,onDownload:p,onOpenInNewTab:v,title:"Download Privacy Policy",description:"Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."})]})}function YTe(){return a.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 animate-fade-in-up py-8",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Terms of Service"}),a.jsxs(re,{children:[a.jsx(ie,{children:a.jsx(oe,{children:"Terms of Service"})}),a.jsx(ne,{className:"prose prose-invert max-w-none text-sm text-muted-foreground",children:a.jsx("p",{children:"Full terms text. Accept/decline controls for cloud features. Document download."})})]}),a.jsx(O,{variant:"outline",asChild:!0,children:a.jsx(he,{to:"/",children:"Back"})})]})}async function QTe(e){var s;let t=q.from("marketplace_skills").select("*").order("created_at",{ascending:!1});if((e==null?void 0:e.status)!==void 0?t=t.eq("status",e.status):t=t.eq("status","active"),e!=null&&e.category&&(t=t.eq("category",e.category)),(s=e==null?void 0:e.search)!=null&&s.trim()){const i=e.search.trim();t=t.or(`name.ilike.%${i}%,description.ilike.%${i}%`)}const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]}async function XTe(e){const{data:t,error:r}=await q.from("marketplace_skills").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t}async function JTe(){const{data:{user:e}}=await q.auth.getUser();if(!e)return[];const{data:t,error:r}=await q.from("marketplace_transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function ZTe(){const{data:{user:e}}=await q.auth.getUser();if(!e)return[];const{data:t,error:r}=await q.from("marketplace_licenses").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function eRe(e){return _e.post("/marketplace/checkout-session",e)}async function tRe(e){await _e.post("/marketplace/subscription/cancel",{subscription_id:e})}async function rRe(e,t){const{data:r,error:n}=await q.from("marketplace_licenses").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}function Fk(e,t){return e().catch(()=>t)}const ai={all:["marketplace"],skills:e=>[...ai.all,"skills",e],skill:e=>[...ai.all,"skill",e],transactions:()=>[...ai.all,"transactions"],licenses:()=>[...ai.all,"licenses"]};function f6(e){return Te({queryKey:ai.skills(e),queryFn:()=>Fk(()=>QTe(e),[])})}function nRe(e){return Te({queryKey:ai.skill(e??""),queryFn:()=>e?XTe(e):Promise.resolve(null),enabled:!!e})}function sRe(){return Te({queryKey:ai.transactions(),queryFn:()=>Fk(()=>JTe(),[])})}function h6(){return Te({queryKey:ai.licenses(),queryFn:()=>Fk(()=>ZTe(),[])})}function m6(){return xe({mutationFn:eRe,onSuccess:e=>{e!=null&&e.url?window.location.href=e.url:W.success("Checkout session created")},onError:e=>{W.error(e.message||"Failed to start checkout")}})}function iRe(){const e=be();return xe({mutationFn:tRe,onSuccess:()=>{e.invalidateQueries({queryKey:ai.transactions()}),e.invalidateQueries({queryKey:ai.licenses()}),W.success("Subscription cancelled")},onError:t=>{W.error(t.message||"Failed to cancel subscription")}})}function aRe(){const e=be();return xe({mutationFn:({id:t,data:r})=>rRe(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:ai.licenses()}),W.success("License updated")},onError:t=>{W.error(t.message||"Failed to update license")}})}function jR(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function oRe({open:e,onOpenChange:t,skill:r,mode:n,onConfirm:s,isSubmitting:i=!1}){if(!r)return null;const o=n==="subscription"?`${jR(r.price,r.currency)} / month`:jR(r.price,r.currency);return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Confirm purchase"}),a.jsx(Be,{children:"You are about to purchase this skill. You will be redirected to secure checkout."})]}),a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsx("p",{className:"font-medium text-foreground",children:r.name}),r.description&&a.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:r.description}),a.jsx("p",{className:"mt-2 text-sm font-medium text-primary",children:o}),n==="subscription"&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Subscription; you can cancel anytime from your account."})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsxs(O,{onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(fn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(JI,{className:"mr-2 h-4 w-4"}),i?"Redirecting":"Continue to checkout"]})]})]})})}function p6({open:e,onOpenChange:t,title:r="Payment failed",message:n="Something went wrong while processing your payment. Please try again or use a different payment method.",onRetry:s}){return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"sm:max-w-[440px]",children:[a.jsxs(Fe,{children:[a.jsxs(Ue,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(La,{className:"h-5 w-5"}),r]}),a.jsx(Be,{children:n})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>t(!1),children:"Close"}),s&&a.jsx(O,{onClick:s,className:"transition-transform hover:scale-[1.02]",children:"Try again"})]})]})})}function _R(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function lRe({skill:e,hasLicense:t,onPurchase:r}){const n=e.is_subscription?`${_R(e.price,e.currency)} / mo`:_R(e.price,e.currency);return a.jsx(re,{className:Z("overflow-hidden transition-all duration-200 hover:shadow-card-hover hover:scale-[1.01]","border-border bg-card"),children:a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.image_url?a.jsx("div",{className:"h-32 w-full shrink-0 bg-secondary sm:h-auto sm:w-40",children:a.jsx("img",{src:e.image_url,alt:"",className:"h-full w-full object-cover"})}):a.jsx("div",{className:"flex h-32 w-full shrink-0 items-center justify-center bg-secondary/80 sm:h-auto sm:w-40",children:a.jsx(yH,{className:"h-10 w-10 text-muted-foreground"})}),a.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx(oe,{className:"text-lg",children:e.name}),e.category&&a.jsx(Qe,{variant:"secondary",className:"mt-1",children:e.category})]}),a.jsx("span",{className:"font-medium text-primary",children:n})]}),e.description&&a.jsx(we,{className:"mt-2 line-clamp-2",children:e.description}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t?a.jsx(Qe,{variant:"success",children:"Owned"}):a.jsxs(a.Fragment,{children:[a.jsxs(O,{size:"sm",onClick:()=>r(e,"one_time"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Zy,{className:"mr-1.5 h-4 w-4"}),"Purchase"]}),e.is_subscription&&a.jsxs(O,{size:"sm",variant:"outline",onClick:()=>r(e,"subscription"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(TS,{className:"mr-1.5 h-4 w-4"}),"Subscribe"]})]})})]})]})})}function cRe(){const[e,t]=b.useState(""),[r,n]=b.useState(),[s,i]=b.useState(null),[o,l]=b.useState("one_time"),[c,u]=b.useState(!1),{data:d=[],isLoading:f}=f6({search:e.trim()||void 0,category:r}),{data:h=[]}=h6(),m=m6(),g=new Set(h.filter(y=>y.activation_status==="active").map(y=>y.skill_id)),p=(y,w)=>{i(y),l(w)},v=()=>{s&&m.mutate({skill_id:s.id,mode:o,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace`},{onError:()=>u(!0)})},x=Array.from(new Set(d.map(y=>y.category).filter(Boolean)));return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Marketplace"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse and purchase premium skills. One-time or subscription."})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(O,{variant:"outline",asChild:!0,children:a.jsxs(he,{to:"/marketplace/licenses",children:[a.jsx(Ej,{className:"mr-2 h-4 w-4"}),"My licenses"]})})})]}),a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Browse skills"}),a.jsx(we,{children:"Search and filter by category. Click Purchase or Subscribe to checkout."})]}),a.jsxs(ne,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(LS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ye,{placeholder:"Search skills...",value:e,onChange:y=>t(y.target.value),className:"pl-9"})]}),a.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:r??"",onChange:y=>n(y.target.value?y.target.value:void 0),children:[a.jsx("option",{value:"",children:"All categories"}),x.map(y=>a.jsx("option",{value:y,children:y},y))]})]}),f?a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:[1,2,3].map(y=>a.jsx(ve,{className:"h-32 rounded-lg"},y))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Zy,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No skills found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Try a different search or category, or check back later for new listings."})]}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:d.map(y=>a.jsx(lRe,{skill:y,hasLicense:g.has(y.id),onPurchase:p},y.id))})]})]}),a.jsx(oRe,{open:!!s,onOpenChange:y=>!y&&i(null),skill:s,mode:o,onConfirm:v,isSubmitting:m.isPending}),a.jsx(p6,{open:c,onOpenChange:u,onRetry:()=>{u(!1),s&&v()}})]})}const uRe=xt({email:Ne().email("Invalid email"),accept_terms:Ua().refine(e=>e===!0,{message:"You must accept the terms to continue"})});function SR(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function dRe({skill:e,mode:t,onSubmit:r,isSubmitting:n=!1,defaultEmail:s=""}){const{register:i,handleSubmit:o,formState:{errors:l}}=vt({resolver:yt(uRe),defaultValues:{email:s,accept_terms:!1}});if(!e)return a.jsx(re,{children:a.jsx(ne,{className:"pt-6",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to checkout."})})});const c=t==="subscription"?`${SR(e.price,e.currency)} / month`:SR(e.price,e.currency);return a.jsxs("form",{onSubmit:o(r),className:"space-y-6",children:[a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Order summary"}),a.jsx(we,{children:"Review your selection before payment."})]}),a.jsxs(ne,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:e.name}),a.jsx("span",{className:"font-medium",children:c})]}),t==="subscription"&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be charged each billing period until you cancel."})]})]}),a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Contact"}),a.jsx(we,{children:"Receipt and updates will be sent to this email."})]}),a.jsxs(ne,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"checkout-email",children:"Email"}),a.jsx(ye,{id:"checkout-email",type:"email",placeholder:"you@example.com",className:"transition-colors focus-visible:ring-[rgb(var(--primary))]",...i("email")}),l.email&&a.jsx("p",{className:"text-sm text-destructive",children:l.email.message})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"checkout-terms",className:"h-4 w-4 rounded border-input focus:ring-[rgb(var(--primary))]",...i("accept_terms")}),a.jsxs(Y,{htmlFor:"checkout-terms",className:"text-sm font-normal",children:["I accept the"," ",a.jsx("a",{href:"/terms",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"/privacy",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]})]}),l.accept_terms&&a.jsx("p",{className:"text-sm text-destructive",children:l.accept_terms.message})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be redirected to our secure payment provider to complete the transaction. Your payment details are never stored on our servers."}),a.jsxs(O,{type:"submit",className:"w-full transition-transform hover:scale-[1.02]",disabled:n,children:[n?a.jsx(fn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(JI,{className:"mr-2 h-4 w-4"}),n?"Redirecting to checkout":"Proceed to payment"]})]})}function fRe(){const[e]=oI(),t=e.get("skillId")??"",r=e.get("mode")||"one_time",[n,s]=b.useState(!1),{data:i,isLoading:o}=nRe(t),l=m6(),c=u=>{t&&l.mutate({skill_id:t,mode:r,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace/checkout?skillId=${t}&mode=${r}`},{onError:()=>s(!0)})};return t?o?a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(ve,{className:"h-8 w-48"}),a.jsx(ve,{className:"h-64 w-full"})]}):a.jsxs("div",{className:"mx-auto max-w-2xl space-y-6 animate-fade-in-up",children:[a.jsx(O,{variant:"ghost",asChild:!0,children:a.jsxs(he,{to:"/marketplace",children:[a.jsx(Ku,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Checkout"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete your purchase. You will be redirected to secure payment."})]}),a.jsx(dRe,{skill:i??null,mode:r,onSubmit:c,isSubmitting:l.isPending}),a.jsx(p6,{open:n,onOpenChange:s,onRetry:()=>s(!1)})]}):a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(O,{variant:"ghost",asChild:!0,children:a.jsxs(he,{to:"/marketplace",children:[a.jsx(Ku,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsx(re,{children:a.jsxs(ne,{className:"pt-6",children:[a.jsx("p",{className:"text-muted-foreground",children:"Select a skill from the marketplace to checkout."}),a.jsx(O,{asChild:!0,className:"mt-4",children:a.jsx(he,{to:"/marketplace",children:"Browse Marketplace"})})]})})]})}function hRe({open:e,onOpenChange:t,subscription:r,skillName:n="Skill",onCancelSubscription:s,isSubmitting:i=!1}){if(!r)return null;const o=r.status==="completed"&&r.stripe_subscription_id;return a.jsx(ze,{open:e,onOpenChange:t,children:a.jsxs(Le,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Manage subscription"}),a.jsxs(Be,{children:["View and manage your subscription for ",n,"."]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx(Qe,{variant:r.status==="completed"?"success":"secondary",children:r.status})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Amount"}),a.jsx("span",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:r.currency.toUpperCase()}).format(r.amount)})]}),r.created_at&&a.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Started"}),a.jsx("span",{children:new Date(r.created_at).toLocaleDateString()})]})]}),o&&a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(TS,{className:"h-4 w-4"}),"Renewal and payment methods are managed in the checkout provider."]})]}),a.jsxs(Ve,{children:[a.jsx(O,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Close"}),o&&a.jsxs(O,{variant:"destructive",onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(fn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(La,{className:"mr-2 h-4 w-4"}),i?"Cancelling":"Cancel subscription"]})]})]})})}function mRe(){var m;const[e,t]=b.useState(null),{data:r=[],isLoading:n}=h6(),{data:s=[]}=f6(),{data:i=[]}=sRe(),o=aRe(),l=iRe(),c=new Map(s.map(g=>[g.id,g])),u=new Map(i.map(g=>[g.id,g])),d=g=>{const p=g.activation_status==="active"?"inactive":"active";o.mutate({id:g.id,data:{activation_status:p}})},f=g=>{t(g)},h=g=>g.transaction_id?u.get(g.transaction_id):i.find(p=>p.skill_id===g.skill_id&&p.stripe_subscription_id&&p.status==="completed");return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"My licenses"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your purchased skill licenses and subscriptions."})]}),a.jsx(O,{variant:"outline",asChild:!0,children:a.jsxs(he,{to:"/marketplace",children:[a.jsx(Ej,{className:"mr-2 h-4 w-4"}),"Browse Marketplace"]})})]}),a.jsxs(re,{children:[a.jsxs(ie,{children:[a.jsx(oe,{children:"Licenses"}),a.jsx(we,{children:"Activate or deactivate licenses. Manage subscriptions from the action below."})]}),a.jsx(ne,{children:n?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(g=>a.jsx(ve,{className:"h-16 w-full rounded-lg"},g))}):r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Ej,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No licenses yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Purchase a skill from the marketplace to see your licenses here."}),a.jsx(O,{asChild:!0,className:"mt-4",children:a.jsx(he,{to:"/marketplace",children:"Go to Marketplace"})})]}):a.jsx("ul",{className:"space-y-3",children:r.map(g=>{const p=c.get(g.skill_id),v=h(g),x=g.activation_status==="active";return a.jsxs("li",{className:Z("flex flex-wrap items-center justify-between gap-4 rounded-lg border border-border p-4 transition-colors hover:bg-secondary/30",!x&&"opacity-75"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:(p==null?void 0:p.name)??"Unknown skill"}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[a.jsx(Qe,{variant:g.activation_status==="active"?"success":g.activation_status==="expired"?"destructive":"secondary",children:g.activation_status}),g.expiration_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",new Date(g.expiration_date).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(v==null?void 0:v.stripe_subscription_id)&&a.jsxs(O,{variant:"outline",size:"sm",onClick:()=>f(v),children:[a.jsx(TS,{className:"mr-1.5 h-4 w-4"}),"Manage subscription"]}),g.activation_status!=="expired"&&a.jsx(O,{variant:"outline",size:"sm",onClick:()=>d(g),disabled:o.isPending,children:x?a.jsxs(a.Fragment,{children:[a.jsx(jH,{className:"mr-1.5 h-4 w-4"}),"Deactivate"]}):a.jsxs(a.Fragment,{children:[a.jsx(wH,{className:"mr-1.5 h-4 w-4"}),"Activate"]})})]})]},g.id)})})})]}),a.jsx(hRe,{open:!!e,onOpenChange:g=>!g&&t(null),subscription:e,skillName:e?(m=c.get(e.skill_id))==null?void 0:m.name:void 0,onCancelSubscription:()=>{e!=null&&e.stripe_subscription_id&&l.mutate(e.stripe_subscription_id,{onSettled:()=>t(null)})},isSubmitting:l.isPending})]})}async function pRe(e,t,r){try{const{data:{user:n}}=await q.auth.getUser(),s={error_code:"404",url_attempted:e,user_id:(n==null?void 0:n.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null)};await q.from("error_logs").insert(s)}catch{}}async function gRe(e,t,r,n){try{const{data:{user:s}}=await q.auth.getUser(),i={error_code:"500",url_attempted:e,user_id:(s==null?void 0:s.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null),metadata:n??{}};await q.from("error_logs").insert(i)}catch{}}function NR(){const e=Vi(),t=e.pathname+e.search;b.useEffect(()=>{pRe(t,typeof document<"u"&&document.referrer||null,typeof navigator<"u"?navigator.userAgent:null)},[t]);const r=()=>{window.location.reload()};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(he,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-4",children:[a.jsx(he,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(O,{asChild:!0,size:"sm",children:a.jsx(he,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:Z("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-muted/50",children:a.jsx(zI,{className:"h-12 w-12 text-muted-foreground","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"Oops! Page Not Found"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."}),t!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Attempted: ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:t})]})]}),a.jsx(re,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(ne,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(O,{onClick:r,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(Id,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(O,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(he,{to:"/",children:[a.jsx(VI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsx(O,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(he,{to:"/dashboard",children:[a.jsx($S,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsxs(he,{to:"/help",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(Vr,{className:"h-4 w-4"}),"Docs & support"]}),a.jsx("span",{className:"mx-2 text-muted-foreground/60",children:""}),a.jsx(he,{to:"/logs",className:"inline-flex items-center text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Logs & tracing"})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(he,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(he,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]})}async function vRe(e){var i;const{data:{user:t}}=await q.auth.getUser(),r={user_id:(t==null?void 0:t.id)??null,error_type:e.error_type.trim(),description:e.description.trim(),contact_email:((i=e.contact_email)==null?void 0:i.trim())||null,context:e.context??{}},{data:n,error:s}=await q.from("user_reports").insert(r).select("id").single();if(s)throw new Error(s.message);return{id:n.id}}const yRe=xt({description:Ne().min(10,"Please provide at least 10 characters describing what happened").max(2e3,"Description must be 2000 characters or less"),contact_email:Ne().max(255).optional().refine(e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),"Enter a valid email address"),comments:Ne().max(1e3).optional()}),n0={description:"",contact_email:"",comments:""};function xRe({open:e,onOpenChange:t,onSubmit:r,errorType:n="500",errorContext:s}){const{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=vt({resolver:yt(yRe),defaultValues:n0}),d=async h=>{var m,g;await r({error_type:n,description:h.description.trim(),contact_email:((m=h.contact_email)==null?void 0:m.trim())||null,context:{...s,comments:((g=h.comments)==null?void 0:g.trim())||void 0}}),l(n0),t(!1)},f=h=>{h||l(n0),t(h)};return a.jsx(ze,{open:e,onOpenChange:f,children:a.jsxs(Le,{className:"max-w-lg","aria-describedby":"report-issue-form-description",children:[a.jsxs(Fe,{children:[a.jsx(Ue,{children:"Report an issue"}),a.jsx(Be,{id:"report-issue-form-description",children:"Describe what happened so we can investigate. Your report helps us improve reliability."})]}),a.jsxs("form",{onSubmit:o(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"report-description",children:"What happened?"}),a.jsx("textarea",{id:"report-description",rows:4,placeholder:"e.g. I was on the dashboard and clicked Save; the page showed an error.",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("description"),"aria-invalid":!!c.description}),c.description&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.description.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"report-contact",children:"Contact email (optional)"}),a.jsx(ye,{id:"report-contact",type:"email",placeholder:"you@example.com",...i("contact_email"),className:c.contact_email?"border-destructive":"",autoComplete:"email","aria-invalid":!!c.contact_email}),c.contact_email&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.contact_email.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"report-comments",children:"Additional details (optional)"}),a.jsx("textarea",{id:"report-comments",rows:2,placeholder:"Any other context that might help",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("comments")})]}),a.jsxs(Ve,{children:[a.jsx(O,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:u,children:"Cancel"}),a.jsx(O,{type:"submit",disabled:u,children:u?"Sending":"Send report"})]})]})]})})}function bRe(){const e=Vi(),[t,r]=b.useState(!1),n=e.pathname+e.search,s=typeof document<"u"&&document.referrer||null,i=typeof navigator<"u"?navigator.userAgent:null;b.useEffect(()=>{gRe(n,s,i,{path:n,referrer:s??void 0})},[n,s,i]);const o=()=>{window.location.reload()},l=async c=>{await vRe(c),W.success("Report sent",{description:"Thank you. Well use this to improve reliability."})};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(he,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex gap-4",children:[a.jsx(he,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(O,{asChild:!0,size:"sm",children:a.jsx(he,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:Z("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(vc,{className:"h-12 w-12 text-destructive","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"500 Server Error"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"Something went wrong on our side. Weve been notified and are looking into it. You can retry, go back home, or report more details below."}),n!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Page:"," ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:n})]})]}),a.jsx(re,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(ne,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(O,{onClick:o,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(Id,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(O,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(he,{to:"/",children:[a.jsx(VI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsxs(O,{variant:"default",onClick:()=>r(!0),className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Report this issue to support",children:[a.jsx(qm,{className:"mr-2 h-4 w-4"}),"Report issue"]}),a.jsx(O,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(he,{to:"/dashboard",children:[a.jsx($S,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Logs & security"}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-1 text-sm",children:[a.jsxs(he,{to:"/logs",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(Vr,{className:"h-4 w-4"}),"Logs & tracing"]}),a.jsxs(he,{to:"/security",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(Un,{className:"h-4 w-4"}),"Security audit"]})]})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(he,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(he,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})}),a.jsx(xRe,{open:t,onOpenChange:r,onSubmit:l,errorType:"500",errorContext:{url:n,referrer:s??void 0}})]})}const wRe=new _W({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});function jRe(){return a.jsxs(SW,{client:wRe,children:[a.jsx(Hz,{children:a.jsx(XK,{children:a.jsx(tY,{children:a.jsxs(Lz,{children:[a.jsx(dt,{path:"/",element:a.jsx(YJ,{})}),a.jsx(dt,{path:"/login",element:a.jsx(nee,{})}),a.jsx(dt,{path:"/signup",element:a.jsx(iee,{})}),a.jsx(dt,{path:"/forgot-password",element:a.jsx(uee,{})}),a.jsx(dt,{path:"/verify-email",element:a.jsx(fee,{})}),a.jsx(dt,{path:"/download",element:a.jsx(dre,{})}),a.jsx(dt,{path:"/privacy",element:a.jsx(GTe,{})}),a.jsx(dt,{path:"/terms",element:a.jsx(YTe,{})}),a.jsx(dt,{path:"/500",element:a.jsx(bRe,{})}),a.jsxs(dt,{element:a.jsx(qJ,{}),children:[a.jsx(dt,{path:"/dashboard",element:a.jsx(bne,{})}),a.jsx(dt,{path:"/profile",element:a.jsx(JK,{}),children:a.jsx(dt,{index:!0,element:a.jsx(ure,{})})}),a.jsx(dt,{path:"/chat",element:a.jsx(Zne,{})}),a.jsx(dt,{path:"/channels",element:a.jsx(gse,{})}),a.jsx(dt,{path:"/skills",element:a.jsx(vse,{})}),a.jsx(dt,{path:"/skill-editor/:skillId?",element:a.jsx(Tse,{})}),a.jsx(dt,{path:"/marketplace",element:a.jsx(cRe,{})}),a.jsx(dt,{path:"/marketplace/checkout",element:a.jsx(fRe,{})}),a.jsx(dt,{path:"/marketplace/licenses",element:a.jsx(mRe,{})}),a.jsx(dt,{path:"/nodes",element:a.jsx(eie,{})}),a.jsx(dt,{path:"/cron",element:a.jsx(sie,{})}),a.jsx(dt,{path:"/webhooks",element:a.jsx(jie,{})}),a.jsx(dt,{path:"/model-providers",element:a.jsx(_Pe,{})}),a.jsx(dt,{path:"/browser",element:a.jsx(tAe,{})}),a.jsx(dt,{path:"/voice",element:a.jsx(SAe,{})}),a.jsx(dt,{path:"/secrets",element:a.jsx(LAe,{})}),a.jsx(dt,{path:"/settings",element:a.jsx(NAe,{})}),a.jsx(dt,{path:"/security",element:a.jsx(rTe,{})}),a.jsx(dt,{path:"/logs",element:a.jsx(mTe,{})}),a.jsx(dt,{path:"/admin",element:a.jsx(UTe,{})}),a.jsx(dt,{path:"/help",element:a.jsx(BTe,{})})]}),a.jsx(dt,{path:"/404",element:a.jsx(NR,{})}),a.jsx(dt,{path:"*",element:a.jsx(NR,{})})]})})})}),a.jsx(lV,{position:"top-right",richColors:!0,closeButton:!0})]})}const g6=document.getElementById("root");if(!g6)throw new Error("Root element not found");s0.createRoot(g6).render(a.jsx(A.StrictMode,{children:a.jsx(jRe,{})}));
